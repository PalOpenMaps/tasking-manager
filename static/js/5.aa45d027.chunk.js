(this["webpackJsonpTaskingManager-frontend"]=this["webpackJsonpTaskingManager-frontend"]||[]).push([[5],{645:function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;(()=>{var gb=Object.create,R6=Object.defineProperty,vb=Object.getOwnPropertyDescriptor,yb=Object.getOwnPropertyNames,bb=Object.getPrototypeOf,xb=Object.prototype.hasOwnProperty,Me=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),L6=(e,t)=>{for(var n in t)R6(e,n,{get:t[n],enumerable:!0})},wb=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of yb(t))!xb.call(e,i)&&i!==n&&R6(e,i,{get:()=>t[i],enumerable:!(r=vb(t,i))||r.enumerable});return e},je=(e,t,n)=>(n=null!=e?gb(bb(e)):{},wb(!t&&e&&e.__esModule?n:R6(n,"default",{value:e,enumerable:!0}),e)),f3=Me(e=>{e.remove=function(e){return e.replace(/[^\u0000-\u007e]/g,(function(e){return a[e]||e}))};var t,n,r,i=[{base:" ",chars:"\xa0"},{base:"0",chars:"\u07c0"},{base:"A",chars:"\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",chars:"\ua732"},{base:"AE",chars:"\xc6\u01fc\u01e2"},{base:"AO",chars:"\ua734"},{base:"AU",chars:"\ua736"},{base:"AV",chars:"\ua738\ua73a"},{base:"AY",chars:"\ua73c"},{base:"B",chars:"\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0181"},{base:"C",chars:"\u24b8\uff23\ua73e\u1e08\u0106C\u0108\u010a\u010c\xc7\u0187\u023b"},{base:"D",chars:"\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018a\u0189\u1d05\ua779"},{base:"Dh",chars:"\xd0"},{base:"DZ",chars:"\u01f1\u01c4"},{base:"Dz",chars:"\u01f2\u01c5"},{base:"E",chars:"\u025b\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e\u1d07"},{base:"F",chars:"\ua77c\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",chars:"\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e\u0262"},{base:"H",chars:"\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",chars:"\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",chars:"\u24bf\uff2a\u0134\u0248\u0237"},{base:"K",chars:"\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",chars:"\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",chars:"\u01c7"},{base:"Lj",chars:"\u01c8"},{base:"M",chars:"\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c\u03fb"},{base:"N",chars:"\ua7a4\u0220\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u019d\ua790\u1d0e"},{base:"NJ",chars:"\u01ca"},{base:"Nj",chars:"\u01cb"},{base:"O",chars:"\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OE",chars:"\u0152"},{base:"OI",chars:"\u01a2"},{base:"OO",chars:"\ua74e"},{base:"OU",chars:"\u0222"},{base:"P",chars:"\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",chars:"\u24c6\uff31\ua756\ua758\u024a"},{base:"R",chars:"\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",chars:"\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",chars:"\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"Th",chars:"\xde"},{base:"TZ",chars:"\ua728"},{base:"U",chars:"\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",chars:"\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",chars:"\ua760"},{base:"W",chars:"\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",chars:"\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",chars:"\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",chars:"\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",chars:"\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250\u0251"},{base:"aa",chars:"\ua733"},{base:"ae",chars:"\xe6\u01fd\u01e3"},{base:"ao",chars:"\ua735"},{base:"au",chars:"\ua737"},{base:"av",chars:"\ua739\ua73b"},{base:"ay",chars:"\ua73d"},{base:"b",chars:"\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253\u0182"},{base:"c",chars:"\uff43\u24d2\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",chars:"\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\u018b\u13e7\u0501\ua7aa"},{base:"dh",chars:"\xf0"},{base:"dz",chars:"\u01f3\u01c6"},{base:"e",chars:"\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u01dd"},{base:"f",chars:"\u24d5\uff46\u1e1f\u0192"},{base:"ff",chars:"\ufb00"},{base:"fi",chars:"\ufb01"},{base:"fl",chars:"\ufb02"},{base:"ffi",chars:"\ufb03"},{base:"ffl",chars:"\ufb04"},{base:"g",chars:"\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\ua77f\u1d79"},{base:"h",chars:"\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",chars:"\u0195"},{base:"i",chars:"\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",chars:"\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",chars:"\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",chars:"\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747\u026d"},{base:"lj",chars:"\u01c9"},{base:"m",chars:"\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",chars:"\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5\u043b\u0509"},{base:"nj",chars:"\u01cc"},{base:"o",chars:"\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\ua74b\ua74d\u0275\u0254\u1d11"},{base:"oe",chars:"\u0153"},{base:"oi",chars:"\u01a3"},{base:"oo",chars:"\ua74f"},{base:"ou",chars:"\u0223"},{base:"p",chars:"\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755\u03c1"},{base:"q",chars:"\u24e0\uff51\u024b\ua757\ua759"},{base:"r",chars:"\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",chars:"\u24e2\uff53\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b\u0282"},{base:"ss",chars:"\xdf"},{base:"t",chars:"\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"th",chars:"\xfe"},{base:"tz",chars:"\ua729"},{base:"u",chars:"\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",chars:"\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",chars:"\ua761"},{base:"w",chars:"\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",chars:"\u24e7\uff58\u1e8b\u1e8d"},{base:"y",chars:"\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",chars:"\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],a={};for(r=0;r<i.length;r+=1)for(t=i[r].chars,n=0;n<t.length;n+=1)a[t[n]]=i[r].base;e.replacementList=i,e.diacriticsMap=a}),Ma=Me(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=[[1536,1791],[1872,1919],[2208,2303],[64336,65023],[65136,65279],[69216,69247],[126064,126143],[126464,126719]];e.isArabic=function(e){if(e.length>1)throw new Error("isArabic works on only one-character strings");let n=e.charCodeAt(0);for(let r=0;r<t.length;r++){let e=t[r];if(n>=e[0]&&n<=e[1])return!0}return!1},e.isMath=function(e){if(e.length>2)throw new Error("isMath works on only one-character strings");let t=e.charCodeAt(0);return t>=1632&&t<=1644||t>=1776&&t<=1785}}),Hs=Me(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={alef:{normal:["\u0627"],madda_above:{normal:["\u0627\u0653","\u0622"],isolated:"\ufe81",final:"\ufe82"},hamza_above:{normal:["\u0627\u0654","\u0623"],isolated:"\ufe83",final:"\ufe84"},hamza_below:{normal:["\u0627\u0655","\u0625"],isolated:"\ufe87",final:"\ufe88"},wasla:{normal:"\u0671",isolated:"\ufb50",final:"\ufb51"},wavy_hamza_above:["\u0672"],wavy_hamza_below:["\u0627\u065f","\u0673"],high_hamza:["\u0675","\u0627\u0674"],indic_two_above:["\u0773"],indic_three_above:["\u0774"],fathatan:{normal:["\u0627\u064b"],final:"\ufd3c",isolated:"\ufd3d"},isolated:"\ufe8d",final:"\ufe8e"},beh:{normal:["\u0628"],dotless:["\u066e"],three_dots_horizontally_below:["\u0750"],dot_below_three_dots_above:["\u0751"],three_dots_pointing_upwards_below:["\u0752"],three_dots_pointing_upwards_below_two_dots_above:["\u0753"],two_dots_below_dot_above:["\u0754"],inverted_small_v_below:["\u0755"],small_v:["\u0756"],small_v_below:["\u08a0"],hamza_above:["\u08a1"],small_meem_above:["\u08b6"],isolated:"\ufe8f",final:"\ufe90",initial:"\ufe91",medial:"\ufe92"},"teh marbuta":{normal:["\u0629"],isolated:"\ufe93",final:"\ufe94"},teh:{normal:["\u062a"],ring:["\u067c"],three_dots_above_downwards:["\u067d"],small_teh_above:["\u08b8"],isolated:"\ufe95",final:"\ufe96",initial:"\ufe97",medial:"\ufe98"},theh:{normal:["\u062b"],isolated:"\ufe99",final:"\ufe9a",initial:"\ufe9b",medial:"\ufe9c"},jeem:{normal:["\u062c"],two_dots_above:["\u08a2"],isolated:"\ufe9d",final:"\ufe9e",initial:"\ufe9f",medial:"\ufea0"},hah:{normal:["\u062d"],hamza_above:["\u0681"],two_dots_vertical_above:["\u0682"],three_dots_above:["\u0685"],two_dots_above:["\u0757"],three_dots_pointing_upwards_below:["\u0758"],small_tah_below:["\u076e"],small_tah_two_dots:["\u076f"],small_tah_above:["\u0772"],indic_four_below:["\u077c"],isolated:"\ufea1",final:"\ufea2",initial:"\ufea3",medial:"\ufea4"},khah:{normal:["\u062e"],isolated:"\ufea5",final:"\ufea6",initial:"\ufea7",medial:"\ufea8"},dal:{normal:["\u062f"],ring:["\u0689"],dot_below:["\u068a"],dot_below_small_tah:["\u068b"],three_dots_above_downwards:["\u068f"],four_dots_above:["\u0690"],inverted_v:["\u06ee"],two_dots_vertically_below_small_tah:["\u0759"],inverted_small_v_below:["\u075a"],three_dots_below:["\u08ae"],isolated:"\ufea9",final:"\ufeaa"},thal:{normal:["\u0630"],isolated:"\ufeab",final:"\ufeac"},reh:{normal:["\u0631"],small_v:["\u0692"],ring:["\u0693"],dot_below:["\u0694"],small_v_below:["\u0695"],dot_below_dot_above:["\u0696"],two_dots_above:["\u0697"],four_dots_above:["\u0699"],inverted_v:["\u06ef"],stroke:["\u075b"],two_dots_vertically_above:["\u076b"],hamza_above:["\u076c"],small_tah_two_dots:["\u0771"],loop:["\u08aa"],small_noon_above:["\u08b9"],isolated:"\ufead",final:"\ufeae"},zain:{normal:["\u0632"],inverted_v_above:["\u08b2"],isolated:"\ufeaf",final:"\ufeb0"},seen:{normal:["\u0633"],dot_below_dot_above:["\u069a"],three_dots_below:["\u069b"],three_dots_below_three_dots_above:["\u069c"],four_dots_above:["\u075c"],two_dots_vertically_above:["\u076d"],small_tah_two_dots:["\u0770"],indic_four_above:["\u077d"],inverted_v:["\u077e"],isolated:"\ufeb1",final:"\ufeb2",initial:"\ufeb3",medial:"\ufeb4"},sheen:{normal:["\u0634"],dot_below:["\u06fa"],isolated:"\ufeb5",final:"\ufeb6",initial:"\ufeb7",medial:"\ufeb8"},sad:{normal:["\u0635"],two_dots_below:["\u069d"],three_dots_above:["\u069e"],three_dots_below:["\u08af"],isolated:"\ufeb9",final:"\ufeba",initial:"\ufebb",medial:"\ufebc"},dad:{normal:["\u0636"],dot_below:["\u06fb"],isolated:"\ufebd",final:"\ufebe",initial:"\ufebf",medial:"\ufec0"},tah:{normal:["\u0637"],three_dots_above:["\u069f"],two_dots_above:["\u08a3"],isolated:"\ufec1",final:"\ufec2",initial:"\ufec3",medial:"\ufec4"},zah:{normal:["\u0638"],isolated:"\ufec5",final:"\ufec6",initial:"\ufec7",medial:"\ufec8"},ain:{normal:["\u0639"],three_dots_above:["\u06a0"],two_dots_above:["\u075d"],three_dots_pointing_downwards_above:["\u075e"],two_dots_vertically_above:["\u075f"],three_dots_below:["\u08b3"],isolated:"\ufec9",final:"\ufeca",initial:"\ufecb",medial:"\ufecc"},ghain:{normal:["\u063a"],dot_below:["\u06fc"],isolated:"\ufecd",final:"\ufece",initial:"\ufecf",medial:"\ufed0"},feh:{normal:["\u0641"],dotless:["\u06a1"],dot_moved_below:["\u06a2"],dot_below:["\u06a3"],three_dots_below:["\u06a5"],two_dots_below:["\u0760"],three_dots_pointing_upwards_below:["\u0761"],dot_below_three_dots_above:["\u08a4"],isolated:"\ufed1",final:"\ufed2",initial:"\ufed3",medial:"\ufed4"},qaf:{normal:["\u0642"],dotless:["\u066f"],dot_above:["\u06a7"],three_dots_above:["\u06a8"],dot_below:["\u08a5"],isolated:"\ufed5",final:"\ufed6",initial:"\ufed7",medial:"\ufed8"},kaf:{normal:["\u0643"],swash:["\u06aa"],ring:["\u06ab"],dot_above:["\u06ac"],three_dots_below:["\u06ae"],two_dots_above:["\u077f"],dot_below:["\u08b4"],isolated:"\ufed9",final:"\ufeda",initial:"\ufedb",medial:"\ufedc"},lam:{normal:["\u0644"],small_v:["\u06b5"],dot_above:["\u06b6"],three_dots_above:["\u06b7"],three_dots_below:["\u06b8"],bar:["\u076a"],double_bar:["\u08a6"],isolated:"\ufedd",final:"\ufede",initial:"\ufedf",medial:"\ufee0"},meem:{normal:["\u0645"],dot_above:["\u0765"],dot_below:["\u0766"],three_dots_above:["\u08a7"],isolated:"\ufee1",final:"\ufee2",initial:"\ufee3",medial:"\ufee4"},noon:{normal:["\u0646"],dot_below:["\u06b9"],ring:["\u06bc"],three_dots_above:["\u06bd"],two_dots_below:["\u0767"],small_tah:["\u0768"],small_v:["\u0769"],isolated:"\ufee5",final:"\ufee6",initial:"\ufee7",medial:"\ufee8"},heh:{normal:["\u0647"],isolated:"\ufee9",final:"\ufeea",initial:"\ufeeb",medial:"\ufeec"},waw:{normal:["\u0648"],hamza_above:{normal:["\u0624","\u0648\u0654"],isolated:"\ufe85",final:"\ufe86"},high_hamza:["\u0676","\u0648\u0674"],ring:["\u06c4"],two_dots_above:["\u06ca"],dot_above:["\u06cf"],indic_two_above:["\u0778"],indic_three_above:["\u0779"],dot_within:["\u08ab"],isolated:"\ufeed",final:"\ufeee"},alef_maksura:{normal:["\u0649"],hamza_above:["\u0626","\u064a\u0654"],initial:"\ufbe8",medial:"\ufbe9",isolated:"\ufeef",final:"\ufef0"},yeh:{normal:["\u064a"],hamza_above:{normal:["\u0626","\u0649\u0654"],isolated:"\ufe89",final:"\ufe8a",initial:"\ufe8b",medial:"\ufe8c"},two_dots_below_hamza_above:["\u08a8"],high_hamza:["\u0678","\u064a\u0674"],tail:["\u06cd"],small_v:["\u06ce"],three_dots_below:["\u06d1"],two_dots_below_dot_above:["\u08a9"],two_dots_below_small_noon_above:["\u08ba"],isolated:"\ufef1",final:"\ufef2",initial:"\ufef3",medial:"\ufef4"},tteh:{normal:["\u0679"],isolated:"\ufb66",final:"\ufb67",initial:"\ufb68",medial:"\ufb69"},tteheh:{normal:["\u067a"],isolated:"\ufb5e",final:"\ufb5f",initial:"\ufb60",medial:"\ufb61"},beeh:{normal:["\u067b"],isolated:"\ufb52",final:"\ufb53",initial:"\ufb54",medial:"\ufb55"},peh:{normal:["\u067e"],small_meem_above:["\u08b7"],isolated:"\ufb56",final:"\ufb57",initial:"\ufb58",medial:"\ufb59"},teheh:{normal:["\u067f"],isolated:"\ufb62",final:"\ufb63",initial:"\ufb64",medial:"\ufb65"},beheh:{normal:["\u0680"],isolated:"\ufb5a",final:"\ufb5b",initial:"\ufb5c",medial:"\ufb5d"},nyeh:{normal:["\u0683"],isolated:"\ufb76",final:"\ufb77",initial:"\ufb78",medial:"\ufb79"},dyeh:{normal:["\u0684"],isolated:"\ufb72",final:"\ufb73",initial:"\ufb74",medial:"\ufb75"},tcheh:{normal:["\u0686"],dot_above:["\u06bf"],isolated:"\ufb7a",final:"\ufb7b",initial:"\ufb7c",medial:"\ufb7d"},tcheheh:{normal:["\u0687"],isolated:"\ufb7e",final:"\ufb7f",initial:"\ufb80",medial:"\ufb81"},ddal:{normal:["\u0688"],isolated:"\ufb88",final:"\ufb89"},dahal:{normal:["\u068c"],isolated:"\ufb84",final:"\ufb85"},ddahal:{normal:["\u068d"],isolated:"\ufb82",final:"\ufb83"},dul:{normal:["\u068f","\u068e"],isolated:"\ufb86",final:"\ufb87"},rreh:{normal:["\u0691"],isolated:"\ufb8c",final:"\ufb8d"},jeh:{normal:["\u0698"],isolated:"\ufb8a",final:"\ufb8b"},veh:{normal:["\u06a4"],isolated:"\ufb6a",final:"\ufb6b",initial:"\ufb6c",medial:"\ufb6d"},peheh:{normal:["\u06a6"],isolated:"\ufb6e",final:"\ufb6f",initial:"\ufb70",medial:"\ufb71"},keheh:{normal:["\u06a9"],dot_above:["\u0762"],three_dots_above:["\u0763"],three_dots_pointing_upwards_below:["\u0764"],isolated:"\ufb8e",final:"\ufb8f",initial:"\ufb90",medial:"\ufb91"},ng:{normal:["\u06ad"],isolated:"\ufbd3",final:"\ufbd4",initial:"\ufbd5",medial:"\ufbd6"},gaf:{normal:["\u06af"],ring:["\u06b0"],two_dots_below:["\u06b2"],three_dots_above:["\u06b4"],inverted_stroke:["\u08b0"],isolated:"\ufb92",final:"\ufb93",initial:"\ufb94",medial:"\ufb95"},ngoeh:{normal:["\u06b1"],isolated:"\ufb9a",final:"\ufb9b",initial:"\ufb9c",medial:"\ufb9d"},gueh:{normal:["\u06b3"],isolated:"\ufb96",final:"\ufb97",initial:"\ufb98",medial:"\ufb99"},"noon ghunna":{normal:["\u06ba"],isolated:"\ufb9e",final:"\ufb9f"},rnoon:{normal:["\u06bb"],isolated:"\ufba0",final:"\ufba1",initial:"\ufba2",medial:"\ufba3"},"heh doachashmee":{normal:["\u06be"],isolated:"\ufbaa",final:"\ufbab",initial:"\ufbac",medial:"\ufbad"},"heh goal":{normal:["\u06c1"],hamza_above:["\u06c1\u0654","\u06c2"],isolated:"\ufba6",final:"\ufba7",initial:"\ufba8",medial:"\ufba9"},"teh marbuta goal":{normal:["\u06c3"]},"kirghiz oe":{normal:["\u06c5"],isolated:"\ufbe0",final:"\ufbe1"},oe:{normal:["\u06c6"],isolated:"\ufbd9",final:"\ufbda"},u:{normal:["\u06c7"],hamza_above:{normal:["\u0677","\u06c7\u0674"],isolated:"\ufbdd"},isolated:"\ufbd7",final:"\ufbd8"},yu:{normal:["\u06c8"],isolated:"\ufbdb",final:"\ufbdc"},"kirghiz yu":{normal:["\u06c9"],isolated:"\ufbe2",final:"\ufbe3"},ve:{normal:["\u06cb"],isolated:"\ufbde",final:"\ufbdf"},"farsi yeh":{normal:["\u06cc"],indic_two_above:["\u0775"],indic_three_above:["\u0776"],indic_four_above:["\u0777"],isolated:"\ufbfc",final:"\ufbfd",initial:"\ufbfe",medial:"\ufbff"},e:{normal:["\u06d0"],isolated:"\ufbe4",final:"\ufbe5",initial:"\ufbe6",medial:"\ufbe7"},"yeh barree":{normal:["\u06d2"],hamza_above:{normal:["\u06d2\u0654","\u06d3"],isolated:"\ufbb0",final:"\ufbb1"},indic_two_above:["\u077a"],indic_three_above:["\u077b"],isolated:"\ufbae",final:"\ufbaf"},ae:{normal:["\u06d5"],isolated:"\u06d5",final:"\ufeea",yeh_above:{normal:["\u06c0","\u06d5\u0654"],isolated:"\ufba4",final:"\ufba5"}},"rohingya yeh":{normal:["\u08ac"]},"low alef":{normal:["\u08ad"]},"straight waw":{normal:["\u08b1"]},"african feh":{normal:["\u08bb"]},"african qaf":{normal:["\u08bc"]},"african noon":{normal:["\u08bd"]}}}),p3=Me(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={"\u0626\u0627":{isolated:"\ufbea",final:"\ufbeb"},"\u0626\u06d5":{isolated:"\ufbec",final:"\ufbed"},"\u0626\u0648":{isolated:"\ufbee",final:"\ufbef"},"\u0626\u06c7":{isolated:"\ufbf0",final:"\ufbf1"},"\u0626\u06c6":{isolated:"\ufbf2",final:"\ufbf3"},"\u0626\u06c8":{isolated:"\ufbf4",final:"\ufbf5"},"\u0626\u06d0":{isolated:"\ufbf6",final:"\ufbf7",initial:"\ufbf8"},"\u0626\u0649":{uighur_kirghiz:{isolated:"\ufbf9",final:"\ufbfa",initial:"\ufbfb"},isolated:"\ufc03",final:"\ufc68"},"\u0626\u062c":{isolated:"\ufc00",initial:"\ufc97"},"\u0626\u062d":{isolated:"\ufc01",initial:"\ufc98"},"\u0626\u0645":{isolated:"\ufc02",final:"\ufc66",initial:"\ufc9a",medial:"\ufcdf"},"\u0626\u064a":{isolated:"\ufc04",final:"\ufc69"},"\u0628\u062c":{isolated:"\ufc05",initial:"\ufc9c"},"\u0628\u062d":{isolated:"\ufc06",initial:"\ufc9d"},"\u0628\u062e":{isolated:"\ufc07",initial:"\ufc9e"},"\u0628\u0645":{isolated:"\ufc08",final:"\ufc6c",initial:"\ufc9f",medial:"\ufce1"},"\u0628\u0649":{isolated:"\ufc09",final:"\ufc6e"},"\u0628\u064a":{isolated:"\ufc0a",final:"\ufc6f"},"\u062a\u062c":{isolated:"\ufc0b",initial:"\ufca1"},"\u062a\u062d":{isolated:"\ufc0c",initial:"\ufca2"},"\u062a\u062e":{isolated:"\ufc0d",initial:"\ufca3"},"\u062a\u0645":{isolated:"\ufc0e",final:"\ufc72",initial:"\ufca4",medial:"\ufce3"},"\u062a\u0649":{isolated:"\ufc0f",final:"\ufc74"},"\u062a\u064a":{isolated:"\ufc10",final:"\ufc75"},"\u062b\u062c":{isolated:"\ufc11"},"\u062b\u0645":{isolated:"\ufc12",final:"\ufc78",initial:"\ufca6",medial:"\ufce5"},"\u062b\u0649":{isolated:"\ufc13",final:"\ufc7a"},"\u062b\u0648":{isolated:"\ufc14"},"\u062c\u062d":{isolated:"\ufc15",initial:"\ufca7"},"\u062c\u0645":{isolated:"\ufc16",initial:"\ufca8"},"\u062d\u062c":{isolated:"\ufc17",initial:"\ufca9"},"\u062d\u0645":{isolated:"\ufc18",initial:"\ufcaa"},"\u062e\u062c":{isolated:"\ufc19",initial:"\ufcab"},"\u062e\u062d":{isolated:"\ufc1a"},"\u062e\u0645":{isolated:"\ufc1b",initial:"\ufcac"},"\u0633\u062c":{isolated:"\ufc1c",initial:"\ufcad",medial:"\ufd34"},"\u0633\u062d":{isolated:"\ufc1d",initial:"\ufcae",medial:"\ufd35"},"\u0633\u062e":{isolated:"\ufc1e",initial:"\ufcaf",medial:"\ufd36"},"\u0633\u0645":{isolated:"\ufc1f",initial:"\ufcb0",medial:"\ufce7"},"\u0635\u062d":{isolated:"\ufc20",initial:"\ufcb1"},"\u0635\u0645":{isolated:"\ufc21",initial:"\ufcb3"},"\u0636\u062c":{isolated:"\ufc22",initial:"\ufcb4"},"\u0636\u062d":{isolated:"\ufc23",initial:"\ufcb5"},"\u0636\u062e":{isolated:"\ufc24",initial:"\ufcb6"},"\u0636\u0645":{isolated:"\ufc25",initial:"\ufcb7"},"\u0637\u062d":{isolated:"\ufc26",initial:"\ufcb8"},"\u0637\u0645":{isolated:"\ufc27",initial:"\ufd33",medial:"\ufd3a"},"\u0638\u0645":{isolated:"\ufc28",initial:"\ufcb9",medial:"\ufd3b"},"\u0639\u062c":{isolated:"\ufc29",initial:"\ufcba"},"\u0639\u0645":{isolated:"\ufc2a",initial:"\ufcbb"},"\u063a\u062c":{isolated:"\ufc2b",initial:"\ufcbc"},"\u063a\u0645":{isolated:"\ufc2c",initial:"\ufcbd"},"\u0641\u062c":{isolated:"\ufc2d",initial:"\ufcbe"},"\u0641\u062d":{isolated:"\ufc2e",initial:"\ufcbf"},"\u0641\u062e":{isolated:"\ufc2f",initial:"\ufcc0"},"\u0641\u0645":{isolated:"\ufc30",initial:"\ufcc1"},"\u0641\u0649":{isolated:"\ufc31",final:"\ufc7c"},"\u0641\u064a":{isolated:"\ufc32",final:"\ufc7d"},"\u0642\u062d":{isolated:"\ufc33",initial:"\ufcc2"},"\u0642\u0645":{isolated:"\ufc34",initial:"\ufcc3"},"\u0642\u0649":{isolated:"\ufc35",final:"\ufc7e"},"\u0642\u064a":{isolated:"\ufc36",final:"\ufc7f"},"\u0643\u0627":{isolated:"\ufc37",final:"\ufc80"},"\u0643\u062c":{isolated:"\ufc38",initial:"\ufcc4"},"\u0643\u062d":{isolated:"\ufc39",initial:"\ufcc5"},"\u0643\u062e":{isolated:"\ufc3a",initial:"\ufcc6"},"\u0643\u0644":{isolated:"\ufc3b",final:"\ufc81",initial:"\ufcc7",medial:"\ufceb"},"\u0643\u0645":{isolated:"\ufc3c",final:"\ufc82",initial:"\ufcc8",medial:"\ufcec"},"\u0643\u0649":{isolated:"\ufc3d",final:"\ufc83"},"\u0643\u064a":{isolated:"\ufc3e",final:"\ufc84"},"\u0644\u062c":{isolated:"\ufc3f",initial:"\ufcc9"},"\u0644\u062d":{isolated:"\ufc40",initial:"\ufcca"},"\u0644\u062e":{isolated:"\ufc41",initial:"\ufccb"},"\u0644\u0645":{isolated:"\ufc42",final:"\ufc85",initial:"\ufccc",medial:"\ufced"},"\u0644\u0649":{isolated:"\ufc43",final:"\ufc86"},"\u0644\u064a":{isolated:"\ufc44",final:"\ufc87"},"\u0645\u062c":{isolated:"\ufc45",initial:"\ufcce"},"\u0645\u062d":{isolated:"\ufc46",initial:"\ufccf"},"\u0645\u062e":{isolated:"\ufc47",initial:"\ufcd0"},"\u0645\u0645":{isolated:"\ufc48",final:"\ufc89",initial:"\ufcd1"},"\u0645\u0649":{isolated:"\ufc49"},"\u0645\u064a":{isolated:"\ufc4a"},"\u0646\u062c":{isolated:"\ufc4b",initial:"\ufcd2"},"\u0646\u062d":{isolated:"\ufc4c",initial:"\ufcd3"},"\u0646\u062e":{isolated:"\ufc4d",initial:"\ufcd4"},"\u0646\u0645":{isolated:"\ufc4e",final:"\ufc8c",initial:"\ufcd5",medial:"\ufcee"},"\u0646\u0649":{isolated:"\ufc4f",final:"\ufc8e"},"\u0646\u064a":{isolated:"\ufc50",final:"\ufc8f"},"\u0647\u062c":{isolated:"\ufc51",initial:"\ufcd7"},"\u0647\u0645":{isolated:"\ufc52",initial:"\ufcd8"},"\u0647\u0649":{isolated:"\ufc53"},"\u0647\u064a":{isolated:"\ufc54"},"\u064a\u062c":{isolated:"\ufc55",initial:"\ufcda"},"\u064a\u062d":{isolated:"\ufc56",initial:"\ufcdb"},"\u064a\u062e":{isolated:"\ufc57",initial:"\ufcdc"},"\u064a\u0645":{isolated:"\ufc58",final:"\ufc93",initial:"\ufcdd",medial:"\ufcf0"},"\u064a\u0649":{isolated:"\ufc59",final:"\ufc95"},"\u064a\u064a":{isolated:"\ufc5a",final:"\ufc96"},"\u0630\u0670":{isolated:"\ufc5b"},"\u0631\u0670":{isolated:"\ufc5c"},"\u0649\u0670":{isolated:"\ufc5d",final:"\ufc90"},"\u064c\u0651":{isolated:"\ufc5e"},"\u064d\u0651":{isolated:"\ufc5f"},"\u064e\u0651":{isolated:"\ufc60"},"\u064f\u0651":{isolated:"\ufc61"},"\u0650\u0651":{isolated:"\ufc62"},"\u0651\u0670":{isolated:"\ufc63"},"\u0626\u0631":{final:"\ufc64"},"\u0626\u0632":{final:"\ufc65"},"\u0626\u0646":{final:"\ufc67"},"\u0628\u0631":{final:"\ufc6a"},"\u0628\u0632":{final:"\ufc6b"},"\u0628\u0646":{final:"\ufc6d"},"\u062a\u0631":{final:"\ufc70"},"\u062a\u0632":{final:"\ufc71"},"\u062a\u0646":{final:"\ufc73"},"\u062b\u0631":{final:"\ufc76"},"\u062b\u0632":{final:"\ufc77"},"\u062b\u0646":{final:"\ufc79"},"\u062b\u064a":{final:"\ufc7b"},"\u0645\u0627":{final:"\ufc88"},"\u0646\u0631":{final:"\ufc8a"},"\u0646\u0632":{final:"\ufc8b"},"\u0646\u0646":{final:"\ufc8d"},"\u064a\u0631":{final:"\ufc91"},"\u064a\u0632":{final:"\ufc92"},"\u064a\u0646":{final:"\ufc94"},"\u0626\u062e":{initial:"\ufc99"},"\u0626\u0647":{initial:"\ufc9b",medial:"\ufce0"},"\u0628\u0647":{initial:"\ufca0",medial:"\ufce2"},"\u062a\u0647":{initial:"\ufca5",medial:"\ufce4"},"\u0635\u062e":{initial:"\ufcb2"},"\u0644\u0647":{initial:"\ufccd"},"\u0646\u0647":{initial:"\ufcd6",medial:"\ufcef"},"\u0647\u0670":{initial:"\ufcd9"},"\u064a\u0647":{initial:"\ufcde",medial:"\ufcf1"},"\u062b\u0647":{medial:"\ufce6"},"\u0633\u0647":{medial:"\ufce8",initial:"\ufd31"},"\u0634\u0645":{medial:"\ufce9",isolated:"\ufd0c",final:"\ufd28",initial:"\ufd30"},"\u0634\u0647":{medial:"\ufcea",initial:"\ufd32"},"\u0640\u064e\u0651":{medial:"\ufcf2"},"\u0640\u064f\u0651":{medial:"\ufcf3"},"\u0640\u0650\u0651":{medial:"\ufcf4"},"\u0637\u0649":{isolated:"\ufcf5",final:"\ufd11"},"\u0637\u064a":{isolated:"\ufcf6",final:"\ufd12"},"\u0639\u0649":{isolated:"\ufcf7",final:"\ufd13"},"\u0639\u064a":{isolated:"\ufcf8",final:"\ufd14"},"\u063a\u0649":{isolated:"\ufcf9",final:"\ufd15"},"\u063a\u064a":{isolated:"\ufcfa",final:"\ufd16"},"\u0633\u0649":{isolated:"\ufcfb"},"\u0633\u064a":{isolated:"\ufcfc",final:"\ufd18"},"\u0634\u0649":{isolated:"\ufcfd",final:"\ufd19"},"\u0634\u064a":{isolated:"\ufcfe",final:"\ufd1a"},"\u062d\u0649":{isolated:"\ufcff",final:"\ufd1b"},"\u062d\u064a":{isolated:"\ufd00",final:"\ufd1c"},"\u062c\u0649":{isolated:"\ufd01",final:"\ufd1d"},"\u062c\u064a":{isolated:"\ufd02",final:"\ufd1e"},"\u062e\u0649":{isolated:"\ufd03",final:"\ufd1f"},"\u062e\u064a":{isolated:"\ufd04",final:"\ufd20"},"\u0635\u0649":{isolated:"\ufd05",final:"\ufd21"},"\u0635\u064a":{isolated:"\ufd06",final:"\ufd22"},"\u0636\u0649":{isolated:"\ufd07",final:"\ufd23"},"\u0636\u064a":{isolated:"\ufd08",final:"\ufd24"},"\u0634\u062c":{isolated:"\ufd09",final:"\ufd25",initial:"\ufd2d",medial:"\ufd37"},"\u0634\u062d":{isolated:"\ufd0a",final:"\ufd26",initial:"\ufd2e",medial:"\ufd38"},"\u0634\u062e":{isolated:"\ufd0b",final:"\ufd27",initial:"\ufd2f",medial:"\ufd39"},"\u0634\u0631":{isolated:"\ufd0d",final:"\ufd29"},"\u0633\u0631":{isolated:"\ufd0e",final:"\ufd2a"},"\u0635\u0631":{isolated:"\ufd0f",final:"\ufd2b"},"\u0636\u0631":{isolated:"\ufd10",final:"\ufd2c"},"\u0633\u0639":{final:"\ufd17"},"\u062a\u062c\u0645":{initial:"\ufd50"},"\u062a\u062d\u062c":{final:"\ufd51",initial:"\ufd52"},"\u062a\u062d\u0645":{initial:"\ufd53"},"\u062a\u062e\u0645":{initial:"\ufd54"},"\u062a\u0645\u062c":{initial:"\ufd55"},"\u062a\u0645\u062d":{initial:"\ufd56"},"\u062a\u0645\u062e":{initial:"\ufd57"},"\u062c\u0645\u062d":{final:"\ufd58",initial:"\ufd59"},"\u062d\u0645\u064a":{final:"\ufd5a"},"\u062d\u0645\u0649":{final:"\ufd5b"},"\u0633\u062d\u062c":{initial:"\ufd5c"},"\u0633\u062c\u062d":{initial:"\ufd5d"},"\u0633\u062c\u0649":{final:"\ufd5e"},"\u0633\u0645\u062d":{final:"\ufd5f",initial:"\ufd60"},"\u0633\u0645\u062c":{initial:"\ufd61"},"\u0633\u0645\u0645":{final:"\ufd62",initial:"\ufd63"},"\u0635\u062d\u062d":{final:"\ufd64",initial:"\ufd65"},"\u0635\u0645\u0645":{final:"\ufd66",initial:"\ufdc5"},"\u0634\u062d\u0645":{final:"\ufd67",initial:"\ufd68"},"\u0634\u062c\u064a":{final:"\ufd69"},"\u0634\u0645\u062e":{final:"\ufd6a",initial:"\ufd6b"},"\u0634\u0645\u0645":{final:"\ufd6c",initial:"\ufd6d"},"\u0636\u062d\u0649":{final:"\ufd6e"},"\u0636\u062e\u0645":{final:"\ufd6f",initial:"\ufd70"},"\u0636\u0645\u062d":{final:"\ufd71"},"\u0637\u0645\u062d":{initial:"\ufd72"},"\u0637\u0645\u0645":{initial:"\ufd73"},"\u0637\u0645\u064a":{final:"\ufd74"},"\u0639\u062c\u0645":{final:"\ufd75",initial:"\ufdc4"},"\u0639\u0645\u0645":{final:"\ufd76",initial:"\ufd77"},"\u0639\u0645\u0649":{final:"\ufd78"},"\u063a\u0645\u0645":{final:"\ufd79"},"\u063a\u0645\u064a":{final:"\ufd7a"},"\u063a\u0645\u0649":{final:"\ufd7b"},"\u0641\u062e\u0645":{final:"\ufd7c",initial:"\ufd7d"},"\u0642\u0645\u062d":{final:"\ufd7e",initial:"\ufdb4"},"\u0642\u0645\u0645":{final:"\ufd7f"},"\u0644\u062d\u0645":{final:"\ufd80",initial:"\ufdb5"},"\u0644\u062d\u064a":{final:"\ufd81"},"\u0644\u062d\u0649":{final:"\ufd82"},"\u0644\u062c\u062c":{initial:"\ufd83",final:"\ufd84"},"\u0644\u062e\u0645":{final:"\ufd85",initial:"\ufd86"},"\u0644\u0645\u062d":{final:"\ufd87",initial:"\ufd88"},"\u0645\u062d\u062c":{initial:"\ufd89"},"\u0645\u062d\u0645":{initial:"\ufd8a"},"\u0645\u062d\u064a":{final:"\ufd8b"},"\u0645\u062c\u062d":{initial:"\ufd8c"},"\u0645\u062c\u0645":{initial:"\ufd8d"},"\u0645\u062e\u062c":{initial:"\ufd8e"},"\u0645\u062e\u0645":{initial:"\ufd8f"},"\u0645\u062c\u062e":{initial:"\ufd92"},"\u0647\u0645\u062c":{initial:"\ufd93"},"\u0647\u0645\u0645":{initial:"\ufd94"},"\u0646\u062d\u0645":{initial:"\ufd95"},"\u0646\u062d\u0649":{final:"\ufd96"},"\u0646\u062c\u0645":{final:"\ufd97",initial:"\ufd98"},"\u0646\u062c\u0649":{final:"\ufd99"},"\u0646\u0645\u064a":{final:"\ufd9a"},"\u0646\u0645\u0649":{final:"\ufd9b"},"\u064a\u0645\u0645":{final:"\ufd9c",initial:"\ufd9d"},"\u0628\u062e\u064a":{final:"\ufd9e"},"\u062a\u062c\u064a":{final:"\ufd9f"},"\u062a\u062c\u0649":{final:"\ufda0"},"\u062a\u062e\u064a":{final:"\ufda1"},"\u062a\u062e\u0649":{final:"\ufda2"},"\u062a\u0645\u064a":{final:"\ufda3"},"\u062a\u0645\u0649":{final:"\ufda4"},"\u062c\u0645\u064a":{final:"\ufda5"},"\u062c\u062d\u0649":{final:"\ufda6"},"\u062c\u0645\u0649":{final:"\ufda7"},"\u0633\u062e\u0649":{final:"\ufda8"},"\u0635\u062d\u064a":{final:"\ufda9"},"\u0634\u062d\u064a":{final:"\ufdaa"},"\u0636\u062d\u064a":{final:"\ufdab"},"\u0644\u062c\u064a":{final:"\ufdac"},"\u0644\u0645\u064a":{final:"\ufdad"},"\u064a\u062d\u064a":{final:"\ufdae"},"\u064a\u062c\u064a":{final:"\ufdaf"},"\u064a\u0645\u064a":{final:"\ufdb0"},"\u0645\u0645\u064a":{final:"\ufdb1"},"\u0642\u0645\u064a":{final:"\ufdb2"},"\u0646\u062d\u064a":{final:"\ufdb3"},"\u0639\u0645\u064a":{final:"\ufdb6"},"\u0643\u0645\u064a":{final:"\ufdb7"},"\u0646\u062c\u062d":{initial:"\ufdb8",final:"\ufdbd"},"\u0645\u062e\u064a":{final:"\ufdb9"},"\u0644\u062c\u0645":{initial:"\ufdba",final:"\ufdbc"},"\u0643\u0645\u0645":{final:"\ufdbb",initial:"\ufdc3"},"\u062c\u062d\u064a":{final:"\ufdbe"},"\u062d\u062c\u064a":{final:"\ufdbf"},"\u0645\u062c\u064a":{final:"\ufdc0"},"\u0641\u0645\u064a":{final:"\ufdc1"},"\u0628\u062d\u064a":{final:"\ufdc2"},"\u0633\u062e\u064a":{final:"\ufdc6"},"\u0646\u062c\u064a":{final:"\ufdc7"},"\u0644\u0622":{isolated:"\ufef5",final:"\ufef6"},"\u0644\u0623":{isolated:"\ufef7",final:"\ufef8"},"\u0644\u0625":{isolated:"\ufef9",final:"\ufefa"},"\u0644\u0627":{isolated:"\ufefb",final:"\ufefc"},words:{"\u0635\u0644\u06d2":"\ufdf0","\u0642\u0644\u06d2":"\ufdf1","\u0627\u0644\u0644\u0647":"\ufdf2","\u0627\u0643\u0628\u0631":"\ufdf3","\u0645\u062d\u0645\u062f":"\ufdf4","\u0635\u0644\u0639\u0645":"\ufdf5","\u0631\u0633\u0648\u0644":"\ufdf6","\u0639\u0644\u064a\u0647":"\ufdf7","\u0648\u0633\u0644\u0645":"\ufdf8","\u0635\u0644\u0649":"\ufdf9","\u0635\u0644\u0649\u0627\u0644\u0644\u0647\u0639\u0644\u064a\u0647\u0648\u0633\u0644\u0645":"\ufdfa","\u062c\u0644\u062c\u0644\u0627\u0644\u0647":"\ufdfb","\u0631\u06cc\u0627\u0644":"\ufdfc"}}}),go=Me(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Hs(),n=p3(),r=Object.keys(t.default);e.letterList=r;var i=Object.keys(n.default);e.ligatureList=i;var a=Object.keys(n.default.words);e.ligatureWordList=a;e.lams="\u0644\u06b5\u06b6\u06b7\u06b8";e.alefs="\u0627\u0622\u0623\u0625\u0671\u0672\u0673\u0675\u0773\u0774";var o="\u0605\u0640\u0670\u0674\u06df\u06e7\u06e8";function s(t,n){for(var r=t;r<=n;r++)e.tashkeel=o+=String.fromCharCode(r)}e.tashkeel=o,s(1552,1562),s(1611,1631),s(1750,1756),s(1760,1764),s(1770,1773),s(2259,2273),s(2275,2303),s(65136,65151);var l="\u0627\u0629\u0648\u06c0\u06cf\u06fd\u06fe\u076b\u076c\u0771\u0773\u0774\u0778\u0779\u08e2\u08b1\u08b2\u08b9";function c(t,n){for(var r=t;r<=n;r++)e.lineBreakers=l+=String.fromCharCode(r)}e.lineBreakers=l,c(1536,1567),c(1569,1573),c(1583,1586),c(1632,1645),c(1649,1655),c(1672,1689),c(1731,1739),c(1746,1785),c(1881,1883),c(2218,2222),c(64336,65021),c(65152,65276),c(69216,69247),c(126064,126143),c(126464,126719)}),fp=Me(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Ma(),n=go();e.GlyphSplitter=function(e){let r=[],i="";return e.split("").forEach(e=>{t.isArabic(e)&&(n.tashkeel.indexOf(e)>-1||i.length&&(0===n.lams.indexOf(i)&&n.alefs.indexOf(e)>-1||n.lams.indexOf(i)>0&&0===n.alefs.indexOf(e)))?r[r.length-1]+=e:r.push(e),-1===n.tashkeel.indexOf(e)&&(i=e)}),r}}),pp=Me(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Ma(),n=go();e.BaselineSplitter=function(e){let r=[],i="";return e.split("").forEach(e=>{t.isArabic(e)&&t.isArabic(i)?i.length&&n.tashkeel.indexOf(e)>-1?r[r.length-1]+=e:n.lineBreakers.indexOf(i)>-1?r.push(e):r[r.length-1]+=e:r.push(e),-1===n.tashkeel.indexOf(e)&&(i=e)}),r}}),mp=Me(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Hs(),n=p3(),r=Ma(),i=go();e.Normal=function(e,a){typeof a>"u"&&(a=!0);let o="";return e.split("").forEach(e=>{if(r.isArabic(e)){for(let n=0;n<i.letterList.length;n++){let r=t.default[i.letterList[n]],s=Object.keys(r);for(let t=0;t<s.length;t++){let n=r[s[t]];if("object"==typeof n&&typeof n.indexOf>"u"){let t=Object.keys(n);for(let r=0;r<t.length;r++){let i=n[t[r]];if(i===e||"object"==typeof i&&i.indexOf&&i.indexOf(e)>-1){if(i===e)return a&&n.normal&&["isolated","initial","medial","final"].indexOf(t[r])>-1?void("object"==typeof n.normal?o+=n.normal[0]:o+=n.normal):void(o+=e);if("object"==typeof i&&i.indexOf&&i.indexOf(e)>-1)return void(o+=i[0])}}}else{if(n===e)return a&&r.normal&&["isolated","initial","medial","final"].indexOf(s[t])>-1?void("object"==typeof r.normal?o+=r.normal[0]:o+=r.normal):void(o+=e);if("object"==typeof n&&n.indexOf&&n.indexOf(e)>-1)return void(o+=n[0])}}}for(let t=0;t<i.ligatureList.length;t++){let r=i.ligatureList[t];if("words"!==r){let t=Object.keys(n.default[r]);for(let i=0;i<t.length;i++)if(n.default[r][t[i]]===e)return void(o+=r)}}for(let t=0;t<i.ligatureWordList.length;t++){let r=i.ligatureWordList[t];if(n.default.words[r]===e)return void(o+=r)}o+=e}else o+=e}),o}}),Y7=Me(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Hs(),n=Ma(),r=go();e.CharShaper=function(e,i){if(!n.isArabic(e))throw new Error("Not Arabic");if("\u0621"===e)return"\u0621";for(let n=0;n<r.letterList.length;n++){let a=t.default[r.letterList[n]],o=Object.keys(a);for(let t=0;t<o.length;t++){let n=a[o[t]];if(n===e||"object"==typeof n&&n.indexOf&&n.indexOf(e)>-1){if(o.indexOf(i)>-1)return a[i]}else if("object"==typeof n&&typeof n.indexOf>"u"){let t=Object.keys(n);for(let r=0;r<t.length;r++)if((n[t[r]]===e||"object"==typeof n[t[r]]&&n[t[r]].indexOf&&n[t[r]].indexOf(e)>-1)&&t.indexOf(i)>-1)return n[i]}}}}}),vp=Me(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Ma(),n=go(),r=Y7(),i=p3();e.WordShaper=function(e){let a="initial",o="";for(let s=0;s<e.length;s++){let l=" ";for(let r=s+1;r<e.length&&t.isArabic(e[r]);r++)if(-1===n.tashkeel.indexOf(e[r])){l=e[r];break}if(!t.isArabic(e[s])||t.isMath(e[s]))o+=e[s],a="initial";else if(n.tashkeel.indexOf(e[s])>-1)o+=e[s];else if(" "===l||n.lineBreakers.indexOf(e[s])>-1)o+=r.CharShaper(e[s],"initial"===a?"isolated":"final"),a="initial";else if(n.lams.indexOf(e[s])>-1&&n.alefs.indexOf(l)>-1){for(o+=i.default[e[s]+l]["initial"===a?"isolated":"final"];e[s]!==l;)s++;a="initial"}else o+=r.CharShaper(e[s],a),a="medial"}return o}}),xp=Me(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Hs(),n=Ma(),r=go();e.ParentLetter=function(e){if(!n.isArabic(e))throw new Error("Not an Arabic letter");for(let n=0;n<r.letterList.length;n++){let i=t.default[r.letterList[n]],a=Object.keys(i);for(let t=0;t<a.length;t++){let n=i[a[t]];if("object"==typeof n&&typeof n.indexOf>"u"){let t=Object.keys(n);for(let r=0;r<t.length;r++){let i=n[t[r]];if(i===e||"object"==typeof i&&i.indexOf&&i.indexOf(e)>-1)return n}}else if(n===e||"object"==typeof n&&n.indexOf&&n.indexOf(e)>-1)return i}return null}},e.GrandparentLetter=function(e){if(!n.isArabic(e))throw new Error("Not an Arabic letter");for(let n=0;n<r.letterList.length;n++){let i=t.default[r.letterList[n]],a=Object.keys(i);for(let t=0;t<a.length;t++){let n=i[a[t]];if("object"==typeof n&&typeof n.indexOf>"u"){let t=Object.keys(n);for(let r=0;r<t.length;r++){let a=n[t[r]];if(a===e||"object"==typeof a&&a.indexOf&&a.indexOf(e)>-1)return i}}else if(n===e||"object"==typeof n&&n.indexOf&&n.indexOf(e)>-1)return i}return null}}}),_p=Me(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Ma();e.isArabic=t.isArabic;var n=fp();e.GlyphSplitter=n.GlyphSplitter;var r=pp();e.BaselineSplitter=r.BaselineSplitter;var i=mp();e.Normal=i.Normal;var a=Y7();e.CharShaper=a.CharShaper;var o=vp();e.WordShaper=o.WordShaper;var s=xp();e.ParentLetter=s.ParentLetter,e.GrandparentLetter=s.GrandparentLetter}),tu=Me((e,t)=>{!function(e){"use strict";function n(e){var t=e.replace(/[^0-9.]/g,"").match(/[0-9]*\.|[0-9]+/g)||[];return(e={major:+t[0]||0,minor:+t[1]||0,patch:+t[2]||0,build:+t[3]||0}).isEmpty=!e.major&&!e.minor&&!e.patch&&!e.build,e.parsed=[e.major,e.minor,e.patch,e.build],e.text=e.parsed.join("."),e.compare=r,e}function r(e){"string"==typeof e&&(e=n(e));for(var t=0;t<4;t++)if(this.parsed[t]!==e.parsed[t])return this.parsed[t]>e.parsed[t]?1:-1;return 0}"object"==typeof t&&t&&"object"==typeof t.exports?t.exports=n:e.parseVersion=n}(e)}),Cp=Me((e,t)=>{!function(n,r){"object"==typeof e&&typeof t<"u"?t.exports=r():void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof(__WEBPACK_AMD_DEFINE_FACTORY__=r)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(0,(function(){"use strict";function e(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function t(e,t){return e<t?-1:e>t?1:0}return function(n,r,i,a,o){!function t(n,r,i,a,o){for(;a>i;){if(a-i>600){var s=a-i+1,l=r-i+1,c=Math.log(s),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1),p=Math.max(i,Math.floor(r-l*u/s+d)),f=Math.min(a,Math.floor(r+(s-l)*u/s+d));t(n,r,p,f,o)}var h=n[r],g=i,m=a;for(e(n,i,r),o(n[a],h)>0&&e(n,i,a);g<m;){for(e(n,g,m),g++,m--;o(n[g],h)<0;)g++;for(;o(n[m],h)>0;)m--}0===o(n[i],h)?e(n,i,m):(m++,e(n,m,a)),m<=r&&(i=m+1),r<=m&&(a=m-1)}}(n,r,i||0,a||n.length-1,o||t)}}))}),Ip=Me((e,t)=>{"use strict";t.exports=r,t.exports.default=r;var n=Cp();function r(e,t){if(!(this instanceof r))return new r(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function a(e,t){o(e,0,e.children.length,t,e)}function o(e,t,n,r,i){i||(i=m(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a,o=t;o<n;o++)a=e.children[o],s(i,e.leaf?r(a):a);return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function f(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,a-r)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function g(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(e,t,r,i,a){for(var o,s=[t,r];s.length;)!((r=s.pop())-(t=s.pop())<=i)&&(o=t+Math.ceil((r-t)/i/2)*i,n(e,o,t,r,a),s.push(t,o,o,r))}r.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!g(e,t))return n;for(var i,a,o,s,l=[];t;){for(i=0,a=t.children.length;i<a;i++)o=t.children[i],g(e,s=t.leaf?r(o):o)&&(t.leaf?n.push(o):h(e,s)?this._all(o,n):l.push(o));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!g(e,t))return!1;for(var r,i,a,o,s=[];t;){for(r=0,i=t.children.length;r<i;r++)if(a=t.children[r],g(e,o=t.leaf?n(a):a)){if(t.leaf||h(e,o))return!0;s.push(a)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(e,t){if(!e)return this;for(var n,r,a,o,s=this.data,l=this.toBBox(e),c=[],u=[];s||c.length;){if(s||(s=c.pop(),r=c[c.length-1],n=u.pop(),o=!0),s.leaf&&-1!==(a=i(e,s.children,t)))return s.children.splice(a,1),c.push(s),this._condense(c),this;o||s.leaf||!h(s,l)?r?(n++,s=r.children[n],o=!1):s=null:(c.push(s),u.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var i,o=n-t+1,s=this._maxEntries;if(o<=s)return a(i=m(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=m([])).leaf=!1,i.height=r;var l,c,u,d,p=Math.ceil(o/s),f=p*Math.ceil(Math.sqrt(s));for(y(e,t,n,f,this.compareMinX),l=t;l<=n;l+=f)for(y(e,l,u=Math.min(l+f-1,n),p,this.compareMinY),c=l;c<=u;c+=p)d=Math.min(c+p-1,u),i.children.push(this._build(e,c,d,r-1));return a(i,this.toBBox),i},_chooseSubtree:function(e,t,n,r){for(var i,a,o,s,l,c,d,f;r.push(t),!t.leaf&&r.length-1!==n;){for(d=f=1/0,i=0,a=t.children.length;i<a;i++)l=u(o=t.children[i]),(c=p(e,o)-l)<f?(f=c,d=l<d?l:d,s=o):c===f&&l<d&&(d=l,s=o);t=s||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,i=n?e:r(e),a=[],o=this._chooseSubtree(i,this.data,t,a);for(o.children.push(e),s(o,i);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(i,a,t)},_split:function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=m(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(e,t){this.data=m([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,i,a,s,l,c,d,p;for(c=d=1/0,r=t;r<=n-t;r++)s=f(i=o(e,0,r,this.toBBox),a=o(e,r,n,this.toBBox)),l=u(i)+u(a),s<c?(c=s,p=r,d=l<d?l:d):s===c&&l<d&&(d=l,p=r);return p},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:l,i=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var i,a,l=this.toBBox,c=o(e,0,t,l),u=o(e,n-t,n,l),p=d(c)+d(u);for(i=t;i<n-t;i++)a=e.children[i],s(c,e.leaf?l(a):a),p+=d(c);for(i=n-t-1;i>=t;i--)a=e.children[i],s(u,e.leaf?l(a):a),p+=d(u);return p},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)s(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():a(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}}),Np=Me((e,t)=>{"use strict";function n(e,t,n){var a,o,s,l,c,u=e.length,d=i(e[0],t),p=[];for(n||(n=[]),a=1;a<u;a++){for(o=e[a-1],l=c=i(s=e[a],t);;){if(!(d|l)){p.push(o),l!==c?(p.push(s),a<u-1&&(n.push(p),p=[])):a===u-1&&p.push(s);break}if(d&l)break;d?d=i(o=r(o,s,d,t),t):l=i(s=r(o,s,l,t),t)}d=c}return p.length&&n.push(p),n}function r(e,t,n,r){return 8&n?[e[0]+(t[0]-e[0])*(r[3]-e[1])/(t[1]-e[1]),r[3]]:4&n?[e[0]+(t[0]-e[0])*(r[1]-e[1])/(t[1]-e[1]),r[1]]:2&n?[r[2],e[1]+(t[1]-e[1])*(r[2]-e[0])/(t[0]-e[0])]:1&n?[r[0],e[1]+(t[1]-e[1])*(r[0]-e[0])/(t[0]-e[0])]:null}function i(e,t){var n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}t.exports=n,n.polyline=n,n.polygon=function(e,t){var n,a,o,s,l,c,u;for(a=1;a<=8;a*=2){for(n=[],o=e[e.length-1],s=!(i(o,t)&a),l=0;l<e.length;l++)c=e[l],(u=!(i(c,t)&a))!==s&&n.push(r(o,c,a,t)),u&&n.push(c),o=c,s=u;if(!(e=n).length)break}return n}}),e2=Me((e,t)=>{"use strict";var n=Ip(),r=Np();function i(e,t){if(a(e,[(t[0]+t[2])/2,(t[1]+t[3])/2]))return!0;for(var n=0;n<e.length;n++)if(r(e[n],t).length>0)return!0;return!1}function a(e,t){for(var n=!1,r=0,i=e.length;r<i;r++)for(var a=e[r],s=0,l=a.length,c=l-1;s<l;c=s++)o(t,a[s],a[c])&&(n=!n);return n}function o(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function s(e,t){for(var n={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,coords:e,props:t},r=0;r<e[0].length;r++){var i=e[0][r];n.minX=Math.min(n.minX,i[0]),n.minY=Math.min(n.minY,i[1]),n.maxX=Math.max(n.maxX,i[0]),n.maxY=Math.max(n.maxY,i[1])}return n}t.exports=function(e){for(var t=[],r=0;r<e.features.length;r++){var o=e.features[r],l=o.geometry.coordinates;if("Polygon"===o.geometry.type)t.push(s(l,o.properties));else if("MultiPolygon"===o.geometry.type)for(var c=0;c<l.length;c++)t.push(s(l[c],o.properties))}var u=n().load(t);function d(e,t){for(var n=[],r=u.search({minX:e[0],minY:e[1],maxX:e[0],maxY:e[1]}),i=0;i<r.length;i++)if(a(r[i].coords,e)){if(!t)return r[i].props;n.push(r[i].props)}return t&&n.length?n:null}return d.tree=u,d.bbox=function(e){for(var t=[],n=u.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),r=0;r<n.length;r++)i(n[r].coords,e)&&t.push(n[r].props);return t},d}}),Qp=Me((e,t)=>{t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142}),hu=Me((e,t)=>{var n=Qp();function r(e){var t=0;if(e&&e.length>0){t+=Math.abs(i(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(i(e[n]))}return t}function i(e){var t,r,i,o,s,l,c=0,u=e.length;if(u>2){for(l=0;l<u;l++)l===u-2?(i=u-2,o=u-1,s=0):l===u-1?(i=u-1,o=0,s=1):(i=l,o=l+1,s=l+2),t=e[i],r=e[o],c+=(a(e[s][0])-a(t[0]))*Math.sin(a(r[1]));c=c*n.RADIUS*n.RADIUS/2}return c}function a(e){return e*Math.PI/180}t.exports.geometry=function e(t){var n,i=0;switch(t.type){case"Polygon":return r(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)i+=r(t.coordinates[n]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<t.geometries.length;n++)i+=e(t.geometries[n]);return i}},t.exports.ring=i}),Kp=Me(e=>{e.validateCenter=function(e){if(!Array.isArray(e)||![2,3].includes(e.length))throw new Error("ERROR! Center has to be an array of length two or three");var[t,n]=e;if("number"!=typeof t||"number"!=typeof n)throw new Error("ERROR! Longitude and Latitude has to be numbers but where ".concat(typeof t," and ").concat(typeof n));if(t>180||t<-180)throw new Error("ERROR! Longitude has to be between -180 and 180 but was ".concat(t));if(n>90||n<-90)throw new Error("ERROR! Latitude has to be between -90 and 90 but was ".concat(n))}}),Yp=Me(e=>{e.validateRadius=function(e){if("number"!=typeof e)throw new Error("ERROR! Radius has to be a positive number but was: ".concat(typeof e));if(e<=0)throw new Error("ERROR! Radius has to be a positive number but was: ".concat(e))}}),Jp=Me(e=>{e.validateNumberOfEdges=function(e){if("number"!=typeof e){let t=Array.isArray(e)?"array":typeof e;throw new Error("ERROR! Number of edges has to be a number but was: ".concat(t))}if(e<3)throw new Error("ERROR! Number of edges has to be at least 3 but was: ".concat(e))}}),tm=Me(e=>{e.validateEarthRadius=function(e){if("number"!=typeof e){let t=Array.isArray(e)?"array":typeof e;throw new Error("ERROR! Earth radius has to be a number but was: ".concat(t))}if(e<=0)throw new Error("ERROR! Earth radius has to be a positive number but was: ".concat(e))}}),nm=Me(e=>{e.validateBearing=function(e){if("number"!=typeof e){let t=Array.isArray(e)?"array":typeof e;throw new Error("ERROR! Bearing has to be a number but was: ".concat(t))}}}),um=Me(e=>{var t=Kp().validateCenter,n=Yp().validateRadius,r=Jp().validateNumberOfEdges,i=tm().validateEarthRadius,a=nm().validateBearing;e.validateCenter=t,e.validateRadius=n,e.validateNumberOfEdges=r,e.validateEarthRadius=i,e.validateBearing=a,e.validateInput=function(e){let{center:o,radius:s,numberOfEdges:l,earthRadius:c,bearing:u}=e;t(o),n(s),r(l),i(c),a(u)}}),dm=Me((e,t)=>{"use strict";var{validateInput:n}=um(),r=6378137;function i(e){return e*Math.PI/180}function a(e){return 180*e/Math.PI}function o(e,t,n,r){var o=i(e[1]),s=i(e[0]),l=t/n,c=Math.asin(Math.sin(o)*Math.cos(l)+Math.cos(o)*Math.sin(l)*Math.cos(r));return[a(s+Math.atan2(Math.sin(r)*Math.sin(l)*Math.cos(o),Math.cos(l)-Math.sin(o)*Math.sin(c))),a(c)]}function s(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function l(e){return null==e}t.exports=function(e,t,a){var c,u=function(e){if(l(e))return 32;if(s(e)){var t=e.numberOfEdges;return void 0===t?32:t}return e}(a),d=function(e){if(l(e))return r;if(s(e)){var t=e.earthRadius;return void 0===t?r:t}return r}(a),p=function(e){if(l(e))return 0;if(s(e)){var t=e.bearing;return void 0===t?0:t}return 0}(a),f=s(c=a)&&c.rightHandRule?-1:1;n({center:e,radius:t,numberOfEdges:u,earthRadius:d,bearing:p});for(var h=i(p),g=[],m=0;m<u;++m)g.push(o(e,t,d,h+2*f*Math.PI*-m/u));return g.push(g[0]),{type:"Polygon",coordinates:[g]}}}),wu=Me((e,t)=>{!function(n,r){"object"==typeof e&&typeof t<"u"?t.exports=r():void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof(__WEBPACK_AMD_DEFINE_FACTORY__=r)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(0,(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}var r=function(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null};function i(e,t){return e>t?1:e<t?-1:0}function a(e,t,n){for(var i=new r(null,null),a=i,o=i;;){var s=n(e,t.key);if(s<0){if(null===t.left)break;if(n(e,t.left.key)<0){var l=t.left;if(t.left=l.right,l.right=t,null===(t=l).left)break}o.left=t,o=t,t=t.left}else{if(!(s>0))break;if(null===t.right)break;if(n(e,t.right.key)>0){l=t.right;if(t.right=l.left,l.left=t,null===(t=l).right)break}a.right=t,a=t,t=t.right}}return a.right=t.left,o.left=t.right,t.left=i.right,t.right=i.left,t}function o(e,t,n,i){var o=new r(e,t);if(null===n)return o.left=o.right=null,o;var s=i(e,(n=a(e,n,i)).key);return s<0?(o.left=n.left,o.right=n,n.left=null):s>=0&&(o.right=n.right,o.left=n,n.right=null),o}function s(e,t,n){var r=null,i=null;if(t){var o=n((t=a(e,t,n)).key,e);0===o?(r=t.left,i=t.right):o<0?(i=t.right,t.right=null,r=t):(r=t.left,t.left=null,i=t)}return{left:r,right:i}}var l=function(){function e(e){void 0===e&&(e=i),this._root=null,this._size=0,this._comparator=e}return e.prototype.insert=function(e,t){return this._size++,this._root=o(e,t,this._root,this._comparator)},e.prototype.add=function(e,t){var n=new r(e,t);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var i=this._comparator,o=a(e,this._root,i),s=i(e,o.key);return 0===s?this._root=o:(s<0?(n.left=o.left,n.right=o,o.left=null):s>0&&(n.right=o.right,n.left=o,o.right=null),this._size++,this._root=n),this._root},e.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},e.prototype._remove=function(e,t,n){var r;return null===t?null:0===n(e,(t=a(e,t,n)).key)?(null===t.left?r=t.right:(r=a(e,t.left,n)).right=t.right,this._size--,r):t},e.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=a(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},e.prototype.findStatic=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return t;t=r<0?t.left:t.right}return null},e.prototype.find=function(e){return this._root&&(this._root=a(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root},e.prototype.contains=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return!0;t=r<0?t.left:t.right}return!1},e.prototype.forEach=function(e,t){for(var n=this._root,r=[],i=!1;!i;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),e.call(t,n),n=n.right):i=!0;return this},e.prototype.range=function(e,t,n,r){for(var i=[],a=this._comparator,o=this._root;0!==i.length||o;)if(o)i.push(o),o=o.left;else{if(a((o=i.pop()).key,t)>0)break;if(a(o.key,e)>=0&&n.call(r,o))return this;o=o.right}return this},e.prototype.keys=function(){var e=[];return this.forEach((function(t){var n=t.key;return e.push(n)})),e},e.prototype.values=function(){var e=[];return this.forEach((function(t){var n=t.data;return e.push(n)})),e},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.left;)e=e.left;return e},e.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.right;)e=e.right;return e},e.prototype.at=function(e){for(var t=this._root,n=!1,r=0,i=[];!n;)if(t)i.push(t),t=t.left;else if(i.length>0){if(t=i.pop(),r===e)return t;r++,t=t.right}else n=!0;return null},e.prototype.next=function(e){var t=this._root,n=null;if(e.right){for(n=e.right;n.left;)n=n.left;return n}for(var r=this._comparator;t;){var i=r(e.key,t.key);if(0===i)break;i<0?(n=t,t=t.left):t=t.right}return n},e.prototype.prev=function(e){var t=this._root,n=null;if(null!==e.left){for(n=e.left;n.right;)n=n.right;return n}for(var r=this._comparator;t;){var i=r(e.key,t.key);if(0===i)break;i<0?t=t.left:(n=t,t=t.right)}return n},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return function(e){for(var t=e,n=[],i=!1,a=new r(null,null),o=a;!i;)t?(n.push(t),t=t.left):n.length>0?t=(t=o=o.next=n.pop()).right:i=!0;return o.next=null,a.next}(this._root)},e.prototype.load=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1);var i=e.length,a=this._comparator;if(n&&function e(t,n,r,i,a){if(!(r>=i)){for(var o=t[r+i>>1],s=r-1,l=i+1;;){do{s++}while(a(t[s],o)<0);do{l--}while(a(t[l],o)>0);if(s>=l)break;var c=t[s];t[s]=t[l],t[l]=c,c=n[s],n[s]=n[l],n[l]=c}e(t,n,r,l,a),e(t,n,l+1,i,a)}}(e,t,0,i-1,a),null===this._root)this._root=function e(t,n,i,a){var o=a-i;if(o>0){var s=i+Math.floor(o/2),l=t[s],c=n[s],u=new r(l,c);return u.left=e(t,n,i,s),u.right=e(t,n,s+1,a),u}return null}(e,t,0,i),this._size=i;else{var o=function(e,t,n){for(var i=new r(null,null),a=i,o=e,s=t;null!==o&&null!==s;)n(o.key,s.key)<0?(a.next=o,o=o.next):(a.next=s,s=s.next),a=a.next;return null!==o?a.next=o:null!==s&&(a.next=s),i.next}(this.toList(),function(e,t){for(var n=new r(null,null),i=n,a=0;a<e.length;a++)i=i.next=new r(e[a],t[a]);return i.next=null,n.next}(e,t),a);i=this._size+i,this._root=function e(t,n,r){var i=r-n;if(i>0){var a=n+Math.floor(i/2),o=e(t,n,a),s=t.head;return s.left=o,t.head=t.head.next,s.right=e(t,a+1,r),s}return null}({head:o},0,i)}return this},e.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key)});var t=[];return function e(t,n,r,i,a){if(t){i(n+(r?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+a(t)+"\n");var o=n+(r?"    ":"\u2502   ");t.left&&e(t.left,o,!1,i,a),t.right&&e(t.right,o,!0,i,a)}}(this._root,"",!0,(function(e){return t.push(e)}),e),t.join("")},e.prototype.update=function(e,t,n){var r=this._comparator,i=s(e,this._root,r),l=i.left,c=i.right;r(e,t)<0?c=o(t,n,c,r):l=o(t,n,l,r),this._root=function(e,t,n){return null===t?e:(null===e||((t=a(e.key,t,n)).left=e),t)}(l,c,r)},e.prototype.split=function(e){return s(e,this._root,this._comparator)},e}();var c=function(e,t){return e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y},u=function(e,t){if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;var n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x;return{ll:{x:n,y:e.ll.y<t.ll.y?t.ll.y:e.ll.y},ur:{x:r,y:e.ur.y<t.ur.y?e.ur.y:t.ur.y}}},d=Number.EPSILON;void 0===d&&(d=Math.pow(2,-52));var p=d*d,f=function(e,t){if(-d<e&&e<d&&-d<t&&t<d)return 0;var n=e-t;return n*n<p*e*t?0:e<t?-1:1},h=function(){function t(){e(this,t),this.reset()}return n(t,[{key:"reset",value:function(){this.xRounder=new g,this.yRounder=new g}},{key:"round",value:function(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}}]),t}(),g=function(){function t(){e(this,t),this.tree=new l,this.round(0)}return n(t,[{key:"round",value:function(e){var t=this.tree.add(e),n=this.tree.prev(t);if(null!==n&&0===f(t.key,n.key))return this.tree.remove(e),n.key;var r=this.tree.next(t);return null!==r&&0===f(t.key,r.key)?(this.tree.remove(e),r.key):e}}]),t}(),m=new h,y=function(e,t){return e.x*t.y-e.y*t.x},v=function(e,t){return e.x*t.x+e.y*t.y},b=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y},a=y(r,i);return f(a,0)},w=function(e){return Math.sqrt(v(e,e))},_=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return y(i,r)/w(i)/w(r)},k=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return v(i,r)/w(i)/w(r)},x=function(e,t,n){return 0===t.y?null:{x:e.x+t.x/t.y*(n-e.y),y:n}},A=function(e,t,n){return 0===t.x?null:{x:n,y:e.y+t.y/t.x*(n-e.x)}},E=function(){function t(n,r){e(this,t),void 0===n.events?n.events=[this]:n.events.push(this),this.point=n,this.isLeft=r}return n(t,null,[{key:"compare",value:function(e,n){var r=t.comparePoints(e.point,n.point);return 0!==r?r:(e.point!==n.point&&e.link(n),e.isLeft!==n.isLeft?e.isLeft?1:-1:S.compare(e.segment,n.segment))}},{key:"comparePoints",value:function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}}]),n(t,[{key:"link",value:function(e){if(e.point===this.point)throw new Error("Tried to link already linked events");for(var t=e.point.events,n=0,r=t.length;n<r;n++){var i=t[n];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var e=this.point.events.length,t=0;t<e;t++){var n=this.point.events[t];if(void 0===n.segment.consumedBy)for(var r=t+1;r<e;r++){var i=this.point.events[r];void 0===i.consumedBy&&n.otherSE.point.events===i.otherSE.point.events&&n.segment.consume(i.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var e=[],t=0,n=this.point.events.length;t<n;t++){var r=this.point.events[t];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&e.push(r)}return e}},{key:"getLeftmostComparator",value:function(e){var t=this,n=new Map,r=function(r){var i=r.otherSE;n.set(r,{sine:_(t.point,e.point,i.point),cosine:k(t.point,e.point,i.point)})};return function(e,t){n.has(e)||r(e),n.has(t)||r(t);var i=n.get(e),a=i.sine,o=i.cosine,s=n.get(t),l=s.sine,c=s.cosine;return a>=0&&l>=0?o<c?1:o>c?-1:0:a<0&&l<0?o<c?-1:o>c?1:0:l<a?-1:l>a?1:0}}}]),t}(),C=0,S=function(){function t(n,r,i,a){e(this,t),this.id=++C,this.leftSE=n,n.segment=this,n.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=n,this.rings=i,this.windings=a}return n(t,null,[{key:"compare",value:function(e,t){var n=e.leftSE.point.x,r=t.leftSE.point.x,i=e.rightSE.point.x,a=t.rightSE.point.x;if(a<n)return 1;if(i<r)return-1;var o=e.leftSE.point.y,s=t.leftSE.point.y,l=e.rightSE.point.y,c=t.rightSE.point.y;if(n<r){if(s<o&&s<l)return 1;if(s>o&&s>l)return-1;var u=e.comparePoint(t.leftSE.point);if(u<0)return 1;if(u>0)return-1;var d=t.comparePoint(e.rightSE.point);return 0!==d?d:-1}if(n>r){if(o<s&&o<c)return-1;if(o>s&&o>c)return 1;var p=t.comparePoint(e.leftSE.point);if(0!==p)return p;var f=e.comparePoint(t.rightSE.point);return f<0?1:f>0?-1:1}if(o<s)return-1;if(o>s)return 1;if(i<a){var h=t.comparePoint(e.rightSE.point);if(0!==h)return h}if(i>a){var g=e.comparePoint(t.rightSE.point);if(g<0)return 1;if(g>0)return-1}if(i!==a){var m=l-o,y=i-n,v=c-s,b=a-r;if(m>y&&v<b)return 1;if(m<y&&v>b)return-1}return i>a?1:i<a||l<c?-1:l>c?1:e.id<t.id?-1:e.id>t.id?1:0}}]),n(t,[{key:"replaceRightSE",value:function(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}},{key:"comparePoint",value:function(e){if(this.isAnEndpoint(e))return 0;var t=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(t.x===n.x)return e.x===t.x?0:e.x<t.x?1:-1;var i=(e.y-t.y)/r.y,a=t.x+i*r.x;if(e.x===a)return 0;var o=(e.x-t.x)/r.x,s=t.y+o*r.y;return e.y===s?0:e.y<s?-1:1}},{key:"getIntersection",value:function(e){var t=this.bbox(),n=e.bbox(),r=u(t,n);if(null===r)return null;var i=this.leftSE.point,a=this.rightSE.point,o=e.leftSE.point,s=e.rightSE.point,l=c(t,o)&&0===this.comparePoint(o),d=c(n,i)&&0===e.comparePoint(i),p=c(t,s)&&0===this.comparePoint(s),f=c(n,a)&&0===e.comparePoint(a);if(d&&l)return f&&!p?a:!f&&p?s:null;if(d)return p&&i.x===s.x&&i.y===s.y?null:i;if(l)return f&&a.x===o.x&&a.y===o.y?null:o;if(f&&p)return null;if(f)return a;if(p)return s;var h=function(e,t,n,r){if(0===t.x)return A(n,r,e.x);if(0===r.x)return A(e,t,n.x);if(0===t.y)return x(n,r,e.y);if(0===r.y)return x(e,t,n.y);var i=y(t,r);if(0==i)return null;var a={x:n.x-e.x,y:n.y-e.y},o=y(a,t)/i,s=y(a,r)/i;return{x:(e.x+s*t.x+(n.x+o*r.x))/2,y:(e.y+s*t.y+(n.y+o*r.y))/2}}(i,this.vector(),o,e.vector());return null!==h&&c(r,h)?m.round(h.x,h.y):null}},{key:"split",value:function(e){var n=[],r=void 0!==e.events,i=new E(e,!0),a=new E(e,!1),o=this.rightSE;this.replaceRightSE(a),n.push(a),n.push(i);var s=new t(i,o,this.rings.slice(),this.windings.slice());return E.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),E.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),a.checkForConsuming()),n}},{key:"swapEvents",value:function(){var e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var t=0,n=this.windings.length;t<n;t++)this.windings[t]*=-1}},{key:"consume",value:function(e){for(var n=this,r=e;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var i=t.compare(n,r);if(0!==i){if(i>0){var a=n;n=r,r=a}if(n.prev===r){var o=n;n=r,r=o}for(var s=0,l=r.rings.length;s<l;s++){var c=r.rings[s],u=r.windings[s],d=n.rings.indexOf(c);-1===d?(n.rings.push(c),n.windings.push(u)):n.windings[d]+=u}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};for(var t=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,i=0,a=this.rings.length;i<a;i++){var o=this.rings[i],s=this.windings[i],l=t.indexOf(o);-1===l?(t.push(o),n.push(s)):n[l]+=s}for(var c=[],u=[],d=0,p=t.length;d<p;d++)if(0!==n[d]){var f=t[d],h=f.poly;if(-1===u.indexOf(h))if(f.isExterior)c.push(h);else{-1===u.indexOf(h)&&u.push(h);var g=c.indexOf(f.poly);-1!==g&&c.splice(g,1)}}for(var m=0,y=c.length;m<y;m++){var v=c[m].multiPoly;-1===r.indexOf(v)&&r.push(v)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(j.type){case"union":var n=0===e.length,r=0===t.length;this._isInResult=n!==r;break;case"intersection":var i,a;e.length<t.length?(i=e.length,a=t.length):(i=t.length,a=e.length),this._isInResult=a===j.numMultiPolys&&i<a;break;case"xor":var o=Math.abs(e.length-t.length);this._isInResult=o%2===1;break;case"difference":var s=function(e){return 1===e.length&&e[0].isSubject};this._isInResult=s(e)!==s(t);break;default:throw new Error("Unrecognized operation type found ".concat(j.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,n,r){var i,a,o,s=E.comparePoints(e,n);if(s<0)i=e,a=n,o=1;else{if(!(s>0))throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));i=n,a=e,o=-1}return new t(new E(i,!0),new E(a,!1),[r],[o])}}]),t}(),M=function(){function t(n,r,i){if(e(this,t),!Array.isArray(n)||0===n.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=i,this.segments=[],"number"!=typeof n[0][0]||"number"!=typeof n[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var a=m.round(n[0][0],n[0][1]);this.bbox={ll:{x:a.x,y:a.y},ur:{x:a.x,y:a.y}};for(var o=a,s=1,l=n.length;s<l;s++){if("number"!=typeof n[s][0]||"number"!=typeof n[s][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var c=m.round(n[s][0],n[s][1]);c.x===o.x&&c.y===o.y||(this.segments.push(S.fromRing(o,c,this)),c.x<this.bbox.ll.x&&(this.bbox.ll.x=c.x),c.y<this.bbox.ll.y&&(this.bbox.ll.y=c.y),c.x>this.bbox.ur.x&&(this.bbox.ur.x=c.x),c.y>this.bbox.ur.y&&(this.bbox.ur.y=c.y),o=c)}(a.x!==o.x||a.y!==o.y)&&this.segments.push(S.fromRing(o,a,this))}return n(t,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,n=this.segments.length;t<n;t++){var r=this.segments[t];e.push(r.leftSE),e.push(r.rightSE)}return e}}]),t}(),N=function(){function t(n,r){if(e(this,t),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new M(n[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var i=1,a=n.length;i<a;i++){var o=new M(n[i],this,!1);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=r}return n(t,[{key:"getSweepEvents",value:function(){for(var e=this.exteriorRing.getSweepEvents(),t=0,n=this.interiorRings.length;t<n;t++)for(var r=this.interiorRings[t].getSweepEvents(),i=0,a=r.length;i<a;i++)e.push(r[i]);return e}}]),t}(),I=function(){function t(n,r){if(e(this,t),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof n[0][0][0]&&(n=[n])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var i=0,a=n.length;i<a;i++){var o=new N(n[i],this);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=r}return n(t,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,n=this.polys.length;t<n;t++)for(var r=this.polys[t].getSweepEvents(),i=0,a=r.length;i<a;i++)e.push(r[i]);return e}}]),t}(),D=function(){function t(n){e(this,t),this.events=n;for(var r=0,i=n.length;r<i;r++)n[r].segment.ringOut=this;this.poly=null}return n(t,null,[{key:"factory",value:function(e){for(var n=[],r=0,i=e.length;r<i;r++){var a=e[r];if(a.isInResult()&&!a.ringOut){for(var o=null,s=a.leftSE,l=a.rightSE,c=[s],u=s.point,d=[];o=s,s=l,c.push(s),s.point!==u;)for(;;){var p=s.getAvailableLinkedEvents();if(0===p.length){var f=c[0].point,h=c[c.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(f.x,",")+" ".concat(f.y,"]. Last matching segment found ends at")+" [".concat(h.x,", ").concat(h.y,"]."))}if(1===p.length){l=p[0].otherSE;break}for(var g=null,m=0,y=d.length;m<y;m++)if(d[m].point===s.point){g=m;break}if(null===g){d.push({index:c.length,point:s.point});var v=s.getLeftmostComparator(o);l=p.sort(v)[0].otherSE;break}var b=d.splice(g)[0],w=c.splice(b.index);w.unshift(w[0].otherSE),n.push(new t(w.reverse()))}n.push(new t(c))}}return n}}]),n(t,[{key:"getGeom",value:function(){for(var e=this.events[0].point,t=[e],n=1,r=this.events.length-1;n<r;n++){var i=this.events[n].point,a=this.events[n+1].point;0!==b(i,e,a)&&(t.push(i),e=i)}if(1===t.length)return null;var o=t[0],s=t[1];0===b(o,e,s)&&t.shift(),t.push(t[0]);for(var l=this.isExteriorRing()?1:-1,c=this.isExteriorRing()?0:t.length-1,u=this.isExteriorRing()?t.length:-1,d=[],p=c;p!=u;p+=l)d.push([t[p].x,t[p].y]);return d}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var e=this.events[0],t=1,n=this.events.length;t<n;t++){var r=this.events[t];E.compare(e,r)>0&&(e=r)}for(var i=e.segment.prevInResult(),a=i?i.prevInResult():null;;){if(!i)return null;if(!a)return i.ringOut;if(a.ringOut!==i.ringOut)return a.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=a.prevInResult(),a=i?i.prevInResult():null}}}]),t}(),P=function(){function t(n){e(this,t),this.exteriorRing=n,n.poly=this,this.interiorRings=[]}return n(t,[{key:"addInterior",value:function(e){this.interiorRings.push(e),e.poly=this}},{key:"getGeom",value:function(){var e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(var t=0,n=this.interiorRings.length;t<n;t++){var r=this.interiorRings[t].getGeom();null!==r&&e.push(r)}return e}}]),t}(),O=function(){function t(n){e(this,t),this.rings=n,this.polys=this._composePolys(n)}return n(t,[{key:"getGeom",value:function(){for(var e=[],t=0,n=this.polys.length;t<n;t++){var r=this.polys[t].getGeom();null!==r&&e.push(r)}return e}},{key:"_composePolys",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(!i.poly)if(i.isExteriorRing())t.push(new P(i));else{var a=i.enclosingRing();a.poly||t.push(new P(a)),a.poly.addInterior(i)}}return t}}]),t}(),T=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.compare;e(this,t),this.queue=n,this.tree=new l(r),this.segments=[]}return n(t,[{key:"process",value:function(e){var t=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),n;var r=e.isLeft?this.tree.insert(t):this.tree.find(t);if(!r)throw new Error("Unable to find segment #".concat(t.id," ")+"[".concat(t.leftSE.point.x,", ").concat(t.leftSE.point.y,"] -> ")+"[".concat(t.rightSE.point.x,", ").concat(t.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var i=r,a=r,o=void 0,s=void 0;void 0===o;)null===(i=this.tree.prev(i))?o=null:void 0===i.key.consumedBy&&(o=i.key);for(;void 0===s;)null===(a=this.tree.next(a))?s=null:void 0===a.key.consumedBy&&(s=a.key);if(e.isLeft){var l=null;if(o){var c=o.getIntersection(t);if(null!==c&&(t.isAnEndpoint(c)||(l=c),!o.isAnEndpoint(c)))for(var u=this._splitSafely(o,c),d=0,p=u.length;d<p;d++)n.push(u[d])}var f=null;if(s){var h=s.getIntersection(t);if(null!==h&&(t.isAnEndpoint(h)||(f=h),!s.isAnEndpoint(h)))for(var g=this._splitSafely(s,h),m=0,y=g.length;m<y;m++)n.push(g[m])}if(null!==l||null!==f){var v=null;if(null===l)v=f;else if(null===f)v=l;else{v=E.comparePoints(l,f)<=0?l:f}this.queue.remove(t.rightSE),n.push(t.rightSE);for(var b=t.split(v),w=0,_=b.length;w<_;w++)n.push(b[w])}n.length>0?(this.tree.remove(t),n.push(e)):(this.segments.push(t),t.prev=o)}else{if(o&&s){var k=o.getIntersection(s);if(null!==k){if(!o.isAnEndpoint(k))for(var x=this._splitSafely(o,k),A=0,C=x.length;A<C;A++)n.push(x[A]);if(!s.isAnEndpoint(k))for(var S=this._splitSafely(s,k),M=0,N=S.length;M<N;M++)n.push(S[M])}}this.tree.remove(t)}return n}},{key:"_splitSafely",value:function(e,t){this.tree.remove(e);var n=e.rightSE;this.queue.remove(n);var r=e.split(t);return r.push(n),void 0===e.consumedBy&&this.tree.insert(e),r}}]),t}(),F=typeof process<"u"&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"https://palopenmaps.github.io/tasking-manager",REACT_APP_API_URL:"http://pom.masrad.org:5000",REACT_APP_API_VERSION:"v2",REACT_APP_ORG_NAME:"PalestineMaps",REACT_APP_ORG_CODE:"OHM",REACT_APP_ORG_URL:"pom.masrad.org",REACT_APP_ORG_PRIVACY_POLICY_URL:"pom.masrad.org/copyright",REACT_APP_ORG_TWITTER:"http://twitter.com/OpenHistMap",REACT_APP_ORG_FB:"",REACT_APP_ORG_INSTAGRAM:"",REACT_APP_ORG_YOUTUBE:"",REACT_APP_ORG_GITHUB:"github.com/openhistoricalmap",REACT_APP_DEFAULT_LOCALE:"",REACT_APP_TM_MAPPER_LEVEL_INTERMEDIATE:"",REACT_APP_TM_MAPPER_LEVEL_ADVANCED:"",REACT_APP_MATOMO_ID:"",REACT_APP_MATOMO_ENDPOINT:"",REACT_APP_IMAGE_UPLOAD_API_URL:"",REACT_APP_HOMEPAGE_VIDEO_URL:"",REACT_APP_MAPBOX_TOKEN:"",REACT_APP_ENABLE_SERVICEWORKER:"",REACT_APP_MAX_FILESIZE:"3e+06",REACT_APP_MAX_AOI_AREA:"15000",REACT_APP_USER_STATS_API_URL:"",REACT_APP_HOMEPAGE_STATS_API_URL:"",REACT_APP_OSM_CONSUMER_KEY:"wBDK80anbiBTdG9WNZFzRFwUbhXIOObpyh2Z7EQv",REACT_APP_OSM_CONSUMER_SECRET:"CeNUc6qRqkYpRk7iteLaK7uHTNAgkdqS9ZuxqiiO",REACT_APP_OSM_SERVER_URL:"http://pom.masrad.org",REACT_APP_TM_ORG_NAME:"PalestineMaps",REACT_APP_OSM_REGISTER_URL:"http://pom.masrad.org/user/new",REACT_APP_ID_EDITOR_URL:"http://pom.masrad.org/edit?editor=id",REACT_APP_POTLATCH2_EDITOR_URL:"http://pom.masrad.org/edit?editor=potlatch2",REACT_APP_SENTRY_FRONTEND_DSN:"",REACT_APP_ENVIRONMENT:""}).POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,R=typeof process<"u"&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"https://palopenmaps.github.io/tasking-manager",REACT_APP_API_URL:"http://pom.masrad.org:5000",REACT_APP_API_VERSION:"v2",REACT_APP_ORG_NAME:"PalestineMaps",REACT_APP_ORG_CODE:"OHM",REACT_APP_ORG_URL:"pom.masrad.org",REACT_APP_ORG_PRIVACY_POLICY_URL:"pom.masrad.org/copyright",REACT_APP_ORG_TWITTER:"http://twitter.com/OpenHistMap",REACT_APP_ORG_FB:"",REACT_APP_ORG_INSTAGRAM:"",REACT_APP_ORG_YOUTUBE:"",REACT_APP_ORG_GITHUB:"github.com/openhistoricalmap",REACT_APP_DEFAULT_LOCALE:"",REACT_APP_TM_MAPPER_LEVEL_INTERMEDIATE:"",REACT_APP_TM_MAPPER_LEVEL_ADVANCED:"",REACT_APP_MATOMO_ID:"",REACT_APP_MATOMO_ENDPOINT:"",REACT_APP_IMAGE_UPLOAD_API_URL:"",REACT_APP_HOMEPAGE_VIDEO_URL:"",REACT_APP_MAPBOX_TOKEN:"",REACT_APP_ENABLE_SERVICEWORKER:"",REACT_APP_MAX_FILESIZE:"3e+06",REACT_APP_MAX_AOI_AREA:"15000",REACT_APP_USER_STATS_API_URL:"",REACT_APP_HOMEPAGE_STATS_API_URL:"",REACT_APP_OSM_CONSUMER_KEY:"wBDK80anbiBTdG9WNZFzRFwUbhXIOObpyh2Z7EQv",REACT_APP_OSM_CONSUMER_SECRET:"CeNUc6qRqkYpRk7iteLaK7uHTNAgkdqS9ZuxqiiO",REACT_APP_OSM_SERVER_URL:"http://pom.masrad.org",REACT_APP_TM_ORG_NAME:"PalestineMaps",REACT_APP_OSM_REGISTER_URL:"http://pom.masrad.org/user/new",REACT_APP_ID_EDITOR_URL:"http://pom.masrad.org/edit?editor=id",REACT_APP_POTLATCH2_EDITOR_URL:"http://pom.masrad.org/edit?editor=potlatch2",REACT_APP_SENTRY_FRONTEND_DSN:"",REACT_APP_ENVIRONMENT:""}).POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,j=new(function(){function t(){e(this,t)}return n(t,[{key:"run",value:function(e,t,n){j.type=e,m.reset();for(var r=[new I(t,!0)],i=0,a=n.length;i<a;i++)r.push(new I(n[i],!1));if(j.numMultiPolys=r.length,"difference"===j.type)for(var o=r[0],s=1;s<r.length;)null!==u(r[s].bbox,o.bbox)?s++:r.splice(s,1);if("intersection"===j.type)for(var c=0,d=r.length;c<d;c++)for(var p=r[c],f=c+1,h=r.length;f<h;f++)if(null===u(p.bbox,r[f].bbox))return[];for(var g=new l(E.compare),y=0,v=r.length;y<v;y++)for(var b=r[y].getSweepEvents(),w=0,_=b.length;w<_;w++)if(g.insert(b[w]),g.size>F)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var k=new T(g),x=g.size,A=g.pop();A;){var C=A.key;if(g.size===x){var S=C.segment;throw new Error("Unable to pop() ".concat(C.isLeft?"left":"right"," SweepEvent ")+"[".concat(C.point.x,", ").concat(C.point.y,"] from segment #").concat(S.id," ")+"[".concat(S.leftSE.point.x,", ").concat(S.leftSE.point.y,"] -> ")+"[".concat(S.rightSE.point.x,", ").concat(S.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(g.size>F)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(k.segments.length>R)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var M=k.process(C),N=0,P=M.length;N<P;N++){var U=M[N];void 0===U.consumedBy&&g.insert(U)}x=g.size,A=g.pop()}m.reset();var L=D.factory(k.segments);return new O(L).getGeom()}}]),t}());return{union:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j.run("union",e,n)},intersection:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j.run("intersection",e,n)},xor:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j.run("xor",e,n)},difference:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j.run("difference",e,n)}}}))}),pm=Me((e,t)=>{!function(){function e(e,t,n){function r(e){return e.map((function(e,r){return r<2?1*e.toFixed(t):1*e.toFixed(n)}))}function i(e){return e.map(r)}function a(e){return e.map(i)}function o(e){if(!e)return{};switch(e.type){case"Point":return e.coordinates=r(e.coordinates),e;case"LineString":case"MultiPoint":return e.coordinates=i(e.coordinates),e;case"Polygon":case"MultiLineString":return e.coordinates=a(e.coordinates),e;case"MultiPolygon":return e.coordinates=function(e){return e.map(a)}(e.coordinates),e;case"GeometryCollection":return e.geometries=e.geometries.map(o),e;default:return{}}}function s(e){return e.geometry=o(e.geometry),e}if(!e)return e;switch(e.type){case"Feature":return s(e);case"GeometryCollection":return(l=e).geometries=l.geometries.map(o),l;case"FeatureCollection":return function(e){return e.features=e.features.map(s),e}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiPolygon":case"MultiLineString":return o(e);default:return e}var l}t.exports=e,t.exports.parse=e}()}),gm=Me((e,t)=>{function n(e){return"object"==typeof e&&null!==e}function r(e){var t=0;return Array.isArray(e)||n(e)?(function(e,t){Array.isArray(e)?e.forEach(t):n(e)&&Object.keys(e).forEach((function(n){var r=e[n];t(r,n)}))}(e,(function(e){if(Array.isArray(e)||n(e)){var i=r(e);i>t&&(t=i)}})),t+1):t}var i=/("(?:[^\\"]|\\.)*")|[:,\][}{]/g;function a(e,t,n){return t in e?e[t]:n}t.exports=function(e,t){t=t||{};var o=JSON.stringify([1],null,a(t,"indent",2)).slice(2,-3),s=a(t,"margins",!1),l=a(t,"arrayMargins",!1),c=a(t,"objectMargins",!1),u=""===o?1/0:a(t,"maxLength",80),d=a(t,"maxNesting",1/0);return function e(t,a,p){t&&"function"==typeof t.toJSON&&(t=t.toJSON());var f=JSON.stringify(t);if(void 0===f)return f;var h=u-a.length-p;if(r(t)<=d&&f.length<=h){var g=function(e,t){var n={"{":"{","}":"}","[":"[","]":"]",",":", ",":":": "};return((t=t||{}).addMargin||t.addObjectMargin)&&(n["{"]="{ ",n["}"]=" }"),(t.addMargin||t.addArrayMargin)&&(n["["]="[ ",n["]"]=" ]"),e.replace(i,(function(e,t){return t?e:n[e]}))}(f,{addMargin:s,addArrayMargin:l,addObjectMargin:c});if(g.length<=h)return g}if(n(t)){var m,y=a+o,v=[],b=function(e,t){return t===e.length-1?0:1};if(Array.isArray(t)){for(var w=0;w<t.length;w++)v.push(e(t[w],y,b(t,w))||"null");m="[]"}else Object.keys(t).forEach((function(n,r,i){var a=JSON.stringify(n)+": ",o=e(t[n],y,a.length+b(i,r));void 0!==o&&v.push(a+o)})),m="{}";if(v.length>0)return[m[0],o+v.join(",\n"+y),m[1]].join("\n"+a)}return f}(e,"",0)}}),km=Me((e,t)=>{!function(n){"use strict";function r(e){return parseInt(e)===e}function i(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function a(e,t){if(e.buffer&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!i(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&i(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function o(e){return new Uint8Array(e)}function s(e,t,n,r,i){(null!=r||null!=i)&&(e=e.slice?e.slice(r,i):Array.prototype.slice.call(e,r,i)),t.set(e,n)}var l={toBytes:function(e){var t=[],n=0;for(e=encodeURI(e);n<e.length;){var r=e.charCodeAt(n++);37===r?(t.push(parseInt(e.substr(n,2),16)),n+=2):t.push(r)}return a(t)},fromBytes:function(e){for(var t=[],n=0;n<e.length;){var r=e[n];r<128?(t.push(String.fromCharCode(r)),n++):r>191&&r<224?(t.push(String.fromCharCode((31&r)<<6|63&e[n+1])),n+=2):(t.push(String.fromCharCode((15&r)<<12|(63&e[n+1])<<6|63&e[n+2])),n+=3)}return t.join("")}},c=function(){var e="0123456789abcdef";return{toBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},fromBytes:function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(e[(240&i)>>4]+e[15&i])}return n.join("")}}}(),u={16:10,24:12,32:14},d=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],p=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],h=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],v=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],k=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],x=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],A=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],E=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function C(e){for(var t=[],n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}var S=function(e){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:a(e,!0)}),this._prepare()};S.prototype._prepare=function(){var e=u[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var n,r=4*(e+1),i=this.key.length/4,a=C(this.key);for(t=0;t<i;t++)n=t>>2,this._Ke[n][t%4]=a[t],this._Kd[e-n][t%4]=a[t];for(var o,s=0,l=i;l<r;){if(o=a[i-1],a[0]^=p[o>>16&255]<<24^p[o>>8&255]<<16^p[255&o]<<8^p[o>>24&255]^d[s]<<24,s+=1,8!=i)for(t=1;t<i;t++)a[t]^=a[t-1];else{for(t=1;t<i/2;t++)a[t]^=a[t-1];o=a[i/2-1],a[i/2]^=p[255&o]^p[o>>8&255]<<8^p[o>>16&255]<<16^p[o>>24&255]<<24;for(t=i/2+1;t<i;t++)a[t]^=a[t-1]}for(t=0;t<i&&l<r;)c=l>>2,f=l%4,this._Ke[c][f]=a[t],this._Kd[e-c][f]=a[t++],l++}for(var c=1;c<e;c++)for(var f=0;f<4;f++)o=this._Kd[c][f],this._Kd[c][f]=k[o>>24&255]^x[o>>16&255]^A[o>>8&255]^E[255&o]},S.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,n=[0,0,0,0],r=C(e),i=0;i<4;i++)r[i]^=this._Ke[0][i];for(var a=1;a<t;a++){for(i=0;i<4;i++)n[i]=h[r[i]>>24&255]^g[r[(i+1)%4]>>16&255]^m[r[(i+2)%4]>>8&255]^y[255&r[(i+3)%4]]^this._Ke[a][i];r=n.slice()}var s,l=o(16);for(i=0;i<4;i++)s=this._Ke[t][i],l[4*i]=255&(p[r[i]>>24&255]^s>>24),l[4*i+1]=255&(p[r[(i+1)%4]>>16&255]^s>>16),l[4*i+2]=255&(p[r[(i+2)%4]>>8&255]^s>>8),l[4*i+3]=255&(p[255&r[(i+3)%4]]^s);return l},S.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,n=[0,0,0,0],r=C(e),i=0;i<4;i++)r[i]^=this._Kd[0][i];for(var a=1;a<t;a++){for(i=0;i<4;i++)n[i]=v[r[i]>>24&255]^b[r[(i+3)%4]>>16&255]^w[r[(i+2)%4]>>8&255]^_[255&r[(i+1)%4]]^this._Kd[a][i];r=n.slice()}var s,l=o(16);for(i=0;i<4;i++)s=this._Kd[t][i],l[4*i]=255&(f[r[i]>>24&255]^s>>24),l[4*i+1]=255&(f[r[(i+3)%4]>>16&255]^s>>16),l[4*i+2]=255&(f[r[(i+2)%4]>>8&255]^s>>8),l[4*i+3]=255&(f[255&r[(i+1)%4]]^s);return l};var M=function(e){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new S(e)};M.prototype.encrypt=function(e){if((e=a(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),n=o(16),r=0;r<e.length;r+=16)s(e,n,0,r,r+16),s(n=this._aes.encrypt(n),t,r);return t},M.prototype.decrypt=function(e){if((e=a(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),n=o(16),r=0;r<e.length;r+=16)s(e,n,0,r,r+16),s(n=this._aes.decrypt(n),t,r);return t};var N=function(e,t){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastCipherblock=a(t,!0),this._aes=new S(e)};N.prototype.encrypt=function(e){if((e=a(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),n=o(16),r=0;r<e.length;r+=16){s(e,n,0,r,r+16);for(var i=0;i<16;i++)n[i]^=this._lastCipherblock[i];this._lastCipherblock=this._aes.encrypt(n),s(this._lastCipherblock,t,r)}return t},N.prototype.decrypt=function(e){if((e=a(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),n=o(16),r=0;r<e.length;r+=16){s(e,n,0,r,r+16),n=this._aes.decrypt(n);for(var i=0;i<16;i++)t[r+i]=n[i]^this._lastCipherblock[i];s(e,this._lastCipherblock,0,r,r+16)}return t};var I=function(e,t,n){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=o(16);n||(n=1),this.segmentSize=n,this._shiftRegister=a(t,!0),this._aes=new S(e)};I.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,n=a(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)n[r+i]^=t[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(n,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n},I.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,n=a(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)n[r+i]^=t[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n};var D=function(e,t){if(!(this instanceof D))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastPrecipher=a(t,!0),this._lastPrecipherIndex=16,this._aes=new S(e)};D.prototype.encrypt=function(e){for(var t=a(e,!0),n=0;n<t.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},D.prototype.decrypt=D.prototype.encrypt;var P=function(e){if(!(this instanceof P))throw Error("Counter must be instanitated with `new`");0!==e&&!e&&(e=1),"number"==typeof e?(this._counter=o(16),this.setValue(e)):this.setBytes(e)};P.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");if(e>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var t=15;t>=0;--t)this._counter[t]=e%256,e=parseInt(e/256)},P.prototype.setBytes=function(e){if(16!=(e=a(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},P.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var O=function(e,t){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof P||(t=new P(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new S(e)};O.prototype.encrypt=function(e){for(var t=a(e,!0),n=0;n<t.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[n]^=this._remainingCounter[this._remainingCounterIndex++];return t},O.prototype.decrypt=O.prototype.encrypt;var T={AES:S,Counter:P,ModeOfOperation:{ecb:M,cbc:N,cfb:I,ofb:D,ctr:O},utils:{hex:c,utf8:l},padding:{pkcs7:{pad:function(e){var t=16-(e=a(e,!0)).length%16,n=o(e.length+t);s(e,n);for(var r=e.length;r<n.length;r++)n[r]=t;return n},strip:function(e){if((e=a(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var n=e.length-t,r=0;r<t;r++)if(e[n+r]!==t)throw new Error("PKCS#7 invalid padding byte");var i=o(n);return s(e,i,0,0,n),i}}},_arrayTest:{coerceArray:a,createArray:o,copyArray:s}};typeof e<"u"?t.exports=T:void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return T}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__=[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()}),Su=Me((e,t)=>{t.exports=function(e){return function(t){return null==e?void 0:e[t]}}}),Im=Me((e,t)=>{var n=Su()({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});t.exports=n}),Nm=Me((e,t)=>{var n="object"==typeof global&&global&&global.Object===Object&&global;t.exports=n}),Pm=Me((e,t)=>{var n=Nm(),r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();t.exports=i}),M3=Me((e,t)=>{var n=Pm().Symbol;t.exports=n}),Bm=Me((e,t)=>{t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}}),zm=Me((e,t)=>{var n=Array.isArray;t.exports=n}),Qm=Me((e,t)=>{var n=M3(),r=Object.prototype,i=r.hasOwnProperty,a=r.toString,o=n?n.toStringTag:void 0;t.exports=function(e){var t=i.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch{}var s=a.call(e);return r&&(t?e[o]=n:delete e[o]),s}}),Gm=Me((e,t)=>{var n=Object.prototype.toString;t.exports=function(e){return n.call(e)}}),Xm=Me((e,t)=>{var n=M3(),r=Qm(),i=Gm(),a=n?n.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):i(e)}}),Zm=Me((e,t)=>{t.exports=function(e){return null!=e&&"object"==typeof e}}),eh=Me((e,t)=>{var n=Xm(),r=Zm();t.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}}),oh=Me((e,t)=>{var n=M3(),r=Bm(),i=zm(),a=eh(),o=n?n.prototype:void 0,s=o?o.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(i(t))return r(t,e)+"";if(a(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}}),Cu=Me((e,t)=>{var n=oh();t.exports=function(e){return null==e?"":n(e)}}),u2=Me((e,t)=>{var n=Im(),r=Cu(),i=/[&<>"']/g,a=RegExp(i.source);t.exports=function(e){return(e=r(e))&&a.test(e)?e.replace(i,n):e}}),zn=Me((e,t)=>{"use strict";t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}}),si=Me((e,t)=>{!function(n,r){"object"==typeof e&&typeof t<"u"?t.exports=r():void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof(__WEBPACK_AMD_DEFINE_FACTORY__=r)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(0,(function(){"use strict";function e(e,r,i,a,o){!function e(n,r,i,a,o){for(;a>i;){if(a-i>600){var s=a-i+1,l=r-i+1,c=Math.log(s),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);e(n,r,Math.max(i,Math.floor(r-l*u/s+d)),Math.min(a,Math.floor(r+(s-l)*u/s+d)),o)}var p=n[r],f=i,h=a;for(t(n,i,r),o(n[a],p)>0&&t(n,i,a);f<h;){for(t(n,f,h),f++,h--;o(n[f],p)<0;)f++;for(;o(n[h],p)>0;)h--}0===o(n[i],p)?t(n,i,h):t(n,++h,a),h<=r&&(i=h+1),r<=h&&(a=h-1)}}(e,r,i||0,a||e.length-1,o||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function a(e,t){o(e,0,e.children.length,t,e)}function o(e,t,n,r,i){i||(i=h(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a=t;a<n;a++){var o=e.children[a];s(i,e.leaf?r(o):o)}return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function f(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function h(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,n,r,i,a){for(var o=[n,r];o.length;)if(!((r=o.pop())-(n=o.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;e(t,s,n,r,a),o.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!f(e,t))return n;for(var r=this.toBBox,i=[];t;){for(var a=0;a<t.children.length;a++){var o=t.children[a],s=t.leaf?r(o):o;f(e,s)&&(t.leaf?n.push(o):p(e,s)?this._all(o,n):i.push(o))}t=i.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!f(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var i=t.children[r],a=t.leaf?this.toBBox(i):i;if(f(e,a)){if(t.leaf||p(e,a))return!0;n.push(i)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=h([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,a,o=this.data,s=this.toBBox(e),l=[],c=[];o||l.length;){if(o||(o=l.pop(),r=l[l.length-1],n=c.pop(),a=!0),o.leaf){var u=i(e,o.children,t);if(-1!==u)return o.children.splice(u,1),l.push(o),this._condense(l),this}a||o.leaf||!p(o,s)?r?(n++,o=r.children[n],a=!1):o=null:(l.push(o),c.push(n),n=0,r=o,o=o.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var i,o=n-t+1,s=this._maxEntries;if(o<=s)return a(i=h(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=h([])).leaf=!1,i.height=r;var l=Math.ceil(o/s),c=l*Math.ceil(Math.sqrt(s));g(e,t,n,c,this.compareMinX);for(var u=t;u<=n;u+=c){var d=Math.min(u+c-1,n);g(e,u,d,l,this.compareMinY);for(var p=u;p<=d;p+=l){var f=Math.min(p+l-1,d);i.children.push(this._build(e,p,f,r-1))}}return a(i,this.toBBox),i},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var i=1/0,a=1/0,o=void 0,s=0;s<t.children.length;s++){var l=t.children[s],c=u(l),d=(p=e,f=l,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-c);d<a?(a=d,i=c<i?c:i,o=l):d===a&&c<i&&(i=c,o=l)}t=o||t.children[0]}var p,f;return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),i=[],a=this._chooseSubtree(r,this.data,t,i);for(a.children.push(e),s(a,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=h(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(e,t){this.data=h([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,i,a,s,l,c,d,p=1/0,f=1/0,h=t;h<=n-t;h++){var g=o(e,0,h,this.toBBox),m=o(e,h,n,this.toBBox),y=(i=g,a=m,void 0,void 0,void 0,void 0,s=Math.max(i.minX,a.minX),l=Math.max(i.minY,a.minY),c=Math.min(i.maxX,a.maxX),d=Math.min(i.maxY,a.maxY),Math.max(0,c-s)*Math.max(0,d-l)),v=u(g)+u(m);y<p?(p=y,r=h,f=v<f?v:f):y===p&&v<f&&(f=v,r=h)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:l,i=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var i=this.toBBox,a=o(e,0,t,i),l=o(e,n-t,n,i),c=d(a)+d(l),u=t;u<n-t;u++){var p=e.children[u];s(a,e.leaf?i(p):p),c+=d(a)}for(var f=n-t-1;f>=t;f--){var h=e.children[f];s(l,e.leaf?i(h):h),c+=d(l)}return c},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)s(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():a(e[t],this.toBBox)},r}))}),Ih=Me((e,t)=>{var n=Su()({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});t.exports=n}),Oh=Me((e,t)=>{var n=Cu(),r=Ih(),i=/&(?:amp|lt|gt|quot|#39);/g,a=RegExp(i.source);t.exports=function(e){return(e=n(e))&&a.test(e)?e.replace(i,r):e}}),ug=Me(e=>{e.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,p=n?-1:1,f=e[t+d];for(d+=p,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=c}return(f?-1:1)*o*Math.pow(2,a-r)},e.write=function(e,t,n,r,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+f]=255&o,f+=h,o/=256,c-=8);e[n+f-h]|=128*g}}),u9=Me((e,t)=>{"use strict";t.exports=r;var n=ug();function r(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var i=4294967296,a=1/i,o=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function s(e){return e.type===r.Bytes?e.readVarint()+e.pos:e.pos+1}function l(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function c(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function u(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function v(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function b(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function w(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,a=this.pos;this.type=7&r,e(i,t,this),this.pos===a&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=v(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=w(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=v(this.buf,this.pos)+v(this.buf,this.pos+4)*i;return this.pos+=8,e},readSFixed64:function(){var e=v(this.buf,this.pos)+w(this.buf,this.pos+4)*i;return this.pos+=8,e},readFloat:function(){var e=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128||(t|=(127&(n=r[this.pos++]))<<7,n<128)||(t|=(127&(n=r[this.pos++]))<<14,n<128)||(t|=(127&(n=r[this.pos++]))<<21,n<128)?t:function(e,t,n){var r,i,a=n.buf;if(i=a[n.pos++],r=(112&i)>>4,i<128||(i=a[n.pos++],r|=(127&i)<<3,i<128)||(i=a[n.pos++],r|=(127&i)<<10,i<128)||(i=a[n.pos++],r|=(127&i)<<17,i<128)||(i=a[n.pos++],r|=(127&i)<<24,i<128)||(i=a[n.pos++],r|=(1&i)<<31,i<128))return function(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&o?function(e,t,n){return o.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var a,o,s,l=e[i],c=null,u=l>239?4:l>223?3:l>191?2:1;if(i+u>n)break;1===u?l<128&&(c=l):2===u?128===(192&(a=e[i+1]))&&((c=(31&l)<<6|63&a)<=127&&(c=null)):3===u?(a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(((c=(15&l)<<12|(63&a)<<6|63&o)<=2047||c>=55296&&c<=57343)&&(c=null))):4===u&&(a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(((c=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||c>=1114112)&&(c=null))),null===c?(c=65533,u=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),i+=u}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==r.Bytes)return e.push(this.readVarint(t));var n=s(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==r.Bytes)return e.push(this.readSVarint());var t=s(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==r.Bytes)return e.push(this.readBoolean());var t=s(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==r.Bytes)return e.push(this.readFloat());var t=s(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==r.Bytes)return e.push(this.readDouble());var t=s(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed32());var t=s(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed32());var t=s(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed64());var t=s(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed64());var t=s(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,a=0;a<t.length;a++){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){r>56319||a+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&l(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),n.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),n.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&l(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,c,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,u,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,y,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}}),gg=Me((e,t)=>{"use strict";function n(e,t){this.x=e,this.y=t}t.exports=n,n.prototype={clone:function(){return new n(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),a=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.convert=function(e){return e instanceof n?e:Array.isArray(e)?new n(e[0],e[1]):e}}),c9=Me((e,t)=>{"use strict";var n=gg();function r(e,t,n,r,a){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=a,e.readFields(i,this,t)}function i(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function a(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)t=e[i],r+=((n=e[o]).x-t.x)*(t.y+n.y);return r}t.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,i=1,a=0,o=0,s=0,l=[];e.pos<r;){if(a<=0){var c=e.readVarint();i=7&c,a=c>>3}if(a--,1===i||2===i)o+=e.readSVarint(),s+=e.readSVarint(),1===i&&(t&&l.push(t),t=[]),t.push(new n(o,s));else{if(7!==i)throw new Error("unknown command "+i);t&&t.push(t[0].clone())}}return t&&l.push(t),l},r.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,a=0,o=1/0,s=-1/0,l=1/0,c=-1/0;e.pos<t;){if(r<=0){var u=e.readVarint();n=7&u,r=u>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<o&&(o=i),i>s&&(s=i),(a+=e.readSVarint())<l&&(l=a),a>c&&(c=a);else if(7!==n)throw new Error("unknown command "+n)}return[o,l,s,c]},r.prototype.toGeoJSON=function(e,t,n){var i,o,s=this.extent*Math.pow(2,n),l=this.extent*e,c=this.extent*t,u=this.loadGeometry(),d=r.types[this.type];function p(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+c)/s;e[t]=[360*(n.x+l)/s-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(i=0;i<u.length;i++)f[i]=u[i][0];p(u=f);break;case 2:for(i=0;i<u.length;i++)p(u[i]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var s=a(e[o]);0!==s&&(void 0===r&&(r=s<0),r===s<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}(u),i=0;i<u.length;i++)for(o=0;o<u[i].length;o++)p(u[i][o])}1===u.length?u=u[0]:d="Multi"+d;var h={type:"Feature",geometry:{type:d,coordinates:u},properties:this.properties};return"id"in this&&(h.id=this.id),h}}),f9=Me((e,t)=>{"use strict";var n=c9();function r(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(i,this,t),this.length=this._features.length}function i(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}t.exports=r,r.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new n(this._pbf,t,this.extent,this._keys,this._values)}}),wg=Me((e,t)=>{"use strict";var n=f9();function r(e,t,r){if(3===e){var i=new n(r,r.readVarint()+r.pos);i.length&&(t[i.name]=i)}}t.exports=function(e,t){this.layers=e.readFields(r,{},t)}}),d9=Me((e,t)=>{t.exports.VectorTile=wg(),t.exports.VectorTileFeature=c9(),t.exports.VectorTileLayer=f9()}),Q9=Me((e,t)=>{"use strict";t.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},a={key:r,value:e[r]};return n(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,o;if(Array.isArray(t)){for(o="[",n=0;n<t.length;n++)n&&(o+=","),o+=e(t[n])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=a.push(t)-1,l=Object.keys(t).sort(i&&i(t));for(o="",n=0;n<l.length;n++){var c=l[n],u=e(t[c]);!u||(o&&(o+=","),o+=JSON.stringify(c)+":"+u)}return a.splice(s,1),"{"+o+"}"}}(e)}}),Yg=Me((e,t)=>{!function(n,r){"object"==typeof e&&typeof t<"u"?r(e):(__WEBPACK_AMD_DEFINE_ARRAY__=[exports],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof(__WEBPACK_AMD_DEFINE_FACTORY__=r)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(0,(function(e){"use strict";function t(e){return e&&e.normalize&&e.normalize(),e&&e.textContent||""}function n(e,t){let n=e.getElementsByTagName(t);return n.length?n[0]:null}function r(e){let r={};if(e){let i=n(e,"line");if(i){let e=t(n(i,"color")),a=parseFloat(t(n(i,"opacity"))),o=parseFloat(t(n(i,"width")));e&&(r.stroke=e),isNaN(a)||(r["stroke-opacity"]=a),isNaN(o)||(r["stroke-width"]=96*o/25.4)}}return r}function i(e,r){let i,a,o={};for(a=0;a<r.length;a++)i=n(e,r[a]),i&&(o[r[a]]=t(i));return o}function a(e){let n=i(e,["name","cmt","desc","type","time","keywords"]),r=e.getElementsByTagNameNS("http://www.garmin.com/xmlschemas/GpxExtensions/v3","*");for(let i=0;i<r.length;i++){let a=r[i];a.parentNode.parentNode===e&&(n[a.tagName.replace(":","_")]=t(a))}let a=e.getElementsByTagName("link");a.length&&(n.links=[]);for(let t=0;t<a.length;t++)n.links.push(Object.assign({href:a[t].getAttribute("href")},i(a[t],["text","type"])));return n}function o(e){let r,i=[parseFloat(e.getAttribute("lon")),parseFloat(e.getAttribute("lat"))],a=n(e,"ele"),o=n(e,"gpxtpx:hr")||n(e,"hr"),s=n(e,"time");a&&(r=parseFloat(t(a)),isNaN(r)||i.push(r));let l={coordinates:i,time:s?t(s):null,extendedValues:[]};o&&l.extendedValues.push(["heart",parseFloat(t(o))]);let c=n(e,"extensions");if(null!==c)for(let u of["speed","course","hAcc","vAcc"]){let e=parseFloat(t(n(c,u)));isNaN(e)||l.extendedValues.push([u,e])}return l}function s(e){let t=l(e,"rtept");if(t)return{type:"Feature",properties:Object.assign(a(e),r(n(e,"extensions")),{_gpxType:"rte"}),geometry:{type:"LineString",coordinates:t.line}}}function l(e,t){let n=e.getElementsByTagName(t);if(n.length<2)return;let r=[],i=[],a={};for(let s=0;s<n.length;s++){let e=o(n[s]);r.push(e.coordinates),e.time&&i.push(e.time);for(let t=0;t<e.extendedValues.length;t++){let[r,i]=e.extendedValues[t],o="heart"===r?r:r+"s";a[o]||(a[o]=Array(n.length).fill(null)),a[o][s]=i}}return{line:r,times:i,extendedValues:a}}function c(e){let t=e.getElementsByTagName("trkseg"),i=[],o=[],s=[];for(let n=0;n<t.length;n++){let e=l(t[n],"trkpt");e&&(s.push(e),e.times&&e.times.length&&o.push(e.times))}if(0===s.length)return;let c=s.length>1,u=Object.assign(a(e),r(n(e,"extensions")),{_gpxType:"trk"},o.length?{coordinateProperties:{times:c?o:o[0]}}:{});for(let n=0;n<s.length;n++){let e=s[n];i.push(e.line);for(let[t,r]of Object.entries(e.extendedValues)){let e=u;"heart"===t&&(u.coordinateProperties||(u.coordinateProperties={}),e=u.coordinateProperties),c?(e[t]||(e[t]=s.map(e=>new Array(e.line.length).fill(null))),e[t][n]=r):e[t]=r}}return{type:"Feature",properties:u,geometry:c?{type:"MultiLineString",coordinates:i}:{type:"LineString",coordinates:i[0]}}}function*u(e){let t=e.getElementsByTagName("trk"),n=e.getElementsByTagName("rte"),r=e.getElementsByTagName("wpt");for(let i=0;i<t.length;i++){let e=c(t[i]);e&&(yield e)}for(let i=0;i<n.length;i++){let e=s(n[i]);e&&(yield e)}for(let s=0;s<r.length;s++)yield(l=r[s],{type:"Feature",properties:Object.assign(a(l),i(l,["sym"])),geometry:{type:"Point",coordinates:o(l).coordinates}});var l}let d=[["heartRate","heartRates"],["Cadence","cadences"],["Speed","speeds"],["Watts","watts"]],p=[["TotalTimeSeconds","totalTimeSeconds"],["DistanceMeters","distanceMeters"],["MaximumSpeed","maxSpeed"],["AverageHeartRateBpm","avgHeartRate"],["MaximumHeartRateBpm","maxHeartRate"],["AvgSpeed","avgSpeed"],["AvgWatts","avgWatts"],["MaxWatts","maxWatts"]];function f(e,r){let i=[];for(let[a,o]of r){let r=n(e,a);if(!r){let t=e.getElementsByTagNameNS("http://www.garmin.com/xmlschemas/ActivityExtension/v2",a);t.length&&(r=t[0])}let s=parseFloat(t(r));isNaN(s)||i.push([o,s])}return i}function h(e){let r=t(n(e,"LongitudeDegrees")),i=t(n(e,"LatitudeDegrees"));if(!r.length||!i.length)return null;let a,o=[parseFloat(r),parseFloat(i)],s=n(e,"AltitudeMeters"),l=n(e,"HeartRateBpm"),c=n(e,"Time");return s&&(a=parseFloat(t(s)),isNaN(a)||o.push(a)),{coordinates:o,time:c?t(c):null,heartRate:l?parseFloat(t(l)):null,extensions:f(e,d)}}function g(e,t){let n=e.getElementsByTagName(t),r=[],i=[],a=[];if(n.length<2)return null;let o={extendedProperties:{}};for(let s=0;s<n.length;s++){let e=h(n[s]);if(null!==e){r.push(e.coordinates),e.time&&i.push(e.time),e.heartRate&&a.push(e.heartRate);for(let[t,r]of e.extensions)o.extendedProperties[t]||(o.extendedProperties[t]=Array(n.length).fill(null)),o.extendedProperties[t][s]=r}}return Object.assign(o,{line:r,times:i,heartRates:a})}function m(e){let r,i=e.getElementsByTagName("Track"),a=[],o=[],s=[],l=[],c=function(e){let t={};for(let[n,r]of e)t[n]=r;return t}(f(e,p)),u=n(e,"Name");u&&(c.name=t(u));for(let t=0;t<i.length;t++)r=g(i[t],"Trackpoint"),r&&(a.push(r.line),r.times.length&&o.push(r.times),r.heartRates.length&&s.push(r.heartRates),l.push(r.extendedProperties));for(let t=0;t<l.length;t++){let e=l[t];for(let n in e)1===i.length?c[n]=r.extendedProperties[n]:(c[n]||(c[n]=a.map(e=>Array(e.length).fill(null))),c[n][t]=e[n])}if(0!==a.length)return(o.length||s.length)&&(c.coordinateProperties=Object.assign(o.length?{times:1===a.length?o[0]:o}:{},s.length?{heart:1===a.length?s[0]:s}:{})),{type:"Feature",properties:c,geometry:{type:1===a.length?"LineString":"MultiLineString",coordinates:1===a.length?a[0]:a}}}function*y(e){let t=e.getElementsByTagName("Lap");for(let r=0;r<t.length;r++){let e=m(t[r]);e&&(yield e)}let n=e.getElementsByTagName("Courses");for(let r=0;r<n.length;r++){let e=m(n[r]);e&&(yield e)}}let v=/\s*/g,b=/^\s*|\s*$/g,w=/\s+/;function _(e){if(!e||!e.length)return 0;let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return t}function k(e){return e.replace(v,"").split(",").map(parseFloat)}function x(e){return e.replace(b,"").split(w).map(k)}function A(e){if(void 0!==e.xml)return e.xml;if(e.tagName){let t=e.tagName;for(let n=0;n<e.attributes.length;n++)t+=e.attributes[n].name+e.attributes[n].value;for(let n=0;n<e.childNodes.length;n++)t+=A(e.childNodes[n]);return t}return"#text"===e.nodeName?(e.nodeValue||e.value||"").trim():"#cdata-section"===e.nodeName?e.nodeValue:""}let E=["Polygon","LineString","Point","Track","gx:Track"];function C(e,r,i){let a=t(n(r,"color"))||"",o="stroke"==i||"fill"===i?i:i+"-color";"#"===a.substr(0,1)&&(a=a.substr(1)),6===a.length||3===a.length?e[o]=a:8===a.length&&(e[i+"-opacity"]=parseInt(a.substr(0,2),16)/255,e[o]="#"+a.substr(6,2)+a.substr(4,2)+a.substr(2,2))}function S(e,r,i,a){let o=parseFloat(t(n(r,i)));isNaN(o)||(e[a]=o)}function M(e){let n=e.getElementsByTagName("coord"),r=[],i=[];0===n.length&&(n=e.getElementsByTagName("gx:coord"));for(let o=0;o<n.length;o++)r.push(t(n[o]).split(" ").map(parseFloat));let a=e.getElementsByTagName("when");for(let o=0;o<a.length;o++)i.push(t(a[o]));return{coords:r,times:i}}function N(e,r,i,a){let o,s=function e(r){let i,a,o,s,l,c=[],u=[];if(n(r,"MultiGeometry"))return e(n(r,"MultiGeometry"));if(n(r,"MultiTrack"))return e(n(r,"MultiTrack"));if(n(r,"gx:MultiTrack"))return e(n(r,"gx:MultiTrack"));for(o=0;o<E.length;o++)if(a=r.getElementsByTagName(E[o]),a)for(s=0;s<a.length;s++)if(i=a[s],"Point"===E[o])c.push({type:"Point",coordinates:k(t(n(i,"coordinates")))});else if("LineString"===E[o])c.push({type:"LineString",coordinates:x(t(n(i,"coordinates")))});else if("Polygon"===E[o]){let e=i.getElementsByTagName("LinearRing"),r=[];for(l=0;l<e.length;l++)r.push(x(t(n(e[l],"coordinates"))));c.push({type:"Polygon",coordinates:r})}else if("Track"===E[o]||"gx:Track"===E[o]){let e=M(i);c.push({type:"LineString",coordinates:e.coords}),e.times.length&&u.push(e.times)}return{geoms:c,coordTimes:u}}(e),l={},c=t(n(e,"name")),u=t(n(e,"address")),d=t(n(e,"styleUrl")),p=t(n(e,"description")),f=n(e,"TimeSpan"),h=n(e,"TimeStamp"),g=n(e,"ExtendedData"),m=n(e,"IconStyle"),y=n(e,"LabelStyle"),v=n(e,"LineStyle"),b=n(e,"PolyStyle"),w=n(e,"visibility");if(c&&(l.name=c),u&&(l.address=u),d){"#"!==d[0]&&(d="#"+d),l.styleUrl=d,r[d]&&(l.styleHash=r[d]),i[d]&&(l.styleMapHash=i[d],l.styleHash=r[i[d].normal]);let e=a[l.styleHash];e&&(m||(m=n(e,"IconStyle")),y||(y=n(e,"LabelStyle")),v||(v=n(e,"LineStyle")),b||(b=n(e,"PolyStyle")))}if(p&&(l.description=p),f){let e=t(n(f,"begin")),r=t(n(f,"end"));l.timespan={begin:e,end:r}}if(h&&(l.timestamp=t(n(h,"when"))),m){C(l,m,"icon"),S(l,m,"scale","icon-scale"),S(l,m,"heading","icon-heading");let e=n(m,"hotSpot");if(e){let t=parseFloat(e.getAttribute("x")),n=parseFloat(e.getAttribute("y"));isNaN(t)||isNaN(n)||(l["icon-offset"]=[t,n])}let r=n(m,"Icon");if(r){let e=t(n(r,"href"));e&&(l.icon=e)}}if(y&&(C(l,y,"label"),S(l,y,"scale","label-scale")),v&&(C(l,v,"stroke"),S(l,v,"width","stroke-width")),b){C(l,b,"fill");let e=t(n(b,"fill")),r=t(n(b,"outline"));e&&(l["fill-opacity"]="1"===e?l["fill-opacity"]||1:0),r&&(l["stroke-opacity"]="1"===r?l["stroke-opacity"]||1:0)}if(g){let e=g.getElementsByTagName("Data"),r=g.getElementsByTagName("SimpleData");for(o=0;o<e.length;o++)l[e[o].getAttribute("name")]=t(n(e[o],"value"));for(o=0;o<r.length;o++)l[r[o].getAttribute("name")]=t(r[o])}w&&(l.visibility=t(w)),s.coordTimes.length&&(l.coordinateProperties={times:1===s.coordTimes.length?s.coordTimes[0]:s.coordTimes});let _={type:"Feature",geometry:0===s.geoms.length?null:1===s.geoms.length?s.geoms[0]:{type:"GeometryCollection",geometries:s.geoms},properties:l};return e.getAttribute("id")&&(_.id=e.getAttribute("id")),_}function*I(e){let r={},i={},a={},o=e.getElementsByTagName("Placemark"),s=e.getElementsByTagName("Style"),l=e.getElementsByTagName("StyleMap");for(let t=0;t<s.length;t++){let e=_(A(s[t])).toString(16);r["#"+s[t].getAttribute("id")]=e,i[e]=s[t]}for(let c=0;c<l.length;c++){r["#"+l[c].getAttribute("id")]=_(A(l[c])).toString(16);let e=l[c].getElementsByTagName("Pair"),i={};for(let r=0;r<e.length;r++)i[t(n(e[r],"key"))]=t(n(e[r],"styleUrl"));a["#"+l[c].getAttribute("id")]=i}for(let t=0;t<o.length;t++){let e=N(o[t],r,a,i);e&&(yield e)}}e.gpx=function(e){return{type:"FeatureCollection",features:Array.from(u(e))}},e.gpxGen=u,e.kml=function(e){return{type:"FeatureCollection",features:Array.from(I(e))}},e.kmlGen=I,e.tcx=function(e){return{type:"FeatureCollection",features:Array.from(y(e))}},e.tcxGen=y,Object.defineProperty(e,"__esModule",{value:!0})}))}),Tv=Me((e,t)=>{function n(e,t){var n=r(e,t);return n.whole+"\xb0 "+(n.minutes?n.minutes+"' ":"")+(n.seconds?n.seconds+'" ':"")+n.dir}function r(e,t){var n=({lat:["N","S"],lon:["E","W"]}[t]||"")[e>=0?0:1],r=Math.abs(e),i=Math.floor(r),a=60*(r-i),o=Math.floor(a);return{whole:i,minutes:o,seconds:Math.floor(60*(a-o)),dir:n}}function i(e,t){if(t||(t="NSEW"),"string"!=typeof e)return null;var n=(e=e.toUpperCase()).match(/^[\s\,]*([NSEW])?\s*([\-|\\u2014|\\u2015]?[0-9.]+)[\xb0\xba\u02da]?\s*(?:([0-9.]+)['\u2019\u2032\u2018]\s*)?(?:([0-9.]+)(?:''|"|\u201d|\u2033)\s*)?([NSEW])?/);if(!n)return null;var r,i=n[0];if(n[1]&&n[5]?(r=n[1],i=i.slice(0,-1)):r=n[1]||n[5],r&&-1===t.indexOf(r))return null;var a=n[2]?parseFloat(n[2]):0,o=n[3]?parseFloat(n[3])/60:0,s=n[4]?parseFloat(n[4])/3600:0,l=a<0?-1:1;return("S"===r||"W"===r)&&(l*=-1),{val:(Math.abs(a)+o+s)*l,dim:r,matched:i,remain:e.slice(i.length)}}t.exports=function(e,t){var n=i(e,t);return null===n?null:n.val},t.exports.pair=function(e,t){var n=i(e=e.trim(),t);if(!n)return null;var r=i(e=n.remain.trim(),t);return!r||r.remain?null:n.dim?function(e,t,n){if("N"===n||"S"===n)return[e,t];if("W"===n||"E"===n)return[t,e]}(n.val,r.val,n.dim):[n.val,r.val]},t.exports.format=n,t.exports.formatPair=function(e){return n(e.lat,"lat")+" "+n(e.lon,"lon")},t.exports.coordToDMS=r}),Vo=Me((e,t)=>{var n=Object.assign?Object.assign:function(e,t,n,r){for(var i=1;i<arguments.length;i++)s(Object(arguments[i]),(function(t,n){e[n]=t}));return e},r=function(){if(Object.create)return function(e,t,r,i){var a=o(arguments,1);return n.apply(this,[Object.create(e)].concat(a))};{let e=function(){};return function(t,r,i,a){var s=o(arguments,1);return e.prototype=t,n.apply(this,[new e].concat(s))}}}(),i=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},a=typeof window<"u"?window:global;function o(e,t){return Array.prototype.slice.call(e,t||0)}function s(e,t){l(e,(function(e,n){return t(e,n),!1}))}function l(e,t){if(c(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function c(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}t.exports={assign:n,create:r,trim:i,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:o,each:s,map:function(e,t){var n=c(e)?[]:{};return l(e,(function(e,r){return n[r]=t(e,r),!1})),n},pluck:l,isList:c,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:a}}),ly=Me((e,t)=>{var n=Vo(),r=n.slice,i=n.pluck,a=n.each,o=n.bind,s=n.create,l=n.isList,c=n.isFunction,u=n.isObject;t.exports={createStore:p};var d={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return p.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return p(this.storage,this.plugins,e)}};function p(e,t,n){n||(n=""),e&&!l(e)&&(e=[e]),t&&!l(t)&&(t=[t]);var p=n?"__storejs_"+n+"_":"",f=n?new RegExp("^"+p):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var h=s({_namespacePrefix:p,_namespaceRegexp:f,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch{return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){var t=r(arguments,0),i=this;function o(){if(n)return a(arguments,(function(e,n){t[n]=e})),n.apply(i,t)}var s=[o].concat(t);return e.apply(i,s)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch{n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(l(e))a(e,(function(e){t._addPlugin(e)}));else if(!i(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!c(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!u(n))throw new Error("Plugins must return an object of function properties");a(n,(function(n,r){if(!c(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)}))}},addStorage:function(e){(function(){var e=typeof console>"u"?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}})("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},d,{plugins:[]});return h.raw={},a(h,(function(e,t){c(e)&&(h.raw[t]=o(h,e))})),a(e,(function(e){h._addStorage(e)})),a(t,(function(e){h._addPlugin(e)})),h}}),fy=Me((e,t)=>{var n=Vo().Global;function r(){return n.localStorage}function i(e){return r().getItem(e)}t.exports={name:"localStorage",read:i,write:function(e,t){return r().setItem(e,t)},each:function(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(i(n),n)}},remove:function(e){return r().removeItem(e)},clearAll:function(){return r().clear()}}}),my=Me((e,t)=>{var n=Vo().Global;t.exports={name:"oldFF-globalStorage",read:function(e){return r[e]},write:function(e,t){r[e]=t},each:i,remove:function(e){return r.removeItem(e)},clearAll:function(){i((function(e,t){delete r[e]}))}};var r=n.globalStorage;function i(e){for(var t=r.length-1;t>=0;t--){var n=r.key(t);e(r[n],n)}}}),vy=Me((e,t)=>{var n=Vo().Global;t.exports={name:"oldIE-userDataStorage",write:function(e,t){if(!o){var n=l(e);a((function(e){e.setAttribute(n,t),e.save(r)}))}},read:function(e){if(!o){var t=l(e),n=null;return a((function(e){n=e.getAttribute(t)})),n}},each:function(e){a((function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var i=n[r];e(t.getAttribute(i.name),i.name)}}))},remove:function(e){var t=l(e);a((function(e){e.removeAttribute(t),e.save(r)}))},clearAll:function(){a((function(e){var t=e.XMLDocument.documentElement.attributes;e.load(r);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(r)}))}};var r="storejs",i=n.document,a=function(){if(!i||!i.documentElement||!i.documentElement.addBehavior)return null;var e,t,n;try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,n=e.createElement("div")}catch{n=i.createElement("div"),e=i.body}return function(t){var i=[].slice.call(arguments,0);i.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load(r),t.apply(this,i),e.removeChild(n)}}(),o=(n.navigator?n.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);var s=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function l(e){return e.replace(/^\d/,"___$&").replace(s,"___")}}),ky=Me((e,t)=>{var n=Vo(),r=n.Global,i=n.trim;t.exports={name:"cookieStorage",read:function(e){if(!e||!l(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){!e||(a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},each:o,remove:s,clearAll:function(){o((function(e,t){s(t)}))}};var a=r.document;function o(e){for(var t=a.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(i(t[n])){var r=t[n].split("="),o=unescape(r[0]);e(unescape(r[1]),o)}}function s(e){!e||!l(e)||(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function l(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}}),Sy=Me((e,t)=>{var n=Vo().Global;function r(){return n.sessionStorage}function i(e){return r().getItem(e)}t.exports={name:"sessionStorage",read:i,write:function(e,t){return r().setItem(e,t)},each:function(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(i(n),n)}},remove:function(e){return r().removeItem(e)},clearAll:function(){return r().clear()}}}),Fy=Me((e,t)=>{t.exports={name:"memoryStorage",read:function(e){return n[e]},write:function(e,t){n[e]=t},each:function(e){for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},remove:function(e){delete n[e]},clearAll:function(e){n={}}};var n={}}),My=Me((e,t)=>{t.exports=[fy(),my(),vy(),ky(),Sy(),Fy()]}),Iy=Me((exports,module)=>{"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,i,a,o,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,n=0;n<a;n+=1)o[n]=str(n,l)||"null";return i=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(a=rep.length,n=0;n<a;n+=1)"string"==typeof rep[n]&&((i=str(r=rep[n],l))&&o.push(quote(r)+(gap?": ":":")+i));else for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&((i=str(r,l))&&o.push(quote(r)+(gap?": ":":")+i));return i=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(e,t,i)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}),Ny=Me((e,t)=>{t.exports=function(){return Iy(),{}}}),Py=Me((e,t)=>{var n=ly(),r=My(),i=[Ny()];t.exports=n.createStore(r,i)}),Ur=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ur<"u"&&Ur,un={searchParams:"URLSearchParams"in Ur,iterable:"Symbol"in Ur&&"iterator"in Symbol,blob:"FileReader"in Ur&&"Blob"in Ur&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Ur,arrayBuffer:"ArrayBuffer"in Ur},uc,fc;function _b(e){return e&&DataView.prototype.isPrototypeOf(e)}function es(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function U6(e){return"string"!=typeof e&&(e=String(e)),e}function z6(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return un.iterable&&(t[Symbol.iterator]=function(){return t}),t}function br(e){this.map={},e instanceof br?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function B6(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function dc(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function kb(e){var t=new FileReader,n=dc(t);return t.readAsArrayBuffer(e),n}function Eb(e){var t=new FileReader,n=dc(t);return t.readAsText(e),n}function Ab(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function cc(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function pc(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:un.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:un.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:un.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():un.arrayBuffer&&un.blob&&_b(e)?(this._bodyArrayBuffer=cc(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):un.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||fc(e))?this._bodyArrayBuffer=cc(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):un.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},un.blob&&(this.blob=function(){var e=B6(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?B6(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(kb)}),this.text=function(){var e=B6(this);if(e)return e;if(this._bodyBlob)return Eb(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ab(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},un.formData&&(this.formData=function(){return this.text().then(Fb)}),this.json=function(){return this.text().then(JSON.parse)},this}un.arrayBuffer&&(uc=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],fc=ArrayBuffer.isView||function(e){return e&&uc.indexOf(Object.prototype.toString.call(e))>-1}),br.prototype.append=function(e,t){e=es(e),t=U6(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},br.prototype.delete=function(e){delete this.map[es(e)]},br.prototype.get=function(e){return e=es(e),this.has(e)?this.map[e]:null},br.prototype.has=function(e){return this.map.hasOwnProperty(es(e))},br.prototype.set=function(e,t){this.map[es(e)]=U6(t)},br.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},br.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),z6(e)},br.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),z6(e)},br.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),z6(e)},un.iterable&&(br.prototype[Symbol.iterator]=br.prototype.entries);var Sb=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Cb(e){var t=e.toUpperCase();return Sb.indexOf(t)>-1?t:e}function ro(e,t){if(!(this instanceof ro))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof ro){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new br(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&null!=e._bodyInit&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new br(t.headers)),this.method=Cb(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function Fb(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function Db(e){var t=new br;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function vi(e,t){if(!(this instanceof vi))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new br(t.headers),this.url=t.url||"",this._initBody(e)}ro.prototype.clone=function(){return new ro(this,{body:this._bodyInit})},pc.call(ro.prototype),pc.call(vi.prototype),vi.prototype.clone=function(){return new vi(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new br(this.headers),url:this.url})},vi.error=function(){var e=new vi(null,{status:0,statusText:""});return e.type="error",e};var Mb=[301,302,303,307,308];vi.redirect=function(e,t){if(-1===Mb.indexOf(t))throw new RangeError("Invalid status code");return new vi(null,{status:t,headers:{location:e}})};var to=Ur.DOMException;try{new to}catch{to=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},to.prototype=Object.create(Error.prototype),to.prototype.constructor=to}function mc(e,t){return new Promise((function(n,r){var i=new ro(e,t);if(i.signal&&i.signal.aborted)return r(new to("Aborted","AbortError"));var a=new XMLHttpRequest;function o(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:Db(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;setTimeout((function(){n(new vi(t,e))}),0)},a.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){r(new to("Aborted","AbortError"))}),0)},a.open(i.method,function(e){try{return""===e&&Ur.location.href?Ur.location.href:e}catch{return e}}(i.url),!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&(un.blob?a.responseType="blob":un.arrayBuffer&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof br?i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){a.setRequestHeader(e,U6(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",o),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",o)}),a.send(typeof i._bodyInit>"u"?null:i._bodyInit)}))}mc.polyfill=!0,Ur.fetch||(Ur.fetch=mc,Ur.Headers=br,Ur.Request=ro,Ur.Response=vi),void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?a(e):t}function s(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}}function l(e,t,n){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}var c=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r].callback===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++){var i=t[n];try{i.callback.call(this,e)}catch(a){Promise.resolve().then((function(){throw a}))}i.options&&i.options.once&&this.removeEventListener(e.type,i.callback)}return!e.defaultPrevented}}}]),t}(),u=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,t);var o=s(u);function u(){var t;return e(this,u),(t=o.call(this)).listeners||c.call(a(t)),Object.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return n(u,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),l(r(u.prototype),"dispatchEvent",this).call(this,e)}}]),u}(c),d=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new u,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch{typeof document<"u"?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();function p(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}typeof Symbol<"u"&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",u.prototype[Symbol.toStringTag]="AbortSignal"),function(e){if(p(e)){if(!e.fetch)return void console.warn("fetch() is not available, cannot install abortcontroller-polyfill");var t=function(e){"function"==typeof e&&(e={fetch:e});var t=e,n=t.fetch,r=t.Request,i=void 0===r?n.Request:r,a=t.AbortController,o=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=void 0!==o&&o;if(!p({fetch:n,Request:i,AbortController:a,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:n,Request:l};var l=i;(l&&!l.prototype.hasOwnProperty("signal")||s)&&((l=function(e,t){var n;t&&t.signal&&(n=t.signal,delete t.signal);var r=new i(e,t);return n&&Object.defineProperty(r,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),r}).prototype=i.prototype);var c=n;return{fetch:function(e,t){var n=l&&l.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(n){var r;try{r=new DOMException("Aborted","AbortError")}catch{(r=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(r);var i=new Promise((function(e,t){n.addEventListener("abort",(function(){return t(r)}),{once:!0})}));return t&&t.signal&&delete t.signal,Promise.race([i,c(e,t)])}return c(e,t)},Request:l}}(e),n=t.fetch,r=t.Request;e.fetch=n,e.Request=r,Object.defineProperty(e,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:d}),Object.defineProperty(e,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:u})}}(typeof self<"u"?self:global)})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__);var J8={};function Cr(e){return function(t){return t.replace(e)}}function Mn(e,t){var n=/^.*(_|:)?(description|name|note|website|ref|source|comment|watch|attribution)(_|:)?/,r=/^([+\-]?)(?=[\d.])/,i=/direction$/,a=/^turn:lanes:?/,o=[[/:right$/,":left"],[/:left$/,":right"],[/:forward$/,":backward"],[/:backward$/,":forward"],[/:right:/,":left:"],[/:left:/,":right:"],[/:forward:/,":backward:"],[/:backward:/,":forward:"]],s={left:"right",right:"left",up:"down",down:"up",forward:"backward",backward:"forward",forwards:"backward",backwards:"forward"},l={forward:"backward",backward:"forward",forwards:"backward",backwards:"forward"},c={yes:"-1",1:"-1","-1":"yes"},u={N:"S",NNE:"SSW",NE:"SW",ENE:"WSW",E:"W",ESE:"WNW",SE:"NW",SSE:"NNW",S:"N",SSW:"NNE",SW:"NE",WSW:"ENE",W:"E",WNW:"ESE",NW:"SE",NNW:"SSE"};function d(e){for(var t=0;t<o.length;++t){var n=o[t];if(n[0].test(e))return e.replace(n[0],n[1])}return e}function p(e,o,l){if(n.test(e)||a.test(e))return o;if("incline"===e&&r.test(o))return o.replace(r,(function(e,t){return"-"===t?"":"-"}));if(t&&t.reverseOneway&&"oneway"===e)return c[o]||o;if(l&&i.test(e)){if(u[o])return u[o];var d=parseFloat(o);if("number"==typeof d&&!isNaN(d))return d<180?d+=180:d-=180,d.toString()}return s[o]||o}function f(t,n){for(var r=0;r<n.length;r++){var i=t.hasEntity(n[r]);if(i&&Object.keys(i.tags).length){var a={};for(var o in i.tags)a[d(o)]=p(o,i.tags[o],i.id===e);t=t.replace(i.update({tags:a}))}}return t}var h=function(t){var n=t.entity(e);return"way"===n.type?function(e,t){var n,r=t.nodes.slice().reverse(),i={};for(var a in t.tags)i[d(a)]=p(a,t.tags[a]);return e.parentRelations(t).forEach((function(r){r.members.forEach((function(i,a){i.id===t.id&&(n=l[i.role])&&(r=r.updateMember({role:n},a),e=e.replace(r))}))})),f(e,r).replace(t.update({nodes:r,tags:i}))}(t,n):f(t,[e])};return h.disabled=function(t){var n=t.hasEntity(e);if(!n||"way"===n.type)return!1;for(var r in n.tags){var i=n.tags[r];if(d(r)!==r||p(r,i,!0)!==i)return!1}return"nondirectional_node"},h.entityID=function(){return e},h}function Hr(e){return"attribution"!==e&&"created_by"!==e&&"source"!==e&&"odbl"!==e&&0!==e.indexOf("source:")&&0!==e.indexOf("source_ref")&&0!==e.indexOf("tiger:")}L6(J8,{QAItem:()=>Et,actionAddEntity:()=>Cr,actionAddMember:()=>Eo,actionAddMidpoint:()=>tr,actionAddVertex:()=>Bn,actionChangeMember:()=>La,actionChangePreset:()=>Ba,actionChangeTags:()=>Pt,actionCircularize:()=>O3,actionConnect:()=>Ua,actionCopyEntities:()=>H1,actionDeleteMember:()=>za,actionDeleteMultiple:()=>Ji,actionDeleteNode:()=>Ci,actionDeleteRelation:()=>cr,actionDeleteWay:()=>Un,actionDiscardTags:()=>Ao,actionDisconnect:()=>f2,actionExtract:()=>W1,actionJoin:()=>P3,actionMerge:()=>R3,actionMergeNodes:()=>_n,actionMergePolygon:()=>B3,actionMergeRemoteChanges:()=>Y1,actionMove:()=>Fi,actionMoveMember:()=>U3,actionMoveNode:()=>Va,actionNoop:()=>Er,actionOrthogonalize:()=>ja,actionReflect:()=>Q3,actionRestrictTurn:()=>Z1,actionReverse:()=>Mn,actionRevert:()=>d2,actionRotate:()=>z3,actionScale:()=>q3,actionSplit:()=>ea,actionStraightenNodes:()=>V3,actionStraightenWay:()=>j3,actionUnrestrictTurn:()=>p2,actionUpgradeTags:()=>$3,behaviorAddWay:()=>q4,behaviorBreathe:()=>Vn,behaviorDrag:()=>r4,behaviorDraw:()=>Di,behaviorDrawWay:()=>p4,behaviorEdit:()=>qn,behaviorHash:()=>y6,behaviorHover:()=>qr,behaviorLasso:()=>Kn,behaviorOperation:()=>At,behaviorPaste:()=>t4,behaviorSelect:()=>Wn,coreContext:()=>Hv,coreDifference:()=>Ii,coreFileFetcher:()=>ru,coreGraph:()=>kr,coreHistory:()=>vl,coreLocalizer:()=>Fu,coreLocations:()=>Au,coreTree:()=>gl,coreUploader:()=>xl,coreValidator:()=>bl,d3:()=>SD,debug:()=>c2,fileFetcher:()=>ze,geoAngle:()=>pr,geoChooseEdge:()=>wr,geoEdgeEqual:()=>N0,geoExtent:()=>he,geoGetSmallestSurroundingRectangle:()=>k1,geoHasLineIntersections:()=>O0,geoHasSelfIntersections:()=>Nn,geoLatToMeters:()=>bs,geoLineIntersection:()=>On,geoLonToMeters:()=>lo,geoMetersToLat:()=>Pr,geoMetersToLon:()=>xr,geoMetersToOffset:()=>h1,geoOffsetToMeters:()=>g1,geoOrthoCalcScore:()=>s3,geoOrthoCanOrthogonalize:()=>M1,geoOrthoMaxOffsetAngle:()=>op,geoOrthoNormalizedDotProduct:()=>ho,geoPathHasIntersections:()=>E7,geoPathIntersections:()=>w1,geoPathLength:()=>$i,geoPointInPolygon:()=>ki,geoPolygonContainsPolygon:()=>_1,geoPolygonIntersectsPolygon:()=>wa,geoRawMercator:()=>Jr,geoRotate:()=>xa,geoScaleToZoom:()=>Tt,geoSphericalClosestNode:()=>v1,geoSphericalDistance:()=>rt,geoVecAdd:()=>$t,geoVecAngle:()=>ya,geoVecCross:()=>ba,geoVecDot:()=>fn,geoVecEqual:()=>ur,geoVecFloor:()=>df,geoVecInterp:()=>gt,geoVecLength:()=>Qe,geoVecLengthSquare:()=>b1,geoVecNormalize:()=>va,geoVecNormalizedDot:()=>x1,geoVecProject:()=>T0,geoVecScale:()=>bn,geoVecSubtract:()=>pt,geoViewportEdge:()=>_a,geoZoomToScale:()=>Dr,localizer:()=>le,locationManager:()=>Ir,modeAddArea:()=>H5,modeAddLine:()=>W5,modeAddNote:()=>X5,modeAddPoint:()=>K5,modeBrowse:()=>be,modeDragNode:()=>jn,modeDragNote:()=>Hn,modeDrawArea:()=>z4,modeDrawLine:()=>Qn,modeMove:()=>e4,modeRotate:()=>Y3,modeSave:()=>Y5,modeSelect:()=>Ce,modeSelectData:()=>J5,modeSelectError:()=>Z5,modeSelectNote:()=>Za,operationCircularize:()=>Co,operationContinue:()=>Q8,operationCopy:()=>H2,operationDelete:()=>Vr,operationDisconnect:()=>$8,operationDowngrade:()=>W2,operationExtract:()=>G8,operationMerge:()=>H8,operationMove:()=>Io,operationOrthogonalize:()=>Fo,operationPaste:()=>K2,operationReflectLong:()=>Mo,operationReflectShort:()=>Do,operationReverse:()=>W8,operationRotate:()=>v2,operationSplit:()=>K8,operationStraighten:()=>X8,osmAreaKeys:()=>Bi,osmChangeset:()=>kn,osmEntity:()=>ye,osmFlowingWaterwayTagValues:()=>i1,osmInferRestriction:()=>K1,osmIntersection:()=>L3,osmIsInterestingTag:()=>Hr,osmIsOldMultipolygonOuterMember:()=>Ra,osmJoinWays:()=>zr,osmLanes:()=>T3,osmNode:()=>ot,osmNodeGeometriesForTags:()=>ua,osmNote:()=>Rt,osmOldMultipolygonOuterMember:()=>N3,osmOldMultipolygonOuterMemberOfRelation:()=>G1,osmOneWayTags:()=>Jn,osmPavedTags:()=>rs,osmPointTags:()=>r1,osmRailwayTrackTagValues:()=>e0,osmRelation:()=>gr,osmRoutableHighwayTagValues:()=>In,osmSetAreaKeys:()=>Y2,osmSetPointTags:()=>Z2,osmSetVertexTags:()=>J2,osmTagSuggestingArea:()=>la,osmTurn:()=>qa,osmVertexTags:()=>n1,osmWay:()=>Ot,prefs:()=>ce,presetCategory:()=>Du,presetCollection:()=>Lr,presetField:()=>Mu,presetIndex:()=>fh,presetManager:()=>ve,presetPreset:()=>ko,rendererBackground:()=>kl,rendererBackgroundSource:()=>jr,rendererFeatures:()=>El,rendererMap:()=>ql,rendererPhotos:()=>Vl,rendererTileLayer:()=>Ga,serviceImproveOSM:()=>i9,serviceKartaview:()=>p8,serviceKeepRight:()=>r9,serviceMapRules:()=>w9,serviceMapillary:()=>x9,serviceNominatim:()=>k9,serviceNsi:()=>d8,serviceOsm:()=>n4,serviceOsmWikibase:()=>M8,serviceOsmose:()=>o9,serviceStreetside:()=>I8,serviceTaginfo:()=>O8,serviceVectorTile:()=>B8,serviceWikidata:()=>q8,serviceWikipedia:()=>j8,services:()=>ne,svgAreas:()=>Fl,svgData:()=>h4,svgDebug:()=>g4,svgDefs:()=>Il,svgGeolocate:()=>di,svgIcon:()=>re,svgKartaviewImages:()=>gi,svgKeepRight:()=>Tl,svgLabels:()=>Nl,svgLayers:()=>A4,svgLines:()=>S4,svgMapillaryImages:()=>mi,svgMapillarySigns:()=>hi,svgMarkerSegments:()=>F2,svgMidpoints:()=>Bl,svgNotes:()=>Rl,svgOsm:()=>Pl,svgPassiveVertex:()=>C2,svgPath:()=>Ar,svgPointTransform:()=>kt,svgPoints:()=>Ul,svgRelationMemberTags:()=>Al,svgSegmentWay:()=>m4,svgStreetside:()=>pi,svgTagClasses:()=>hn,svgTagPattern:()=>Cl,svgTouch:()=>Ll,svgTurns:()=>zl,svgVertices:()=>C4,t:()=>C,uiAccount:()=>jl,uiAttribution:()=>Ql,uiChangesetEditor:()=>d5,uiCmd:()=>Ne,uiCombobox:()=>lt,uiCommit:()=>h5,uiCommitWarnings:()=>m5,uiConfirm:()=>Ya,uiConflicts:()=>g5,uiContributors:()=>$l,uiCurtain:()=>e5,uiDataEditor:()=>U4,uiDataHeader:()=>a5,uiDisclosure:()=>Uo,uiEditMenu:()=>Hl,uiEntityEditor:()=>k5,uiFeatureInfo:()=>Wl,uiFeatureList:()=>E5,uiField:()=>Sn,uiFieldAccess:()=>Y9,uiFieldAddress:()=>Z9,uiFieldCheck:()=>zo,uiFieldCombo:()=>En,uiFieldCycleway:()=>J9,uiFieldDefaultCheck:()=>zo,uiFieldEmail:()=>An,uiFieldHelp:()=>s5,uiFieldIdentifier:()=>An,uiFieldLanes:()=>l5,uiFieldLocalized:()=>e8,uiFieldManyCombo:()=>En,uiFieldMultiCombo:()=>En,uiFieldNetworkCombo:()=>En,uiFieldNumber:()=>An,uiFieldOnewayCheck:()=>zo,uiFieldRadio:()=>R2,uiFieldRestrictions:()=>u5,uiFieldRoadheight:()=>t8,uiFieldRoadspeed:()=>r8,uiFieldSemiCombo:()=>En,uiFieldStructureRadio:()=>R2,uiFieldTel:()=>An,uiFieldText:()=>An,uiFieldTextarea:()=>n8,uiFieldTypeCombo:()=>En,uiFieldUrl:()=>An,uiFieldWikidata:()=>i8,uiFieldWikipedia:()=>c5,uiFields:()=>f5,uiFlash:()=>Kl,uiFormFields:()=>I4,uiFullScreen:()=>Xl,uiGeolocate:()=>Yl,uiImproveOsmComments:()=>A5,uiImproveOsmDetails:()=>S5,uiImproveOsmEditor:()=>N4,uiImproveOsmHeader:()=>C5,uiInfo:()=>Jl,uiInfoPanels:()=>Zl,uiInit:()=>$5,uiInspector:()=>D5,uiIntro:()=>Wa,uiIssuesInfo:()=>t5,uiKeepRightDetails:()=>M5,uiKeepRightEditor:()=>P4,uiKeepRightHeader:()=>I5,uiLasso:()=>N5,uiLoading:()=>na,uiMapInMap:()=>Bo,uiModal:()=>nn,uiNoteComments:()=>O5,uiNoteEditor:()=>R4,uiNoteHeader:()=>P5,uiNoteReport:()=>R5,uiNotice:()=>r5,uiPaneBackground:()=>a6,uiPaneHelp:()=>o6,uiPaneIssues:()=>c6,uiPaneMapData:()=>g6,uiPanePreferences:()=>v6,uiPanelBackground:()=>H9,uiPanelHistory:()=>W9,uiPanelLocation:()=>K9,uiPanelMeasurement:()=>X9,uiPopover:()=>Gl,uiPresetIcon:()=>qo,uiPresetList:()=>F5,uiRestore:()=>n5,uiScale:()=>i5,uiSectionBackgroundDisplayOptions:()=>e6,uiSectionBackgroundList:()=>r6,uiSectionBackgroundOffset:()=>n6,uiSectionChanges:()=>p5,uiSectionDataLayers:()=>d6,uiSectionEntityIssues:()=>v5,uiSectionFeatureType:()=>y5,uiSectionMapFeatures:()=>p6,uiSectionMapStyleOptions:()=>m6,uiSectionOverlayList:()=>i6,uiSectionPhotoOverlays:()=>h6,uiSectionPresetFields:()=>b5,uiSectionPrivacy:()=>L4,uiSectionRawMemberEditor:()=>x5,uiSectionRawMembershipEditor:()=>w5,uiSectionRawTagEditor:()=>Xa,uiSectionSelectionList:()=>_5,uiSectionValidationIssues:()=>L2,uiSectionValidationOptions:()=>s6,uiSectionValidationRules:()=>l6,uiSectionValidationStatus:()=>u6,uiSettingsCustomBackground:()=>t6,uiSettingsCustomData:()=>f6,uiSidebar:()=>Q5,uiSourceSwitch:()=>L5,uiSpinner:()=>B5,uiSplash:()=>U5,uiStatus:()=>z5,uiSuccess:()=>q5,uiTagReference:()=>Ni,uiToggle:()=>Ti,uiTooltip:()=>Ee,uiVersion:()=>V5,uiViewOnKeepRight:()=>T5,uiViewOnOSM:()=>O4,uiZoom:()=>j5,utilAesDecrypt:()=>n2,utilAesEncrypt:()=>Am,utilArrayChunk:()=>Wi,utilArrayDifference:()=>Vt,utilArrayFlatten:()=>Fa,utilArrayGroupBy:()=>Ct,utilArrayIdentical:()=>hr,utilArrayIntersection:()=>Xt,utilArrayUnion:()=>xt,utilArrayUniq:()=>Te,utilArrayUniqBy:()=>Da,utilAsyncMap:()=>Sm,utilCleanTags:()=>i2,utilCombinedTags:()=>C3,utilCompareIDs:()=>D3,utilDeepMemberSelector:()=>S3,utilDetect:()=>Bt,utilDisplayLabel:()=>Ke,utilDisplayName:()=>Nt,utilDisplayNameForPath:()=>o2,utilDisplayType:()=>pn,utilEditDistance:()=>q1,utilEntityAndDeepMemberIDs:()=>xo,utilEntityOrDeepMemberSelector:()=>a2,utilEntityOrMemberSelector:()=>Xi,utilEntityRoot:()=>z1,utilEntitySelector:()=>xn,utilFastMouse:()=>er,utilFunctor:()=>Je,utilGetAllNodes:()=>_t,utilGetSetValue:()=>Se,utilHashcode:()=>Yi,utilHighlightEntities:()=>We,utilKeybinding:()=>Ie,utilNoAuto:()=>Ue,utilObjectOmit:()=>Mr,utilOldestID:()=>Zi,utilPrefixCSSProperty:()=>wo,utilPrefixDOMProperty:()=>F3,utilQsString:()=>$e,utilRebind:()=>fe,utilSafeClassName:()=>_o,utilSessionMutex:()=>E3,utilSetTransform:()=>wn,utilStringQs:()=>Ut,utilTagDiff:()=>Oa,utilTagText:()=>A3,utilTiler:()=>Jt,utilTotalExtent:()=>Ft,utilTriggerEvent:()=>U1,utilUnicodeCharsCount:()=>s2,utilUnicodeCharsTruncated:()=>j1,utilUniqueDomId:()=>mn,utilWrap:()=>V1,validationAlmostJunction:()=>C9,validationCloseNodes:()=>F9,validationCrossingWays:()=>D9,validationDisconnectedWay:()=>M9,validationFormatting:()=>I9,validationHelpRequest:()=>T9,validationImpossibleOneway:()=>N9,validationIncompatibleSource:()=>O9,validationMaprules:()=>P9,validationMismatchedGeometry:()=>R9,validationMissingRole:()=>L9,validationMissingTag:()=>B9,validationOutdatedTags:()=>U9,validationPrivateData:()=>z9,validationSuspiciousName:()=>q9,validationUnsquareWay:()=>V9});var Bi={};function Y2(e){Bi=e}var ts={highway:{elevator:!0,rest_area:!0,services:!0},public_transport:{platform:!0},railway:{platform:!0,roundhouse:!0,station:!0,traverser:!0,turntable:!0,wash:!0},waterway:{dam:!0}};function la(e){if("yes"===e.area)return{area:"yes"};if("no"===e.area)return null;var t={};for(var n in e)if(n in Bi&&!(e[n]in Bi[n])||n in ts&&e[n]in ts[n])return t[n]=e[n],t;return null}var r1={};function Z2(e){r1=e}var n1={};function J2(e){n1=e}function ua(e){var t={};for(var n in e)if(r1[n]&&(r1[n]["*"]||r1[n][e[n]])&&(t.point=!0),n1[n]&&(n1[n]["*"]||n1[n][e[n]])&&(t.vertex=!0),t.point&&t.vertex)break;return t}var Jn={aerialway:{chair_lift:!0,drag_lift:!0,"j-bar":!0,magic_carpet:!0,mixed_lift:!0,platter:!0,rope_tow:!0,"t-bar":!0,zip_line:!0},highway:{motorway:!0},junction:{circular:!0,roundabout:!0},man_made:{goods_conveyor:!0,"piste:halfpipe":!0},"piste:type":{downhill:!0,sled:!0,yes:!0},"seamark:type":{separation_lane:!0,separation_roundabout:!0},waterway:{canal:!0,ditch:!0,drain:!0,fish_pass:!0,river:!0,stream:!0,tidal_channel:!0}},rs={surface:{paved:!0,asphalt:!0,concrete:!0,"concrete:lanes":!0,"concrete:plates":!0},tracktype:{grade1:!0}},q6={surface:{cobblestone:!0,"cobblestone:flattened":!0,unhewn_cobblestone:!0,sett:!0,paving_stones:!0,metal:!0,wood:!0}},ns={natural:{cliff:!0,coastline:"coastline"},barrier:{retaining_wall:!0,kerb:!0,guard_rail:!0,city_wall:!0},man_made:{embankment:!0},waterway:{weir:!0}},In={motorway:!0,trunk:!0,primary:!0,secondary:!0,tertiary:!0,residential:!0,motorway_link:!0,trunk_link:!0,primary_link:!0,secondary_link:!0,tertiary_link:!0,unclassified:!0,road:!0,service:!0,track:!0,living_street:!0,bus_guideway:!0,path:!0,footway:!0,cycleway:!0,bridleway:!0,pedestrian:!0,corridor:!0,steps:!0},Ui={path:!0,footway:!0,cycleway:!0,bridleway:!0,pedestrian:!0,corridor:!0,steps:!0},e0={rail:!0,light_rail:!0,tram:!0,subway:!0,monorail:!0,funicular:!0,miniature:!0,narrow_gauge:!0,disused:!0,preserved:!0},i1={canal:!0,ditch:!0,drain:!0,fish_pass:!0,river:!0,stream:!0,tidal_channel:!0};function Wr(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ca(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function no(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{let t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=Wr,n=(t,n)=>Wr(e(t),n),r=(t,n)=>e(t)-n):(t=e===Wr||e===ca?e:Ib,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,o=i(e,t,n,a-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{let t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function Ib(){return 0}function t0(e){return null===e?NaN:+e}function*hc(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}var gc=no(Wr),vc=gc.right,Tb=gc.left,Nb=no(t0).center,is=vc,ir=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let t=this._partials,n=0;for(let r=0;r<this._n&&r<32;r++){let i=t[r],a=e+i,o=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);o&&(t[n++]=o),e=a}return t[n]=e,this._n=n+1,this}valueOf(){let e,t,n,r=this._partials,i=this._n,a=0;if(i>0){for(a=r[--i];i>0&&(e=a,t=r[--i],a=e+t,n=t-(a-e),!n););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(t=2*n,e=a+t,t==e-a&&(a=e))}return a}};function yc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr;if(e===Wr)return V6;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{let r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function V6(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}var j6=Math.sqrt(50),Q6=Math.sqrt(10),$6=Math.sqrt(2);function r0(e,t,n){var r,i,a,o,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=n0(e,t,n))||!isFinite(o))return[];if(o>0){let n=Math.round(e/o),r=Math.round(t/o);for(n*o<e&&++n,r*o>t&&--r,a=new Array(i=r-n+1);++s<i;)a[s]=(n+s)*o}else{o=-o;let n=Math.round(e*o),r=Math.round(t*o);for(n/o<e&&++n,r/o>t&&--r,a=new Array(i=r-n+1);++s<i;)a[s]=(n+s)/o}return r&&a.reverse(),a}function n0(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=j6?10:a>=Q6?5:a>=$6?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=j6?10:a>=Q6?5:a>=$6?2:1)}function G6(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=j6?i*=10:a>=Q6?i*=5:a>=$6&&(i*=2),t<e?-i:i}function i0(e,t){let n;if(void 0===t)for(let r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function a0(e,t){let n;if(void 0===t)for(let r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function o0(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,i=arguments.length>4?arguments[4]:void 0;for(i=void 0===i?V6:yc(i);r>n;){if(r-n>600){let a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);o0(e,t,Math.max(n,Math.floor(t-o*l/a+c)),Math.min(r,Math.floor(t+(a-o)*l/a+c)),i)}let a=e[t],o=n,s=r;for(as(e,n,t),i(e[r],a)>0&&as(e,n,r);o<s;){for(as(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[n],a)?as(e,n,s):(++s,as(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function as(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function H6(e,t,n){if(r=(e=Float64Array.from(hc(e,n))).length){if((t=+t)<=0||r<2)return a0(e);if(t>=1)return i0(e);var r,i=(r-1)*t,a=Math.floor(i),o=i0(o0(e,a).subarray(0,a+1));return o+(a0(e.subarray(a+1))-o)*(i-a)}}function s0(e,t){return H6(e,.5,t)}function*Ob(e){for(let t of e)yield*t}function a1(e){return Array.from(Ob(e))}function fa(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}var ut=1e-6,bc=1e-12,it=Math.PI,Fr=it/2,o1=it/4,lr=2*it,ar=180/it,at=it/180,yt=Math.abs,l0=Math.atan,gn=Math.atan2,ct=Math.cos,xc=Math.exp,wc=Math.log,ht=Math.sin,_c=Math.sign||function(e){return e>0?1:e<0?-1:0},Kr=Math.sqrt,kc=Math.tan;function Ec(e){return e>1?0:e<-1?it:Math.acos(e)}function zi(e){return e>1?Fr:e<-1?-Fr:Math.asin(e)}function It(){}function u0(e,t){e&&Sc.hasOwnProperty(e.type)&&Sc[e.type](e,t)}var Ac={Feature:function(e,t){u0(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)u0(n[r].geometry,t)}},Sc={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){W6(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)W6(n[r],t,0)},Polygon:function(e,t){Cc(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Cc(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)u0(n[r],t)}};function W6(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Cc(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)W6(e[n],t,1);t.polygonEnd()}function Or(e,t){e&&Ac.hasOwnProperty(e.type)?Ac[e.type](e,t):u0(e,t)}var os=new ir,c0=new ir,Fc,Dc,K6,X6,Y6,ei={point:It,lineStart:It,lineEnd:It,polygonStart:function(){os=new ir,ei.lineStart=Pb,ei.lineEnd=Rb},polygonEnd:function(){var e=+os;c0.add(e<0?lr+e:e),this.lineStart=this.lineEnd=this.point=It},sphere:function(){c0.add(lr)}};function Pb(){ei.point=Lb}function Rb(){Mc(Fc,Dc)}function Lb(e,t){ei.point=Mc,Fc=e,Dc=t,K6=e*=at,X6=ct(t=(t*=at)/2+o1),Y6=ht(t)}function Mc(e,t){var n=(e*=at)-K6,r=n>=0?1:-1,i=r*n,a=ct(t=(t*=at)/2+o1),o=ht(t),s=Y6*o,l=X6*a+s*ct(i),c=s*r*ht(i);os.add(gn(c,l)),K6=e,X6=a,Y6=o}function yi(e){return c0=new ir,Or(e,ei),2*c0}function io(e){return[gn(e[1],e[0]),zi(e[2])]}function Tn(e){var t=e[0],n=e[1],r=ct(n);return[r*ct(t),r*ht(t),ht(n)]}function ss(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function qi(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function f0(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ls(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ao(e){var t=Kr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Zt,cn,or,yn,oo,Oc,Pc,s1,us,da,ji,Vi={point:Z6,lineStart:Ic,lineEnd:Tc,polygonStart:function(){Vi.point=Lc,Vi.lineStart=Bb,Vi.lineEnd=Ub,us=new ir,ei.polygonStart()},polygonEnd:function(){ei.polygonEnd(),Vi.point=Z6,Vi.lineStart=Ic,Vi.lineEnd=Tc,os<0?(Zt=-(or=180),cn=-(yn=90)):us>ut?yn=90:us<-ut&&(cn=-90),ji[0]=Zt,ji[1]=or},sphere:function(){Zt=-(or=180),cn=-(yn=90)}};function Z6(e,t){da.push(ji=[Zt=e,or=e]),t<cn&&(cn=t),t>yn&&(yn=t)}function Rc(e,t){var n=Tn([e*at,t*at]);if(s1){var r=qi(s1,n),i=qi([r[1],-r[0],0],r);ao(i),i=io(i);var a,o=e-oo,s=o>0?1:-1,l=i[0]*ar*s,c=yt(o)>180;c^(s*oo<l&&l<s*e)?(a=i[1]*ar)>yn&&(yn=a):c^(s*oo<(l=(l+360)%360-180)&&l<s*e)?(a=-i[1]*ar)<cn&&(cn=a):(t<cn&&(cn=t),t>yn&&(yn=t)),c?e<oo?vn(Zt,e)>vn(Zt,or)&&(or=e):vn(e,or)>vn(Zt,or)&&(Zt=e):or>=Zt?(e<Zt&&(Zt=e),e>or&&(or=e)):e>oo?vn(Zt,e)>vn(Zt,or)&&(or=e):vn(e,or)>vn(Zt,or)&&(Zt=e)}else da.push(ji=[Zt=e,or=e]);t<cn&&(cn=t),t>yn&&(yn=t),s1=n,oo=e}function Ic(){Vi.point=Rc}function Tc(){ji[0]=Zt,ji[1]=or,Vi.point=Z6,s1=null}function Lc(e,t){if(s1){var n=e-oo;us.add(yt(n)>180?n+(n>0?360:-360):n)}else Oc=e,Pc=t;ei.point(e,t),Rc(e,t)}function Bb(){ei.lineStart()}function Ub(){Lc(Oc,Pc),ei.lineEnd(),yt(us)>ut&&(Zt=-(or=180)),ji[0]=Zt,ji[1]=or,s1=null}function vn(e,t){return(t-=e)<0?t+360:t}function zb(e,t){return e[0]-t[0]}function Nc(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function l1(e){var t,n,r,i,a,o,s;if(yn=or=-(Zt=cn=1/0),da=[],Or(e,Vi),n=da.length){for(da.sort(zb),t=1,a=[r=da[0]];t<n;++t)Nc(r,(i=da[t])[0])||Nc(r,i[1])?(vn(r[0],i[1])>vn(r[0],r[1])&&(r[1]=i[1]),vn(i[0],r[1])>vn(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,t=0,r=a[n=a.length-1];t<=n;r=i,++t)i=a[t],(s=vn(r[1],i[0]))>o&&(o=s,Zt=i[0],or=r[1])}return da=ji=null,Zt===1/0||cn===1/0?[[NaN,NaN],[NaN,NaN]]:[[Zt,cn],[or,yn]]}function cs(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function J6(e,t){return[yt(e)>it?e+Math.round(-e/lr)*lr:e,t]}function e7(e,t,n){return(e%=lr)?t||n?cs(Uc(e),zc(t,n)):Uc(e):t||n?zc(t,n):J6}function Bc(e){return function(t,n){return[(t+=e)>it?t-lr:t<-it?t+lr:t,n]}}function Uc(e){var t=Bc(e);return t.invert=Bc(-e),t}function zc(e,t){var n=ct(e),r=ht(e),i=ct(t),a=ht(t);function o(e,t){var o=ct(t),s=ct(e)*o,l=ht(e)*o,c=ht(t),u=c*n+s*r;return[gn(l*i-u*a,s*n-c*r),zi(u*i+l*a)]}return o.invert=function(e,t){var o=ct(t),s=ct(e)*o,l=ht(e)*o,c=ht(t),u=c*i-l*a;return[gn(l*i+c*a,s*n+u*r),zi(u*n-s*r)]},o}function qc(e){function t(t){return(t=e(t[0]*at,t[1]*at))[0]*=ar,t[1]*=ar,t}return e=e7(e[0]*at,e[1]*at,e.length>2?e[2]*at:0),t.invert=function(t){return(t=e.invert(t[0]*at,t[1]*at))[0]*=ar,t[1]*=ar,t},t}function jc(e,t,n,r,i,a){if(n){var o=ct(t),s=ht(t),l=r*n;null==i?(i=t+r*lr,a=t-l/2):(i=Vc(o,i),a=Vc(o,a),(r>0?i<a:i>a)&&(i+=r*lr));for(var c,u=i;r>0?u>a:u<a;u-=l)c=io([o,-s*ct(u),-s*ht(u)]),e.point(c[0],c[1])}}function Vc(e,t){(t=Tn(t))[0]-=e,ao(t);var n=Ec(-t[1]);return((-t[2]<0?-n:n)+lr-ut)%lr}function d0(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:It,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function u1(e,t){return yt(e[0]-t[0])<ut&&yt(e[1]-t[1])<ut}function p0(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function m0(e,t,n,r,i){var a,o,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(u1(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);return void i.lineEnd()}o[0]+=2*ut}s.push(n=new p0(r,e,null,!0)),l.push(n.o=new p0(r,null,n,!1)),s.push(n=new p0(o,e,null,!1)),l.push(n.o=new p0(o,null,n,!0))}})),s.length){for(l.sort(t),Qc(s),Qc(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;for(var c,u,d=s[0];;){for(var p=d,f=!0;p.v;)if((p=p.n)===d)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(a=0,o=c.length;a<o;++a)i.point((u=c[a])[0],u[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(f)for(c=p.p.z,a=c.length-1;a>=0;--a)i.point((u=c[a])[0],u[1]);else r(p.x,p.p.x,-1,i);p=p.p}c=(p=p.o).z,f=!f}while(!p.v);i.lineEnd()}}}function Qc(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function t7(e){return yt(e[0])<=it?e[0]:_c(e[0])*((yt(e[0])+it)%lr-it)}function $c(e,t){var n=t7(t),r=t[1],i=ht(r),a=[ht(n),-ct(n),0],o=0,s=0,l=new ir;1===i?r=Fr+ut:-1===i&&(r=-Fr-ut);for(var c=0,u=e.length;c<u;++c)if(p=(d=e[c]).length)for(var d,p,f=d[p-1],h=t7(f),g=f[1]/2+o1,m=ht(g),y=ct(g),v=0;v<p;++v,h=w,m=k,y=x,f=b){var b=d[v],w=t7(b),_=b[1]/2+o1,k=ht(_),x=ct(_),A=w-h,E=A>=0?1:-1,C=E*A,S=C>it,M=m*k;if(l.add(gn(M*E*ht(C),y*x+M*ct(C))),o+=S?A+E*lr:A,S^h>=n^w>=n){var N=qi(Tn(f),Tn(b));ao(N);var I=qi(a,N);ao(I);var D=(S^A>=0?-1:1)*zi(I[2]);(r>D||r===D&&(N[0]||N[1]))&&(s+=S^A>=0?1:-1)}}return(o<-ut||o<ut&&l<-bc)^1&s}function h0(e,t,n,r){return function(i){var a,o,s,l=t(i),c=d0(),u=t(c),d=!1,p={point:f,lineStart:g,lineEnd:m,polygonStart:function(){p.point=y,p.lineStart=v,p.lineEnd=b,o=[],a=[]},polygonEnd:function(){p.point=f,p.lineStart=g,p.lineEnd=m,o=a1(o);var e=$c(a,r);o.length?(d||(i.polygonStart(),d=!0),m0(o,Vb,e,n,i)):e&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(t,n){e(t,n)&&i.point(t,n)}function h(e,t){l.point(e,t)}function g(){p.point=h,l.lineStart()}function m(){p.point=f,l.lineEnd()}function y(e,t){s.push([e,t]),u.point(e,t)}function v(){u.lineStart(),s=[]}function b(){y(s[0][0],s[0][1]),u.lineEnd();var e,t,n,r,l=u.clean(),p=c.result(),f=p.length;if(s.pop(),a.push(s),s=null,f){if(1&l){if((t=(n=p[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}return}f>1&&2&l&&p.push(p.pop().concat(p.shift())),o.push(p.filter(qb))}}return p}}function qb(e){return e.length>1}function Vb(e,t){return((e=e.x)[0]<0?e[1]-Fr-ut:Fr-e[1])-((t=t.x)[0]<0?t[1]-Fr-ut:Fr-t[1])}J6.invert=J6;var r7=h0((function(){return!0}),jb,$b,[-it,-Fr]);function jb(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?it:-it,l=yt(a-n);yt(l-it)<ut?(e.point(n,r=(r+o)/2>0?Fr:-Fr),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&l>=it&&(yt(n-i)<ut&&(n-=i*ut),yt(a-s)<ut&&(a-=s*ut),r=Qb(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function Qb(e,t,n,r){var i,a,o=ht(e-n);return yt(o)>ut?l0((ht(t)*(a=ct(r))*ht(n)-ht(r)*(i=ct(t))*ht(e))/(i*a*o)):(t+r)/2}function $b(e,t,n,r){var i;if(null==e)i=n*Fr,r.point(-it,i),r.point(0,i),r.point(it,i),r.point(it,0),r.point(it,-i),r.point(0,-i),r.point(-it,-i),r.point(-it,0),r.point(-it,i);else if(yt(e[0]-t[0])>ut){var a=e[0]<t[0]?it:-it;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function Gc(e){var t=ct(e),n=6*at,r=t>0,i=yt(t)>ut;function a(e,n){return ct(e)*ct(n)>t}function o(e,n,r){var i=[1,0,0],a=qi(Tn(e),Tn(n)),o=ss(a,a),s=a[0],l=o-s*s;if(!l)return!r&&e;var c=t*o/l,u=-t*s/l,d=qi(i,a),p=ls(i,c);f0(p,ls(a,u));var f=d,h=ss(p,f),g=ss(f,f),m=h*h-g*(ss(p,p)-1);if(!(m<0)){var y=Kr(m),v=ls(f,(-h-y)/g);if(f0(v,p),v=io(v),!r)return v;var b,w=e[0],_=n[0],k=e[1],x=n[1];_<w&&(b=w,w=_,_=b);var A=_-w,E=yt(A-it)<ut;if(!E&&x<k&&(b=k,k=x,x=b),E||A<ut?E?k+x>0^v[1]<(yt(v[0]-w)<ut?k:x):k<=v[1]&&v[1]<=x:A>it^(w<=v[0]&&v[0]<=_)){var C=ls(f,(-h+y)/g);return f0(C,p),[v,io(C)]}}}function s(t,n){var i=r?e:it-e,a=0;return t<-i?a|=1:t>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return h0(a,(function(e){var t,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,p){var f,h=[d,p],g=a(d,p),m=r?g?0:s(d,p):g?s(d+(d<0?it:-it),p):0;if(!t&&(c=l=g)&&e.lineStart(),g!==l&&((!(f=o(t,h))||u1(t,f)||u1(h,f))&&(h[2]=1)),g!==l)u=0,g?(e.lineStart(),f=o(h,t),e.point(f[0],f[1])):(f=o(t,h),e.point(f[0],f[1],2),e.lineEnd()),t=f;else if(i&&t&&r^g){var y;!(m&n)&&(y=o(h,t,!0))&&(u=0,r?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1],3)))}g&&(!t||!u1(t,h))&&e.point(h[0],h[1]),t=h,l=g,n=m},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}}),(function(t,r,i,a){jc(a,e,n,i,t,r)}),r?[0,-e]:[-it,e-it])}function Hc(e,t,n,r,i,a){var o,s=e[0],l=e[1],c=0,u=1,d=t[0]-s,p=t[1]-l;if(o=n-s,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<u&&(u=o)}else if(d>0){if(o>u)return;o>c&&(c=o)}if(o=i-s,d||!(o<0)){if(o/=d,d<0){if(o>u)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<u&&(u=o)}if(o=r-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<u&&(u=o)}else if(p>0){if(o>u)return;o>c&&(c=o)}if(o=a-l,p||!(o<0)){if(o/=p,p<0){if(o>u)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<u&&(u=o)}return c>0&&(e[0]=s+c*d,e[1]=l+c*p),u<1&&(t[0]=s+u*d,t[1]=l+u*p),!0}}}}}var fs=1e9,g0=-fs;function ds(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,s,c){var u=0,d=0;if(null==i||(u=o(i,s))!==(d=o(a,s))||l(i,a)<0^s>0)do{c.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+s+4)%4)!==d);else c.point(a[0],a[1])}function o(r,i){return yt(r[0]-e)<ut?i>0?0:3:yt(r[0]-n)<ut?i>0?2:1:yt(r[1]-t)<ut?i>0?1:0:i>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var l,c,u,d,p,f,h,g,m,y,v,b=o,w=d0(),_={point:k,lineStart:function(){_.point=x,c&&c.push(u=[]),y=!0,m=!1,h=g=NaN},lineEnd:function(){l&&(x(d,p),f&&m&&w.rejoin(),l.push(w.result())),_.point=k,m&&b.lineEnd()},polygonStart:function(){b=w,l=[],c=[],v=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var a,o,s=c[n],l=1,u=s.length,d=s[0],p=d[0],f=d[1];l<u;++l)a=p,o=f,d=s[l],p=d[0],f=d[1],o<=r?f>r&&(p-a)*(r-o)>(f-o)*(e-a)&&++t:f<=r&&(p-a)*(r-o)<(f-o)*(e-a)&&--t;return t}(),n=v&&t,i=(l=a1(l)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&m0(l,s,t,a,o),o.polygonEnd()),b=o,l=c=u=null}};function k(e,t){i(e,t)&&b.point(e,t)}function x(a,o){var s=i(a,o);if(c&&u.push([a,o]),y)d=a,p=o,f=s,y=!1,s&&(b.lineStart(),b.point(a,o));else if(s&&m)b.point(a,o);else{var l=[h=Math.max(g0,Math.min(fs,h)),g=Math.max(g0,Math.min(fs,g))],w=[a=Math.max(g0,Math.min(fs,a)),o=Math.max(g0,Math.min(fs,o))];Hc(l,w,e,t,n,r)?(m||(b.lineStart(),b.point(l[0],l[1])),b.point(w[0],w[1]),s||b.lineEnd(),v=!1):s&&(b.lineStart(),b.point(a,o),v=!1)}h=a,g=o,m=s}return _}}var n7,i7,v0,y0,c1={sphere:It,point:It,lineStart:Gb,lineEnd:It,polygonStart:It,polygonEnd:It};function Gb(){c1.point=Wb,c1.lineEnd=Hb}function Hb(){c1.point=c1.lineEnd=It}function Wb(e,t){i7=e*=at,v0=ht(t*=at),y0=ct(t),c1.point=Kb}function Kb(e,t){e*=at;var n=ht(t*=at),r=ct(t),i=yt(e-i7),a=ct(i),o=r*ht(i),s=y0*n-v0*r*a,l=v0*n+y0*r*a;n7.add(gn(Kr(o*o+s*s),l)),i7=e,v0=n,y0=r}function a7(e){return n7=new ir,Or(e,c1),+n7}var pa=e=>e,o7=new ir,s7=new ir,Wc,Kc,l7,u7,ma={point:It,lineStart:It,lineEnd:It,polygonStart:function(){ma.lineStart=Xb,ma.lineEnd=Zb},polygonEnd:function(){ma.lineStart=ma.lineEnd=ma.point=It,o7.add(yt(s7)),s7=new ir},result:function(){var e=o7/2;return o7=new ir,e}};function Xb(){ma.point=Yb}function Yb(e,t){ma.point=Xc,Wc=l7=e,Kc=u7=t}function Xc(e,t){s7.add(u7*e-l7*t),l7=e,u7=t}function Zb(){Xc(Wc,Kc)}var c7=ma,f1=1/0,b0=f1,ps=-f1,x0=ps,Jb={point:ex,lineStart:It,lineEnd:It,polygonStart:It,polygonEnd:It,result:function(){var e=[[f1,b0],[ps,x0]];return ps=x0=-(b0=f1=1/0),e}};function ex(e,t){e<f1&&(f1=e),e>ps&&(ps=e),t<b0&&(b0=t),t>x0&&(x0=t)}var d1=Jb,f7=0,d7=0,ms=0,w0=0,_0=0,p1=0,p7=0,m7=0,hs=0,Jc,ef,bi,xi,ti={point:so,lineStart:Yc,lineEnd:Zc,polygonStart:function(){ti.lineStart=nx,ti.lineEnd=ix},polygonEnd:function(){ti.point=so,ti.lineStart=Yc,ti.lineEnd=Zc},result:function(){var e=hs?[p7/hs,m7/hs]:p1?[w0/p1,_0/p1]:ms?[f7/ms,d7/ms]:[NaN,NaN];return f7=d7=ms=w0=_0=p1=p7=m7=hs=0,e}};function so(e,t){f7+=e,d7+=t,++ms}function Yc(){ti.point=tx}function tx(e,t){ti.point=rx,so(bi=e,xi=t)}function rx(e,t){var n=e-bi,r=t-xi,i=Kr(n*n+r*r);w0+=i*(bi+e)/2,_0+=i*(xi+t)/2,p1+=i,so(bi=e,xi=t)}function Zc(){ti.point=so}function nx(){ti.point=ax}function ix(){tf(Jc,ef)}function ax(e,t){ti.point=tf,so(Jc=bi=e,ef=xi=t)}function tf(e,t){var n=e-bi,r=t-xi,i=Kr(n*n+r*r);w0+=i*(bi+e)/2,_0+=i*(xi+t)/2,p1+=i,p7+=(i=xi*e-bi*t)*(bi+e),m7+=i*(xi+t),hs+=3*i,so(bi=e,xi=t)}var h7=ti;function k0(e){this._context=e}k0.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,lr)}},result:It};var v7=new ir,g7,rf,nf,gs,vs,E0={point:It,lineStart:function(){E0.point=ox},lineEnd:function(){g7&&af(rf,nf),E0.point=It},polygonStart:function(){g7=!0},polygonEnd:function(){g7=null},result:function(){var e=+v7;return v7=new ir,e}};function ox(e,t){E0.point=af,rf=gs=e,nf=vs=t}function af(e,t){gs-=e,vs-=t,v7.add(Kr(gs*gs+vs*vs)),gs=e,vs=t}var y7=E0;function A0(){this._string=[]}function of(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Xr(e,t){var n,r,i=4.5;function a(e){return e&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Or(e,n(r))),r.result()}return a.area=function(e){return Or(e,n(c7)),c7.result()},a.measure=function(e){return Or(e,n(y7)),y7.result()},a.bounds=function(e){return Or(e,n(d1)),d1.result()},a.centroid=function(e){return Or(e,n(h7)),h7.result()},a.projection=function(t){return arguments.length?(n=null==t?(e=null,pa):(e=t).stream,a):e},a.context=function(e){return arguments.length?(r=null==e?(t=null,new A0):new k0(t=e),"function"!=typeof i&&r.pointRadius(i),a):t},a.pointRadius=function(e){return arguments.length?(i="function"==typeof e?e:(r.pointRadius(+e),+e),a):i},a.projection(e).context(t)}function x7(e){return{stream:ha(e)}}function ha(e){return function(t){var n=new b7;for(var r in e)n[r]=e[r];return n.stream=t,n}}function b7(){}function w7(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Or(n,e.stream(d1)),t(d1.result()),null!=r&&e.clipExtent(r),e}function ys(e,t,n){return w7(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,s])}),n)}function S0(e,t,n){return ys(e,[[0,0],t],n)}function C0(e,t,n){return w7(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])}),n)}function F0(e,t,n){return w7(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])}),n)}A0.prototype={_radius:4.5,_circle:of(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=of(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},b7.prototype={constructor:b7,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var sf=16,sx=ct(30*at);function _7(e,t){return+t?ux(e,t):lx(e)}function lx(e){return ha({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function ux(e,t){function n(r,i,a,o,s,l,c,u,d,p,f,h,g,m){var y=c-r,v=u-i,b=y*y+v*v;if(b>4*t&&g--){var w=o+p,_=s+f,k=l+h,x=Kr(w*w+_*_+k*k),A=zi(k/=x),E=yt(yt(k)-1)<ut||yt(a-d)<ut?(a+d)/2:gn(_,w),C=e(E,A),S=C[0],M=C[1],N=S-r,I=M-i,D=v*N-y*I;(D*D/b>t||yt((y*N+v*I)/b-.5)>.3||o*p+s*f+l*h<sx)&&(n(r,i,a,o,s,l,S,M,E,w/=x,_/=x,k,g,m),m.point(S,M),n(S,M,E,w,_,k,c,u,d,p,f,h,g,m))}}return function(t){var r,i,a,o,s,l,c,u,d,p,f,h,g={point:m,lineStart:y,lineEnd:b,polygonStart:function(){t.polygonStart(),g.lineStart=w},polygonEnd:function(){t.polygonEnd(),g.lineStart=y}};function m(n,r){n=e(n,r),t.point(n[0],n[1])}function y(){u=NaN,g.point=v,t.lineStart()}function v(r,i){var a=Tn([r,i]),o=e(r,i);n(u,d,c,p,f,h,u=o[0],d=o[1],c=r,p=a[0],f=a[1],h=a[2],sf,t),t.point(u,d)}function b(){g.point=m,t.lineEnd()}function w(){y(),g.point=_,g.lineEnd=k}function _(e,t){v(r=e,t),i=u,a=d,o=p,s=f,l=h,g.point=v}function k(){n(u,d,c,p,f,h,i,a,r,o,s,l,sf,t),g.lineEnd=b,b()}return g}}var cx=ha({point:function(e,t){this.stream.point(e*at,t*at)}});function fx(e){return ha({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function dx(e,t,n,r,i){function a(a,o){return[t+e*(a*=r),n-e*(o*=i)]}return a.invert=function(a,o){return[(a-t)/e*r,(n-o)/e*i]},a}function lf(e,t,n,r,i,a){if(!a)return dx(e,t,n,r,i);var o=ct(a),s=ht(a),l=o*e,c=s*e,u=o/e,d=s/e,p=(s*n-o*t)/e,f=(s*t+o*n)/e;function h(e,a){return[l*(e*=r)-c*(a*=i)+t,n-c*e-l*a]}return h.invert=function(e,t){return[r*(u*e-d*t+p),i*(f-d*e-u*t)]},h}function m1(e){return uf((function(){return e}))()}function uf(e){var t,n,r,i,a,o,s,l,c,u,d=150,p=480,f=250,h=0,g=0,m=0,y=0,v=0,b=0,w=1,_=1,k=null,x=r7,A=null,E=pa,C=.5;function S(e){return l(e[0]*at,e[1]*at)}function M(e){return(e=l.invert(e[0],e[1]))&&[e[0]*ar,e[1]*ar]}function N(){var e=lf(d,0,0,w,_,b).apply(null,t(h,g)),r=lf(d,p-e[0],f-e[1],w,_,b);return n=e7(m,y,v),s=cs(t,r),l=cs(n,s),o=_7(s,C),I()}function I(){return c=u=null,S}return S.stream=function(e){return c&&u===e?c:c=cx(fx(n)(x(o(E(u=e)))))},S.preclip=function(e){return arguments.length?(x=e,k=void 0,I()):x},S.postclip=function(e){return arguments.length?(E=e,A=r=i=a=null,I()):E},S.clipAngle=function(e){return arguments.length?(x=+e?Gc(k=e*at):(k=null,r7),I()):k*ar},S.clipExtent=function(e){return arguments.length?(E=null==e?(A=r=i=a=null,pa):ds(A=+e[0][0],r=+e[0][1],i=+e[1][0],a=+e[1][1]),I()):null==A?null:[[A,r],[i,a]]},S.scale=function(e){return arguments.length?(d=+e,N()):d},S.translate=function(e){return arguments.length?(p=+e[0],f=+e[1],N()):[p,f]},S.center=function(e){return arguments.length?(h=e[0]%360*at,g=e[1]%360*at,N()):[h*ar,g*ar]},S.rotate=function(e){return arguments.length?(m=e[0]%360*at,y=e[1]%360*at,v=e.length>2?e[2]%360*at:0,N()):[m*ar,y*ar,v*ar]},S.angle=function(e){return arguments.length?(b=e%360*at,N()):b*ar},S.reflectX=function(e){return arguments.length?(w=e?-1:1,N()):w<0},S.reflectY=function(e){return arguments.length?(_=e?-1:1,N()):_<0},S.precision=function(e){return arguments.length?(o=_7(s,C=e*e),I()):Kr(C)},S.fitExtent=function(e,t){return ys(S,e,t)},S.fitSize=function(e,t){return S0(S,e,t)},S.fitWidth=function(e,t){return C0(S,e,t)},S.fitHeight=function(e,t){return F0(S,e,t)},function(){return t=e.apply(this,arguments),S.invert=t.invert&&M,N()}}function ga(e,t){return[e,wc(kc((Fr+t)/2))]}function k7(){return px(ga).scale(961/lr)}function px(e){var t,n,r,i=m1(e),a=i.center,o=i.scale,s=i.translate,l=i.clipExtent,c=null;function u(){var a=it*o(),s=i(qc(i.rotate()).invert([0,0]));return l(null==c?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:e===ga?[[Math.max(s[0]-a,c),t],[Math.min(s[0]+a,n),r]]:[[c,Math.max(s[1]-a,t)],[n,Math.min(s[1]+a,r)]])}return i.scale=function(e){return arguments.length?(o(e),u()):o()},i.translate=function(e){return arguments.length?(s(e),u()):s()},i.center=function(e){return arguments.length?(a(e),u()):a()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),u()):null==c?null:[[c,t],[n,r]]},u()}function D0(){var e,t,n,r,i,a,o,s=1,l=0,c=0,u=1,d=1,p=0,f=null,h=1,g=1,m=ha({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),y=pa;function v(){return h=s*u,g=s*d,a=o=null,b}function b(n){var r=n[0]*h,i=n[1]*g;if(p){var a=i*e-r*t;r=r*e+i*t,i=a}return[r+l,i+c]}return b.invert=function(n){var r=n[0]-l,i=n[1]-c;if(p){var a=i*e+r*t;r=r*e-i*t,i=a}return[r/h,i/g]},b.stream=function(e){return a&&o===e?a:a=m(y(o=e))},b.postclip=function(e){return arguments.length?(y=e,f=n=r=i=null,v()):y},b.clipExtent=function(e){return arguments.length?(y=null==e?(f=n=r=i=null,pa):ds(f=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),v()):null==f?null:[[f,n],[r,i]]},b.scale=function(e){return arguments.length?(s=+e,v()):s},b.translate=function(e){return arguments.length?(l=+e[0],c=+e[1],v()):[l,c]},b.angle=function(n){return arguments.length?(t=ht(p=n%360*at),e=ct(p),v()):p*ar},b.reflectX=function(e){return arguments.length?(u=e?-1:1,v()):u<0},b.reflectY=function(e){return arguments.length?(d=e?-1:1,v()):d<0},b.fitExtent=function(e,t){return ys(b,e,t)},b.fitSize=function(e,t){return S0(b,e,t)},b.fitWidth=function(e,t){return C0(b,e,t)},b.fitHeight=function(e,t){return F0(b,e,t)},b}ga.invert=function(e,t){return[e,2*l0(xc(t))-Fr]};var wi=2*Math.PI,M0=6356752.314245179,I0=6378137;function bs(e){return e*(wi*I0/360)}function lo(e,t){return Math.abs(t)>=90?0:e*(wi*M0/360)*Math.abs(Math.cos(t*(Math.PI/180)))}function Pr(e){return e/(wi*I0/360)}function xr(e,t){return Math.abs(t)>=90?0:e/(wi*M0/360)/Math.abs(Math.cos(t*(Math.PI/180)))}function h1(e,t){return t=t||256,[e[0]*t/(wi*M0),-e[1]*t/(wi*I0)]}function g1(e,t){return t=t||256,[e[0]*wi*M0/t,-e[1]*wi*I0/t]}function rt(e,t){var n=lo(e[0]-t[0],(e[1]+t[1])/2),r=bs(e[1]-t[1]);return Math.sqrt(n*n+r*r)}function Tt(e,t){t=t||256;var n=Math.log(t)*Math.LOG2E;return Math.log(e*wi)/Math.LN2-n}function Dr(e,t){return(t=t||256)*Math.pow(2,e)/wi}function v1(e,t){var n,r,i=1/0;for(var a in e)(n=rt(e[a].loc,t))<i&&(i=n,r=a);return void 0!==r?{index:r,distance:i,node:e[r]}:null}function he(e,t){return this instanceof he?e instanceof he?e:void(e&&2===e.length&&2===e[0].length&&2===e[1].length?(this[0]=e[0],this[1]=e[1]):(this[0]=e||[1/0,1/0],this[1]=t||e||[-1/0,-1/0])):new he(e,t)}function y1(e){for(var t,n=-1,r=e.length,i=e[r-1],a=0;++n<r;)t=i,i=e[n],a+=t[1]*i[0]-t[0]*i[1];return a/2}function _i(e){for(var t,n,r=-1,i=e.length,a=0,o=0,s=e[i-1],l=0;++r<i;)t=s,s=e[r],l+=n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a/(l*=3),o/l]}function cf(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function mx(e,t){return e[0]-t[0]||e[1]-t[1]}function ff(e){let t,n=e.length,r=[0,1],i=2;for(t=2;t<n;++t){for(;i>1&&cf(e[r[i-2]],e[r[i-1]],e[t])<=0;)--i;r[i++]=t}return r.slice(0,i)}function Qi(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(mx),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var a=ff(r),o=ff(i),s=o[0]===a[0],l=o[o.length-1]===a[a.length-1],c=[];for(t=a.length-1;t>=0;--t)c.push(e[r[a[t]][2]]);for(t=+s;t<o.length-l;++t)c.push(e[r[o[t]][2]]);return c}function ur(e,t,n){return n?Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n:e[0]===t[0]&&e[1]===t[1]}function $t(e,t){return[e[0]+t[0],e[1]+t[1]]}function pt(e,t){return[e[0]-t[0],e[1]-t[1]]}function bn(e,t){return[e[0]*t,e[1]*t]}function df(e){return[Math.floor(e[0]),Math.floor(e[1])]}function gt(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function Qe(e,t){return Math.sqrt(b1(e,t))}function b1(e,t){t=t||[0,0];var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function va(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return 0!==t?bn(e,1/t):[0,0]}function ya(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])}function fn(e,t,n){var r=pt(e,n=n||[0,0]),i=pt(t,n);return r[0]*i[0]+r[1]*i[1]}function x1(e,t,n){return fn(va(pt(e,n=n||[0,0])),va(pt(t,n)))}function ba(e,t,n){var r=pt(e,n=n||[0,0]),i=pt(t,n);return r[0]*i[1]-r[1]*i[0]}function T0(e,t){for(var n,r,i=1/0,a=0;a<t.length-1;a++){var o,s=t[a],l=pt(t[a+1],s),c=fn(pt(e,s),l)/fn(l,l),u=Qe(o=c<0?s:c>1?t[a+1]:[s[0]+c*l[0],s[1]+c*l[1]],e);u<i&&(i=u,n=a+1,r=o)}return void 0!==n?{index:n,distance:i,target:r}:null}function pr(e,t,n){return ya(n(e.loc),n(t.loc))}function N0(e,t){return e[0]===t[0]&&e[1]===t[1]||e[0]===t[1]&&e[1]===t[0]}function xa(e,t,n){return e.map((function(e){var r=pt(e,n);return[r[0]*Math.cos(t)-r[1]*Math.sin(t)+n[0],r[0]*Math.sin(t)+r[1]*Math.cos(t)+n[1]]}))}function wr(e,t,n,r){for(var i,a,o=Qe,s=e.map((function(e){return n(e.loc)})),l=e.map((function(e){return e.id})),c=1/0,u=0;u<s.length-1;u++)if(l[u]!==r&&l[u+1]!==r){var d,p=s[u],f=pt(s[u+1],p),h=fn(pt(t,p),f)/fn(f,f),g=o(d=h<0?p:h>1?s[u+1]:[p[0]+h*f[0],p[1]+h*f[1]],t);g<c&&(c=g,i=u+1,a=n.invert(d))}return void 0!==i?{index:i,distance:c,loc:a}:null}function O0(e,t,n){var r,i,a,o,s,l=[],c=[];for(r=0;r<e.length-1;r++)a=e[r],o=e[r+1],s=[a.loc,o.loc],(a.id===n||o.id===n)&&l.push(s);for(r=0;r<t.length-1;r++)a=t[r],o=t[r+1],s=[a.loc,o.loc],c.push(s);for(r=0;r<l.length;r++)for(i=0;i<c.length;i++){if(On(l[r],c[i]))return!0}return!1}function Nn(e,t){var n,r,i=[],a=[];for(n=0;n<e.length-1;n++){var o=e[n],s=e[n+1],l=[o.loc,s.loc];o.id===t||s.id===t?i.push(l):a.push(l)}for(n=0;n<i.length;n++)for(r=0;r<a.length;r++){var c=i[n],u=a[r];if(!(ur(c[1],u[0])||ur(c[0],u[1])||ur(c[0],u[0])||ur(c[1],u[1]))){var d=On(c,u);if(d){var p=1e-8;if(ur(c[1],d,p)||ur(c[0],d,p)||ur(u[1],d,p)||ur(u[0],d,p))continue;return!0}}}return!1}function On(e,t){var n=[e[0][0],e[0][1]],r=[e[1][0],e[1][1]],i=[t[0][0],t[0][1]],a=[t[1][0],t[1][1]],o=pt(r,n),s=pt(a,i),l=ba(pt(i,n),o),c=ba(o,s);if(l&&c){var u=l/c,d=ba(pt(i,n),s)/c;if(d>=0&&d<=1&&u>=0&&u<=1)return gt(n,r,d)}return null}function w1(e,t){for(var n=[],r=0;r<e.length-1;r++)for(var i=0;i<t.length-1;i++){var a=On([e[r],e[r+1]],[t[i],t[i+1]]);a&&n.push(a)}return n}function E7(e,t){for(var n=0;n<e.length-1;n++)for(var r=0;r<t.length-1;r++){if(On([e[n],e[n+1]],[t[r],t[r+1]]))return!0}return!1}function ki(e,t){for(var n=e[0],r=e[1],i=!1,a=0,o=t.length-1;a<t.length;o=a++){var s=t[a][0],l=t[a][1],c=t[o][0],u=t[o][1];l>r!=u>r&&n<(c-s)*(r-l)/(u-l)+s&&(i=!i)}return i}function _1(e,t){return t.every((function(t){return ki(t,e)}))}function wa(e,t,n){return r=e,t.some((function(e){return ki(e,r)}))||!!n&&E7(e,t);var r}function k1(e){for(var t=Qi(e),n=_i(t),r=1/0,i=[],a=0,o=t[0],s=0;s<=t.length-1;s++){var l=s===t.length-1?t[0]:t[s+1],c=Math.atan2(l[1]-o[1],l[0]-o[0]),u=xa(t,-c,n).reduce((function(e,t){return e.extend(he(t))}),he()),d=u.area();d<r&&(r=d,i=u,a=c),o=l}return{poly:xa(i.polygon(),a,n),angle:a}}function $i(e){for(var t=0,n=0;n<e.length-1;n++)t+=Qe(e[n],e[n+1]);return t}function _a(e,t){var n=[80,20,50,20],r=0,i=0;return e[0]>t[0]-n[1]&&(r=-10),e[0]<n[3]&&(r=10),e[1]>t[1]-n[2]&&(i=-10),e[1]<n[0]&&(i=10),r||i?[r,i]:null}he.prototype=new Array(2),Object.assign(he.prototype,{equals:function(e){return this[0][0]===e[0][0]&&this[0][1]===e[0][1]&&this[1][0]===e[1][0]&&this[1][1]===e[1][1]},extend:function(e){return e instanceof he||(e=new he(e)),he([Math.min(e[0][0],this[0][0]),Math.min(e[0][1],this[0][1])],[Math.max(e[1][0],this[1][0]),Math.max(e[1][1],this[1][1])])},_extend:function(e){this[0][0]=Math.min(e[0][0],this[0][0]),this[0][1]=Math.min(e[0][1],this[0][1]),this[1][0]=Math.max(e[1][0],this[1][0]),this[1][1]=Math.max(e[1][1],this[1][1])},area:function(){return Math.abs((this[1][0]-this[0][0])*(this[1][1]-this[0][1]))},center:function(){return[(this[0][0]+this[1][0])/2,(this[0][1]+this[1][1])/2]},rectangle:function(){return[this[0][0],this[0][1],this[1][0],this[1][1]]},bbox:function(){return{minX:this[0][0],minY:this[0][1],maxX:this[1][0],maxY:this[1][1]}},polygon:function(){return[[this[0][0],this[0][1]],[this[0][0],this[1][1]],[this[1][0],this[1][1]],[this[1][0],this[0][1]],[this[0][0],this[0][1]]]},contains:function(e){return e instanceof he||(e=new he(e)),e[0][0]>=this[0][0]&&e[0][1]>=this[0][1]&&e[1][0]<=this[1][0]&&e[1][1]<=this[1][1]},intersects:function(e){return e instanceof he||(e=new he(e)),e[0][0]<=this[1][0]&&e[0][1]<=this[1][1]&&e[1][0]>=this[0][0]&&e[1][1]>=this[0][1]},intersection:function(e){return this.intersects(e)?new he([Math.max(e[0][0],this[0][0]),Math.max(e[0][1],this[0][1])],[Math.min(e[1][0],this[1][0]),Math.min(e[1][1],this[1][1])]):new he},percentContainedIn:function(e){e instanceof he||(e=new he(e));var t=this.intersection(e).area(),n=this.area();return t===1/0||n===1/0?0:0===t||0===n?e.contains(this)?1:0:t/n},padByMeters:function(e){var t=Pr(e),n=xr(e,this.center()[1]);return he([this[0][0]-n,this[0][1]-t],[this[1][0]+n,this[1][1]+t])},toParam:function(){return this.rectangle().join(",")}});var hx={value:()=>{}};function mf(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new P0(r)}function P0(e){this._=e}function gx(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function vx(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function pf(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=hx,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}P0.prototype=mf.prototype={constructor:P0,on:function(e,t){var n,r=this._,i=gx(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=pf(r[n],e.name,t);else if(null==t)for(n in r)r[n]=pf(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=vx(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new P0(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var se=mf,R0="http://www.w3.org/1999/xhtml",A7={svg:"http://www.w3.org/2000/svg",xhtml:R0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gi(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),A7.hasOwnProperty(t)?{space:A7[t],local:e}:e}function yx(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===R0&&t.documentElement.namespaceURI===R0?t.createElement(e):t.createElementNS(n,e)}}function bx(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function L0(e){var t=Gi(e);return(t.local?bx:yx)(t)}function xx(){}function uo(e){return null==e?xx:function(){return this.querySelector(e)}}function hf(e){"function"!=typeof e&&(e=uo(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(o=e.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new Kt(r,this._parents)}function xs(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function wx(){return[]}function ws(e){return null==e?wx:function(){return this.querySelectorAll(e)}}function _x(e){return function(){return xs(e.apply(this,arguments))}}function gf(e){e="function"==typeof e?_x(e):ws(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(r.push(e.call(o,o.__data__,c,s)),i.push(o));return new Kt(r,i)}function _s(e){return function(){return this.matches(e)}}function B0(e){return function(t){return t.matches(e)}}var kx=Array.prototype.find;function Ex(e){return function(){return kx.call(this.children,e)}}function Ax(){return this.firstElementChild}function vf(e){return this.select(null==e?Ax:Ex("function"==typeof e?e:B0(e)))}var Sx=Array.prototype.filter;function Cx(){return Array.from(this.children)}function Fx(e){return function(){return Sx.call(this.children,e)}}function yf(e){return this.selectAll(null==e?Cx:Fx("function"==typeof e?e:B0(e)))}function bf(e){"function"!=typeof e&&(e=_s(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new Kt(r,this._parents)}function U0(e){return new Array(e.length)}function xf(){return new Kt(this._enter||this._groups.map(U0),this._parents)}function ks(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function wf(e){return function(){return e}}function Dx(e,t,n,r,i,a){for(var o,s=0,l=t.length,c=a.length;s<c;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new ks(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function Mx(e,t,n,r,i,a,o){var s,l,c,u=new Map,d=t.length,p=a.length,f=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(f[s]=c=o.call(l,l.__data__,s,t)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<p;++s)c=o.call(e,a[s],s,a)+"",(l=u.get(c))?(r[s]=l,l.__data__=a[s],u.delete(c)):n[s]=new ks(e,a[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(f[s])===l&&(i[s]=l)}function Ix(e){return e.__data__}function _f(e,t){if(!arguments.length)return Array.from(this,Ix);var n=t?Mx:Dx,r=this._parents,i=this._groups;"function"!=typeof e&&(e=wf(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],p=d.length,f=Tx(e.call(u,u&&u.__data__,c,r)),h=f.length,g=s[c]=new Array(h),m=o[c]=new Array(h),y=l[c]=new Array(p);n(u,d,g,m,y,f,t);for(var v,b,w=0,_=0;w<h;++w)if(v=g[w]){for(w>=_&&(_=w+1);!(b=m[_])&&++_<h;);v._next=b||null}}return(o=new Kt(o,r))._enter=s,o._exit=l,o}function Tx(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function kf(){return new Kt(this._exit||this._groups.map(U0),this._parents)}function Ef(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&((i=t(i))&&(i=i.selection())),null==n?a.remove():n(a),r&&i?r.merge(i).order():i}function Af(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var c,u=n[l],d=r[l],p=u.length,f=s[l]=new Array(p),h=0;h<p;++h)(c=u[h]||d[h])&&(f[h]=c);for(;l<i;++l)s[l]=n[l];return new Kt(s,this._parents)}function Sf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this}function Cf(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Nx);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,c=i[a]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(t)}return new Kt(i,this._parents).order()}function Nx(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ff(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Df(){return Array.from(this)}function Mf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function If(){let e=0;for(let t of this)++e;return e}function Tf(){return!this.node()}function Nf(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this}function Ox(e){return function(){this.removeAttribute(e)}}function Px(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rx(e,t){return function(){this.setAttribute(e,t)}}function Lx(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Bx(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Ux(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Of(e,t){var n=Gi(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Px:Ox:"function"==typeof t?n.local?Ux:Bx:n.local?Lx:Rx)(n,t))}function z0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function zx(e){return function(){this.style.removeProperty(e)}}function qx(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Vx(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Pf(e,t,n){return arguments.length>1?this.each((null==t?zx:"function"==typeof t?Vx:qx)(e,t,null==n?"":n)):ka(this.node(),e)}function ka(e,t){return e.style.getPropertyValue(t)||z0(e).getComputedStyle(e,null).getPropertyValue(t)}function jx(e){return function(){delete this[e]}}function Qx(e,t){return function(){this[e]=t}}function $x(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Rf(e,t){return arguments.length>1?this.each((null==t?jx:"function"==typeof t?$x:Qx)(e,t)):this.node()[e]}function Lf(e){return e.trim().split(/^|\s+/)}function S7(e){return e.classList||new Bf(e)}function Bf(e){this._node=e,this._names=Lf(e.getAttribute("class")||"")}function Uf(e,t){for(var n=S7(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function zf(e,t){for(var n=S7(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Gx(e){return function(){Uf(this,e)}}function Hx(e){return function(){zf(this,e)}}function Wx(e,t){return function(){(t.apply(this,arguments)?Uf:zf)(this,e)}}function qf(e,t){var n=Lf(e+"");if(arguments.length<2){for(var r=S7(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?Wx:t?Gx:Hx)(n,t))}function Kx(){this.textContent=""}function Xx(e){return function(){this.textContent=e}}function Yx(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Vf(e){return arguments.length?this.each(null==e?Kx:("function"==typeof e?Yx:Xx)(e)):this.node().textContent}function Zx(){this.innerHTML=""}function Jx(e){return function(){this.innerHTML=e}}function ew(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function jf(e){return arguments.length?this.each(null==e?Zx:("function"==typeof e?ew:Jx)(e)):this.node().innerHTML}function tw(){this.nextSibling&&this.parentNode.appendChild(this)}function Qf(){return this.each(tw)}function rw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $f(){return this.each(rw)}function Gf(e){var t="function"==typeof e?e:L0(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}function nw(){return null}function Hf(e,t){var n="function"==typeof e?e:L0(e),r=null==t?nw:"function"==typeof t?t:uo(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function iw(){var e=this.parentNode;e&&e.removeChild(this)}function Wf(){return this.each(iw)}function aw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ow(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Kf(e){return this.select(e?ow:aw)}function Xf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function sw(e){return function(t){e.call(this,t,this.__data__)}}function lw(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function uw(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function cw(e,t,n){return function(){var r,i=this.__on,a=sw(t);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Yf(e,t,n){var r,i,a=lw(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?cw:uw,r=0;r<o;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value}function Zf(e,t,n){var r=z0(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function fw(e,t){return function(){return Zf(this,e,t)}}function dw(e,t){return function(){return Zf(this,e,t.apply(this,arguments))}}function Jf(e,t){return this.each(("function"==typeof t?dw:fw)(e,t))}function*ed(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}ks.prototype={constructor:ks,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},Bf.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Es=[null];function Kt(e,t){this._groups=e,this._parents=t}function td(){return new Kt([[document.documentElement]],Es)}function pw(){return this}Kt.prototype=td.prototype={constructor:Kt,select:hf,selectAll:gf,selectChild:vf,selectChildren:yf,filter:bf,data:_f,enter:xf,exit:kf,join:Ef,merge:Af,selection:pw,order:Sf,sort:Cf,call:Ff,nodes:Df,node:Mf,size:If,empty:Tf,each:Nf,attr:Of,style:Pf,property:Rf,classed:qf,text:Vf,html:jf,raise:Qf,lower:$f,append:Gf,insert:Hf,remove:Wf,clone:Kf,datum:Xf,on:Yf,dispatch:Jf,[Symbol.iterator]:ed};var ri=td;function $(e){return"string"==typeof e?new Kt([[document.querySelector(e)]],[document.documentElement]):new Kt([[e]],Es)}function rd(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Pn(e,t){if(e=rd(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function C7(e){return"string"==typeof e?new Kt([document.querySelectorAll(e)],[document.documentElement]):new Kt([xs(e)],Es)}var nd={passive:!1},co={capture:!0,passive:!1};function q0(e){e.stopImmediatePropagation()}function Ea(e){e.preventDefault(),e.stopImmediatePropagation()}function As(e){var t=e.document.documentElement,n=$(e).on("dragstart.drag",Ea,co);"onselectstart"in t?n.on("selectstart.drag",Ea,co):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ss(e,t){var n=e.document.documentElement,r=$(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ea,co),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Cs=e=>()=>e;function Fs(e,t){let{sourceEvent:n,subject:r,target:i,identifier:a,active:o,x:s,y:l,dx:c,dy:u,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function mw(e){return!e.ctrlKey&&!e.button}function hw(){return this.parentNode}function gw(e,t){return null==t?{x:e.x,y:e.y}:t}function vw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ds(){var e,t,n,r,i=mw,a=hw,o=gw,s=vw,l={},c=se("start","drag","end"),u=0,d=0;function p(e){e.on("mousedown.drag",f).filter(s).on("touchstart.drag",m).on("touchmove.drag",y,nd).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(o,s){if(!r&&i.call(this,o,s)){var l=b(this,a.call(this,o,s),o,s,"mouse");!l||($(o.view).on("mousemove.drag",h,co).on("mouseup.drag",g,co),As(o.view),q0(o),n=!1,e=o.clientX,t=o.clientY,l("start",o))}}function h(r){if(Ea(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>d}l.mouse("drag",r)}function g(e){$(e.view).on("mousemove.drag mouseup.drag",null),Ss(e.view,n),Ea(e),l.mouse("end",e)}function m(e,t){if(i.call(this,e,t)){var n,r,o=e.changedTouches,s=a.call(this,e,t),l=o.length;for(n=0;n<l;++n)(r=b(this,s,e,t,o[n].identifier,o[n]))&&(q0(e),r("start",e,o[n]))}}function y(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=l[r[t].identifier])&&(Ea(e),n("drag",e,r[t]))}function v(e){var t,n,i=e.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<a;++t)(n=l[i[t].identifier])&&(q0(e),n("end",e,i[t]))}function b(e,t,n,r,i,a){var s,d,f,h=c.copy(),g=Pn(a||n,t);if(null!=(f=o.call(e,new Fs("beforestart",{sourceEvent:n,target:p,identifier:i,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:h}),r)))return s=f.x-g[0]||0,d=f.y-g[1]||0,function n(a,o,c){var m,y=g;switch(a){case"start":l[i]=n,m=u++;break;case"end":delete l[i],--u;case"drag":g=Pn(c||o,t),m=u}h.call(a,e,new Fs(a,{sourceEvent:o,subject:f,target:p,identifier:i,active:m,x:g[0]+s,y:g[1]+d,dx:g[0]-y[0],dy:g[1]-y[1],dispatch:h}),r)}}return p.filter=function(e){return arguments.length?(i="function"==typeof e?e:Cs(!!e),p):i},p.container=function(e){return arguments.length?(a="function"==typeof e?e:Cs(e),p):a},p.subject=function(e){return arguments.length?(o="function"==typeof e?e:Cs(e),p):o},p.touchable=function(e){return arguments.length?(s="function"==typeof e?e:Cs(!!e),p):s},p.on=function(){var e=c.on.apply(c,arguments);return e===c?p:e},p.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,p):Math.sqrt(d)},p}function V0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function F7(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ts(){}Fs.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Ms=.7,$0=1/Ms,E1="\\s*([+-]?\\d+)\\s*",Is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yw=/^#([0-9a-f]{3,8})$/,bw=new RegExp("^rgb\\(".concat(E1,",").concat(E1,",").concat(E1,"\\)$")),xw=new RegExp("^rgb\\(".concat(Ei,",").concat(Ei,",").concat(Ei,"\\)$")),ww=new RegExp("^rgba\\(".concat(E1,",").concat(E1,",").concat(E1,",").concat(Is,"\\)$")),_w=new RegExp("^rgba\\(".concat(Ei,",").concat(Ei,",").concat(Ei,",").concat(Is,"\\)$")),kw=new RegExp("^hsl\\(".concat(Is,",").concat(Ei,",").concat(Ei,"\\)$")),Ew=new RegExp("^hsla\\(".concat(Is,",").concat(Ei,",").concat(Ei,",").concat(Is,"\\)$")),id={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ad(){return this.rgb().formatHex()}function Aw(){return this.rgb().formatHex8()}function Sw(){return dd(this).formatHsl()}function od(){return this.rgb().formatRgb()}function ii(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=yw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?sd(t):3===n?new dn(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?j0(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?j0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=bw.exec(e))?new dn(t[1],t[2],t[3],1):(t=xw.exec(e))?new dn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ww.exec(e))?j0(t[1],t[2],t[3],t[4]):(t=_w.exec(e))?j0(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=kw.exec(e))?cd(t[1],t[2]/100,t[3]/100,1):(t=Ew.exec(e))?cd(t[1],t[2]/100,t[3]/100,t[4]):id.hasOwnProperty(e)?sd(id[e]):"transparent"===e?new dn(NaN,NaN,NaN,0):null}function sd(e){return new dn(e>>16&255,e>>8&255,255&e,1)}function j0(e,t,n,r){return r<=0&&(e=t=n=NaN),new dn(e,t,n,r)}function Cw(e){return e instanceof Ts||(e=ii(e)),e?new dn((e=e.rgb()).r,e.g,e.b,e.opacity):new dn}function A1(e,t,n,r){return 1===arguments.length?Cw(e):new dn(e,t,n,null==r?1:r)}function dn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ld(){return"#".concat(fo(this.r)).concat(fo(this.g)).concat(fo(this.b))}function Fw(){return"#".concat(fo(this.r)).concat(fo(this.g)).concat(fo(this.b)).concat(fo(255*(isNaN(this.opacity)?1:this.opacity)))}function ud(){let e=G0(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(po(this.r),", ").concat(po(this.g),", ").concat(po(this.b)).concat(1===e?")":", ".concat(e,")"))}function G0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function po(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fo(e){return((e=po(e))<16?"0":"")+e.toString(16)}function cd(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ni(e,t,n,r)}function dd(e){if(e instanceof ni)return new ni(e.h,e.s,e.l,e.opacity);if(e instanceof Ts||(e=ii(e)),!e)return new ni;if(e instanceof ni)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new ni(o,s,l,e.opacity)}function pd(e,t,n,r){return 1===arguments.length?dd(e):new ni(e,t,n,null==r?1:r)}function ni(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function fd(e){return(e=(e||0)%360)<0?e+360:e}function Q0(e){return Math.max(0,Math.min(1,e||0))}function D7(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function M7(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function md(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return M7((n-r/t)*t,o,i,a,s)}}function hd(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return M7((n-r/t)*t,i,a,o,s)}}V0(Ts,ii,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ad,formatHex:ad,formatHex8:Aw,formatHsl:Sw,formatRgb:od,toString:od}),V0(dn,A1,F7(Ts,{brighter(e){return e=null==e?$0:Math.pow($0,e),new dn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Ms:Math.pow(Ms,e),new dn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dn(po(this.r),po(this.g),po(this.b),G0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ld,formatHex:ld,formatHex8:Fw,formatRgb:ud,toString:ud})),V0(ni,pd,F7(Ts,{brighter(e){return e=null==e?$0:Math.pow($0,e),new ni(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Ms:Math.pow(Ms,e),new ni(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new dn(D7(e>=240?e-240:e+120,i,r),D7(e,i,r),D7(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ni(fd(this.h),Q0(this.s),Q0(this.l),G0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=G0(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(fd(this.h),", ").concat(100*Q0(this.s),"%, ").concat(100*Q0(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var Ns=e=>()=>e;function Dw(e,t){return function(n){return e+n*t}}function Mw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function gd(e){return 1==(e=+e)?H0:function(t,n){return n-t?Mw(t,n,e):Ns(isNaN(t)?n:t)}}function H0(e,t){var n=t-e;return n?Dw(e,n):Ns(isNaN(e)?t:e)}var Ai=function e(t){var n=gd(t);function r(e,t){var r=n((e=A1(e)).r,(t=A1(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=H0(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function vd(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=A1(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}var Iw=vd(md),Tw=vd(hd);function yd(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function bd(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xd(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Rn(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function wd(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Gt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _d(e,t){var n,r={},i={};for(n in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)n in e?r[n]=Rn(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var T7=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I7=new RegExp(T7.source,"g");function Nw(e){return function(){return e}}function Ow(e){return function(t){return e(t)+""}}function Os(e,t){var n,r,i,a=T7.lastIndex=I7.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=T7.exec(e))&&(r=I7.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Gt(n,r)})),a=I7.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?Ow(l[0].x):Nw(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Rn(e,t){var n,r=typeof t;return null==t||"boolean"===r?Ns(t):("number"===r?Gt:"string"===r?(n=ii(t))?(t=n,Ai):Os:t instanceof ii?Ai:t instanceof Date?wd:bd(t)?yd:Array.isArray(t)?xd:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?_d:Gt)(e,t)}function N7(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var kd=180/Math.PI,W0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},K0;function O7(e,t,n,r,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*kd,skewX:Math.atan(l)*kd,scaleX:o,scaleY:s}}function Ed(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?W0:O7(t.a,t.b,t.c,t.d,t.e,t.f)}function Ad(e){return null==e?W0:(K0||(K0=document.createElementNS("http://www.w3.org/2000/svg","g")),K0.setAttribute("transform",e),(e=K0.transform.baseVal.consolidate())?O7((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):W0)}function Sd(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],l=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:Gt(e,i)},{i:l-2,x:Gt(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Gt(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,l),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Gt(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,l),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Gt(e,n)},{i:s-2,x:Gt(t,r)})}else(1!==n||1!==r)&&a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var P7=Sd(Ed,"px, ","px)","deg)"),R7=Sd(Ad,", ",")",")"),Pw=1e-12;function Cd(e){return((e=Math.exp(e))+1/e)/2}function Rw(e){return((e=Math.exp(e))-1/e)/2}function Lw(e){return((e=Math.exp(2*e))-1)/(e+1)}var Ps=function e(t,n,r){function i(e,i){var a,o,s=e[0],l=e[1],c=e[2],u=i[0],d=i[1],p=i[2],f=u-s,h=d-l,g=f*f+h*h;if(g<Pw)o=Math.log(p/c)/t,a=function(e){return[s+e*f,l+e*h,c*Math.exp(t*e*o)]};else{var m=Math.sqrt(g),y=(p*p-c*c+r*g)/(2*c*n*m),v=(p*p-c*c-r*g)/(2*p*n*m),b=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(v*v+1)-v);o=(w-b)/t,a=function(e){var r=e*o,i=Cd(b),a=c/(n*m)*(i*Lw(t*r+b)-Rw(b));return[s+a*f,l+a*h,c*i/Cd(t*r+b)]}}return a.duration=1e3*o*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function L7(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var S1=0,Ls=0,Rs=0,Dd=1e3,X0,Bs,Y0=0,mo=0,Z0=0,Us="object"==typeof performance&&performance.now?performance:Date,Md="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function qs(){return mo||(Md(Bw),mo=Us.now()+Z0)}function Bw(){mo=0}function zs(){this._call=this._time=this._next=null}function Aa(e,t,n){var r=new zs;return r.restart(e,t,n),r}function J0(){qs(),++S1;for(var e,t=X0;t;)(e=mo-t._time)>=0&&t._call.call(void 0,e),t=t._next;--S1}function Fd(){mo=(Y0=Us.now())+Z0,S1=Ls=0;try{J0()}finally{S1=0,zw(),mo=0}}function Uw(){var e=Us.now(),t=e-Y0;t>Dd&&(Z0-=t,Y0=e)}function zw(){for(var e,t,n=X0,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:X0=t);Bs=e,B7(r)}function B7(e){S1||(Ls&&(Ls=clearTimeout(Ls)),e-mo>24?(e<1/0&&(Ls=setTimeout(Fd,e-Us.now()-Z0)),Rs&&(Rs=clearInterval(Rs))):(Rs||(Y0=Us.now(),Rs=setInterval(Uw,Dd)),S1=1,Md(Fd)))}function C1(e,t,n){var r=new zs;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}zs.prototype=Aa.prototype={constructor:zs,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?qs():+n)+(null==t?0:+t),!this._next&&Bs!==this&&(Bs?Bs._next=this:X0=this,Bs=this),this._call=e,this._time=n,B7()},stop:function(){this._call&&(this._call=null,this._time=1/0,B7())}};var qw=se("start","end","cancel","interrupt"),Vw=[],Nd=0,Id=1,t3=2,e3=3,Td=4,r3=5,Vs=6;function Sa(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};jw(e,n,{name:t,index:r,group:i,on:qw,tween:Vw,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Nd})}function js(e,t){var n=_r(e,t);if(n.state>Nd)throw new Error("too late; already scheduled");return n}function Rr(e,t){var n=_r(e,t);if(n.state>e3)throw new Error("too late; already running");return n}function _r(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function jw(e,t,n){var r,i=e.__transition;function a(l){var c,u,d,p;if(n.state!==Id)return s();for(c in i)if((p=i[c]).name===n.name){if(p.state===e3)return C1(a);p.state===Td?(p.state=Vs,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete i[c]):+c<t&&(p.state=Vs,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete i[c])}if(C1((function(){n.state===e3&&(n.state=Td,n.timer.restart(o,n.delay,n.time),o(l))})),n.state=t3,n.on.call("start",e,e.__data__,n.index,n.group),n.state===t3){for(n.state=e3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=p);r.length=u+1}}function o(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=r3,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);n.state===r3&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=Vs,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Aa((function(e){n.state=Id,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}),0,n.time)}function ai(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>t3&&n.state<r3,n.state=Vs,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}function Od(e){return this.each((function(){ai(this,e)}))}function Qw(e,t){var n,r;return function(){var i=Rr(this,e),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function $w(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=Rr(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function Pd(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=_r(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?Qw:$w)(n,e,t))}function F1(e,t,n){var r=e._id;return e.each((function(){var e=Rr(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return _r(e,r).value[t]}}function n3(e,t){var n;return("number"==typeof t?Gt:t instanceof ii?Ai:(n=ii(t))?(t=n,Ai):Os)(e,t)}function Gw(e){return function(){this.removeAttribute(e)}}function Hw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ww(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function Kw(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function Xw(e,t,n){var r,i,a;return function(){var o,s,l=n(this);return null==l?void this.removeAttribute(e):(o=this.getAttribute(e))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,l))}}function Yw(e,t,n){var r,i,a;return function(){var o,s,l=n(this);return null==l?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,l))}}function Rd(e,t){var n=Gi(e),r="transform"===n?R7:n3;return this.attrTween(e,"function"==typeof t?(n.local?Yw:Xw)(n,r,F1(this,"attr."+e,t)):null==t?(n.local?Hw:Gw)(n):(n.local?Kw:Ww)(n,r,t))}function Zw(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Jw(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function e_(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Jw(e,i)),n}return i._value=t,i}function t_(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Zw(e,i)),n}return i._value=t,i}function Ld(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Gi(e);return this.tween(n,(r.local?e_:t_)(r,t))}function r_(e,t){return function(){js(this,e).delay=+t.apply(this,arguments)}}function n_(e,t){return t=+t,function(){js(this,e).delay=t}}function Bd(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?r_:n_)(t,e)):_r(this.node(),t).delay}function i_(e,t){return function(){Rr(this,e).duration=+t.apply(this,arguments)}}function a_(e,t){return t=+t,function(){Rr(this,e).duration=t}}function Ud(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?i_:a_)(t,e)):_r(this.node(),t).duration}function o_(e,t){if("function"!=typeof t)throw new Error;return function(){Rr(this,e).ease=t}}function zd(e){var t=this._id;return arguments.length?this.each(o_(t,e)):_r(this.node(),t).ease}function s_(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;Rr(this,e).ease=n}}function qd(e){if("function"!=typeof e)throw new Error;return this.each(s_(this._id,e))}function Vd(e){"function"!=typeof e&&(e=_s(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new Yr(r,this._parents,this._name,this._id)}function jd(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=t[s],u=n[s],d=c.length,p=o[s]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(p[f]=l);for(;s<r;++s)o[s]=t[s];return new Yr(o,this._parents,this._name,this._id)}function l_(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}function u_(e,t,n){var r,i,a=l_(t)?js:Rr;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}function Qd(e,t){var n=this._id;return arguments.length<2?_r(this.node(),n).on.on(e):this.each(u_(n,e,t))}function c_(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function $d(){return this.on("end.remove",c_(this._id))}function Gd(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=uo(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,c=r[o],u=c.length,d=a[o]=new Array(u),p=0;p<u;++p)(s=c[p])&&(l=e.call(s,s.__data__,p,c))&&("__data__"in s&&(l.__data__=s.__data__),d[p]=l,Sa(d[p],t,n,p,d,_r(s,n)));return new Yr(a,this._parents,t,n)}function Hd(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=ws(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var p,f=e.call(l,l.__data__,d,c),h=_r(l,n),g=0,m=f.length;g<m;++g)(p=f[g])&&Sa(p,t,n,g,f,h);a.push(f),o.push(l)}return new Yr(a,o,t,n)}var f_=ri.prototype.constructor;function Wd(){return new f_(this._groups,this._parents)}function d_(e,t){var n,r,i;return function(){var a=ka(this,e),o=(this.style.removeProperty(e),ka(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function Kd(e){return function(){this.style.removeProperty(e)}}function p_(e,t,n){var r,i,a=n+"";return function(){var o=ka(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}function m_(e,t,n){var r,i,a;return function(){var o=ka(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=ka(this,e)),o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s))}}function h_(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var l=Rr(this,e),c=l.on,u=null==l.value[o]?a||(a=Kd(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function Xd(e,t,n){var r="transform"==(e+="")?P7:n3;return null==t?this.styleTween(e,d_(e,r)).on("end.style."+e,Kd(e)):"function"==typeof t?this.styleTween(e,m_(e,r,F1(this,"style."+e,t))).each(h_(this._id,e)):this.styleTween(e,p_(e,r,t),n).on("end.style."+e,null)}function g_(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function v_(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&g_(e,a,n)),r}return a._value=t,a}function Yd(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,v_(e,t,null==n?"":n))}function y_(e){return function(){this.textContent=e}}function b_(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function Zd(e){return this.tween("text","function"==typeof e?b_(F1(this,"text",e)):y_(null==e?"":e+""))}function x_(e){return function(t){this.textContent=e.call(this,t)}}function w_(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&x_(r)),t}return r._value=e,r}function Jd(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,w_(e))}function ep(){for(var e=this._name,t=this._id,n=i3(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=_r(o,t);Sa(o,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Yr(r,this._parents,e,n)}function tp(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0===--i&&a()}};n.each((function(){var n=Rr(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===i&&a()}))}var __=0;function Yr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function rp(e){return ri().transition(e)}function i3(){return++__}var Hi=ri.prototype;Yr.prototype=rp.prototype={constructor:Yr,select:Gd,selectAll:Hd,selectChild:Hi.selectChild,selectChildren:Hi.selectChildren,filter:Vd,merge:jd,selection:Wd,transition:ep,call:Hi.call,nodes:Hi.nodes,node:Hi.node,size:Hi.size,empty:Hi.empty,each:Hi.each,on:Qd,attr:Rd,attrTween:Ld,style:Xd,styleTween:Yd,text:Zd,textTween:Jd,remove:$d,tween:Pd,delay:Bd,duration:Ud,ease:zd,easeVarying:qd,end:tp,[Symbol.iterator]:Hi[Symbol.iterator]};var Qs=e=>+e;function a3(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var k_={time:null,delay:0,duration:250,ease:a3};function E_(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}function np(e){var t,n;e instanceof Yr?(t=e._id,e=e._name):(t=i3(),(n=k_).time=qs(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)(o=s[c])&&Sa(o,e,t,c,s,n||E_(o,t));return new Yr(r,this._parents,e,t)}ri.prototype.interrupt=Od,ri.prototype.transition=np;var $s=e=>()=>e;function U7(e,t){let{sourceEvent:n,target:r,transform:i,dispatch:a}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Zr(e,t,n){this.k=e,this.x=t,this.y=n}Zr.prototype={constructor:Zr,scale:function(e){return 1===e?this:new Zr(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Zr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var mr=new Zr(1,0,0);function z7(e){for(;!e.__zoom;)if(!(e=e.parentNode))return mr;return e.__zoom}function o3(e){e.stopImmediatePropagation()}function D1(e){e.preventDefault(),e.stopImmediatePropagation()}function A_(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function S_(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function ip(){return this.__zoom||mr}function C_(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function F_(){return navigator.maxTouchPoints||"ontouchstart"in this}function D_(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Ca(){var e,t,n,r=A_,i=S_,a=D_,o=C_,s=F_,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Ps,p=se("start","zoom","end"),f=500,h=0,g=10;function m(e){e.property("__zoom",ip).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",E).filter(s).on("touchstart.zoom",C).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new Zr(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new Zr(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,r){e.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,a=arguments,o=_(e,a).event(r),s=i.apply(e,a),l=null==n?b(s):"function"==typeof n?n.apply(e,a):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,p="function"==typeof t?t.apply(e,a):t,f=d(u.invert(l).concat(c/u.k),p.invert(l).concat(c/p.k));return function(e){if(1===e)e=p;else{var t=f(e),n=c/t[2];e=new Zr(n,l[0]-t[0]*n,l[1]-t[1]*n)}o.zoom(null,e)}}))}function _(e,t,n){return!n&&e.__zooming||new k(e,t)}function k(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var s=_(this,n).event(e),u=this.__zoom,d=Math.max(l[0],Math.min(l[1],u.k*Math.pow(2,o.apply(this,arguments)))),p=Pn(e);if(s.wheel)(s.mouse[0][0]!==p[0]||s.mouse[0][1]!==p[1])&&(s.mouse[1]=u.invert(s.mouse[0]=p)),clearTimeout(s.wheel);else{if(u.k===d)return;s.mouse=[p,u.invert(p)],ai(this),s.start()}D1(e),s.wheel=setTimeout(f,150),s.zoom("mouse",a(v(y(u,d),s.mouse[0],s.mouse[1]),s.extent,c))}function f(){s.wheel=null,s.end()}}function A(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(!n&&r.apply(this,arguments)){var s=e.currentTarget,l=_(this,i,!0).event(e),u=$(e.view).on("mousemove.zoom",g,!0).on("mouseup.zoom",m,!0),d=Pn(e,s),p=e.clientX,f=e.clientY;As(e.view),o3(e),l.mouse=[d,this.__zoom.invert(d)],ai(this),l.start()}function g(e){if(D1(e),!l.moved){var t=e.clientX-p,n=e.clientY-f;l.moved=t*t+n*n>h}l.event(e).zoom("mouse",a(v(l.that.__zoom,l.mouse[0]=Pn(e,s),l.mouse[1]),l.extent,c))}function m(e){u.on("mousemove.zoom mouseup.zoom",null),Ss(e.view,l.moved),D1(e),l.event(e).end()}}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var s=this.__zoom,l=Pn(e.changedTouches?e.changedTouches[0]:e,this),d=s.invert(l),p=s.k*(e.shiftKey?.5:2),f=a(v(y(s,p),l,d),i.apply(this,n),c);D1(e),u>0?$(this).transition().duration(u).call(w,f,l,e):$(this).call(m.transform,f,l,e)}}function C(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(r.apply(this,arguments)){var s,l,c,u,d=n.touches,p=d.length,h=_(this,a,n.changedTouches.length===p).event(n);for(o3(n),l=0;l<p;++l)u=[u=Pn(c=d[l],this),this.__zoom.invert(u),c.identifier],h.touch0?!h.touch1&&h.touch0[2]!==u[2]&&(h.touch1=u,h.taps=0):(h.touch0=u,s=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(h.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),f)),ai(this),h.start())}}function S(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s,l,u=_(this,n).event(e),d=e.changedTouches,p=d.length;for(D1(e),i=0;i<p;++i)s=Pn(o=d[i],this),u.touch0&&u.touch0[2]===o.identifier?u.touch0[0]=s:u.touch1&&u.touch1[2]===o.identifier&&(u.touch1[0]=s);if(o=u.that.__zoom,u.touch1){var f=u.touch0[0],h=u.touch0[1],g=u.touch1[0],m=u.touch1[1],b=(b=g[0]-f[0])*b+(b=g[1]-f[1])*b,w=(w=m[0]-h[0])*w+(w=m[1]-h[1])*w;o=y(o,Math.sqrt(b/w)),s=[(f[0]+g[0])/2,(f[1]+g[1])/2],l=[(h[0]+m[0])/2,(h[1]+m[1])/2]}else{if(!u.touch0)return;s=u.touch0[0],l=u.touch0[1]}u.zoom("touch",a(v(o,s,l),u.extent,c))}}function M(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(this.__zooming){var o,s,l=_(this,i).event(e),c=e.changedTouches,u=c.length;for(o3(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),f),o=0;o<u;++o)s=c[o],l.touch0&&l.touch0[2]===s.identifier?delete l.touch0:l.touch1&&l.touch1[2]===s.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(s=Pn(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<g)){var d=$(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",ip),e!==i?w(e,t,n,r):i.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,r){m.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}),n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,o=null==n?b(e):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(o),l="function"==typeof t?t.apply(this,arguments):t;return a(v(y(r,l),o,s),e,c)}),n,r)},m.translateBy=function(e,t,n,r){m.transform(e,(function(){return a(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},m.translateTo=function(e,t,n,r,o){m.transform(e,(function(){var e=i.apply(this,arguments),o=this.__zoom,s=null==r?b(e):"function"==typeof r?r.apply(this,arguments):r;return a(mr.translate(s[0],s[1]).scale(o.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}),r,o)},k.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=$(this.that).datum();p.call(e,this.that,new U7(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:p}),t)}},m.wheelDelta=function(e){return arguments.length?(o="function"==typeof e?e:$s(+e),m):o},m.filter=function(e){return arguments.length?(r="function"==typeof e?e:$s(!!e),m):r},m.touchable=function(e){return arguments.length?(s="function"==typeof e?e:$s(!!e),m):s},m.extent=function(e){return arguments.length?(i="function"==typeof e?e:$s([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):i},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(a=e,m):a},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=p.on.apply(p,arguments);return e===p?m:e},m.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,m):Math.sqrt(h)},m.tapDistance=function(e){return arguments.length?(g=+e,m):g},m}function Jr(){var e=ga,t=512/Math.PI,n=0,r=0,i=[[0,0],[0,0]];function a(i){return[(i=e(i[0]*Math.PI/180,i[1]*Math.PI/180))[0]*t+n,r-i[1]*t]}return a.invert=function(i){return(i=e.invert((i[0]-n)/t,(r-i[1])/t))&&[180*i[0]/Math.PI,180*i[1]/Math.PI]},a.scale=function(e){return arguments.length?(t=+e,a):t},a.translate=function(e){return arguments.length?(n=+e[0],r=+e[1],a):[n,r]},a.clipExtent=function(e){return arguments.length?(i=e,a):i},a.transform=function(e){return arguments.length?(n=+e.x,r=+e.y,t=+e.k,a):mr.translate(n,r).scale(t)},a.stream=x7({point:function(e,t){var n=a([e,t]);this.stream.point(n[0],n[1])}}).stream,a}function ho(e,t,n){return ur(n,e)||ur(n,t)?1:x1(e,t,n)}function ap(e,t,n,r,i){var a=Math.abs(e);return a<t||i&&Math.abs(a-1)<t?0:a<n||a>r?e:null}function s3(e,t,n,r){for(var i=0,a=t?0:1,o=t?e.length:e.length-1,s=e.map((function(e){return e.coord})),l=Math.cos((90-r)*Math.PI/180),c=Math.cos(r*Math.PI/180),u=a;u<o;u++){var d=s[(u-1+s.length)%s.length],p=s[u],f=ap(ho(d,s[(u+1)%s.length],p),n,l,c);null!==f&&(i+=2*Math.min(Math.abs(f-1),Math.min(Math.abs(f),Math.abs(f+1))))}return i}function op(e,t,n){for(var r=-1/0,i=t?0:1,a=t?e.length:e.length-1,o=i;o<a;o++){var s=e[(o-1+e.length)%e.length],l=e[o],c=ho(s,e[(o+1)%e.length],l),u=180*Math.acos(Math.abs(c))/Math.PI;u>45&&(u=90-u),!(u>=n)&&u>r&&(r=u)}return r===-1/0?null:r}function M1(e,t,n,r,i){for(var a=null,o=t?0:1,s=t?e.length:e.length-1,l=Math.cos((90-r)*Math.PI/180),c=Math.cos(r*Math.PI/180),u=o;u<s;u++){var d=e[(u-1+e.length)%e.length],p=e[u],f=ap(ho(d,e[(u+1)%e.length],p),n,l,c,i);if(null!==f){if(Math.abs(f)>0)return 1;a=0}}return a}function hr(e,t){if(e===t)return!0;var n=e.length;if(n!==t.length)return!1;for(;n--;)if(e[n]!==t[n])return!1;return!0}function Vt(e,t){var n=new Set(t);return Array.from(new Set(e)).filter((function(e){return!n.has(e)}))}function Xt(e,t){var n=new Set(t);return Array.from(new Set(e)).filter((function(e){return n.has(e)}))}function xt(e,t){var n=new Set(e);return t.forEach((function(e){n.add(e)})),Array.from(n)}function Te(e){return Array.from(new Set(e))}function Wi(e,t){if(!t||t<0)return[e.slice()];var n=new Array(Math.ceil(e.length/t));return Array.from(n,(function(n,r){return e.slice(r*t,r*t+t)}))}function Fa(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function Ct(e,t){return e.reduce((function(e,n){var r="function"==typeof t?t(n):n[t];return(e[r]=e[r]||[]).push(n),e}),{})}function Da(e,t){var n=new Set;return e.reduce((function(e,r){var i="function"==typeof t?t(r):r[t];return i&&!n.has(i)&&(n.add(i),e.push(r)),e}),[])}z7.prototype=Zr.prototype;var Iu=je(f3()),kp=je(_p()),eu=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u07BF\u08A0\u2013\u08BF]/,N1;function Ep(e){var t="",n=[],r=/[\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06ED]/g,i=/[\u0660-\u066C\u06F0-\u06F9]+/g,a=/[\u07A6-\u07B0]/,o=/[\u0591-\u05bd\u05bf\u05c1-\u05c5\u05c7]/;/[\u0600-\u06FF]/g.test(e)&&(e=(0,kp.WordShaper)(e));for(var s=0;s<e.length;s++){var l=e[s];i.test(l)?(t+=n.reverse().join(""),n=[l]):(n.length&&i.test(n[n.length-1])&&(t+=n.reverse().join(""),n=[]),(a.test(l)||o.test(l)||r.test(l))&&n.length?n[n.length-1]+=l:eu.test(l)||l.charCodeAt(0)>=64336&&l.charCodeAt(0)<=65023||l.charCodeAt(0)>=65136&&l.charCodeAt(0)<=65279?n.push(l):" "===l&&n.length?n=[n.reverse().join("")+" "]:(t+=n.reverse().join("")+l,n=[]))}return t+=n.reverse().join("")}try{N1=localStorage}catch{}N1=N1||(()=>{let e={};return{getItem:t=>e[t],setItem:(t,n)=>e[t]=n,removeItem:t=>delete e[t]}})();var Ks={};function ce(e,t){try{return void 0===t?N1.getItem(e):(null===t?N1.removeItem(e):N1.setItem(e,t),Ks[e]&&Ks[e].forEach(e=>e(t)),!0)}catch{return typeof console<"u"&&console.error("localStorage quota exceeded"),!1}}ce.onChange=function(e,t){Ks[e]=Ks[e]||[],Ks[e].push(t)};var Sp=je(tu()),ok="@hotosm/id",sk="2.21.1",lk="A friendly editor for OpenStreetMap",uk="dist/iD.min.js",ck="github:openstreetmap/iD",fk="https://github.com/openstreetmap/iD",dk="https://github.com/openstreetmap/iD/issues",pk=["editor","openstreetmap"],mk="ISC",hk={all:"run-s clean build dist",build:"run-s build:css build:data build:js","build:css":"node scripts/build_css.js","build:data":"shx mkdir -p dist/data && node scripts/build_data.js","build:stats":"esbuild-visualizer --metadata dist/esbuild.json --exclude *.png --filename docs/statistics.html","build:js":"node config/esbuild.config.mjs","build:js:watch":"node config/esbuild.config.mjs --watch",clean:"shx rm -f dist/esbuild.json dist/*.js dist/*.map dist/*.css dist/img/*.svg",dist:"run-p dist:**","dist:mapillary":"shx mkdir -p dist/mapillary-js && shx cp -R node_modules/mapillary-js/dist/* dist/mapillary-js/","dist:pannellum":"shx mkdir -p dist/pannellum-streetside && shx cp -R node_modules/pannellum/build/* dist/pannellum-streetside/","dist:min":"node config/esbuild.config.min.mjs","dist:svg:iD":'svg-sprite --symbol --symbol-dest . --shape-id-generator "iD-%s" --symbol-sprite dist/img/iD-sprite.svg "svg/iD-sprite/**/*.svg"',"dist:svg:community":'svg-sprite --symbol --symbol-dest . --shape-id-generator "community-%s" --symbol-sprite dist/img/community-sprite.svg node_modules/osm-community-index/dist/img/*.svg',"dist:svg:fa":"svg-sprite --symbol --symbol-dest . --symbol-sprite dist/img/fa-sprite.svg svg/fontawesome/*.svg","dist:svg:maki":'svg-sprite --symbol --symbol-dest . --shape-id-generator "maki-%s" --symbol-sprite dist/img/maki-sprite.svg node_modules/@mapbox/maki/icons/*.svg',"dist:svg:mapillary:signs":"svg-sprite --symbol --symbol-dest . --symbol-sprite dist/img/mapillary-sprite.svg node_modules/mapillary_sprite_source/package_signs/*.svg","dist:svg:mapillary:objects":"svg-sprite --symbol --symbol-dest . --symbol-sprite dist/img/mapillary-object-sprite.svg node_modules/mapillary_sprite_source/package_objects/*.svg","dist:svg:temaki":'svg-sprite --symbol --symbol-dest . --shape-id-generator "temaki-%s" --symbol-sprite dist/img/temaki-sprite.svg node_modules/@ideditor/temaki/icons/*.svg',imagery:"node scripts/update_imagery.js",lint:"eslint scripts test/spec modules","lint:fix":"eslint scripts test/spec modules --fix",start:"run-s build:js start:server","start:watch":"run-p build:js:watch start:server","start:server":"node scripts/server.js",test:"npm-run-all -s lint build test:spec","test:spec":"karma start karma.conf.js",translations:"node scripts/update_locales.js"},gk={"@ideditor/country-coder":"~5.0.3","@ideditor/location-conflation":"~1.0.2","@mapbox/geojson-area":"^0.2.2","@mapbox/sexagesimal":"1.2.0","@mapbox/vector-tile":"^1.3.1","@tmcw/togeojson":"^4.5.0","@turf/bbox-clip":"^6.0.0","abortcontroller-polyfill":"^1.4.0","aes-js":"^3.1.2","alif-toolkit":"^1.2.9","core-js-bundle":"^3.19.0",diacritics:"1.3.0","fast-deep-equal":"~3.1.1","fast-json-stable-stringify":"2.1.0","lodash-es":"~4.17.15",marked:"~4.0.12","node-diff3":"~3.1.0","osm-auth":"~2.0.0",pannellum:"2.5.6",pbf:"^3.2.1","polygon-clipping":"~0.15.1",rbush:"3.0.1","whatwg-fetch":"^3.4.1","which-polygon":"2.2.0"},vk={"@fortawesome/fontawesome-svg-core":"~6.1.0","@fortawesome/free-brands-svg-icons":"~6.1.0","@fortawesome/free-regular-svg-icons":"~6.1.0","@fortawesome/free-solid-svg-icons":"~6.1.0","@ideditor/temaki":"~5.1.0","@mapbox/maki":"^7.1.0",autoprefixer:"^10.0.1",btoa:"^1.2.1",chai:"^4.3.4",chalk:"^4.1.2","cldr-core":"37.0.0","cldr-localenames-full":"37.0.0","concat-files":"^0.1.1",d3:"~7.4.4","editor-layer-index":"github:osmlab/editor-layer-index#gh-pages",esbuild:"^0.14.17","esbuild-plugin-lodash":"^1.2.0","esbuild-visualizer":"^0.3.1",eslint:"^8.8.0","fetch-mock":"^9.11.0",gaze:"^1.1.3",glob:"^8.0.3",happen:"^0.3.2","js-yaml":"^4.0.0","json-stringify-pretty-compact":"^3.0.0",karma:"^6.3.5","karma-chrome-launcher":"^3.1.0","karma-coverage":"2.1.1","karma-mocha":"^2.0.1","karma-remap-istanbul":"^0.6.0",mapillary_sprite_source:"^1.8.0","mapillary-js":"4.1.0",minimist:"^1.2.3",mocha:"^9.2.0","name-suggestion-index":"~6.0","node-fetch":"^2.6.1","npm-run-all":"^4.0.0","osm-community-index":"~5.1.0",postcss:"^8.1.1","postcss-selector-prepend":"^0.5.0",shelljs:"^0.8.0",shx:"^0.3.0",sinon:"^11.1.2","sinon-chai":"^3.7.0",smash:"0.0","static-server":"^2.2.1","svg-sprite":"1.5.4",vparse:"~1.1.0"},yk={node:">=12"},bk=["> 0.2%, last 6 major versions, Firefox ESR, maintained node versions"],O1={name:ok,version:sk,description:lk,main:uk,repository:ck,homepage:fk,bugs:dk,keywords:pk,license:mk,scripts:hk,dependencies:gk,devDependencies:vk,engines:yk,browserslist:bk},ze=ru();function ru(){let e=O1.dependencies["osm-community-index"]||O1.devDependencies["osm-community-index"],t=(0,Sp.default)(e),n="".concat(t.major,".").concat(t.minor),r={},i={},a={address_formats:"data/address_formats.min.json",deprecated:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/deprecated.min.json",discarded:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/discarded.min.json",imagery:"data/imagery.min.json",intro_graph:"data/intro_graph.min.json",keepRight:"data/keepRight.min.json",languages:"data/languages.min.json",locales:"locales/index.min.json",oci_defaults:"https://cdn.jsdelivr.net/npm/osm-community-index@".concat(n,"/dist/defaults.min.json"),oci_features:"https://cdn.jsdelivr.net/npm/osm-community-index@".concat(n,"/dist/featureCollection.min.json"),oci_resources:"https://cdn.jsdelivr.net/npm/osm-community-index@".concat(n,"/dist/resources.min.json"),preset_categories:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/preset_categories.min.json",preset_defaults:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/preset_defaults.min.json",preset_fields:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/fields.min.json",preset_presets:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/presets.min.json",phone_formats:"data/phone_formats.min.json",qa_data:"data/qa_data.min.json",shortcuts:"data/shortcuts.min.json",territory_languages:"data/territory_languages.min.json",wmf_sitematrix:"https://cdn.jsdelivr.net/npm/wmf-sitematrix@0.1/wikipedia.min.json"},o={};r.cache=()=>o,r.get=e=>{if(o[e])return Promise.resolve(o[e]);let t=a[e],n=t&&r.asset(t);if(!n)return Promise.reject('Unknown data file for "'.concat(e,'"'));let s=i[n];return s||(i[n]=s=fetch(n).then(e=>{if(!e.ok||!e.json)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}).then(t=>{if(delete i[n],!t)throw new Error('No data loaded for "'.concat(e,'"'));return o[e]=t,t}).catch(e=>{throw delete i[n],e})),s},r.fileMap=function(e){return arguments.length?(a=e,r):a};let s="";r.assetPath=function(e){return arguments.length?(s=e,r):s};let l={};return r.assetMap=function(e){return arguments.length?(l=e,r):l},r.asset=e=>{if(/^http(s)?:\/\//i.test(e))return e;let t=s+e;return l[t]||t},r}var Lp=je(e2(),1),Mk="FeatureCollection",Ik=[{type:"Feature",properties:{wikidata:"Q21",nameEn:"England",aliases:["GB-ENG"],country:"GB",groups:["Q23666","Q3336843","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44"]},geometry:{type:"MultiPolygon",coordinates:[[[[-6.03913,51.13217],[-7.74976,48.64773],[1.17405,50.74239],[2.18458,51.52087],[2.56575,51.85301],[.792,57.56437],[-2.30613,55.62698],[-2.17058,55.45916],[-2.6095,55.28488],[-2.63532,55.19452],[-3.02906,55.04606],[-3.09361,54.94924],[-3.38407,54.94278],[-4.1819,54.57861],[-3.5082,53.54318],[-3.08228,53.25526],[-3.03675,53.25092],[-2.92329,53.19383],[-2.92022,53.17685],[-2.98598,53.15589],[-2.90649,53.10964],[-2.87469,53.12337],[-2.89131,53.09374],[-2.83133,52.99184],[-2.7251,52.98389],[-2.72221,52.92969],[-2.80549,52.89428],[-2.85897,52.94487],[-2.92401,52.93836],[-2.97243,52.9651],[-3.13576,52.895],[-3.15744,52.84947],[-3.16105,52.79599],[-3.08734,52.77504],[-3.01001,52.76636],[-2.95581,52.71794],[-3.01724,52.72083],[-3.04398,52.65435],[-3.13648,52.58208],[-3.12926,52.5286],[-3.09746,52.53077],[-3.08662,52.54811],[-3.00929,52.57774],[-2.99701,52.551],[-3.03603,52.49969],[-3.13359,52.49174],[-3.22971,52.45344],[-3.22754,52.42526],[-3.04687,52.34504],[-2.95364,52.3501],[-2.99701,52.323],[-3.00785,52.2753],[-3.09289,52.20546],[-3.12638,52.08114],[-2.97111,51.90456],[-2.8818,51.93196],[-2.78742,51.88833],[-2.74277,51.84367],[-2.66234,51.83555],[-2.66336,51.59504],[-3.20563,51.31615],[-6.03913,51.13217]]]]}},{type:"Feature",properties:{wikidata:"Q22",nameEn:"Scotland",aliases:["GB-SCT"],country:"GB",groups:["Q23666","Q3336843","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44"]},geometry:{type:"MultiPolygon",coordinates:[[[[.792,57.56437],[-.3751,61.32236],[-14.78497,57.60709],[-6.82333,55.83103],[-4.69044,54.3629],[-3.38407,54.94278],[-3.09361,54.94924],[-3.02906,55.04606],[-2.63532,55.19452],[-2.6095,55.28488],[-2.17058,55.45916],[-2.30613,55.62698],[.792,57.56437]]]]}},{type:"Feature",properties:{wikidata:"Q25",nameEn:"Wales",aliases:["GB-WLS"],country:"GB",groups:["Q23666","Q3336843","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44"]},geometry:{type:"MultiPolygon",coordinates:[[[[-3.5082,53.54318],[-5.37267,53.63269],[-6.03913,51.13217],[-3.20563,51.31615],[-2.66336,51.59504],[-2.66234,51.83555],[-2.74277,51.84367],[-2.78742,51.88833],[-2.8818,51.93196],[-2.97111,51.90456],[-3.12638,52.08114],[-3.09289,52.20546],[-3.00785,52.2753],[-2.99701,52.323],[-2.95364,52.3501],[-3.04687,52.34504],[-3.22754,52.42526],[-3.22971,52.45344],[-3.13359,52.49174],[-3.03603,52.49969],[-2.99701,52.551],[-3.00929,52.57774],[-3.08662,52.54811],[-3.09746,52.53077],[-3.12926,52.5286],[-3.13648,52.58208],[-3.04398,52.65435],[-3.01724,52.72083],[-2.95581,52.71794],[-3.01001,52.76636],[-3.08734,52.77504],[-3.16105,52.79599],[-3.15744,52.84947],[-3.13576,52.895],[-2.97243,52.9651],[-2.92401,52.93836],[-2.85897,52.94487],[-2.80549,52.89428],[-2.72221,52.92969],[-2.7251,52.98389],[-2.83133,52.99184],[-2.89131,53.09374],[-2.87469,53.12337],[-2.90649,53.10964],[-2.98598,53.15589],[-2.92022,53.17685],[-2.92329,53.19383],[-3.03675,53.25092],[-3.08228,53.25526],[-3.5082,53.54318]]]]}},{type:"Feature",properties:{wikidata:"Q26",nameEn:"Northern Ireland",aliases:["GB-NIR"],country:"GB",groups:["Q22890","Q3336843","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44"]},geometry:{type:"MultiPolygon",coordinates:[[[[-6.34755,55.49206],[-7.2471,55.06933],[-7.34464,55.04688],[-7.4033,55.00391],[-7.40004,54.94498],[-7.44404,54.9403],[-7.4473,54.87003],[-7.47626,54.83084],[-7.54508,54.79401],[-7.54671,54.74606],[-7.64449,54.75265],[-7.75041,54.7103],[-7.83352,54.73854],[-7.93293,54.66603],[-7.70315,54.62077],[-7.8596,54.53671],[-7.99812,54.54427],[-8.04538,54.48941],[-8.179,54.46763],[-8.04555,54.36292],[-7.87101,54.29299],[-7.8596,54.21779],[-7.81397,54.20159],[-7.69501,54.20731],[-7.55812,54.12239],[-7.4799,54.12239],[-7.44567,54.1539],[-7.32834,54.11475],[-7.30553,54.11869],[-7.34005,54.14698],[-7.29157,54.17191],[-7.28017,54.16714],[-7.29687,54.1354],[-7.29493,54.12013],[-7.26316,54.13863],[-7.25012,54.20063],[-7.14908,54.22732],[-7.19145,54.31296],[-7.02034,54.4212],[-6.87775,54.34682],[-6.85179,54.29176],[-6.81583,54.22791],[-6.74575,54.18788],[-6.70175,54.20218],[-6.6382,54.17071],[-6.66264,54.0666],[-6.62842,54.03503],[-6.47849,54.06947],[-6.36605,54.07234],[-6.36279,54.11248],[-6.32694,54.09337],[-6.29003,54.11278],[-6.26218,54.09785],[-5.83481,53.87749],[-4.69044,54.3629],[-6.34755,55.49206]]]]}},{type:"Feature",properties:{wikidata:"Q35",nameEn:"Denmark",country:"DK",groups:["EU","154","150","UN"],callingCodes:["45"]},geometry:{type:"MultiPolygon",coordinates:[[[[12.16597,56.60205],[10.40861,58.38489],[7.28637,57.35913],[8.02459,55.09613],[8.45719,55.06747],[8.55769,54.91837],[8.63979,54.91069],[8.76387,54.8948],[8.81178,54.90518],[8.92795,54.90452],[9.04629,54.87249],[9.14275,54.87421],[9.20571,54.85841],[9.24631,54.84726],[9.23445,54.83432],[9.2474,54.8112],[9.32771,54.80602],[9.33849,54.80233],[9.36496,54.81749],[9.38532,54.83968],[9.41213,54.84254],[9.43155,54.82586],[9.4659,54.83131],[9.58937,54.88785],[9.62734,54.88057],[9.61187,54.85548],[9.73563,54.8247],[9.89314,54.84171],[10.16755,54.73883],[10.31111,54.65968],[11.00303,54.63689],[11.90309,54.38543],[12.85844,54.82438],[13.93395,54.84044],[15.36991,54.73263],[15.79951,55.54655],[14.89259,55.5623],[14.28399,55.1553],[12.84405,55.13257],[12.60345,55.42675],[12.88472,55.63369],[12.6372,55.91371],[12.65312,56.04345],[12.07466,56.29488],[12.16597,56.60205]]]]}},{type:"Feature",properties:{wikidata:"Q55",nameEn:"Netherlands",country:"NL",groups:["EU","155","150","UN"],callingCodes:["31"]},geometry:{type:"MultiPolygon",coordinates:[[[[5.45168,54.20039],[2.56575,51.85301],[3.36263,51.37112],[3.38696,51.33436],[3.35847,51.31572],[3.38289,51.27331],[3.41704,51.25933],[3.43488,51.24135],[3.52698,51.2458],[3.51502,51.28697],[3.58939,51.30064],[3.78999,51.25766],[3.78783,51.2151],[3.90125,51.20371],[3.97889,51.22537],[4.01957,51.24504],[4.05165,51.24171],[4.16721,51.29348],[4.24024,51.35371],[4.21923,51.37443],[4.33265,51.37687],[4.34086,51.35738],[4.39292,51.35547],[4.43777,51.36989],[4.38064,51.41965],[4.39747,51.43316],[4.38122,51.44905],[4.47736,51.4778],[4.5388,51.48184],[4.54675,51.47265],[4.52846,51.45002],[4.53521,51.4243],[4.57489,51.4324],[4.65442,51.42352],[4.72935,51.48424],[4.74578,51.48937],[4.77321,51.50529],[4.78803,51.50284],[4.84139,51.4799],[4.82409,51.44736],[4.82946,51.4213],[4.78314,51.43319],[4.76577,51.43046],[4.77229,51.41337],[4.78941,51.41102],[4.84988,51.41502],[4.90016,51.41404],[4.92152,51.39487],[5.00393,51.44406],[5.0106,51.47167],[5.03281,51.48679],[5.04774,51.47022],[5.07891,51.4715],[5.10456,51.43163],[5.07102,51.39469],[5.13105,51.34791],[5.13377,51.31592],[5.16222,51.31035],[5.2002,51.32243],[5.24244,51.30495],[5.22542,51.26888],[5.23814,51.26064],[5.26461,51.26693],[5.29716,51.26104],[5.33886,51.26314],[5.347,51.27502],[5.41672,51.26248],[5.4407,51.28169],[5.46519,51.2849],[5.48476,51.30053],[5.515,51.29462],[5.5569,51.26544],[5.5603,51.22249],[5.65145,51.19788],[5.65528,51.18736],[5.70344,51.1829],[5.74617,51.18928],[5.77735,51.17845],[5.77697,51.1522],[5.82564,51.16753],[5.85508,51.14445],[5.80798,51.11661],[5.8109,51.10861],[5.83226,51.10585],[5.82921,51.09328],[5.79903,51.09371],[5.79835,51.05834],[5.77258,51.06196],[5.75961,51.03113],[5.77688,51.02483],[5.76242,50.99703],[5.71864,50.96092],[5.72875,50.95428],[5.74752,50.96202],[5.75927,50.95601],[5.74644,50.94723],[5.72545,50.92312],[5.72644,50.91167],[5.71626,50.90796],[5.69858,50.91046],[5.67886,50.88142],[5.64504,50.87107],[5.64009,50.84742],[5.65259,50.82309],[5.70118,50.80764],[5.68995,50.79641],[5.70107,50.7827],[5.68091,50.75804],[5.69469,50.75529],[5.72216,50.76398],[5.73904,50.75674],[5.74356,50.7691],[5.76533,50.78159],[5.77513,50.78308],[5.80673,50.7558],[5.84548,50.76542],[5.84888,50.75448],[5.88734,50.77092],[5.89129,50.75125],[5.89132,50.75124],[5.95942,50.7622],[5.97545,50.75441],[6.01976,50.75398],[6.02624,50.77453],[5.97497,50.79992],[5.98404,50.80988],[6.00462,50.80065],[6.02328,50.81694],[6.01921,50.84435],[6.05623,50.8572],[6.05702,50.85179],[6.07431,50.84674],[6.07693,50.86025],[6.08805,50.87223],[6.07486,50.89307],[6.09297,50.92066],[6.01615,50.93367],[6.02697,50.98303],[5.95282,50.98728],[5.90296,50.97356],[5.90493,51.00198],[5.87849,51.01969],[5.86735,51.05182],[5.9134,51.06736],[5.9541,51.03496],[5.98292,51.07469],[6.16706,51.15677],[6.17384,51.19589],[6.07889,51.17038],[6.07889,51.24432],[6.16977,51.33169],[6.22674,51.36135],[6.22641,51.39948],[6.20654,51.40049],[6.21724,51.48568],[6.18017,51.54096],[6.09055,51.60564],[6.11759,51.65609],[6.02767,51.6742],[6.04091,51.71821],[5.95003,51.7493],[5.98665,51.76944],[5.94568,51.82786],[5.99848,51.83195],[6.06705,51.86136],[6.10337,51.84829],[6.16902,51.84094],[6.11551,51.89769],[6.15349,51.90439],[6.21443,51.86801],[6.29872,51.86801],[6.30593,51.84998],[6.40704,51.82771],[6.38815,51.87257],[6.47179,51.85395],[6.50231,51.86313],[6.58556,51.89386],[6.68386,51.91861],[6.72319,51.89518],[6.82357,51.96711],[6.83035,51.9905],[6.68128,52.05052],[6.76117,52.11895],[6.83984,52.11728],[6.97189,52.20329],[6.9897,52.2271],[7.03729,52.22695],[7.06365,52.23789],[7.02703,52.27941],[7.07044,52.37805],[7.03417,52.40237],[6.99041,52.47235],[6.94293,52.43597],[6.69507,52.488],[6.71641,52.62905],[6.77307,52.65375],[7.04557,52.63318],[7.07253,52.81083],[7.21694,53.00742],[7.17898,53.13817],[7.22681,53.18165],[7.21679,53.20058],[7.19052,53.31866],[7.00198,53.32672],[6.91025,53.44221],[5.45168,54.20039]],[[4.93295,51.44945],[4.95244,51.45207],[4.9524,51.45014],[4.93909,51.44632],[4.93295,51.44945]],[[4.91493,51.4353],[4.91935,51.43634],[4.92227,51.44252],[4.91811,51.44621],[4.92287,51.44741],[4.92811,51.4437],[4.92566,51.44273],[4.92815,51.43856],[4.92879,51.44161],[4.93544,51.44634],[4.94025,51.44193],[4.93416,51.44185],[4.93471,51.43861],[4.94265,51.44003],[4.93986,51.43064],[4.92952,51.42984],[4.92652,51.43329],[4.91493,51.4353]]]]}},{type:"Feature",properties:{wikidata:"Q782",nameEn:"Hawaii",aliases:["US-HI"],country:"US",groups:["Q35657","061","009","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-177.8563,29.18961],[-179.49839,27.86265],[-151.6784,9.55515],[-154.05867,45.51124],[-177.5224,27.7635],[-177.8563,29.18961]]]]}},{type:"Feature",properties:{wikidata:"Q797",nameEn:"Alaska",aliases:["US-AK"],country:"US",groups:["Q35657","021","003","019","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[169.34848,52.47228],[180,51.0171],[179.84401,55.10087],[169.34848,52.47228]]],[[[-168.95635,65.98512],[-169.03888,65.48473],[-172.76104,63.77445],[-179.55295,57.62081],[-179.55295,50.81807],[-133.92876,54.62289],[-130.61931,54.70835],[-130.64499,54.76912],[-130.44184,54.85377],[-130.27203,54.97174],[-130.18765,55.07744],[-130.08035,55.21556],[-129.97513,55.28029],[-130.15373,55.74895],[-130.00857,55.91344],[-130.00093,56.00325],[-130.10173,56.12178],[-130.33965,56.10849],[-130.77769,56.36185],[-131.8271,56.62247],[-133.38523,58.42773],[-133.84645,58.73543],[-134.27175,58.8634],[-134.48059,59.13231],[-134.55699,59.1297],[-134.7047,59.2458],[-135.00267,59.28745],[-135.03069,59.56208],[-135.48007,59.79937],[-136.31566,59.59083],[-136.22381,59.55526],[-136.33727,59.44466],[-136.47323,59.46617],[-136.52365,59.16752],[-136.82619,59.16198],[-137.4925,58.89415],[-137.60623,59.24465],[-138.62145,59.76431],[-138.71149,59.90728],[-139.05365,59.99655],[-139.20603,60.08896],[-139.05831,60.35205],[-139.68991,60.33693],[-139.98024,60.18027],[-140.45648,60.30919],[-140.5227,60.22077],[-141.00116,60.30648],[-140.97446,84.39275],[-168.25765,71.99091],[-168.95635,65.98512]]]]}},{type:"Feature",properties:{wikidata:"Q3492",nameEn:"Sumatra",aliases:["ID-SM"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[109.82788,2.86812],[110.90339,7.52694],[105.01437,3.24936],[104.56723,1.44271],[104.34728,1.33529],[104.12282,1.27714],[104.03085,1.26954],[103.74084,1.12902],[103.66049,1.18825],[103.56591,1.19719],[103.03657,1.30383],[96.11174,6.69841],[74.28481,-3.17525],[102.92489,-8.17146],[106.32259,-5.50116],[106.38511,-5.16715],[109.17017,-4.07401],[109.3962,-2.07276],[108.50935,-2.01066],[107.94791,1.06924],[109.82788,2.86812]]]]}},{type:"Feature",properties:{wikidata:"Q3757",nameEn:"Java",aliases:["ID-JW"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[109.17017,-4.07401],[106.38511,-5.16715],[106.32259,-5.50116],[102.92489,-8.17146],[116.22542,-10.49172],[114.39575,-8.2889],[114.42235,-8.09762],[114.92859,-7.49253],[116.33992,-7.56171],[116.58433,-5.30385],[109.17017,-4.07401]]]]}},{type:"Feature",properties:{wikidata:"Q3795",nameEn:"Kalimantan",aliases:["ID-KA"],country:"ID",groups:["Q36117","035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[120.02464,2.83703],[118.06469,4.16638],[117.67641,4.16535],[117.47313,4.18857],[117.25801,4.35108],[115.90217,4.37708],[115.58276,3.93499],[115.53713,3.14776],[115.11343,2.82879],[115.1721,2.49671],[114.80706,2.21665],[114.80706,1.92351],[114.57892,1.5],[114.03788,1.44787],[113.64677,1.23933],[113.01448,1.42832],[113.021,1.57819],[112.48648,1.56516],[112.2127,1.44135],[112.15679,1.17004],[111.94553,1.12016],[111.82846,.99349],[111.55434,.97864],[111.22979,1.08326],[110.62374,.873],[110.49182,.88088],[110.35354,.98869],[109.66397,1.60425],[109.66397,1.79972],[109.57923,1.80624],[109.53794,1.91771],[109.62558,1.99182],[109.82788,2.86812],[107.94791,1.06924],[108.50935,-2.01066],[109.3962,-2.07276],[109.17017,-4.07401],[116.58433,-5.30385],[120.02464,2.83703]]]]}},{type:"Feature",properties:{wikidata:"Q3803",nameEn:"Lesser Sunda Islands",aliases:["ID-NU"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[116.96967,-8.01483],[114.92859,-7.49253],[114.42235,-8.09762],[114.39575,-8.2889],[116.22542,-10.49172],[122.14954,-11.52517],[125.68138,-9.85176],[125.09025,-9.46406],[124.97892,-9.19281],[125.04044,-9.17093],[125.09434,-9.19669],[125.18907,-9.16434],[125.18632,-9.03142],[125.11764,-8.96359],[124.97742,-9.08128],[124.94011,-8.85617],[124.46701,-9.13002],[124.45971,-9.30263],[124.38554,-9.3582],[124.35258,-9.43002],[124.3535,-9.48493],[124.28115,-9.50453],[124.28115,-9.42189],[124.21247,-9.36904],[124.14517,-9.42324],[124.10539,-9.41206],[124.04286,-9.34243],[124.04628,-9.22671],[124.33472,-9.11416],[124.92337,-8.75859],[125.87688,-7.49892],[116.96967,-8.01483]]]]}},{type:"Feature",properties:{wikidata:"Q3812",nameEn:"Sulawesi",aliases:["ID-SL"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[128.34321,3.90322],[126.69413,6.02692],[119.56457,.90759],[116.58433,-5.30385],[116.33992,-7.56171],[116.96967,-8.01483],[125.87688,-7.49892],[123.78965,-.86805],[128.34321,3.90322]]]]}},{type:"Feature",properties:{wikidata:"Q3827",nameEn:"Maluku Islands",aliases:["ID-ML"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[129.63187,2.21409],[128.34321,3.90322],[123.78965,-.86805],[125.87688,-7.49892],[125.58506,-7.95311],[125.87691,-8.31789],[127.42116,-8.22471],[127.55165,-9.05052],[135.49042,-9.2276],[135.35517,-5.01442],[132.8312,-4.70282],[130.8468,-2.61103],[128.40647,-2.30349],[129.71519,-.24692],[129.63187,2.21409]]]]}},{type:"Feature",properties:{wikidata:"Q3845",nameEn:"Western New Guinea",aliases:["ID-PP"],country:"ID",groups:["035","142","UN"],driveSide:"left",callingCodes:["62"]},geometry:{type:"MultiPolygon",coordinates:[[[[135.49042,-9.2276],[141.01842,-9.35091],[141.01763,-6.90181],[140.90448,-6.85033],[140.85295,-6.72996],[140.99813,-6.3233],[141.02352,.08993],[129.63187,2.21409],[129.71519,-.24692],[128.40647,-2.30349],[130.8468,-2.61103],[132.8312,-4.70282],[135.35517,-5.01442],[135.49042,-9.2276]]]]}},{type:"Feature",properties:{wikidata:"Q5765",nameEn:"Balearic Islands",aliases:["ES-IB"],country:"ES",groups:["EU","039","150","UN"],callingCodes:["34 971"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.27707,35.35051],[5.10072,39.89531],[3.75438,42.33445],[-2.27707,35.35051]]]]}},{type:"Feature",properties:{wikidata:"Q5823",nameEn:"Ceuta",aliases:["ES-CE"],country:"ES",groups:["EA","EU","015","002","UN"],level:"subterritory",callingCodes:["34"]},geometry:{type:"MultiPolygon",coordinates:[[[[-5.38491,35.92591],[-5.37338,35.88417],[-5.35844,35.87375],[-5.34379,35.8711],[-5.21179,35.90091],[-5.38491,35.92591]]]]}},{type:"Feature",properties:{wikidata:"Q5831",nameEn:"Melilla",aliases:["ES-ML"],country:"ES",groups:["EA","EU","015","002","UN"],level:"subterritory",callingCodes:["34"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.91909,35.33927],[-2.96038,35.31609],[-2.96648,35.30475],[-2.96978,35.29459],[-2.97035,35.28852],[-2.96507,35.28801],[-2.96826,35.28296],[-2.96516,35.27967],[-2.95431,35.2728],[-2.95065,35.26576],[-2.93893,35.26737],[-2.92272,35.27509],[-2.91909,35.33927]]]]}},{type:"Feature",properties:{wikidata:"Q7835",nameEn:"Crimea",country:"RU",groups:["151","150","UN"],level:"subterritory",callingCodes:["7"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.5,44],[36.4883,45.0488],[36.475,45.2411],[36.5049,45.3136],[36.6545,45.3417],[36.6645,45.4514],[35.0498,45.7683],[34.9601,45.7563],[34.7991,45.8101],[34.8015,45.9005],[34.7548,45.907],[34.6668,45.9714],[34.6086,45.9935],[34.5589,45.9935],[34.5201,45.951],[34.4873,45.9427],[34.4415,45.9599],[34.4122,46.0025],[34.3391,46.0611],[34.2511,46.0532],[34.181,46.068],[34.1293,46.1049],[34.0731,46.1177],[34.0527,46.1084],[33.9155,46.1594],[33.8523,46.1986],[33.7972,46.2048],[33.7405,46.1855],[33.646,46.2303],[33.6152,46.2261],[33.6385,46.1415],[33.6147,46.1356],[33.5732,46.1032],[33.5909,46.0601],[33.5597,46.0307],[31.5,45.5],[33.5,44]]]]}},{type:"Feature",properties:{wikidata:"Q12837",nameEn:"Iberia",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q14056",nameEn:"Jan Mayen",aliases:["NO-22"],country:"NO",groups:["SJ","154","150","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[-9.18243,72.23144],[-10.71459,70.09565],[-5.93364,70.76368],[-9.18243,72.23144]]]]}},{type:"Feature",properties:{wikidata:"Q19188",nameEn:"Mainland China",country:"CN",groups:["030","142","UN"],callingCodes:["86"]},geometry:{type:"MultiPolygon",coordinates:[[[[125.6131,53.07229],[125.17522,53.20225],[124.46078,53.21881],[123.86158,53.49391],[123.26989,53.54843],[122.85966,53.47395],[122.35063,53.49565],[121.39213,53.31888],[120.85633,53.28499],[120.0451,52.7359],[120.04049,52.58773],[120.46454,52.63811],[120.71673,52.54099],[120.61346,52.32447],[120.77337,52.20805],[120.65907,51.93544],[120.10963,51.671],[119.13553,50.37412],[119.38598,50.35162],[119.27996,50.13348],[119.11003,50.00276],[118.61623,49.93809],[117.82343,49.52696],[117.48208,49.62324],[117.27597,49.62544],[116.71193,49.83813],[116.03781,48.87014],[116.06565,48.81716],[115.78876,48.51781],[115.811,48.25699],[115.52082,48.15367],[115.57128,47.91988],[115.94296,47.67741],[116.21879,47.88505],[116.4465,47.83662],[116.67405,47.89039],[116.9723,47.87285],[117.37875,47.63627],[117.50181,47.77216],[117.80196,48.01661],[118.03676,48.00982],[118.11009,48.04],[118.22677,48.03853],[118.29654,48.00246],[118.55766,47.99277],[118.7564,47.76947],[119.12343,47.66458],[119.13995,47.53997],[119.35892,47.48104],[119.31964,47.42617],[119.54918,47.29505],[119.56019,47.24874],[119.62403,47.24575],[119.71209,47.19192],[119.85518,46.92196],[119.91242,46.90091],[119.89261,46.66423],[119.80455,46.67631],[119.77373,46.62947],[119.68127,46.59015],[119.65265,46.62342],[119.42827,46.63783],[119.32827,46.61433],[119.24978,46.64761],[119.10448,46.65516],[119.00541,46.74273],[118.92616,46.72765],[118.89974,46.77139],[118.8337,46.77742],[118.78747,46.68689],[118.30534,46.73519],[117.69554,46.50991],[117.60748,46.59771],[117.41782,46.57862],[117.36609,46.36335],[116.83166,46.38637],[116.75551,46.33083],[116.58612,46.30211],[116.26678,45.96479],[116.24012,45.8778],[116.27366,45.78637],[116.16989,45.68603],[115.60329,45.44717],[114.94546,45.37377],[114.74612,45.43585],[114.54801,45.38337],[114.5166,45.27189],[113.70918,44.72891],[112.74662,44.86297],[112.4164,45.06858],[111.98695,45.09074],[111.76275,44.98032],[111.40498,44.3461],[111.96289,43.81596],[111.93776,43.68709],[111.79758,43.6637],[111.59087,43.51207],[111.0149,43.3289],[110.4327,42.78293],[110.08401,42.6411],[109.89402,42.63111],[109.452,42.44842],[109.00679,42.45302],[108.84489,42.40246],[107.57258,42.40898],[107.49681,42.46221],[107.29755,42.41395],[107.24774,42.36107],[106.76517,42.28741],[105.0123,41.63188],[104.51667,41.66113],[104.52258,41.8706],[103.92804,41.78246],[102.72403,42.14675],[102.07645,42.22519],[101.80515,42.50074],[100.84979,42.67087],[100.33297,42.68231],[99.50671,42.56535],[97.1777,42.7964],[96.37926,42.72055],[96.35658,42.90363],[95.89543,43.2528],[95.52594,43.99353],[95.32891,44.02407],[95.39772,44.2805],[95.01191,44.25274],[94.71959,44.35284],[94.10003,44.71016],[93.51161,44.95964],[91.64048,45.07408],[90.89169,45.19667],[90.65114,45.49314],[90.70907,45.73437],[91.03026,46.04194],[90.99672,46.14207],[90.89639,46.30711],[91.07696,46.57315],[91.0147,46.58171],[91.03649,46.72916],[90.84035,46.99525],[90.76108,46.99399],[90.48542,47.30438],[90.48854,47.41826],[90.33598,47.68303],[90.10871,47.7375],[90.06512,47.88177],[89.76624,47.82745],[89.55453,48.0423],[89.0711,47.98528],[88.93186,48.10263],[88.8011,48.11302],[88.58316,48.21893],[88.58939,48.34531],[87.96361,48.58478],[88.0788,48.71436],[87.73822,48.89582],[87.88171,48.95853],[87.81333,49.17354],[87.48983,49.13794],[87.478,49.07403],[87.28386,49.11626],[86.87238,49.12432],[86.73568,48.99918],[86.75343,48.70331],[86.38069,48.46064],[85.73581,48.3939],[85.5169,48.05493],[85.61067,47.49753],[85.69696,47.2898],[85.54294,47.06171],[85.22443,47.04816],[84.93995,46.87399],[84.73077,47.01394],[83.92184,46.98912],[83.04622,47.19053],[82.21792,45.56619],[82.58474,45.40027],[82.51374,45.1755],[81.73278,45.3504],[80.11169,45.03352],[79.8987,44.89957],[80.38384,44.63073],[80.40229,44.23319],[80.40031,44.10986],[80.75156,43.44948],[80.69718,43.32589],[80.77771,43.30065],[80.78817,43.14235],[80.62913,43.141],[80.3735,43.01557],[80.58999,42.9011],[80.38169,42.83142],[80.26886,42.8366],[80.16892,42.61137],[80.26841,42.23797],[80.17807,42.21166],[80.17842,42.03211],[79.92977,42.04113],[78.3732,41.39603],[78.15757,41.38565],[78.12873,41.23091],[77.81287,41.14307],[77.76206,41.01574],[77.52723,41.00227],[77.3693,41.0375],[77.28004,41.0033],[76.99302,41.0696],[76.75681,40.95354],[76.5261,40.46114],[76.33659,40.3482],[75.96168,40.38064],[75.91361,40.2948],[75.69663,40.28642],[75.5854,40.66874],[75.22834,40.45382],[75.08243,40.43945],[74.82013,40.52197],[74.78168,40.44886],[74.85996,40.32857],[74.69875,40.34668],[74.35063,40.09742],[74.25533,40.13191],[73.97049,40.04378],[73.83006,39.76136],[73.9051,39.75073],[73.92354,39.69565],[73.94683,39.60733],[73.87018,39.47879],[73.59831,39.46425],[73.59241,39.40843],[73.5004,39.38402],[73.55396,39.3543],[73.54572,39.27567],[73.60638,39.24534],[73.75823,39.023],[73.81728,39.04007],[73.82964,38.91517],[73.7445,38.93867],[73.7033,38.84782],[73.80656,38.66449],[73.79806,38.61106],[73.97933,38.52945],[74.17022,38.65504],[74.51217,38.47034],[74.69619,38.42947],[74.69894,38.22155],[74.80331,38.19889],[74.82665,38.07359],[74.9063,38.03033],[74.92416,37.83428],[75.00935,37.77486],[74.8912,37.67576],[74.94338,37.55501],[75.06011,37.52779],[75.15899,37.41443],[75.09719,37.37297],[75.12328,37.31839],[74.88887,37.23275],[74.80605,37.21565],[74.49981,37.24518],[74.56453,37.03023],[75.13839,37.02622],[75.40481,36.95382],[75.45562,36.71971],[75.72737,36.7529],[75.92391,36.56986],[76.0324,36.41198],[76.00906,36.17511],[75.93028,36.13136],[76.15325,35.9264],[76.14913,35.82848],[76.33453,35.84296],[76.50961,35.8908],[76.77323,35.66062],[76.84539,35.67356],[76.96624,35.5932],[77.44277,35.46132],[77.70232,35.46244],[77.80532,35.52058],[78.11664,35.48022],[78.03466,35.3785],[78.00033,35.23954],[78.22692,34.88771],[78.18435,34.7998],[78.27781,34.61484],[78.54964,34.57283],[78.56475,34.50835],[78.74465,34.45174],[79.05364,34.32482],[78.99802,34.3027],[78.91769,34.15452],[78.66225,34.08858],[78.65657,34.03195],[78.73367,34.01121],[78.77349,33.73871],[78.67599,33.66445],[78.73636,33.56521],[79.15252,33.17156],[79.14016,33.02545],[79.46562,32.69668],[79.26768,32.53277],[79.13174,32.47766],[79.0979,32.38051],[78.99322,32.37948],[78.96713,32.33655],[78.7831,32.46873],[78.73916,32.69438],[78.38897,32.53938],[78.4645,32.45367],[78.49609,32.2762],[78.68754,32.10256],[78.74404,32.00384],[78.78036,31.99478],[78.69933,31.78723],[78.84516,31.60631],[78.71032,31.50197],[78.77898,31.31209],[78.89344,31.30481],[79.01931,31.42817],[79.14016,31.43403],[79.30694,31.17357],[79.59884,30.93943],[79.93255,30.88288],[80.20721,30.58541],[80.54504,30.44936],[80.83343,30.32023],[81.03953,30.20059],[81.12842,30.01395],[81.24362,30.0126],[81.29032,30.08806],[81.2623,30.14596],[81.33355,30.15303],[81.39928,30.21862],[81.41018,30.42153],[81.5459,30.37688],[81.62033,30.44703],[81.99082,30.33423],[82.10135,30.35439],[82.10757,30.23745],[82.19475,30.16884],[82.16984,30.0692],[82.38622,30.02608],[82.5341,29.9735],[82.73024,29.81695],[83.07116,29.61957],[83.28131,29.56813],[83.44787,29.30513],[83.63156,29.16249],[83.82303,29.30513],[83.97559,29.33091],[84.18107,29.23451],[84.24801,29.02783],[84.2231,28.89571],[84.47528,28.74023],[84.62317,28.73887],[84.85511,28.58041],[85.06059,28.68562],[85.19135,28.62825],[85.18668,28.54076],[85.10729,28.34092],[85.38127,28.28336],[85.4233,28.32996],[85.59765,28.30529],[85.60854,28.25045],[85.69105,28.38475],[85.71907,28.38064],[85.74864,28.23126],[85.84672,28.18187],[85.90743,28.05144],[85.97813,27.99023],[85.94946,27.9401],[86.06309,27.90021],[86.12069,27.93047],[86.08333,28.02121],[86.088,28.09264],[86.18607,28.17364],[86.22966,27.9786],[86.42736,27.91122],[86.51609,27.96623],[86.56265,28.09569],[86.74181,28.10638],[86.75582,28.04182],[87.03757,27.94835],[87.11696,27.84104],[87.56996,27.84517],[87.72718,27.80938],[87.82681,27.95248],[88.13378,27.88015],[88.1278,27.95417],[88.25332,27.9478],[88.54858,28.06057],[88.63235,28.12356],[88.83559,28.01936],[88.88091,27.85192],[88.77517,27.45415],[88.82981,27.38814],[88.91901,27.32483],[88.93678,27.33777],[88.96947,27.30319],[89.00216,27.32532],[88.95355,27.4106],[88.97213,27.51671],[89.0582,27.60985],[89.12825,27.62502],[89.59525,28.16433],[89.79762,28.23979],[90.13387,28.19178],[90.58842,28.02838],[90.69894,28.07784],[91.20019,27.98715],[91.25779,28.07509],[91.46327,28.0064],[91.48973,27.93903],[91.5629,27.84823],[91.6469,27.76358],[91.84722,27.76325],[91.87057,27.7195],[92.27432,27.89077],[92.32101,27.79363],[92.42538,27.80092],[92.7275,27.98662],[92.73025,28.05814],[92.65472,28.07632],[92.67486,28.15018],[92.93075,28.25671],[93.14635,28.37035],[93.18069,28.50319],[93.44621,28.67189],[93.72797,28.68821],[94.35897,29.01965],[94.2752,29.11687],[94.69318,29.31739],[94.81353,29.17804],[95.0978,29.14446],[95.11291,29.09527],[95.2214,29.10727],[95.26122,29.07727],[95.3038,29.13847],[95.41091,29.13007],[95.50842,29.13487],[95.72086,29.20797],[95.75149,29.32063],[95.84899,29.31464],[96.05361,29.38167],[96.31316,29.18643],[96.18682,29.11087],[96.20467,29.02325],[96.3626,29.10607],[96.61391,28.72742],[96.40929,28.51526],[96.48895,28.42955],[96.6455,28.61657],[96.85561,28.4875],[96.88445,28.39452],[96.98882,28.32564],[97.1289,28.3619],[97.34547,28.21385],[97.41729,28.29783],[97.47085,28.2688],[97.50518,28.49716],[97.56835,28.55628],[97.70705,28.5056],[97.79632,28.33168],[97.90069,28.3776],[98.15337,28.12114],[98.13964,27.9478],[98.32641,27.51385],[98.42529,27.55404],[98.43353,27.67086],[98.69582,27.56499],[98.7333,26.85615],[98.77547,26.61994],[98.72741,26.36183],[98.67797,26.24487],[98.7329,26.17218],[98.66884,26.09165],[98.63128,26.15492],[98.57085,26.11547],[98.60763,26.01512],[98.70818,25.86241],[98.63128,25.79937],[98.54064,25.85129],[98.40606,25.61129],[98.31268,25.55307],[98.25774,25.6051],[98.16848,25.62739],[98.18084,25.56298],[98.12591,25.50722],[98.14925,25.41547],[97.92541,25.20815],[97.83614,25.2715],[97.77023,25.11492],[97.72216,25.08508],[97.72903,24.91332],[97.79949,24.85655],[97.76481,24.8289],[97.73127,24.83015],[97.70181,24.84557],[97.64354,24.79171],[97.56648,24.76475],[97.56383,24.75535],[97.5542,24.74943],[97.54675,24.74202],[97.56525,24.72838],[97.56286,24.54535],[97.52757,24.43748],[97.60029,24.4401],[97.66998,24.45288],[97.7098,24.35658],[97.65624,24.33781],[97.66723,24.30027],[97.71941,24.29652],[97.76799,24.26365],[97.72998,24.2302],[97.72799,24.18883],[97.75305,24.16902],[97.72903,24.12606],[97.62363,24.00506],[97.5247,23.94032],[97.64667,23.84574],[97.72302,23.89288],[97.79456,23.94836],[97.79416,23.95663],[97.84328,23.97603],[97.86545,23.97723],[97.88811,23.97446],[97.8955,23.97758],[97.89676,23.97931],[97.89683,23.98389],[97.88814,23.98605],[97.88414,23.99405],[97.88616,24.00463],[97.90998,24.02094],[97.93951,24.01953],[97.98691,24.03897],[97.99583,24.04932],[98.04709,24.07616],[98.05302,24.07408],[98.05671,24.07961],[98.0607,24.07812],[98.06703,24.08028],[98.07806,24.07988],[98.20666,24.11406],[98.54476,24.13119],[98.59256,24.08371],[98.85319,24.13042],[98.87998,24.15624],[98.89632,24.10612],[98.67797,23.9644],[98.68209,23.80492],[98.79607,23.77947],[98.82933,23.72921],[98.81775,23.694],[98.88396,23.59555],[98.80294,23.5345],[98.82877,23.47908],[98.87683,23.48995],[98.92104,23.36946],[98.87573,23.33038],[98.93958,23.31414],[98.92515,23.29535],[98.88597,23.18656],[99.05975,23.16382],[99.04601,23.12215],[99.25741,23.09025],[99.34127,23.13099],[99.52214,23.08218],[99.54218,22.90014],[99.43537,22.94086],[99.45654,22.85726],[99.31243,22.73893],[99.38247,22.57544],[99.37972,22.50188],[99.28771,22.4105],[99.17318,22.18025],[99.19176,22.16983],[99.1552,22.15874],[99.33166,22.09656],[99.47585,22.13345],[99.85351,22.04183],[99.96612,22.05965],[99.99084,21.97053],[99.94003,21.82782],[99.98654,21.71064],[100.04956,21.66843],[100.12679,21.70539],[100.17486,21.65306],[100.10757,21.59945],[100.12542,21.50365],[100.1625,21.48704],[100.18447,21.51898],[100.25863,21.47043],[100.35201,21.53176],[100.42892,21.54325],[100.4811,21.46148],[100.57861,21.45637],[100.72143,21.51898],[100.87265,21.67396],[101.11744,21.77659],[101.15156,21.56129],[101.2124,21.56422],[101.19349,21.41959],[101.26912,21.36482],[101.2229,21.23271],[101.29326,21.17254],[101.54563,21.25668],[101.6068,21.23329],[101.59491,21.18621],[101.60886,21.17947],[101.66977,21.20004],[101.70548,21.14911],[101.7622,21.14813],[101.79266,21.19025],[101.76745,21.21571],[101.83887,21.20983],[101.84412,21.25291],[101.74014,21.30967],[101.74224,21.48276],[101.7727,21.51794],[101.7475,21.5873],[101.80001,21.57461],[101.83257,21.61562],[101.74555,21.72852],[101.7791,21.83019],[101.62566,21.96574],[101.57525,22.13026],[101.60675,22.13513],[101.53638,22.24794],[101.56789,22.28876],[101.61306,22.27515],[101.68973,22.46843],[101.7685,22.50337],[101.86828,22.38397],[101.90714,22.38688],[101.91344,22.44417],[101.98487,22.42766],[102.03633,22.46164],[102.1245,22.43372],[102.14099,22.40092],[102.16621,22.43336],[102.26428,22.41321],[102.25339,22.4607],[102.41061,22.64184],[102.38415,22.67919],[102.42618,22.69212],[102.46665,22.77108],[102.51802,22.77969],[102.57095,22.7036],[102.60675,22.73376],[102.8636,22.60735],[102.9321,22.48659],[103.0722,22.44775],[103.07843,22.50097],[103.17961,22.55705],[103.15782,22.59873],[103.18895,22.64471],[103.28079,22.68063],[103.32282,22.8127],[103.43179,22.75816],[103.43646,22.70648],[103.52675,22.59155],[103.57812,22.65764],[103.56255,22.69499],[103.64506,22.79979],[103.87904,22.56683],[103.93286,22.52703],[103.94513,22.52553],[103.95191,22.5134],[103.96352,22.50584],[103.96783,22.51173],[103.97384,22.50634],[103.99247,22.51958],[104.01088,22.51823],[104.03734,22.72945],[104.11384,22.80363],[104.27084,22.8457],[104.25683,22.76534],[104.35593,22.69353],[104.47225,22.75813],[104.58122,22.85571],[104.60457,22.81841],[104.65283,22.83419],[104.72755,22.81984],[104.77114,22.90017],[104.84942,22.93631],[104.86765,22.95178],[104.8334,23.01484],[104.79478,23.12934],[104.87382,23.12854],[104.87992,23.17141],[104.91435,23.18666],[104.9486,23.17235],[104.96532,23.20463],[104.98712,23.19176],[105.07002,23.26248],[105.11672,23.25247],[105.17276,23.28679],[105.22569,23.27249],[105.32376,23.39684],[105.40782,23.28107],[105.42805,23.30824],[105.49966,23.20669],[105.56037,23.16806],[105.57594,23.075],[105.72382,23.06641],[105.8726,22.92756],[105.90119,22.94168],[105.99568,22.94178],[106.00179,22.99049],[106.19705,22.98475],[106.27022,22.87722],[106.34961,22.86718],[106.49749,22.91164],[106.51306,22.94891],[106.55976,22.92311],[106.60179,22.92884],[106.6516,22.86862],[106.6734,22.89587],[106.71387,22.88296],[106.71128,22.85982],[106.78422,22.81532],[106.81271,22.8226],[106.83685,22.8098],[106.82404,22.7881],[106.76293,22.73491],[106.72321,22.63606],[106.71698,22.58432],[106.65316,22.5757],[106.61269,22.60301],[106.58395,22.474],[106.55665,22.46498],[106.57221,22.37],[106.55976,22.34841],[106.6516,22.33977],[106.69986,22.22309],[106.67495,22.1885],[106.6983,22.15102],[106.70142,22.02409],[106.68274,21.99811],[106.69276,21.96013],[106.72551,21.97923],[106.74345,22.00965],[106.81038,21.97934],[106.9178,21.97357],[106.92714,21.93459],[106.97228,21.92592],[106.99252,21.95191],[107.05634,21.92303],[107.06101,21.88982],[107.00964,21.85948],[107.02615,21.81981],[107.10771,21.79879],[107.20734,21.71493],[107.24625,21.7077],[107.29296,21.74674],[107.35834,21.6672],[107.35989,21.60063],[107.38636,21.59774],[107.41593,21.64839],[107.47197,21.6672],[107.49532,21.62958],[107.49065,21.59774],[107.54047,21.5934],[107.56537,21.61945],[107.66967,21.60787],[107.80355,21.66141],[107.86114,21.65128],[107.90006,21.5905],[107.92652,21.58906],[107.95232,21.5388],[107.96774,21.53601],[107.97074,21.54072],[107.97383,21.53961],[107.97932,21.54503],[108.02926,21.54997],[108.0569,21.53604],[108.10003,21.47338],[108.00365,17.98159],[111.60491,13.57105],[118.41371,24.06775],[118.11703,24.39734],[118.28244,24.51231],[118.35291,24.51645],[118.42453,24.54644],[118.56434,24.49266],[120.49232,25.22863],[121.03532,26.8787],[123.5458,31.01942],[122.29378,31.76513],[122.80525,33.30571],[123.85601,37.49093],[123.90497,38.79949],[124.17532,39.8232],[124.23201,39.9248],[124.35029,39.95639],[124.37089,40.03004],[124.3322,40.05573],[124.38556,40.11047],[124.40719,40.13655],[124.86913,40.45387],[125.71172,40.85223],[125.76869,40.87908],[126.00335,40.92835],[126.242,41.15454],[126.53189,41.35206],[126.60631,41.65565],[126.90729,41.79955],[127.17841,41.59714],[127.29712,41.49473],[127.92943,41.44291],[128.02633,41.42103],[128.03311,41.39232],[128.12967,41.37931],[128.18546,41.41279],[128.20061,41.40895],[128.30716,41.60322],[128.15119,41.74568],[128.04487,42.01769],[128.94007,42.03537],[128.96068,42.06657],[129.15178,42.17224],[129.22285,42.26491],[129.22423,42.3553],[129.28541,42.41574],[129.42882,42.44702],[129.54701,42.37254],[129.60482,42.44461],[129.72541,42.43739],[129.75294,42.59409],[129.77183,42.69435],[129.7835,42.76521],[129.80719,42.79218],[129.83277,42.86746],[129.85261,42.96494],[129.8865,43.00395],[129.95082,43.01051],[129.96409,42.97306],[130.12957,42.98361],[130.09764,42.91425],[130.26095,42.9027],[130.23068,42.80125],[130.2385,42.71127],[130.41826,42.6011],[130.44361,42.54849],[130.50123,42.61636],[130.55143,42.52158],[130.62107,42.58413],[130.56576,42.68925],[130.40213,42.70788],[130.44361,42.76205],[130.66524,42.84753],[131.02438,42.86518],[131.02668,42.91246],[131.135,42.94114],[131.10274,43.04734],[131.20414,43.13654],[131.19031,43.21385],[131.30324,43.39498],[131.29402,43.46695],[131.19492,43.53047],[131.21105,43.82383],[131.26176,43.94011],[131.23583,43.96085],[131.25484,44.03131],[131.30365,44.04262],[131.1108,44.70266],[130.95639,44.85154],[131.48415,44.99513],[131.68466,45.12374],[131.66852,45.2196],[131.76532,45.22609],[131.86903,45.33636],[131.99417,45.2567],[132.83978,45.05916],[132.96373,45.0212],[133.12293,45.1332],[133.09279,45.25693],[133.19419,45.51913],[133.41083,45.57723],[133.48457,45.86203],[133.60442,45.90053],[133.67569,45.9759],[133.72695,46.05576],[133.68047,46.14697],[133.88097,46.25066],[133.91496,46.4274],[133.84104,46.46681],[134.03538,46.75668],[134.20016,47.33458],[134.50898,47.4812],[134.7671,47.72051],[134.55508,47.98651],[134.67098,48.1564],[134.75328,48.36763],[134.49516,48.42884],[132.66989,47.96491],[132.57309,47.71741],[131.90448,47.68011],[131.2635,47.73325],[131.09871,47.6852],[130.95985,47.6957],[130.90915,47.90623],[130.65103,48.10052],[130.84462,48.30942],[130.52147,48.61745],[130.66946,48.88251],[130.43232,48.90844],[130.2355,48.86741],[129.85416,49.11067],[129.67598,49.29596],[129.50685,49.42398],[129.40398,49.44194],[129.35317,49.3481],[129.23232,49.40353],[129.11153,49.36813],[128.72896,49.58676],[127.83476,49.5748],[127.53516,49.84306],[127.49299,50.01251],[127.60515,50.23503],[127.37384,50.28393],[127.36009,50.43787],[127.28765,50.46585],[127.36335,50.58306],[127.28165,50.72075],[127.14586,50.91152],[126.93135,51.0841],[126.90369,51.3238],[126.68349,51.70607],[126.44606,51.98254],[126.558,52.13738],[125.6131,53.07229]],[[113.56865,22.20973],[113.57123,22.20416],[113.60504,22.20464],[113.63011,22.10782],[113.57191,22.07696],[113.54839,22.10909],[113.54942,22.14519],[113.54093,22.15497],[113.52659,22.18271],[113.53552,22.20607],[113.53301,22.21235],[113.53591,22.21369],[113.54093,22.21314],[113.54333,22.21688],[113.5508,22.21672],[113.56865,22.20973]],[[114.50148,22.15017],[113.92195,22.13873],[113.83338,22.1826],[113.81621,22.2163],[113.86771,22.42972],[114.03113,22.5065],[114.05438,22.5026],[114.05729,22.51104],[114.06272,22.51617],[114.07267,22.51855],[114.07817,22.52997],[114.08606,22.53276],[114.09048,22.53716],[114.09692,22.53435],[114.1034,22.5352],[114.11181,22.52878],[114.11656,22.53415],[114.12665,22.54003],[114.13823,22.54319],[114.1482,22.54091],[114.15123,22.55163],[114.1597,22.56041],[114.17247,22.55944],[114.18338,22.55444],[114.20655,22.55706],[114.22185,22.55343],[114.22888,22.5436],[114.25154,22.55977],[114.44998,22.55977],[114.50148,22.15017]]]]}},{type:"Feature",properties:{wikidata:"Q22890",nameEn:"Ireland",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q23666",nameEn:"Great Britain",country:"GB",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q23681",nameEn:"Northern Cyprus",groups:["Q644636","145","142"],driveSide:"left",callingCodes:["90 392"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.67678,35.03866],[33.67742,35.05963],[33.68474,35.06602],[33.69095,35.06237],[33.70861,35.07644],[33.7161,35.07279],[33.70209,35.04882],[33.71482,35.03722],[33.73824,35.05321],[33.76106,35.04253],[33.78581,35.05104],[33.82067,35.07826],[33.84168,35.06823],[33.8541,35.07201],[33.87479,35.08881],[33.87097,35.09389],[33.87622,35.10457],[33.87224,35.12293],[33.88561,35.12449],[33.88943,35.12007],[33.88737,35.11408],[33.89853,35.11377],[33.91789,35.08688],[33.91299,35.07579],[33.90247,35.07686],[33.89485,35.06873],[33.88367,35.07877],[33.85261,35.0574],[33.8355,35.05777],[33.82051,35.0667],[33.8012,35.04786],[33.81524,35.04192],[33.83055,35.02865],[33.82875,35.01685],[33.84045,35.00616],[33.85216,35.00579],[33.85891,35.001],[33.85621,34.98956],[33.83505,34.98108],[33.84811,34.97075],[33.86432,34.97592],[33.90075,34.96623],[33.98684,34.76642],[35.48515,34.70851],[35.51152,36.10954],[32.82353,35.70297],[32.46489,35.48584],[32.60361,35.16647],[32.64864,35.19967],[32.70947,35.18328],[32.70779,35.14127],[32.85733,35.07742],[32.86406,35.1043],[32.94471,35.09422],[33.01192,35.15639],[33.08249,35.17319],[33.11105,35.15639],[33.15138,35.19504],[33.27068,35.16815],[33.3072,35.16816],[33.31955,35.18096],[33.35056,35.18328],[33.34964,35.17803],[33.35596,35.17942],[33.35612,35.17402],[33.36569,35.17479],[33.3717,35.1788],[33.37248,35.18698],[33.38575,35.2018],[33.4076,35.20062],[33.41675,35.16325],[33.46813,35.10564],[33.48136,35.0636],[33.47825,35.04103],[33.45178,35.02078],[33.45256,35.00288],[33.47666,35.00701],[33.48915,35.06594],[33.53975,35.08151],[33.57478,35.06049],[33.567,35.04803],[33.59658,35.03635],[33.61215,35.0527],[33.63765,35.03869],[33.67678,35.03866]]]]}},{type:"Feature",properties:{wikidata:"Q25231",nameEn:"Svalbard",aliases:["NO-21"],country:"NO",groups:["SJ","154","150","UN"],level:"subterritory",callingCodes:["47 79"]},geometry:{type:"MultiPolygon",coordinates:[[[[-7.49892,77.24208],[32.07813,72.01005],[36.85549,84.09565],[-7.49892,77.24208]]]]}},{type:"Feature",properties:{wikidata:"Q25263",nameEn:"Azores",aliases:["PT-20"],country:"PT",groups:["Q3320166","Q2914565","Q105472","EU","039","150","UN"],callingCodes:["351"]},geometry:{type:"MultiPolygon",coordinates:[[[[-23.12984,40.26428],[-36.43765,41.39418],[-22.54767,33.34416],[-23.12984,40.26428]]]]}},{type:"Feature",properties:{wikidata:"Q25359",nameEn:"Navassa Island",aliases:["UM-76"],country:"US",groups:["UM","Q1352230","029","003","419","019","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-74.7289,18.71009],[-75.71816,18.46438],[-74.76465,18.06252],[-74.7289,18.71009]]]]}},{type:"Feature",properties:{wikidata:"Q25396",nameEn:"Bonaire",aliases:["BQ-BO","NL-BQ1"],country:"NL",groups:["Q1451600","BQ","029","003","419","019","UN"],level:"subterritory",callingCodes:["599 7"]},geometry:{type:"MultiPolygon",coordinates:[[[[-67.89186,12.4116],[-68.90012,12.62309],[-68.33524,11.78151],[-68.01417,11.77722],[-67.89186,12.4116]]]]}},{type:"Feature",properties:{wikidata:"Q25528",nameEn:"Saba",aliases:["BQ-SA","NL-BQ2"],country:"NL",groups:["Q1451600","BQ","029","003","419","019","UN"],level:"subterritory",callingCodes:["599 4"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.07669,17.79659],[-63.81314,17.95045],[-63.22932,17.32592],[-63.07669,17.79659]]]]}},{type:"Feature",properties:{wikidata:"Q26180",nameEn:"Sint Eustatius",aliases:["BQ-SE","NL-BQ3"],country:"NL",groups:["Q1451600","BQ","029","003","419","019","UN"],level:"subterritory",callingCodes:["599 3"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.07669,17.79659],[-63.34999,16.94218],[-62.76692,17.64353],[-63.07669,17.79659]]]]}},{type:"Feature",properties:{wikidata:"Q26253",nameEn:"Madeira",aliases:["PT-30"],country:"PT",groups:["Q3320166","Q2914565","Q105472","EU","039","150","UN"],callingCodes:["351"]},geometry:{type:"MultiPolygon",coordinates:[[[[-19.30302,33.65304],[-16.04789,29.65076],[-11.68307,33.12333],[-19.30302,33.65304]]]]}},{type:"Feature",properties:{wikidata:"Q26927",nameEn:"Lakshadweep",aliases:["IN-LD"],country:"IN",groups:["034","142","UN"],driveSide:"left",callingCodes:["91"]},geometry:{type:"MultiPolygon",coordinates:[[[[67.64074,11.57295],[76.59015,5.591],[72.67494,13.58102],[67.64074,11.57295]]]]}},{type:"Feature",properties:{wikidata:"Q27329",nameEn:"Asian Russia",country:"RU",groups:["142","UN"],callingCodes:["7"]},geometry:{type:"MultiPolygon",coordinates:[[[[-179.99933,64.74703],[-172.76104,63.77445],[-169.03888,65.48473],[-168.95635,65.98512],[-168.25765,71.99091],[-179.9843,71.90735],[-179.99933,64.74703]]],[[[59.99809,51.98263],[60.19925,51.99173],[60.48915,52.15175],[60.72581,52.15538],[60.78201,52.22067],[61.05417,52.35096],[60.98021,52.50068],[60.84709,52.52228],[60.84118,52.63912],[60.71693,52.66245],[60.71989,52.75923],[61.05842,52.92217],[61.23462,53.03227],[62.0422,52.96105],[62.12799,52.99133],[62.14574,53.09626],[61.19024,53.30536],[61.14291,53.41481],[61.29082,53.50992],[61.37957,53.45887],[61.57185,53.50112],[61.55706,53.57144],[60.90626,53.62937],[61.22574,53.80268],[61.14283,53.90063],[60.99796,53.93699],[61.26863,53.92797],[61.3706,54.08464],[61.47603,54.08048],[61.56941,53.95703],[61.65318,54.02445],[62.03913,53.94768],[62.00966,54.04134],[62.38535,54.03961],[62.45931,53.90737],[62.56876,53.94047],[62.58651,54.05871],[63.80604,54.27079],[63.91224,54.20013],[64.02715,54.22679],[63.97686,54.29763],[64.97216,54.4212],[65.11033,54.33028],[65.24663,54.35721],[65.20174,54.55216],[68.21308,54.98645],[68.26661,55.09226],[68.19206,55.18823],[68.90865,55.38148],[69.34224,55.36344],[69.74917,55.35545],[70.19179,55.1476],[70.76493,55.3027],[70.96009,55.10558],[71.08288,54.71253],[71.24185,54.64965],[71.08706,54.33376],[71.10379,54.13326],[71.96141,54.17736],[72.17477,54.36303],[72.43415,53.92685],[72.71026,54.1161],[73.37963,53.96132],[73.74778,54.07194],[73.68921,53.86522],[73.25412,53.61532],[73.39218,53.44623],[75.07405,53.80831],[75.43398,53.98652],[75.3668,54.07439],[76.91052,54.4677],[76.82266,54.1798],[76.44076,54.16017],[76.54243,53.99329],[77.90383,53.29807],[79.11255,52.01171],[80.08138,50.77658],[80.4127,50.95581],[80.44819,51.20855],[80.80318,51.28262],[81.16999,51.15662],[81.06091,50.94833],[81.41248,50.97524],[81.46581,50.77658],[81.94999,50.79307],[82.55443,50.75412],[83.14607,51.00796],[83.8442,50.87375],[84.29385,50.27257],[84.99198,50.06793],[85.24047,49.60239],[86.18709,49.50259],[86.63674,49.80136],[86.79056,49.74787],[86.61307,49.60239],[86.82606,49.51796],[87.03071,49.25142],[87.31465,49.23603],[87.28386,49.11626],[87.478,49.07403],[87.48983,49.13794],[87.81333,49.17354],[87.98977,49.18147],[88.15543,49.30314],[88.17223,49.46934],[88.42449,49.48821],[88.82499,49.44808],[89.70687,49.72535],[89.59711,49.90851],[91.86048,50.73734],[92.07173,50.69585],[92.44714,50.78762],[93.01109,50.79001],[92.99595,50.63183],[94.30823,50.57498],[94.39258,50.22193],[94.49477,50.17832],[94.6121,50.04239],[94.97166,50.04725],[95.02465,49.96941],[95.74757,49.97915],[95.80056,50.04239],[96.97388,49.88413],[97.24639,49.74737],[97.56811,49.84265],[97.56432,49.92801],[97.76871,49.99861],[97.85197,49.91339],[98.29481,50.33561],[98.31373,50.4996],[98.06393,50.61262],[97.9693,50.78044],[98.01472,50.86652],[97.83305,51.00248],[98.05257,51.46696],[98.22053,51.46579],[98.33222,51.71832],[98.74142,51.8637],[98.87768,52.14563],[99.27888,51.96876],[99.75578,51.90108],[99.89203,51.74903],[100.61116,51.73028],[101.39085,51.45753],[101.5044,51.50467],[102.14032,51.35566],[102.32194,50.67982],[102.71178,50.38873],[103.70343,50.13952],[105.32528,50.4648],[106.05562,50.40582],[106.07865,50.33474],[106.47156,50.31909],[106.49628,50.32436],[106.51122,50.34408],[106.58373,50.34044],[106.80326,50.30177],[107.00007,50.1977],[107.1174,50.04239],[107.36407,49.97612],[107.96116,49.93191],[107.95387,49.66659],[108.27937,49.53167],[108.53969,49.32325],[109.18017,49.34709],[109.51325,49.22859],[110.24373,49.16676],[110.39891,49.25083],[110.64493,49.1816],[113.02647,49.60772],[113.20216,49.83356],[114.325,50.28098],[114.9703,50.19254],[115.26068,49.97367],[115.73602,49.87688],[116.22402,50.04477],[116.62502,49.92919],[116.71193,49.83813],[117.27597,49.62544],[117.48208,49.62324],[117.82343,49.52696],[118.61623,49.93809],[119.11003,50.00276],[119.27996,50.13348],[119.38598,50.35162],[119.13553,50.37412],[120.10963,51.671],[120.65907,51.93544],[120.77337,52.20805],[120.61346,52.32447],[120.71673,52.54099],[120.46454,52.63811],[120.04049,52.58773],[120.0451,52.7359],[120.85633,53.28499],[121.39213,53.31888],[122.35063,53.49565],[122.85966,53.47395],[123.26989,53.54843],[123.86158,53.49391],[124.46078,53.21881],[125.17522,53.20225],[125.6131,53.07229],[126.558,52.13738],[126.44606,51.98254],[126.68349,51.70607],[126.90369,51.3238],[126.93135,51.0841],[127.14586,50.91152],[127.28165,50.72075],[127.36335,50.58306],[127.28765,50.46585],[127.36009,50.43787],[127.37384,50.28393],[127.60515,50.23503],[127.49299,50.01251],[127.53516,49.84306],[127.83476,49.5748],[128.72896,49.58676],[129.11153,49.36813],[129.23232,49.40353],[129.35317,49.3481],[129.40398,49.44194],[129.50685,49.42398],[129.67598,49.29596],[129.85416,49.11067],[130.2355,48.86741],[130.43232,48.90844],[130.66946,48.88251],[130.52147,48.61745],[130.84462,48.30942],[130.65103,48.10052],[130.90915,47.90623],[130.95985,47.6957],[131.09871,47.6852],[131.2635,47.73325],[131.90448,47.68011],[132.57309,47.71741],[132.66989,47.96491],[134.49516,48.42884],[134.75328,48.36763],[134.67098,48.1564],[134.55508,47.98651],[134.7671,47.72051],[134.50898,47.4812],[134.20016,47.33458],[134.03538,46.75668],[133.84104,46.46681],[133.91496,46.4274],[133.88097,46.25066],[133.68047,46.14697],[133.72695,46.05576],[133.67569,45.9759],[133.60442,45.90053],[133.48457,45.86203],[133.41083,45.57723],[133.19419,45.51913],[133.09279,45.25693],[133.12293,45.1332],[132.96373,45.0212],[132.83978,45.05916],[131.99417,45.2567],[131.86903,45.33636],[131.76532,45.22609],[131.66852,45.2196],[131.68466,45.12374],[131.48415,44.99513],[130.95639,44.85154],[131.1108,44.70266],[131.30365,44.04262],[131.25484,44.03131],[131.23583,43.96085],[131.26176,43.94011],[131.21105,43.82383],[131.19492,43.53047],[131.29402,43.46695],[131.30324,43.39498],[131.19031,43.21385],[131.20414,43.13654],[131.10274,43.04734],[131.135,42.94114],[131.02668,42.91246],[131.02438,42.86518],[130.66524,42.84753],[130.44361,42.76205],[130.40213,42.70788],[130.56576,42.68925],[130.62107,42.58413],[130.55143,42.52158],[130.56835,42.43281],[130.60805,42.4317],[130.64181,42.41422],[130.66367,42.38024],[130.65022,42.32281],[131.95041,41.5445],[140.9182,45.92937],[145.82343,44.571],[145.23667,43.76813],[153.94307,38.42848],[180,62.52334],[180,71.53642],[155.31937,81.93282],[76.13964,83.37843],[64.18965,69.94255],[66.1708,67.61252],[61.98014,65.72191],[60.74386,64.95767],[59.63945,64.78384],[59.80579,64.13948],[59.24834,63.01859],[59.61398,62.44915],[59.36223,61.3882],[59.50685,60.91162],[58.3853,59.487],[59.15636,59.14682],[59.40376,58.45822],[58.71104,58.07475],[58.81412,57.71602],[58.13789,57.68097],[58.07604,57.08308],[57.28024,56.87898],[57.51527,56.08729],[59.28419,56.15739],[59.49035,55.60486],[58.81825,55.03378],[57.25137,55.26262],[57.14829,54.84204],[57.95234,54.39672],[59.95217,54.85853],[59.70487,54.14846],[58.94336,53.953],[58.79644,52.43392],[59.22409,52.28437],[59.25033,52.46803],[60.17516,52.39457],[60.17253,52.25814],[59.91279,52.06924],[59.99809,51.98263]]]]}},{type:"Feature",properties:{wikidata:"Q34366",nameEn:"Tasmania",aliases:["AU-TAS"],country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[123.64533,-39.13605],[159.69067,-56.28945],[159.74028,-39.1978],[123.64533,-39.13605]]]]}},{type:"Feature",properties:{wikidata:"Q34497",nameEn:"Saint Helena",aliases:["SH-HL"],country:"GB",groups:["SH","BOTS","011","202","002","UN"],level:"subterritory",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["290"]},geometry:{type:"MultiPolygon",coordinates:[[[[-8.3824,-13.9131],[-6.17428,-19.07236],[-3.29308,-15.22647],[-8.3824,-13.9131]]]]}},{type:"Feature",properties:{wikidata:"Q35657",nameEn:"US States",country:"US",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q36117",nameEn:"Borneo",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q36678",nameEn:"West Bank",country:"PS",groups:["145","142"],callingCodes:["970"]},geometry:{type:"MultiPolygon",coordinates:[[[[35.47672,31.49578],[35.55941,31.76535],[35.52758,31.9131],[35.54375,31.96587],[35.52012,32.04076],[35.57111,32.21877],[35.55807,32.38674],[35.42078,32.41562],[35.41048,32.43706],[35.41598,32.45593],[35.42034,32.46009],[35.40224,32.50136],[35.35212,32.52047],[35.30685,32.51024],[35.29306,32.50947],[35.25049,32.52453],[35.2244,32.55289],[35.15937,32.50466],[35.10882,32.4757],[35.10024,32.47856],[35.09236,32.47614],[35.08564,32.46948],[35.07059,32.4585],[35.05423,32.41754],[35.05311,32.4024],[35.0421,32.38242],[35.05142,32.3667],[35.04243,32.35008],[35.01772,32.33863],[35.01119,32.28684],[35.02939,32.2671],[35.01841,32.23981],[34.98885,32.20758],[34.95703,32.19522],[34.96009,32.17503],[34.99039,32.14626],[34.98507,32.12606],[34.99437,32.10962],[34.9863,32.09551],[35.00261,32.027],[34.98682,31.96935],[35.00124,31.93264],[35.03489,31.92448],[35.03978,31.89276],[35.03489,31.85919],[34.99712,31.85569],[34.9724,31.83352],[35.01978,31.82944],[35.05617,31.85685],[35.07677,31.85627],[35.14174,31.81325],[35.18603,31.80901],[35.18169,31.82542],[35.19461,31.82687],[35.21469,31.81835],[35.216,31.83894],[35.21128,31.863],[35.20381,31.86716],[35.20673,31.88151],[35.20791,31.8821],[35.20945,31.8815],[35.21016,31.88237],[35.21276,31.88153],[35.2136,31.88241],[35.22014,31.88264],[35.22294,31.87889],[35.22567,31.86745],[35.22817,31.8638],[35.2249,31.85433],[35.2304,31.84222],[35.24816,31.8458],[35.25753,31.8387],[35.251,31.83085],[35.26404,31.82567],[35.25573,31.81362],[35.26058,31.79064],[35.25225,31.7678],[35.26319,31.74846],[35.25182,31.73945],[35.24981,31.72543],[35.2438,31.7201],[35.24315,31.71244],[35.23972,31.70896],[35.22392,31.71899],[35.21937,31.71578],[35.20538,31.72388],[35.18023,31.72067],[35.16478,31.73242],[35.15474,31.73352],[35.15119,31.73634],[35.13931,31.73012],[35.12933,31.7325],[35.11895,31.71454],[35.10782,31.71594],[35.08226,31.69107],[35.00879,31.65426],[34.95249,31.59813],[34.9415,31.55601],[34.94356,31.50743],[34.93258,31.47816],[34.89756,31.43891],[34.87833,31.39321],[34.88932,31.37093],[34.92571,31.34337],[35.02459,31.35979],[35.13033,31.3551],[35.22921,31.37445],[35.39675,31.49572],[35.47672,31.49578]]]]}},{type:"Feature",properties:{wikidata:"Q37362",nameEn:"Akrotiri and Dhekelia",aliases:["SBA"],country:"GB"},geometry:null},{type:"Feature",properties:{wikidata:"Q38095",nameEn:"Gal\xe1pagos Islands",aliases:["EC-W"],country:"EC",groups:["005","419","019","UN"],callingCodes:["593"]},geometry:{type:"MultiPolygon",coordinates:[[[[-93.12365,2.64343],[-92.46744,-2.52874],[-87.07749,-.8849],[-93.12365,2.64343]]]]}},{type:"Feature",properties:{wikidata:"Q39760",nameEn:"Gaza Strip",country:"PS",groups:["145","142"],callingCodes:["970"]},geometry:{type:"MultiPolygon",coordinates:[[[[34.052,31.46619],[34.21853,31.32363],[34.23572,31.2966],[34.24012,31.29591],[34.26742,31.21998],[34.29417,31.24194],[34.36523,31.28963],[34.37381,31.30598],[34.36505,31.36404],[34.40077,31.40926],[34.48892,31.48365],[34.56797,31.54197],[34.48681,31.59711],[34.29262,31.70393],[34.052,31.46619]]]]}},{type:"Feature",properties:{wikidata:"Q40888",nameEn:"Andaman and Nicobar Islands",aliases:["IN-AN"],country:"IN",groups:["034","142","UN"],driveSide:"left",callingCodes:["91"]},geometry:{type:"MultiPolygon",coordinates:[[[[94.42132,5.96581],[94.6371,13.81803],[86.7822,13.41052],[94.42132,5.96581]]]]}},{type:"Feature",properties:{wikidata:"Q41684",nameEn:"Stewart Island",country:"NZ",groups:["053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[166.59185,-47.61313],[169.70504,-47.56021],[167.52103,-46.41337],[166.59185,-47.61313]]]]}},{type:"Feature",properties:{wikidata:"Q43296",nameEn:"Wake Island",aliases:["WK","WAK","WKUM","872","UM-79"],country:"US",groups:["UM","Q1352230","057","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[167.34779,18.97692],[166.67967,20.14834],[165.82549,18.97692],[167.34779,18.97692]]]]}},{type:"Feature",properties:{wikidata:"Q46275",nameEn:"New Zealand Subantarctic Islands",country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left"},geometry:{type:"MultiPolygon",coordinates:[[[[164.30551,-47.88072],[161.96603,-56.07661],[179.49541,-50.04657],[179.49541,-47.2902],[169.91032,-47.66283],[164.30551,-47.88072]]]]}},{type:"Feature",properties:{wikidata:"Q46395",nameEn:"British Overseas Territories",aliases:["BOTS","UKOTS"],country:"GB",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q46772",nameEn:"Kerguelen Islands",country:"FR",groups:["TF","Q1451600","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[61.9216,-49.39746],[70.67507,-51.14192],[74.25129,-45.45074],[61.9216,-49.39746]]]]}},{type:"Feature",properties:{wikidata:"Q46879",nameEn:"Baker Island",aliases:["UM-81"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-175.33482,-1.40631],[-175.31323,.5442],[-177.91421,.39582],[-175.33482,-1.40631]]]]}},{type:"Feature",properties:{wikidata:"Q47863",nameEn:"Midway Atoll",aliases:["MI","MID","MIUM","488","UM-71"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-176.29741,29.09786],[-177.77531,29.29793],[-177.5224,27.7635],[-176.29741,29.09786]]]]}},{type:"Feature",properties:{wikidata:"Q62218",nameEn:"Jarvis Island",aliases:["UM-86"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-160.42921,-1.4364],[-159.12443,.19975],[-160.38779,.30331],[-160.42921,-1.4364]]]]}},{type:"Feature",properties:{wikidata:"Q105472",nameEn:"Macaronesia",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q114935",nameEn:"Kermadec Islands",country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[-174.40891,-29.09438],[-180,-24.21376],[-179.96512,-35.00791],[-174.40891,-29.09438]]]]}},{type:"Feature",properties:{wikidata:"Q115459",nameEn:"Chatham Islands",aliases:["NZ-CIT"],country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[-179.93224,-45.18423],[-172.47015,-45.17912],[-176.30998,-41.38382],[-179.93224,-45.18423]]]]}},{type:"Feature",properties:{wikidata:"Q118863",nameEn:"North Island",country:"NZ",groups:["053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[179.49541,-47.2902],[179.49541,-36.79303],[174.17679,-32.62487],[170.27492,-36.38133],[174.58663,-40.80446],[174.46634,-41.55028],[179.49541,-47.2902]]]]}},{type:"Feature",properties:{wikidata:"Q120755",nameEn:"South Island",country:"NZ",groups:["053","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[169.70504,-47.56021],[179.49541,-47.2902],[174.46634,-41.55028],[174.58663,-40.80446],[170.27492,-36.38133],[166.56976,-39.94841],[164.8365,-46.0205],[167.52103,-46.41337],[169.70504,-47.56021]]]]}},{type:"Feature",properties:{wikidata:"Q123076",nameEn:"Palmyra Atoll",aliases:["UM-95"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-161.06795,5.2462],[-161.0731,7.1291],[-163.24478,5.24198],[-161.06795,5.2462]]]]}},{type:"Feature",properties:{wikidata:"Q130574",nameEn:"Chafarinas Islands",country:"ES",groups:["EU","Q191011","015","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[-2.40316,35.16893],[-2.43262,35.20652],[-2.45965,35.16527],[-2.40316,35.16893]]]]}},{type:"Feature",properties:{wikidata:"Q130895",nameEn:"Kingman Reef",aliases:["UM-89"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-161.0731,7.1291],[-163.16627,7.15036],[-163.24478,5.24198],[-161.0731,7.1291]]]]}},{type:"Feature",properties:{wikidata:"Q131008",nameEn:"Johnston Atoll",aliases:["JT","JTN","JTUM","396","UM-67"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-170.65691,16.57199],[-168.87689,16.01159],[-169.2329,17.4933],[-170.65691,16.57199]]]]}},{type:"Feature",properties:{wikidata:"Q131305",nameEn:"Howland Island",aliases:["UM-84"],country:"US",groups:["UM","Q1352230","061","009","UN"],level:"subterritory",roadSpeedUnit:"mph",roadHeightUnit:"ft"},geometry:{type:"MultiPolygon",coordinates:[[[[-177.91421,.39582],[-175.31323,.5442],[-176.74464,2.28109],[-177.91421,.39582]]]]}},{type:"Feature",properties:{wikidata:"Q133888",nameEn:"Ashmore and Cartier Islands",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[123.7463,-11.1783],[120.6877,-13.59408],[125.29076,-12.33139],[123.7463,-11.1783]]]]}},{type:"Feature",properties:{wikidata:"Q153732",nameEn:"Mariana Islands",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q172216",nameEn:"Coral Sea Islands",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[159.77159,-28.41151],[156.73836,-14.50464],[145.2855,-9.62524],[147.69992,-17.5933],[152.93188,-20.92631],[154.02855,-24.43238],[159.77159,-28.41151]]]]}},{type:"Feature",properties:{wikidata:"Q179313",nameEn:"Alderney",country:"GB",groups:["GG","830","Q185086","154","150","UN"],level:"subterritory",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01481"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.36485,49.48223],[-2.09454,49.46288],[-2.02963,49.91866],[-2.49556,49.79012],[-2.36485,49.48223]]]]}},{type:"Feature",properties:{wikidata:"Q185086",nameEn:"Crown Dependencies",country:"GB",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q190571",nameEn:"Scattered Islands",country:"FR",groups:["TF","Q1451600","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[53.53458,-16.36909],[54.96649,-16.28353],[54.61476,-15.02273],[53.53458,-16.36909]]],[[[38.55969,-20.75596],[40.68027,-23.38889],[43.52893,-15.62903],[38.55969,-20.75596]]],[[[47.03092,-11.05648],[47.11593,-12.08552],[47.96702,-11.46447],[47.03092,-11.05648]]]]}},{type:"Feature",properties:{wikidata:"Q191011",nameEn:"Plazas de soberan\xeda",country:"ES"},geometry:null},{type:"Feature",properties:{wikidata:"Q191146",nameEn:"Pe\xf1\xf3n de V\xe9lez de la Gomera",country:"ES",groups:["EU","Q191011","015","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[-4.30191,35.17419],[-4.30112,35.17058],[-4.29436,35.17149],[-4.30191,35.17419]]]]}},{type:"Feature",properties:{wikidata:"Q201698",nameEn:"Crozet Islands",country:"FR",groups:["TF","Q1451600","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[55.03425,-43.65017],[46.31615,-46.28749],[54.5587,-47.93013],[55.03425,-43.65017]]]]}},{type:"Feature",properties:{wikidata:"Q578170",nameEn:"Contiguous United States",aliases:["CONUS"],country:"US",groups:["Q35657","021","003","019","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-97.13927,25.96583],[-96.92418,25.97377],[-80.57035,24.0565],[-78.91214,27.76553],[-61.98255,37.34815],[-67.16117,44.20069],[-66.93432,44.82597],[-66.96824,44.83078],[-66.98249,44.87071],[-66.96824,44.90965],[-67.0216,44.95333],[-67.11316,45.11176],[-67.15965,45.16179],[-67.19603,45.16771],[-67.20349,45.1722],[-67.22751,45.16344],[-67.27039,45.1934],[-67.29748,45.18173],[-67.29754,45.14865],[-67.34927,45.122],[-67.48201,45.27351],[-67.42394,45.37969],[-67.50578,45.48971],[-67.42144,45.50584],[-67.43815,45.59162],[-67.6049,45.60725],[-67.80705,45.69528],[-67.80653,45.80022],[-67.75654,45.82324],[-67.80961,45.87531],[-67.75196,45.91814],[-67.78111,45.9392],[-67.78578,47.06473],[-67.87993,47.10377],[-67.94843,47.1925],[-68.23244,47.35712],[-68.37458,47.35851],[-68.38332,47.28723],[-68.57914,47.28431],[-68.60575,47.24659],[-68.70125,47.24399],[-68.89222,47.1807],[-69.05039,47.2456],[-69.05073,47.30076],[-69.05148,47.42012],[-69.22119,47.46461],[-69.99966,46.69543],[-70.05812,46.41768],[-70.18547,46.35357],[-70.29078,46.18832],[-70.23855,46.1453],[-70.31025,45.96424],[-70.24694,45.95138],[-70.25976,45.89675],[-70.41523,45.79497],[-70.38934,45.73215],[-70.54019,45.67291],[-70.68516,45.56964],[-70.72651,45.49771],[-70.62518,45.42286],[-70.65383,45.37592],[-70.78372,45.43269],[-70.82638,45.39828],[-70.80236,45.37444],[-70.84816,45.22698],[-70.89864,45.2398],[-70.91169,45.29849],[-70.95193,45.33895],[-71.0107,45.34819],[-71.01866,45.31573],[-71.08364,45.30623],[-71.14568,45.24128],[-71.19723,45.25438],[-71.22338,45.25184],[-71.29371,45.29996],[-71.37133,45.24624],[-71.44252,45.2361],[-71.40364,45.21382],[-71.42778,45.12624],[-71.48735,45.07784],[-71.50067,45.01357],[-73.35025,45.00942],[-74.32699,44.99029],[-74.66689,45.00646],[-74.8447,45.00606],[-74.99101,44.98051],[-75.01363,44.95608],[-75.2193,44.87821],[-75.41441,44.76614],[-75.76813,44.51537],[-75.8217,44.43176],[-75.95947,44.34463],[-76.00018,44.34896],[-76.16285,44.28262],[-76.1664,44.23051],[-76.244,44.19643],[-76.31222,44.19894],[-76.35324,44.13493],[-76.43859,44.09393],[-76.79706,43.63099],[-79.25796,43.54052],[-79.06921,43.26183],[-79.05512,43.25375],[-79.05544,43.21224],[-79.05002,43.20133],[-79.05384,43.17418],[-79.04652,43.16396],[-79.0427,43.13934],[-79.06881,43.12029],[-79.05671,43.10937],[-79.07486,43.07845],[-79.01055,43.06659],[-78.99941,43.05612],[-79.02424,43.01983],[-79.02074,42.98444],[-78.98126,42.97],[-78.96312,42.95509],[-78.93224,42.95229],[-78.90905,42.93022],[-78.90712,42.89733],[-78.93684,42.82887],[-82.67862,41.67615],[-83.11184,41.95671],[-83.14962,42.04089],[-83.12724,42.2376],[-83.09837,42.28877],[-83.07837,42.30978],[-83.02253,42.33045],[-82.82964,42.37355],[-82.64242,42.55594],[-82.58873,42.54984],[-82.57583,42.5718],[-82.51858,42.611],[-82.51063,42.66025],[-82.46613,42.76615],[-82.4826,42.8068],[-82.45331,42.93139],[-82.4253,42.95423],[-82.4146,42.97626],[-82.42469,42.992],[-82.48419,45.30225],[-83.59589,45.82131],[-83.43746,45.99749],[-83.57017,46.105],[-83.83329,46.12169],[-83.90453,46.05922],[-83.95399,46.05634],[-84.1096,46.23987],[-84.09756,46.25512],[-84.11615,46.2681],[-84.11254,46.32329],[-84.13451,46.39218],[-84.11196,46.50248],[-84.12885,46.53068],[-84.17723,46.52753],[-84.1945,46.54061],[-84.2264,46.53337],[-84.26351,46.49508],[-84.29893,46.49127],[-84.34174,46.50683],[-84.42101,46.49853],[-84.4481,46.48972],[-84.47607,46.45225],[-84.55635,46.45974],[-84.85871,46.88881],[-88.37033,48.30586],[-89.48837,48.01412],[-89.57972,48.00023],[-89.77248,48.02607],[-89.89974,47.98109],[-90.07418,48.11043],[-90.56312,48.09488],[-90.56444,48.12184],[-90.75045,48.09143],[-90.87588,48.2484],[-91.08016,48.18096],[-91.25025,48.08522],[-91.43248,48.04912],[-91.45829,48.07454],[-91.58025,48.04339],[-91.55649,48.10611],[-91.70451,48.11805],[-91.71231,48.19875],[-91.86125,48.21278],[-91.98929,48.25409],[-92.05339,48.35958],[-92.14732,48.36578],[-92.202,48.35252],[-92.26662,48.35651],[-92.30939,48.31251],[-92.27167,48.25046],[-92.37185,48.22259],[-92.48147,48.36609],[-92.45588,48.40624],[-92.50712,48.44921],[-92.65606,48.43471],[-92.71323,48.46081],[-92.69927,48.49573],[-92.62747,48.50278],[-92.6342,48.54133],[-92.7287,48.54005],[-92.94973,48.60866],[-93.25391,48.64266],[-93.33946,48.62787],[-93.3712,48.60599],[-93.39758,48.60364],[-93.40693,48.60948],[-93.44472,48.59147],[-93.47022,48.54357],[-93.66382,48.51845],[-93.79267,48.51631],[-93.80939,48.52439],[-93.80676,48.58232],[-93.83288,48.62745],[-93.85769,48.63284],[-94.23215,48.65202],[-94.25104,48.65729],[-94.25172,48.68404],[-94.27153,48.70232],[-94.4174,48.71049],[-94.44258,48.69223],[-94.53826,48.70216],[-94.54885,48.71543],[-94.58903,48.71803],[-94.69335,48.77883],[-94.69669,48.80918],[-94.70486,48.82365],[-94.70087,48.8339],[-94.687,48.84077],[-94.75017,49.09931],[-94.77355,49.11998],[-94.82487,49.29483],[-94.8159,49.32299],[-94.85381,49.32492],[-94.95681,49.37035],[-94.99532,49.36579],[-95.01419,49.35647],[-95.05825,49.35311],[-95.12903,49.37056],[-95.15357,49.384],[-95.15355,48.9996],[-123.32163,49.00419],[-123.0093,48.83186],[-123.0093,48.76586],[-123.26565,48.6959],[-123.15614,48.35395],[-123.50039,48.21223],[-125.03842,48.53282],[-133.98258,38.06389],[-118.48109,32.5991],[-117.1243,32.53427],[-115.88053,32.63624],[-114.71871,32.71894],[-114.76736,32.64094],[-114.80584,32.62028],[-114.81141,32.55543],[-114.79524,32.55731],[-114.82011,32.49609],[-111.07523,31.33232],[-108.20979,31.33316],[-108.20899,31.78534],[-106.529,31.784],[-106.52266,31.77509],[-106.51251,31.76922],[-106.50962,31.76155],[-106.50111,31.75714],[-106.48815,31.74769],[-106.47298,31.75054],[-106.46726,31.75998],[-106.45244,31.76523],[-106.43419,31.75478],[-106.41773,31.75196],[-106.38003,31.73151],[-106.3718,31.71165],[-106.34864,31.69663],[-106.33419,31.66303],[-106.30305,31.62154],[-106.28084,31.56173],[-106.24612,31.54193],[-106.23711,31.51262],[-106.20346,31.46305],[-106.09025,31.40569],[-106.00363,31.39181],[-104.77674,30.4236],[-104.5171,29.64671],[-104.3969,29.57105],[-104.39363,29.55396],[-104.37752,29.54255],[-103.15787,28.93865],[-102.60596,29.8192],[-101.47277,29.7744],[-101.05686,29.44738],[-101.01128,29.36947],[-100.96725,29.3477],[-100.94579,29.34523],[-100.94056,29.33371],[-100.87982,29.296],[-100.79696,29.24688],[-100.67294,29.09744],[-100.63689,28.90812],[-100.59809,28.88197],[-100.52313,28.75598],[-100.5075,28.74066],[-100.51222,28.70679],[-100.50029,28.66117],[-99.55409,27.61314],[-99.51478,27.55836],[-99.52955,27.49747],[-99.50208,27.50021],[-99.48045,27.49016],[-99.482,27.47128],[-99.49744,27.43746],[-99.53573,27.30926],[-99.08477,26.39849],[-99.03053,26.41249],[-99.00546,26.3925],[-98.35126,26.15129],[-98.30491,26.10475],[-98.27075,26.09457],[-98.24603,26.07191],[-97.97017,26.05232],[-97.95155,26.0625],[-97.66511,26.01708],[-97.52025,25.88518],[-97.49828,25.89877],[-97.45669,25.86874],[-97.42511,25.83969],[-97.37332,25.83854],[-97.35946,25.92189],[-97.13927,25.96583]]]]}},{type:"Feature",properties:{wikidata:"Q620634",nameEn:"Bir Tawil",groups:["015","002"],level:"territory"},geometry:{type:"MultiPolygon",coordinates:[[[[33.17563,22.00405],[33.57251,21.72406],[33.99686,21.76784],[34.0765,22.00501],[33.17563,22.00405]]]]}},{type:"Feature",properties:{wikidata:"Q639185",nameEn:"Peros Banhos",country:"GB",groups:["IO","BOTS","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[72.12587,-4.02588],[70.1848,-6.37445],[72.09518,-5.61768],[72.12587,-4.02588]]]]}},{type:"Feature",properties:{wikidata:"Q644636",nameEn:"Cyprus",level:"sharedLandform"},geometry:null},{type:"Feature",properties:{wikidata:"Q851132",nameEn:"New Zealand Outlying Islands",country:"NZ",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q875134",nameEn:"European Russia",country:"RU",groups:["151","150","UN"],callingCodes:["7"]},geometry:{type:"MultiPolygon",coordinates:[[[[18.57853,55.25302],[19.64312,54.45423],[19.8038,54.44203],[20.63871,54.3706],[21.41123,54.32395],[22.79705,54.36264],[22.7253,54.41732],[22.70208,54.45312],[22.67788,54.532],[22.71293,54.56454],[22.68021,54.58486],[22.7522,54.63525],[22.74225,54.64339],[22.75467,54.6483],[22.73397,54.66604],[22.73631,54.72952],[22.87317,54.79492],[22.85083,54.88711],[22.76422,54.92521],[22.68723,54.9811],[22.65451,54.97037],[22.60075,55.01863],[22.58907,55.07085],[22.47688,55.04408],[22.31562,55.0655],[22.14267,55.05345],[22.11697,55.02131],[22.06087,55.02935],[22.02582,55.05078],[22.03984,55.07888],[21.99543,55.08691],[21.96505,55.07353],[21.85521,55.09493],[21.64954,55.1791],[21.55605,55.20311],[21.51095,55.18507],[21.46766,55.21115],[21.38446,55.29348],[21.35465,55.28427],[21.26425,55.24456],[20.95181,55.27994],[20.60454,55.40986],[18.57853,55.25302]]],[[[26.32936,60.00121],[26.90044,59.63819],[27.85643,59.58538],[28.04187,59.47017],[28.19061,59.39962],[28.21137,59.38058],[28.20537,59.36491],[28.19284,59.35791],[28.14215,59.28934],[28.00689,59.28351],[27.90911,59.24353],[27.87978,59.18097],[27.80482,59.1116],[27.74429,58.98351],[27.36366,58.78381],[27.55489,58.39525],[27.48541,58.22615],[27.62393,58.09462],[27.67282,57.92627],[27.81841,57.89244],[27.78526,57.83963],[27.56689,57.83356],[27.50171,57.78842],[27.52615,57.72843],[27.3746,57.66834],[27.40393,57.62125],[27.31919,57.57672],[27.34698,57.52242],[27.56832,57.53728],[27.52453,57.42826],[27.86101,57.29402],[27.66511,56.83921],[27.86101,56.88204],[28.04768,56.59004],[28.13526,56.57989],[28.10069,56.524],[28.19057,56.44637],[28.16599,56.37806],[28.23716,56.27588],[28.15217,56.16964],[28.30571,56.06035],[28.36888,56.05805],[28.37987,56.11399],[28.43068,56.09407],[28.5529,56.11705],[28.68337,56.10173],[28.63668,56.07262],[28.73418,55.97131],[29.08299,56.03427],[29.21717,55.98971],[29.44692,55.95978],[29.3604,55.75862],[29.51283,55.70294],[29.61446,55.77716],[29.80672,55.79569],[29.97975,55.87281],[30.12136,55.8358],[30.27776,55.86819],[30.30987,55.83592],[30.48257,55.81066],[30.51346,55.78982],[30.51037,55.76568],[30.63344,55.73079],[30.67464,55.64176],[30.72957,55.66268],[30.7845,55.58514],[30.86003,55.63169],[30.93419,55.6185],[30.95204,55.50667],[30.90123,55.46621],[30.93144,55.3914],[30.8257,55.3313],[30.81946,55.27931],[30.87944,55.28223],[30.97369,55.17134],[31.02071,55.06167],[31.00972,55.02783],[30.94243,55.03964],[30.9081,55.02232],[30.95754,54.98609],[30.93144,54.9585],[30.81759,54.94064],[30.8264,54.90062],[30.75165,54.80699],[30.95479,54.74346],[30.97127,54.71967],[31.0262,54.70698],[30.98226,54.68872],[30.99187,54.67046],[31.19339,54.66947],[31.21399,54.63113],[31.08543,54.50361],[31.22945,54.46585],[31.3177,54.34067],[31.30791,54.25315],[31.57002,54.14535],[31.89599,54.0837],[31.88744,54.03653],[31.85019,53.91801],[31.77028,53.80015],[31.89137,53.78099],[32.12621,53.81586],[32.36663,53.7166],[32.45717,53.74039],[32.50112,53.68594],[32.40499,53.6656],[32.47777,53.5548],[32.74968,53.45597],[32.73257,53.33494],[32.51725,53.28431],[32.40773,53.18856],[32.15368,53.07594],[31.82373,53.10042],[31.787,53.18033],[31.62496,53.22886],[31.56316,53.19432],[31.40523,53.21406],[31.36403,53.13504],[31.3915,53.09712],[31.33519,53.08805],[31.32283,53.04101],[31.24147,53.031],[31.35667,52.97854],[31.592,52.79011],[31.57277,52.71613],[31.50406,52.69707],[31.63869,52.55361],[31.56316,52.51518],[31.61397,52.48843],[31.62084,52.33849],[31.57971,52.32146],[31.70735,52.26711],[31.6895,52.1973],[31.77877,52.18636],[31.7822,52.11406],[31.81722,52.09955],[31.85018,52.11305],[31.96141,52.08015],[31.92159,52.05144],[32.08813,52.03319],[32.23331,52.08085],[32.2777,52.10266],[32.34044,52.1434],[32.33083,52.23685],[32.38988,52.24946],[32.3528,52.32842],[32.54781,52.32423],[32.69475,52.25535],[32.85405,52.27888],[32.89937,52.2461],[33.18913,52.3754],[33.51323,52.35779],[33.48027,52.31499],[33.55718,52.30324],[33.78789,52.37204],[34.05239,52.20132],[34.11199,52.14087],[34.09413,52.00835],[34.41136,51.82793],[34.42922,51.72852],[34.07765,51.67065],[34.17599,51.63253],[34.30562,51.5205],[34.22048,51.4187],[34.33446,51.363],[34.23009,51.26429],[34.31661,51.23936],[34.38802,51.2746],[34.6613,51.25053],[34.6874,51.18],[34.82472,51.17483],[34.97304,51.2342],[35.14058,51.23162],[35.12685,51.16191],[35.20375,51.04723],[35.31774,51.08434],[35.40837,51.04119],[35.32598,50.94524],[35.39307,50.92145],[35.41367,50.80227],[35.47704,50.77274],[35.48116,50.66405],[35.39464,50.64751],[35.47463,50.49247],[35.58003,50.45117],[35.61711,50.35707],[35.73659,50.35489],[35.80388,50.41356],[35.8926,50.43829],[36.06893,50.45205],[36.20763,50.3943],[36.30101,50.29088],[36.47817,50.31457],[36.58371,50.28563],[36.56655,50.2413],[36.64571,50.218],[36.69377,50.26982],[36.91762,50.34963],[37.08468,50.34935],[37.48204,50.46079],[37.47243,50.36277],[37.62486,50.29966],[37.62879,50.24481],[37.61113,50.21976],[37.75807,50.07896],[37.79515,50.08425],[37.90776,50.04194],[38.02999,49.94482],[38.02999,49.90592],[38.21675,49.98104],[38.18517,50.08161],[38.32524,50.08866],[38.35408,50.00664],[38.65688,49.97176],[38.68677,50.00904],[38.73311,49.90238],[38.90477,49.86787],[38.9391,49.79524],[39.1808,49.88911],[39.27968,49.75976],[39.44496,49.76067],[39.59142,49.73758],[39.65047,49.61761],[39.84548,49.56064],[40.13249,49.61672],[40.16683,49.56865],[40.03636,49.52321],[40.03087,49.45452],[40.1141,49.38798],[40.14912,49.37681],[40.18331,49.34996],[40.22176,49.25683],[40.01988,49.1761],[39.93437,49.05709],[39.6836,49.05121],[39.6683,48.99454],[39.71353,48.98959],[39.72649,48.9754],[39.74874,48.98675],[39.78368,48.91596],[39.98967,48.86901],[40.03636,48.91957],[40.08168,48.87443],[39.97182,48.79398],[39.79466,48.83739],[39.73104,48.7325],[39.71765,48.68673],[39.67226,48.59368],[39.79764,48.58668],[39.84548,48.57821],[39.86196,48.46633],[39.88794,48.44226],[39.94847,48.35055],[39.84136,48.33321],[39.84273,48.30947],[39.90041,48.3049],[39.91465,48.26743],[39.95248,48.29972],[39.9693,48.29904],[39.97325,48.31399],[39.99241,48.31768],[40.00752,48.22445],[39.94847,48.22811],[39.83724,48.06501],[39.88256,48.04482],[39.77544,48.04206],[39.82213,47.96396],[39.73935,47.82876],[38.87979,47.87719],[38.79628,47.81109],[38.76379,47.69346],[38.35062,47.61631],[38.28679,47.53552],[38.28954,47.39255],[38.22225,47.30788],[38.33074,47.30508],[38.32112,47.2585],[38.23049,47.2324],[38.22955,47.12069],[38.3384,46.98085],[38.12112,46.86078],[37.62608,46.82615],[35.23066,45.79231],[35.04991,45.76827],[36.6645,45.4514],[36.6545,45.3417],[36.5049,45.3136],[36.475,45.2411],[36.4883,45.0488],[33.5943,44.03313],[39.81147,43.06294],[40.0078,43.38551],[40.00853,43.40578],[40.01552,43.42025],[40.01007,43.42411],[40.03312,43.44262],[40.04445,43.47776],[40.10657,43.57344],[40.65957,43.56212],[41.64935,43.22331],[42.40563,43.23226],[42.66667,43.13917],[42.75889,43.19651],[43.03322,43.08883],[43.0419,43.02413],[43.81453,42.74297],[43.73119,42.62043],[43.95517,42.55396],[44.54202,42.75699],[44.70002,42.74679],[44.80941,42.61277],[44.88754,42.74934],[45.15318,42.70598],[45.36501,42.55268],[45.78692,42.48358],[45.61676,42.20768],[46.42738,41.91323],[46.5332,41.87389],[46.58924,41.80547],[46.75269,41.8623],[46.8134,41.76252],[47.00955,41.63583],[46.99554,41.59743],[47.03757,41.55434],[47.10762,41.59044],[47.34579,41.27884],[47.49004,41.26366],[47.54504,41.20275],[47.62288,41.22969],[47.75831,41.19455],[47.87973,41.21798],[48.07587,41.49957],[48.22064,41.51472],[48.2878,41.56221],[48.40277,41.60441],[48.42301,41.65444],[48.55078,41.77917],[48.5867,41.84306],[48.80971,41.95365],[49.2134,44.84989],[49.88945,46.04554],[49.32259,46.26944],[49.16518,46.38542],[48.54988,46.56267],[48.51142,46.69268],[49.01136,46.72716],[48.52326,47.4102],[48.45173,47.40818],[48.15348,47.74545],[47.64973,47.76559],[47.41689,47.83687],[47.38731,47.68176],[47.12107,47.83687],[47.11516,48.27188],[46.49011,48.43019],[46.78392,48.95352],[47.00857,49.04921],[47.04658,49.19834],[46.78398,49.34026],[46.9078,49.86707],[47.18319,49.93721],[47.34589,50.09308],[47.30448,50.30894],[47.58551,50.47867],[48.10044,50.09242],[48.24519,49.86099],[48.42564,49.82283],[48.68352,49.89546],[48.90782,50.02281],[48.57946,50.63278],[48.86936,50.61589],[49.12673,50.78639],[49.41959,50.85927],[49.39001,51.09396],[49.76866,51.11067],[49.97277,51.2405],[50.26859,51.28677],[50.59695,51.61859],[51.26254,51.68466],[51.301,51.48799],[51.77431,51.49536],[51.8246,51.67916],[52.36119,51.74161],[52.54329,51.48444],[53.46165,51.49445],[53.69299,51.23466],[54.12248,51.11542],[54.46331,50.85554],[54.41894,50.61214],[54.55797,50.52006],[54.71476,50.61214],[54.56685,51.01958],[54.72067,51.03261],[55.67774,50.54508],[56.11398,50.7471],[56.17906,50.93204],[57.17302,51.11253],[57.44221,50.88354],[57.74986,50.93017],[57.75578,51.13852],[58.3208,51.15151],[58.87974,50.70852],[59.48928,50.64216],[59.51886,50.49937],[59.81172,50.54451],[60.01288,50.8163],[60.17262,50.83312],[60.31914,50.67705],[60.81833,50.6629],[61.4431,50.80679],[61.56889,51.23679],[61.6813,51.25716],[61.55114,51.32746],[61.50677,51.40687],[60.95655,51.48615],[60.92401,51.61124],[60.5424,51.61675],[60.36787,51.66815],[60.50986,51.7964],[60.09867,51.87135],[59.99809,51.98263],[59.91279,52.06924],[60.17253,52.25814],[60.17516,52.39457],[59.25033,52.46803],[59.22409,52.28437],[58.79644,52.43392],[58.94336,53.953],[59.70487,54.14846],[59.95217,54.85853],[57.95234,54.39672],[57.14829,54.84204],[57.25137,55.26262],[58.81825,55.03378],[59.49035,55.60486],[59.28419,56.15739],[57.51527,56.08729],[57.28024,56.87898],[58.07604,57.08308],[58.13789,57.68097],[58.81412,57.71602],[58.71104,58.07475],[59.40376,58.45822],[59.15636,59.14682],[58.3853,59.487],[59.50685,60.91162],[59.36223,61.3882],[59.61398,62.44915],[59.24834,63.01859],[59.80579,64.13948],[59.63945,64.78384],[60.74386,64.95767],[61.98014,65.72191],[66.1708,67.61252],[64.18965,69.94255],[76.13964,83.37843],[36.85549,84.09565],[32.07813,72.01005],[31.59909,70.16571],[30.84095,69.80584],[30.95011,69.54699],[30.52662,69.54699],[30.16363,69.65244],[29.97205,69.41623],[29.27631,69.2811],[29.26623,69.13794],[29.0444,69.0119],[28.91738,69.04774],[28.45957,68.91417],[28.78224,68.86696],[28.43941,68.53366],[28.62982,68.19816],[29.34179,68.06655],[29.66955,67.79872],[30.02041,67.67523],[29.91155,67.51507],[28.9839,66.94139],[29.91155,66.13863],[30.16363,65.66935],[29.97205,65.70256],[29.74013,65.64025],[29.84096,65.56945],[29.68972,65.31803],[29.61914,65.23791],[29.8813,65.22101],[29.84096,65.1109],[29.61914,65.05993],[29.68972,64.80789],[30.05271,64.79072],[30.12329,64.64862],[30.01238,64.57513],[30.06279,64.35782],[30.4762,64.25728],[30.55687,64.09036],[30.25437,63.83364],[29.98213,63.75795],[30.49637,63.46666],[31.23244,63.22239],[31.29294,63.09035],[31.58535,62.91642],[31.38369,62.66284],[31.10136,62.43042],[29.01829,61.17448],[28.82816,61.1233],[28.47974,60.93365],[27.77352,60.52722],[27.71177,60.3893],[27.44953,60.22766],[26.32936,60.00121]]]]}},{type:"Feature",properties:{wikidata:"Q1083368",nameEn:"Mainland Finland",country:"FI",groups:["EU","154","150","UN"],callingCodes:["358"]},geometry:{type:"MultiPolygon",coordinates:[[[[29.12697,69.69193],[28.36883,69.81658],[28.32849,69.88605],[27.97558,69.99671],[27.95542,70.0965],[27.57226,70.06215],[27.05802,69.92069],[26.64461,69.96565],[26.40261,69.91377],[25.96904,69.68397],[25.69679,69.27039],[25.75729,68.99383],[25.61613,68.89602],[25.42455,68.90328],[25.12206,68.78684],[25.10189,68.63307],[24.93048,68.61102],[24.90023,68.55579],[24.74898,68.65143],[24.18432,68.73936],[24.02299,68.81601],[23.781,68.84514],[23.68017,68.70276],[23.13064,68.64684],[22.53321,68.74393],[22.38367,68.71561],[22.27276,68.89514],[21.63833,69.27485],[21.27827,69.31281],[21.00732,69.22755],[20.98641,69.18809],[21.11099,69.10291],[21.05775,69.0356],[20.72171,69.11874],[20.55258,69.06069],[20.78802,69.03087],[20.91658,68.96764],[20.85104,68.93142],[20.90649,68.89696],[21.03001,68.88969],[22.00429,68.50692],[22.73028,68.40881],[23.10336,68.26551],[23.15377,68.14759],[23.26469,68.15134],[23.40081,68.05545],[23.65793,67.9497],[23.45627,67.85297],[23.54701,67.59306],[23.39577,67.46974],[23.75372,67.43688],[23.75372,67.29914],[23.54701,67.25435],[23.58735,67.20752],[23.56214,67.17038],[23.98563,66.84149],[23.98059,66.79585],[23.89488,66.772],[23.85959,66.56434],[23.63776,66.43568],[23.67591,66.3862],[23.64982,66.30603],[23.71339,66.21299],[23.90497,66.15802],[24.15791,65.85385],[24.14798,65.83466],[24.15107,65.81427],[24.14112,65.39731],[20.15877,63.06556],[19.23413,60.61414],[20.96741,60.71528],[21.15143,60.54555],[21.08159,60.20167],[21.02509,60.12142],[21.35468,59.67511],[20.5104,59.15546],[26.32936,60.00121],[27.44953,60.22766],[27.71177,60.3893],[27.77352,60.52722],[28.47974,60.93365],[28.82816,61.1233],[29.01829,61.17448],[31.10136,62.43042],[31.38369,62.66284],[31.58535,62.91642],[31.29294,63.09035],[31.23244,63.22239],[30.49637,63.46666],[29.98213,63.75795],[30.25437,63.83364],[30.55687,64.09036],[30.4762,64.25728],[30.06279,64.35782],[30.01238,64.57513],[30.12329,64.64862],[30.05271,64.79072],[29.68972,64.80789],[29.61914,65.05993],[29.84096,65.1109],[29.8813,65.22101],[29.61914,65.23791],[29.68972,65.31803],[29.84096,65.56945],[29.74013,65.64025],[29.97205,65.70256],[30.16363,65.66935],[29.91155,66.13863],[28.9839,66.94139],[29.91155,67.51507],[30.02041,67.67523],[29.66955,67.79872],[29.34179,68.06655],[28.62982,68.19816],[28.43941,68.53366],[28.78224,68.86696],[28.45957,68.91417],[28.91738,69.04774],[28.81248,69.11997],[28.8629,69.22395],[29.31664,69.47994],[29.12697,69.69193]]]]}},{type:"Feature",properties:{wikidata:"Q1184963",nameEn:"Alhucemas Islands",country:"ES",groups:["EU","Q191011","015","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[-3.90602,35.21494],[-3.88372,35.20767],[-3.89343,35.22728],[-3.90602,35.21494]]]]}},{type:"Feature",properties:{wikidata:"Q1298289",nameEn:"Egmont Islands",country:"GB",groups:["IO","BOTS","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[70.1848,-6.37445],[70.67958,-8.2663],[72.17991,-6.68509],[70.1848,-6.37445]]]]}},{type:"Feature",properties:{wikidata:"Q1352230",nameEn:"US Territories",country:"US",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q1451600",nameEn:"Overseas Countries and Territories of the EU",aliases:["OCT"],level:"subunion"},geometry:null},{type:"Feature",properties:{wikidata:"Q1544253",nameEn:"Great Chagos Bank",country:"GB",groups:["IO","BOTS","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[70.1848,-6.37445],[72.17991,-6.68509],[73.20573,-5.20727],[70.1848,-6.37445]]]]}},{type:"Feature",properties:{wikidata:"Q1585511",nameEn:"Salomon Atoll",country:"GB",groups:["IO","BOTS","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[72.09518,-5.61768],[73.20573,-5.20727],[72.12587,-4.02588],[72.09518,-5.61768]]]]}},{type:"Feature",properties:{wikidata:"Q1681727",nameEn:"Saint-Paul and Amsterdam",country:"FR",groups:["TF","Q1451600","014","202","002","UN"],level:"subterritory"},geometry:{type:"MultiPolygon",coordinates:[[[[76.31747,-42.16264],[80.15867,-36.04977],[71.22311,-38.75287],[76.31747,-42.16264]]]]}},{type:"Feature",properties:{wikidata:"Q1901211",nameEn:"East Malaysia",country:"MY",groups:["Q36117","035","142","UN"],driveSide:"left",callingCodes:["60"]},geometry:{type:"MultiPolygon",coordinates:[[[[110.90339,7.52694],[109.82788,2.86812],[109.62558,1.99182],[109.53794,1.91771],[109.57923,1.80624],[109.66397,1.79972],[109.66397,1.60425],[110.35354,.98869],[110.49182,.88088],[110.62374,.873],[111.22979,1.08326],[111.55434,.97864],[111.82846,.99349],[111.94553,1.12016],[112.15679,1.17004],[112.2127,1.44135],[112.48648,1.56516],[113.021,1.57819],[113.01448,1.42832],[113.64677,1.23933],[114.03788,1.44787],[114.57892,1.5],[114.80706,1.92351],[114.80706,2.21665],[115.1721,2.49671],[115.11343,2.82879],[115.53713,3.14776],[115.58276,3.93499],[115.90217,4.37708],[117.25801,4.35108],[117.47313,4.18857],[117.67641,4.16535],[118.06469,4.16638],[118.93936,4.09009],[119.52945,5.35672],[117.98544,6.27477],[117.93857,6.89845],[117.17735,7.52841],[116.79524,7.43869],[115.02521,5.35005],[115.16236,5.01011],[115.15092,4.87604],[115.20737,4.8256],[115.27819,4.63661],[115.2851,4.42295],[115.36346,4.33563],[115.31275,4.30806],[115.09978,4.39123],[115.07737,4.53418],[115.04064,4.63706],[115.02278,4.74137],[115.02955,4.82087],[115.05038,4.90275],[114.99417,4.88201],[114.96982,4.81146],[114.88841,4.81905],[114.8266,4.75062],[114.77303,4.72871],[114.83189,4.42387],[114.88039,4.4257],[114.78539,4.12205],[114.64211,4.00694],[114.49922,4.13108],[114.4416,4.27588],[114.32176,4.2552],[114.32176,4.34942],[114.26876,4.49878],[114.15813,4.57],[114.07448,4.58441],[114.10166,4.76112],[110.90339,7.52694]]]]}},{type:"Feature",properties:{wikidata:"Q1973345",nameEn:"Peninsular Malaysia",country:"MY",groups:["035","142","UN"],driveSide:"left",callingCodes:["60"]},geometry:{type:"MultiPolygon",coordinates:[[[[102.46318,7.22462],[102.09086,6.23546],[102.08127,6.22679],[102.07732,6.193],[102.09182,6.14161],[102.01835,6.05407],[101.99209,6.04075],[101.97114,6.01992],[101.9714,6.00575],[101.94712,5.98421],[101.92819,5.85511],[101.91776,5.84269],[101.89188,5.8386],[101.80144,5.74505],[101.75074,5.79091],[101.69773,5.75881],[101.58019,5.93534],[101.25524,5.78633],[101.25755,5.71065],[101.14062,5.61613],[100.98815,5.79464],[101.02708,5.91013],[101.087,5.9193],[101.12388,6.11411],[101.06165,6.14161],[101.12618,6.19431],[101.10313,6.25617],[100.85884,6.24929],[100.81045,6.45086],[100.74822,6.46231],[100.74361,6.50811],[100.66986,6.45086],[100.43027,6.52389],[100.42351,6.51762],[100.41791,6.5189],[100.41152,6.52299],[100.35413,6.54932],[100.31929,6.65413],[100.32607,6.65933],[100.32671,6.66526],[100.31884,6.66423],[100.31618,6.66781],[100.30828,6.66462],[100.29651,6.68439],[100.19511,6.72559],[100.12,6.42105],[100.0756,6.4045],[99.91873,6.50233],[99.50117,6.44501],[99.31854,5.99868],[99.75778,3.86466],[103.03657,1.30383],[103.56591,1.19719],[103.62738,1.35255],[103.67468,1.43166],[103.7219,1.46108],[103.74161,1.4502],[103.76395,1.45183],[103.81181,1.47953],[103.86383,1.46288],[103.89565,1.42841],[103.93384,1.42926],[104.00131,1.42405],[104.02277,1.4438],[104.04622,1.44691],[104.07348,1.43322],[104.08871,1.42015],[104.09162,1.39694],[104.08072,1.35998],[104.12282,1.27714],[104.34728,1.33529],[104.56723,1.44271],[105.01437,3.24936],[102.46318,7.22462]]]]}},{type:"Feature",properties:{wikidata:"Q2093907",nameEn:"Three Kings Islands",country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left"},geometry:{type:"MultiPolygon",coordinates:[[[[174.17679,-32.62487],[170.93268,-32.97889],[171.97383,-34.64644],[174.17679,-32.62487]]]]}},{type:"Feature",properties:{wikidata:"Q2298216",nameEn:"Solander Islands",country:"NZ",groups:["Q851132","053","009","UN"],driveSide:"left"},geometry:{type:"MultiPolygon",coordinates:[[[[167.39068,-46.49187],[166.5534,-46.39484],[166.84561,-46.84889],[167.39068,-46.49187]]]]}},{type:"Feature",properties:{wikidata:"Q2872203",nameEn:"Mainland Australia",country:"AU",groups:["053","009","UN"],level:"subcountryGroup",driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[88.16419,-23.49578],[123.64533,-39.13605],[159.74028,-39.1978],[159.76765,-29.76946],[154.02855,-24.43238],[152.93188,-20.92631],[147.69992,-17.5933],[145.2855,-9.62524],[143.87386,-9.02382],[143.29772,-9.33993],[142.48658,-9.36754],[142.19246,-9.15378],[141.88934,-9.36111],[141.01842,-9.35091],[135.49042,-9.2276],[127.55165,-9.05052],[125.29076,-12.33139],[88.16419,-23.49578]]]]}},{type:"Feature",properties:{wikidata:"Q2914565",nameEn:"Autonomous Regions of Portugal",country:"PT",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q2915956",nameEn:"Mainland Portugal",country:"PT",groups:["Q12837","EU","039","150","UN"],level:"subcountryGroup",callingCodes:["351"]},geometry:{type:"MultiPolygon",coordinates:[[[[-10.39881,36.12218],[-7.37282,36.96896],[-7.39769,37.16868],[-7.41133,37.20314],[-7.41854,37.23813],[-7.43227,37.25152],[-7.43974,37.38913],[-7.46878,37.47127],[-7.51759,37.56119],[-7.41981,37.75729],[-7.33441,37.81193],[-7.27314,37.90145],[-7.24544,37.98884],[-7.12648,38.00296],[-7.10366,38.04404],[-7.05966,38.01966],[-7.00375,38.01914],[-6.93418,38.21454],[-7.09389,38.17227],[-7.15581,38.27597],[-7.32529,38.44336],[-7.265,38.61674],[-7.26174,38.72107],[-7.03848,38.87221],[-7.051,38.907],[-6.95211,39.0243],[-6.97004,39.07619],[-7.04011,39.11919],[-7.10692,39.10275],[-7.14929,39.11287],[-7.12811,39.17101],[-7.23566,39.20132],[-7.23403,39.27579],[-7.3149,39.34857],[-7.2927,39.45847],[-7.49477,39.58794],[-7.54121,39.66717],[-7.33507,39.64569],[-7.24707,39.66576],[-7.01613,39.66877],[-6.97492,39.81488],[-6.91463,39.86618],[-6.86737,40.01986],[-6.94233,40.10716],[-7.00589,40.12087],[-7.02544,40.18564],[-7.00426,40.23169],[-6.86085,40.26776],[-6.86085,40.2976],[-6.80218,40.33239],[-6.78426,40.36468],[-6.84618,40.42177],[-6.84944,40.46394],[-6.7973,40.51723],[-6.80218,40.55067],[-6.84292,40.56801],[-6.79567,40.65955],[-6.82826,40.74603],[-6.82337,40.84472],[-6.79892,40.84842],[-6.80707,40.88047],[-6.84292,40.89771],[-6.8527,40.93958],[-6.9357,41.02888],[-6.913,41.03922],[-6.88843,41.03027],[-6.84781,41.02692],[-6.80942,41.03629],[-6.79241,41.05397],[-6.75655,41.10187],[-6.77319,41.13049],[-6.69711,41.1858],[-6.68286,41.21641],[-6.65046,41.24725],[-6.55937,41.24417],[-6.38551,41.35274],[-6.38553,41.38655],[-6.3306,41.37677],[-6.26777,41.48796],[-6.19128,41.57638],[-6.29863,41.66432],[-6.44204,41.68258],[-6.49907,41.65823],[-6.54633,41.68623],[-6.56426,41.74219],[-6.51374,41.8758],[-6.56752,41.88429],[-6.5447,41.94371],[-6.58544,41.96674],[-6.61967,41.94008],[-6.75004,41.94129],[-6.76959,41.98734],[-6.81196,41.99097],[-6.82174,41.94493],[-6.94396,41.94403],[-6.95537,41.96553],[-6.98144,41.9728],[-7.01078,41.94977],[-7.07596,41.94977],[-7.08574,41.97401],[-7.14115,41.98855],[-7.18549,41.97515],[-7.18677,41.88793],[-7.32366,41.8406],[-7.37092,41.85031],[-7.42864,41.80589],[-7.42854,41.83262],[-7.44759,41.84451],[-7.45566,41.86488],[-7.49803,41.87095],[-7.52737,41.83939],[-7.62188,41.83089],[-7.58603,41.87944],[-7.65774,41.88308],[-7.69848,41.90977],[-7.84188,41.88065],[-7.88055,41.84571],[-7.88751,41.92553],[-7.90707,41.92432],[-7.92336,41.8758],[-7.9804,41.87337],[-8.01136,41.83453],[-8.0961,41.81024],[-8.16455,41.81753],[-8.16944,41.87944],[-8.19551,41.87459],[-8.2185,41.91237],[-8.16232,41.9828],[-8.08796,42.01398],[-8.08847,42.05767],[-8.11729,42.08537],[-8.18178,42.06436],[-8.19406,42.12141],[-8.18947,42.13853],[-8.1986,42.15402],[-8.22406,42.1328],[-8.24681,42.13993],[-8.2732,42.12396],[-8.29809,42.106],[-8.32161,42.10218],[-8.33912,42.08358],[-8.36353,42.09065],[-8.38323,42.07683],[-8.40143,42.08052],[-8.42512,42.07199],[-8.44123,42.08218],[-8.48185,42.0811],[-8.52837,42.07658],[-8.5252,42.06264],[-8.54563,42.0537],[-8.58086,42.05147],[-8.59493,42.05708],[-8.63791,42.04691],[-8.64626,42.03668],[-8.65832,42.02972],[-8.6681,41.99703],[-8.69071,41.98862],[-8.7478,41.96282],[-8.74606,41.9469],[-8.75712,41.92833],[-8.81794,41.90375],[-8.87157,41.86488],[-11.19304,41.83075],[-10.39881,36.12218]]]]}},{type:"Feature",properties:{wikidata:"Q3311985",nameEn:"Guernsey",country:"GB",groups:["GG","830","Q185086","154","150","UN"],level:"subterritory",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01481"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.49556,49.79012],[-3.28154,49.57329],[-2.65349,49.15373],[-2.36485,49.48223],[-2.49556,49.79012]]]]}},{type:"Feature",properties:{wikidata:"Q3320166",nameEn:"Outermost Regions of the EU",aliases:["OMR"],level:"subunion"},geometry:null},{type:"Feature",properties:{wikidata:"Q3336843",nameEn:"Countries of the United Kingdom",country:"GB",level:"subcountryGroup"},geometry:null},{type:"Feature",properties:{wikidata:"Q6736667",nameEn:"Mainland India",country:"IN",groups:["034","142","UN"],driveSide:"left",callingCodes:["91"]},geometry:{type:"MultiPolygon",coordinates:[[[[89.08044,21.41871],[89.07114,22.15335],[88.9367,22.58527],[88.94614,22.66941],[88.9151,22.75228],[88.96713,22.83346],[88.87063,22.95235],[88.88327,23.03885],[88.86377,23.08759],[88.99148,23.21134],[88.71133,23.2492],[88.79254,23.46028],[88.79351,23.50535],[88.74841,23.47361],[88.56507,23.64044],[88.58087,23.87105],[88.66189,23.87607],[88.73743,23.91751],[88.6976,24.14703],[88.74841,24.1959],[88.68801,24.31464],[88.50934,24.32474],[88.12296,24.51301],[88.08786,24.63232],[88.00683,24.66477],[88.15515,24.85806],[88.14004,24.93529],[88.21832,24.96642],[88.27325,24.88796],[88.33917,24.86803],[88.46277,25.07468],[88.44766,25.20149],[88.94067,25.18534],[89.00463,25.26583],[89.01105,25.30303],[88.85278,25.34679],[88.81296,25.51546],[88.677,25.46959],[88.4559,25.59227],[88.45103,25.66245],[88.242,25.80811],[88.13138,25.78773],[88.08804,25.91334],[88.16581,26.0238],[88.1844,26.14417],[88.34757,26.22216],[88.35153,26.29123],[88.51649,26.35923],[88.48749,26.45855],[88.36938,26.48683],[88.35153,26.45241],[88.33093,26.48929],[88.41196,26.63837],[88.4298,26.54489],[88.62144,26.46783],[88.69485,26.38353],[88.67837,26.26291],[88.78961,26.31093],[88.85004,26.23211],[89.05328,26.2469],[88.91321,26.37984],[88.92357,26.40711],[88.95612,26.4564],[89.08899,26.38845],[89.15869,26.13708],[89.35953,26.0077],[89.53515,26.00382],[89.57101,25.9682],[89.63968,26.22595],[89.70201,26.15138],[89.73581,26.15818],[89.77865,26.08387],[89.77728,26.04254],[89.86592,25.93115],[89.80585,25.82489],[89.84388,25.70042],[89.86129,25.61714],[89.81208,25.37244],[89.84086,25.31854],[89.83371,25.29548],[89.87629,25.28337],[89.90478,25.31038],[90.1155,25.22686],[90.40034,25.1534],[90.65042,25.17788],[90.87427,25.15799],[91.25517,25.20677],[91.63648,25.12846],[92.0316,25.1834],[92.33957,25.07593],[92.39147,25.01471],[92.49887,24.88796],[92.38626,24.86055],[92.25854,24.9191],[92.15796,24.54435],[92.11662,24.38997],[91.96603,24.3799],[91.89258,24.14674],[91.82596,24.22345],[91.76004,24.23848],[91.73257,24.14703],[91.65292,24.22095],[91.63782,24.1132],[91.55542,24.08687],[91.37414,24.10693],[91.35741,23.99072],[91.29587,24.0041],[91.22308,23.89616],[91.25192,23.83463],[91.15579,23.6599],[91.28293,23.37538],[91.36453,23.06612],[91.40848,23.07117],[91.4035,23.27522],[91.46615,23.2328],[91.54993,23.01051],[91.61571,22.93929],[91.7324,23.00043],[91.81634,23.08001],[91.76417,23.26619],[91.84789,23.42235],[91.95642,23.47361],[91.95093,23.73284],[92.04706,23.64229],[92.15417,23.73409],[92.26541,23.70392],[92.38214,23.28705],[92.37665,22.9435],[92.5181,22.71441],[92.60029,22.1522],[92.56616,22.13554],[92.60949,21.97638],[92.67532,22.03547],[92.70416,22.16017],[92.86208,22.05456],[92.89504,21.95143],[92.93899,22.02656],[92.99804,21.98964],[92.99255,22.05965],[93.04885,22.20595],[93.15734,22.18687],[93.14224,22.24535],[93.19991,22.25425],[93.18206,22.43716],[93.13537,22.45873],[93.11477,22.54374],[93.134,22.59573],[93.09417,22.69459],[93.134,22.92498],[93.12988,23.05772],[93.2878,23.00464],[93.38478,23.13698],[93.36862,23.35426],[93.38781,23.36139],[93.39981,23.38828],[93.38805,23.4728],[93.43475,23.68299],[93.3908,23.7622],[93.3908,23.92925],[93.36059,23.93176],[93.32351,24.04468],[93.34735,24.10151],[93.41415,24.07854],[93.46633,23.97067],[93.50616,23.94432],[93.62871,24.00922],[93.75952,24.0003],[93.80279,23.92549],[93.92089,23.95812],[94.14081,23.83333],[94.30215,24.23752],[94.32362,24.27692],[94.45279,24.56656],[94.50729,24.59281],[94.5526,24.70764],[94.60204,24.70889],[94.73937,25.00545],[94.74212,25.13606],[94.57458,25.20318],[94.68032,25.47003],[94.80117,25.49359],[95.18556,26.07338],[95.11428,26.1019],[95.12801,26.38397],[95.05798,26.45408],[95.23513,26.68499],[95.30339,26.65372],[95.437,26.7083],[95.81603,27.01335],[95.93002,27.04149],[96.04949,27.19428],[96.15591,27.24572],[96.40779,27.29818],[96.55761,27.29928],[96.73888,27.36638],[96.88445,27.25046],[96.85287,27.2065],[96.89132,27.17474],[97.14675,27.09041],[97.17422,27.14052],[96.91431,27.45752],[96.90112,27.62149],[97.29919,27.92233],[97.35824,27.87256],[97.38845,28.01329],[97.35412,28.06663],[97.31292,28.06784],[97.34547,28.21385],[97.1289,28.3619],[96.98882,28.32564],[96.88445,28.39452],[96.85561,28.4875],[96.6455,28.61657],[96.48895,28.42955],[96.40929,28.51526],[96.61391,28.72742],[96.3626,29.10607],[96.20467,29.02325],[96.18682,29.11087],[96.31316,29.18643],[96.05361,29.38167],[95.84899,29.31464],[95.75149,29.32063],[95.72086,29.20797],[95.50842,29.13487],[95.41091,29.13007],[95.3038,29.13847],[95.26122,29.07727],[95.2214,29.10727],[95.11291,29.09527],[95.0978,29.14446],[94.81353,29.17804],[94.69318,29.31739],[94.2752,29.11687],[94.35897,29.01965],[93.72797,28.68821],[93.44621,28.67189],[93.18069,28.50319],[93.14635,28.37035],[92.93075,28.25671],[92.67486,28.15018],[92.65472,28.07632],[92.73025,28.05814],[92.7275,27.98662],[92.42538,27.80092],[92.32101,27.79363],[92.27432,27.89077],[91.87057,27.7195],[91.84722,27.76325],[91.6469,27.76358],[91.55819,27.6144],[91.65007,27.48287],[92.01132,27.47352],[92.12019,27.27829],[92.04702,27.26861],[92.03457,27.07334],[92.11863,26.893],[92.05523,26.8692],[91.83181,26.87318],[91.50067,26.79223],[90.67715,26.77215],[90.48504,26.8594],[90.39271,26.90704],[90.30402,26.85098],[90.04535,26.72422],[89.86124,26.73307],[89.63369,26.74402],[89.42349,26.83727],[89.3901,26.84225],[89.38319,26.85963],[89.37913,26.86224],[89.1926,26.81329],[89.12825,26.81661],[89.09554,26.89089],[88.95807,26.92668],[88.92301,26.99286],[88.8714,26.97488],[88.86984,27.10937],[88.74219,27.144],[88.91901,27.32483],[88.82981,27.38814],[88.77517,27.45415],[88.88091,27.85192],[88.83559,28.01936],[88.63235,28.12356],[88.54858,28.06057],[88.25332,27.9478],[88.1278,27.95417],[88.13378,27.88015],[88.1973,27.85067],[88.19107,27.79285],[88.04008,27.49223],[88.07277,27.43007],[88.01646,27.21612],[88.01587,27.21388],[87.9887,27.11045],[88.11719,26.98758],[88.13422,26.98705],[88.12302,26.95324],[88.19107,26.75516],[88.1659,26.68177],[88.16452,26.64111],[88.09963,26.54195],[88.09414,26.43732],[88.00895,26.36029],[87.90115,26.44923],[87.89085,26.48565],[87.84193,26.43663],[87.7918,26.46737],[87.76004,26.40711],[87.67893,26.43501],[87.66803,26.40294],[87.59175,26.38342],[87.55274,26.40596],[87.51571,26.43106],[87.46566,26.44058],[87.37314,26.40815],[87.34568,26.34787],[87.26568,26.37294],[87.26587,26.40592],[87.24682,26.4143],[87.18863,26.40558],[87.14751,26.40542],[87.09147,26.45039],[87.0707,26.58571],[87.04691,26.58685],[87.01559,26.53228],[86.95912,26.52076],[86.94543,26.52076],[86.82898,26.43919],[86.76797,26.45892],[86.74025,26.42386],[86.69124,26.45169],[86.62686,26.46891],[86.61313,26.48658],[86.57073,26.49825],[86.54258,26.53819],[86.49726,26.54218],[86.31564,26.61925],[86.26235,26.61886],[86.22513,26.58863],[86.13596,26.60651],[86.02729,26.66756],[85.8492,26.56667],[85.85126,26.60866],[85.83126,26.61134],[85.76907,26.63076],[85.72315,26.67471],[85.73483,26.79613],[85.66239,26.84822],[85.61621,26.86721],[85.59461,26.85161],[85.5757,26.85955],[85.56471,26.84133],[85.47752,26.79292],[85.34302,26.74954],[85.21159,26.75933],[85.18046,26.80519],[85.19291,26.86909],[85.15883,26.86966],[85.02635,26.85381],[85.05592,26.88991],[85.00536,26.89523],[84.97186,26.9149],[84.96687,26.95599],[84.85754,26.98984],[84.82913,27.01989],[84.793,26.9968],[84.64496,27.04669],[84.69166,27.21294],[84.62161,27.33885],[84.29315,27.39],[84.25735,27.44941],[84.21376,27.45218],[84.10791,27.52399],[84.02229,27.43836],[83.93306,27.44939],[83.86182,27.4241],[83.85595,27.35797],[83.61288,27.47013],[83.39495,27.4798],[83.38872,27.39276],[83.35136,27.33885],[83.29999,27.32778],[83.2673,27.36235],[83.27197,27.38309],[83.19413,27.45632],[82.94938,27.46036],[82.93261,27.50328],[82.74119,27.49838],[82.70378,27.72122],[82.46405,27.6716],[82.06554,27.92222],[81.97214,27.93322],[81.91223,27.84995],[81.47867,28.08303],[81.48179,28.12148],[81.38683,28.17638],[81.32923,28.13521],[81.19847,28.36284],[81.03471,28.40054],[80.55142,28.69182],[80.50575,28.6706],[80.52443,28.54897],[80.44504,28.63098],[80.37188,28.63371],[80.12125,28.82346],[80.06957,28.82763],[80.05743,28.91479],[80.18085,29.13649],[80.23178,29.11626],[80.26602,29.13938],[80.24112,29.21414],[80.28626,29.20327],[80.31428,29.30784],[80.24322,29.44299],[80.37939,29.57098],[80.41858,29.63581],[80.38428,29.68513],[80.36803,29.73865],[80.41554,29.79451],[80.43458,29.80466],[80.48997,29.79566],[80.56247,29.86661],[80.57179,29.91422],[80.60226,29.95732],[80.67076,29.95732],[80.8778,30.13384],[80.86673,30.17321],[80.91143,30.22173],[80.92547,30.17193],[81.03953,30.20059],[80.83343,30.32023],[80.54504,30.44936],[80.20721,30.58541],[79.93255,30.88288],[79.59884,30.93943],[79.30694,31.17357],[79.14016,31.43403],[79.01931,31.42817],[78.89344,31.30481],[78.77898,31.31209],[78.71032,31.50197],[78.84516,31.60631],[78.69933,31.78723],[78.78036,31.99478],[78.74404,32.00384],[78.68754,32.10256],[78.49609,32.2762],[78.4645,32.45367],[78.38897,32.53938],[78.73916,32.69438],[78.7831,32.46873],[78.96713,32.33655],[78.99322,32.37948],[79.0979,32.38051],[79.13174,32.47766],[79.26768,32.53277],[79.46562,32.69668],[79.14016,33.02545],[79.15252,33.17156],[78.73636,33.56521],[78.67599,33.66445],[78.77349,33.73871],[78.73367,34.01121],[78.65657,34.03195],[78.66225,34.08858],[78.91769,34.15452],[78.99802,34.3027],[79.05364,34.32482],[78.74465,34.45174],[78.56475,34.50835],[78.54964,34.57283],[78.27781,34.61484],[78.18435,34.7998],[78.22692,34.88771],[78.00033,35.23954],[78.03466,35.3785],[78.11664,35.48022],[77.80532,35.52058],[77.70232,35.46244],[77.44277,35.46132],[76.96624,35.5932],[76.84539,35.67356],[76.77323,35.66062],[76.75475,35.52617],[76.85088,35.39754],[76.93465,35.39866],[77.11796,35.05419],[76.99251,34.93349],[76.87193,34.96906],[76.74514,34.92488],[76.74377,34.84039],[76.67648,34.76371],[76.47186,34.78965],[76.15463,34.6429],[76.04614,34.67566],[75.75438,34.51827],[75.38009,34.55021],[75.01479,34.64629],[74.6663,34.703],[74.58083,34.77386],[74.31239,34.79626],[74.12897,34.70073],[73.96423,34.68244],[73.93401,34.63386],[73.93951,34.57169],[73.89419,34.54568],[73.88732,34.48911],[73.74999,34.3781],[73.74862,34.34183],[73.8475,34.32935],[73.90517,34.35317],[73.98208,34.2522],[73.90677,34.10504],[73.88732,34.05105],[73.91341,34.01235],[74.21554,34.03853],[74.25262,34.01577],[74.26086,33.92237],[74.14001,33.83002],[74.05898,33.82089],[74.00891,33.75437],[73.96423,33.73071],[73.98968,33.66155],[73.97367,33.64061],[74.03576,33.56718],[74.10115,33.56392],[74.18121,33.4745],[74.17983,33.3679],[74.08782,33.26232],[74.01366,33.25199],[74.02144,33.18908],[74.15374,33.13477],[74.17571,33.07495],[74.31854,33.02891],[74.34875,32.97823],[74.31227,32.92795],[74.41467,32.90563],[74.45312,32.77755],[74.6289,32.75561],[74.64675,32.82604],[74.7113,32.84219],[74.65345,32.71225],[74.69542,32.66792],[74.64424,32.60985],[74.65251,32.56416],[74.67431,32.56676],[74.68362,32.49298],[74.84725,32.49075],[74.97634,32.45367],[75.03265,32.49538],[75.28259,32.36556],[75.38046,32.26836],[75.25649,32.10187],[75.00793,32.03786],[74.9269,32.0658],[74.86236,32.04485],[74.79919,31.95983],[74.58907,31.87824],[74.47771,31.72227],[74.57498,31.60382],[74.61517,31.55698],[74.59319,31.50197],[74.64713,31.45605],[74.59773,31.4136],[74.53223,31.30321],[74.51629,31.13829],[74.56023,31.08303],[74.60281,31.10419],[74.60006,31.13711],[74.6852,31.12771],[74.67971,31.05479],[74.5616,31.04153],[73.88993,30.36305],[73.95736,30.28466],[73.97225,30.19829],[73.80299,30.06969],[73.58665,30.01848],[73.3962,29.94707],[73.28094,29.56646],[73.05886,29.1878],[73.01337,29.16422],[72.94272,29.02487],[72.40402,28.78283],[72.29495,28.66367],[72.20329,28.3869],[71.9244,28.11555],[71.89921,27.96035],[70.79054,27.68423],[70.60927,28.02178],[70.37307,28.01208],[70.12502,27.8057],[70.03136,27.56627],[69.58519,27.18109],[69.50904,26.74892],[69.88555,26.56836],[70.05584,26.60398],[70.17532,26.55362],[70.17532,26.24118],[70.08193,26.08094],[70.0985,25.93238],[70.2687,25.71156],[70.37444,25.67443],[70.53649,25.68928],[70.60378,25.71898],[70.67382,25.68186],[70.66695,25.39314],[70.89148,25.15064],[70.94002,24.92843],[71.09405,24.69017],[70.97594,24.60904],[71.00341,24.46038],[71.12838,24.42662],[71.04461,24.34657],[70.94985,24.3791],[70.85784,24.30903],[70.88393,24.27398],[70.71502,24.23517],[70.57906,24.27774],[70.5667,24.43787],[70.11712,24.30915],[70.03428,24.172],[69.73335,24.17007],[69.59579,24.29777],[69.29778,24.28712],[69.19341,24.25646],[69.07806,24.29777],[68.97781,24.26021],[68.90914,24.33156],[68.7416,24.31904],[68.74643,23.97027],[68.39339,23.96838],[68.20763,23.85849],[68.11329,23.53945],[76.59015,5.591],[79.50447,8.91876],[79.42124,9.80115],[80.48418,10.20786],[89.08044,21.41871]]]]}},{type:"Feature",properties:{wikidata:"Q9143535",nameEn:"Akrotiri",country:"GB",groups:["Q644636","Q37362","BOTS","145","142","UN"],level:"subterritory",driveSide:"left",callingCodes:["357"]},geometry:{type:"MultiPolygon",coordinates:[[[[32.86014,34.70585],[32.82717,34.70622],[32.79433,34.67883],[32.76136,34.68318],[32.75515,34.64985],[32.74412,34.43926],[33.26744,34.49942],[33.0138,34.64424],[32.96968,34.64046],[32.96718,34.63446],[32.95891,34.62919],[32.95323,34.64075],[32.95471,34.64528],[32.94976,34.65204],[32.94796,34.6587],[32.95325,34.66462],[32.97079,34.66112],[32.97736,34.65277],[32.99014,34.65518],[32.98668,34.67268],[32.99135,34.68061],[32.95539,34.68471],[32.94683,34.67907],[32.94379,34.67111],[32.93693,34.67027],[32.93449,34.66241],[32.92807,34.66736],[32.93043,34.67091],[32.91398,34.67343],[32.9068,34.66102],[32.86167,34.68734],[32.86014,34.70585]]]]}},{type:"Feature",properties:{wikidata:"Q9206745",nameEn:"Dhekelia",country:"GB",groups:["Q644636","Q37362","BOTS","145","142","UN"],level:"subterritory",driveSide:"left",callingCodes:["357"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.70575,34.97947],[33.83531,34.73974],[33.98684,34.76642],[33.90075,34.96623],[33.86432,34.97592],[33.84811,34.97075],[33.83505,34.98108],[33.85621,34.98956],[33.85891,35.001],[33.85216,35.00579],[33.84045,35.00616],[33.82875,35.01685],[33.83055,35.02865],[33.81524,35.04192],[33.8012,35.04786],[33.82051,35.0667],[33.8355,35.05777],[33.85261,35.0574],[33.88367,35.07877],[33.89485,35.06873],[33.90247,35.07686],[33.91299,35.07579],[33.91789,35.08688],[33.89853,35.11377],[33.88737,35.11408],[33.88943,35.12007],[33.88561,35.12449],[33.87224,35.12293],[33.87622,35.10457],[33.87097,35.09389],[33.87479,35.08881],[33.8541,35.07201],[33.84168,35.06823],[33.82067,35.07826],[33.78581,35.05104],[33.76106,35.04253],[33.73824,35.05321],[33.71482,35.03722],[33.70209,35.04882],[33.7161,35.07279],[33.70861,35.07644],[33.69095,35.06237],[33.68474,35.06602],[33.67742,35.05963],[33.67678,35.03866],[33.69938,35.03123],[33.69731,35.01754],[33.71514,35.00294],[33.70639,34.99303],[33.70575,34.97947]],[[33.77312,34.9976],[33.77553,34.99518],[33.78516,34.99582],[33.79191,34.98914],[33.78917,34.98854],[33.78571,34.98951],[33.78318,34.98699],[33.78149,34.98854],[33.77843,34.988],[33.7778,34.98981],[33.76738,34.99188],[33.76605,34.99543],[33.75682,34.99916],[33.75994,35.00113],[33.77312,34.9976]],[[33.74144,35.01053],[33.7343,35.01178],[33.73781,35.02181],[33.74265,35.02329],[33.74983,35.02274],[33.7492,35.01319],[33.74144,35.01053]]]]}},{type:"Feature",properties:{wikidata:"Q16390686",nameEn:"Peninsular Spain",country:"ES",groups:["Q12837","EU","039","150","UN"],callingCodes:["34"]},geometry:{type:"MultiPolygon",coordinates:[[[[3.75438,42.33445],[3.17156,42.43545],[3.11379,42.43646],[3.10027,42.42621],[3.08167,42.42748],[3.03734,42.47363],[2.96518,42.46692],[2.94283,42.48174],[2.92107,42.4573],[2.88413,42.45938],[2.86983,42.46843],[2.85675,42.45444],[2.84335,42.45724],[2.77464,42.41046],[2.75497,42.42578],[2.72056,42.42298],[2.65311,42.38771],[2.6747,42.33974],[2.57934,42.35808],[2.55516,42.35351],[2.54382,42.33406],[2.48457,42.33933],[2.43508,42.37568],[2.43299,42.39423],[2.38504,42.39977],[2.25551,42.43757],[2.20578,42.41633],[2.16599,42.42314],[2.12789,42.41291],[2.11621,42.38393],[2.06241,42.35906],[2.00488,42.35399],[1.96482,42.37787],[1.9574,42.42401],[1.94084,42.43039],[1.94061,42.43333],[1.94292,42.44316],[1.93663,42.45439],[1.88853,42.4501],[1.83037,42.48395],[1.76335,42.48863],[1.72515,42.50338],[1.70571,42.48867],[1.66826,42.50779],[1.65674,42.47125],[1.58933,42.46275],[1.57953,42.44957],[1.55937,42.45808],[1.55073,42.43299],[1.5127,42.42959],[1.44529,42.43724],[1.43838,42.47848],[1.41648,42.48315],[1.46661,42.50949],[1.44759,42.54431],[1.41245,42.53539],[1.4234,42.55959],[1.44529,42.56722],[1.42512,42.58292],[1.44197,42.60217],[1.35562,42.71944],[1.15928,42.71407],[1.0804,42.78569],[.98292,42.78754],[.96166,42.80629],[.93089,42.79154],[.711,42.86372],[.66121,42.84021],[.65421,42.75872],[.67873,42.69458],[.40214,42.69779],[.36251,42.72282],[.29407,42.67431],[.25336,42.7174],[.17569,42.73424],[-.02468,42.68513],[-.10519,42.72761],[-.16141,42.79535],[-.17939,42.78974],[-.3122,42.84788],[-.38833,42.80132],[-.41319,42.80776],[-.44334,42.79939],[-.50863,42.82713],[-.55497,42.77846],[-.67637,42.88303],[-.69837,42.87945],[-.72608,42.89318],[-.73422,42.91228],[-.72037,42.92541],[-.75478,42.96916],[-.81652,42.95166],[-.97133,42.96239],[-1.00963,42.99279],[-1.10333,43.0059],[-1.22881,43.05534],[-1.25244,43.04164],[-1.30531,43.06859],[-1.30052,43.09581],[-1.27118,43.11961],[-1.32209,43.1127],[-1.34419,43.09665],[-1.35272,43.02658],[-1.44067,43.047],[-1.47555,43.08372],[-1.41562,43.12815],[-1.3758,43.24511],[-1.40942,43.27272],[-1.45289,43.27049],[-1.50992,43.29481],[-1.55963,43.28828],[-1.57674,43.25269],[-1.61341,43.25269],[-1.63052,43.28591],[-1.62481,43.30726],[-1.69407,43.31378],[-1.73074,43.29481],[-1.7397,43.32979],[-1.75079,43.3317],[-1.75334,43.34107],[-1.77068,43.34396],[-1.78714,43.35476],[-1.78332,43.36399],[-1.79319,43.37497],[-1.77289,43.38957],[-1.81005,43.59738],[-10.14298,44.17365],[-11.19304,41.83075],[-8.87157,41.86488],[-8.81794,41.90375],[-8.75712,41.92833],[-8.74606,41.9469],[-8.7478,41.96282],[-8.69071,41.98862],[-8.6681,41.99703],[-8.65832,42.02972],[-8.64626,42.03668],[-8.63791,42.04691],[-8.59493,42.05708],[-8.58086,42.05147],[-8.54563,42.0537],[-8.5252,42.06264],[-8.52837,42.07658],[-8.48185,42.0811],[-8.44123,42.08218],[-8.42512,42.07199],[-8.40143,42.08052],[-8.38323,42.07683],[-8.36353,42.09065],[-8.33912,42.08358],[-8.32161,42.10218],[-8.29809,42.106],[-8.2732,42.12396],[-8.24681,42.13993],[-8.22406,42.1328],[-8.1986,42.15402],[-8.18947,42.13853],[-8.19406,42.12141],[-8.18178,42.06436],[-8.11729,42.08537],[-8.08847,42.05767],[-8.08796,42.01398],[-8.16232,41.9828],[-8.2185,41.91237],[-8.19551,41.87459],[-8.16944,41.87944],[-8.16455,41.81753],[-8.0961,41.81024],[-8.01136,41.83453],[-7.9804,41.87337],[-7.92336,41.8758],[-7.90707,41.92432],[-7.88751,41.92553],[-7.88055,41.84571],[-7.84188,41.88065],[-7.69848,41.90977],[-7.65774,41.88308],[-7.58603,41.87944],[-7.62188,41.83089],[-7.52737,41.83939],[-7.49803,41.87095],[-7.45566,41.86488],[-7.44759,41.84451],[-7.42854,41.83262],[-7.42864,41.80589],[-7.37092,41.85031],[-7.32366,41.8406],[-7.18677,41.88793],[-7.18549,41.97515],[-7.14115,41.98855],[-7.08574,41.97401],[-7.07596,41.94977],[-7.01078,41.94977],[-6.98144,41.9728],[-6.95537,41.96553],[-6.94396,41.94403],[-6.82174,41.94493],[-6.81196,41.99097],[-6.76959,41.98734],[-6.75004,41.94129],[-6.61967,41.94008],[-6.58544,41.96674],[-6.5447,41.94371],[-6.56752,41.88429],[-6.51374,41.8758],[-6.56426,41.74219],[-6.54633,41.68623],[-6.49907,41.65823],[-6.44204,41.68258],[-6.29863,41.66432],[-6.19128,41.57638],[-6.26777,41.48796],[-6.3306,41.37677],[-6.38553,41.38655],[-6.38551,41.35274],[-6.55937,41.24417],[-6.65046,41.24725],[-6.68286,41.21641],[-6.69711,41.1858],[-6.77319,41.13049],[-6.75655,41.10187],[-6.79241,41.05397],[-6.80942,41.03629],[-6.84781,41.02692],[-6.88843,41.03027],[-6.913,41.03922],[-6.9357,41.02888],[-6.8527,40.93958],[-6.84292,40.89771],[-6.80707,40.88047],[-6.79892,40.84842],[-6.82337,40.84472],[-6.82826,40.74603],[-6.79567,40.65955],[-6.84292,40.56801],[-6.80218,40.55067],[-6.7973,40.51723],[-6.84944,40.46394],[-6.84618,40.42177],[-6.78426,40.36468],[-6.80218,40.33239],[-6.86085,40.2976],[-6.86085,40.26776],[-7.00426,40.23169],[-7.02544,40.18564],[-7.00589,40.12087],[-6.94233,40.10716],[-6.86737,40.01986],[-6.91463,39.86618],[-6.97492,39.81488],[-7.01613,39.66877],[-7.24707,39.66576],[-7.33507,39.64569],[-7.54121,39.66717],[-7.49477,39.58794],[-7.2927,39.45847],[-7.3149,39.34857],[-7.23403,39.27579],[-7.23566,39.20132],[-7.12811,39.17101],[-7.14929,39.11287],[-7.10692,39.10275],[-7.04011,39.11919],[-6.97004,39.07619],[-6.95211,39.0243],[-7.051,38.907],[-7.03848,38.87221],[-7.26174,38.72107],[-7.265,38.61674],[-7.32529,38.44336],[-7.15581,38.27597],[-7.09389,38.17227],[-6.93418,38.21454],[-7.00375,38.01914],[-7.05966,38.01966],[-7.10366,38.04404],[-7.12648,38.00296],[-7.24544,37.98884],[-7.27314,37.90145],[-7.33441,37.81193],[-7.41981,37.75729],[-7.51759,37.56119],[-7.46878,37.47127],[-7.43974,37.38913],[-7.43227,37.25152],[-7.41854,37.23813],[-7.41133,37.20314],[-7.39769,37.16868],[-7.37282,36.96896],[-7.2725,35.73269],[-5.10878,36.05227],[-2.27707,35.35051],[3.75438,42.33445]],[[-5.27801,36.14942],[-5.34064,36.03744],[-5.40526,36.15488],[-5.34536,36.15501],[-5.33822,36.15272],[-5.27801,36.14942]]],[[[1.99838,42.44682],[2.01564,42.45171],[1.99216,42.46208],[1.98579,42.47486],[1.99766,42.4858],[1.98916,42.49351],[1.98022,42.49569],[1.97697,42.48568],[1.97227,42.48487],[1.97003,42.48081],[1.96215,42.47854],[1.95606,42.45785],[1.96125,42.45364],[1.98378,42.44697],[1.99838,42.44682]]]]}},{type:"Feature",properties:{wikidata:"Q98059339",nameEn:"Mainland Norway",country:"NO",groups:["154","150","UN"],callingCodes:["47"]},geometry:{type:"MultiPolygon",coordinates:[[[[10.40861,58.38489],[10.64958,58.89391],[11.08911,58.98745],[11.15367,59.07862],[11.34459,59.11672],[11.4601,58.99022],[11.45199,58.89604],[11.65732,58.90177],[11.8213,59.24985],[11.69297,59.59442],[11.92112,59.69531],[11.87121,59.86039],[12.15641,59.8926],[12.36317,59.99259],[12.52003,60.13846],[12.59133,60.50559],[12.2277,61.02442],[12.69115,61.06584],[12.86939,61.35427],[12.57707,61.56547],[12.40595,61.57226],[12.14746,61.7147],[12.29187,62.25699],[12.07085,62.6297],[12.19919,63.00104],[11.98529,63.27487],[12.19919,63.47935],[12.14928,63.59373],[12.74105,64.02171],[13.23411,64.09087],[13.98222,64.00953],[14.16051,64.18725],[14.11117,64.46674],[13.64276,64.58402],[14.50926,65.31786],[14.53778,66.12399],[15.05113,66.15572],[15.49318,66.28509],[15.37197,66.48217],[16.35589,67.06419],[16.39154,67.21653],[16.09922,67.4364],[16.12774,67.52106],[16.38441,67.52923],[16.7409,67.91037],[17.30416,68.11591],[17.90787,67.96537],[18.13836,68.20874],[18.1241,68.53721],[18.39503,68.58672],[18.63032,68.50849],[18.97255,68.52416],[19.93508,68.35911],[20.22027,68.48759],[19.95647,68.55546],[20.22027,68.67246],[20.33435,68.80174],[20.28444,68.93283],[20.0695,69.04469],[20.55258,69.06069],[20.72171,69.11874],[21.05775,69.0356],[21.11099,69.10291],[20.98641,69.18809],[21.00732,69.22755],[21.27827,69.31281],[21.63833,69.27485],[22.27276,68.89514],[22.38367,68.71561],[22.53321,68.74393],[23.13064,68.64684],[23.68017,68.70276],[23.781,68.84514],[24.02299,68.81601],[24.18432,68.73936],[24.74898,68.65143],[24.90023,68.55579],[24.93048,68.61102],[25.10189,68.63307],[25.12206,68.78684],[25.42455,68.90328],[25.61613,68.89602],[25.75729,68.99383],[25.69679,69.27039],[25.96904,69.68397],[26.40261,69.91377],[26.64461,69.96565],[27.05802,69.92069],[27.57226,70.06215],[27.95542,70.0965],[27.97558,69.99671],[28.32849,69.88605],[28.36883,69.81658],[29.12697,69.69193],[29.31664,69.47994],[28.8629,69.22395],[28.81248,69.11997],[28.91738,69.04774],[29.0444,69.0119],[29.26623,69.13794],[29.27631,69.2811],[29.97205,69.41623],[30.16363,69.65244],[30.52662,69.54699],[30.95011,69.54699],[30.84095,69.80584],[31.59909,70.16571],[32.07813,72.01005],[-11.60274,67.73467],[7.28637,57.35913],[10.40861,58.38489]]]]}},{type:"Feature",properties:{wikidata:"Q98543636",nameEn:"Mainland Ecuador",country:"EC",groups:["005","419","019","UN"],callingCodes:["593"]},geometry:{type:"MultiPolygon",coordinates:[[[[-84.52388,-3.36941],[-80.30602,-3.39149],[-80.20647,-3.431],[-80.24123,-3.46124],[-80.24586,-3.48677],[-80.23651,-3.48652],[-80.22629,-3.501],[-80.20535,-3.51667],[-80.21642,-3.5888],[-80.19848,-3.59249],[-80.18741,-3.63994],[-80.19926,-3.68894],[-80.13232,-3.90317],[-80.46386,-4.01342],[-80.4822,-4.05477],[-80.45023,-4.20938],[-80.32114,-4.21323],[-80.46386,-4.41516],[-80.39256,-4.48269],[-80.13945,-4.29786],[-79.79722,-4.47558],[-79.59402,-4.46848],[-79.26248,-4.95167],[-79.1162,-4.97774],[-79.01659,-5.01481],[-78.85149,-4.66795],[-78.68394,-4.60754],[-78.34362,-3.38633],[-78.24589,-3.39907],[-78.22642,-3.51113],[-78.14324,-3.47653],[-78.19369,-3.36431],[-77.94147,-3.05454],[-76.6324,-2.58397],[-76.05203,-2.12179],[-75.57429,-1.55961],[-75.3872,-.9374],[-75.22862,-.95588],[-75.22862,-.60048],[-75.53615,-.19213],[-75.60169,-.18708],[-75.61997,-.10012],[-75.40192,-.17196],[-75.25764,-.11943],[-75.82927,.09578],[-76.23441,.42294],[-76.41215,.38228],[-76.4094,.24015],[-76.89177,.24736],[-77.52001,.40782],[-77.49984,.64476],[-77.67815,.73863],[-77.66416,.81604],[-77.68613,.83029],[-77.7148,.85003],[-77.85677,.80197],[-78.42749,1.15389],[-78.87137,1.47457],[-82.12561,4.00341],[-84.52388,-3.36941]]]]}},{type:"Feature",properties:{m49:"001",wikidata:"Q2",nameEn:"World",aliases:["Earth","Planet"],level:"world"},geometry:null},{type:"Feature",properties:{m49:"002",wikidata:"Q15",nameEn:"Africa",level:"region"},geometry:null},{type:"Feature",properties:{m49:"003",wikidata:"Q49",nameEn:"North America",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"005",wikidata:"Q18",nameEn:"South America",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"009",wikidata:"Q538",nameEn:"Oceania",level:"region"},geometry:null},{type:"Feature",properties:{m49:"011",wikidata:"Q4412",nameEn:"Western Africa",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"013",wikidata:"Q27611",nameEn:"Central America",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"014",wikidata:"Q27407",nameEn:"Eastern Africa",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"015",wikidata:"Q27381",nameEn:"Northern Africa",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"017",wikidata:"Q27433",nameEn:"Middle Africa",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"018",wikidata:"Q27394",nameEn:"Southern Africa",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"019",wikidata:"Q828",nameEn:"Americas",level:"region"},geometry:null},{type:"Feature",properties:{m49:"021",wikidata:"Q2017699",nameEn:"Northern America",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"029",wikidata:"Q664609",nameEn:"Caribbean",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{m49:"030",wikidata:"Q27231",nameEn:"Eastern Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"034",wikidata:"Q771405",nameEn:"Southern Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"035",wikidata:"Q11708",nameEn:"South-eastern Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"039",wikidata:"Q27449",nameEn:"Southern Europe",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"053",wikidata:"Q45256",nameEn:"Australia and New Zealand",aliases:["Australasia"],level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"054",wikidata:"Q37394",nameEn:"Melanesia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"057",wikidata:"Q3359409",nameEn:"Micronesia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"061",wikidata:"Q35942",nameEn:"Polynesia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"142",wikidata:"Q48",nameEn:"Asia",level:"region"},geometry:null},{type:"Feature",properties:{m49:"143",wikidata:"Q27275",nameEn:"Central Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"145",wikidata:"Q27293",nameEn:"Western Asia",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"150",wikidata:"Q46",nameEn:"Europe",level:"region"},geometry:null},{type:"Feature",properties:{m49:"151",wikidata:"Q27468",nameEn:"Eastern Europe",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"154",wikidata:"Q27479",nameEn:"Northern Europe",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"155",wikidata:"Q27496",nameEn:"Western Europe",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"202",wikidata:"Q132959",nameEn:"Sub-Saharan Africa",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"419",wikidata:"Q72829598",nameEn:"Latin America and the Caribbean",level:"subregion"},geometry:null},{type:"Feature",properties:{m49:"680",wikidata:"Q3405693",nameEn:"Sark",country:"GB",groups:["GG","830","Q185086","154","150","UN"],level:"subterritory",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01481"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.36485,49.48223],[-2.65349,49.15373],[-2.09454,49.46288],[-2.36485,49.48223]]]]}},{type:"Feature",properties:{m49:"830",wikidata:"Q42314",nameEn:"Channel Islands",level:"intermediateRegion"},geometry:null},{type:"Feature",properties:{iso1A2:"AC",iso1A3:"ASC",wikidata:"Q46197",nameEn:"Ascension Island",aliases:["SH-AC"],country:"GB",groups:["SH","BOTS","011","202","002","UN"],isoStatus:"excRes",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["247"]},geometry:{type:"MultiPolygon",coordinates:[[[[-14.82771,-8.70814],[-13.33271,-8.07391],[-14.91926,-6.63386],[-14.82771,-8.70814]]]]}},{type:"Feature",properties:{iso1A2:"AD",iso1A3:"AND",iso1N3:"020",wikidata:"Q228",nameEn:"Andorra",groups:["Q12837","039","150","UN"],callingCodes:["376"]},geometry:{type:"MultiPolygon",coordinates:[[[[1.72515,42.50338],[1.73683,42.55492],[1.7858,42.57698],[1.72588,42.59098],[1.73452,42.61515],[1.68267,42.62533],[1.6625,42.61982],[1.63485,42.62957],[1.60085,42.62703],[1.55418,42.65669],[1.50867,42.64483],[1.48043,42.65203],[1.46718,42.63296],[1.47986,42.61346],[1.44197,42.60217],[1.42512,42.58292],[1.44529,42.56722],[1.4234,42.55959],[1.41245,42.53539],[1.44759,42.54431],[1.46661,42.50949],[1.41648,42.48315],[1.43838,42.47848],[1.44529,42.43724],[1.5127,42.42959],[1.55073,42.43299],[1.55937,42.45808],[1.57953,42.44957],[1.58933,42.46275],[1.65674,42.47125],[1.66826,42.50779],[1.70571,42.48867],[1.72515,42.50338]]]]}},{type:"Feature",properties:{iso1A2:"AE",iso1A3:"ARE",iso1N3:"784",wikidata:"Q878",nameEn:"United Arab Emirates",groups:["145","142","UN"],callingCodes:["971"]},geometry:{type:"MultiPolygon",coordinates:[[[[56.26534,25.62825],[56.25341,25.61443],[56.26636,25.60643],[56.25365,25.60211],[56.20473,25.61119],[56.18363,25.65508],[56.14826,25.66351],[56.13579,25.73524],[56.17416,25.77239],[56.13963,25.82765],[56.19334,25.9795],[56.15498,26.06828],[56.08666,26.05038],[55.81777,26.18798],[55.14145,25.62624],[53.97892,24.64436],[52.82259,25.51697],[52.35509,25.00368],[52.02277,24.75635],[51.83108,24.71675],[51.58834,24.66608],[51.41644,24.39615],[51.58871,24.27256],[51.59617,24.12041],[52.56622,22.94341],[55.13599,22.63334],[55.2137,22.71065],[55.22634,23.10378],[55.57358,23.669],[55.48677,23.94946],[55.73301,24.05994],[55.8308,24.01633],[56.01799,24.07426],[55.95472,24.2172],[55.83367,24.20193],[55.77658,24.23476],[55.76558,24.23227],[55.75257,24.23466],[55.75382,24.2466],[55.75939,24.26114],[55.76781,24.26209],[55.79145,24.27914],[55.80747,24.31069],[55.83395,24.32776],[55.83271,24.41521],[55.76461,24.5287],[55.83271,24.68567],[55.83408,24.77858],[55.81348,24.80102],[55.81116,24.9116],[55.85094,24.96858],[55.90849,24.96771],[55.96316,25.00857],[56.05715,24.95727],[56.05106,24.87461],[55.97467,24.89639],[55.97836,24.87673],[56.03535,24.81161],[56.06128,24.74457],[56.13684,24.73699],[56.20062,24.78565],[56.20568,24.85063],[56.30269,24.88334],[56.34873,24.93205],[56.3227,24.97284],[56.86325,25.03856],[56.82555,25.7713],[56.26534,25.62825]],[[56.26062,25.33108],[56.3005,25.31815],[56.3111,25.30107],[56.35172,25.30681],[56.34438,25.26653],[56.27628,25.23404],[56.24341,25.22867],[56.20872,25.24104],[56.20838,25.25668],[56.24465,25.27505],[56.25008,25.28843],[56.23362,25.31253],[56.26062,25.33108]]],[[[56.28423,25.26344],[56.29379,25.2754],[56.28102,25.28486],[56.2716,25.27916],[56.27086,25.26128],[56.28423,25.26344]]]]}},{type:"Feature",properties:{iso1A2:"AF",iso1A3:"AFG",iso1N3:"004",wikidata:"Q889",nameEn:"Afghanistan",groups:["034","142","UN"],callingCodes:["93"]},geometry:{type:"MultiPolygon",coordinates:[[[[70.61526,38.34774],[70.60407,38.28046],[70.54673,38.24541],[70.4898,38.12546],[70.17206,37.93276],[70.1863,37.84296],[70.27694,37.81258],[70.28243,37.66706],[70.15015,37.52519],[69.95971,37.5659],[69.93362,37.61378],[69.84435,37.60616],[69.80041,37.5746],[69.51888,37.5844],[69.44954,37.4869],[69.36645,37.40462],[69.45022,37.23315],[69.39529,37.16752],[69.25152,37.09426],[69.03274,37.25174],[68.96407,37.32603],[68.88168,37.33368],[68.91189,37.26704],[68.80889,37.32494],[68.81438,37.23862],[68.6798,37.27906],[68.61851,37.19815],[68.41888,37.13906],[68.41201,37.10402],[68.29253,37.10621],[68.27605,37.00977],[68.18542,37.02074],[68.02194,36.91923],[67.87917,37.0591],[67.7803,37.08978],[67.78329,37.1834],[67.51868,37.26102],[67.2581,37.17216],[67.2224,37.24545],[67.13039,37.27168],[67.08232,37.35469],[66.95598,37.40162],[66.64699,37.32958],[66.55743,37.35409],[66.30993,37.32409],[65.72274,37.55438],[65.64137,37.45061],[65.64263,37.34388],[65.51778,37.23881],[64.97945,37.21913],[64.61141,36.6351],[64.62514,36.44311],[64.57295,36.34362],[64.43288,36.24401],[64.05385,36.10433],[63.98519,36.03773],[63.56496,35.95106],[63.53475,35.90881],[63.29579,35.85985],[63.12276,35.86208],[63.10318,35.81782],[63.23262,35.67487],[63.10079,35.63024],[63.12276,35.53196],[63.0898,35.43131],[62.90853,35.37086],[62.74098,35.25432],[62.62288,35.22067],[62.48006,35.28796],[62.29878,35.13312],[62.29191,35.25964],[62.15871,35.33278],[62.05709,35.43803],[61.97743,35.4604],[61.77693,35.41341],[61.58742,35.43803],[61.27371,35.61482],[61.18187,35.30249],[61.0991,35.27845],[61.12831,35.09938],[61.06926,34.82139],[61.00197,34.70631],[60.99922,34.63064],[60.72316,34.52857],[60.91321,34.30411],[60.66502,34.31539],[60.50209,34.13992],[60.5838,33.80793],[60.5485,33.73422],[60.57762,33.59772],[60.69573,33.56054],[60.91133,33.55596],[60.88908,33.50219],[60.56485,33.12944],[60.86191,32.22565],[60.84541,31.49561],[61.70929,31.37391],[61.80569,31.16167],[61.80957,31.12576],[61.83257,31.0452],[61.8335,30.97669],[61.78268,30.92724],[61.80829,30.84224],[60.87231,29.86514],[62.47751,29.40782],[63.5876,29.50456],[64.12966,29.39157],[64.19796,29.50407],[64.62116,29.58903],[65.04005,29.53957],[66.24175,29.85181],[66.36042,29.9583],[66.23609,30.06321],[66.34869,30.404],[66.28413,30.57001],[66.39194,30.9408],[66.42645,30.95309],[66.58175,30.97532],[66.68166,31.07597],[66.72561,31.20526],[66.83273,31.26867],[67.04147,31.31561],[67.03323,31.24519],[67.29964,31.19586],[67.78854,31.33203],[67.7748,31.4188],[67.62374,31.40473],[67.58323,31.52772],[67.72056,31.52304],[67.86887,31.63536],[68.00071,31.6564],[68.1655,31.82691],[68.25614,31.80357],[68.27605,31.75863],[68.44222,31.76446],[68.57475,31.83158],[68.6956,31.75687],[68.79997,31.61665],[68.91078,31.59687],[68.95995,31.64822],[69.00939,31.62249],[69.11514,31.70782],[69.20577,31.85957],[69.3225,31.93186],[69.27032,32.14141],[69.27932,32.29119],[69.23599,32.45946],[69.2868,32.53938],[69.38155,32.56601],[69.44747,32.6678],[69.43649,32.7302],[69.38018,32.76601],[69.47082,32.85834],[69.5436,32.8768],[69.49854,32.88843],[69.49004,33.01509],[69.57656,33.09911],[69.71526,33.09911],[69.79766,33.13247],[69.85259,33.09451],[70.02563,33.14282],[70.07369,33.22557],[70.13686,33.21064],[70.32775,33.34496],[70.17062,33.53535],[70.20141,33.64387],[70.14785,33.6553],[70.14236,33.71701],[70.00503,33.73528],[69.85671,33.93719],[69.87307,33.9689],[69.90203,34.04194],[70.54336,33.9463],[70.88119,33.97933],[71.07345,34.06242],[71.06933,34.10564],[71.09307,34.11961],[71.09453,34.13524],[71.13078,34.16503],[71.12815,34.26619],[71.17662,34.36769],[71.02401,34.44835],[71.0089,34.54568],[71.11602,34.63047],[71.08718,34.69034],[71.28356,34.80882],[71.29472,34.87728],[71.50329,34.97328],[71.49917,35.00478],[71.55273,35.02615],[71.52938,35.09023],[71.67495,35.21262],[71.5541,35.28776],[71.54294,35.31037],[71.65435,35.4479],[71.49917,35.6267],[71.55273,35.71483],[71.37969,35.95865],[71.19505,36.04134],[71.60491,36.39429],[71.80267,36.49924],[72.18135,36.71838],[72.6323,36.84601],[73.82685,36.91421],[74.04856,36.82648],[74.43389,37.00977],[74.53739,36.96224],[74.56453,37.03023],[74.49981,37.24518],[74.80605,37.21565],[74.88887,37.23275],[74.8294,37.3435],[74.68383,37.3948],[74.56161,37.37734],[74.41055,37.3948],[74.23339,37.41116],[74.20308,37.34208],[73.8564,37.26158],[73.82552,37.22659],[73.64974,37.23643],[73.61129,37.27469],[73.76647,37.33913],[73.77197,37.4417],[73.29633,37.46495],[73.06884,37.31729],[72.79693,37.22222],[72.66381,37.02014],[72.54095,37.00007],[72.31676,36.98115],[71.83229,36.68084],[71.67083,36.67346],[71.57195,36.74943],[71.51502,36.89128],[71.48481,36.93218],[71.46923,36.99925],[71.45578,37.03094],[71.43097,37.05855],[71.44127,37.11856],[71.4494,37.18137],[71.4555,37.21418],[71.47386,37.2269],[71.48339,37.23937],[71.4824,37.24921],[71.48536,37.26017],[71.50674,37.31502],[71.49821,37.31975],[71.4862,37.33405],[71.47685,37.40281],[71.49612,37.4279],[71.5256,37.47971],[71.50616,37.50733],[71.49693,37.53527],[71.5065,37.60912],[71.51972,37.61945],[71.54186,37.69691],[71.55234,37.73209],[71.53053,37.76534],[71.54324,37.77104],[71.55752,37.78677],[71.59255,37.79956],[71.58843,37.92425],[71.51565,37.95349],[71.32871,37.88564],[71.296,37.93403],[71.2809,37.91995],[71.24969,37.93031],[71.27278,37.96496],[71.27622,37.99946],[71.28922,38.01272],[71.29878,38.04429],[71.36444,38.15358],[71.37803,38.25641],[71.33869,38.27335],[71.33114,38.30339],[71.21291,38.32797],[71.1451,38.40106],[71.10957,38.40671],[71.10592,38.42077],[71.09542,38.42517],[71.0556,38.40176],[71.03545,38.44779],[70.98693,38.48862],[70.92728,38.43021],[70.88719,38.46826],[70.84376,38.44688],[70.82538,38.45394],[70.81697,38.44507],[70.80521,38.44447],[70.79766,38.44944],[70.78702,38.45031],[70.78581,38.45502],[70.77132,38.45548],[70.75455,38.4252],[70.72485,38.4131],[70.69807,38.41861],[70.67438,38.40597],[70.6761,38.39144],[70.69189,38.37031],[70.64966,38.34999],[70.61526,38.34774]]]]}},{type:"Feature",properties:{iso1A2:"AG",iso1A3:"ATG",iso1N3:"028",wikidata:"Q781",nameEn:"Antigua and Barbuda",groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 268"]},geometry:{type:"MultiPolygon",coordinates:[[[[-61.66959,18.6782],[-62.58307,16.68909],[-62.1023,16.97277],[-61.23098,16.62484],[-61.66959,18.6782]]]]}},{type:"Feature",properties:{iso1A2:"AI",iso1A3:"AIA",iso1N3:"660",wikidata:"Q25228",nameEn:"Anguilla",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 264"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.79029,19.11219],[-63.35989,18.06012],[-62.62718,18.26185],[-63.79029,19.11219]]]]}},{type:"Feature",properties:{iso1A2:"AL",iso1A3:"ALB",iso1N3:"008",wikidata:"Q222",nameEn:"Albania",groups:["039","150","UN"],callingCodes:["355"]},geometry:{type:"MultiPolygon",coordinates:[[[[20.07761,42.55582],[20.01834,42.54622],[20.00842,42.5109],[19.9324,42.51699],[19.82333,42.46581],[19.76549,42.50237],[19.74731,42.57422],[19.77375,42.58517],[19.73244,42.66299],[19.65972,42.62774],[19.4836,42.40831],[19.42352,42.36546],[19.42,42.33019],[19.28623,42.17745],[19.40687,42.10024],[19.37548,42.06835],[19.36867,42.02564],[19.37691,41.96977],[19.34601,41.95675],[19.33812,41.90669],[19.37451,41.8842],[19.37597,41.84849],[19.26406,41.74971],[19.0384,40.35325],[19.95905,39.82857],[19.97622,39.78684],[19.92466,39.69533],[19.98042,39.6504],[20.00957,39.69227],[20.05189,39.69112],[20.12956,39.65805],[20.15988,39.652],[20.22376,39.64532],[20.22707,39.67459],[20.27412,39.69884],[20.31961,39.72799],[20.29152,39.80421],[20.30804,39.81563],[20.38572,39.78516],[20.41475,39.81437],[20.41546,39.82832],[20.31135,39.99438],[20.37911,39.99058],[20.42373,40.06777],[20.48487,40.06271],[20.51297,40.08168],[20.55593,40.06524],[20.61081,40.07866],[20.62566,40.0897],[20.67162,40.09433],[20.71789,40.27739],[20.78234,40.35803],[20.7906,40.42726],[20.83688,40.47882],[20.94925,40.46625],[20.96908,40.51526],[21.03932,40.56299],[21.05833,40.66586],[20.98134,40.76046],[20.95752,40.76982],[20.98396,40.79109],[20.97887,40.85475],[20.97693,40.90103],[20.94305,40.92399],[20.83671,40.92752],[20.81567,40.89662],[20.73504,40.9081],[20.71634,40.91781],[20.65558,41.08009],[20.63454,41.0889],[20.59832,41.09066],[20.58546,41.11179],[20.59715,41.13644],[20.51068,41.2323],[20.49432,41.33679],[20.52119,41.34381],[20.55976,41.4087],[20.51301,41.442],[20.49039,41.49277],[20.45331,41.51436],[20.45809,41.5549],[20.52103,41.56473],[20.55508,41.58113],[20.51769,41.65975],[20.52937,41.69292],[20.51301,41.72433],[20.53405,41.78099],[20.57144,41.7897],[20.55976,41.87068],[20.59524,41.8818],[20.57946,41.91593],[20.63069,41.94913],[20.59434,42.03879],[20.55633,42.08173],[20.56955,42.12097],[20.48857,42.25444],[20.3819,42.3029],[20.34479,42.32656],[20.24399,42.32168],[20.21797,42.41237],[20.17127,42.50469],[20.07761,42.55582]]]]}},{type:"Feature",properties:{iso1A2:"AM",iso1A3:"ARM",iso1N3:"051",wikidata:"Q399",nameEn:"Armenia",groups:["145","142","UN"],callingCodes:["374"]},geometry:{type:"MultiPolygon",coordinates:[[[[45.0133,41.29747],[44.93493,41.25685],[44.81437,41.30371],[44.80053,41.25949],[44.81749,41.23488],[44.84358,41.23088],[44.89911,41.21366],[44.87887,41.20195],[44.82084,41.21513],[44.72814,41.20338],[44.61462,41.24018],[44.59322,41.1933],[44.46791,41.18204],[44.34417,41.2382],[44.34337,41.20312],[44.32139,41.2079],[44.18148,41.24644],[44.16591,41.19141],[43.84835,41.16329],[43.74717,41.1117],[43.67712,41.13398],[43.4717,41.12611],[43.44984,41.0988],[43.47319,41.02251],[43.58683,40.98961],[43.67712,40.93084],[43.67712,40.84846],[43.74872,40.7365],[43.7425,40.66805],[43.63664,40.54159],[43.54791,40.47413],[43.60862,40.43267],[43.59928,40.34019],[43.71136,40.16673],[43.65221,40.14889],[43.65688,40.11199],[43.92307,40.01787],[44.1057,40.03555],[44.1778,40.02845],[44.26973,40.04866],[44.46635,39.97733],[44.61845,39.8281],[44.75779,39.7148],[44.88354,39.74432],[44.92869,39.72157],[45.06604,39.79277],[45.18554,39.67846],[45.17464,39.58614],[45.21784,39.58074],[45.23535,39.61373],[45.30385,39.61373],[45.29606,39.57654],[45.46992,39.49888],[45.70547,39.60174],[45.80804,39.56716],[45.83,39.46487],[45.79225,39.3695],[45.99774,39.28931],[46.02303,39.09978],[46.06973,39.0744],[46.14785,38.84206],[46.20601,38.85262],[46.34059,38.92076],[46.53497,38.86548],[46.51805,38.94982],[46.54296,39.07078],[46.44022,39.19636],[46.52584,39.18912],[46.54141,39.15895],[46.58032,39.21204],[46.63481,39.23013],[46.56476,39.24942],[46.50093,39.33736],[46.43244,39.35181],[46.37795,39.42039],[46.4013,39.45405],[46.53051,39.47809],[46.51027,39.52373],[46.57721,39.54414],[46.57098,39.56694],[46.52117,39.58734],[46.42465,39.57534],[46.40286,39.63651],[46.18493,39.60533],[45.96543,39.78859],[45.82533,39.82925],[45.7833,39.9475],[45.60895,39.97733],[45.59806,40.0131],[45.78642,40.03218],[45.83779,39.98925],[45.97944,40.181],[45.95609,40.27846],[45.65098,40.37696],[45.42994,40.53804],[45.45484,40.57707],[45.35366,40.65979],[45.4206,40.7424],[45.55914,40.78366],[45.60584,40.87436],[45.40814,40.97904],[45.44083,41.01663],[45.39725,41.02603],[45.35677,40.99784],[45.28859,41.03757],[45.26162,41.0228],[45.25897,41.0027],[45.1994,41.04518],[45.16493,41.05068],[45.1634,41.08082],[45.1313,41.09369],[45.12923,41.06059],[45.06784,41.05379],[45.08028,41.10917],[45.19942,41.13299],[45.1969,41.168],[45.11811,41.19967],[45.05201,41.19211],[45.02932,41.2101],[45.05497,41.2464],[45.0133,41.29747]],[[45.21324,40.9817],[45.21219,40.99001],[45.20518,40.99348],[45.19312,40.98998],[45.18382,41.0066],[45.20625,41.01484],[45.23487,41.00226],[45.23095,40.97828],[45.21324,40.9817]],[[45.00864,41.03411],[44.9903,41.05657],[44.96031,41.06345],[44.95383,41.07553],[44.97169,41.09176],[45.00864,41.09407],[45.03406,41.07931],[45.04517,41.06653],[45.03792,41.03938],[45.00864,41.03411]]],[[[45.50279,40.58424],[45.56071,40.64765],[45.51825,40.67382],[45.47927,40.65023],[45.50279,40.58424]]]]}},{type:"Feature",properties:{iso1A2:"AO",iso1A3:"AGO",iso1N3:"024",wikidata:"Q916",nameEn:"Angola",groups:["017","202","002","UN"],callingCodes:["244"]},geometry:{type:"MultiPolygon",coordinates:[[[[16.55507,-5.85631],[13.04371,-5.87078],[12.42245,-6.07585],[11.95767,-5.94705],[12.20376,-5.76338],[12.26557,-5.74031],[12.52318,-5.74353],[12.52301,-5.17481],[12.53599,-5.1618],[12.53586,-5.14658],[12.51589,-5.1332],[12.49815,-5.14058],[12.46297,-5.09408],[12.60251,-5.01715],[12.63465,-4.94632],[12.70868,-4.95505],[12.8733,-4.74346],[13.11195,-4.67745],[13.09648,-4.63739],[12.91489,-4.47907],[12.87096,-4.40315],[12.76844,-4.38709],[12.64835,-4.55937],[12.40964,-4.60609],[12.32324,-4.78415],[12.25587,-4.79437],[12.20901,-4.75642],[12.16068,-4.90089],[12.00924,-5.02627],[11.50888,-5.33417],[10.5065,-17.25284],[11.75063,-17.25013],[12.07076,-17.15165],[12.52111,-17.24495],[12.97145,-16.98567],[13.36212,-16.98048],[13.95896,-17.43141],[14.28743,-17.38814],[18.39229,-17.38927],[18.84226,-17.80375],[21.14283,-17.94318],[21.42741,-18.02787],[23.47474,-17.62877],[23.20038,-17.47563],[22.17217,-16.50269],[22.00323,-16.18028],[21.97988,-13.00148],[24.03339,-12.99091],[23.90937,-12.844],[24.06672,-12.29058],[23.98804,-12.13149],[24.02603,-11.15368],[24.00027,-10.89356],[23.86868,-11.02856],[23.45631,-10.946],[23.16602,-11.10577],[22.54205,-11.05784],[22.25951,-11.24911],[22.17954,-10.85884],[22.32604,-10.76291],[22.19039,-9.94628],[21.84856,-9.59871],[21.79824,-7.29628],[20.56263,-7.28566],[20.61689,-6.90876],[20.31846,-6.91953],[20.30218,-6.98955],[19.5469,-7.00195],[19.33698,-7.99743],[18.33635,-8.00126],[17.5828,-8.13784],[16.96282,-7.21787],[16.55507,-5.85631]]]]}},{type:"Feature",properties:{iso1A2:"AQ",iso1A3:"ATA",iso1N3:"010",wikidata:"Q51",nameEn:"Antarctica",level:"region",callingCodes:["672"]},geometry:{type:"MultiPolygon",coordinates:[[[[180,-60],[-180,-60],[-180,-90],[180,-90],[180,-60]]]]}},{type:"Feature",properties:{iso1A2:"AR",iso1A3:"ARG",iso1N3:"032",wikidata:"Q414",nameEn:"Argentina",aliases:["RA"],groups:["005","419","019","UN"],callingCodes:["54"]},geometry:{type:"MultiPolygon",coordinates:[[[[-72.31343,-50.58411],[-72.33873,-51.59954],[-71.99889,-51.98018],[-69.97824,-52.00845],[-68.41683,-52.33516],[-68.60702,-52.65781],[-68.60733,-54.9125],[-68.01394,-54.8753],[-67.46182,-54.92205],[-67.11046,-54.94199],[-66.07313,-55.19618],[-63.67376,-55.11859],[-54.78916,-36.21945],[-57.83001,-34.69099],[-58.34425,-34.15035],[-58.44442,-33.84033],[-58.40475,-33.11777],[-58.1224,-32.98842],[-58.22362,-32.52416],[-58.10036,-32.25338],[-58.20252,-31.86966],[-58.00076,-31.65016],[-58.0023,-31.53084],[-58.07569,-31.44916],[-57.98127,-31.3872],[-57.9908,-31.34924],[-57.86729,-31.06352],[-57.89476,-30.95994],[-57.8024,-30.77193],[-57.89115,-30.49572],[-57.64859,-30.35095],[-57.61478,-30.25165],[-57.65132,-30.19229],[-57.09386,-29.74211],[-56.81251,-29.48154],[-56.62789,-29.18073],[-56.57295,-29.11357],[-56.54171,-29.11447],[-56.05265,-28.62651],[-56.00458,-28.60421],[-56.01729,-28.51223],[-55.65418,-28.18304],[-55.6262,-28.17124],[-55.33303,-27.94661],[-55.16872,-27.86224],[-55.1349,-27.89759],[-54.90805,-27.73149],[-54.90159,-27.63132],[-54.67657,-27.57214],[-54.50416,-27.48232],[-54.41888,-27.40882],[-54.19268,-27.30751],[-54.19062,-27.27639],[-54.15978,-27.2889],[-53.80144,-27.09844],[-53.73372,-26.6131],[-53.68269,-26.33359],[-53.64505,-26.28089],[-53.64186,-26.25976],[-53.64632,-26.24798],[-53.63881,-26.25075],[-53.63739,-26.2496],[-53.65237,-26.23289],[-53.65018,-26.19501],[-53.73968,-26.10012],[-53.73391,-26.07006],[-53.7264,-26.0664],[-53.73086,-26.05842],[-53.73511,-26.04211],[-53.83691,-25.94849],[-53.90831,-25.55513],[-54.52926,-25.62846],[-54.5502,-25.58915],[-54.59398,-25.59224],[-54.62063,-25.91213],[-54.60664,-25.9691],[-54.67359,-25.98607],[-54.69333,-26.37705],[-54.70732,-26.45099],[-54.80868,-26.55669],[-55.00584,-26.78754],[-55.06351,-26.80195],[-55.16948,-26.96068],[-55.25243,-26.93808],[-55.39611,-26.97679],[-55.62322,-27.1941],[-55.59094,-27.32444],[-55.74475,-27.44485],[-55.89195,-27.3467],[-56.18313,-27.29851],[-56.85337,-27.5165],[-58.04205,-27.2387],[-58.59549,-27.29973],[-58.65321,-27.14028],[-58.3198,-26.83443],[-58.1188,-26.16704],[-57.87176,-25.93604],[-57.57431,-25.47269],[-57.80821,-25.13863],[-58.25492,-24.92528],[-58.33055,-24.97099],[-59.33886,-24.49935],[-59.45482,-24.34787],[-60.03367,-24.00701],[-60.28163,-24.04436],[-60.99754,-23.80934],[-61.0782,-23.62932],[-61.9756,-23.0507],[-62.22768,-22.55807],[-62.51761,-22.37684],[-62.64455,-22.25091],[-62.8078,-22.12534],[-62.81124,-21.9987],[-63.66482,-21.99918],[-63.68113,-22.0544],[-63.70963,-21.99934],[-63.93287,-21.99934],[-64.22918,-22.55807],[-64.31489,-22.88824],[-64.35108,-22.73282],[-64.4176,-22.67692],[-64.58888,-22.25035],[-64.67174,-22.18957],[-64.90014,-22.12136],[-64.99524,-22.08255],[-65.47435,-22.08908],[-65.57743,-22.07675],[-65.58694,-22.09794],[-65.61166,-22.09504],[-65.7467,-22.10105],[-65.9261,-21.93335],[-66.04832,-21.9187],[-66.03836,-21.84829],[-66.24077,-21.77837],[-66.29714,-22.08741],[-66.7298,-22.23644],[-67.18382,-22.81525],[-66.99632,-22.99839],[-67.33563,-24.04237],[-68.24825,-24.42596],[-68.56909,-24.69831],[-68.38372,-25.08636],[-68.57622,-25.32505],[-68.38372,-26.15353],[-68.56909,-26.28146],[-68.59048,-26.49861],[-68.27677,-26.90626],[-68.43363,-27.08414],[-68.77586,-27.16029],[-69.22504,-27.95042],[-69.66709,-28.44055],[-69.80969,-29.07185],[-69.99507,-29.28351],[-69.8596,-30.26131],[-70.14479,-30.36595],[-70.55832,-31.51559],[-69.88099,-33.34489],[-69.87386,-34.13344],[-70.49416,-35.24145],[-70.38008,-36.02375],[-70.95047,-36.4321],[-71.24279,-37.20264],[-70.89532,-38.6923],[-71.37826,-38.91474],[-71.92726,-40.72714],[-71.74901,-42.11711],[-72.15541,-42.15941],[-72.14828,-42.85321],[-71.64206,-43.64774],[-71.81318,-44.38097],[-71.16436,-44.46244],[-71.26418,-44.75684],[-72.06985,-44.81756],[-71.35687,-45.22075],[-71.75614,-45.61611],[-71.68577,-46.55385],[-71.94152,-47.13595],[-72.50478,-47.80586],[-72.27662,-48.28727],[-72.54042,-48.52392],[-72.56894,-48.81116],[-73.09655,-49.14342],[-73.45156,-49.79461],[-73.55259,-49.92488],[-73.15765,-50.78337],[-72.31343,-50.58411]]]]}},{type:"Feature",properties:{iso1A2:"AS",iso1A3:"ASM",iso1N3:"016",wikidata:"Q16641",nameEn:"American Samoa",aliases:["US-AS"],country:"US",groups:["Q1352230","061","009","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 684"]},geometry:{type:"MultiPolygon",coordinates:[[[[-171.39864,-10.21587],[-170.99605,-15.1275],[-166.32598,-15.26169],[-171.39864,-10.21587]]]]}},{type:"Feature",properties:{iso1A2:"AT",iso1A3:"AUT",iso1N3:"040",wikidata:"Q40",nameEn:"Austria",groups:["EU","155","150","UN"],callingCodes:["43"]},geometry:{type:"MultiPolygon",coordinates:[[[[15.34823,48.98444],[15.28305,48.98831],[15.26177,48.95766],[15.16358,48.94278],[15.15534,48.99056],[14.99878,49.01444],[14.97612,48.96983],[14.98917,48.90082],[14.95072,48.79101],[14.98032,48.77959],[14.9782,48.7766],[14.98112,48.77524],[14.9758,48.76857],[14.95641,48.75915],[14.94773,48.76268],[14.81545,48.7874],[14.80821,48.77711],[14.80584,48.73489],[14.72756,48.69502],[14.71794,48.59794],[14.66762,48.58215],[14.60808,48.62881],[14.56139,48.60429],[14.4587,48.64695],[14.43076,48.58855],[14.33909,48.55852],[14.20691,48.5898],[14.09104,48.5943],[14.01482,48.63788],[14.06151,48.66873],[13.84023,48.76988],[13.82266,48.75544],[13.81863,48.73257],[13.79337,48.71375],[13.81791,48.69832],[13.81283,48.68426],[13.81901,48.6761],[13.82609,48.62345],[13.80038,48.59487],[13.80519,48.58026],[13.76921,48.55324],[13.7513,48.5624],[13.74816,48.53058],[13.72802,48.51208],[13.66113,48.53558],[13.65186,48.55092],[13.62508,48.55501],[13.59705,48.57013],[13.57535,48.55912],[13.51291,48.59023],[13.50131,48.58091],[13.50663,48.57506],[13.46967,48.55157],[13.45214,48.56472],[13.43695,48.55776],[13.45727,48.51092],[13.42527,48.45711],[13.43929,48.43386],[13.40709,48.37292],[13.30897,48.31575],[13.26039,48.29422],[13.18093,48.29577],[13.126,48.27867],[13.0851,48.27711],[13.02083,48.25689],[12.95306,48.20629],[12.87126,48.20318],[12.84475,48.16556],[12.836,48.1647],[12.8362,48.15876],[12.82673,48.15245],[12.80676,48.14979],[12.78595,48.12445],[12.7617,48.12796],[12.74973,48.10885],[12.76141,48.07373],[12.8549,48.01122],[12.87476,47.96195],[12.91683,47.95647],[12.9211,47.95135],[12.91985,47.94069],[12.92668,47.93879],[12.93419,47.94063],[12.93642,47.94436],[12.93886,47.94046],[12.94163,47.92927],[13.00588,47.84374],[12.98543,47.82896],[12.96311,47.79957],[12.93202,47.77302],[12.94371,47.76281],[12.9353,47.74788],[12.91711,47.74026],[12.90274,47.72513],[12.91333,47.7178],[12.92969,47.71094],[12.98578,47.7078],[13.01382,47.72116],[13.07692,47.68814],[13.09562,47.63304],[13.06407,47.60075],[13.06641,47.58577],[13.04537,47.58183],[13.05355,47.56291],[13.03252,47.53373],[13.04537,47.49426],[12.9998,47.46267],[12.98344,47.48716],[12.9624,47.47452],[12.85256,47.52741],[12.84672,47.54556],[12.80699,47.54477],[12.77427,47.58025],[12.82101,47.61493],[12.76492,47.64485],[12.77777,47.66689],[12.7357,47.6787],[12.6071,47.6741],[12.57438,47.63238],[12.53816,47.63553],[12.50076,47.62293],[12.44117,47.6741],[12.43883,47.6977],[12.37222,47.68433],[12.336,47.69534],[12.27991,47.68827],[12.26004,47.67725],[12.24017,47.69534],[12.26238,47.73544],[12.2542,47.7433],[12.22571,47.71776],[12.18303,47.70065],[12.16217,47.70105],[12.16769,47.68167],[12.18347,47.66663],[12.18507,47.65984],[12.19895,47.64085],[12.20801,47.61082],[12.20398,47.60667],[12.18568,47.6049],[12.17737,47.60121],[12.18145,47.61019],[12.17824,47.61506],[12.13734,47.60639],[12.05788,47.61742],[12.02282,47.61033],[12.0088,47.62451],[11.85572,47.60166],[11.84052,47.58354],[11.63934,47.59202],[11.60681,47.57881],[11.58811,47.55515],[11.58578,47.52281],[11.52618,47.50939],[11.4362,47.51413],[11.38128,47.47465],[11.4175,47.44621],[11.33804,47.44937],[11.29597,47.42566],[11.27844,47.39956],[11.22002,47.3964],[11.25157,47.43277],[11.20482,47.43198],[11.12536,47.41222],[11.11835,47.39719],[10.97111,47.39561],[10.97111,47.41617],[10.98513,47.42882],[10.92437,47.46991],[10.93839,47.48018],[10.90918,47.48571],[10.87061,47.4786],[10.86945,47.5015],[10.91268,47.51334],[10.88814,47.53701],[10.77596,47.51729],[10.7596,47.53228],[10.6965,47.54253],[10.68832,47.55752],[10.63456,47.5591],[10.60337,47.56755],[10.56912,47.53584],[10.48849,47.54057],[10.47329,47.58552],[10.43473,47.58394],[10.44992,47.5524],[10.4324,47.50111],[10.44291,47.48453],[10.46278,47.47901],[10.47446,47.43318],[10.4359,47.41183],[10.4324,47.38494],[10.39851,47.37623],[10.33424,47.30813],[10.23257,47.27088],[10.17531,47.27167],[10.17648,47.29149],[10.2147,47.31014],[10.19998,47.32832],[10.23757,47.37609],[10.22774,47.38904],[10.2127,47.38019],[10.17648,47.38889],[10.16362,47.36674],[10.11805,47.37228],[10.09819,47.35724],[10.06897,47.40709],[10.1052,47.4316],[10.09001,47.46005],[10.07131,47.45531],[10.03859,47.48927],[10.00003,47.48216],[9.96029,47.53899],[9.92407,47.53111],[9.87733,47.54688],[9.87499,47.52953],[9.8189,47.54688],[9.82591,47.58158],[9.80254,47.59419],[9.76748,47.5934],[9.72736,47.53457],[9.55125,47.53629],[9.56312,47.49495],[9.58208,47.48344],[9.59482,47.46305],[9.60205,47.46165],[9.60484,47.46358],[9.60841,47.47178],[9.62158,47.45858],[9.62475,47.45685],[9.6423,47.45599],[9.65728,47.45383],[9.65863,47.44847],[9.64483,47.43842],[9.6446,47.43233],[9.65043,47.41937],[9.65136,47.40504],[9.6629,47.39591],[9.67334,47.39191],[9.67445,47.38429],[9.6711,47.37824],[9.66243,47.37136],[9.65427,47.36824],[9.62476,47.36639],[9.59978,47.34671],[9.58513,47.31334],[9.55857,47.29919],[9.54773,47.2809],[9.53116,47.27029],[9.56766,47.24281],[9.55176,47.22585],[9.56981,47.21926],[9.58264,47.20673],[9.56539,47.17124],[9.62623,47.14685],[9.63395,47.08443],[9.61216,47.07732],[9.60717,47.06091],[9.87935,47.01337],[9.88266,46.93343],[9.98058,46.91434],[10.10715,46.84296],[10.22675,46.86942],[10.24128,46.93147],[10.30031,46.92093],[10.36933,47.00212],[10.48376,46.93891],[10.47197,46.85698],[10.54783,46.84505],[10.66405,46.87614],[10.75753,46.82258],[10.72974,46.78972],[11.00764,46.76896],[11.10618,46.92966],[11.33355,46.99862],[11.50739,47.00644],[11.74789,46.98484],[12.19254,47.09331],[12.21781,47.03996],[12.11675,47.01241],[12.2006,46.88854],[12.27591,46.88651],[12.38708,46.71529],[12.59992,46.6595],[12.94445,46.60401],[13.27627,46.56059],[13.64088,46.53438],[13.7148,46.5222],[13.89837,46.52331],[14.00422,46.48474],[14.04002,46.49117],[14.12097,46.47724],[14.15989,46.43327],[14.28326,46.44315],[14.314,46.43327],[14.42608,46.44614],[14.45877,46.41717],[14.52176,46.42617],[14.56463,46.37208],[14.5942,46.43434],[14.66892,46.44936],[14.72185,46.49974],[14.81836,46.51046],[14.83549,46.56614],[14.86419,46.59411],[14.87129,46.61],[14.92283,46.60848],[14.96002,46.63459],[14.98024,46.6009],[15.01451,46.641],[15.14215,46.66131],[15.23711,46.63994],[15.41235,46.65556],[15.45514,46.63697],[15.46906,46.61321],[15.54431,46.6312],[15.55333,46.64988],[15.54533,46.66985],[15.59826,46.68908],[15.62317,46.67947],[15.63255,46.68069],[15.6365,46.6894],[15.6543,46.69228],[15.6543,46.70616],[15.67411,46.70735],[15.69523,46.69823],[15.72279,46.69548],[15.73823,46.70011],[15.76771,46.69863],[15.78518,46.70712],[15.8162,46.71897],[15.87691,46.7211],[15.94864,46.68769],[15.98512,46.68463],[15.99988,46.67947],[16.04036,46.6549],[16.04347,46.68694],[16.02808,46.71094],[15.99769,46.7266],[15.98432,46.74991],[15.99126,46.78199],[15.99054,46.82772],[16.05786,46.83927],[16.10983,46.867],[16.19904,46.94134],[16.22403,46.939],[16.27594,46.9643],[16.28202,47.00159],[16.51369,47.00084],[16.43936,47.03548],[16.52176,47.05747],[16.46134,47.09395],[16.52863,47.13974],[16.44932,47.14418],[16.46442,47.16845],[16.4523,47.18812],[16.42801,47.18422],[16.41739,47.20649],[16.43663,47.21127],[16.44142,47.25079],[16.47782,47.25918],[16.45104,47.41181],[16.49908,47.39416],[16.52414,47.41007],[16.57152,47.40868],[16.6718,47.46139],[16.64821,47.50155],[16.71059,47.52692],[16.64193,47.63114],[16.58699,47.61772],[16.4222,47.66537],[16.55129,47.72268],[16.53514,47.73837],[16.54779,47.75074],[16.61183,47.76171],[16.65679,47.74197],[16.72089,47.73469],[16.7511,47.67878],[16.82938,47.68432],[16.86509,47.72268],[16.87538,47.68895],[17.08893,47.70928],[17.05048,47.79377],[17.07039,47.81129],[17.00997,47.86245],[17.08275,47.87719],[17.11022,47.92461],[17.09786,47.97336],[17.16001,48.00636],[17.07039,48.0317],[17.09168,48.09366],[17.05735,48.14179],[17.02919,48.13996],[16.97701,48.17385],[16.89461,48.31332],[16.90903,48.32519],[16.84243,48.35258],[16.83317,48.38138],[16.83588,48.3844],[16.8497,48.38321],[16.85204,48.44968],[16.94611,48.53614],[16.93955,48.60371],[16.90354,48.71541],[16.79779,48.70998],[16.71883,48.73806],[16.68518,48.7281],[16.67008,48.77699],[16.46134,48.80865],[16.40915,48.74576],[16.37345,48.729],[16.06034,48.75436],[15.84404,48.86921],[15.78087,48.87644],[15.75341,48.8516],[15.6921,48.85973],[15.61622,48.89541],[15.51357,48.91549],[15.48027,48.94481],[15.34823,48.98444]]]]}},{type:"Feature",properties:{iso1A2:"AU",iso1A3:"AUS",iso1N3:"036",wikidata:"Q408",nameEn:"Australia"},geometry:null},{type:"Feature",properties:{iso1A2:"AW",iso1A3:"ABW",iso1N3:"533",wikidata:"Q21203",nameEn:"Aruba",aliases:["NL-AW"],country:"NL",groups:["Q1451600","029","003","419","019","UN"],callingCodes:["297"]},geometry:{type:"MultiPolygon",coordinates:[[[[-70.00823,12.98375],[-70.35625,12.58277],[-69.60231,12.17],[-70.00823,12.98375]]]]}},{type:"Feature",properties:{iso1A2:"AX",iso1A3:"ALA",iso1N3:"248",wikidata:"Q5689",nameEn:"\xc5land Islands",country:"FI",groups:["EU","154","150","UN"],callingCodes:["358 18","358 457"]},geometry:{type:"MultiPolygon",coordinates:[[[[19.08191,60.19152],[20.5104,59.15546],[21.35468,59.67511],[21.02509,60.12142],[21.08159,60.20167],[21.15143,60.54555],[20.96741,60.71528],[19.23413,60.61414],[19.08191,60.19152]]]]}},{type:"Feature",properties:{iso1A2:"AZ",iso1A3:"AZE",iso1N3:"031",wikidata:"Q227",nameEn:"Azerbaijan",groups:["145","142","UN"],callingCodes:["994"]},geometry:{type:"MultiPolygon",coordinates:[[[[46.42738,41.91323],[46.3984,41.84399],[46.30863,41.79133],[46.23962,41.75811],[46.20538,41.77205],[46.17891,41.72094],[46.19759,41.62327],[46.24429,41.59883],[46.26531,41.63339],[46.28182,41.60089],[46.3253,41.60912],[46.34039,41.5947],[46.34126,41.57454],[46.29794,41.5724],[46.33925,41.4963],[46.40307,41.48464],[46.4669,41.43331],[46.63658,41.37727],[46.72375,41.28609],[46.66148,41.20533],[46.63969,41.09515],[46.55096,41.1104],[46.48558,41.0576],[46.456,41.09984],[46.37661,41.10805],[46.27698,41.19011],[46.13221,41.19479],[45.95786,41.17956],[45.80842,41.2229],[45.69946,41.29545],[45.75705,41.35157],[45.71035,41.36208],[45.68389,41.3539],[45.45973,41.45898],[45.4006,41.42402],[45.31352,41.47168],[45.26285,41.46433],[45.1797,41.42231],[45.09867,41.34065],[45.0133,41.29747],[45.05497,41.2464],[45.02932,41.2101],[45.05201,41.19211],[45.11811,41.19967],[45.1969,41.168],[45.19942,41.13299],[45.08028,41.10917],[45.06784,41.05379],[45.12923,41.06059],[45.1313,41.09369],[45.1634,41.08082],[45.16493,41.05068],[45.1994,41.04518],[45.25897,41.0027],[45.26162,41.0228],[45.28859,41.03757],[45.35677,40.99784],[45.39725,41.02603],[45.44083,41.01663],[45.40814,40.97904],[45.60584,40.87436],[45.55914,40.78366],[45.4206,40.7424],[45.35366,40.65979],[45.45484,40.57707],[45.42994,40.53804],[45.65098,40.37696],[45.95609,40.27846],[45.97944,40.181],[45.83779,39.98925],[45.78642,40.03218],[45.59806,40.0131],[45.60895,39.97733],[45.7833,39.9475],[45.82533,39.82925],[45.96543,39.78859],[46.18493,39.60533],[46.40286,39.63651],[46.42465,39.57534],[46.52117,39.58734],[46.57098,39.56694],[46.57721,39.54414],[46.51027,39.52373],[46.53051,39.47809],[46.4013,39.45405],[46.37795,39.42039],[46.43244,39.35181],[46.50093,39.33736],[46.56476,39.24942],[46.63481,39.23013],[46.58032,39.21204],[46.54141,39.15895],[46.52584,39.18912],[46.44022,39.19636],[46.54296,39.07078],[46.51805,38.94982],[46.53497,38.86548],[46.75752,39.03231],[46.83822,39.13143],[46.92539,39.16644],[46.95341,39.13505],[47.05771,39.20143],[47.05927,39.24846],[47.31301,39.37492],[47.38978,39.45999],[47.50099,39.49615],[47.84774,39.66285],[47.98977,39.70999],[48.34264,39.42935],[48.37385,39.37584],[48.15984,39.30028],[48.12404,39.25208],[48.15361,39.19419],[48.31239,39.09278],[48.33884,39.03022],[48.28437,38.97186],[48.08627,38.94434],[48.07734,38.91616],[48.01409,38.90333],[48.02581,38.82705],[48.24773,38.71883],[48.3146,38.59958],[48.45084,38.61013],[48.58793,38.45076],[48.62217,38.40198],[48.70001,38.40564],[48.78979,38.45026],[48.81072,38.44853],[48.84969,38.45015],[48.88288,38.43975],[52.39847,39.43556],[48.80971,41.95365],[48.5867,41.84306],[48.55078,41.77917],[48.42301,41.65444],[48.40277,41.60441],[48.2878,41.56221],[48.22064,41.51472],[48.07587,41.49957],[47.87973,41.21798],[47.75831,41.19455],[47.62288,41.22969],[47.54504,41.20275],[47.49004,41.26366],[47.34579,41.27884],[47.10762,41.59044],[47.03757,41.55434],[46.99554,41.59743],[47.00955,41.63583],[46.8134,41.76252],[46.75269,41.8623],[46.58924,41.80547],[46.5332,41.87389],[46.42738,41.91323]],[[45.50279,40.58424],[45.47927,40.65023],[45.51825,40.67382],[45.56071,40.64765],[45.50279,40.58424]]],[[[45.00864,41.03411],[45.03792,41.03938],[45.04517,41.06653],[45.03406,41.07931],[45.00864,41.09407],[44.97169,41.09176],[44.95383,41.07553],[44.96031,41.06345],[44.9903,41.05657],[45.00864,41.03411]]],[[[45.21324,40.9817],[45.23095,40.97828],[45.23487,41.00226],[45.20625,41.01484],[45.18382,41.0066],[45.19312,40.98998],[45.20518,40.99348],[45.21219,40.99001],[45.21324,40.9817]]],[[[45.46992,39.49888],[45.29606,39.57654],[45.30385,39.61373],[45.23535,39.61373],[45.21784,39.58074],[45.17464,39.58614],[45.18554,39.67846],[45.06604,39.79277],[44.92869,39.72157],[44.88354,39.74432],[44.75779,39.7148],[44.80977,39.65768],[44.81043,39.62677],[44.88916,39.59653],[44.96746,39.42998],[45.05932,39.36435],[45.08751,39.35052],[45.16168,39.21952],[45.30489,39.18333],[45.40148,39.09007],[45.40452,39.07224],[45.44811,39.04927],[45.44966,38.99243],[45.6131,38.964],[45.6155,38.94304],[45.65172,38.95199],[45.83883,38.90768],[45.90266,38.87739],[45.94624,38.89072],[46.00228,38.87376],[46.06766,38.87861],[46.14785,38.84206],[46.06973,39.0744],[46.02303,39.09978],[45.99774,39.28931],[45.79225,39.3695],[45.83,39.46487],[45.80804,39.56716],[45.70547,39.60174],[45.46992,39.49888]]]]}},{type:"Feature",properties:{iso1A2:"BA",iso1A3:"BIH",iso1N3:"070",wikidata:"Q225",nameEn:"Bosnia and Herzegovina",groups:["039","150","UN"],callingCodes:["387"]},geometry:{type:"MultiPolygon",coordinates:[[[[17.84826,45.04489],[17.66571,45.13408],[17.59104,45.10816],[17.51469,45.10791],[17.47589,45.12656],[17.45615,45.12523],[17.4498,45.16119],[17.41229,45.13335],[17.33573,45.14521],[17.32092,45.16246],[17.26815,45.18444],[17.25131,45.14957],[17.24325,45.146],[17.18438,45.14764],[17.0415,45.20759],[16.9385,45.22742],[16.92405,45.27607],[16.83804,45.18951],[16.81137,45.18434],[16.78219,45.19002],[16.74845,45.20393],[16.64962,45.20714],[16.60194,45.23042],[16.56559,45.22307],[16.5501,45.2212],[16.52982,45.22713],[16.49155,45.21153],[16.4634,45.14522],[16.40023,45.1147],[16.38309,45.05955],[16.38219,45.05139],[16.3749,45.05206],[16.35863,45.03529],[16.35404,45.00241],[16.29036,44.99732],[16.12153,45.09616],[15.98412,45.23088],[15.83512,45.22459],[15.76371,45.16508],[15.78842,45.11519],[15.74585,45.0638],[15.78568,44.97401],[15.74723,44.96818],[15.76096,44.87045],[15.79472,44.8455],[15.72584,44.82334],[15.8255,44.71501],[15.89348,44.74964],[16.05828,44.61538],[16.00884,44.58605],[16.03012,44.55572],[16.10566,44.52586],[16.16814,44.40679],[16.12969,44.38275],[16.21346,44.35231],[16.18688,44.27012],[16.36864,44.08263],[16.43662,44.07523],[16.43629,44.02826],[16.50528,44.0244],[16.55472,43.95326],[16.70922,43.84887],[16.75316,43.77157],[16.80736,43.76011],[17.00585,43.58037],[17.15828,43.49376],[17.24411,43.49376],[17.29699,43.44542],[17.25579,43.40353],[17.286,43.33065],[17.46986,43.16559],[17.64268,43.08595],[17.70879,42.97223],[17.5392,42.92787],[17.6444,42.88641],[17.68151,42.92725],[17.7948,42.89556],[17.80854,42.9182],[17.88201,42.83668],[18.24318,42.6112],[18.36197,42.61423],[18.43735,42.55921],[18.49778,42.58409],[18.53751,42.57376],[18.55504,42.58409],[18.52232,42.62279],[18.57373,42.64429],[18.54841,42.68328],[18.54603,42.69171],[18.55221,42.69045],[18.56789,42.72074],[18.47324,42.74992],[18.45921,42.81682],[18.47633,42.85829],[18.4935,42.86433],[18.49661,42.89306],[18.49076,42.95553],[18.52232,43.01451],[18.66254,43.03928],[18.64735,43.14766],[18.66605,43.2056],[18.71747,43.2286],[18.6976,43.25243],[18.76538,43.29838],[18.85342,43.32426],[18.84794,43.33735],[18.83912,43.34795],[18.90911,43.36383],[18.95819,43.32899],[18.95001,43.29327],[19.00844,43.24988],[19.04233,43.30008],[19.08206,43.29668],[19.08673,43.31453],[19.04071,43.397],[19.01078,43.43854],[18.96053,43.45042],[18.95469,43.49367],[18.91379,43.50299],[19.01078,43.55806],[19.04934,43.50384],[19.13933,43.5282],[19.15685,43.53943],[19.22807,43.5264],[19.24774,43.53061],[19.2553,43.5938],[19.33426,43.58833],[19.36653,43.60921],[19.41941,43.54056],[19.42696,43.57987],[19.50455,43.58385],[19.5176,43.71403],[19.3986,43.79668],[19.23465,43.98764],[19.24363,44.01502],[19.38439,43.96611],[19.52515,43.95573],[19.56498,43.99922],[19.61836,44.01464],[19.61991,44.05254],[19.57467,44.04716],[19.55999,44.06894],[19.51167,44.08158],[19.47321,44.1193],[19.48386,44.14332],[19.47338,44.15034],[19.43905,44.13088],[19.40927,44.16722],[19.3588,44.18353],[19.34773,44.23244],[19.32464,44.27185],[19.26945,44.26957],[19.23306,44.26097],[19.20508,44.2917],[19.18328,44.28383],[19.16741,44.28648],[19.13332,44.31492],[19.13556,44.338],[19.11547,44.34218],[19.1083,44.3558],[19.11865,44.36712],[19.10298,44.36924],[19.10365,44.37795],[19.10704,44.38249],[19.10749,44.39421],[19.11785,44.40313],[19.14681,44.41463],[19.14837,44.45253],[19.12278,44.50132],[19.13369,44.52521],[19.16699,44.52197],[19.26388,44.65412],[19.32543,44.74058],[19.36722,44.88164],[19.18183,44.92055],[19.01994,44.85493],[18.8704,44.85097],[18.76347,44.90669],[18.76369,44.93707],[18.80661,44.93561],[18.78357,44.97741],[18.65723,45.07544],[18.47939,45.05871],[18.41896,45.11083],[18.32077,45.1021],[18.24387,45.13699],[18.1624,45.07654],[18.03121,45.12632],[18.01594,45.15163],[17.99479,45.14958],[17.97834,45.13831],[17.97336,45.12245],[17.93706,45.08016],[17.87148,45.04645],[17.84826,45.04489]]]]}},{type:"Feature",properties:{iso1A2:"BB",iso1A3:"BRB",iso1N3:"052",wikidata:"Q244",nameEn:"Barbados",groups:["029","003","419","019","UN"],driveSide:"left",callingCodes:["1 246"]},geometry:{type:"MultiPolygon",coordinates:[[[[-58.56442,13.24471],[-59.80731,13.87556],[-59.82929,12.70644],[-58.56442,13.24471]]]]}},{type:"Feature",properties:{iso1A2:"BD",iso1A3:"BGD",iso1N3:"050",wikidata:"Q902",nameEn:"Bangladesh",groups:["034","142","UN"],driveSide:"left",callingCodes:["880"]},geometry:{type:"MultiPolygon",coordinates:[[[[89.15869,26.13708],[89.08899,26.38845],[88.95612,26.4564],[88.92357,26.40711],[88.91321,26.37984],[89.05328,26.2469],[88.85004,26.23211],[88.78961,26.31093],[88.67837,26.26291],[88.69485,26.38353],[88.62144,26.46783],[88.4298,26.54489],[88.41196,26.63837],[88.33093,26.48929],[88.35153,26.45241],[88.36938,26.48683],[88.48749,26.45855],[88.51649,26.35923],[88.35153,26.29123],[88.34757,26.22216],[88.1844,26.14417],[88.16581,26.0238],[88.08804,25.91334],[88.13138,25.78773],[88.242,25.80811],[88.45103,25.66245],[88.4559,25.59227],[88.677,25.46959],[88.81296,25.51546],[88.85278,25.34679],[89.01105,25.30303],[89.00463,25.26583],[88.94067,25.18534],[88.44766,25.20149],[88.46277,25.07468],[88.33917,24.86803],[88.27325,24.88796],[88.21832,24.96642],[88.14004,24.93529],[88.15515,24.85806],[88.00683,24.66477],[88.08786,24.63232],[88.12296,24.51301],[88.50934,24.32474],[88.68801,24.31464],[88.74841,24.1959],[88.6976,24.14703],[88.73743,23.91751],[88.66189,23.87607],[88.58087,23.87105],[88.56507,23.64044],[88.74841,23.47361],[88.79351,23.50535],[88.79254,23.46028],[88.71133,23.2492],[88.99148,23.21134],[88.86377,23.08759],[88.88327,23.03885],[88.87063,22.95235],[88.96713,22.83346],[88.9151,22.75228],[88.94614,22.66941],[88.9367,22.58527],[89.07114,22.15335],[89.08044,21.41871],[92.47409,20.38654],[92.26071,21.05697],[92.17752,21.17445],[92.20087,21.337],[92.37939,21.47764],[92.43158,21.37025],[92.55105,21.3856],[92.60187,21.24615],[92.68152,21.28454],[92.59775,21.6092],[92.62187,21.87037],[92.60949,21.97638],[92.56616,22.13554],[92.60029,22.1522],[92.5181,22.71441],[92.37665,22.9435],[92.38214,23.28705],[92.26541,23.70392],[92.15417,23.73409],[92.04706,23.64229],[91.95093,23.73284],[91.95642,23.47361],[91.84789,23.42235],[91.76417,23.26619],[91.81634,23.08001],[91.7324,23.00043],[91.61571,22.93929],[91.54993,23.01051],[91.46615,23.2328],[91.4035,23.27522],[91.40848,23.07117],[91.36453,23.06612],[91.28293,23.37538],[91.15579,23.6599],[91.25192,23.83463],[91.22308,23.89616],[91.29587,24.0041],[91.35741,23.99072],[91.37414,24.10693],[91.55542,24.08687],[91.63782,24.1132],[91.65292,24.22095],[91.73257,24.14703],[91.76004,24.23848],[91.82596,24.22345],[91.89258,24.14674],[91.96603,24.3799],[92.11662,24.38997],[92.15796,24.54435],[92.25854,24.9191],[92.38626,24.86055],[92.49887,24.88796],[92.39147,25.01471],[92.33957,25.07593],[92.0316,25.1834],[91.63648,25.12846],[91.25517,25.20677],[90.87427,25.15799],[90.65042,25.17788],[90.40034,25.1534],[90.1155,25.22686],[89.90478,25.31038],[89.87629,25.28337],[89.83371,25.29548],[89.84086,25.31854],[89.81208,25.37244],[89.86129,25.61714],[89.84388,25.70042],[89.80585,25.82489],[89.86592,25.93115],[89.77728,26.04254],[89.77865,26.08387],[89.73581,26.15818],[89.70201,26.15138],[89.63968,26.22595],[89.57101,25.9682],[89.53515,26.00382],[89.35953,26.0077],[89.15869,26.13708]]]]}},{type:"Feature",properties:{iso1A2:"BE",iso1A3:"BEL",iso1N3:"056",wikidata:"Q31",nameEn:"Belgium",groups:["EU","155","150","UN"],callingCodes:["32"]},geometry:{type:"MultiPolygon",coordinates:[[[[4.93295,51.44945],[4.93909,51.44632],[4.9524,51.45014],[4.95244,51.45207],[4.93295,51.44945]]],[[[4.91493,51.4353],[4.92652,51.43329],[4.92952,51.42984],[4.93986,51.43064],[4.94265,51.44003],[4.93471,51.43861],[4.93416,51.44185],[4.94025,51.44193],[4.93544,51.44634],[4.92879,51.44161],[4.92815,51.43856],[4.92566,51.44273],[4.92811,51.4437],[4.92287,51.44741],[4.91811,51.44621],[4.92227,51.44252],[4.91935,51.43634],[4.91493,51.4353]]],[[[4.82946,51.4213],[4.82409,51.44736],[4.84139,51.4799],[4.78803,51.50284],[4.77321,51.50529],[4.74578,51.48937],[4.72935,51.48424],[4.65442,51.42352],[4.57489,51.4324],[4.53521,51.4243],[4.52846,51.45002],[4.54675,51.47265],[4.5388,51.48184],[4.47736,51.4778],[4.38122,51.44905],[4.39747,51.43316],[4.38064,51.41965],[4.43777,51.36989],[4.39292,51.35547],[4.34086,51.35738],[4.33265,51.37687],[4.21923,51.37443],[4.24024,51.35371],[4.16721,51.29348],[4.05165,51.24171],[4.01957,51.24504],[3.97889,51.22537],[3.90125,51.20371],[3.78783,51.2151],[3.78999,51.25766],[3.58939,51.30064],[3.51502,51.28697],[3.52698,51.2458],[3.43488,51.24135],[3.41704,51.25933],[3.38289,51.27331],[3.35847,51.31572],[3.38696,51.33436],[3.36263,51.37112],[2.56575,51.85301],[2.18458,51.52087],[2.55904,51.07014],[2.57551,51.00326],[2.63074,50.94746],[2.59093,50.91751],[2.63331,50.81457],[2.71165,50.81295],[2.81056,50.71773],[2.8483,50.72276],[2.86985,50.7033],[2.87937,50.70298],[2.88504,50.70656],[2.90069,50.69263],[2.91036,50.6939],[2.90873,50.702],[2.95019,50.75138],[2.96778,50.75242],[3.00537,50.76588],[3.04314,50.77674],[3.09163,50.77717],[3.10614,50.78303],[3.11206,50.79416],[3.11987,50.79188],[3.1257,50.78603],[3.15017,50.79031],[3.16476,50.76843],[3.18339,50.74981],[3.18811,50.74025],[3.20064,50.73547],[3.19017,50.72569],[3.20845,50.71662],[3.22042,50.71019],[3.24593,50.71389],[3.26063,50.70086],[3.26141,50.69151],[3.2536,50.68977],[3.264,50.67668],[3.23951,50.6585],[3.2729,50.60718],[3.28575,50.52724],[3.37693,50.49538],[3.44629,50.51009],[3.47385,50.53397],[3.51564,50.5256],[3.49509,50.48885],[3.5683,50.50192],[3.58361,50.49049],[3.61014,50.49568],[3.64426,50.46275],[3.66153,50.45165],[3.67494,50.40239],[3.67262,50.38663],[3.65709,50.36873],[3.66976,50.34563],[3.71009,50.30305],[3.70987,50.3191],[3.73911,50.34809],[3.84314,50.35219],[3.90781,50.32814],[3.96771,50.34989],[4.0268,50.35793],[4.0689,50.3254],[4.10237,50.31247],[4.10957,50.30234],[4.11954,50.30425],[4.13665,50.25609],[4.16808,50.25786],[4.15524,50.2833],[4.17347,50.28838],[4.17861,50.27443],[4.20651,50.27333],[4.21945,50.25539],[4.15524,50.21103],[4.16014,50.19239],[4.13561,50.13078],[4.20147,50.13535],[4.23101,50.06945],[4.16294,50.04719],[4.13508,50.01976],[4.14239,49.98034],[4.20532,49.95803],[4.31963,49.97043],[4.35051,49.95315],[4.43488,49.94122],[4.51098,49.94659],[4.5414,49.96911],[4.68695,49.99685],[4.70064,50.09384],[4.75237,50.11314],[4.82438,50.16878],[4.83279,50.15331],[4.88602,50.15182],[4.8382,50.06738],[4.78827,49.95609],[4.88529,49.9236],[4.85134,49.86457],[4.86965,49.82271],[4.85464,49.78995],[4.96714,49.79872],[5.09249,49.76193],[5.14545,49.70287],[5.26232,49.69456],[5.31465,49.66846],[5.33039,49.6555],[5.30214,49.63055],[5.3137,49.61225],[5.33851,49.61599],[5.34837,49.62889],[5.3974,49.61596],[5.43713,49.5707],[5.46734,49.52648],[5.46541,49.49825],[5.55001,49.52729],[5.60909,49.51228],[5.64505,49.55146],[5.75649,49.54321],[5.7577,49.55915],[5.77435,49.56298],[5.79195,49.55228],[5.81838,49.54777],[5.84143,49.5533],[5.84692,49.55663],[5.8424,49.56082],[5.87256,49.57539],[5.86986,49.58756],[5.84971,49.58674],[5.84826,49.5969],[5.8762,49.60898],[5.87609,49.62047],[5.88393,49.62802],[5.88552,49.63507],[5.90599,49.63853],[5.90164,49.6511],[5.9069,49.66377],[5.86175,49.67862],[5.86527,49.69291],[5.88677,49.70951],[5.86503,49.72739],[5.84193,49.72161],[5.82562,49.72395],[5.83149,49.74729],[5.82245,49.75048],[5.78871,49.7962],[5.75409,49.79239],[5.74953,49.81428],[5.74364,49.82058],[5.74844,49.82435],[5.7404,49.83452],[5.74076,49.83823],[5.74975,49.83933],[5.74953,49.84709],[5.75884,49.84811],[5.74567,49.85368],[5.75861,49.85631],[5.75269,49.8711],[5.78415,49.87922],[5.73621,49.89796],[5.77314,49.93646],[5.77291,49.96056],[5.80833,49.96451],[5.81163,49.97142],[5.83467,49.97823],[5.83968,49.9892],[5.82331,49.99662],[5.81866,50.01286],[5.8551,50.02683],[5.86904,50.04614],[5.85474,50.06342],[5.8857,50.07824],[5.89488,50.11476],[5.95929,50.13295],[5.96453,50.17259],[6.02488,50.18283],[6.03093,50.16362],[6.06406,50.15344],[6.08577,50.17246],[6.12028,50.16374],[6.1137,50.13668],[6.1379,50.12964],[6.15298,50.14126],[6.14132,50.14971],[6.14588,50.17106],[6.18739,50.1822],[6.18364,50.20815],[6.16853,50.2234],[6.208,50.25179],[6.28797,50.27458],[6.29949,50.30887],[6.32488,50.32333],[6.35701,50.31139],[6.40641,50.32425],[6.40785,50.33557],[6.3688,50.35898],[6.34406,50.37994],[6.36852,50.40776],[6.37219,50.45397],[6.34005,50.46083],[6.3465,50.48833],[6.30809,50.50058],[6.26637,50.50272],[6.22335,50.49578],[6.20599,50.52089],[6.19193,50.5212],[6.18716,50.52653],[6.19579,50.5313],[6.19735,50.53576],[6.17802,50.54179],[6.17739,50.55875],[6.20281,50.56952],[6.22581,50.5907],[6.24005,50.58732],[6.24888,50.59869],[6.2476,50.60392],[6.26957,50.62444],[6.17852,50.6245],[6.11707,50.72231],[6.04428,50.72861],[6.0406,50.71848],[6.0326,50.72647],[6.03889,50.74618],[6.01976,50.75398],[5.97545,50.75441],[5.95942,50.7622],[5.89132,50.75124],[5.89129,50.75125],[5.88734,50.77092],[5.84888,50.75448],[5.84548,50.76542],[5.80673,50.7558],[5.77513,50.78308],[5.76533,50.78159],[5.74356,50.7691],[5.73904,50.75674],[5.72216,50.76398],[5.69469,50.75529],[5.68091,50.75804],[5.70107,50.7827],[5.68995,50.79641],[5.70118,50.80764],[5.65259,50.82309],[5.64009,50.84742],[5.64504,50.87107],[5.67886,50.88142],[5.69858,50.91046],[5.71626,50.90796],[5.72644,50.91167],[5.72545,50.92312],[5.74644,50.94723],[5.75927,50.95601],[5.74752,50.96202],[5.72875,50.95428],[5.71864,50.96092],[5.76242,50.99703],[5.77688,51.02483],[5.75961,51.03113],[5.77258,51.06196],[5.79835,51.05834],[5.79903,51.09371],[5.82921,51.09328],[5.83226,51.10585],[5.8109,51.10861],[5.80798,51.11661],[5.85508,51.14445],[5.82564,51.16753],[5.77697,51.1522],[5.77735,51.17845],[5.74617,51.18928],[5.70344,51.1829],[5.65528,51.18736],[5.65145,51.19788],[5.5603,51.22249],[5.5569,51.26544],[5.515,51.29462],[5.48476,51.30053],[5.46519,51.2849],[5.4407,51.28169],[5.41672,51.26248],[5.347,51.27502],[5.33886,51.26314],[5.29716,51.26104],[5.26461,51.26693],[5.23814,51.26064],[5.22542,51.26888],[5.24244,51.30495],[5.2002,51.32243],[5.16222,51.31035],[5.13377,51.31592],[5.13105,51.34791],[5.07102,51.39469],[5.10456,51.43163],[5.07891,51.4715],[5.04774,51.47022],[5.03281,51.48679],[5.0106,51.47167],[5.00393,51.44406],[4.92152,51.39487],[4.90016,51.41404],[4.84988,51.41502],[4.78941,51.41102],[4.77229,51.41337],[4.76577,51.43046],[4.78314,51.43319],[4.82946,51.4213]]]]}},{type:"Feature",properties:{iso1A2:"BF",iso1A3:"BFA",iso1N3:"854",wikidata:"Q965",nameEn:"Burkina Faso",groups:["011","202","002","UN"],callingCodes:["226"]},geometry:{type:"MultiPolygon",coordinates:[[[[.23859,15.00135],[.06588,14.96961],[-.24673,15.07805],[-.72004,15.08655],[-1.05875,14.7921],[-1.32166,14.72774],[-1.68083,14.50023],[-1.97945,14.47709],[-1.9992,14.19011],[-2.10223,14.14878],[-2.47587,14.29671],[-2.66175,14.14713],[-2.84667,14.05532],[-2.90831,13.81174],[-2.88189,13.64921],[-3.26407,13.70699],[-3.28396,13.5422],[-3.23599,13.29035],[-3.43507,13.27272],[-3.4313,13.1588],[-3.54454,13.1781],[-3.7911,13.36665],[-3.96282,13.38164],[-3.90558,13.44375],[-3.96501,13.49778],[-4.34477,13.12927],[-4.21819,12.95722],[-4.238,12.71467],[-4.47356,12.71252],[-4.41412,12.31922],[-4.57703,12.19875],[-4.54841,12.1385],[-4.62546,12.13204],[-4.62987,12.06531],[-4.70692,12.06746],[-4.72893,12.01579],[-5.07897,11.97918],[-5.26389,11.84778],[-5.40258,11.8327],[-5.26389,11.75728],[-5.29251,11.61715],[-5.22867,11.60421],[-5.20665,11.43811],[-5.25509,11.36905],[-5.25949,11.24816],[-5.32553,11.21578],[-5.32994,11.13371],[-5.49284,11.07538],[-5.41579,10.84628],[-5.47083,10.75329],[-5.46643,10.56074],[-5.51058,10.43177],[-5.39602,10.2929],[-5.12465,10.29788],[-4.96453,9.99923],[-4.96621,9.89132],[-4.6426,9.70696],[-4.31392,9.60062],[-4.25999,9.76012],[-3.69703,9.94279],[-3.31779,9.91125],[-3.27228,9.84981],[-3.19306,9.93781],[-3.16609,9.85147],[-3.00765,9.74019],[-2.93012,9.57403],[-2.76494,9.40778],[-2.68802,9.49343],[-2.76534,9.56589],[-2.74174,9.83172],[-2.83108,10.40252],[-2.94232,10.64281],[-2.83373,11.0067],[-.67143,10.99811],[-.61937,10.91305],[-.44298,11.04292],[-.42391,11.11661],[-.38219,11.12596],[-.35955,11.07801],[-.28566,11.12713],[-.27374,11.17157],[-.13493,11.14075],[.50388,11.01011],[.48852,10.98561],[.50521,10.98035],[.4958,10.93269],[.66104,10.99964],[.91245,10.99597],[.9813,11.08876],[1.03409,11.04719],[1.42823,11.46822],[2.00988,11.42227],[2.29983,11.68254],[2.39723,11.89473],[2.05785,12.35539],[2.26349,12.41915],[.99167,13.10727],[.99253,13.37515],[1.18873,13.31771],[1.21217,13.37853],[1.24516,13.33968],[1.28509,13.35488],[1.24429,13.39373],[1.20088,13.38951],[1.02813,13.46635],[.99514,13.5668],[.77637,13.64442],[.77377,13.6866],[.61924,13.68491],[.38051,14.05575],[.16936,14.51654],[.23859,15.00135]]]]}},{type:"Feature",properties:{iso1A2:"BG",iso1A3:"BGR",iso1N3:"100",wikidata:"Q219",nameEn:"Bulgaria",groups:["EU","151","150","UN"],callingCodes:["359"]},geometry:{type:"MultiPolygon",coordinates:[[[[23.05288,43.79494],[22.85314,43.84452],[22.83753,43.88055],[22.87873,43.9844],[23.01674,44.01946],[23.04988,44.07694],[22.67173,44.21564],[22.61711,44.16938],[22.61688,44.06534],[22.41449,44.00514],[22.35558,43.81281],[22.41043,43.69566],[22.47582,43.6558],[22.53397,43.47225],[22.82036,43.33665],[22.89727,43.22417],[23.00806,43.19279],[22.98104,43.11199],[22.89521,43.03625],[22.78397,42.98253],[22.74826,42.88701],[22.54302,42.87774],[22.43309,42.82057],[22.4997,42.74144],[22.43983,42.56851],[22.55669,42.50144],[22.51961,42.3991],[22.47498,42.3915],[22.45919,42.33822],[22.34773,42.31725],[22.38136,42.30339],[22.47251,42.20393],[22.50289,42.19527],[22.51224,42.15457],[22.67701,42.06614],[22.86749,42.02275],[22.90254,41.87587],[22.96682,41.77137],[23.01239,41.76527],[23.03342,41.71034],[22.95513,41.63265],[22.96331,41.35782],[22.93334,41.34104],[23.1833,41.31755],[23.21953,41.33773],[23.22771,41.37106],[23.31301,41.40525],[23.33639,41.36317],[23.40416,41.39999],[23.52453,41.40262],[23.63203,41.37632],[23.67644,41.41139],[23.76525,41.40175],[23.80148,41.43943],[23.89613,41.45257],[23.91483,41.47971],[23.96975,41.44118],[24.06908,41.46132],[24.06323,41.53222],[24.10063,41.54796],[24.18126,41.51735],[24.27124,41.57682],[24.30513,41.51297],[24.52599,41.56808],[24.61129,41.42278],[24.71529,41.41928],[24.8041,41.34913],[24.82514,41.4035],[24.86136,41.39298],[24.90928,41.40876],[24.942,41.38685],[25.11611,41.34212],[25.28322,41.23411],[25.48187,41.28506],[25.52394,41.2798],[25.55082,41.31667],[25.61042,41.30614],[25.66183,41.31316],[25.70507,41.29209],[25.8266,41.34563],[25.87919,41.30526],[26.12926,41.35878],[26.16548,41.42278],[26.20288,41.43943],[26.14796,41.47533],[26.176,41.50072],[26.17951,41.55409],[26.14328,41.55496],[26.15146,41.60828],[26.07083,41.64584],[26.06148,41.70345],[26.16841,41.74858],[26.21325,41.73223],[26.22888,41.74139],[26.2654,41.71544],[26.30255,41.70925],[26.35957,41.71149],[26.32952,41.73637],[26.33589,41.76802],[26.36952,41.82265],[26.53968,41.82653],[26.57961,41.90024],[26.56051,41.92995],[26.62996,41.97644],[26.79143,41.97386],[26.95638,42.00741],[27.03277,42.0809],[27.08486,42.08735],[27.19251,42.06028],[27.22376,42.10152],[27.27411,42.10409],[27.45478,41.96591],[27.52379,41.93756],[27.55191,41.90928],[27.69949,41.97515],[27.81235,41.94803],[27.83492,41.99709],[27.91479,41.97902],[28.02971,41.98066],[28.32297,41.98371],[29.24336,43.70874],[28.23293,43.76],[27.99558,43.84193],[27.92008,44.00761],[27.73468,43.95326],[27.64542,44.04958],[27.60834,44.01206],[27.39757,44.0141],[27.26845,44.12602],[26.95141,44.13555],[26.62712,44.05698],[26.38764,44.04356],[26.10115,43.96908],[26.05584,43.90925],[25.94911,43.85745],[25.72792,43.69263],[25.39528,43.61866],[25.17144,43.70261],[25.10718,43.6831],[24.96682,43.72693],[24.73542,43.68523],[24.62281,43.74082],[24.50264,43.76314],[24.35364,43.70211],[24.18149,43.68218],[23.73978,43.80627],[23.61687,43.79289],[23.4507,43.84936],[23.26772,43.84843],[23.05288,43.79494]]]]}},{type:"Feature",properties:{iso1A2:"BH",iso1A3:"BHR",iso1N3:"048",wikidata:"Q398",nameEn:"Bahrain",groups:["145","142","UN"],callingCodes:["973"]},geometry:{type:"MultiPolygon",coordinates:[[[[50.93865,26.30758],[50.71771,26.73086],[50.38162,26.53976],[50.26923,26.08243],[50.302,25.87592],[50.57069,25.57887],[50.80824,25.54641],[50.7801,25.595],[50.86149,25.6965],[50.81266,25.88946],[50.93865,26.30758]]]]}},{type:"Feature",properties:{iso1A2:"BI",iso1A3:"BDI",iso1N3:"108",wikidata:"Q967",nameEn:"Burundi",groups:["014","202","002","UN"],callingCodes:["257"]},geometry:{type:"MultiPolygon",coordinates:[[[[30.54501,-2.41404],[30.42933,-2.31064],[30.14034,-2.43626],[29.95911,-2.33348],[29.88237,-2.75105],[29.36805,-2.82933],[29.32234,-2.6483],[29.0562,-2.58632],[29.04081,-2.7416],[29.00167,-2.78523],[29.00404,-2.81978],[29.0505,-2.81774],[29.09119,-2.87871],[29.09797,-2.91935],[29.16037,-2.95457],[29.17258,-2.99385],[29.25633,-3.05471],[29.21463,-3.3514],[29.23708,-3.75856],[29.43673,-4.44845],[29.63827,-4.44681],[29.75109,-4.45836],[29.77289,-4.41733],[29.82885,-4.36153],[29.88172,-4.35743],[30.03323,-4.26631],[30.22042,-4.01738],[30.45915,-3.56532],[30.84165,-3.25152],[30.83823,-2.97837],[30.6675,-2.98987],[30.57926,-2.89791],[30.4987,-2.9573],[30.40662,-2.86151],[30.52747,-2.65841],[30.41789,-2.66266],[30.54501,-2.41404]]]]}},{type:"Feature",properties:{iso1A2:"BJ",iso1A3:"BEN",iso1N3:"204",wikidata:"Q962",nameEn:"Benin",aliases:["DY"],groups:["011","202","002","UN"],callingCodes:["229"]},geometry:{type:"MultiPolygon",coordinates:[[[[3.59375,11.70269],[3.48187,11.86092],[3.31613,11.88495],[3.25352,12.01467],[2.83978,12.40585],[2.6593,12.30631],[2.37783,12.24804],[2.39657,12.10952],[2.45824,11.98672],[2.39723,11.89473],[2.29983,11.68254],[2.00988,11.42227],[1.42823,11.46822],[1.03409,11.04719],[.9813,11.08876],[.91245,10.99597],[.8804,10.803],[.80358,10.71459],[.77666,10.37665],[1.35507,9.99525],[1.36624,9.5951],[1.33675,9.54765],[1.41746,9.3226],[1.5649,9.16941],[1.61838,9.0527],[1.64249,6.99562],[1.55877,6.99737],[1.61812,6.74843],[1.58105,6.68619],[1.76906,6.43189],[1.79826,6.28221],[1.62913,6.24075],[1.67336,6.02702],[2.74181,6.13349],[2.70566,6.38038],[2.70464,6.50831],[2.74334,6.57291],[2.7325,6.64057],[2.78204,6.70514],[2.78823,6.76356],[2.73405,6.78508],[2.74024,6.92802],[2.71702,6.95722],[2.76965,7.13543],[2.74489,7.42565],[2.79442,7.43486],[2.78668,7.5116],[2.73405,7.5423],[2.73095,7.7755],[2.67523,7.87825],[2.77907,9.06924],[3.08017,9.10006],[3.14147,9.28375],[3.13928,9.47167],[3.25093,9.61632],[3.34726,9.70696],[3.32099,9.78032],[3.35383,9.83641],[3.54429,9.87739],[3.66908,10.18136],[3.57275,10.27185],[3.6844,10.46351],[3.78292,10.40538],[3.84243,10.59316],[3.71505,11.13015],[3.49175,11.29765],[3.59375,11.70269]]]]}},{type:"Feature",properties:{iso1A2:"BL",iso1A3:"BLM",iso1N3:"652",wikidata:"Q25362",nameEn:"Saint-Barth\xe9lemy",country:"FR",groups:["Q1451600","029","003","419","019","UN"],callingCodes:["590"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.62718,18.26185],[-63.1055,17.86651],[-62.34423,17.49165],[-62.62718,18.26185]]]]}},{type:"Feature",properties:{iso1A2:"BM",iso1A3:"BMU",iso1N3:"060",wikidata:"Q23635",nameEn:"Bermuda",country:"GB",groups:["BOTS","021","003","019","UN"],driveSide:"left",callingCodes:["1 441"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.20987,32.6953],[-65.31453,32.68437],[-65.63955,31.43417],[-63.20987,32.6953]]]]}},{type:"Feature",properties:{iso1A2:"BN",iso1A3:"BRN",iso1N3:"096",wikidata:"Q921",nameEn:"Brunei",groups:["Q36117","035","142","UN"],driveSide:"left",callingCodes:["673"]},geometry:{type:"MultiPolygon",coordinates:[[[[115.16236,5.01011],[115.02521,5.35005],[114.10166,4.76112],[114.07448,4.58441],[114.15813,4.57],[114.26876,4.49878],[114.32176,4.34942],[114.32176,4.2552],[114.4416,4.27588],[114.49922,4.13108],[114.64211,4.00694],[114.78539,4.12205],[114.88039,4.4257],[114.83189,4.42387],[114.77303,4.72871],[114.8266,4.75062],[114.88841,4.81905],[114.96982,4.81146],[114.99417,4.88201],[115.05038,4.90275],[115.02955,4.82087],[115.02278,4.74137],[115.04064,4.63706],[115.07737,4.53418],[115.09978,4.39123],[115.31275,4.30806],[115.36346,4.33563],[115.2851,4.42295],[115.27819,4.63661],[115.20737,4.8256],[115.15092,4.87604],[115.16236,5.01011]]]]}},{type:"Feature",properties:{iso1A2:"BO",iso1A3:"BOL",iso1N3:"068",wikidata:"Q750",nameEn:"Bolivia",groups:["005","419","019","UN"],callingCodes:["591"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.90248,-12.52544],[-64.22539,-12.45267],[-64.30708,-12.46398],[-64.99778,-11.98604],[-65.30027,-11.48749],[-65.28141,-10.86289],[-65.35402,-10.78685],[-65.37923,-10.35141],[-65.29019,-9.86253],[-65.40615,-9.63894],[-65.56244,-9.84266],[-65.68343,-9.75323],[-67.17784,-10.34016],[-68.71533,-11.14749],[-68.7651,-11.0496],[-68.75179,-11.03688],[-68.75265,-11.02383],[-68.74802,-11.00891],[-69.42792,-10.93451],[-69.47839,-10.95254],[-69.57156,-10.94555],[-68.98115,-11.8979],[-68.65044,-12.50689],[-68.85615,-12.87769],[-68.8864,-13.40792],[-69.05265,-13.68546],[-68.88135,-14.18639],[-69.36254,-14.94634],[-69.14856,-15.23478],[-69.40336,-15.61358],[-69.20291,-16.16668],[-69.09986,-16.22693],[-68.96238,-16.194],[-68.79464,-16.33272],[-68.98358,-16.42165],[-69.04027,-16.57214],[-69.00853,-16.66769],[-69.16896,-16.72233],[-69.62883,-17.28142],[-69.46863,-17.37466],[-69.46897,-17.4988],[-69.46623,-17.60518],[-69.34126,-17.72753],[-69.28671,-17.94844],[-69.07496,-18.03715],[-69.14807,-18.16893],[-69.07432,-18.28259],[-68.94987,-18.93302],[-68.87082,-19.06003],[-68.80602,-19.08355],[-68.61989,-19.27584],[-68.41218,-19.40499],[-68.66761,-19.72118],[-68.54611,-19.84651],[-68.57132,-20.03134],[-68.74273,-20.08817],[-68.7276,-20.46178],[-68.44023,-20.62701],[-68.55383,-20.7355],[-68.53957,-20.91542],[-68.40403,-20.94562],[-68.18816,-21.28614],[-67.85114,-22.87076],[-67.54284,-22.89771],[-67.18382,-22.81525],[-66.7298,-22.23644],[-66.29714,-22.08741],[-66.24077,-21.77837],[-66.03836,-21.84829],[-66.04832,-21.9187],[-65.9261,-21.93335],[-65.7467,-22.10105],[-65.61166,-22.09504],[-65.58694,-22.09794],[-65.57743,-22.07675],[-65.47435,-22.08908],[-64.99524,-22.08255],[-64.90014,-22.12136],[-64.67174,-22.18957],[-64.58888,-22.25035],[-64.4176,-22.67692],[-64.35108,-22.73282],[-64.31489,-22.88824],[-64.22918,-22.55807],[-63.93287,-21.99934],[-63.70963,-21.99934],[-63.68113,-22.0544],[-63.66482,-21.99918],[-62.81124,-21.9987],[-62.8078,-22.12534],[-62.64455,-22.25091],[-62.2757,-21.06657],[-62.26883,-20.55311],[-61.93912,-20.10053],[-61.73723,-19.63958],[-60.00638,-19.2981],[-59.06965,-19.29148],[-58.23216,-19.80058],[-58.16225,-20.16193],[-57.8496,-19.98346],[-58.14215,-19.76276],[-57.78463,-19.03259],[-57.71113,-19.03161],[-57.69134,-19.00544],[-57.71995,-18.97546],[-57.71995,-18.89573],[-57.76764,-18.90087],[-57.56807,-18.25655],[-57.48237,-18.24219],[-57.69877,-17.8431],[-57.73949,-17.56095],[-57.90082,-17.44555],[-57.99661,-17.5273],[-58.32935,-17.28195],[-58.5058,-16.80958],[-58.30918,-16.3699],[-58.32431,-16.25861],[-58.41506,-16.32636],[-60.16069,-16.26479],[-60.23797,-15.50267],[-60.58224,-15.09887],[-60.23968,-15.09515],[-60.27887,-14.63021],[-60.46037,-14.22496],[-60.48053,-13.77981],[-61.05527,-13.50054],[-61.81151,-13.49564],[-63.76259,-12.42952],[-63.90248,-12.52544]]]]}},{type:"Feature",properties:{iso1A2:"BQ",iso1A3:"BES",iso1N3:"535",wikidata:"Q27561",nameEn:"Caribbean Netherlands",country:"NL"},geometry:null},{type:"Feature",properties:{iso1A2:"BR",iso1A3:"BRA",iso1N3:"076",wikidata:"Q155",nameEn:"Brazil",groups:["005","419","019","UN"],callingCodes:["55"]},geometry:{type:"MultiPolygon",coordinates:[[[[-59.69361,4.34069],[-59.78878,4.45637],[-60.15953,4.53456],[-60.04189,4.69801],[-59.98129,5.07097],[-60.20944,5.28754],[-60.32352,5.21299],[-60.73204,5.20931],[-60.5802,4.94312],[-60.86539,4.70512],[-60.98303,4.54167],[-61.15703,4.49839],[-61.31457,4.54167],[-61.29675,4.44216],[-61.48569,4.43149],[-61.54629,4.2822],[-62.13094,4.08309],[-62.44822,4.18621],[-62.57656,4.04754],[-62.74411,4.03331],[-62.7655,3.73099],[-62.98296,3.59935],[-63.21111,3.96219],[-63.4464,3.9693],[-63.42233,3.89995],[-63.50611,3.83592],[-63.67099,4.01731],[-63.70218,3.91417],[-63.86082,3.94796],[-63.99183,3.90172],[-64.14512,4.12932],[-64.57648,4.12576],[-64.72977,4.28931],[-64.84028,4.24665],[-64.48379,3.7879],[-64.02908,2.79797],[-64.0257,2.48156],[-63.39114,2.4317],[-63.39827,2.16098],[-64.06135,1.94722],[-64.08274,1.64792],[-64.34654,1.35569],[-64.38932,1.5125],[-65.11657,1.12046],[-65.57288,.62856],[-65.50158,.92086],[-65.6727,1.01353],[-66.28507,.74585],[-66.85795,1.22998],[-67.08222,1.17441],[-67.15784,1.80439],[-67.299,1.87494],[-67.40488,2.22258],[-67.9292,1.82455],[-68.18632,2.00091],[-68.26699,1.83463],[-68.18128,1.72881],[-69.38621,1.70865],[-69.53746,1.76408],[-69.83491,1.69353],[-69.82987,1.07864],[-69.26017,1.06856],[-69.14422,.84172],[-69.20976,.57958],[-69.47696,.71065],[-70.04162,.55437],[-70.03658,-.19681],[-69.603,-.51947],[-69.59796,-.75136],[-69.4215,-1.01853],[-69.43395,-1.42219],[-69.94708,-4.2431],[-70.00888,-4.37833],[-70.11305,-4.27281],[-70.19582,-4.3607],[-70.33236,-4.15214],[-70.77601,-4.15717],[-70.96814,-4.36915],[-71.87003,-4.51661],[-72.64391,-5.0391],[-72.83973,-5.14765],[-73.24579,-6.05764],[-73.12983,-6.43852],[-73.73986,-6.87919],[-73.77011,-7.28944],[-73.96938,-7.58465],[-73.65485,-7.77897],[-73.76576,-7.89884],[-72.92886,-9.04074],[-73.21498,-9.40904],[-72.72216,-9.41397],[-72.31883,-9.5184],[-72.14742,-9.98049],[-71.23394,-9.9668],[-70.53373,-9.42628],[-70.58453,-9.58303],[-70.55429,-9.76692],[-70.62487,-9.80666],[-70.64134,-11.0108],[-70.51395,-10.92249],[-70.38791,-11.07096],[-69.90896,-10.92744],[-69.57835,-10.94051],[-69.57156,-10.94555],[-69.47839,-10.95254],[-69.42792,-10.93451],[-68.74802,-11.00891],[-68.75265,-11.02383],[-68.75179,-11.03688],[-68.7651,-11.0496],[-68.71533,-11.14749],[-67.17784,-10.34016],[-65.68343,-9.75323],[-65.56244,-9.84266],[-65.40615,-9.63894],[-65.29019,-9.86253],[-65.37923,-10.35141],[-65.35402,-10.78685],[-65.28141,-10.86289],[-65.30027,-11.48749],[-64.99778,-11.98604],[-64.30708,-12.46398],[-64.22539,-12.45267],[-63.90248,-12.52544],[-63.76259,-12.42952],[-61.81151,-13.49564],[-61.05527,-13.50054],[-60.48053,-13.77981],[-60.46037,-14.22496],[-60.27887,-14.63021],[-60.23968,-15.09515],[-60.58224,-15.09887],[-60.23797,-15.50267],[-60.16069,-16.26479],[-58.41506,-16.32636],[-58.32431,-16.25861],[-58.30918,-16.3699],[-58.5058,-16.80958],[-58.32935,-17.28195],[-57.99661,-17.5273],[-57.90082,-17.44555],[-57.73949,-17.56095],[-57.69877,-17.8431],[-57.48237,-18.24219],[-57.56807,-18.25655],[-57.76764,-18.90087],[-57.71995,-18.89573],[-57.71995,-18.97546],[-57.69134,-19.00544],[-57.71113,-19.03161],[-57.78463,-19.03259],[-58.14215,-19.76276],[-57.8496,-19.98346],[-58.16225,-20.16193],[-57.84536,-20.93155],[-57.93492,-21.65505],[-57.88239,-21.6868],[-57.94642,-21.73799],[-57.98625,-22.09157],[-56.6508,-22.28387],[-56.5212,-22.11556],[-56.45893,-22.08072],[-56.23206,-22.25347],[-55.8331,-22.29008],[-55.74941,-22.46436],[-55.741,-22.52018],[-55.72366,-22.5519],[-55.6986,-22.56268],[-55.68742,-22.58407],[-55.62493,-22.62765],[-55.63849,-22.95122],[-55.5446,-23.22811],[-55.52288,-23.2595],[-55.5555,-23.28237],[-55.43585,-23.87157],[-55.44117,-23.9185],[-55.41784,-23.9657],[-55.12292,-23.99669],[-55.0518,-23.98666],[-55.02691,-23.97317],[-54.6238,-23.83078],[-54.32807,-24.01865],[-54.28207,-24.07305],[-54.4423,-25.13381],[-54.62033,-25.46026],[-54.60196,-25.48397],[-54.59509,-25.53696],[-54.59398,-25.59224],[-54.5502,-25.58915],[-54.52926,-25.62846],[-53.90831,-25.55513],[-53.83691,-25.94849],[-53.73511,-26.04211],[-53.73086,-26.05842],[-53.7264,-26.0664],[-53.73391,-26.07006],[-53.73968,-26.10012],[-53.65018,-26.19501],[-53.65237,-26.23289],[-53.63739,-26.2496],[-53.63881,-26.25075],[-53.64632,-26.24798],[-53.64186,-26.25976],[-53.64505,-26.28089],[-53.68269,-26.33359],[-53.73372,-26.6131],[-53.80144,-27.09844],[-54.15978,-27.2889],[-54.19062,-27.27639],[-54.19268,-27.30751],[-54.41888,-27.40882],[-54.50416,-27.48232],[-54.67657,-27.57214],[-54.90159,-27.63132],[-54.90805,-27.73149],[-55.1349,-27.89759],[-55.16872,-27.86224],[-55.33303,-27.94661],[-55.6262,-28.17124],[-55.65418,-28.18304],[-56.01729,-28.51223],[-56.00458,-28.60421],[-56.05265,-28.62651],[-56.54171,-29.11447],[-56.57295,-29.11357],[-56.62789,-29.18073],[-56.81251,-29.48154],[-57.09386,-29.74211],[-57.65132,-30.19229],[-57.22502,-30.26121],[-56.90236,-30.02578],[-56.49267,-30.39471],[-56.4795,-30.3899],[-56.4619,-30.38457],[-55.87388,-31.05053],[-55.58866,-30.84117],[-55.5634,-30.8686],[-55.55373,-30.8732],[-55.55218,-30.88193],[-55.54572,-30.89051],[-55.53431,-30.89714],[-55.53276,-30.90218],[-55.52712,-30.89997],[-55.51862,-30.89828],[-55.50841,-30.9027],[-55.50821,-30.91349],[-54.17384,-31.86168],[-53.76024,-32.0751],[-53.39572,-32.58596],[-53.37671,-32.57005],[-53.1111,-32.71147],[-53.53459,-33.16843],[-53.52794,-33.68908],[-53.44031,-33.69344],[-53.39593,-33.75169],[-53.37138,-33.74313],[-52.83257,-34.01481],[-28.34015,-20.99094],[-28.99601,1.86593],[-51.35485,4.8383],[-51.63798,4.51394],[-51.61983,4.14596],[-51.79599,3.89336],[-51.82312,3.85825],[-51.85573,3.83427],[-52.31787,3.17896],[-52.6906,2.37298],[-52.96539,2.1881],[-53.78743,2.34412],[-54.16286,2.10779],[-54.6084,2.32856],[-55.01919,2.564],[-55.71493,2.40342],[-55.96292,2.53188],[-56.13054,2.27723],[-55.92159,2.05236],[-55.89863,1.89861],[-55.99278,1.83137],[-56.47045,1.95135],[-56.7659,1.89509],[-57.07092,1.95304],[-57.09109,2.01854],[-57.23981,1.95808],[-57.35073,1.98327],[-57.55743,1.69605],[-57.77281,1.73344],[-57.97336,1.64566],[-58.01873,1.51966],[-58.33887,1.58014],[-58.4858,1.48399],[-58.53571,1.29154],[-58.84229,1.17749],[-58.92072,1.31293],[-59.25583,1.40559],[-59.74066,1.87596],[-59.7264,2.27497],[-59.91177,2.36759],[-59.99733,2.92312],[-59.79769,3.37162],[-59.86899,3.57089],[-59.51963,3.91951],[-59.73353,4.20399],[-59.69361,4.34069]]]]}},{type:"Feature",properties:{iso1A2:"BS",iso1A3:"BHS",iso1N3:"044",wikidata:"Q778",nameEn:"The Bahamas",groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 242"]},geometry:{type:"MultiPolygon",coordinates:[[[[-72.98446,20.4801],[-71.70065,25.7637],[-78.91214,27.76553],[-80.65727,23.71953],[-72.98446,20.4801]]]]}},{type:"Feature",properties:{iso1A2:"BT",iso1A3:"BTN",iso1N3:"064",wikidata:"Q917",nameEn:"Bhutan",groups:["034","142","UN"],driveSide:"left",callingCodes:["975"]},geometry:{type:"MultiPolygon",coordinates:[[[[91.6469,27.76358],[91.5629,27.84823],[91.48973,27.93903],[91.46327,28.0064],[91.25779,28.07509],[91.20019,27.98715],[90.69894,28.07784],[90.58842,28.02838],[90.13387,28.19178],[89.79762,28.23979],[89.59525,28.16433],[89.12825,27.62502],[89.0582,27.60985],[88.97213,27.51671],[88.95355,27.4106],[89.00216,27.32532],[88.96947,27.30319],[88.93678,27.33777],[88.91901,27.32483],[88.74219,27.144],[88.86984,27.10937],[88.8714,26.97488],[88.92301,26.99286],[88.95807,26.92668],[89.09554,26.89089],[89.12825,26.81661],[89.1926,26.81329],[89.37913,26.86224],[89.38319,26.85963],[89.3901,26.84225],[89.42349,26.83727],[89.63369,26.74402],[89.86124,26.73307],[90.04535,26.72422],[90.30402,26.85098],[90.39271,26.90704],[90.48504,26.8594],[90.67715,26.77215],[91.50067,26.79223],[91.83181,26.87318],[92.05523,26.8692],[92.11863,26.893],[92.03457,27.07334],[92.04702,27.26861],[92.12019,27.27829],[92.01132,27.47352],[91.65007,27.48287],[91.55819,27.6144],[91.6469,27.76358]]]]}},{type:"Feature",properties:{iso1A2:"BV",iso1A3:"BVT",iso1N3:"074",wikidata:"Q23408",nameEn:"Bouvet Island",country:"NO",groups:["005","419","019","UN"]},geometry:{type:"MultiPolygon",coordinates:[[[[4.54042,-54.0949],[2.28941,-54.13089],[3.35353,-55.17558],[4.54042,-54.0949]]]]}},{type:"Feature",properties:{iso1A2:"BW",iso1A3:"BWA",iso1N3:"072",wikidata:"Q963",nameEn:"Botswana",groups:["018","202","002","UN"],driveSide:"left",callingCodes:["267"]},geometry:{type:"MultiPolygon",coordinates:[[[[25.26433,-17.79571],[25.16882,-17.78253],[25.05895,-17.84452],[24.95586,-17.79674],[24.73364,-17.89338],[24.71887,-17.9218],[24.6303,-17.9863],[24.57485,-18.07151],[24.40577,-17.95726],[24.19416,-18.01919],[23.61088,-18.4881],[23.29618,-17.99855],[23.0996,-18.00075],[21.45556,-18.31795],[20.99904,-18.31743],[20.99751,-22.00026],[19.99912,-21.99991],[19.99817,-24.76768],[20.02809,-24.78725],[20.03678,-24.81004],[20.29826,-24.94869],[20.64795,-25.47827],[20.86081,-26.14892],[20.61754,-26.4692],[20.63275,-26.78181],[20.68596,-26.9039],[20.87031,-26.80047],[21.13353,-26.86661],[21.37869,-26.82083],[21.69322,-26.86152],[21.7854,-26.79199],[21.77114,-26.69015],[21.83291,-26.65959],[21.90703,-26.66808],[22.06192,-26.61882],[22.21206,-26.3773],[22.41921,-26.23078],[22.56365,-26.19668],[22.70808,-25.99186],[22.86012,-25.50572],[23.03497,-25.29971],[23.47588,-25.29971],[23.9244,-25.64286],[24.18287,-25.62916],[24.36531,-25.773],[24.44703,-25.73021],[24.67319,-25.81749],[24.8946,-25.80723],[25.01718,-25.72507],[25.12266,-25.75931],[25.33076,-25.76616],[25.58543,-25.6343],[25.6643,-25.4491],[25.69661,-25.29284],[25.72702,-25.25503],[25.88571,-24.87802],[25.84295,-24.78661],[25.8515,-24.75727],[26.39409,-24.63468],[26.46346,-24.60358],[26.51667,-24.47219],[26.84165,-24.24885],[26.99749,-23.65486],[27.33768,-23.40917],[27.52393,-23.37952],[27.6066,-23.21894],[27.74154,-23.2137],[27.93539,-23.04941],[27.93729,-22.96194],[28.04752,-22.90243],[28.04562,-22.8394],[28.34874,-22.5694],[28.63287,-22.55887],[28.91889,-22.44299],[29.0151,-22.22907],[29.10881,-22.21202],[29.15268,-22.21399],[29.18974,-22.18599],[29.21955,-22.17771],[29.37703,-22.19581],[29.3533,-22.18363],[29.24648,-22.05967],[29.1974,-22.07472],[29.14501,-22.07275],[29.08495,-22.04867],[29.04108,-22.00563],[29.02191,-21.95665],[29.02191,-21.90647],[29.04023,-21.85864],[29.07763,-21.81877],[28.58114,-21.63455],[28.49942,-21.66634],[28.29416,-21.59037],[28.01669,-21.57624],[27.91407,-21.31621],[27.69171,-21.08409],[27.72972,-20.51735],[27.69361,-20.48531],[27.28865,-20.49873],[27.29831,-20.28935],[27.21278,-20.08244],[26.72246,-19.92707],[26.17227,-19.53709],[25.96226,-19.08152],[25.99837,-19.02943],[25.94326,-18.90362],[25.82353,-18.82808],[25.79217,-18.6355],[25.68859,-18.56165],[25.53465,-18.39041],[25.39972,-18.12691],[25.31799,-18.07091],[25.23909,-17.90832],[25.26433,-17.79571]]]]}},{type:"Feature",properties:{iso1A2:"BY",iso1A3:"BLR",iso1N3:"112",wikidata:"Q184",nameEn:"Belarus",groups:["151","150","UN"],callingCodes:["375"]},geometry:{type:"MultiPolygon",coordinates:[[[[28.15217,56.16964],[27.97865,56.11849],[27.63065,55.89687],[27.61683,55.78558],[27.3541,55.8089],[27.27804,55.78299],[27.1559,55.85032],[26.97153,55.8102],[26.87448,55.7172],[26.76872,55.67658],[26.71802,55.70645],[26.64888,55.70515],[26.63231,55.67968],[26.63167,55.57887],[26.55094,55.5093],[26.5522,55.40277],[26.44937,55.34832],[26.5709,55.32572],[26.6714,55.33902],[26.80929,55.31642],[26.83266,55.30444],[26.835,55.28182],[26.73017,55.24226],[26.72983,55.21788],[26.68075,55.19787],[26.69243,55.16718],[26.54753,55.14181],[26.51481,55.16051],[26.46249,55.12814],[26.35121,55.1525],[26.30628,55.12536],[26.23202,55.10439],[26.26941,55.08032],[26.20397,54.99729],[26.13386,54.98924],[26.05907,54.94631],[25.99129,54.95705],[25.89462,54.93438],[25.74122,54.80108],[25.75977,54.57252],[25.68045,54.5321],[25.64813,54.48704],[25.62203,54.4656],[25.63371,54.42075],[25.5376,54.33158],[25.55425,54.31591],[25.68513,54.31727],[25.78553,54.23327],[25.78563,54.15747],[25.71084,54.16704],[25.64875,54.1259],[25.54724,54.14925],[25.51452,54.17799],[25.56823,54.25212],[25.509,54.30267],[25.35559,54.26544],[25.22705,54.26271],[25.19199,54.219],[25.0728,54.13419],[24.991,54.14241],[24.96894,54.17589],[24.77131,54.11091],[24.85311,54.02862],[24.74279,53.96663],[24.69185,53.96543],[24.69652,54.01901],[24.62275,54.00217],[24.44411,53.90076],[24.34128,53.90076],[24.19638,53.96405],[23.98837,53.92554],[23.95098,53.9613],[23.81309,53.94205],[23.80543,53.89558],[23.71726,53.93379],[23.61677,53.92691],[23.51284,53.95052],[23.62004,53.60942],[23.81995,53.24131],[23.85657,53.22923],[23.91393,53.16469],[23.87548,53.0831],[23.92184,53.02079],[23.94689,52.95919],[23.91805,52.94016],[23.93763,52.71332],[23.73615,52.6149],[23.58296,52.59868],[23.45112,52.53774],[23.34141,52.44845],[23.18196,52.28812],[23.20071,52.22848],[23.47859,52.18215],[23.54314,52.12148],[23.61,52.11264],[23.64066,52.07626],[23.68733,51.9906],[23.61523,51.92066],[23.62691,51.78208],[23.53198,51.74298],[23.57053,51.55938],[23.56236,51.53673],[23.62751,51.50512],[23.6736,51.50255],[23.60906,51.62122],[23.7766,51.66809],[23.91118,51.63316],[23.8741,51.59734],[23.99907,51.58369],[24.13075,51.66979],[24.3163,51.75063],[24.29021,51.80841],[24.37123,51.88222],[24.98784,51.91273],[25.20228,51.97143],[25.46163,51.92205],[25.73673,51.91973],[25.80574,51.94556],[25.83217,51.92587],[26.00408,51.92967],[26.19084,51.86781],[26.39367,51.87315],[26.46962,51.80501],[26.69759,51.82284],[26.80043,51.75777],[26.9489,51.73788],[26.99422,51.76933],[27.20602,51.77291],[27.20948,51.66713],[27.26613,51.65957],[27.24828,51.60161],[27.47212,51.61184],[27.51058,51.5854],[27.55727,51.63486],[27.71932,51.60672],[27.67125,51.50854],[27.76052,51.47604],[27.85253,51.62293],[27.91844,51.61952],[27.95827,51.56065],[28.10658,51.57857],[28.23452,51.66988],[28.37592,51.54505],[28.47051,51.59734],[28.64429,51.5664],[28.69161,51.44695],[28.73143,51.46236],[28.75615,51.41442],[28.78224,51.45294],[28.76027,51.48802],[28.81795,51.55552],[28.95528,51.59222],[28.99098,51.56833],[29.1187,51.65872],[29.16402,51.64679],[29.20659,51.56918],[29.25603,51.57089],[29.25191,51.49828],[29.32881,51.37843],[29.42357,51.4187],[29.49773,51.39814],[29.54372,51.48372],[29.7408,51.53417],[29.77376,51.4461],[30.17888,51.51025],[30.34642,51.42555],[30.36153,51.33984],[30.56203,51.25655],[30.64992,51.35014],[30.51946,51.59649],[30.68804,51.82806],[30.76443,51.89739],[30.90897,52.00699],[30.95589,52.07775],[31.13332,52.1004],[31.25142,52.04131],[31.38326,52.12991],[31.7822,52.11406],[31.77877,52.18636],[31.6895,52.1973],[31.70735,52.26711],[31.57971,52.32146],[31.62084,52.33849],[31.61397,52.48843],[31.56316,52.51518],[31.63869,52.55361],[31.50406,52.69707],[31.57277,52.71613],[31.592,52.79011],[31.35667,52.97854],[31.24147,53.031],[31.32283,53.04101],[31.33519,53.08805],[31.3915,53.09712],[31.36403,53.13504],[31.40523,53.21406],[31.56316,53.19432],[31.62496,53.22886],[31.787,53.18033],[31.82373,53.10042],[32.15368,53.07594],[32.40773,53.18856],[32.51725,53.28431],[32.73257,53.33494],[32.74968,53.45597],[32.47777,53.5548],[32.40499,53.6656],[32.50112,53.68594],[32.45717,53.74039],[32.36663,53.7166],[32.12621,53.81586],[31.89137,53.78099],[31.77028,53.80015],[31.85019,53.91801],[31.88744,54.03653],[31.89599,54.0837],[31.57002,54.14535],[31.30791,54.25315],[31.3177,54.34067],[31.22945,54.46585],[31.08543,54.50361],[31.21399,54.63113],[31.19339,54.66947],[30.99187,54.67046],[30.98226,54.68872],[31.0262,54.70698],[30.97127,54.71967],[30.95479,54.74346],[30.75165,54.80699],[30.8264,54.90062],[30.81759,54.94064],[30.93144,54.9585],[30.95754,54.98609],[30.9081,55.02232],[30.94243,55.03964],[31.00972,55.02783],[31.02071,55.06167],[30.97369,55.17134],[30.87944,55.28223],[30.81946,55.27931],[30.8257,55.3313],[30.93144,55.3914],[30.90123,55.46621],[30.95204,55.50667],[30.93419,55.6185],[30.86003,55.63169],[30.7845,55.58514],[30.72957,55.66268],[30.67464,55.64176],[30.63344,55.73079],[30.51037,55.76568],[30.51346,55.78982],[30.48257,55.81066],[30.30987,55.83592],[30.27776,55.86819],[30.12136,55.8358],[29.97975,55.87281],[29.80672,55.79569],[29.61446,55.77716],[29.51283,55.70294],[29.3604,55.75862],[29.44692,55.95978],[29.21717,55.98971],[29.08299,56.03427],[28.73418,55.97131],[28.63668,56.07262],[28.68337,56.10173],[28.5529,56.11705],[28.43068,56.09407],[28.37987,56.11399],[28.36888,56.05805],[28.30571,56.06035],[28.15217,56.16964]]]]}},{type:"Feature",properties:{iso1A2:"BZ",iso1A3:"BLZ",iso1N3:"084",wikidata:"Q242",nameEn:"Belize",groups:["013","003","419","019","UN"],roadSpeedUnit:"mph",callingCodes:["501"]},geometry:{type:"MultiPolygon",coordinates:[[[[-88.3268,18.49048],[-88.48242,18.49164],[-88.71505,18.0707],[-88.8716,17.89535],[-89.03839,18.0067],[-89.15105,17.95104],[-89.14985,17.81563],[-89.15025,17.04813],[-89.22683,15.88619],[-89.17418,15.90898],[-89.02415,15.9063],[-88.95358,15.88698],[-88.40779,16.09624],[-86.92368,17.61462],[-87.84815,18.18511],[-87.85693,18.18266],[-87.86657,18.19971],[-87.87604,18.18313],[-87.90671,18.15213],[-88.03165,18.16657],[-88.03238,18.41778],[-88.26593,18.47617],[-88.29909,18.47591],[-88.3268,18.49048]]]]}},{type:"Feature",properties:{iso1A2:"CA",iso1A3:"CAN",iso1N3:"124",wikidata:"Q16",nameEn:"Canada",groups:["021","003","019","UN"],callingCodes:["1"]},geometry:{type:"MultiPolygon",coordinates:[[[[-67.20349,45.1722],[-67.19603,45.16771],[-67.15965,45.16179],[-67.11316,45.11176],[-67.0216,44.95333],[-66.96824,44.90965],[-66.98249,44.87071],[-66.96824,44.83078],[-66.93432,44.82597],[-67.16117,44.20069],[-61.98255,37.34815],[-56.27503,47.39728],[-53.12387,41.40385],[-46.37635,57.3249],[-77.52957,77.23408],[-68.21821,80.48551],[-49.33696,84.57952],[-140.97446,84.39275],[-141.00116,60.30648],[-140.5227,60.22077],[-140.45648,60.30919],[-139.98024,60.18027],[-139.68991,60.33693],[-139.05831,60.35205],[-139.20603,60.08896],[-139.05365,59.99655],[-138.71149,59.90728],[-138.62145,59.76431],[-137.60623,59.24465],[-137.4925,58.89415],[-136.82619,59.16198],[-136.52365,59.16752],[-136.47323,59.46617],[-136.33727,59.44466],[-136.22381,59.55526],[-136.31566,59.59083],[-135.48007,59.79937],[-135.03069,59.56208],[-135.00267,59.28745],[-134.7047,59.2458],[-134.55699,59.1297],[-134.48059,59.13231],[-134.27175,58.8634],[-133.84645,58.73543],[-133.38523,58.42773],[-131.8271,56.62247],[-130.77769,56.36185],[-130.33965,56.10849],[-130.10173,56.12178],[-130.00093,56.00325],[-130.00857,55.91344],[-130.15373,55.74895],[-129.97513,55.28029],[-130.08035,55.21556],[-130.18765,55.07744],[-130.27203,54.97174],[-130.44184,54.85377],[-130.64499,54.76912],[-130.61931,54.70835],[-133.92876,54.62289],[-133.36909,48.51151],[-125.03842,48.53282],[-123.50039,48.21223],[-123.15614,48.35395],[-123.26565,48.6959],[-123.0093,48.76586],[-123.0093,48.83186],[-123.32163,49.00419],[-95.15355,48.9996],[-95.15357,49.384],[-95.12903,49.37056],[-95.05825,49.35311],[-95.01419,49.35647],[-94.99532,49.36579],[-94.95681,49.37035],[-94.85381,49.32492],[-94.8159,49.32299],[-94.82487,49.29483],[-94.77355,49.11998],[-94.75017,49.09931],[-94.687,48.84077],[-94.70087,48.8339],[-94.70486,48.82365],[-94.69669,48.80918],[-94.69335,48.77883],[-94.58903,48.71803],[-94.54885,48.71543],[-94.53826,48.70216],[-94.44258,48.69223],[-94.4174,48.71049],[-94.27153,48.70232],[-94.25172,48.68404],[-94.25104,48.65729],[-94.23215,48.65202],[-93.85769,48.63284],[-93.83288,48.62745],[-93.80676,48.58232],[-93.80939,48.52439],[-93.79267,48.51631],[-93.66382,48.51845],[-93.47022,48.54357],[-93.44472,48.59147],[-93.40693,48.60948],[-93.39758,48.60364],[-93.3712,48.60599],[-93.33946,48.62787],[-93.25391,48.64266],[-92.94973,48.60866],[-92.7287,48.54005],[-92.6342,48.54133],[-92.62747,48.50278],[-92.69927,48.49573],[-92.71323,48.46081],[-92.65606,48.43471],[-92.50712,48.44921],[-92.45588,48.40624],[-92.48147,48.36609],[-92.37185,48.22259],[-92.27167,48.25046],[-92.30939,48.31251],[-92.26662,48.35651],[-92.202,48.35252],[-92.14732,48.36578],[-92.05339,48.35958],[-91.98929,48.25409],[-91.86125,48.21278],[-91.71231,48.19875],[-91.70451,48.11805],[-91.55649,48.10611],[-91.58025,48.04339],[-91.45829,48.07454],[-91.43248,48.04912],[-91.25025,48.08522],[-91.08016,48.18096],[-90.87588,48.2484],[-90.75045,48.09143],[-90.56444,48.12184],[-90.56312,48.09488],[-90.07418,48.11043],[-89.89974,47.98109],[-89.77248,48.02607],[-89.57972,48.00023],[-89.48837,48.01412],[-88.37033,48.30586],[-84.85871,46.88881],[-84.55635,46.45974],[-84.47607,46.45225],[-84.4481,46.48972],[-84.42101,46.49853],[-84.34174,46.50683],[-84.29893,46.49127],[-84.26351,46.49508],[-84.2264,46.53337],[-84.1945,46.54061],[-84.17723,46.52753],[-84.12885,46.53068],[-84.11196,46.50248],[-84.13451,46.39218],[-84.11254,46.32329],[-84.11615,46.2681],[-84.09756,46.25512],[-84.1096,46.23987],[-83.95399,46.05634],[-83.90453,46.05922],[-83.83329,46.12169],[-83.57017,46.105],[-83.43746,45.99749],[-83.59589,45.82131],[-82.48419,45.30225],[-82.42469,42.992],[-82.4146,42.97626],[-82.4253,42.95423],[-82.45331,42.93139],[-82.4826,42.8068],[-82.46613,42.76615],[-82.51063,42.66025],[-82.51858,42.611],[-82.57583,42.5718],[-82.58873,42.54984],[-82.64242,42.55594],[-82.82964,42.37355],[-83.02253,42.33045],[-83.07837,42.30978],[-83.09837,42.28877],[-83.12724,42.2376],[-83.14962,42.04089],[-83.11184,41.95671],[-82.67862,41.67615],[-78.93684,42.82887],[-78.90712,42.89733],[-78.90905,42.93022],[-78.93224,42.95229],[-78.96312,42.95509],[-78.98126,42.97],[-79.02074,42.98444],[-79.02424,43.01983],[-78.99941,43.05612],[-79.01055,43.06659],[-79.07486,43.07845],[-79.05671,43.10937],[-79.06881,43.12029],[-79.0427,43.13934],[-79.04652,43.16396],[-79.05384,43.17418],[-79.05002,43.20133],[-79.05544,43.21224],[-79.05512,43.25375],[-79.06921,43.26183],[-79.25796,43.54052],[-76.79706,43.63099],[-76.43859,44.09393],[-76.35324,44.13493],[-76.31222,44.19894],[-76.244,44.19643],[-76.1664,44.23051],[-76.16285,44.28262],[-76.00018,44.34896],[-75.95947,44.34463],[-75.8217,44.43176],[-75.76813,44.51537],[-75.41441,44.76614],[-75.2193,44.87821],[-75.01363,44.95608],[-74.99101,44.98051],[-74.8447,45.00606],[-74.66689,45.00646],[-74.32699,44.99029],[-73.35025,45.00942],[-71.50067,45.01357],[-71.48735,45.07784],[-71.42778,45.12624],[-71.40364,45.21382],[-71.44252,45.2361],[-71.37133,45.24624],[-71.29371,45.29996],[-71.22338,45.25184],[-71.19723,45.25438],[-71.14568,45.24128],[-71.08364,45.30623],[-71.01866,45.31573],[-71.0107,45.34819],[-70.95193,45.33895],[-70.91169,45.29849],[-70.89864,45.2398],[-70.84816,45.22698],[-70.80236,45.37444],[-70.82638,45.39828],[-70.78372,45.43269],[-70.65383,45.37592],[-70.62518,45.42286],[-70.72651,45.49771],[-70.68516,45.56964],[-70.54019,45.67291],[-70.38934,45.73215],[-70.41523,45.79497],[-70.25976,45.89675],[-70.24694,45.95138],[-70.31025,45.96424],[-70.23855,46.1453],[-70.29078,46.18832],[-70.18547,46.35357],[-70.05812,46.41768],[-69.99966,46.69543],[-69.22119,47.46461],[-69.05148,47.42012],[-69.05073,47.30076],[-69.05039,47.2456],[-68.89222,47.1807],[-68.70125,47.24399],[-68.60575,47.24659],[-68.57914,47.28431],[-68.38332,47.28723],[-68.37458,47.35851],[-68.23244,47.35712],[-67.94843,47.1925],[-67.87993,47.10377],[-67.78578,47.06473],[-67.78111,45.9392],[-67.75196,45.91814],[-67.80961,45.87531],[-67.75654,45.82324],[-67.80653,45.80022],[-67.80705,45.69528],[-67.6049,45.60725],[-67.43815,45.59162],[-67.42144,45.50584],[-67.50578,45.48971],[-67.42394,45.37969],[-67.48201,45.27351],[-67.34927,45.122],[-67.29754,45.14865],[-67.29748,45.18173],[-67.27039,45.1934],[-67.22751,45.16344],[-67.20349,45.1722]]]]}},{type:"Feature",properties:{iso1A2:"CC",iso1A3:"CCK",iso1N3:"166",wikidata:"Q36004",nameEn:"Cocos (Keeling) Islands",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[96.61846,-10.82438],[96.02343,-12.68334],[97.93979,-12.33309],[96.61846,-10.82438]]]]}},{type:"Feature",properties:{iso1A2:"CD",iso1A3:"COD",iso1N3:"180",wikidata:"Q974",nameEn:"Democratic Republic of the Congo",aliases:["ZR"],groups:["017","202","002","UN"],callingCodes:["243"]},geometry:{type:"MultiPolygon",coordinates:[[[[27.44012,5.07349],[27.09575,5.22305],[26.93064,5.13535],[26.85579,5.03887],[26.74572,5.10685],[26.48595,5.04984],[26.13371,5.25594],[25.86073,5.19455],[25.53271,5.37431],[25.34558,5.29101],[25.31256,5.03668],[24.71816,4.90509],[24.46719,5.0915],[23.38847,4.60013],[22.94817,4.82392],[22.89094,4.79321],[22.84691,4.69887],[22.78526,4.71423],[22.6928,4.47285],[22.60915,4.48821],[22.5431,4.22041],[22.45504,4.13039],[22.27682,4.11347],[22.10721,4.20723],[21.6405,4.317],[21.55904,4.25553],[21.25744,4.33676],[21.21341,4.29285],[21.11214,4.33895],[21.08793,4.39603],[20.90383,4.44877],[20.60184,4.42394],[18.62755,3.47564],[18.63857,3.19342],[18.10683,2.26876],[18.08034,1.58553],[17.85887,1.04327],[17.86989,.58873],[17.95255,.48128],[17.93877,.32424],[17.81204,.23884],[17.66051,-.26535],[17.72112,-.52707],[17.32438,-.99265],[16.97999,-1.12762],[16.70724,-1.45815],[16.50336,-1.8795],[16.16173,-2.16586],[16.22785,-2.59528],[16.1755,-3.25014],[16.21407,-3.2969],[15.89448,-3.9513],[15.53081,-4.042],[15.48121,-4.22062],[15.41785,-4.28381],[15.32693,-4.27282],[15.25411,-4.31121],[15.1978,-4.32388],[14.83101,-4.80838],[14.67948,-4.92093],[14.5059,-4.84956],[14.41499,-4.8825],[14.37366,-4.56125],[14.47284,-4.42941],[14.3957,-4.36623],[14.40672,-4.28381],[13.9108,-4.50906],[13.81162,-4.41842],[13.71794,-4.44864],[13.70417,-4.72601],[13.50305,-4.77818],[13.41764,-4.89897],[13.11182,-4.5942],[13.09648,-4.63739],[13.11195,-4.67745],[12.8733,-4.74346],[12.70868,-4.95505],[12.63465,-4.94632],[12.60251,-5.01715],[12.46297,-5.09408],[12.49815,-5.14058],[12.51589,-5.1332],[12.53586,-5.14658],[12.53599,-5.1618],[12.52301,-5.17481],[12.52318,-5.74353],[12.26557,-5.74031],[12.20376,-5.76338],[11.95767,-5.94705],[12.42245,-6.07585],[13.04371,-5.87078],[16.55507,-5.85631],[16.96282,-7.21787],[17.5828,-8.13784],[18.33635,-8.00126],[19.33698,-7.99743],[19.5469,-7.00195],[20.30218,-6.98955],[20.31846,-6.91953],[20.61689,-6.90876],[20.56263,-7.28566],[21.79824,-7.29628],[21.84856,-9.59871],[22.19039,-9.94628],[22.32604,-10.76291],[22.17954,-10.85884],[22.25951,-11.24911],[22.54205,-11.05784],[23.16602,-11.10577],[23.45631,-10.946],[23.86868,-11.02856],[24.00027,-10.89356],[24.34528,-11.06816],[24.42612,-11.44975],[25.34069,-11.19707],[25.33058,-11.65767],[26.01777,-11.91488],[26.88687,-12.01868],[27.04351,-11.61312],[27.22541,-11.60323],[27.21025,-11.76157],[27.59932,-12.22123],[28.33199,-12.41375],[29.01918,-13.41353],[29.60531,-13.21685],[29.65078,-13.41844],[29.81551,-13.44683],[29.8139,-12.14898],[29.48404,-12.23604],[29.4992,-12.43843],[29.18592,-12.37921],[28.48357,-11.87532],[28.37241,-11.57848],[28.65032,-10.65133],[28.62795,-9.92942],[28.68532,-9.78],[28.56208,-9.49122],[28.51627,-9.44726],[28.52636,-9.35379],[28.36562,-9.30091],[28.38526,-9.23393],[28.9711,-8.66935],[28.88917,-8.4831],[30.79243,-8.27382],[30.2567,-7.14121],[29.52552,-6.2731],[29.43673,-4.44845],[29.23708,-3.75856],[29.21463,-3.3514],[29.25633,-3.05471],[29.17258,-2.99385],[29.16037,-2.95457],[29.09797,-2.91935],[29.09119,-2.87871],[29.0505,-2.81774],[29.00404,-2.81978],[29.00167,-2.78523],[29.04081,-2.7416],[29.00357,-2.70596],[28.94346,-2.69124],[28.89793,-2.66111],[28.90226,-2.62385],[28.89288,-2.55848],[28.87943,-2.55165],[28.86193,-2.53185],[28.86209,-2.5231],[28.87497,-2.50887],[28.88846,-2.50493],[28.89342,-2.49017],[28.89132,-2.47557],[28.86846,-2.44866],[28.86826,-2.41888],[28.89601,-2.37321],[28.95642,-2.37321],[29.00051,-2.29001],[29.105,-2.27043],[29.17562,-2.12278],[29.11847,-1.90576],[29.24458,-1.69663],[29.24323,-1.66826],[29.36322,-1.50887],[29.45038,-1.5054],[29.53062,-1.40499],[29.59061,-1.39016],[29.58388,-.89821],[29.63006,-.8997],[29.62708,-.71055],[29.67176,-.55714],[29.67474,-.47969],[29.65091,-.46777],[29.72687,-.08051],[29.7224,.07291],[29.77454,.16675],[29.81922,.16824],[29.87284,.39166],[29.97413,.52124],[29.95477,.64486],[29.98307,.84295],[30.1484,.89805],[30.22139,.99635],[30.24671,1.14974],[30.48503,1.21675],[31.30127,2.11006],[31.28042,2.17853],[31.20148,2.2217],[31.1985,2.29462],[31.12104,2.27676],[31.07934,2.30207],[31.06593,2.35862],[30.96911,2.41071],[30.91102,2.33332],[30.83059,2.42559],[30.74271,2.43601],[30.75612,2.5863],[30.8857,2.83923],[30.8574,2.9508],[30.77101,3.04897],[30.84251,3.26908],[30.93486,3.40737],[30.94081,3.50847],[30.85153,3.48867],[30.85997,3.5743],[30.80713,3.60506],[30.78512,3.67097],[30.56277,3.62703],[30.57378,3.74567],[30.55396,3.84451],[30.47691,3.83353],[30.27658,3.95653],[30.22374,3.93896],[30.1621,4.10586],[30.06964,4.13221],[29.79666,4.37809],[29.82087,4.56246],[29.49726,4.7007],[29.43341,4.50101],[29.22207,4.34297],[29.03054,4.48784],[28.8126,4.48784],[28.6651,4.42638],[28.20719,4.35614],[27.79551,4.59976],[27.76469,4.79284],[27.65462,4.89375],[27.56656,4.89375],[27.44012,5.07349]]]]}},{type:"Feature",properties:{iso1A2:"CF",iso1A3:"CAF",iso1N3:"140",wikidata:"Q929",nameEn:"Central African Republic",groups:["017","202","002","UN"],callingCodes:["236"]},geometry:{type:"MultiPolygon",coordinates:[[[[22.87758,10.91915],[22.45889,11.00246],[21.72139,10.64136],[21.71479,10.29932],[21.63553,10.217],[21.52766,10.2105],[21.34934,9.95907],[21.26348,9.97642],[20.82979,9.44696],[20.36748,9.11019],[19.06421,9.00367],[18.86388,8.87971],[19.11044,8.68172],[18.79783,8.25929],[18.67455,8.22226],[18.62612,8.14163],[18.64153,8.08714],[18.6085,8.05009],[18.02731,8.01085],[17.93926,7.95853],[17.67288,7.98905],[16.8143,7.53971],[16.6668,7.67281],[16.658,7.75353],[16.59415,7.76444],[16.58315,7.88657],[16.41583,7.77971],[16.40703,7.68809],[15.79942,7.44149],[15.73118,7.52006],[15.49743,7.52179],[15.23397,7.25135],[15.04717,6.77085],[14.96311,6.75693],[14.79966,6.39043],[14.80122,6.34866],[14.74206,6.26356],[14.56149,6.18928],[14.43073,6.08867],[14.42917,6.00508],[14.49455,5.91683],[14.60974,5.91838],[14.62375,5.70466],[14.58951,5.59777],[14.62531,5.51411],[14.52724,5.28319],[14.57083,5.23979],[14.65489,5.21343],[14.73383,4.6135],[15.00825,4.41458],[15.08609,4.30282],[15.10644,4.1362],[15.17482,4.05131],[15.07686,4.01805],[15.73522,3.24348],[15.77725,3.26835],[16.05449,3.02306],[16.08252,2.45708],[16.19357,2.21537],[16.50126,2.84739],[16.46701,2.92512],[16.57598,3.47999],[16.68283,3.54257],[17.01746,3.55136],[17.35649,3.63045],[17.46876,3.70515],[17.60966,3.63705],[17.83421,3.61068],[17.85842,3.53378],[18.05656,3.56893],[18.14902,3.54476],[18.17323,3.47665],[18.24148,3.50302],[18.2723,3.57992],[18.39558,3.58212],[18.49245,3.63924],[18.58711,3.49423],[18.62755,3.47564],[20.60184,4.42394],[20.90383,4.44877],[21.08793,4.39603],[21.11214,4.33895],[21.21341,4.29285],[21.25744,4.33676],[21.55904,4.25553],[21.6405,4.317],[22.10721,4.20723],[22.27682,4.11347],[22.45504,4.13039],[22.5431,4.22041],[22.60915,4.48821],[22.6928,4.47285],[22.78526,4.71423],[22.84691,4.69887],[22.89094,4.79321],[22.94817,4.82392],[23.38847,4.60013],[24.46719,5.0915],[24.71816,4.90509],[25.31256,5.03668],[25.34558,5.29101],[25.53271,5.37431],[25.86073,5.19455],[26.13371,5.25594],[26.48595,5.04984],[26.74572,5.10685],[26.85579,5.03887],[26.93064,5.13535],[27.09575,5.22305],[27.44012,5.07349],[27.26886,5.25876],[27.23017,5.37167],[27.28621,5.56382],[27.22705,5.62889],[27.22705,5.71254],[26.51721,6.09655],[26.58259,6.1987],[26.32729,6.36272],[26.38022,6.63493],[25.90076,7.09549],[25.37461,7.33024],[25.35281,7.42595],[25.20337,7.50312],[25.20649,7.61115],[25.29214,7.66675],[25.25319,7.8487],[24.98855,7.96588],[24.85156,8.16933],[24.35965,8.26177],[24.13238,8.36959],[24.25691,8.69288],[23.51905,8.71749],[23.59065,8.99743],[23.44744,8.99128],[23.4848,9.16959],[23.56263,9.19418],[23.64358,9.28637],[23.64981,9.44303],[23.62179,9.53823],[23.69155,9.67566],[23.67164,9.86923],[23.3128,10.45214],[23.02221,10.69235],[22.87758,10.91915]]]]}},{type:"Feature",properties:{iso1A2:"CG",iso1A3:"COG",iso1N3:"178",wikidata:"Q971",nameEn:"Republic of the Congo",groups:["017","202","002","UN"],callingCodes:["242"]},geometry:{type:"MultiPolygon",coordinates:[[[[18.62755,3.47564],[18.58711,3.49423],[18.49245,3.63924],[18.39558,3.58212],[18.2723,3.57992],[18.24148,3.50302],[18.17323,3.47665],[18.14902,3.54476],[18.05656,3.56893],[17.85842,3.53378],[17.83421,3.61068],[17.60966,3.63705],[17.46876,3.70515],[17.35649,3.63045],[17.01746,3.55136],[16.68283,3.54257],[16.57598,3.47999],[16.46701,2.92512],[16.50126,2.84739],[16.19357,2.21537],[16.15568,2.18955],[16.08563,2.19733],[16.05294,1.9811],[16.14634,1.70259],[16.02647,1.65591],[16.02959,1.76483],[15.48942,1.98265],[15.34776,1.91264],[15.22634,2.03243],[15.00996,1.98887],[14.61145,2.17866],[13.29457,2.16106],[13.13461,1.57238],[13.25447,1.32339],[13.15519,1.23368],[13.89582,1.4261],[14.25186,1.39842],[14.48179,.9152],[14.26066,.57255],[14.10909,.58563],[13.88648,.26652],[13.90632,-.2287],[14.06862,-.20826],[14.2165,-.38261],[14.41887,-.44799],[14.52569,-.57818],[14.41838,-1.89412],[14.25932,-1.97624],[14.23518,-2.15671],[14.16202,-2.23916],[14.23829,-2.33715],[14.10442,-2.49268],[13.85846,-2.46935],[13.92073,-2.35581],[13.75884,-2.09293],[13.47977,-2.43224],[13.02759,-2.33098],[12.82172,-1.91091],[12.61312,-1.8129],[12.44656,-1.92025],[12.47925,-2.32626],[12.04895,-2.41704],[11.96866,-2.33559],[11.74605,-2.39936],[11.57637,-2.33379],[11.64487,-2.61865],[11.5359,-2.85654],[11.64798,-2.81146],[11.80365,-3.00424],[11.70558,-3.0773],[11.70227,-3.17465],[11.96554,-3.30267],[11.8318,-3.5812],[11.92719,-3.62768],[11.87083,-3.71571],[11.68608,-3.68942],[11.57949,-3.52798],[11.48764,-3.51089],[11.22301,-3.69888],[11.12647,-3.94169],[10.75913,-4.39519],[11.50888,-5.33417],[12.00924,-5.02627],[12.16068,-4.90089],[12.20901,-4.75642],[12.25587,-4.79437],[12.32324,-4.78415],[12.40964,-4.60609],[12.64835,-4.55937],[12.76844,-4.38709],[12.87096,-4.40315],[12.91489,-4.47907],[13.09648,-4.63739],[13.11182,-4.5942],[13.41764,-4.89897],[13.50305,-4.77818],[13.70417,-4.72601],[13.71794,-4.44864],[13.81162,-4.41842],[13.9108,-4.50906],[14.40672,-4.28381],[14.3957,-4.36623],[14.47284,-4.42941],[14.37366,-4.56125],[14.41499,-4.8825],[14.5059,-4.84956],[14.67948,-4.92093],[14.83101,-4.80838],[15.1978,-4.32388],[15.25411,-4.31121],[15.32693,-4.27282],[15.41785,-4.28381],[15.48121,-4.22062],[15.53081,-4.042],[15.89448,-3.9513],[16.21407,-3.2969],[16.1755,-3.25014],[16.22785,-2.59528],[16.16173,-2.16586],[16.50336,-1.8795],[16.70724,-1.45815],[16.97999,-1.12762],[17.32438,-.99265],[17.72112,-.52707],[17.66051,-.26535],[17.81204,.23884],[17.93877,.32424],[17.95255,.48128],[17.86989,.58873],[17.85887,1.04327],[18.08034,1.58553],[18.10683,2.26876],[18.63857,3.19342],[18.62755,3.47564]]]]}},{type:"Feature",properties:{iso1A2:"CH",iso1A3:"CHE",iso1N3:"756",wikidata:"Q39",nameEn:"Switzerland",groups:["155","150","UN"],callingCodes:["41"]},geometry:{type:"MultiPolygon",coordinates:[[[[8.72809,47.69282],[8.72617,47.69651],[8.73671,47.7169],[8.70543,47.73121],[8.74251,47.75168],[8.71778,47.76571],[8.68985,47.75686],[8.68022,47.78599],[8.65292,47.80066],[8.64425,47.76398],[8.62408,47.7626],[8.61657,47.79998],[8.56415,47.80633],[8.56814,47.78001],[8.48868,47.77215],[8.45771,47.7493],[8.44807,47.72426],[8.40569,47.69855],[8.4211,47.68407],[8.40473,47.67499],[8.41346,47.66676],[8.42264,47.66667],[8.44711,47.65379],[8.4667,47.65747],[8.46605,47.64103],[8.49656,47.64709],[8.5322,47.64687],[8.52801,47.66059],[8.56141,47.67088],[8.57683,47.66158],[8.6052,47.67258],[8.61113,47.66332],[8.62884,47.65098],[8.62049,47.63757],[8.60412,47.63735],[8.61471,47.64514],[8.60701,47.65271],[8.59545,47.64298],[8.60348,47.61204],[8.57586,47.59537],[8.55756,47.62394],[8.51686,47.63476],[8.50747,47.61897],[8.45578,47.60121],[8.46637,47.58389],[8.48949,47.588],[8.49431,47.58107],[8.43235,47.56617],[8.39477,47.57826],[8.38273,47.56608],[8.32735,47.57133],[8.30277,47.58607],[8.29524,47.5919],[8.29722,47.60603],[8.2824,47.61225],[8.26313,47.6103],[8.25863,47.61571],[8.23809,47.61204],[8.22577,47.60385],[8.22011,47.6181],[8.20617,47.62141],[8.19378,47.61636],[8.1652,47.5945],[8.14947,47.59558],[8.13823,47.59147],[8.13662,47.58432],[8.11543,47.5841],[8.10395,47.57918],[8.10002,47.56504],[8.08557,47.55768],[8.06663,47.56374],[8.04383,47.55443],[8.02136,47.55096],[8.00113,47.55616],[7.97581,47.55493],[7.95682,47.55789],[7.94494,47.54511],[7.91251,47.55031],[7.90673,47.57674],[7.88664,47.58854],[7.84412,47.5841],[7.81901,47.58798],[7.79486,47.55691],[7.75261,47.54599],[7.71961,47.54219],[7.69642,47.53297],[7.68101,47.53232],[7.6656,47.53752],[7.66174,47.54554],[7.65083,47.54662],[7.63338,47.56256],[7.67655,47.56435],[7.68904,47.57133],[7.67115,47.5871],[7.68486,47.59601],[7.69385,47.60099],[7.68229,47.59905],[7.67395,47.59212],[7.64599,47.59695],[7.64213,47.5944],[7.64309,47.59151],[7.61929,47.57683],[7.60459,47.57869],[7.60523,47.58519],[7.58945,47.59017],[7.58386,47.57536],[7.56684,47.57785],[7.56548,47.57617],[7.55689,47.57232],[7.55652,47.56779],[7.53634,47.55553],[7.52831,47.55347],[7.51723,47.54578],[7.50873,47.54546],[7.49691,47.53821],[7.50588,47.52856],[7.51904,47.53515],[7.53199,47.5284],[7.5229,47.51644],[7.49804,47.51798],[7.51076,47.49651],[7.47534,47.47932],[7.43356,47.49712],[7.42923,47.48628],[7.4583,47.47216],[7.4462,47.46264],[7.43088,47.45846],[7.40308,47.43638],[7.35603,47.43432],[7.33526,47.44186],[7.24669,47.4205],[7.17026,47.44312],[7.19583,47.49455],[7.16249,47.49025],[7.12781,47.50371],[7.07425,47.48863],[7.0231,47.50522],[6.98425,47.49432],[7.0024,47.45264],[6.93953,47.43388],[6.93744,47.40714],[6.88542,47.37262],[6.87959,47.35335],[7.03125,47.36996],[7.0564,47.35134],[7.05305,47.33304],[6.94316,47.28747],[6.95108,47.26428],[6.9508,47.24338],[6.8489,47.15933],[6.76788,47.1208],[6.68823,47.06616],[6.71531,47.0494],[6.43341,46.92703],[6.46456,46.88865],[6.43216,46.80336],[6.45209,46.77502],[6.38351,46.73171],[6.27135,46.68251],[6.11084,46.57649],[6.1567,46.54402],[6.07269,46.46244],[6.08427,46.44305],[6.06407,46.41676],[6.09926,46.40768],[6.15016,46.3778],[6.15985,46.37721],[6.16987,46.36759],[6.15738,46.3491],[6.13876,46.33844],[6.1198,46.31157],[6.11697,46.29547],[6.1013,46.28512],[6.11926,46.2634],[6.12446,46.25059],[6.10071,46.23772],[6.08563,46.24651],[6.07072,46.24085],[6.0633,46.24583],[6.05029,46.23518],[6.04602,46.23127],[6.03342,46.2383],[6.02461,46.23313],[5.97542,46.21525],[5.96515,46.19638],[5.99573,46.18587],[5.98846,46.17046],[5.98188,46.17392],[5.97508,46.15863],[5.9641,46.14412],[5.95781,46.12925],[5.97893,46.13303],[5.9871,46.14499],[6.01791,46.14228],[6.03614,46.13712],[6.04564,46.14031],[6.05203,46.15191],[6.07491,46.14879],[6.09199,46.15191],[6.09926,46.14373],[6.13397,46.1406],[6.15305,46.15194],[6.18116,46.16187],[6.18871,46.16644],[6.18707,46.17999],[6.19552,46.18401],[6.19807,46.18369],[6.20539,46.19163],[6.21114,46.1927],[6.21273,46.19409],[6.21603,46.19507],[6.21844,46.19837],[6.22222,46.19888],[6.22175,46.20045],[6.23544,46.20714],[6.23913,46.20511],[6.24821,46.20531],[6.26007,46.21165],[6.27694,46.21566],[6.29663,46.22688],[6.31041,46.24417],[6.29474,46.26221],[6.26749,46.24745],[6.24952,46.26255],[6.23775,46.27822],[6.25137,46.29014],[6.24826,46.30175],[6.21981,46.31304],[6.25432,46.3632],[6.53358,46.45431],[6.82312,46.42661],[6.8024,46.39171],[6.77152,46.34784],[6.86052,46.28512],[6.78968,46.14058],[6.89321,46.12548],[6.87868,46.03855],[6.93862,46.06502],[7.00946,45.9944],[7.04151,45.92435],[7.10685,45.85653],[7.56343,45.97421],[7.85949,45.91485],[7.9049,45.99945],[7.98881,45.99867],[8.02906,46.10331],[8.11383,46.11577],[8.16866,46.17817],[8.08814,46.26692],[8.31162,46.38044],[8.30648,46.41587],[8.42464,46.46367],[8.46317,46.43712],[8.45032,46.26869],[8.62242,46.12112],[8.75697,46.10395],[8.80778,46.10085],[8.85617,46.0748],[8.79414,46.00913],[8.78585,45.98973],[8.79362,45.99207],[8.8319,45.9879],[8.85121,45.97239],[8.86688,45.96135],[8.88904,45.95465],[8.93649,45.86775],[8.94372,45.86587],[8.93504,45.86245],[8.91129,45.8388],[8.94737,45.84285],[8.9621,45.83707],[8.99663,45.83466],[9.00324,45.82055],[9.0298,45.82127],[9.03279,45.82865],[9.03793,45.83548],[9.03505,45.83976],[9.04059,45.8464],[9.04546,45.84968],[9.06642,45.8761],[9.09065,45.89906],[8.99257,45.9698],[9.01618,46.04928],[9.24503,46.23616],[9.29226,46.32717],[9.25502,46.43743],[9.28136,46.49685],[9.36128,46.5081],[9.40487,46.46621],[9.45936,46.50873],[9.46117,46.37481],[9.57015,46.2958],[9.71273,46.29266],[9.73086,46.35071],[9.95249,46.38045],[10.07055,46.21668],[10.14439,46.22992],[10.17862,46.25626],[10.10506,46.3372],[10.165,46.41051],[10.03715,46.44479],[10.10307,46.61003],[10.23674,46.63484],[10.25309,46.57432],[10.46136,46.53164],[10.49375,46.62049],[10.44686,46.64162],[10.40475,46.63671],[10.38659,46.67847],[10.47197,46.85698],[10.48376,46.93891],[10.36933,47.00212],[10.30031,46.92093],[10.24128,46.93147],[10.22675,46.86942],[10.10715,46.84296],[9.98058,46.91434],[9.88266,46.93343],[9.87935,47.01337],[9.60717,47.06091],[9.55721,47.04762],[9.54041,47.06495],[9.47548,47.05257],[9.47139,47.06402],[9.51362,47.08505],[9.52089,47.10019],[9.51044,47.13727],[9.48774,47.17402],[9.4891,47.19346],[9.50318,47.22153],[9.52406,47.24959],[9.53116,47.27029],[9.54773,47.2809],[9.55857,47.29919],[9.58513,47.31334],[9.59978,47.34671],[9.62476,47.36639],[9.65427,47.36824],[9.66243,47.37136],[9.6711,47.37824],[9.67445,47.38429],[9.67334,47.39191],[9.6629,47.39591],[9.65136,47.40504],[9.65043,47.41937],[9.6446,47.43233],[9.64483,47.43842],[9.65863,47.44847],[9.65728,47.45383],[9.6423,47.45599],[9.62475,47.45685],[9.62158,47.45858],[9.60841,47.47178],[9.60484,47.46358],[9.60205,47.46165],[9.59482,47.46305],[9.58208,47.48344],[9.56312,47.49495],[9.55125,47.53629],[9.25619,47.65939],[9.18203,47.65598],[9.17593,47.65399],[9.1755,47.65584],[9.1705,47.65513],[9.15181,47.66904],[9.13845,47.66389],[9.09891,47.67801],[9.02093,47.6868],[8.94093,47.65596],[8.89946,47.64769],[8.87625,47.65441],[8.87383,47.67045],[8.85065,47.68209],[8.86989,47.70504],[8.82002,47.71458],[8.80663,47.73821],[8.77309,47.72059],[8.76965,47.7075],[8.79966,47.70222],[8.79511,47.67462],[8.75856,47.68969],[8.72809,47.69282]],[[8.95861,45.96485],[8.96668,45.98436],[8.97741,45.98317],[8.97604,45.96151],[8.95861,45.96485]],[[8.70847,47.68904],[8.68985,47.69552],[8.66837,47.68437],[8.65769,47.68928],[8.67508,47.6979],[8.66416,47.71367],[8.70237,47.71453],[8.71773,47.69088],[8.70847,47.68904]]]]}},{type:"Feature",properties:{iso1A2:"CI",iso1A3:"CIV",iso1N3:"384",wikidata:"Q1008",nameEn:"C\xf4te d'Ivoire",groups:["011","202","002","UN"],callingCodes:["225"]},geometry:{type:"MultiPolygon",coordinates:[[[[-7.52774,3.7105],[-3.34019,4.17519],[-3.10675,5.08515],[-3.11073,5.12675],[-3.063,5.13665],[-2.96554,5.10397],[-2.95261,5.12477],[-2.75502,5.10657],[-2.73074,5.1364],[-2.77625,5.34621],[-2.72737,5.34789],[-2.76614,5.60963],[-2.85378,5.65156],[-2.93132,5.62137],[-2.96671,5.6415],[-2.95323,5.71865],[-3.01896,5.71697],[-3.25999,6.62521],[-3.21954,6.74407],[-3.23327,6.81744],[-2.95438,7.23737],[-2.97822,7.27165],[-2.92339,7.60847],[-2.79467,7.86002],[-2.78395,7.94974],[-2.74819,7.92613],[-2.67787,8.02055],[-2.61232,8.02645],[-2.62901,8.11495],[-2.49037,8.20872],[-2.58243,8.7789],[-2.66357,9.01771],[-2.77799,9.04949],[-2.69814,9.22717],[-2.68802,9.49343],[-2.76494,9.40778],[-2.93012,9.57403],[-3.00765,9.74019],[-3.16609,9.85147],[-3.19306,9.93781],[-3.27228,9.84981],[-3.31779,9.91125],[-3.69703,9.94279],[-4.25999,9.76012],[-4.31392,9.60062],[-4.6426,9.70696],[-4.96621,9.89132],[-4.96453,9.99923],[-5.12465,10.29788],[-5.39602,10.2929],[-5.51058,10.43177],[-5.65135,10.46767],[-5.78124,10.43952],[-5.99478,10.19694],[-6.18851,10.24244],[-6.1731,10.46983],[-6.24795,10.74248],[-6.325,10.68624],[-6.40646,10.69922],[-6.42847,10.5694],[-6.52974,10.59104],[-6.63541,10.66893],[-6.68164,10.35074],[-6.93921,10.35291],[-7.01186,10.25111],[-6.97444,10.21644],[-7.00966,10.15794],[-7.0603,10.14711],[-7.13331,10.24877],[-7.3707,10.24677],[-7.44555,10.44602],[-7.52261,10.4655],[-7.54462,10.40921],[-7.63048,10.46334],[-7.92107,10.15577],[-7.97971,10.17117],[-8.01225,10.1021],[-8.11921,10.04577],[-8.15652,9.94288],[-8.09434,9.86936],[-8.14657,9.55062],[-8.03463,9.39604],[-7.85056,9.41812],[-7.90777,9.20456],[-7.73862,9.08422],[-7.92518,8.99332],[-7.95503,8.81146],[-7.69882,8.66148],[-7.65653,8.36873],[-7.92518,8.50652],[-8.22991,8.48438],[-8.2411,8.24196],[-8.062,8.16071],[-7.98675,8.20134],[-7.99919,8.11023],[-7.94695,8.00925],[-8.06449,8.04989],[-8.13414,7.87991],[-8.09931,7.78626],[-8.21374,7.54466],[-8.4003,7.6285],[-8.47114,7.55676],[-8.41935,7.51203],[-8.37458,7.25794],[-8.29249,7.1691],[-8.31736,6.82837],[-8.59456,6.50612],[-8.48652,6.43797],[-8.45666,6.49977],[-8.38453,6.35887],[-8.3298,6.36381],[-8.17557,6.28222],[-8.00642,6.31684],[-7.90692,6.27728],[-7.83478,6.20309],[-7.8497,6.08932],[-7.79747,6.07696],[-7.78254,5.99037],[-7.70294,5.90625],[-7.67309,5.94337],[-7.48155,5.80974],[-7.46165,5.84934],[-7.43677,5.84687],[-7.43926,5.74787],[-7.37209,5.61173],[-7.43428,5.42355],[-7.36463,5.32944],[-7.46165,5.26256],[-7.48901,5.14118],[-7.55369,5.08667],[-7.53876,4.94294],[-7.59349,4.8909],[-7.53259,4.35145],[-7.52774,3.7105]]]]}},{type:"Feature",properties:{iso1A2:"CK",iso1A3:"COK",iso1N3:"184",wikidata:"Q26988",nameEn:"Cook Islands",country:"NZ",groups:["061","009","UN"],driveSide:"left",callingCodes:["682"]},geometry:{type:"MultiPolygon",coordinates:[[[[-168.15106,-10.26955],[-156.45576,-31.75456],[-156.48634,-15.52824],[-156.50903,-7.4975],[-168.15106,-10.26955]]]]}},{type:"Feature",properties:{iso1A2:"CL",iso1A3:"CHL",iso1N3:"152",wikidata:"Q298",nameEn:"Chile",groups:["005","419","019","UN"],callingCodes:["56"]},geometry:{type:"MultiPolygon",coordinates:[[[[-68.60702,-52.65781],[-68.41683,-52.33516],[-69.97824,-52.00845],[-71.99889,-51.98018],[-72.33873,-51.59954],[-72.31343,-50.58411],[-73.15765,-50.78337],[-73.55259,-49.92488],[-73.45156,-49.79461],[-73.09655,-49.14342],[-72.56894,-48.81116],[-72.54042,-48.52392],[-72.27662,-48.28727],[-72.50478,-47.80586],[-71.94152,-47.13595],[-71.68577,-46.55385],[-71.75614,-45.61611],[-71.35687,-45.22075],[-72.06985,-44.81756],[-71.26418,-44.75684],[-71.16436,-44.46244],[-71.81318,-44.38097],[-71.64206,-43.64774],[-72.14828,-42.85321],[-72.15541,-42.15941],[-71.74901,-42.11711],[-71.92726,-40.72714],[-71.37826,-38.91474],[-70.89532,-38.6923],[-71.24279,-37.20264],[-70.95047,-36.4321],[-70.38008,-36.02375],[-70.49416,-35.24145],[-69.87386,-34.13344],[-69.88099,-33.34489],[-70.55832,-31.51559],[-70.14479,-30.36595],[-69.8596,-30.26131],[-69.99507,-29.28351],[-69.80969,-29.07185],[-69.66709,-28.44055],[-69.22504,-27.95042],[-68.77586,-27.16029],[-68.43363,-27.08414],[-68.27677,-26.90626],[-68.59048,-26.49861],[-68.56909,-26.28146],[-68.38372,-26.15353],[-68.57622,-25.32505],[-68.38372,-25.08636],[-68.56909,-24.69831],[-68.24825,-24.42596],[-67.33563,-24.04237],[-66.99632,-22.99839],[-67.18382,-22.81525],[-67.54284,-22.89771],[-67.85114,-22.87076],[-68.18816,-21.28614],[-68.40403,-20.94562],[-68.53957,-20.91542],[-68.55383,-20.7355],[-68.44023,-20.62701],[-68.7276,-20.46178],[-68.74273,-20.08817],[-68.57132,-20.03134],[-68.54611,-19.84651],[-68.66761,-19.72118],[-68.41218,-19.40499],[-68.61989,-19.27584],[-68.80602,-19.08355],[-68.87082,-19.06003],[-68.94987,-18.93302],[-69.07432,-18.28259],[-69.14807,-18.16893],[-69.07496,-18.03715],[-69.28671,-17.94844],[-69.34126,-17.72753],[-69.46623,-17.60518],[-69.46897,-17.4988],[-69.66483,-17.65083],[-69.79087,-17.65563],[-69.82868,-17.72048],[-69.75305,-17.94605],[-69.81607,-18.12582],[-69.96732,-18.25992],[-70.16394,-18.31737],[-70.31267,-18.31258],[-70.378,-18.3495],[-70.59118,-18.35072],[-113.52687,-26.52828],[-68.11646,-58.14883],[-66.07313,-55.19618],[-67.11046,-54.94199],[-67.46182,-54.92205],[-68.01394,-54.8753],[-68.60733,-54.9125],[-68.60702,-52.65781]]]]}},{type:"Feature",properties:{iso1A2:"CM",iso1A3:"CMR",iso1N3:"120",wikidata:"Q1009",nameEn:"Cameroon",groups:["017","202","002","UN"],callingCodes:["237"]},geometry:{type:"MultiPolygon",coordinates:[[[[14.83314,12.62963],[14.55058,12.78256],[14.56101,12.91036],[14.46881,13.08259],[14.08251,13.0797],[14.20204,12.53405],[14.17523,12.41916],[14.22215,12.36533],[14.4843,12.35223],[14.6474,12.17466],[14.61612,11.7798],[14.55207,11.72001],[14.64591,11.66166],[14.6124,11.51283],[14.17821,11.23831],[13.97489,11.30258],[13.78945,11.00154],[13.7403,11.00593],[13.70753,10.94451],[13.73434,10.9255],[13.54964,10.61236],[13.5705,10.53183],[13.43644,10.13326],[13.34111,10.12299],[13.25025,10.03647],[13.25323,10.00127],[13.286,9.9822],[13.27409,9.93232],[13.24132,9.91031],[13.25025,9.86042],[13.29941,9.8296],[13.25472,9.76795],[13.22642,9.57266],[13.02385,9.49334],[12.85628,9.36698],[12.91958,9.33905],[12.90022,9.11411],[12.81085,8.91992],[12.79,8.75361],[12.71701,8.7595],[12.68722,8.65938],[12.44146,8.6152],[12.4489,8.52536],[12.26123,8.43696],[12.24782,8.17904],[12.19271,8.10826],[12.20909,7.97553],[11.99908,7.67302],[12.01844,7.52981],[11.93205,7.47812],[11.84864,7.26098],[11.87396,7.09398],[11.63117,6.9905],[11.55818,6.86186],[11.57755,6.74059],[11.51499,6.60892],[11.42264,6.5882],[11.42041,6.53789],[11.09495,6.51717],[11.09644,6.68437],[10.94302,6.69325],[10.8179,6.83377],[10.83727,6.9358],[10.60789,7.06885],[10.59746,7.14719],[10.57214,7.16345],[10.53639,6.93432],[10.21466,6.88996],[10.15135,7.03781],[9.86314,6.77756],[9.77824,6.79088],[9.70674,6.51717],[9.51757,6.43874],[8.84209,5.82562],[8.88156,5.78857],[8.83687,5.68483],[8.92029,5.58403],[8.78027,5.1243],[8.60302,4.87353],[8.34397,4.30689],[9.22018,3.72052],[9.81162,2.33797],[9.82123,2.35097],[9.83754,2.32428],[9.83238,2.29079],[9.84716,2.24676],[9.89012,2.20457],[9.90749,2.20049],[9.991,2.16561],[11.3561,2.17217],[11.37116,2.29975],[13.28534,2.25716],[13.29457,2.16106],[14.61145,2.17866],[15.00996,1.98887],[15.22634,2.03243],[15.34776,1.91264],[15.48942,1.98265],[16.02959,1.76483],[16.02647,1.65591],[16.14634,1.70259],[16.05294,1.9811],[16.08563,2.19733],[16.15568,2.18955],[16.19357,2.21537],[16.08252,2.45708],[16.05449,3.02306],[15.77725,3.26835],[15.73522,3.24348],[15.07686,4.01805],[15.17482,4.05131],[15.10644,4.1362],[15.08609,4.30282],[15.00825,4.41458],[14.73383,4.6135],[14.65489,5.21343],[14.57083,5.23979],[14.52724,5.28319],[14.62531,5.51411],[14.58951,5.59777],[14.62375,5.70466],[14.60974,5.91838],[14.49455,5.91683],[14.42917,6.00508],[14.43073,6.08867],[14.56149,6.18928],[14.74206,6.26356],[14.80122,6.34866],[14.79966,6.39043],[14.96311,6.75693],[15.04717,6.77085],[15.23397,7.25135],[15.49743,7.52179],[15.56964,7.58936],[15.59272,7.7696],[15.50743,7.79302],[15.20426,8.50892],[15.09484,8.65982],[14.83566,8.80557],[14.35707,9.19611],[14.37094,9.2954],[13.97544,9.6365],[14.01793,9.73169],[14.1317,9.82413],[14.20411,10.00055],[14.4673,10.00264],[14.80082,9.93818],[14.95722,9.97926],[15.05999,9.94845],[15.14043,9.99246],[15.24618,9.99246],[15.41408,9.92876],[15.68761,9.99344],[15.50535,10.1098],[15.30874,10.31063],[15.23724,10.47764],[15.14936,10.53915],[15.15532,10.62846],[15.06737,10.80921],[15.09127,10.87431],[15.04957,11.02347],[15.10021,11.04101],[15.0585,11.40481],[15.13149,11.5537],[15.06595,11.71126],[15.11579,11.79313],[15.04808,11.8731],[15.05786,12.0608],[15.0349,12.10698],[15.00146,12.1223],[14.96952,12.0925],[14.89019,12.16593],[14.90827,12.3269],[14.83314,12.62963]]]]}},{type:"Feature",properties:{iso1A2:"CN",iso1A3:"CHN",iso1N3:"156",wikidata:"Q148",nameEn:"People's Republic of China"},geometry:null},{type:"Feature",properties:{iso1A2:"CO",iso1A3:"COL",iso1N3:"170",wikidata:"Q739",nameEn:"Colombia",groups:["005","419","019","UN"],callingCodes:["57"]},geometry:{type:"MultiPolygon",coordinates:[[[[-71.19849,12.65801],[-81.58685,18.0025],[-82.06974,14.49418],[-82.56142,11.91792],[-78.79327,9.93766],[-77.58292,9.22278],[-77.32389,8.81247],[-77.45064,8.49991],[-77.17257,7.97422],[-77.57185,7.51147],[-77.72514,7.72348],[-77.72157,7.47612],[-77.81426,7.48319],[-77.89178,7.22681],[-78.06168,7.07793],[-82.12561,4.00341],[-78.87137,1.47457],[-78.42749,1.15389],[-77.85677,.80197],[-77.7148,.85003],[-77.68613,.83029],[-77.66416,.81604],[-77.67815,.73863],[-77.49984,.64476],[-77.52001,.40782],[-76.89177,.24736],[-76.4094,.24015],[-76.41215,.38228],[-76.23441,.42294],[-75.82927,.09578],[-75.25764,-.11943],[-75.18513,-.0308],[-74.42701,-.50218],[-74.26675,-.97229],[-73.65312,-1.26222],[-72.92587,-2.44514],[-71.75223,-2.15058],[-70.94377,-2.23142],[-70.04609,-2.73906],[-70.71396,-3.7921],[-70.52393,-3.87553],[-70.3374,-3.79505],[-69.94708,-4.2431],[-69.43395,-1.42219],[-69.4215,-1.01853],[-69.59796,-.75136],[-69.603,-.51947],[-70.03658,-.19681],[-70.04162,.55437],[-69.47696,.71065],[-69.20976,.57958],[-69.14422,.84172],[-69.26017,1.06856],[-69.82987,1.07864],[-69.83491,1.69353],[-69.53746,1.76408],[-69.38621,1.70865],[-68.18128,1.72881],[-68.26699,1.83463],[-68.18632,2.00091],[-67.9292,1.82455],[-67.40488,2.22258],[-67.299,1.87494],[-67.15784,1.80439],[-67.08222,1.17441],[-66.85795,1.22998],[-67.21967,2.35778],[-67.65696,2.81691],[-67.85862,2.79173],[-67.85862,2.86727],[-67.30945,3.38393],[-67.50067,3.75812],[-67.62671,3.74303],[-67.85358,4.53249],[-67.83341,5.31104],[-67.59141,5.5369],[-67.63914,5.64963],[-67.58558,5.84537],[-67.43513,5.98835],[-67.4625,6.20625],[-67.60654,6.2891],[-69.41843,6.1072],[-70.10716,6.96516],[-70.7596,7.09799],[-71.03941,6.98163],[-71.37234,7.01588],[-71.42212,7.03854],[-71.44118,7.02116],[-71.82441,7.04314],[-72.04895,7.03837],[-72.19437,7.37034],[-72.43132,7.40034],[-72.47415,7.48928],[-72.45321,7.57232],[-72.47827,7.65604],[-72.46763,7.79518],[-72.44454,7.86031],[-72.46183,7.90682],[-72.45806,7.91141],[-72.47042,7.92306],[-72.48183,7.92909],[-72.48801,7.94329],[-72.47213,7.96106],[-72.39137,8.03534],[-72.35163,8.01163],[-72.36987,8.19976],[-72.4042,8.36513],[-72.65474,8.61428],[-72.77415,9.10165],[-72.94052,9.10663],[-73.02119,9.27584],[-73.36905,9.16636],[-72.98085,9.85253],[-72.88002,10.44309],[-72.4767,11.1117],[-72.24983,11.14138],[-71.9675,11.65536],[-71.3275,11.85],[-70.92579,11.96275],[-71.19849,12.65801]]]]}},{type:"Feature",properties:{iso1A2:"CP",iso1A3:"CPT",wikidata:"Q161258",nameEn:"Clipperton Island",country:"FR",groups:["013","003","019","UN"],isoStatus:"excRes"},geometry:{type:"MultiPolygon",coordinates:[[[[-110.36279,9.79626],[-108.755,9.84085],[-109.04145,11.13245],[-110.36279,9.79626]]]]}},{type:"Feature",properties:{iso1A2:"CR",iso1A3:"CRI",iso1N3:"188",wikidata:"Q800",nameEn:"Costa Rica",groups:["013","003","419","019","UN"],callingCodes:["506"]},geometry:{type:"MultiPolygon",coordinates:[[[[-83.68276,11.01562],[-83.66597,10.79916],[-83.90838,10.71161],[-84.68197,11.07568],[-84.92439,10.9497],[-85.60529,11.22607],[-85.71223,11.06868],[-86.14524,11.09059],[-87.41779,5.02401],[-82.94503,7.93865],[-82.89978,8.04083],[-82.89137,8.05755],[-82.88641,8.10219],[-82.9388,8.26634],[-83.05209,8.33394],[-82.93056,8.43465],[-82.8679,8.44042],[-82.8382,8.48117],[-82.83322,8.52464],[-82.83975,8.54755],[-82.82739,8.60153],[-82.8794,8.6981],[-82.92068,8.74832],[-82.91377,8.774],[-82.88253,8.83331],[-82.72126,8.97125],[-82.93516,9.07687],[-82.93516,9.46741],[-82.84871,9.4973],[-82.87919,9.62645],[-82.77206,9.59573],[-82.66667,9.49746],[-82.61345,9.49881],[-82.56507,9.57279],[-82.51044,9.65379],[-83.54024,10.96805],[-83.68276,11.01562]]]]}},{type:"Feature",properties:{iso1A2:"CU",iso1A3:"CUB",iso1N3:"192",wikidata:"Q241",nameEn:"Cuba",groups:["029","003","419","019","UN"],callingCodes:["53"]},geometry:{type:"MultiPolygon",coordinates:[[[[-73.62304,20.6935],[-82.02215,24.23074],[-85.77883,21.92705],[-74.81171,18.82201],[-73.62304,20.6935]]]]}},{type:"Feature",properties:{iso1A2:"CV",iso1A3:"CPV",iso1N3:"132",wikidata:"Q1011",nameEn:"Cape Verde",groups:["Q105472","011","202","002","UN"],callingCodes:["238"]},geometry:{type:"MultiPolygon",coordinates:[[[[-28.81604,14.57305],[-20.39702,14.12816],[-23.37101,19.134],[-28.81604,14.57305]]]]}},{type:"Feature",properties:{iso1A2:"CW",iso1A3:"CUW",iso1N3:"531",wikidata:"Q25279",nameEn:"Cura\xe7ao",aliases:["NL-CW"],country:"NL",groups:["Q1451600","029","003","419","019","UN"],callingCodes:["599"]},geometry:{type:"MultiPolygon",coordinates:[[[[-68.90012,12.62309],[-69.59009,12.46019],[-68.99639,11.79035],[-68.33524,11.78151],[-68.90012,12.62309]]]]}},{type:"Feature",properties:{iso1A2:"CX",iso1A3:"CXR",iso1N3:"162",wikidata:"Q31063",nameEn:"Christmas Island",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["61"]},geometry:{type:"MultiPolygon",coordinates:[[[[105.66835,-9.31927],[104.67494,-11.2566],[106.66176,-11.14349],[105.66835,-9.31927]]]]}},{type:"Feature",properties:{iso1A2:"CY",iso1A3:"CYP",iso1N3:"196",wikidata:"Q229",nameEn:"Republic of Cyprus",groups:["Q644636","EU","145","142","UN"],driveSide:"left",callingCodes:["357"]},geometry:{type:"MultiPolygon",coordinates:[[[[32.46489,35.48584],[30.15137,34.08517],[32.74412,34.43926],[32.75515,34.64985],[32.76136,34.68318],[32.79433,34.67883],[32.82717,34.70622],[32.86014,34.70585],[32.86167,34.68734],[32.9068,34.66102],[32.91398,34.67343],[32.93043,34.67091],[32.92807,34.66736],[32.93449,34.66241],[32.93693,34.67027],[32.94379,34.67111],[32.94683,34.67907],[32.95539,34.68471],[32.99135,34.68061],[32.98668,34.67268],[32.99014,34.65518],[32.97736,34.65277],[32.97079,34.66112],[32.95325,34.66462],[32.94796,34.6587],[32.94976,34.65204],[32.95471,34.64528],[32.95323,34.64075],[32.95891,34.62919],[32.96718,34.63446],[32.96968,34.64046],[33.0138,34.64424],[33.26744,34.49942],[33.83531,34.73974],[33.70575,34.97947],[33.70639,34.99303],[33.71514,35.00294],[33.69731,35.01754],[33.69938,35.03123],[33.67678,35.03866],[33.63765,35.03869],[33.61215,35.0527],[33.59658,35.03635],[33.567,35.04803],[33.57478,35.06049],[33.53975,35.08151],[33.48915,35.06594],[33.47666,35.00701],[33.45256,35.00288],[33.45178,35.02078],[33.47825,35.04103],[33.48136,35.0636],[33.46813,35.10564],[33.41675,35.16325],[33.4076,35.20062],[33.38575,35.2018],[33.37248,35.18698],[33.3717,35.1788],[33.36569,35.17479],[33.35612,35.17402],[33.35596,35.17942],[33.34964,35.17803],[33.35056,35.18328],[33.31955,35.18096],[33.3072,35.16816],[33.27068,35.16815],[33.15138,35.19504],[33.11105,35.15639],[33.08249,35.17319],[33.01192,35.15639],[32.94471,35.09422],[32.86406,35.1043],[32.85733,35.07742],[32.70779,35.14127],[32.70947,35.18328],[32.64864,35.19967],[32.60361,35.16647],[32.46489,35.48584]]],[[[33.74144,35.01053],[33.7492,35.01319],[33.74983,35.02274],[33.74265,35.02329],[33.73781,35.02181],[33.7343,35.01178],[33.74144,35.01053]]],[[[33.77312,34.9976],[33.75994,35.00113],[33.75682,34.99916],[33.76605,34.99543],[33.76738,34.99188],[33.7778,34.98981],[33.77843,34.988],[33.78149,34.98854],[33.78318,34.98699],[33.78571,34.98951],[33.78917,34.98854],[33.79191,34.98914],[33.78516,34.99582],[33.77553,34.99518],[33.77312,34.9976]]]]}},{type:"Feature",properties:{iso1A2:"CZ",iso1A3:"CZE",iso1N3:"203",wikidata:"Q213",nameEn:"Czechia",groups:["EU","151","150","UN"],callingCodes:["420"]},geometry:{type:"MultiPolygon",coordinates:[[[[14.82803,50.86966],[14.79139,50.81438],[14.70661,50.84096],[14.61993,50.86049],[14.63434,50.8883],[14.65259,50.90513],[14.64802,50.93241],[14.58024,50.91443],[14.56374,50.922],[14.59702,50.96148],[14.59908,50.98685],[14.58215,50.99306],[14.56432,51.01008],[14.53438,51.00374],[14.53321,51.01679],[14.49873,51.02242],[14.50809,51.0427],[14.49991,51.04692],[14.49154,51.04382],[14.49202,51.02286],[14.45827,51.03712],[14.41335,51.02086],[14.30098,51.05515],[14.25665,50.98935],[14.28776,50.97718],[14.32353,50.98556],[14.32793,50.97379],[14.30251,50.96606],[14.31422,50.95243],[14.39848,50.93866],[14.38691,50.89907],[14.30098,50.88448],[14.27123,50.89386],[14.24314,50.88761],[14.22331,50.86049],[14.02982,50.80662],[13.98864,50.8177],[13.89113,50.78533],[13.89444,50.74142],[13.82942,50.7251],[13.76316,50.73487],[13.70204,50.71771],[13.65977,50.73096],[13.52474,50.70394],[13.53748,50.67654],[13.5226,50.64721],[13.49742,50.63133],[13.46413,50.60102],[13.42189,50.61243],[13.37485,50.64931],[13.37805,50.627],[13.32264,50.60317],[13.32594,50.58009],[13.29454,50.57904],[13.25158,50.59268],[13.19043,50.50237],[13.13424,50.51709],[13.08301,50.50132],[13.0312,50.50944],[13.02038,50.4734],[13.02147,50.44763],[12.98433,50.42016],[12.94058,50.40944],[12.82465,50.45738],[12.73476,50.43237],[12.73044,50.42268],[12.70731,50.39948],[12.67261,50.41949],[12.51356,50.39694],[12.48747,50.37278],[12.49214,50.35228],[12.48256,50.34784],[12.46643,50.35527],[12.43722,50.33774],[12.43371,50.32506],[12.39924,50.32302],[12.40158,50.29521],[12.36594,50.28289],[12.35425,50.23993],[12.33263,50.24367],[12.32445,50.20442],[12.33847,50.19432],[12.32596,50.17146],[12.29232,50.17524],[12.28063,50.19544],[12.28755,50.22429],[12.23943,50.24594],[12.24791,50.25525],[12.26953,50.25189],[12.25119,50.27079],[12.20823,50.2729],[12.18013,50.32146],[12.10907,50.32041],[12.13716,50.27396],[12.09287,50.25032],[12.19335,50.19997],[12.21484,50.16399],[12.1917,50.13434],[12.2073,50.10315],[12.23709,50.10213],[12.27433,50.0771],[12.26111,50.06331],[12.30798,50.05719],[12.49908,49.97305],[12.47264,49.94222],[12.55197,49.92094],[12.48256,49.83575],[12.46603,49.78882],[12.40489,49.76321],[12.4462,49.70233],[12.52553,49.68415],[12.53544,49.61888],[12.56188,49.6146],[12.60155,49.52887],[12.64782,49.52565],[12.64121,49.47628],[12.669,49.42935],[12.71227,49.42363],[12.75854,49.3989],[12.78168,49.34618],[12.88414,49.33541],[12.88249,49.35479],[12.94859,49.34079],[13.03618,49.30417],[13.02957,49.27399],[13.05883,49.26259],[13.17665,49.16713],[13.17019,49.14339],[13.20405,49.12303],[13.23689,49.11412],[13.28242,49.1228],[13.39479,49.04812],[13.40802,48.98851],[13.50221,48.93752],[13.50552,48.97441],[13.58319,48.96899],[13.61624,48.9462],[13.67739,48.87886],[13.73854,48.88538],[13.76994,48.83537],[13.78977,48.83319],[13.8096,48.77877],[13.84023,48.76988],[14.06151,48.66873],[14.01482,48.63788],[14.09104,48.5943],[14.20691,48.5898],[14.33909,48.55852],[14.43076,48.58855],[14.4587,48.64695],[14.56139,48.60429],[14.60808,48.62881],[14.66762,48.58215],[14.71794,48.59794],[14.72756,48.69502],[14.80584,48.73489],[14.80821,48.77711],[14.81545,48.7874],[14.94773,48.76268],[14.95641,48.75915],[14.9758,48.76857],[14.98112,48.77524],[14.9782,48.7766],[14.98032,48.77959],[14.95072,48.79101],[14.98917,48.90082],[14.97612,48.96983],[14.99878,49.01444],[15.15534,48.99056],[15.16358,48.94278],[15.26177,48.95766],[15.28305,48.98831],[15.34823,48.98444],[15.48027,48.94481],[15.51357,48.91549],[15.61622,48.89541],[15.6921,48.85973],[15.75341,48.8516],[15.78087,48.87644],[15.84404,48.86921],[16.06034,48.75436],[16.37345,48.729],[16.40915,48.74576],[16.46134,48.80865],[16.67008,48.77699],[16.68518,48.7281],[16.71883,48.73806],[16.79779,48.70998],[16.90354,48.71541],[16.93955,48.60371],[17.00215,48.70887],[17.11202,48.82925],[17.19355,48.87602],[17.29054,48.85546],[17.3853,48.80936],[17.45671,48.85004],[17.5295,48.81117],[17.7094,48.86721],[17.73126,48.87885],[17.77944,48.92318],[17.87831,48.92679],[17.91814,49.01784],[18.06885,49.03157],[18.1104,49.08624],[18.15022,49.24518],[18.18456,49.28909],[18.36446,49.3267],[18.4139,49.36517],[18.4084,49.40003],[18.44686,49.39467],[18.54848,49.47059],[18.53063,49.49022],[18.57183,49.51162],[18.6144,49.49824],[18.67757,49.50895],[18.74761,49.492],[18.84521,49.51672],[18.84786,49.5446],[18.80479,49.6815],[18.72838,49.68163],[18.69817,49.70473],[18.62676,49.71983],[18.62943,49.74603],[18.62645,49.75002],[18.61368,49.75426],[18.61278,49.7618],[18.57183,49.83334],[18.60341,49.86256],[18.57045,49.87849],[18.57697,49.91565],[18.54299,49.92537],[18.54495,49.9079],[18.53423,49.89906],[18.41604,49.93498],[18.33562,49.94747],[18.33278,49.92415],[18.31914,49.91565],[18.27794,49.93863],[18.27107,49.96779],[18.21752,49.97309],[18.20241,49.99958],[18.10628,50.00223],[18.07898,50.04535],[18.03212,50.06574],[18.00396,50.04954],[18.04585,50.03311],[18.04585,50.01194],[18.00191,50.01723],[17.86886,49.97452],[17.77669,50.02253],[17.7506,50.07896],[17.6888,50.12037],[17.66683,50.10275],[17.59404,50.16437],[17.70528,50.18812],[17.76296,50.23382],[17.72176,50.25665],[17.74648,50.29966],[17.69292,50.32859],[17.67764,50.28977],[17.58889,50.27837],[17.3702,50.28123],[17.34548,50.2628],[17.34273,50.32947],[17.27681,50.32246],[17.19991,50.3654],[17.19579,50.38817],[17.14498,50.38117],[17.1224,50.39494],[16.89229,50.45117],[16.85933,50.41093],[16.90877,50.38642],[16.94448,50.31281],[16.99803,50.30316],[17.02138,50.27772],[16.99803,50.25753],[17.02825,50.23118],[17.00353,50.21449],[16.98018,50.24172],[16.8456,50.20834],[16.7014,50.09659],[16.63137,50.1142],[16.55446,50.16613],[16.56407,50.21009],[16.42674,50.32509],[16.39379,50.3207],[16.3622,50.34875],[16.36495,50.37679],[16.30289,50.38292],[16.28118,50.36891],[16.22821,50.41054],[16.21585,50.40627],[16.19526,50.43291],[16.31413,50.50274],[16.34572,50.49575],[16.44597,50.58041],[16.33611,50.66579],[16.23174,50.67101],[16.20839,50.63096],[16.10265,50.66405],[16.02437,50.60046],[15.98317,50.61528],[16.0175,50.63009],[15.97219,50.69799],[15.87331,50.67188],[15.81683,50.75666],[15.73186,50.73885],[15.43798,50.80833],[15.3803,50.77187],[15.36656,50.83956],[15.2773,50.8907],[15.27043,50.97724],[15.2361,50.99886],[15.1743,50.9833],[15.16744,51.01959],[15.11937,50.99021],[15.10152,51.01095],[15.06218,51.02269],[15.03895,51.0123],[15.02433,51.0242],[14.96419,50.99108],[15.01088,50.97984],[14.99852,50.86817],[14.82803,50.86966]]]]}},{type:"Feature",properties:{iso1A2:"DE",iso1A3:"DEU",iso1N3:"276",wikidata:"Q183",nameEn:"Germany",groups:["EU","155","150","UN"],callingCodes:["49"]},geometry:{type:"MultiPolygon",coordinates:[[[[8.70847,47.68904],[8.71773,47.69088],[8.70237,47.71453],[8.66416,47.71367],[8.67508,47.6979],[8.65769,47.68928],[8.66837,47.68437],[8.68985,47.69552],[8.70847,47.68904]]],[[[8.72617,47.69651],[8.72809,47.69282],[8.75856,47.68969],[8.79511,47.67462],[8.79966,47.70222],[8.76965,47.7075],[8.77309,47.72059],[8.80663,47.73821],[8.82002,47.71458],[8.86989,47.70504],[8.85065,47.68209],[8.87383,47.67045],[8.87625,47.65441],[8.89946,47.64769],[8.94093,47.65596],[9.02093,47.6868],[9.09891,47.67801],[9.13845,47.66389],[9.15181,47.66904],[9.1705,47.65513],[9.1755,47.65584],[9.17593,47.65399],[9.18203,47.65598],[9.25619,47.65939],[9.55125,47.53629],[9.72736,47.53457],[9.76748,47.5934],[9.80254,47.59419],[9.82591,47.58158],[9.8189,47.54688],[9.87499,47.52953],[9.87733,47.54688],[9.92407,47.53111],[9.96029,47.53899],[10.00003,47.48216],[10.03859,47.48927],[10.07131,47.45531],[10.09001,47.46005],[10.1052,47.4316],[10.06897,47.40709],[10.09819,47.35724],[10.11805,47.37228],[10.16362,47.36674],[10.17648,47.38889],[10.2127,47.38019],[10.22774,47.38904],[10.23757,47.37609],[10.19998,47.32832],[10.2147,47.31014],[10.17648,47.29149],[10.17531,47.27167],[10.23257,47.27088],[10.33424,47.30813],[10.39851,47.37623],[10.4324,47.38494],[10.4359,47.41183],[10.47446,47.43318],[10.46278,47.47901],[10.44291,47.48453],[10.4324,47.50111],[10.44992,47.5524],[10.43473,47.58394],[10.47329,47.58552],[10.48849,47.54057],[10.56912,47.53584],[10.60337,47.56755],[10.63456,47.5591],[10.68832,47.55752],[10.6965,47.54253],[10.7596,47.53228],[10.77596,47.51729],[10.88814,47.53701],[10.91268,47.51334],[10.86945,47.5015],[10.87061,47.4786],[10.90918,47.48571],[10.93839,47.48018],[10.92437,47.46991],[10.98513,47.42882],[10.97111,47.41617],[10.97111,47.39561],[11.11835,47.39719],[11.12536,47.41222],[11.20482,47.43198],[11.25157,47.43277],[11.22002,47.3964],[11.27844,47.39956],[11.29597,47.42566],[11.33804,47.44937],[11.4175,47.44621],[11.38128,47.47465],[11.4362,47.51413],[11.52618,47.50939],[11.58578,47.52281],[11.58811,47.55515],[11.60681,47.57881],[11.63934,47.59202],[11.84052,47.58354],[11.85572,47.60166],[12.0088,47.62451],[12.02282,47.61033],[12.05788,47.61742],[12.13734,47.60639],[12.17824,47.61506],[12.18145,47.61019],[12.17737,47.60121],[12.18568,47.6049],[12.20398,47.60667],[12.20801,47.61082],[12.19895,47.64085],[12.18507,47.65984],[12.18347,47.66663],[12.16769,47.68167],[12.16217,47.70105],[12.18303,47.70065],[12.22571,47.71776],[12.2542,47.7433],[12.26238,47.73544],[12.24017,47.69534],[12.26004,47.67725],[12.27991,47.68827],[12.336,47.69534],[12.37222,47.68433],[12.43883,47.6977],[12.44117,47.6741],[12.50076,47.62293],[12.53816,47.63553],[12.57438,47.63238],[12.6071,47.6741],[12.7357,47.6787],[12.77777,47.66689],[12.76492,47.64485],[12.82101,47.61493],[12.77427,47.58025],[12.80699,47.54477],[12.84672,47.54556],[12.85256,47.52741],[12.9624,47.47452],[12.98344,47.48716],[12.9998,47.46267],[13.04537,47.49426],[13.03252,47.53373],[13.05355,47.56291],[13.04537,47.58183],[13.06641,47.58577],[13.06407,47.60075],[13.09562,47.63304],[13.07692,47.68814],[13.01382,47.72116],[12.98578,47.7078],[12.92969,47.71094],[12.91333,47.7178],[12.90274,47.72513],[12.91711,47.74026],[12.9353,47.74788],[12.94371,47.76281],[12.93202,47.77302],[12.96311,47.79957],[12.98543,47.82896],[13.00588,47.84374],[12.94163,47.92927],[12.93886,47.94046],[12.93642,47.94436],[12.93419,47.94063],[12.92668,47.93879],[12.91985,47.94069],[12.9211,47.95135],[12.91683,47.95647],[12.87476,47.96195],[12.8549,48.01122],[12.76141,48.07373],[12.74973,48.10885],[12.7617,48.12796],[12.78595,48.12445],[12.80676,48.14979],[12.82673,48.15245],[12.8362,48.15876],[12.836,48.1647],[12.84475,48.16556],[12.87126,48.20318],[12.95306,48.20629],[13.02083,48.25689],[13.0851,48.27711],[13.126,48.27867],[13.18093,48.29577],[13.26039,48.29422],[13.30897,48.31575],[13.40709,48.37292],[13.43929,48.43386],[13.42527,48.45711],[13.45727,48.51092],[13.43695,48.55776],[13.45214,48.56472],[13.46967,48.55157],[13.50663,48.57506],[13.50131,48.58091],[13.51291,48.59023],[13.57535,48.55912],[13.59705,48.57013],[13.62508,48.55501],[13.65186,48.55092],[13.66113,48.53558],[13.72802,48.51208],[13.74816,48.53058],[13.7513,48.5624],[13.76921,48.55324],[13.80519,48.58026],[13.80038,48.59487],[13.82609,48.62345],[13.81901,48.6761],[13.81283,48.68426],[13.81791,48.69832],[13.79337,48.71375],[13.81863,48.73257],[13.82266,48.75544],[13.84023,48.76988],[13.8096,48.77877],[13.78977,48.83319],[13.76994,48.83537],[13.73854,48.88538],[13.67739,48.87886],[13.61624,48.9462],[13.58319,48.96899],[13.50552,48.97441],[13.50221,48.93752],[13.40802,48.98851],[13.39479,49.04812],[13.28242,49.1228],[13.23689,49.11412],[13.20405,49.12303],[13.17019,49.14339],[13.17665,49.16713],[13.05883,49.26259],[13.02957,49.27399],[13.03618,49.30417],[12.94859,49.34079],[12.88249,49.35479],[12.88414,49.33541],[12.78168,49.34618],[12.75854,49.3989],[12.71227,49.42363],[12.669,49.42935],[12.64121,49.47628],[12.64782,49.52565],[12.60155,49.52887],[12.56188,49.6146],[12.53544,49.61888],[12.52553,49.68415],[12.4462,49.70233],[12.40489,49.76321],[12.46603,49.78882],[12.48256,49.83575],[12.55197,49.92094],[12.47264,49.94222],[12.49908,49.97305],[12.30798,50.05719],[12.26111,50.06331],[12.27433,50.0771],[12.23709,50.10213],[12.2073,50.10315],[12.1917,50.13434],[12.21484,50.16399],[12.19335,50.19997],[12.09287,50.25032],[12.13716,50.27396],[12.10907,50.32041],[12.18013,50.32146],[12.20823,50.2729],[12.25119,50.27079],[12.26953,50.25189],[12.24791,50.25525],[12.23943,50.24594],[12.28755,50.22429],[12.28063,50.19544],[12.29232,50.17524],[12.32596,50.17146],[12.33847,50.19432],[12.32445,50.20442],[12.33263,50.24367],[12.35425,50.23993],[12.36594,50.28289],[12.40158,50.29521],[12.39924,50.32302],[12.43371,50.32506],[12.43722,50.33774],[12.46643,50.35527],[12.48256,50.34784],[12.49214,50.35228],[12.48747,50.37278],[12.51356,50.39694],[12.67261,50.41949],[12.70731,50.39948],[12.73044,50.42268],[12.73476,50.43237],[12.82465,50.45738],[12.94058,50.40944],[12.98433,50.42016],[13.02147,50.44763],[13.02038,50.4734],[13.0312,50.50944],[13.08301,50.50132],[13.13424,50.51709],[13.19043,50.50237],[13.25158,50.59268],[13.29454,50.57904],[13.32594,50.58009],[13.32264,50.60317],[13.37805,50.627],[13.37485,50.64931],[13.42189,50.61243],[13.46413,50.60102],[13.49742,50.63133],[13.5226,50.64721],[13.53748,50.67654],[13.52474,50.70394],[13.65977,50.73096],[13.70204,50.71771],[13.76316,50.73487],[13.82942,50.7251],[13.89444,50.74142],[13.89113,50.78533],[13.98864,50.8177],[14.02982,50.80662],[14.22331,50.86049],[14.24314,50.88761],[14.27123,50.89386],[14.30098,50.88448],[14.38691,50.89907],[14.39848,50.93866],[14.31422,50.95243],[14.30251,50.96606],[14.32793,50.97379],[14.32353,50.98556],[14.28776,50.97718],[14.25665,50.98935],[14.30098,51.05515],[14.41335,51.02086],[14.45827,51.03712],[14.49202,51.02286],[14.49154,51.04382],[14.49991,51.04692],[14.50809,51.0427],[14.49873,51.02242],[14.53321,51.01679],[14.53438,51.00374],[14.56432,51.01008],[14.58215,50.99306],[14.59908,50.98685],[14.59702,50.96148],[14.56374,50.922],[14.58024,50.91443],[14.64802,50.93241],[14.65259,50.90513],[14.63434,50.8883],[14.61993,50.86049],[14.70661,50.84096],[14.79139,50.81438],[14.82803,50.86966],[14.81664,50.88148],[14.89681,50.9422],[14.89252,50.94999],[14.92942,50.99744],[14.95529,51.04552],[14.97938,51.07742],[14.98229,51.11354],[14.99689,51.12205],[14.99079,51.14284],[14.99646,51.14365],[15.00083,51.14974],[14.99414,51.15813],[14.99311,51.16249],[15.0047,51.16874],[15.01242,51.21285],[15.04288,51.28387],[14.98008,51.33449],[14.96899,51.38367],[14.9652,51.44793],[14.94749,51.47155],[14.73219,51.52922],[14.72652,51.53902],[14.73047,51.54606],[14.71125,51.56209],[14.7727,51.61263],[14.75759,51.62318],[14.75392,51.67445],[14.69065,51.70842],[14.66386,51.73282],[14.64625,51.79472],[14.60493,51.80473],[14.59089,51.83302],[14.6588,51.88359],[14.6933,51.9044],[14.70601,51.92944],[14.7177,51.94048],[14.72163,51.95188],[14.71836,51.95606],[14.7139,51.95643],[14.70488,51.97679],[14.71339,52.00337],[14.76026,52.06624],[14.72971,52.09167],[14.6917,52.10283],[14.67683,52.13936],[14.70616,52.16927],[14.68344,52.19612],[14.71319,52.22144],[14.70139,52.25038],[14.58149,52.28007],[14.56378,52.33838],[14.55228,52.35264],[14.54423,52.42568],[14.63056,52.48993],[14.60081,52.53116],[14.6289,52.57136],[14.61073,52.59847],[14.22071,52.81175],[14.13806,52.82392],[14.12256,52.84311],[14.15873,52.87715],[14.14056,52.95786],[14.25954,53.00264],[14.35044,53.05829],[14.38679,53.13669],[14.36696,53.16444],[14.37853,53.20405],[14.40662,53.21098],[14.45125,53.26241],[14.44133,53.27427],[14.4215,53.27724],[14.35209,53.49506],[14.3273,53.50587],[14.30416,53.55499],[14.31904,53.61581],[14.2853,53.63392],[14.28477,53.65955],[14.27133,53.66613],[14.2836,53.67721],[14.26782,53.69866],[14.27249,53.74464],[14.21323,53.8664],[14.20823,53.90776],[14.18544,53.91258],[14.20647,53.91671],[14.22634,53.9291],[14.20811,54.12784],[13.93395,54.84044],[12.85844,54.82438],[11.90309,54.38543],[11.00303,54.63689],[10.31111,54.65968],[10.16755,54.73883],[9.89314,54.84171],[9.73563,54.8247],[9.61187,54.85548],[9.62734,54.88057],[9.58937,54.88785],[9.4659,54.83131],[9.43155,54.82586],[9.41213,54.84254],[9.38532,54.83968],[9.36496,54.81749],[9.33849,54.80233],[9.32771,54.80602],[9.2474,54.8112],[9.23445,54.83432],[9.24631,54.84726],[9.20571,54.85841],[9.14275,54.87421],[9.04629,54.87249],[8.92795,54.90452],[8.81178,54.90518],[8.76387,54.8948],[8.63979,54.91069],[8.55769,54.91837],[8.45719,55.06747],[8.02459,55.09613],[5.45168,54.20039],[6.91025,53.44221],[7.00198,53.32672],[7.19052,53.31866],[7.21679,53.20058],[7.22681,53.18165],[7.17898,53.13817],[7.21694,53.00742],[7.07253,52.81083],[7.04557,52.63318],[6.77307,52.65375],[6.71641,52.62905],[6.69507,52.488],[6.94293,52.43597],[6.99041,52.47235],[7.03417,52.40237],[7.07044,52.37805],[7.02703,52.27941],[7.06365,52.23789],[7.03729,52.22695],[6.9897,52.2271],[6.97189,52.20329],[6.83984,52.11728],[6.76117,52.11895],[6.68128,52.05052],[6.83035,51.9905],[6.82357,51.96711],[6.72319,51.89518],[6.68386,51.91861],[6.58556,51.89386],[6.50231,51.86313],[6.47179,51.85395],[6.38815,51.87257],[6.40704,51.82771],[6.30593,51.84998],[6.29872,51.86801],[6.21443,51.86801],[6.15349,51.90439],[6.11551,51.89769],[6.16902,51.84094],[6.10337,51.84829],[6.06705,51.86136],[5.99848,51.83195],[5.94568,51.82786],[5.98665,51.76944],[5.95003,51.7493],[6.04091,51.71821],[6.02767,51.6742],[6.11759,51.65609],[6.09055,51.60564],[6.18017,51.54096],[6.21724,51.48568],[6.20654,51.40049],[6.22641,51.39948],[6.22674,51.36135],[6.16977,51.33169],[6.07889,51.24432],[6.07889,51.17038],[6.17384,51.19589],[6.16706,51.15677],[5.98292,51.07469],[5.9541,51.03496],[5.9134,51.06736],[5.86735,51.05182],[5.87849,51.01969],[5.90493,51.00198],[5.90296,50.97356],[5.95282,50.98728],[6.02697,50.98303],[6.01615,50.93367],[6.09297,50.92066],[6.07486,50.89307],[6.08805,50.87223],[6.07693,50.86025],[6.07431,50.84674],[6.05702,50.85179],[6.05623,50.8572],[6.01921,50.84435],[6.02328,50.81694],[6.00462,50.80065],[5.98404,50.80988],[5.97497,50.79992],[6.02624,50.77453],[6.01976,50.75398],[6.03889,50.74618],[6.0326,50.72647],[6.0406,50.71848],[6.04428,50.72861],[6.11707,50.72231],[6.17852,50.6245],[6.26957,50.62444],[6.2476,50.60392],[6.24888,50.59869],[6.24005,50.58732],[6.22581,50.5907],[6.20281,50.56952],[6.17739,50.55875],[6.17802,50.54179],[6.19735,50.53576],[6.19579,50.5313],[6.18716,50.52653],[6.19193,50.5212],[6.20599,50.52089],[6.22335,50.49578],[6.26637,50.50272],[6.30809,50.50058],[6.3465,50.48833],[6.34005,50.46083],[6.37219,50.45397],[6.36852,50.40776],[6.34406,50.37994],[6.3688,50.35898],[6.40785,50.33557],[6.40641,50.32425],[6.35701,50.31139],[6.32488,50.32333],[6.29949,50.30887],[6.28797,50.27458],[6.208,50.25179],[6.16853,50.2234],[6.18364,50.20815],[6.18739,50.1822],[6.14588,50.17106],[6.14132,50.14971],[6.15298,50.14126],[6.1379,50.12964],[6.12055,50.09171],[6.11274,50.05916],[6.13458,50.04141],[6.13044,50.02929],[6.14666,50.02207],[6.13794,50.01466],[6.13273,50.02019],[6.1295,50.01849],[6.13806,50.01056],[6.14948,50.00908],[6.14147,49.99563],[6.1701,49.98518],[6.16466,49.97086],[6.17872,49.9537],[6.18554,49.95622],[6.18045,49.96611],[6.19089,49.96991],[6.19856,49.95053],[6.22094,49.94955],[6.22608,49.929],[6.21882,49.92403],[6.22926,49.92096],[6.23496,49.89972],[6.26146,49.88203],[6.28874,49.87592],[6.29692,49.86685],[6.30963,49.87021],[6.32303,49.85133],[6.32098,49.83728],[6.33585,49.83785],[6.34267,49.84974],[6.36576,49.85032],[6.40022,49.82029],[6.42521,49.81591],[6.42905,49.81091],[6.44131,49.81443],[6.45425,49.81164],[6.47111,49.82263],[6.48718,49.81267],[6.50647,49.80916],[6.51215,49.80124],[6.52121,49.81338],[6.53122,49.80666],[6.52169,49.79787],[6.50534,49.78952],[6.51669,49.78336],[6.51056,49.77515],[6.51828,49.76855],[6.51646,49.75961],[6.50174,49.75292],[6.50193,49.73291],[6.51805,49.72425],[6.51397,49.72058],[6.50261,49.72718],[6.49535,49.72645],[6.49694,49.72205],[6.5042,49.71808],[6.50647,49.71353],[6.49785,49.71118],[6.48014,49.69767],[6.46048,49.69092],[6.44654,49.67799],[6.42937,49.66857],[6.42726,49.66078],[6.43768,49.66021],[6.4413,49.65722],[6.41861,49.61723],[6.39822,49.60081],[6.385,49.59946],[6.37464,49.58886],[6.38342,49.5799],[6.38024,49.57593],[6.36676,49.57813],[6.35825,49.57053],[6.38228,49.55855],[6.38072,49.55171],[6.35666,49.52931],[6.36788,49.50377],[6.36907,49.48931],[6.36778,49.46937],[6.38352,49.46463],[6.39168,49.4667],[6.40274,49.46546],[6.42432,49.47683],[6.55404,49.42464],[6.533,49.40748],[6.60091,49.36864],[6.58807,49.35358],[6.572,49.35027],[6.60186,49.31055],[6.66583,49.28065],[6.69274,49.21661],[6.71843,49.2208],[6.73256,49.20486],[6.71137,49.18808],[6.73765,49.16375],[6.78265,49.16793],[6.83385,49.15162],[6.84703,49.15734],[6.86225,49.18185],[6.85016,49.19354],[6.85119,49.20038],[6.83555,49.21249],[6.85939,49.22376],[6.89298,49.20863],[6.91875,49.22261],[6.93831,49.2223],[6.94028,49.21641],[6.95963,49.203],[6.97273,49.2099],[7.01318,49.19018],[7.03459,49.19096],[7.0274,49.17042],[7.03178,49.15734],[7.04662,49.13724],[7.04409,49.12123],[7.04843,49.11422],[7.05548,49.11185],[7.06642,49.11415],[7.07162,49.1255],[7.09007,49.13094],[7.07859,49.15031],[7.10715,49.15631],[7.10384,49.13787],[7.12504,49.14253],[7.1358,49.1282],[7.1593,49.1204],[7.23473,49.12971],[7.29514,49.11426],[7.3195,49.14231],[7.35995,49.14399],[7.3662,49.17308],[7.44052,49.18354],[7.44455,49.16765],[7.49473,49.17],[7.49172,49.13915],[7.53012,49.09818],[7.56416,49.08136],[7.62575,49.07654],[7.63618,49.05428],[7.75948,49.04562],[7.79557,49.06583],[7.86386,49.03499],[7.93641,49.05544],[7.97783,49.03161],[8.14189,48.97833],[8.22604,48.97352],[8.20031,48.95856],[8.19989,48.95825],[8.12813,48.87985],[8.10253,48.81829],[8.06802,48.78957],[8.0326,48.79017],[8.01534,48.76085],[7.96994,48.75606],[7.96812,48.72491],[7.89002,48.66317],[7.84098,48.64217],[7.80057,48.5857],[7.80167,48.54758],[7.80647,48.51239],[7.76833,48.48945],[7.73109,48.39192],[7.74562,48.32736],[7.69022,48.30018],[7.6648,48.22219],[7.57137,48.12292],[7.56966,48.03265],[7.62302,47.97898],[7.55673,47.87371],[7.52921,47.77747],[7.54761,47.72912],[7.53722,47.71635],[7.51266,47.70197],[7.51915,47.68335],[7.52067,47.66437],[7.53384,47.65115],[7.5591,47.63849],[7.57423,47.61628],[7.58851,47.60794],[7.59301,47.60058],[7.58945,47.59017],[7.60523,47.58519],[7.60459,47.57869],[7.61929,47.57683],[7.64309,47.59151],[7.64213,47.5944],[7.64599,47.59695],[7.67395,47.59212],[7.68229,47.59905],[7.69385,47.60099],[7.68486,47.59601],[7.67115,47.5871],[7.68904,47.57133],[7.67655,47.56435],[7.63338,47.56256],[7.65083,47.54662],[7.66174,47.54554],[7.6656,47.53752],[7.68101,47.53232],[7.69642,47.53297],[7.71961,47.54219],[7.75261,47.54599],[7.79486,47.55691],[7.81901,47.58798],[7.84412,47.5841],[7.88664,47.58854],[7.90673,47.57674],[7.91251,47.55031],[7.94494,47.54511],[7.95682,47.55789],[7.97581,47.55493],[8.00113,47.55616],[8.02136,47.55096],[8.04383,47.55443],[8.06663,47.56374],[8.08557,47.55768],[8.10002,47.56504],[8.10395,47.57918],[8.11543,47.5841],[8.13662,47.58432],[8.13823,47.59147],[8.14947,47.59558],[8.1652,47.5945],[8.19378,47.61636],[8.20617,47.62141],[8.22011,47.6181],[8.22577,47.60385],[8.23809,47.61204],[8.25863,47.61571],[8.26313,47.6103],[8.2824,47.61225],[8.29722,47.60603],[8.29524,47.5919],[8.30277,47.58607],[8.32735,47.57133],[8.35512,47.57014],[8.38273,47.56608],[8.39477,47.57826],[8.43235,47.56617],[8.49431,47.58107],[8.48949,47.588],[8.46637,47.58389],[8.45578,47.60121],[8.50747,47.61897],[8.51686,47.63476],[8.55756,47.62394],[8.57586,47.59537],[8.60348,47.61204],[8.59545,47.64298],[8.60701,47.65271],[8.61471,47.64514],[8.60412,47.63735],[8.62049,47.63757],[8.62884,47.65098],[8.61113,47.66332],[8.6052,47.67258],[8.57683,47.66158],[8.56141,47.67088],[8.52801,47.66059],[8.5322,47.64687],[8.49656,47.64709],[8.46605,47.64103],[8.4667,47.65747],[8.44711,47.65379],[8.42264,47.66667],[8.41346,47.66676],[8.40473,47.67499],[8.4211,47.68407],[8.40569,47.69855],[8.44807,47.72426],[8.45771,47.7493],[8.48868,47.77215],[8.56814,47.78001],[8.56415,47.80633],[8.61657,47.79998],[8.62408,47.7626],[8.64425,47.76398],[8.65292,47.80066],[8.68022,47.78599],[8.68985,47.75686],[8.71778,47.76571],[8.74251,47.75168],[8.70543,47.73121],[8.73671,47.7169],[8.72617,47.69651]]]]}},{type:"Feature",properties:{iso1A2:"DG",iso1A3:"DGA",wikidata:"Q184851",nameEn:"Diego Garcia",country:"GB",groups:["IO","BOTS","014","202","002","UN"],isoStatus:"excRes",callingCodes:["246"]},geometry:{type:"MultiPolygon",coordinates:[[[[73.14823,-7.76302],[73.09982,-6.07324],[71.43792,-7.73904],[73.14823,-7.76302]]]]}},{type:"Feature",properties:{iso1A2:"DJ",iso1A3:"DJI",iso1N3:"262",wikidata:"Q977",nameEn:"Djibouti",groups:["014","202","002","UN"],callingCodes:["253"]},geometry:{type:"MultiPolygon",coordinates:[[[[43.90659,12.3823],[43.90659,12.3823],[43.32909,12.59711],[43.29075,12.79154],[42.86195,12.58747],[42.7996,12.42629],[42.6957,12.36201],[42.46941,12.52661],[42.4037,12.46478],[41.95461,11.81157],[41.82878,11.72361],[41.77727,11.49902],[41.8096,11.33606],[41.80056,10.97127],[42.06302,10.92599],[42.13691,10.97586],[42.42669,10.98493],[42.62989,11.09711],[42.75111,11.06992],[42.79037,10.98493],[42.95776,10.98533],[43.90659,12.3823]]]]}},{type:"Feature",properties:{iso1A2:"DK",iso1A3:"DNK",iso1N3:"208",wikidata:"Q756617",nameEn:"Kingdom of Denmark"},geometry:null},{type:"Feature",properties:{iso1A2:"DM",iso1A3:"DMA",iso1N3:"212",wikidata:"Q784",nameEn:"Dominica",groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 767"]},geometry:{type:"MultiPolygon",coordinates:[[[[-61.32485,14.91445],[-60.86656,15.82603],[-61.95646,15.5094],[-61.32485,14.91445]]]]}},{type:"Feature",properties:{iso1A2:"DO",iso1A3:"DOM",iso1N3:"214",wikidata:"Q786",nameEn:"Dominican Republic",groups:["029","003","419","019","UN"],callingCodes:["1 809","1 829","1 849"]},geometry:{type:"MultiPolygon",coordinates:[[[[-67.87844,21.7938],[-72.38946,20.27111],[-71.77419,19.73128],[-71.75865,19.70231],[-71.7429,19.58445],[-71.71449,19.55364],[-71.71268,19.53374],[-71.6802,19.45008],[-71.69448,19.37866],[-71.77766,19.33823],[-71.73229,19.26686],[-71.62642,19.21212],[-71.65337,19.11759],[-71.69938,19.10916],[-71.71088,19.08353],[-71.74088,19.0437],[-71.88102,18.95007],[-71.77766,18.95007],[-71.72624,18.87802],[-71.71885,18.78423],[-71.82556,18.62551],[-71.95412,18.64939],[-72.00201,18.62312],[-71.88102,18.50125],[-71.90875,18.45821],[-71.69952,18.34101],[-71.78271,18.18302],[-71.75465,18.14405],[-71.74994,18.11115],[-71.73783,18.07177],[-71.75671,18.03456],[-72.29523,17.48026],[-68.39466,16.14167],[-67.87844,21.7938]]]]}},{type:"Feature",properties:{iso1A2:"DZ",iso1A3:"DZA",iso1N3:"012",wikidata:"Q262",nameEn:"Algeria",groups:["015","002","UN"],callingCodes:["213"]},geometry:{type:"MultiPolygon",coordinates:[[[[8.59123,37.14286],[5.10072,39.89531],[-2.27707,35.35051],[-2.21248,35.08532],[-2.21445,35.04378],[-2.04734,34.93218],[-1.97833,34.93218],[-1.97469,34.886],[-1.73707,34.74226],[-1.84569,34.61907],[-1.69788,34.48056],[-1.78042,34.39018],[-1.64666,34.10405],[-1.73494,33.71721],[-1.59508,33.59929],[-1.67067,33.27084],[-1.46249,33.0499],[-1.54244,32.95499],[-1.37794,32.73628],[-.9912,32.52467],[-1.24998,32.32993],[-1.24453,32.1917],[-1.15735,32.12096],[-1.22829,32.07832],[-2.46166,32.16603],[-2.93873,32.06557],[-2.82784,31.79459],[-3.66314,31.6339],[-3.66386,31.39202],[-3.77647,31.31912],[-3.77103,31.14984],[-3.54944,31.0503],[-3.65418,30.85566],[-3.64735,30.67539],[-4.31774,30.53229],[-4.6058,30.28343],[-5.21671,29.95253],[-5.58831,29.48103],[-5.72121,29.52322],[-5.75616,29.61407],[-6.69965,29.51623],[-6.78351,29.44634],[-6.95824,29.50924],[-7.61585,29.36252],[-8.6715,28.71194],[-8.66879,27.6666],[-8.66674,27.31569],[-4.83423,24.99935],[1.15698,21.12843],[1.20992,20.73533],[3.24648,19.81703],[3.12501,19.1366],[3.36082,18.9745],[4.26651,19.14224],[5.8153,19.45101],[7.38361,20.79165],[7.48273,20.87258],[11.96886,23.51735],[11.62498,24.26669],[11.41061,24.21456],[10.85323,24.5595],[10.33159,24.5465],[10.02432,24.98124],[10.03146,25.35635],[9.38834,26.19288],[9.51696,26.39148],[9.89569,26.57696],[9.78136,29.40961],[9.3876,30.16738],[9.55544,30.23971],[9.07483,32.07865],[8.35999,32.50101],[8.31895,32.83483],[8.1179,33.05086],[8.11433,33.10175],[7.83028,33.18851],[7.73687,33.42114],[7.54088,33.7726],[7.52851,34.06493],[7.66174,34.20167],[7.74207,34.16492],[7.81242,34.21841],[7.86264,34.3987],[8.20482,34.57575],[8.29655,34.72798],[8.25189,34.92009],[8.30727,34.95378],[8.3555,35.10007],[8.47318,35.23376],[8.30329,35.29884],[8.36086,35.47774],[8.35371,35.66373],[8.26472,35.73669],[8.2626,35.91733],[8.40731,36.42208],[8.18936,36.44939],[8.16167,36.48817],[8.47609,36.66607],[8.46537,36.7706],[8.57613,36.78062],[8.67706,36.8364],[8.62972,36.86499],[8.64044,36.9401],[8.59123,37.14286]]]]}},{type:"Feature",properties:{iso1A2:"EA",wikidata:"Q28868874",nameEn:"Ceuta, Melilla",country:"ES",level:"territory",isoStatus:"excRes"},geometry:null},{type:"Feature",properties:{iso1A2:"EC",iso1A3:"ECU",iso1N3:"218",wikidata:"Q736",nameEn:"Ecuador"},geometry:null},{type:"Feature",properties:{iso1A2:"EE",iso1A3:"EST",iso1N3:"233",wikidata:"Q191",nameEn:"Estonia",aliases:["EW"],groups:["EU","154","150","UN"],callingCodes:["372"]},geometry:{type:"MultiPolygon",coordinates:[[[[26.32936,60.00121],[20.5104,59.15546],[19.84909,57.57876],[22.80496,57.87798],[23.20055,57.56697],[24.26221,57.91787],[24.3579,57.87471],[25.19484,58.0831],[25.28237,57.98539],[25.29581,58.08288],[25.73499,57.90193],[26.05949,57.84744],[26.0324,57.79037],[26.02456,57.78342],[26.027,57.78158],[26.0266,57.77441],[26.02069,57.77169],[26.02415,57.76865],[26.03332,57.7718],[26.0543,57.76105],[26.08098,57.76619],[26.2029,57.7206],[26.1866,57.6849],[26.29253,57.59244],[26.46527,57.56885],[26.54675,57.51813],[26.90364,57.62823],[27.34698,57.52242],[27.31919,57.57672],[27.40393,57.62125],[27.3746,57.66834],[27.52615,57.72843],[27.50171,57.78842],[27.56689,57.83356],[27.78526,57.83963],[27.81841,57.89244],[27.67282,57.92627],[27.62393,58.09462],[27.48541,58.22615],[27.55489,58.39525],[27.36366,58.78381],[27.74429,58.98351],[27.80482,59.1116],[27.87978,59.18097],[27.90911,59.24353],[28.00689,59.28351],[28.14215,59.28934],[28.19284,59.35791],[28.20537,59.36491],[28.21137,59.38058],[28.19061,59.39962],[28.04187,59.47017],[27.85643,59.58538],[26.90044,59.63819],[26.32936,60.00121]]]]}},{type:"Feature",properties:{iso1A2:"EG",iso1A3:"EGY",iso1N3:"818",wikidata:"Q79",nameEn:"Egypt",groups:["015","002","UN"],callingCodes:["20"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.62659,31.82938],[26.92891,33.39516],[24.8458,31.39877],[25.01077,30.73861],[24.71117,30.17441],[24.99968,29.24574],[24.99885,21.99535],[33.17563,22.00405],[34.0765,22.00501],[37.8565,22.00903],[34.4454,27.91479],[34.8812,29.36878],[34.92298,29.45305],[34.26742,31.21998],[34.24012,31.29591],[34.23572,31.2966],[34.21853,31.32363],[34.052,31.46619],[33.62659,31.82938]]]]}},{type:"Feature",properties:{iso1A2:"EH",iso1A3:"ESH",iso1N3:"732",wikidata:"Q6250",nameEn:"Western Sahara",groups:["015","002"],callingCodes:["212"]},geometry:{type:"MultiPolygon",coordinates:[[[[-8.66879,27.6666],[-8.77527,27.66663],[-8.71787,26.9898],[-9.08698,26.98639],[-9.56957,26.90042],[-9.81998,26.71379],[-10.68417,26.90984],[-11.35695,26.8505],[-11.23622,26.72023],[-11.38635,26.611],[-11.62052,26.05229],[-12.06001,26.04442],[-12.12281,25.13682],[-12.92147,24.39502],[-13.00628,24.01923],[-13.75627,23.77231],[-14.10361,22.75501],[-14.1291,22.41636],[-14.48112,22.00886],[-14.47329,21.63839],[-14.78487,21.36587],[-16.44269,21.39745],[-16.9978,21.36239],[-17.02707,21.34022],[-17.21511,21.34226],[-17.35589,20.80492],[-17.0471,20.76408],[-17.0695,20.85742],[-17.06781,20.92697],[-17.0396,20.9961],[-17.0357,21.05368],[-16.99806,21.12142],[-16.95474,21.33997],[-13.01525,21.33343],[-13.08438,22.53866],[-13.15313,22.75649],[-13.10753,22.89493],[-13.00412,23.02297],[-12.5741,23.28975],[-12.36213,23.3187],[-12.14969,23.41935],[-12.00251,23.4538],[-12.0002,25.9986],[-8.66721,25.99918],[-8.66674,27.31569],[-8.66879,27.6666]]]]}},{type:"Feature",properties:{iso1A2:"ER",iso1A3:"ERI",iso1N3:"232",wikidata:"Q986",nameEn:"Eritrea",groups:["014","202","002","UN"],callingCodes:["291"]},geometry:{type:"MultiPolygon",coordinates:[[[[40.99158,15.81743],[39.63762,18.37348],[38.57727,17.98125],[38.45916,17.87167],[38.37133,17.66269],[38.13362,17.53906],[37.50967,17.32199],[37.42694,17.04041],[36.99777,17.07172],[36.92193,16.23451],[36.76371,15.80831],[36.69761,15.75323],[36.54276,15.23478],[36.44337,15.14963],[36.54376,14.25597],[36.56536,14.26177],[36.55659,14.28237],[36.63364,14.31172],[36.85787,14.32201],[37.01622,14.2561],[37.09486,14.27155],[37.13206,14.40746],[37.3106,14.44657],[37.47319,14.2149],[37.528,14.18413],[37.91287,14.89447],[38.0364,14.72745],[38.25562,14.67287],[38.3533,14.51323],[38.45748,14.41445],[38.78306,14.4754],[38.98058,14.54895],[39.02834,14.63717],[39.16074,14.65187],[39.14772,14.61827],[39.19547,14.56996],[39.23888,14.56365],[39.26927,14.48801],[39.2302,14.44598],[39.2519,14.40393],[39.37685,14.54402],[39.52756,14.49011],[39.50585,14.55735],[39.58182,14.60987],[39.76632,14.54264],[39.9443,14.41024],[40.07236,14.54264],[40.14649,14.53969],[40.21128,14.39342],[40.25686,14.41445],[40.9167,14.11152],[41.25097,13.60787],[41.62864,13.38626],[42.05841,12.80912],[42.21469,12.75832],[42.2798,12.6355],[42.4037,12.46478],[42.46941,12.52661],[42.6957,12.36201],[42.7996,12.42629],[42.86195,12.58747],[43.29075,12.79154],[40.99158,15.81743]]]]}},{type:"Feature",properties:{iso1A2:"ES",iso1A3:"ESP",iso1N3:"724",wikidata:"Q29",nameEn:"Spain"},geometry:null},{type:"Feature",properties:{iso1A2:"ET",iso1A3:"ETH",iso1N3:"231",wikidata:"Q115",nameEn:"Ethiopia",groups:["014","202","002","UN"],callingCodes:["251"]},geometry:{type:"MultiPolygon",coordinates:[[[[42.4037,12.46478],[42.2798,12.6355],[42.21469,12.75832],[42.05841,12.80912],[41.62864,13.38626],[41.25097,13.60787],[40.9167,14.11152],[40.25686,14.41445],[40.21128,14.39342],[40.14649,14.53969],[40.07236,14.54264],[39.9443,14.41024],[39.76632,14.54264],[39.58182,14.60987],[39.50585,14.55735],[39.52756,14.49011],[39.37685,14.54402],[39.2519,14.40393],[39.2302,14.44598],[39.26927,14.48801],[39.23888,14.56365],[39.19547,14.56996],[39.14772,14.61827],[39.16074,14.65187],[39.02834,14.63717],[38.98058,14.54895],[38.78306,14.4754],[38.45748,14.41445],[38.3533,14.51323],[38.25562,14.67287],[38.0364,14.72745],[37.91287,14.89447],[37.528,14.18413],[37.47319,14.2149],[37.3106,14.44657],[37.13206,14.40746],[37.09486,14.27155],[37.01622,14.2561],[36.85787,14.32201],[36.63364,14.31172],[36.55659,14.28237],[36.56536,14.26177],[36.54376,14.25597],[36.44653,13.95666],[36.48824,13.83954],[36.38993,13.56459],[36.24545,13.36759],[36.13374,12.92665],[36.16651,12.88019],[36.14268,12.70879],[36.01458,12.72478],[35.70476,12.67101],[35.24302,11.91132],[35.11492,11.85156],[35.05832,11.71158],[35.09556,11.56278],[34.95704,11.24448],[35.01215,11.19626],[34.93172,10.95946],[34.97789,10.91559],[34.97491,10.86147],[34.86916,10.78832],[34.86618,10.74588],[34.77532,10.69027],[34.77383,10.74588],[34.59062,10.89072],[34.4372,10.781],[34.2823,10.53508],[34.34783,10.23914],[34.32102,10.11599],[34.22718,10.02506],[34.20484,9.9033],[34.13186,9.7492],[34.08717,9.55243],[34.10229,9.50238],[34.14304,9.04654],[34.14453,8.60204],[34.01346,8.50041],[33.89579,8.4842],[33.87195,8.41938],[33.71407,8.3678],[33.66938,8.44442],[33.54575,8.47094],[33.3119,8.45474],[33.19721,8.40317],[33.1853,8.29264],[33.18083,8.13047],[33.08401,8.05822],[33.0006,7.90333],[33.04944,7.78989],[33.24637,7.77939],[33.32531,7.71297],[33.44745,7.7543],[33.71407,7.65983],[33.87642,7.5491],[34.02984,7.36449],[34.03878,7.27437],[34.01495,7.25664],[34.19369,7.12807],[34.19369,7.04382],[34.35753,6.91963],[34.47669,6.91076],[34.53925,6.82794],[34.53776,6.74808],[34.65096,6.72589],[34.77459,6.5957],[34.87736,6.60161],[35.01738,6.46991],[34.96227,6.26415],[35.00546,5.89387],[35.12611,5.68937],[35.13058,5.62118],[35.31188,5.50106],[35.29938,5.34042],[35.50792,5.42431],[35.8576,5.33413],[35.81968,5.10757],[35.82118,4.77382],[35.9419,4.61933],[35.95449,4.53244],[36.03924,4.44406],[36.84474,4.44518],[37.07724,4.33503],[38.14168,3.62487],[38.45812,3.60445],[38.52336,3.62551],[38.91938,3.51198],[39.07736,3.5267],[39.19954,3.47834],[39.49444,3.45521],[39.51551,3.40895],[39.55132,3.39634],[39.58339,3.47434],[39.76808,3.67058],[39.86043,3.86974],[40.77498,4.27683],[41.1754,3.94079],[41.89488,3.97375],[42.07619,4.17667],[42.55853,4.20518],[42.84526,4.28357],[42.97746,4.44032],[43.04177,4.57923],[43.40263,4.79289],[44.02436,4.9451],[44.98104,4.91821],[47.97917,8.00124],[47.92477,8.00111],[46.99339,7.9989],[44.19222,8.93028],[43.32613,9.59205],[43.23518,9.84605],[43.0937,9.90579],[42.87643,10.18441],[42.69452,10.62672],[42.95776,10.98533],[42.79037,10.98493],[42.75111,11.06992],[42.62989,11.09711],[42.42669,10.98493],[42.13691,10.97586],[42.06302,10.92599],[41.80056,10.97127],[41.8096,11.33606],[41.77727,11.49902],[41.82878,11.72361],[41.95461,11.81157],[42.4037,12.46478]]]]}},{type:"Feature",properties:{iso1A2:"EU",iso1A3:"EUE",wikidata:"Q458",nameEn:"European Union",level:"union",isoStatus:"excRes"},geometry:null},{type:"Feature",properties:{iso1A2:"FI",iso1A3:"FIN",iso1N3:"246",wikidata:"Q33",nameEn:"Finland",aliases:["SF"]},geometry:null},{type:"Feature",properties:{iso1A2:"FJ",iso1A3:"FJI",iso1N3:"242",wikidata:"Q712",nameEn:"Fiji",groups:["054","009","UN"],driveSide:"left",callingCodes:["679"]},geometry:{type:"MultiPolygon",coordinates:[[[[174.245,-23.1974],[179.99999,-22.5],[179.99999,-11.5],[174,-11.5],[174.245,-23.1974]]],[[[-176.76826,-14.95183],[-180,-14.96041],[-180,-22.90585],[-176.74538,-22.89767],[-176.76826,-14.95183]]]]}},{type:"Feature",properties:{iso1A2:"FK",iso1A3:"FLK",iso1N3:"238",wikidata:"Q9648",nameEn:"Falkland Islands",country:"GB",groups:["BOTS","005","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["500"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.67376,-55.11859],[-54.56126,-51.26248],[-61.26735,-50.63919],[-63.67376,-55.11859]]]]}},{type:"Feature",properties:{iso1A2:"FM",iso1A3:"FSM",iso1N3:"583",wikidata:"Q702",nameEn:"Federated States of Micronesia",groups:["057","009","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["691"]},geometry:{type:"MultiPolygon",coordinates:[[[[138.20583,13.3783],[136.27107,6.73747],[156.88247,-1.39237],[165.19726,6.22546],[138.20583,13.3783]]]]}},{type:"Feature",properties:{iso1A2:"FO",iso1A3:"FRO",iso1N3:"234",wikidata:"Q4628",nameEn:"Faroe Islands",country:"DK",groups:["154","150","UN"],callingCodes:["298"]},geometry:{type:"MultiPolygon",coordinates:[[[[-8.51774,62.35338],[-6.51083,60.95272],[-5.70102,62.77194],[-8.51774,62.35338]]]]}},{type:"Feature",properties:{iso1A2:"FR",iso1A3:"FRA",iso1N3:"250",wikidata:"Q142",nameEn:"France"},geometry:null},{type:"Feature",properties:{iso1A2:"FX",iso1A3:"FXX",iso1N3:"249",wikidata:"Q212429",nameEn:"Metropolitan France",country:"FR",groups:["EU","155","150","UN"],isoStatus:"excRes",callingCodes:["33"]},geometry:{type:"MultiPolygon",coordinates:[[[[2.55904,51.07014],[2.18458,51.52087],[1.17405,50.74239],[-2.02963,49.91866],[-2.09454,49.46288],[-1.83944,49.23037],[-2.00491,48.86706],[-2.65349,49.15373],[-6.28985,48.93406],[-1.81005,43.59738],[-1.77289,43.38957],[-1.79319,43.37497],[-1.78332,43.36399],[-1.78714,43.35476],[-1.77068,43.34396],[-1.75334,43.34107],[-1.75079,43.3317],[-1.7397,43.32979],[-1.73074,43.29481],[-1.69407,43.31378],[-1.62481,43.30726],[-1.63052,43.28591],[-1.61341,43.25269],[-1.57674,43.25269],[-1.55963,43.28828],[-1.50992,43.29481],[-1.45289,43.27049],[-1.40942,43.27272],[-1.3758,43.24511],[-1.41562,43.12815],[-1.47555,43.08372],[-1.44067,43.047],[-1.35272,43.02658],[-1.34419,43.09665],[-1.32209,43.1127],[-1.27118,43.11961],[-1.30052,43.09581],[-1.30531,43.06859],[-1.25244,43.04164],[-1.22881,43.05534],[-1.10333,43.0059],[-1.00963,42.99279],[-.97133,42.96239],[-.81652,42.95166],[-.75478,42.96916],[-.72037,42.92541],[-.73422,42.91228],[-.72608,42.89318],[-.69837,42.87945],[-.67637,42.88303],[-.55497,42.77846],[-.50863,42.82713],[-.44334,42.79939],[-.41319,42.80776],[-.38833,42.80132],[-.3122,42.84788],[-.17939,42.78974],[-.16141,42.79535],[-.10519,42.72761],[-.02468,42.68513],[.17569,42.73424],[.25336,42.7174],[.29407,42.67431],[.36251,42.72282],[.40214,42.69779],[.67873,42.69458],[.65421,42.75872],[.66121,42.84021],[.711,42.86372],[.93089,42.79154],[.96166,42.80629],[.98292,42.78754],[1.0804,42.78569],[1.15928,42.71407],[1.35562,42.71944],[1.44197,42.60217],[1.47986,42.61346],[1.46718,42.63296],[1.48043,42.65203],[1.50867,42.64483],[1.55418,42.65669],[1.60085,42.62703],[1.63485,42.62957],[1.6625,42.61982],[1.68267,42.62533],[1.73452,42.61515],[1.72588,42.59098],[1.7858,42.57698],[1.73683,42.55492],[1.72515,42.50338],[1.76335,42.48863],[1.83037,42.48395],[1.88853,42.4501],[1.93663,42.45439],[1.94292,42.44316],[1.94061,42.43333],[1.94084,42.43039],[1.9574,42.42401],[1.96482,42.37787],[2.00488,42.35399],[2.06241,42.35906],[2.11621,42.38393],[2.12789,42.41291],[2.16599,42.42314],[2.20578,42.41633],[2.25551,42.43757],[2.38504,42.39977],[2.43299,42.39423],[2.43508,42.37568],[2.48457,42.33933],[2.54382,42.33406],[2.55516,42.35351],[2.57934,42.35808],[2.6747,42.33974],[2.65311,42.38771],[2.72056,42.42298],[2.75497,42.42578],[2.77464,42.41046],[2.84335,42.45724],[2.85675,42.45444],[2.86983,42.46843],[2.88413,42.45938],[2.92107,42.4573],[2.94283,42.48174],[2.96518,42.46692],[3.03734,42.47363],[3.08167,42.42748],[3.10027,42.42621],[3.11379,42.43646],[3.17156,42.43545],[3.75438,42.33445],[7.60802,41.05927],[10.09675,41.44089],[9.56115,43.20816],[7.50102,43.51859],[7.42422,43.72209],[7.40903,43.7296],[7.41113,43.73156],[7.41291,43.73168],[7.41298,43.73311],[7.41233,43.73439],[7.42062,43.73977],[7.42299,43.74176],[7.42443,43.74087],[7.42809,43.74396],[7.43013,43.74895],[7.43624,43.75014],[7.43708,43.75197],[7.4389,43.75151],[7.4379,43.74963],[7.47823,43.73341],[7.53006,43.78405],[7.50423,43.84345],[7.49355,43.86551],[7.51162,43.88301],[7.56075,43.89932],[7.56858,43.94506],[7.60771,43.95772],[7.65266,43.9763],[7.66848,43.99943],[7.6597,44.03009],[7.72508,44.07578],[7.66878,44.12795],[7.68694,44.17487],[7.63245,44.17877],[7.62155,44.14881],[7.36364,44.11882],[7.34547,44.14359],[7.27827,44.1462],[7.16929,44.20352],[7.00764,44.23736],[6.98221,44.28289],[6.89171,44.36637],[6.88784,44.42043],[6.94504,44.43112],[6.86233,44.49834],[6.85507,44.53072],[6.96042,44.62129],[6.95133,44.66264],[7.00582,44.69364],[7.07484,44.68073],[7.00401,44.78782],[7.02217,44.82519],[6.93499,44.8664],[6.90774,44.84322],[6.75518,44.89915],[6.74519,44.93661],[6.74791,45.01939],[6.66981,45.02324],[6.62803,45.11175],[6.7697,45.16044],[6.85144,45.13226],[6.96706,45.20841],[7.07074,45.21228],[7.13115,45.25386],[7.10572,45.32924],[7.18019,45.40071],[7.00037,45.509],[6.98948,45.63869],[6.80785,45.71864],[6.80785,45.83265],[6.95315,45.85163],[7.04151,45.92435],[7.00946,45.9944],[6.93862,46.06502],[6.87868,46.03855],[6.89321,46.12548],[6.78968,46.14058],[6.86052,46.28512],[6.77152,46.34784],[6.8024,46.39171],[6.82312,46.42661],[6.53358,46.45431],[6.25432,46.3632],[6.21981,46.31304],[6.24826,46.30175],[6.25137,46.29014],[6.23775,46.27822],[6.24952,46.26255],[6.26749,46.24745],[6.29474,46.26221],[6.31041,46.24417],[6.29663,46.22688],[6.27694,46.21566],[6.26007,46.21165],[6.24821,46.20531],[6.23913,46.20511],[6.23544,46.20714],[6.22175,46.20045],[6.22222,46.19888],[6.21844,46.19837],[6.21603,46.19507],[6.21273,46.19409],[6.21114,46.1927],[6.20539,46.19163],[6.19807,46.18369],[6.19552,46.18401],[6.18707,46.17999],[6.18871,46.16644],[6.18116,46.16187],[6.15305,46.15194],[6.13397,46.1406],[6.09926,46.14373],[6.09199,46.15191],[6.07491,46.14879],[6.05203,46.15191],[6.04564,46.14031],[6.03614,46.13712],[6.01791,46.14228],[5.9871,46.14499],[5.97893,46.13303],[5.95781,46.12925],[5.9641,46.14412],[5.97508,46.15863],[5.98188,46.17392],[5.98846,46.17046],[5.99573,46.18587],[5.96515,46.19638],[5.97542,46.21525],[6.02461,46.23313],[6.03342,46.2383],[6.04602,46.23127],[6.05029,46.23518],[6.0633,46.24583],[6.07072,46.24085],[6.08563,46.24651],[6.10071,46.23772],[6.12446,46.25059],[6.11926,46.2634],[6.1013,46.28512],[6.11697,46.29547],[6.1198,46.31157],[6.13876,46.33844],[6.15738,46.3491],[6.16987,46.36759],[6.15985,46.37721],[6.15016,46.3778],[6.09926,46.40768],[6.06407,46.41676],[6.08427,46.44305],[6.07269,46.46244],[6.1567,46.54402],[6.11084,46.57649],[6.27135,46.68251],[6.38351,46.73171],[6.45209,46.77502],[6.43216,46.80336],[6.46456,46.88865],[6.43341,46.92703],[6.71531,47.0494],[6.68823,47.06616],[6.76788,47.1208],[6.8489,47.15933],[6.9508,47.24338],[6.95108,47.26428],[6.94316,47.28747],[7.05305,47.33304],[7.0564,47.35134],[7.03125,47.36996],[6.87959,47.35335],[6.88542,47.37262],[6.93744,47.40714],[6.93953,47.43388],[7.0024,47.45264],[6.98425,47.49432],[7.0231,47.50522],[7.07425,47.48863],[7.12781,47.50371],[7.16249,47.49025],[7.19583,47.49455],[7.17026,47.44312],[7.24669,47.4205],[7.33526,47.44186],[7.35603,47.43432],[7.40308,47.43638],[7.43088,47.45846],[7.4462,47.46264],[7.4583,47.47216],[7.42923,47.48628],[7.43356,47.49712],[7.47534,47.47932],[7.51076,47.49651],[7.49804,47.51798],[7.5229,47.51644],[7.53199,47.5284],[7.51904,47.53515],[7.50588,47.52856],[7.49691,47.53821],[7.50873,47.54546],[7.51723,47.54578],[7.52831,47.55347],[7.53634,47.55553],[7.55652,47.56779],[7.55689,47.57232],[7.56548,47.57617],[7.56684,47.57785],[7.58386,47.57536],[7.58945,47.59017],[7.59301,47.60058],[7.58851,47.60794],[7.57423,47.61628],[7.5591,47.63849],[7.53384,47.65115],[7.52067,47.66437],[7.51915,47.68335],[7.51266,47.70197],[7.53722,47.71635],[7.54761,47.72912],[7.52921,47.77747],[7.55673,47.87371],[7.62302,47.97898],[7.56966,48.03265],[7.57137,48.12292],[7.6648,48.22219],[7.69022,48.30018],[7.74562,48.32736],[7.73109,48.39192],[7.76833,48.48945],[7.80647,48.51239],[7.80167,48.54758],[7.80057,48.5857],[7.84098,48.64217],[7.89002,48.66317],[7.96812,48.72491],[7.96994,48.75606],[8.01534,48.76085],[8.0326,48.79017],[8.06802,48.78957],[8.10253,48.81829],[8.12813,48.87985],[8.19989,48.95825],[8.20031,48.95856],[8.22604,48.97352],[8.14189,48.97833],[7.97783,49.03161],[7.93641,49.05544],[7.86386,49.03499],[7.79557,49.06583],[7.75948,49.04562],[7.63618,49.05428],[7.62575,49.07654],[7.56416,49.08136],[7.53012,49.09818],[7.49172,49.13915],[7.49473,49.17],[7.44455,49.16765],[7.44052,49.18354],[7.3662,49.17308],[7.35995,49.14399],[7.3195,49.14231],[7.29514,49.11426],[7.23473,49.12971],[7.1593,49.1204],[7.1358,49.1282],[7.12504,49.14253],[7.10384,49.13787],[7.10715,49.15631],[7.07859,49.15031],[7.09007,49.13094],[7.07162,49.1255],[7.06642,49.11415],[7.05548,49.11185],[7.04843,49.11422],[7.04409,49.12123],[7.04662,49.13724],[7.03178,49.15734],[7.0274,49.17042],[7.03459,49.19096],[7.01318,49.19018],[6.97273,49.2099],[6.95963,49.203],[6.94028,49.21641],[6.93831,49.2223],[6.91875,49.22261],[6.89298,49.20863],[6.85939,49.22376],[6.83555,49.21249],[6.85119,49.20038],[6.85016,49.19354],[6.86225,49.18185],[6.84703,49.15734],[6.83385,49.15162],[6.78265,49.16793],[6.73765,49.16375],[6.71137,49.18808],[6.73256,49.20486],[6.71843,49.2208],[6.69274,49.21661],[6.66583,49.28065],[6.60186,49.31055],[6.572,49.35027],[6.58807,49.35358],[6.60091,49.36864],[6.533,49.40748],[6.55404,49.42464],[6.42432,49.47683],[6.40274,49.46546],[6.39168,49.4667],[6.38352,49.46463],[6.36778,49.46937],[6.3687,49.4593],[6.28818,49.48465],[6.27875,49.503],[6.25029,49.50609],[6.2409,49.51408],[6.19543,49.50536],[6.17386,49.50934],[6.15366,49.50226],[6.16115,49.49297],[6.14321,49.48796],[6.12814,49.49365],[6.12346,49.4735],[6.10325,49.4707],[6.09845,49.46351],[6.10072,49.45268],[6.08373,49.45594],[6.07887,49.46399],[6.05553,49.46663],[6.04176,49.44801],[6.02743,49.44845],[6.02648,49.45451],[5.97693,49.45513],[5.96876,49.49053],[5.94224,49.49608],[5.94128,49.50034],[5.86571,49.50015],[5.83389,49.52152],[5.83467,49.52717],[5.84466,49.53027],[5.83648,49.5425],[5.81664,49.53775],[5.80871,49.5425],[5.81838,49.54777],[5.79195,49.55228],[5.77435,49.56298],[5.7577,49.55915],[5.75649,49.54321],[5.64505,49.55146],[5.60909,49.51228],[5.55001,49.52729],[5.46541,49.49825],[5.46734,49.52648],[5.43713,49.5707],[5.3974,49.61596],[5.34837,49.62889],[5.33851,49.61599],[5.3137,49.61225],[5.30214,49.63055],[5.33039,49.6555],[5.31465,49.66846],[5.26232,49.69456],[5.14545,49.70287],[5.09249,49.76193],[4.96714,49.79872],[4.85464,49.78995],[4.86965,49.82271],[4.85134,49.86457],[4.88529,49.9236],[4.78827,49.95609],[4.8382,50.06738],[4.88602,50.15182],[4.83279,50.15331],[4.82438,50.16878],[4.75237,50.11314],[4.70064,50.09384],[4.68695,49.99685],[4.5414,49.96911],[4.51098,49.94659],[4.43488,49.94122],[4.35051,49.95315],[4.31963,49.97043],[4.20532,49.95803],[4.14239,49.98034],[4.13508,50.01976],[4.16294,50.04719],[4.23101,50.06945],[4.20147,50.13535],[4.13561,50.13078],[4.16014,50.19239],[4.15524,50.21103],[4.21945,50.25539],[4.20651,50.27333],[4.17861,50.27443],[4.17347,50.28838],[4.15524,50.2833],[4.16808,50.25786],[4.13665,50.25609],[4.11954,50.30425],[4.10957,50.30234],[4.10237,50.31247],[4.0689,50.3254],[4.0268,50.35793],[3.96771,50.34989],[3.90781,50.32814],[3.84314,50.35219],[3.73911,50.34809],[3.70987,50.3191],[3.71009,50.30305],[3.66976,50.34563],[3.65709,50.36873],[3.67262,50.38663],[3.67494,50.40239],[3.66153,50.45165],[3.64426,50.46275],[3.61014,50.49568],[3.58361,50.49049],[3.5683,50.50192],[3.49509,50.48885],[3.51564,50.5256],[3.47385,50.53397],[3.44629,50.51009],[3.37693,50.49538],[3.28575,50.52724],[3.2729,50.60718],[3.23951,50.6585],[3.264,50.67668],[3.2536,50.68977],[3.26141,50.69151],[3.26063,50.70086],[3.24593,50.71389],[3.22042,50.71019],[3.20845,50.71662],[3.19017,50.72569],[3.20064,50.73547],[3.18811,50.74025],[3.18339,50.74981],[3.16476,50.76843],[3.15017,50.79031],[3.1257,50.78603],[3.11987,50.79188],[3.11206,50.79416],[3.10614,50.78303],[3.09163,50.77717],[3.04314,50.77674],[3.00537,50.76588],[2.96778,50.75242],[2.95019,50.75138],[2.90873,50.702],[2.91036,50.6939],[2.90069,50.69263],[2.88504,50.70656],[2.87937,50.70298],[2.86985,50.7033],[2.8483,50.72276],[2.81056,50.71773],[2.71165,50.81295],[2.63331,50.81457],[2.59093,50.91751],[2.63074,50.94746],[2.57551,51.00326],[2.55904,51.07014]],[[1.99838,42.44682],[1.98378,42.44697],[1.96125,42.45364],[1.95606,42.45785],[1.96215,42.47854],[1.97003,42.48081],[1.97227,42.48487],[1.97697,42.48568],[1.98022,42.49569],[1.98916,42.49351],[1.99766,42.4858],[1.98579,42.47486],[1.99216,42.46208],[2.01564,42.45171],[1.99838,42.44682]]]]}},{type:"Feature",properties:{iso1A2:"GA",iso1A3:"GAB",iso1N3:"266",wikidata:"Q1000",nameEn:"Gabon",groups:["017","202","002","UN"],callingCodes:["241"]},geometry:{type:"MultiPolygon",coordinates:[[[[13.29457,2.16106],[13.28534,2.25716],[11.37116,2.29975],[11.3561,2.17217],[11.35307,1.00251],[9.79648,1.0019],[9.75065,1.06753],[9.66433,1.06723],[7.24416,-.64092],[10.75913,-4.39519],[11.12647,-3.94169],[11.22301,-3.69888],[11.48764,-3.51089],[11.57949,-3.52798],[11.68608,-3.68942],[11.87083,-3.71571],[11.92719,-3.62768],[11.8318,-3.5812],[11.96554,-3.30267],[11.70227,-3.17465],[11.70558,-3.0773],[11.80365,-3.00424],[11.64798,-2.81146],[11.5359,-2.85654],[11.64487,-2.61865],[11.57637,-2.33379],[11.74605,-2.39936],[11.96866,-2.33559],[12.04895,-2.41704],[12.47925,-2.32626],[12.44656,-1.92025],[12.61312,-1.8129],[12.82172,-1.91091],[13.02759,-2.33098],[13.47977,-2.43224],[13.75884,-2.09293],[13.92073,-2.35581],[13.85846,-2.46935],[14.10442,-2.49268],[14.23829,-2.33715],[14.16202,-2.23916],[14.23518,-2.15671],[14.25932,-1.97624],[14.41838,-1.89412],[14.52569,-.57818],[14.41887,-.44799],[14.2165,-.38261],[14.06862,-.20826],[13.90632,-.2287],[13.88648,.26652],[14.10909,.58563],[14.26066,.57255],[14.48179,.9152],[14.25186,1.39842],[13.89582,1.4261],[13.15519,1.23368],[13.25447,1.32339],[13.13461,1.57238],[13.29457,2.16106]]]]}},{type:"Feature",properties:{iso1A2:"GB",iso1A3:"GBR",iso1N3:"826",wikidata:"Q145",ccTLD:".uk",nameEn:"United Kingdom",aliases:["UK"]},geometry:null},{type:"Feature",properties:{iso1A2:"GD",iso1A3:"GRD",iso1N3:"308",wikidata:"Q769",nameEn:"Grenada",aliases:["WG"],groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 473"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.64026,12.69984],[-61.77886,11.36496],[-59.94058,12.34011],[-62.64026,12.69984]]]]}},{type:"Feature",properties:{iso1A2:"GE",iso1A3:"GEO",iso1N3:"268",wikidata:"Q230",nameEn:"Georgia",groups:["145","142","UN"],callingCodes:["995"]},geometry:{type:"MultiPolygon",coordinates:[[[[46.42738,41.91323],[45.61676,42.20768],[45.78692,42.48358],[45.36501,42.55268],[45.15318,42.70598],[44.88754,42.74934],[44.80941,42.61277],[44.70002,42.74679],[44.54202,42.75699],[43.95517,42.55396],[43.73119,42.62043],[43.81453,42.74297],[43.0419,43.02413],[43.03322,43.08883],[42.75889,43.19651],[42.66667,43.13917],[42.40563,43.23226],[41.64935,43.22331],[40.65957,43.56212],[40.10657,43.57344],[40.04445,43.47776],[40.03312,43.44262],[40.01007,43.42411],[40.01552,43.42025],[40.00853,43.40578],[40.0078,43.38551],[39.81147,43.06294],[40.89217,41.72528],[41.54366,41.52185],[41.7148,41.4932],[41.7124,41.47417],[41.81939,41.43621],[41.95134,41.52466],[42.26387,41.49346],[42.51772,41.43606],[42.59202,41.58183],[42.72794,41.59714],[42.84471,41.58912],[42.78995,41.50126],[42.84899,41.47265],[42.8785,41.50516],[43.02956,41.37891],[43.21707,41.30331],[43.13373,41.25503],[43.1945,41.25242],[43.23096,41.17536],[43.36118,41.2028],[43.44973,41.17666],[43.4717,41.12611],[43.67712,41.13398],[43.74717,41.1117],[43.84835,41.16329],[44.16591,41.19141],[44.18148,41.24644],[44.32139,41.2079],[44.34337,41.20312],[44.34417,41.2382],[44.46791,41.18204],[44.59322,41.1933],[44.61462,41.24018],[44.72814,41.20338],[44.82084,41.21513],[44.87887,41.20195],[44.89911,41.21366],[44.84358,41.23088],[44.81749,41.23488],[44.80053,41.25949],[44.81437,41.30371],[44.93493,41.25685],[45.0133,41.29747],[45.09867,41.34065],[45.1797,41.42231],[45.26285,41.46433],[45.31352,41.47168],[45.4006,41.42402],[45.45973,41.45898],[45.68389,41.3539],[45.71035,41.36208],[45.75705,41.35157],[45.69946,41.29545],[45.80842,41.2229],[45.95786,41.17956],[46.13221,41.19479],[46.27698,41.19011],[46.37661,41.10805],[46.456,41.09984],[46.48558,41.0576],[46.55096,41.1104],[46.63969,41.09515],[46.66148,41.20533],[46.72375,41.28609],[46.63658,41.37727],[46.4669,41.43331],[46.40307,41.48464],[46.33925,41.4963],[46.29794,41.5724],[46.34126,41.57454],[46.34039,41.5947],[46.3253,41.60912],[46.28182,41.60089],[46.26531,41.63339],[46.24429,41.59883],[46.19759,41.62327],[46.17891,41.72094],[46.20538,41.77205],[46.23962,41.75811],[46.30863,41.79133],[46.3984,41.84399],[46.42738,41.91323]]]]}},{type:"Feature",properties:{iso1A2:"GF",iso1A3:"GUF",iso1N3:"254",wikidata:"Q3769",nameEn:"French Guiana",country:"FR",groups:["Q3320166","EU","005","419","019","UN"],callingCodes:["594"]},geometry:{type:"MultiPolygon",coordinates:[[[[-51.35485,4.8383],[-53.7094,6.2264],[-54.01074,5.68785],[-54.01877,5.52789],[-54.26916,5.26909],[-54.4717,4.91964],[-54.38444,4.13222],[-54.19367,3.84387],[-54.05128,3.63557],[-53.98914,3.627],[-53.9849,3.58697],[-54.28534,2.67798],[-54.42864,2.42442],[-54.6084,2.32856],[-54.16286,2.10779],[-53.78743,2.34412],[-52.96539,2.1881],[-52.6906,2.37298],[-52.31787,3.17896],[-51.85573,3.83427],[-51.82312,3.85825],[-51.79599,3.89336],[-51.61983,4.14596],[-51.63798,4.51394],[-51.35485,4.8383]]]]}},{type:"Feature",properties:{iso1A2:"GG",iso1A3:"GGY",iso1N3:"831",wikidata:"Q25230",nameEn:"Bailiwick of Guernsey",country:"GB"},geometry:null},{type:"Feature",properties:{iso1A2:"GH",iso1A3:"GHA",iso1N3:"288",wikidata:"Q117",nameEn:"Ghana",groups:["011","202","002","UN"],callingCodes:["233"]},geometry:{type:"MultiPolygon",coordinates:[[[[-.13493,11.14075],[-.27374,11.17157],[-.28566,11.12713],[-.35955,11.07801],[-.38219,11.12596],[-.42391,11.11661],[-.44298,11.04292],[-.61937,10.91305],[-.67143,10.99811],[-2.83373,11.0067],[-2.94232,10.64281],[-2.83108,10.40252],[-2.74174,9.83172],[-2.76534,9.56589],[-2.68802,9.49343],[-2.69814,9.22717],[-2.77799,9.04949],[-2.66357,9.01771],[-2.58243,8.7789],[-2.49037,8.20872],[-2.62901,8.11495],[-2.61232,8.02645],[-2.67787,8.02055],[-2.74819,7.92613],[-2.78395,7.94974],[-2.79467,7.86002],[-2.92339,7.60847],[-2.97822,7.27165],[-2.95438,7.23737],[-3.23327,6.81744],[-3.21954,6.74407],[-3.25999,6.62521],[-3.01896,5.71697],[-2.95323,5.71865],[-2.96671,5.6415],[-2.93132,5.62137],[-2.85378,5.65156],[-2.76614,5.60963],[-2.72737,5.34789],[-2.77625,5.34621],[-2.73074,5.1364],[-2.75502,5.10657],[-2.95261,5.12477],[-2.96554,5.10397],[-3.063,5.13665],[-3.11073,5.12675],[-3.10675,5.08515],[-3.34019,4.17519],[1.07031,5.15655],[1.27574,5.93551],[1.19771,6.11522],[1.19966,6.17069],[1.09187,6.17074],[1.05969,6.22998],[1.03108,6.24064],[.99652,6.33779],[.89283,6.33779],[.71048,6.53083],[.74862,6.56517],[.63659,6.63857],[.6497,6.73682],[.58176,6.76049],[.57406,6.80348],[.52853,6.82921],[.56508,6.92971],[.52098,6.94391],[.52217,6.9723],[.59606,7.01252],[.65327,7.31643],[.62943,7.41099],[.57223,7.39326],[.52455,7.45354],[.51979,7.58706],[.58295,7.62368],[.62943,7.85751],[.58891,8.12779],[.6056,8.13959],[.61156,8.18324],[.5913,8.19622],[.63897,8.25873],[.73432,8.29529],[.64731,8.48866],[.47211,8.59945],[.37319,8.75262],[.52455,8.87746],[.45424,9.04581],[.56388,9.40697],[.49118,9.48339],[.36485,9.49749],[.33148,9.44812],[.25758,9.42696],[.2254,9.47869],[.31241,9.50337],[.30406,9.521],[.2409,9.52335],[.23851,9.57389],[.38153,9.58682],[.36008,9.6256],[.29334,9.59387],[.26712,9.66437],[.28261,9.69022],[.32313,9.6491],[.34816,9.66907],[.34816,9.71607],[.32075,9.72781],[.36366,10.03309],[.41252,10.02018],[.41371,10.06361],[.35293,10.09412],[.39584,10.31112],[.33028,10.30408],[.29453,10.41546],[.18846,10.4096],[.12886,10.53149],[-.05945,10.63458],[-.09141,10.7147],[-.07327,10.71845],[-.07183,10.76794],[-.0228,10.81916],[-.02685,10.8783],[-.00908,10.91644],[-.0063,10.96417],[.03355,10.9807],[.02395,11.06229],[.00342,11.08317],[-.00514,11.10763],[-.0275,11.11202],[-.05733,11.08628],[-.14462,11.10811],[-.13493,11.14075]]]]}},{type:"Feature",properties:{iso1A2:"GI",iso1A3:"GIB",iso1N3:"292",wikidata:"Q1410",nameEn:"Gibraltar",country:"GB",groups:["Q12837","BOTS","039","150","UN"],callingCodes:["350"]},geometry:{type:"MultiPolygon",coordinates:[[[[-5.34064,36.03744],[-5.27801,36.14942],[-5.33822,36.15272],[-5.34536,36.15501],[-5.40526,36.15488],[-5.34064,36.03744]]]]}},{type:"Feature",properties:{iso1A2:"GL",iso1A3:"GRL",iso1N3:"304",wikidata:"Q223",nameEn:"Greenland",country:"DK",groups:["Q1451600","021","003","019","UN"],callingCodes:["299"]},geometry:{type:"MultiPolygon",coordinates:[[[[-49.33696,84.57952],[-68.21821,80.48551],[-77.52957,77.23408],[-46.37635,57.3249],[-9.68082,72.73731],[-5.7106,84.28058],[-49.33696,84.57952]]]]}},{type:"Feature",properties:{iso1A2:"GM",iso1A3:"GMB",iso1N3:"270",wikidata:"Q1005",nameEn:"The Gambia",groups:["011","202","002","UN"],callingCodes:["220"]},geometry:{type:"MultiPolygon",coordinates:[[[[-15.14917,13.57989],[-14.36795,13.23033],[-13.79409,13.34472],[-13.8955,13.59126],[-14.34721,13.46578],[-14.93719,13.80173],[-15.36504,13.79313],[-15.47902,13.58758],[-17.43598,13.59273],[-17.43966,13.04579],[-16.74676,13.06025],[-16.69343,13.16791],[-15.80355,13.16729],[-15.80478,13.34832],[-15.26908,13.37768],[-15.14917,13.57989]]]]}},{type:"Feature",properties:{iso1A2:"GN",iso1A3:"GIN",iso1N3:"324",wikidata:"Q1006",nameEn:"Guinea",groups:["011","202","002","UN"],callingCodes:["224"]},geometry:{type:"MultiPolygon",coordinates:[[[[-11.37536,12.40788],[-11.46267,12.44559],[-11.91331,12.42008],[-12.35415,12.32758],[-12.87336,12.51892],[-13.06603,12.49342],[-13.05296,12.64003],[-13.70523,12.68013],[-13.7039,12.60313],[-13.65089,12.49515],[-13.64168,12.42764],[-13.70851,12.24978],[-13.92745,12.24077],[-13.94589,12.16869],[-13.7039,12.00869],[-13.7039,11.70195],[-14.09799,11.63649],[-14.26623,11.67486],[-14.31513,11.60713],[-14.51173,11.49708],[-14.66677,11.51188],[-14.77786,11.36323],[-14.95993,10.99244],[-15.07174,10.89557],[-15.96748,10.162],[-14.36218,8.64107],[-13.29911,9.04245],[-13.18586,9.0925],[-13.08953,9.0409],[-12.94095,9.26335],[-12.76788,9.3133],[-12.47254,9.86834],[-12.24262,9.92386],[-12.12634,9.87203],[-11.91023,9.93927],[-11.89624,9.99763],[-11.2118,10.00098],[-10.6534,9.29919],[-10.74484,9.07998],[-10.5783,9.06386],[-10.56197,8.81225],[-10.47707,8.67669],[-10.61422,8.5314],[-10.70565,8.29235],[-10.63934,8.35326],[-10.54891,8.31174],[-10.37257,8.48941],[-10.27575,8.48711],[-10.203,8.47991],[-10.14579,8.52665],[-10.05375,8.50697],[-10.05873,8.42578],[-9.77763,8.54633],[-9.47415,8.35195],[-9.50898,8.18455],[-9.41445,8.02448],[-9.44928,7.9284],[-9.35724,7.74111],[-9.37465,7.62032],[-9.48161,7.37122],[-9.41943,7.41809],[-9.305,7.42056],[-9.20798,7.38109],[-9.18311,7.30461],[-9.09107,7.1985],[-8.93435,7.2824],[-8.85724,7.26019],[-8.8448,7.35149],[-8.72789,7.51429],[-8.67814,7.69428],[-8.55874,7.70167],[-8.55874,7.62525],[-8.47114,7.55676],[-8.4003,7.6285],[-8.21374,7.54466],[-8.09931,7.78626],[-8.13414,7.87991],[-8.06449,8.04989],[-7.94695,8.00925],[-7.99919,8.11023],[-7.98675,8.20134],[-8.062,8.16071],[-8.2411,8.24196],[-8.22991,8.48438],[-7.92518,8.50652],[-7.65653,8.36873],[-7.69882,8.66148],[-7.95503,8.81146],[-7.92518,8.99332],[-7.73862,9.08422],[-7.90777,9.20456],[-7.85056,9.41812],[-8.03463,9.39604],[-8.14657,9.55062],[-8.09434,9.86936],[-8.15652,9.94288],[-8.11921,10.04577],[-8.01225,10.1021],[-7.97971,10.17117],[-7.9578,10.2703],[-8.10207,10.44649],[-8.22711,10.41722],[-8.32614,10.69273],[-8.2667,10.91762],[-8.35083,11.06234],[-8.66923,10.99397],[-8.40058,11.37466],[-8.80854,11.66715],[-8.94784,12.34842],[-9.13689,12.50875],[-9.38067,12.48446],[-9.32097,12.29009],[-9.63938,12.18312],[-9.714,12.0226],[-10.30604,12.24634],[-10.71897,11.91552],[-10.80355,12.1053],[-10.99758,12.24634],[-11.24136,12.01286],[-11.50006,12.17826],[-11.37536,12.40788]]]]}},{type:"Feature",properties:{iso1A2:"GP",iso1A3:"GLP",iso1N3:"312",wikidata:"Q17012",nameEn:"Guadeloupe",country:"FR",groups:["Q3320166","EU","029","003","419","019","UN"],callingCodes:["590"]},geometry:{type:"MultiPolygon",coordinates:[[[[-60.03183,16.1129],[-61.60296,16.73066],[-63.00549,15.26166],[-60.03183,16.1129]]]]}},{type:"Feature",properties:{iso1A2:"GQ",iso1A3:"GNQ",iso1N3:"226",wikidata:"Q983",nameEn:"Equatorial Guinea",groups:["017","202","002","UN"],callingCodes:["240"]},geometry:{type:"MultiPolygon",coordinates:[[[[9.22018,3.72052],[8.34397,4.30689],[7.71762,.6674],[3.35016,-3.29031],[9.66433,1.06723],[9.75065,1.06753],[9.79648,1.0019],[11.35307,1.00251],[11.3561,2.17217],[9.991,2.16561],[9.90749,2.20049],[9.89012,2.20457],[9.84716,2.24676],[9.83238,2.29079],[9.83754,2.32428],[9.82123,2.35097],[9.81162,2.33797],[9.22018,3.72052]]]]}},{type:"Feature",properties:{iso1A2:"GR",iso1A3:"GRC",iso1N3:"300",wikidata:"Q41",nameEn:"Greece",aliases:["EL"],groups:["EU","039","150","UN"],callingCodes:["30"]},geometry:{type:"MultiPolygon",coordinates:[[[[26.03489,40.73051],[26.0754,40.72772],[26.08638,40.73214],[26.12495,40.74283],[26.12854,40.77339],[26.15685,40.80709],[26.21351,40.83298],[26.20856,40.86048],[26.26169,40.9168],[26.29441,40.89119],[26.28623,40.93005],[26.32259,40.94042],[26.35894,40.94292],[26.33297,40.98388],[26.3606,41.02027],[26.31928,41.07386],[26.32259,41.24929],[26.39861,41.25053],[26.5209,41.33993],[26.5837,41.32131],[26.62997,41.34613],[26.61767,41.42281],[26.59742,41.48058],[26.59196,41.60491],[26.5209,41.62592],[26.47958,41.67037],[26.35957,41.71149],[26.30255,41.70925],[26.2654,41.71544],[26.22888,41.74139],[26.21325,41.73223],[26.16841,41.74858],[26.06148,41.70345],[26.07083,41.64584],[26.15146,41.60828],[26.14328,41.55496],[26.17951,41.55409],[26.176,41.50072],[26.14796,41.47533],[26.20288,41.43943],[26.16548,41.42278],[26.12926,41.35878],[25.87919,41.30526],[25.8266,41.34563],[25.70507,41.29209],[25.66183,41.31316],[25.61042,41.30614],[25.55082,41.31667],[25.52394,41.2798],[25.48187,41.28506],[25.28322,41.23411],[25.11611,41.34212],[24.942,41.38685],[24.90928,41.40876],[24.86136,41.39298],[24.82514,41.4035],[24.8041,41.34913],[24.71529,41.41928],[24.61129,41.42278],[24.52599,41.56808],[24.30513,41.51297],[24.27124,41.57682],[24.18126,41.51735],[24.10063,41.54796],[24.06323,41.53222],[24.06908,41.46132],[23.96975,41.44118],[23.91483,41.47971],[23.89613,41.45257],[23.80148,41.43943],[23.76525,41.40175],[23.67644,41.41139],[23.63203,41.37632],[23.52453,41.40262],[23.40416,41.39999],[23.33639,41.36317],[23.31301,41.40525],[23.22771,41.37106],[23.21953,41.33773],[23.1833,41.31755],[22.93334,41.34104],[22.81199,41.3398],[22.76408,41.32225],[22.74538,41.16321],[22.71266,41.13945],[22.65306,41.18168],[22.62852,41.14385],[22.58295,41.11568],[22.5549,41.13065],[22.42285,41.11921],[22.26744,41.16409],[22.17629,41.15969],[22.1424,41.12449],[22.06527,41.15617],[21.90869,41.09191],[21.91102,41.04786],[21.7556,40.92525],[21.69601,40.9429],[21.57448,40.86076],[21.53007,40.90759],[21.41555,40.9173],[21.35595,40.87578],[21.25779,40.86165],[21.21105,40.8855],[21.15262,40.85546],[20.97887,40.85475],[20.98396,40.79109],[20.95752,40.76982],[20.98134,40.76046],[21.05833,40.66586],[21.03932,40.56299],[20.96908,40.51526],[20.94925,40.46625],[20.83688,40.47882],[20.7906,40.42726],[20.78234,40.35803],[20.71789,40.27739],[20.67162,40.09433],[20.62566,40.0897],[20.61081,40.07866],[20.55593,40.06524],[20.51297,40.08168],[20.48487,40.06271],[20.42373,40.06777],[20.37911,39.99058],[20.31135,39.99438],[20.41546,39.82832],[20.41475,39.81437],[20.38572,39.78516],[20.30804,39.81563],[20.29152,39.80421],[20.31961,39.72799],[20.27412,39.69884],[20.22707,39.67459],[20.22376,39.64532],[20.15988,39.652],[20.12956,39.65805],[20.05189,39.69112],[20.00957,39.69227],[19.98042,39.6504],[19.92466,39.69533],[19.97622,39.78684],[19.95905,39.82857],[19.0384,40.35325],[19.20409,39.7532],[22.5213,33.45682],[29.73302,35.92555],[29.69611,36.10365],[29.61805,36.14179],[29.61002,36.1731],[29.48192,36.18377],[29.30783,36.01033],[28.23708,36.56812],[27.95037,36.46155],[27.89482,36.69898],[27.46117,36.53789],[27.24613,36.71622],[27.45627,36.9008],[27.20312,36.94571],[27.14757,37.32],[26.95583,37.64989],[26.99377,37.69034],[27.16428,37.72343],[27.05537,37.9131],[26.21136,38.17558],[26.24183,38.44695],[26.32173,38.48731],[26.21136,38.65436],[26.61814,38.81372],[26.70773,39.0312],[26.43357,39.43096],[25.94257,39.39358],[25.61285,40.17161],[26.04292,40.3958],[25.94795,40.72797],[26.03489,40.73051]]]]}},{type:"Feature",properties:{iso1A2:"GS",iso1A3:"SGS",iso1N3:"239",wikidata:"Q35086",nameEn:"South Georgia and South Sandwich Islands",country:"GB",groups:["BOTS","005","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["500"]},geometry:{type:"MultiPolygon",coordinates:[[[[-35.26394,-43.68272],[-53.39656,-59.87088],[-22.31757,-59.85974],[-35.26394,-43.68272]]]]}},{type:"Feature",properties:{iso1A2:"GT",iso1A3:"GTM",iso1N3:"320",wikidata:"Q774",nameEn:"Guatemala",groups:["013","003","419","019","UN"],callingCodes:["502"]},geometry:{type:"MultiPolygon",coordinates:[[[[-89.14985,17.81563],[-90.98678,17.81655],[-90.99199,17.25192],[-91.43809,17.25373],[-91.04436,16.92175],[-90.69064,16.70697],[-90.61212,16.49832],[-90.40499,16.40524],[-90.44567,16.07573],[-91.73182,16.07371],[-92.20983,15.26077],[-92.0621,15.07406],[-92.1454,14.98143],[-92.1423,14.88647],[-92.18161,14.84147],[-92.1454,14.6804],[-92.2261,14.53423],[-92.37213,14.39277],[-90.55276,12.8866],[-90.11344,13.73679],[-90.10505,13.85104],[-89.88937,14.0396],[-89.81807,14.07073],[-89.76103,14.02923],[-89.73251,14.04133],[-89.75569,14.07073],[-89.70756,14.1537],[-89.61844,14.21937],[-89.52397,14.22628],[-89.50614,14.26084],[-89.58814,14.33165],[-89.57441,14.41637],[-89.39028,14.44561],[-89.34776,14.43013],[-89.35189,14.47553],[-89.23719,14.58046],[-89.15653,14.57802],[-89.13132,14.71582],[-89.23467,14.85596],[-89.15149,14.97775],[-89.18048,14.99967],[-89.15149,15.07392],[-88.97343,15.14039],[-88.32467,15.63665],[-88.31459,15.66942],[-88.24022,15.69247],[-88.22552,15.72294],[-88.20359,16.03858],[-88.40779,16.09624],[-88.95358,15.88698],[-89.02415,15.9063],[-89.17418,15.90898],[-89.22683,15.88619],[-89.15025,17.04813],[-89.14985,17.81563]]]]}},{type:"Feature",properties:{iso1A2:"GU",iso1A3:"GUM",iso1N3:"316",wikidata:"Q16635",nameEn:"Guam",aliases:["US-GU"],country:"US",groups:["Q1352230","Q153732","057","009","UN"],roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 671"]},geometry:{type:"MultiPolygon",coordinates:[[[[146.25931,13.85876],[143.82485,13.92273],[144.61642,12.82462],[146.25931,13.85876]]]]}},{type:"Feature",properties:{iso1A2:"GW",iso1A3:"GNB",iso1N3:"624",wikidata:"Q1007",nameEn:"Guinea-Bissau",groups:["011","202","002","UN"],callingCodes:["245"]},geometry:{type:"MultiPolygon",coordinates:[[[[-14.31513,11.60713],[-14.26623,11.67486],[-14.09799,11.63649],[-13.7039,11.70195],[-13.7039,12.00869],[-13.94589,12.16869],[-13.92745,12.24077],[-13.70851,12.24978],[-13.64168,12.42764],[-13.65089,12.49515],[-13.7039,12.60313],[-13.70523,12.68013],[-15.17582,12.6847],[-15.67302,12.42974],[-16.20591,12.46157],[-16.38191,12.36449],[-16.70562,12.34803],[-17.4623,11.92379],[-15.96748,10.162],[-15.07174,10.89557],[-14.95993,10.99244],[-14.77786,11.36323],[-14.66677,11.51188],[-14.51173,11.49708],[-14.31513,11.60713]]]]}},{type:"Feature",properties:{iso1A2:"GY",iso1A3:"GUY",iso1N3:"328",wikidata:"Q734",nameEn:"Guyana",groups:["005","419","019","UN"],driveSide:"left",callingCodes:["592"]},geometry:{type:"MultiPolygon",coordinates:[[[[-56.84822,6.73257],[-59.54058,8.6862],[-59.98508,8.53046],[-59.85562,8.35213],[-59.80661,8.28906],[-59.83156,8.23261],[-59.97059,8.20791],[-60.02407,8.04557],[-60.38056,7.8302],[-60.51959,7.83373],[-60.64793,7.56877],[-60.71923,7.55817],[-60.59802,7.33194],[-60.63367,7.25061],[-60.54098,7.14804],[-60.44116,7.20817],[-60.28074,7.1162],[-60.39419,6.94847],[-60.54873,6.8631],[-61.13632,6.70922],[-61.20762,6.58174],[-61.15058,6.19558],[-61.4041,5.95304],[-60.73204,5.20931],[-60.32352,5.21299],[-60.20944,5.28754],[-59.98129,5.07097],[-60.04189,4.69801],[-60.15953,4.53456],[-59.78878,4.45637],[-59.69361,4.34069],[-59.73353,4.20399],[-59.51963,3.91951],[-59.86899,3.57089],[-59.79769,3.37162],[-59.99733,2.92312],[-59.91177,2.36759],[-59.7264,2.27497],[-59.74066,1.87596],[-59.25583,1.40559],[-58.92072,1.31293],[-58.84229,1.17749],[-58.53571,1.29154],[-58.4858,1.48399],[-58.33887,1.58014],[-58.01873,1.51966],[-57.97336,1.64566],[-57.77281,1.73344],[-57.55743,1.69605],[-57.35073,1.98327],[-57.23981,1.95808],[-57.09109,2.01854],[-57.07092,1.95304],[-56.7659,1.89509],[-56.47045,1.95135],[-56.55439,2.02003],[-56.70519,2.02964],[-57.35891,3.32121],[-58.0307,3.95513],[-57.8699,4.89394],[-57.37442,5.0208],[-57.22536,5.15605],[-57.31629,5.33714],[-56.84822,6.73257]]]]}},{type:"Feature",properties:{iso1A2:"HK",iso1A3:"HKG",iso1N3:"344",wikidata:"Q8646",nameEn:"Hong Kong",country:"CN",groups:["030","142","UN"],driveSide:"left",callingCodes:["852"]},geometry:{type:"MultiPolygon",coordinates:[[[[113.92195,22.13873],[114.50148,22.15017],[114.44998,22.55977],[114.25154,22.55977],[114.22888,22.5436],[114.22185,22.55343],[114.20655,22.55706],[114.18338,22.55444],[114.17247,22.55944],[114.1597,22.56041],[114.15123,22.55163],[114.1482,22.54091],[114.13823,22.54319],[114.12665,22.54003],[114.11656,22.53415],[114.11181,22.52878],[114.1034,22.5352],[114.09692,22.53435],[114.09048,22.53716],[114.08606,22.53276],[114.07817,22.52997],[114.07267,22.51855],[114.06272,22.51617],[114.05729,22.51104],[114.05438,22.5026],[114.03113,22.5065],[113.86771,22.42972],[113.81621,22.2163],[113.83338,22.1826],[113.92195,22.13873]]]]}},{type:"Feature",properties:{iso1A2:"HM",iso1A3:"HMD",iso1N3:"334",wikidata:"Q131198",nameEn:"Heard Island and McDonald Islands",country:"AU",groups:["053","009","UN"],driveSide:"left"},geometry:{type:"MultiPolygon",coordinates:[[[[71.08716,-53.87687],[75.44182,-53.99822],[72.87012,-51.48322],[71.08716,-53.87687]]]]}},{type:"Feature",properties:{iso1A2:"HN",iso1A3:"HND",iso1N3:"340",wikidata:"Q783",nameEn:"Honduras",groups:["013","003","419","019","UN"],callingCodes:["504"]},geometry:{type:"MultiPolygon",coordinates:[[[[-83.86109,17.73736],[-88.20359,16.03858],[-88.22552,15.72294],[-88.24022,15.69247],[-88.31459,15.66942],[-88.32467,15.63665],[-88.97343,15.14039],[-89.15149,15.07392],[-89.18048,14.99967],[-89.15149,14.97775],[-89.23467,14.85596],[-89.13132,14.71582],[-89.15653,14.57802],[-89.23719,14.58046],[-89.35189,14.47553],[-89.34776,14.43013],[-89.04187,14.33644],[-88.94608,14.20207],[-88.85785,14.17763],[-88.815,14.11652],[-88.73182,14.10919],[-88.70661,14.04317],[-88.49738,13.97224],[-88.48982,13.86458],[-88.25791,13.91108],[-88.23018,13.99915],[-88.07641,13.98447],[-88.00331,13.86948],[-87.7966,13.91353],[-87.68821,13.80829],[-87.73106,13.75443],[-87.78148,13.52906],[-87.71657,13.50577],[-87.72115,13.46083],[-87.73841,13.44169],[-87.77354,13.45767],[-87.83467,13.44655],[-87.84675,13.41078],[-87.80177,13.35689],[-87.73714,13.32715],[-87.69751,13.25228],[-87.55124,13.12523],[-87.37107,12.98646],[-87.06306,13.00892],[-87.03785,12.98682],[-86.93197,13.05313],[-86.93383,13.18677],[-86.87066,13.30641],[-86.71267,13.30348],[-86.76812,13.79605],[-86.35219,13.77157],[-86.14801,14.04317],[-86.00685,14.08474],[-86.03458,13.99181],[-85.75477,13.8499],[-85.73964,13.9698],[-85.45762,14.11304],[-85.32149,14.2562],[-85.18602,14.24929],[-85.1575,14.53934],[-84.90082,14.80489],[-84.82596,14.82212],[-84.70119,14.68078],[-84.48373,14.63249],[-84.10584,14.76353],[-83.89551,14.76697],[-83.62101,14.89448],[-83.49268,15.01158],[-83.13724,15.00002],[-83.04763,15.03256],[-82.06974,14.49418],[-81.58685,18.0025],[-83.86109,17.73736]]]]}},{type:"Feature",properties:{iso1A2:"HR",iso1A3:"HRV",iso1N3:"191",wikidata:"Q224",nameEn:"Croatia",groups:["EU","039","150","UN"],callingCodes:["385"]},geometry:{type:"MultiPolygon",coordinates:[[[[17.6444,42.88641],[17.5392,42.92787],[17.70879,42.97223],[17.64268,43.08595],[17.46986,43.16559],[17.286,43.33065],[17.25579,43.40353],[17.29699,43.44542],[17.24411,43.49376],[17.15828,43.49376],[17.00585,43.58037],[16.80736,43.76011],[16.75316,43.77157],[16.70922,43.84887],[16.55472,43.95326],[16.50528,44.0244],[16.43629,44.02826],[16.43662,44.07523],[16.36864,44.08263],[16.18688,44.27012],[16.21346,44.35231],[16.12969,44.38275],[16.16814,44.40679],[16.10566,44.52586],[16.03012,44.55572],[16.00884,44.58605],[16.05828,44.61538],[15.89348,44.74964],[15.8255,44.71501],[15.72584,44.82334],[15.79472,44.8455],[15.76096,44.87045],[15.74723,44.96818],[15.78568,44.97401],[15.74585,45.0638],[15.78842,45.11519],[15.76371,45.16508],[15.83512,45.22459],[15.98412,45.23088],[16.12153,45.09616],[16.29036,44.99732],[16.35404,45.00241],[16.35863,45.03529],[16.3749,45.05206],[16.38219,45.05139],[16.38309,45.05955],[16.40023,45.1147],[16.4634,45.14522],[16.49155,45.21153],[16.52982,45.22713],[16.5501,45.2212],[16.56559,45.22307],[16.60194,45.23042],[16.64962,45.20714],[16.74845,45.20393],[16.78219,45.19002],[16.81137,45.18434],[16.83804,45.18951],[16.92405,45.27607],[16.9385,45.22742],[17.0415,45.20759],[17.18438,45.14764],[17.24325,45.146],[17.25131,45.14957],[17.26815,45.18444],[17.32092,45.16246],[17.33573,45.14521],[17.41229,45.13335],[17.4498,45.16119],[17.45615,45.12523],[17.47589,45.12656],[17.51469,45.10791],[17.59104,45.10816],[17.66571,45.13408],[17.84826,45.04489],[17.87148,45.04645],[17.93706,45.08016],[17.97336,45.12245],[17.97834,45.13831],[17.99479,45.14958],[18.01594,45.15163],[18.03121,45.12632],[18.1624,45.07654],[18.24387,45.13699],[18.32077,45.1021],[18.41896,45.11083],[18.47939,45.05871],[18.65723,45.07544],[18.78357,44.97741],[18.80661,44.93561],[18.76369,44.93707],[18.76347,44.90669],[18.8704,44.85097],[19.01994,44.85493],[18.98957,44.90645],[19.02871,44.92541],[19.06853,44.89915],[19.15573,44.95409],[19.05205,44.97692],[19.1011,45.01191],[19.07952,45.14668],[19.14063,45.12972],[19.19144,45.17863],[19.43589,45.17137],[19.41941,45.23475],[19.28208,45.23813],[19.10774,45.29547],[18.97446,45.37528],[18.99918,45.49333],[19.08364,45.48804],[19.07471,45.53086],[18.94562,45.53712],[18.88776,45.57253],[18.96691,45.66731],[18.90305,45.71863],[18.85783,45.85493],[18.81394,45.91329],[18.80211,45.87995],[18.6792,45.92057],[18.57483,45.80772],[18.44368,45.73972],[18.12439,45.78905],[18.08869,45.76511],[17.99805,45.79671],[17.87377,45.78522],[17.66545,45.84207],[17.56821,45.93728],[17.35672,45.95209],[17.14592,46.16697],[16.8903,46.28122],[16.8541,46.36255],[16.7154,46.39523],[16.6639,46.45203],[16.59527,46.47524],[16.52604,46.47831],[16.5007,46.49644],[16.44036,46.5171],[16.38771,46.53608],[16.37193,46.55008],[16.29793,46.5121],[16.26733,46.51505],[16.26759,46.50566],[16.23961,46.49653],[16.25124,46.48067],[16.27398,46.42875],[16.27329,46.41467],[16.30162,46.40437],[16.30233,46.37837],[16.18824,46.38282],[16.14859,46.40547],[16.05281,46.39141],[16.05065,46.3833],[16.07314,46.36458],[16.07616,46.3463],[15.97965,46.30652],[15.79284,46.25811],[15.78817,46.21719],[15.75479,46.20336],[15.75436,46.21969],[15.67395,46.22478],[15.6434,46.21396],[15.64904,46.19229],[15.59909,46.14761],[15.6083,46.11992],[15.62317,46.09103],[15.72977,46.04682],[15.71246,46.01196],[15.70327,46.00015],[15.70636,45.92116],[15.67967,45.90455],[15.68383,45.88867],[15.68232,45.86819],[15.70411,45.8465],[15.66662,45.84085],[15.64185,45.82915],[15.57952,45.84953],[15.52234,45.82195],[15.47325,45.8253],[15.47531,45.79802],[15.40836,45.79491],[15.25423,45.72275],[15.30872,45.69014],[15.34919,45.71623],[15.4057,45.64727],[15.38952,45.63682],[15.34214,45.64702],[15.34695,45.63382],[15.31027,45.6303],[15.27747,45.60504],[15.29837,45.5841],[15.30249,45.53224],[15.38188,45.48752],[15.33051,45.45258],[15.27758,45.46678],[15.16862,45.42309],[15.05187,45.49079],[15.02385,45.48533],[14.92266,45.52788],[14.90554,45.47769],[14.81992,45.45913],[14.80124,45.49515],[14.71718,45.53442],[14.68605,45.53006],[14.69694,45.57366],[14.59576,45.62812],[14.60977,45.66403],[14.57397,45.67165],[14.53816,45.6205],[14.5008,45.60852],[14.49769,45.54424],[14.36693,45.48642],[14.32487,45.47142],[14.27681,45.4902],[14.26611,45.48239],[14.24239,45.50607],[14.22371,45.50388],[14.20348,45.46896],[14.07116,45.48752],[14.00578,45.52352],[13.96063,45.50825],[13.99488,45.47551],[13.97309,45.45258],[13.90771,45.45149],[13.88124,45.42637],[13.81742,45.43729],[13.7785,45.46787],[13.67398,45.4436],[13.62902,45.45898],[13.56979,45.4895],[13.45644,45.59464],[13.05142,45.33128],[13.12821,44.48877],[16.15283,42.18525],[18.45131,42.21682],[18.54128,42.39171],[18.52152,42.42302],[18.43588,42.48556],[18.44307,42.51077],[18.43735,42.55921],[18.36197,42.61423],[18.24318,42.6112],[17.88201,42.83668],[17.80854,42.9182],[17.7948,42.89556],[17.68151,42.92725],[17.6444,42.88641]]]]}},{type:"Feature",properties:{iso1A2:"HT",iso1A3:"HTI",iso1N3:"332",wikidata:"Q790",nameEn:"Haiti",aliases:["RH"],groups:["029","003","419","019","UN"],callingCodes:["509"]},geometry:{type:"MultiPolygon",coordinates:[[[[-71.71885,18.78423],[-71.72624,18.87802],[-71.77766,18.95007],[-71.88102,18.95007],[-71.74088,19.0437],[-71.71088,19.08353],[-71.69938,19.10916],[-71.65337,19.11759],[-71.62642,19.21212],[-71.73229,19.26686],[-71.77766,19.33823],[-71.69448,19.37866],[-71.6802,19.45008],[-71.71268,19.53374],[-71.71449,19.55364],[-71.7429,19.58445],[-71.75865,19.70231],[-71.77419,19.73128],[-72.38946,20.27111],[-73.37289,20.43199],[-74.7289,18.71009],[-74.76465,18.06252],[-72.29523,17.48026],[-71.75671,18.03456],[-71.73783,18.07177],[-71.74994,18.11115],[-71.75465,18.14405],[-71.78271,18.18302],[-71.69952,18.34101],[-71.90875,18.45821],[-71.88102,18.50125],[-72.00201,18.62312],[-71.95412,18.64939],[-71.82556,18.62551],[-71.71885,18.78423]]]]}},{type:"Feature",properties:{iso1A2:"HU",iso1A3:"HUN",iso1N3:"348",wikidata:"Q28",nameEn:"Hungary",groups:["EU","151","150","UN"],callingCodes:["36"]},geometry:{type:"MultiPolygon",coordinates:[[[[21.72525,48.34628],[21.67134,48.3989],[21.6068,48.50365],[21.44063,48.58456],[21.11516,48.49546],[20.83248,48.5824],[20.5215,48.53336],[20.29943,48.26104],[20.24312,48.2784],[19.92452,48.1283],[19.63338,48.25006],[19.52489,48.19791],[19.47957,48.09437],[19.28182,48.08336],[19.23924,48.0595],[19.01952,48.07052],[18.82176,48.04206],[18.76134,47.97499],[18.76821,47.87469],[18.8506,47.82308],[18.74074,47.8157],[18.66521,47.76772],[18.56496,47.76588],[18.29305,47.73541],[18.02938,47.75665],[17.71215,47.7548],[17.23699,48.02094],[17.16001,48.00636],[17.09786,47.97336],[17.11022,47.92461],[17.08275,47.87719],[17.00997,47.86245],[17.07039,47.81129],[17.05048,47.79377],[17.08893,47.70928],[16.87538,47.68895],[16.86509,47.72268],[16.82938,47.68432],[16.7511,47.67878],[16.72089,47.73469],[16.65679,47.74197],[16.61183,47.76171],[16.54779,47.75074],[16.53514,47.73837],[16.55129,47.72268],[16.4222,47.66537],[16.58699,47.61772],[16.64193,47.63114],[16.71059,47.52692],[16.64821,47.50155],[16.6718,47.46139],[16.57152,47.40868],[16.52414,47.41007],[16.49908,47.39416],[16.45104,47.41181],[16.47782,47.25918],[16.44142,47.25079],[16.43663,47.21127],[16.41739,47.20649],[16.42801,47.18422],[16.4523,47.18812],[16.46442,47.16845],[16.44932,47.14418],[16.52863,47.13974],[16.46134,47.09395],[16.52176,47.05747],[16.43936,47.03548],[16.51369,47.00084],[16.28202,47.00159],[16.27594,46.9643],[16.22403,46.939],[16.19904,46.94134],[16.10983,46.867],[16.14365,46.8547],[16.15711,46.85434],[16.21892,46.86961],[16.2365,46.87775],[16.2941,46.87137],[16.34547,46.83836],[16.3408,46.80641],[16.31303,46.79838],[16.30966,46.7787],[16.37816,46.69975],[16.42641,46.69228],[16.41863,46.66238],[16.38594,46.6549],[16.39217,46.63673],[16.50139,46.56684],[16.52885,46.53303],[16.52604,46.5051],[16.59527,46.47524],[16.6639,46.45203],[16.7154,46.39523],[16.8541,46.36255],[16.8903,46.28122],[17.14592,46.16697],[17.35672,45.95209],[17.56821,45.93728],[17.66545,45.84207],[17.87377,45.78522],[17.99805,45.79671],[18.08869,45.76511],[18.12439,45.78905],[18.44368,45.73972],[18.57483,45.80772],[18.6792,45.92057],[18.80211,45.87995],[18.81394,45.91329],[18.99712,45.93537],[19.01284,45.96529],[19.0791,45.96458],[19.10388,46.04015],[19.14543,45.9998],[19.28826,45.99694],[19.52473,46.1171],[19.56113,46.16824],[19.66007,46.19005],[19.81491,46.1313],[19.93508,46.17553],[20.01816,46.17696],[20.03533,46.14509],[20.09713,46.17315],[20.26068,46.12332],[20.28324,46.1438],[20.35573,46.16629],[20.45377,46.14405],[20.49718,46.18721],[20.63863,46.12728],[20.76085,46.21002],[20.74574,46.25467],[20.86797,46.28884],[21.06572,46.24897],[21.16872,46.30118],[21.28061,46.44941],[21.26929,46.4993],[21.33214,46.63035],[21.43926,46.65109],[21.5151,46.72147],[21.48935,46.7577],[21.52028,46.84118],[21.59307,46.86935],[21.59581,46.91628],[21.68645,46.99595],[21.648,47.03902],[21.78395,47.11104],[21.94463,47.38046],[22.01055,47.37767],[22.03389,47.42508],[22.00917,47.50492],[22.31816,47.76126],[22.41979,47.7391],[22.46559,47.76583],[22.67247,47.7871],[22.76617,47.8417],[22.77991,47.87211],[22.89849,47.95851],[22.84276,47.98602],[22.87847,48.04665],[22.81804,48.11363],[22.73427,48.12005],[22.66835,48.09162],[22.58733,48.10813],[22.59007,48.15121],[22.49806,48.25189],[22.38133,48.23726],[22.2083,48.42534],[22.14689,48.4005],[21.83339,48.36242],[21.8279,48.33321],[21.72525,48.34628]]]]}},{type:"Feature",properties:{iso1A2:"IC",wikidata:"Q5813",nameEn:"Canary Islands",country:"ES",groups:["Q3320166","Q105472","EU","039","150","UN"],isoStatus:"excRes",callingCodes:["34"]},geometry:{type:"MultiPolygon",coordinates:[[[[-12.00985,30.24121],[-25.3475,27.87574],[-14.43883,27.02969],[-12.00985,30.24121]]]]}},{type:"Feature",properties:{iso1A2:"ID",iso1A3:"IDN",iso1N3:"360",wikidata:"Q252",nameEn:"Indonesia",aliases:["RI"]},geometry:null},{type:"Feature",properties:{iso1A2:"IE",iso1A3:"IRL",iso1N3:"372",wikidata:"Q27",nameEn:"Republic of Ireland",groups:["EU","Q22890","154","150","UN"],driveSide:"left",callingCodes:["353"]},geometry:{type:"MultiPolygon",coordinates:[[[[-6.26218,54.09785],[-6.29003,54.11278],[-6.32694,54.09337],[-6.36279,54.11248],[-6.36605,54.07234],[-6.47849,54.06947],[-6.62842,54.03503],[-6.66264,54.0666],[-6.6382,54.17071],[-6.70175,54.20218],[-6.74575,54.18788],[-6.81583,54.22791],[-6.85179,54.29176],[-6.87775,54.34682],[-7.02034,54.4212],[-7.19145,54.31296],[-7.14908,54.22732],[-7.25012,54.20063],[-7.26316,54.13863],[-7.29493,54.12013],[-7.29687,54.1354],[-7.28017,54.16714],[-7.29157,54.17191],[-7.34005,54.14698],[-7.30553,54.11869],[-7.32834,54.11475],[-7.44567,54.1539],[-7.4799,54.12239],[-7.55812,54.12239],[-7.69501,54.20731],[-7.81397,54.20159],[-7.8596,54.21779],[-7.87101,54.29299],[-8.04555,54.36292],[-8.179,54.46763],[-8.04538,54.48941],[-7.99812,54.54427],[-7.8596,54.53671],[-7.70315,54.62077],[-7.93293,54.66603],[-7.83352,54.73854],[-7.75041,54.7103],[-7.64449,54.75265],[-7.54671,54.74606],[-7.54508,54.79401],[-7.47626,54.83084],[-7.4473,54.87003],[-7.44404,54.9403],[-7.40004,54.94498],[-7.4033,55.00391],[-7.34464,55.04688],[-7.2471,55.06933],[-6.34755,55.49206],[-7.75229,55.93854],[-22.01468,48.19557],[-6.03913,51.13217],[-5.37267,53.63269],[-6.26218,54.09785]]]]}},{type:"Feature",properties:{iso1A2:"IL",iso1A3:"ISR",iso1N3:"376",wikidata:"Q801",nameEn:"Israel",groups:["145","142","UN"],callingCodes:["972"]},geometry:{type:"MultiPolygon",coordinates:[[[[34.052,31.46619],[34.29262,31.70393],[34.48681,31.59711],[34.56797,31.54197],[34.48892,31.48365],[34.40077,31.40926],[34.36505,31.36404],[34.37381,31.30598],[34.36523,31.28963],[34.29417,31.24194],[34.26742,31.21998],[34.92298,29.45305],[34.97718,29.54294],[34.98207,29.58147],[35.02147,29.66343],[35.14108,30.07374],[35.19183,30.34636],[35.16218,30.43535],[35.19595,30.50297],[35.21379,30.60401],[35.29311,30.71365],[35.33456,30.81224],[35.33984,30.8802],[35.41371,30.95565],[35.43658,31.12444],[35.40316,31.25535],[35.47672,31.49578],[35.39675,31.49572],[35.22921,31.37445],[35.13033,31.3551],[35.02459,31.35979],[34.92571,31.34337],[34.88932,31.37093],[34.87833,31.39321],[34.89756,31.43891],[34.93258,31.47816],[34.94356,31.50743],[34.9415,31.55601],[34.95249,31.59813],[35.00879,31.65426],[35.08226,31.69107],[35.10782,31.71594],[35.11895,31.71454],[35.12933,31.7325],[35.13931,31.73012],[35.15119,31.73634],[35.15474,31.73352],[35.16478,31.73242],[35.18023,31.72067],[35.20538,31.72388],[35.21937,31.71578],[35.22392,31.71899],[35.23972,31.70896],[35.24315,31.71244],[35.2438,31.7201],[35.24981,31.72543],[35.25182,31.73945],[35.26319,31.74846],[35.25225,31.7678],[35.26058,31.79064],[35.25573,31.81362],[35.26404,31.82567],[35.251,31.83085],[35.25753,31.8387],[35.24816,31.8458],[35.2304,31.84222],[35.2249,31.85433],[35.22817,31.8638],[35.22567,31.86745],[35.22294,31.87889],[35.22014,31.88264],[35.2136,31.88241],[35.21276,31.88153],[35.21016,31.88237],[35.20945,31.8815],[35.20791,31.8821],[35.20673,31.88151],[35.20381,31.86716],[35.21128,31.863],[35.216,31.83894],[35.21469,31.81835],[35.19461,31.82687],[35.18169,31.82542],[35.18603,31.80901],[35.14174,31.81325],[35.07677,31.85627],[35.05617,31.85685],[35.01978,31.82944],[34.9724,31.83352],[34.99712,31.85569],[35.03489,31.85919],[35.03978,31.89276],[35.03489,31.92448],[35.00124,31.93264],[34.98682,31.96935],[35.00261,32.027],[34.9863,32.09551],[34.99437,32.10962],[34.98507,32.12606],[34.99039,32.14626],[34.96009,32.17503],[34.95703,32.19522],[34.98885,32.20758],[35.01841,32.23981],[35.02939,32.2671],[35.01119,32.28684],[35.01772,32.33863],[35.04243,32.35008],[35.05142,32.3667],[35.0421,32.38242],[35.05311,32.4024],[35.05423,32.41754],[35.07059,32.4585],[35.08564,32.46948],[35.09236,32.47614],[35.10024,32.47856],[35.10882,32.4757],[35.15937,32.50466],[35.2244,32.55289],[35.25049,32.52453],[35.29306,32.50947],[35.30685,32.51024],[35.35212,32.52047],[35.40224,32.50136],[35.42034,32.46009],[35.41598,32.45593],[35.41048,32.43706],[35.42078,32.41562],[35.55807,32.38674],[35.55494,32.42687],[35.57485,32.48669],[35.56614,32.64393],[35.59813,32.65159],[35.61669,32.67999],[35.66527,32.681],[35.68467,32.70715],[35.75983,32.74803],[35.78745,32.77938],[35.83758,32.82817],[35.84021,32.8725],[35.87012,32.91976],[35.89298,32.9456],[35.87188,32.98028],[35.84802,33.1031],[35.81911,33.11077],[35.81911,33.1336],[35.84285,33.16673],[35.83846,33.19397],[35.81647,33.2028],[35.81295,33.24841],[35.77513,33.27342],[35.813,33.3172],[35.77477,33.33609],[35.62019,33.27278],[35.62283,33.24226],[35.58502,33.26653],[35.58326,33.28381],[35.56523,33.28969],[35.55555,33.25844],[35.54544,33.25513],[35.54808,33.236],[35.5362,33.23196],[35.54228,33.19865],[35.52573,33.11921],[35.50335,33.114],[35.50272,33.09056],[35.448,33.09264],[35.43059,33.06659],[35.35223,33.05617],[35.31429,33.10515],[35.1924,33.08743],[35.10645,33.09318],[34.78515,33.20368],[33.62659,31.82938],[34.052,31.46619]]]]}},{type:"Feature",properties:{iso1A2:"IM",iso1A3:"IMN",iso1N3:"833",wikidata:"Q9676",nameEn:"Isle of Man",country:"GB",groups:["Q185086","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01624","44 07624","44 07524","44 07924"]},geometry:{type:"MultiPolygon",coordinates:[[[[-3.98763,54.07351],[-4.1819,54.57861],[-5.6384,53.81157],[-3.98763,54.07351]]]]}},{type:"Feature",properties:{iso1A2:"IN",iso1A3:"IND",iso1N3:"356",wikidata:"Q668",nameEn:"India"},geometry:null},{type:"Feature",properties:{iso1A2:"IO",iso1A3:"IOT",iso1N3:"086",wikidata:"Q43448",nameEn:"British Indian Ocean Territory",country:"GB"},geometry:null},{type:"Feature",properties:{iso1A2:"IQ",iso1A3:"IRQ",iso1N3:"368",wikidata:"Q796",nameEn:"Iraq",groups:["145","142","UN"],callingCodes:["964"]},geometry:{type:"MultiPolygon",coordinates:[[[[42.78887,37.38615],[42.56725,37.14878],[42.35724,37.10998],[42.36697,37.0627],[41.81736,36.58782],[41.40058,36.52502],[41.28864,36.35368],[41.2564,36.06012],[41.37027,35.84095],[41.38184,35.62502],[41.26569,35.42708],[41.21654,35.1508],[41.2345,34.80049],[41.12388,34.65742],[40.97676,34.39788],[40.64314,34.31604],[38.79171,33.37328],[39.08202,32.50304],[38.98762,32.47694],[39.04251,32.30203],[39.26157,32.35555],[39.29903,32.23259],[40.01521,32.05667],[42.97601,30.72204],[42.97796,30.48295],[44.72255,29.19736],[46.42415,29.05947],[46.5527,29.10283],[46.89695,29.50584],[47.15166,30.01044],[47.37192,30.10421],[47.7095,30.10453],[48.01114,29.98906],[48.06782,30.02906],[48.17332,30.02448],[48.40479,29.85763],[48.59531,29.66815],[48.83867,29.78572],[48.61441,29.93675],[48.51011,29.96238],[48.44785,30.00148],[48.4494,30.04456],[48.43384,30.08233],[48.38869,30.11062],[48.38714,30.13485],[48.41671,30.17254],[48.41117,30.19846],[48.26393,30.3408],[48.24385,30.33846],[48.21279,30.31644],[48.19425,30.32796],[48.18321,30.39703],[48.14585,30.44133],[48.02443,30.4789],[48.03221,30.9967],[47.68219,31.00004],[47.6804,31.39086],[47.86337,31.78422],[47.64771,32.07666],[47.52474,32.15972],[47.57144,32.20583],[47.37529,32.47808],[47.17218,32.45393],[46.46788,32.91992],[46.32298,32.9731],[46.17198,32.95612],[46.09103,32.98354],[46.15175,33.07229],[46.03966,33.09577],[46.05367,33.13097],[46.11905,33.11924],[46.20623,33.20395],[45.99919,33.5082],[45.86687,33.49263],[45.96183,33.55751],[45.89801,33.63661],[45.77814,33.60938],[45.50261,33.94968],[45.42789,33.9458],[45.41077,33.97421],[45.47264,34.03099],[45.56176,34.15088],[45.58667,34.30147],[45.53552,34.35148],[45.49171,34.3439],[45.46697,34.38221],[45.43879,34.45949],[45.51883,34.47692],[45.53219,34.60441],[45.59074,34.55558],[45.60224,34.55057],[45.73923,34.54416],[45.70031,34.69277],[45.65672,34.7222],[45.68284,34.76624],[45.70031,34.82322],[45.73641,34.83975],[45.79682,34.85133],[45.78904,34.91135],[45.86532,34.89858],[45.89477,34.95805],[45.87864,35.03441],[45.92173,35.0465],[45.92203,35.09538],[45.93108,35.08148],[45.94756,35.09188],[46.06508,35.03699],[46.07747,35.0838],[46.11763,35.07551],[46.19116,35.11097],[46.15642,35.1268],[46.16229,35.16984],[46.19738,35.18536],[46.18457,35.22561],[46.11367,35.23729],[46.15474,35.2883],[46.13152,35.32548],[46.05358,35.38568],[45.98453,35.49848],[46.01518,35.52012],[45.97584,35.58132],[46.03028,35.57416],[46.01307,35.59756],[46.0165,35.61501],[45.99452,35.63574],[46.0117,35.65059],[46.01631,35.69139],[46.23736,35.71414],[46.34166,35.78363],[46.32921,35.82655],[46.17198,35.8013],[46.08325,35.8581],[45.94711,35.82218],[45.89784,35.83708],[45.81442,35.82107],[45.76145,35.79898],[45.6645,35.92872],[45.60018,35.96069],[45.55245,35.99943],[45.46594,36.00042],[45.38275,35.97156],[45.33916,35.99424],[45.37652,36.06222],[45.37312,36.09917],[45.32235,36.17383],[45.30038,36.27769],[45.26261,36.3001],[45.27394,36.35846],[45.23953,36.43257],[45.11811,36.40751],[45.00759,36.5402],[45.06985,36.62645],[45.06985,36.6814],[45.01537,36.75128],[44.84725,36.77622],[44.83479,36.81362],[44.90173,36.86096],[44.91199,36.91468],[44.89862,37.01897],[44.81611,37.04383],[44.75229,37.11958],[44.78319,37.1431],[44.76698,37.16162],[44.63179,37.19229],[44.42631,37.05825],[44.38117,37.05825],[44.35315,37.04955],[44.35937,37.02843],[44.30645,36.97373],[44.25975,36.98119],[44.18503,37.09551],[44.22239,37.15756],[44.27998,37.16501],[44.2613,37.25055],[44.13521,37.32486],[44.02002,37.33229],[43.90949,37.22453],[43.84878,37.22205],[43.82699,37.19477],[43.8052,37.22825],[43.7009,37.23692],[43.63085,37.21957],[43.56702,37.25675],[43.50787,37.24436],[43.33508,37.33105],[43.30083,37.30629],[43.11403,37.37436],[42.93705,37.32015],[42.78887,37.38615]]]]}},{type:"Feature",properties:{iso1A2:"IR",iso1A3:"IRN",iso1N3:"364",wikidata:"Q794",nameEn:"Iran",groups:["034","142","UN"],callingCodes:["98"]},geometry:{type:"MultiPolygon",coordinates:[[[[44.96746,39.42998],[44.88916,39.59653],[44.81043,39.62677],[44.71806,39.71124],[44.65422,39.72163],[44.6137,39.78393],[44.47298,39.68788],[44.48111,39.61579],[44.41849,39.56659],[44.42832,39.4131],[44.37921,39.4131],[44.29818,39.378],[44.22452,39.4169],[44.03667,39.39223],[44.1043,39.19842],[44.20946,39.13975],[44.18863,38.93881],[44.30322,38.81581],[44.26155,38.71427],[44.28065,38.6465],[44.32058,38.62752],[44.3207,38.49799],[44.3119,38.37887],[44.38309,38.36117],[44.44386,38.38295],[44.50115,38.33939],[44.42476,38.25763],[44.22509,37.88859],[44.3883,37.85433],[44.45948,37.77065],[44.55498,37.783],[44.62096,37.71985],[44.56887,37.6429],[44.61401,37.60165],[44.58449,37.45018],[44.81021,37.2915],[44.75986,37.21549],[44.7868,37.16644],[44.78319,37.1431],[44.75229,37.11958],[44.81611,37.04383],[44.89862,37.01897],[44.91199,36.91468],[44.90173,36.86096],[44.83479,36.81362],[44.84725,36.77622],[45.01537,36.75128],[45.06985,36.6814],[45.06985,36.62645],[45.00759,36.5402],[45.11811,36.40751],[45.23953,36.43257],[45.27394,36.35846],[45.26261,36.3001],[45.30038,36.27769],[45.32235,36.17383],[45.37312,36.09917],[45.37652,36.06222],[45.33916,35.99424],[45.38275,35.97156],[45.46594,36.00042],[45.55245,35.99943],[45.60018,35.96069],[45.6645,35.92872],[45.76145,35.79898],[45.81442,35.82107],[45.89784,35.83708],[45.94711,35.82218],[46.08325,35.8581],[46.17198,35.8013],[46.32921,35.82655],[46.34166,35.78363],[46.23736,35.71414],[46.01631,35.69139],[46.0117,35.65059],[45.99452,35.63574],[46.0165,35.61501],[46.01307,35.59756],[46.03028,35.57416],[45.97584,35.58132],[46.01518,35.52012],[45.98453,35.49848],[46.05358,35.38568],[46.13152,35.32548],[46.15474,35.2883],[46.11367,35.23729],[46.18457,35.22561],[46.19738,35.18536],[46.16229,35.16984],[46.15642,35.1268],[46.19116,35.11097],[46.11763,35.07551],[46.07747,35.0838],[46.06508,35.03699],[45.94756,35.09188],[45.93108,35.08148],[45.92203,35.09538],[45.92173,35.0465],[45.87864,35.03441],[45.89477,34.95805],[45.86532,34.89858],[45.78904,34.91135],[45.79682,34.85133],[45.73641,34.83975],[45.70031,34.82322],[45.68284,34.76624],[45.65672,34.7222],[45.70031,34.69277],[45.73923,34.54416],[45.60224,34.55057],[45.59074,34.55558],[45.53219,34.60441],[45.51883,34.47692],[45.43879,34.45949],[45.46697,34.38221],[45.49171,34.3439],[45.53552,34.35148],[45.58667,34.30147],[45.56176,34.15088],[45.47264,34.03099],[45.41077,33.97421],[45.42789,33.9458],[45.50261,33.94968],[45.77814,33.60938],[45.89801,33.63661],[45.96183,33.55751],[45.86687,33.49263],[45.99919,33.5082],[46.20623,33.20395],[46.11905,33.11924],[46.05367,33.13097],[46.03966,33.09577],[46.15175,33.07229],[46.09103,32.98354],[46.17198,32.95612],[46.32298,32.9731],[46.46788,32.91992],[47.17218,32.45393],[47.37529,32.47808],[47.57144,32.20583],[47.52474,32.15972],[47.64771,32.07666],[47.86337,31.78422],[47.6804,31.39086],[47.68219,31.00004],[48.03221,30.9967],[48.02443,30.4789],[48.14585,30.44133],[48.18321,30.39703],[48.19425,30.32796],[48.21279,30.31644],[48.24385,30.33846],[48.26393,30.3408],[48.41117,30.19846],[48.41671,30.17254],[48.38714,30.13485],[48.38869,30.11062],[48.43384,30.08233],[48.4494,30.04456],[48.44785,30.00148],[48.51011,29.96238],[48.61441,29.93675],[48.83867,29.78572],[49.98877,27.87827],[50.37726,27.89227],[54.39838,25.68383],[55.14145,25.62624],[55.81777,26.18798],[56.2644,26.58649],[56.68954,26.76645],[56.79239,26.41236],[56.82555,25.7713],[56.86325,25.03856],[61.46682,24.57869],[61.6433,25.27541],[61.683,25.66638],[61.83968,25.7538],[61.83831,26.07249],[61.89391,26.26251],[62.05117,26.31647],[62.21304,26.26601],[62.31484,26.528],[62.77352,26.64099],[63.1889,26.65072],[63.18688,26.83844],[63.25005,26.84212],[63.25005,27.08692],[63.32283,27.14437],[63.19649,27.25674],[62.80604,27.22412],[62.79684,27.34381],[62.84905,27.47627],[62.7638,28.02992],[62.79412,28.28108],[62.59499,28.24842],[62.40259,28.42703],[61.93581,28.55284],[61.65978,28.77937],[61.53765,29.00507],[61.31508,29.38903],[60.87231,29.86514],[61.80829,30.84224],[61.78268,30.92724],[61.8335,30.97669],[61.83257,31.0452],[61.80957,31.12576],[61.80569,31.16167],[61.70929,31.37391],[60.84541,31.49561],[60.86191,32.22565],[60.56485,33.12944],[60.88908,33.50219],[60.91133,33.55596],[60.69573,33.56054],[60.57762,33.59772],[60.5485,33.73422],[60.5838,33.80793],[60.50209,34.13992],[60.66502,34.31539],[60.91321,34.30411],[60.72316,34.52857],[60.99922,34.63064],[61.00197,34.70631],[61.06926,34.82139],[61.12831,35.09938],[61.0991,35.27845],[61.18187,35.30249],[61.27371,35.61482],[61.22719,35.67038],[61.26152,35.80749],[61.22444,35.92879],[61.12007,35.95992],[61.22719,36.12759],[61.1393,36.38782],[61.18187,36.55348],[61.14516,36.64644],[60.34767,36.63214],[60.00768,37.04102],[59.74678,37.12499],[59.55178,37.13594],[59.39385,37.34257],[59.39797,37.47892],[59.33507,37.53146],[59.22905,37.51161],[58.9338,37.67374],[58.6921,37.64548],[58.5479,37.70526],[58.47786,37.6433],[58.39959,37.63134],[58.22999,37.6856],[58.21399,37.77281],[57.79534,37.89299],[57.35042,37.98546],[57.37236,38.09321],[57.21169,38.28965],[57.03453,38.18717],[56.73928,38.27887],[56.62255,38.24005],[56.43303,38.26054],[56.32454,38.18502],[56.33278,38.08132],[55.97847,38.08024],[55.76561,38.12238],[55.44152,38.08564],[55.13412,37.94705],[54.851,37.75739],[54.77684,37.62264],[54.81804,37.61285],[54.77822,37.51597],[54.67247,37.43532],[54.58664,37.45809],[54.36211,37.34912],[54.24565,37.32047],[53.89734,37.3464],[48.88288,38.43975],[48.84969,38.45015],[48.81072,38.44853],[48.78979,38.45026],[48.70001,38.40564],[48.62217,38.40198],[48.58793,38.45076],[48.45084,38.61013],[48.3146,38.59958],[48.24773,38.71883],[48.02581,38.82705],[48.01409,38.90333],[48.07734,38.91616],[48.08627,38.94434],[48.28437,38.97186],[48.33884,39.03022],[48.31239,39.09278],[48.15361,39.19419],[48.12404,39.25208],[48.15984,39.30028],[48.37385,39.37584],[48.34264,39.42935],[47.98977,39.70999],[47.84774,39.66285],[47.50099,39.49615],[47.38978,39.45999],[47.31301,39.37492],[47.05927,39.24846],[47.05771,39.20143],[46.95341,39.13505],[46.92539,39.16644],[46.83822,39.13143],[46.75752,39.03231],[46.53497,38.86548],[46.34059,38.92076],[46.20601,38.85262],[46.14785,38.84206],[46.06766,38.87861],[46.00228,38.87376],[45.94624,38.89072],[45.90266,38.87739],[45.83883,38.90768],[45.65172,38.95199],[45.6155,38.94304],[45.6131,38.964],[45.44966,38.99243],[45.44811,39.04927],[45.40452,39.07224],[45.40148,39.09007],[45.30489,39.18333],[45.16168,39.21952],[45.08751,39.35052],[45.05932,39.36435],[44.96746,39.42998]]]]}},{type:"Feature",properties:{iso1A2:"IS",iso1A3:"ISL",iso1N3:"352",wikidata:"Q189",nameEn:"Iceland",groups:["154","150","UN"],callingCodes:["354"]},geometry:{type:"MultiPolygon",coordinates:[[[[-33.15676,62.62995],[-8.25539,63.0423],[-15.70914,69.67442],[-33.15676,62.62995]]]]}},{type:"Feature",properties:{iso1A2:"IT",iso1A3:"ITA",iso1N3:"380",wikidata:"Q38",nameEn:"Italy",groups:["EU","039","150","UN"],callingCodes:["39"]},geometry:{type:"MultiPolygon",coordinates:[[[[8.95861,45.96485],[8.97604,45.96151],[8.97741,45.98317],[8.96668,45.98436],[8.95861,45.96485]]],[[[7.63035,43.57419],[9.56115,43.20816],[10.09675,41.44089],[7.60802,41.05927],[7.89009,38.19924],[11.2718,37.6713],[12.13667,34.20326],[14.02721,36.53141],[17.67657,35.68918],[18.83516,40.36999],[16.15283,42.18525],[13.12821,44.48877],[13.05142,45.33128],[13.45644,45.59464],[13.6076,45.64761],[13.7198,45.59352],[13.74587,45.59811],[13.78445,45.5825],[13.84106,45.58185],[13.86771,45.59898],[13.8695,45.60835],[13.9191,45.6322],[13.87933,45.65207],[13.83422,45.68703],[13.83332,45.70855],[13.8235,45.7176],[13.66986,45.79955],[13.59784,45.8072],[13.58858,45.83503],[13.57563,45.8425],[13.58644,45.88173],[13.59565,45.89446],[13.60857,45.89907],[13.61931,45.91782],[13.63815,45.93607],[13.6329,45.94894],[13.64307,45.98326],[13.63458,45.98947],[13.62074,45.98388],[13.58903,45.99009],[13.56759,45.96991],[13.52963,45.96588],[13.50104,45.98078],[13.47474,46.00546],[13.49702,46.01832],[13.50998,46.04498],[13.49568,46.04839],[13.50104,46.05986],[13.57072,46.09022],[13.64053,46.13587],[13.66472,46.17392],[13.64451,46.18966],[13.56682,46.18703],[13.56114,46.2054],[13.47587,46.22725],[13.42218,46.20758],[13.37671,46.29668],[13.44808,46.33507],[13.43418,46.35992],[13.47019,46.3621],[13.5763,46.40915],[13.5763,46.42613],[13.59777,46.44137],[13.68684,46.43881],[13.7148,46.5222],[13.64088,46.53438],[13.27627,46.56059],[12.94445,46.60401],[12.59992,46.6595],[12.38708,46.71529],[12.27591,46.88651],[12.2006,46.88854],[12.11675,47.01241],[12.21781,47.03996],[12.19254,47.09331],[11.74789,46.98484],[11.50739,47.00644],[11.33355,46.99862],[11.10618,46.92966],[11.00764,46.76896],[10.72974,46.78972],[10.75753,46.82258],[10.66405,46.87614],[10.54783,46.84505],[10.47197,46.85698],[10.38659,46.67847],[10.40475,46.63671],[10.44686,46.64162],[10.49375,46.62049],[10.46136,46.53164],[10.25309,46.57432],[10.23674,46.63484],[10.10307,46.61003],[10.03715,46.44479],[10.165,46.41051],[10.10506,46.3372],[10.17862,46.25626],[10.14439,46.22992],[10.07055,46.21668],[9.95249,46.38045],[9.73086,46.35071],[9.71273,46.29266],[9.57015,46.2958],[9.46117,46.37481],[9.45936,46.50873],[9.40487,46.46621],[9.36128,46.5081],[9.28136,46.49685],[9.25502,46.43743],[9.29226,46.32717],[9.24503,46.23616],[9.01618,46.04928],[8.99257,45.9698],[9.09065,45.89906],[9.06642,45.8761],[9.04546,45.84968],[9.04059,45.8464],[9.03505,45.83976],[9.03793,45.83548],[9.03279,45.82865],[9.0298,45.82127],[9.00324,45.82055],[8.99663,45.83466],[8.9621,45.83707],[8.94737,45.84285],[8.91129,45.8388],[8.93504,45.86245],[8.94372,45.86587],[8.93649,45.86775],[8.88904,45.95465],[8.86688,45.96135],[8.85121,45.97239],[8.8319,45.9879],[8.79362,45.99207],[8.78585,45.98973],[8.79414,46.00913],[8.85617,46.0748],[8.80778,46.10085],[8.75697,46.10395],[8.62242,46.12112],[8.45032,46.26869],[8.46317,46.43712],[8.42464,46.46367],[8.30648,46.41587],[8.31162,46.38044],[8.08814,46.26692],[8.16866,46.17817],[8.11383,46.11577],[8.02906,46.10331],[7.98881,45.99867],[7.9049,45.99945],[7.85949,45.91485],[7.56343,45.97421],[7.10685,45.85653],[7.04151,45.92435],[6.95315,45.85163],[6.80785,45.83265],[6.80785,45.71864],[6.98948,45.63869],[7.00037,45.509],[7.18019,45.40071],[7.10572,45.32924],[7.13115,45.25386],[7.07074,45.21228],[6.96706,45.20841],[6.85144,45.13226],[6.7697,45.16044],[6.62803,45.11175],[6.66981,45.02324],[6.74791,45.01939],[6.74519,44.93661],[6.75518,44.89915],[6.90774,44.84322],[6.93499,44.8664],[7.02217,44.82519],[7.00401,44.78782],[7.07484,44.68073],[7.00582,44.69364],[6.95133,44.66264],[6.96042,44.62129],[6.85507,44.53072],[6.86233,44.49834],[6.94504,44.43112],[6.88784,44.42043],[6.89171,44.36637],[6.98221,44.28289],[7.00764,44.23736],[7.16929,44.20352],[7.27827,44.1462],[7.34547,44.14359],[7.36364,44.11882],[7.62155,44.14881],[7.63245,44.17877],[7.68694,44.17487],[7.66878,44.12795],[7.72508,44.07578],[7.6597,44.03009],[7.66848,43.99943],[7.65266,43.9763],[7.60771,43.95772],[7.56858,43.94506],[7.56075,43.89932],[7.51162,43.88301],[7.49355,43.86551],[7.50423,43.84345],[7.53006,43.78405],[7.63035,43.57419]],[[12.45181,41.90056],[12.44834,41.90095],[12.44582,41.90194],[12.44815,41.90326],[12.44984,41.90545],[12.45091,41.90625],[12.45543,41.90738],[12.45561,41.90629],[12.45762,41.9058],[12.45755,41.9033],[12.45826,41.90281],[12.45834,41.90174],[12.4577,41.90115],[12.45691,41.90125],[12.45626,41.90172],[12.45435,41.90143],[12.45446,41.90028],[12.45181,41.90056]],[[12.45648,43.89369],[12.44184,43.90498],[12.41641,43.89991],[12.40935,43.9024],[12.41233,43.90956],[12.40733,43.92379],[12.41551,43.92984],[12.41165,43.93769],[12.40506,43.94325],[12.40415,43.95485],[12.41414,43.95273],[12.42005,43.9578],[12.43662,43.95698],[12.44684,43.96597],[12.46205,43.97463],[12.47853,43.98052],[12.49406,43.98492],[12.50678,43.99113],[12.51463,43.99122],[12.5154,43.98508],[12.51064,43.98165],[12.51109,43.97201],[12.50622,43.97131],[12.50875,43.96198],[12.50655,43.95796],[12.51427,43.94897],[12.51553,43.94096],[12.50496,43.93017],[12.50269,43.92363],[12.49724,43.92248],[12.49247,43.91774],[12.49429,43.90973],[12.48771,43.89706],[12.45648,43.89369]]]]}},{type:"Feature",properties:{iso1A2:"JE",iso1A3:"JEY",iso1N3:"832",wikidata:"Q785",nameEn:"Bailiwick of Jersey",country:"GB",groups:["830","Q185086","154","150","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["44 01534"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.00491,48.86706],[-1.83944,49.23037],[-2.09454,49.46288],[-2.65349,49.15373],[-2.00491,48.86706]]]]}},{type:"Feature",properties:{iso1A2:"JM",iso1A3:"JAM",iso1N3:"388",wikidata:"Q766",nameEn:"Jamaica",aliases:["JA"],groups:["029","003","419","019","UN"],driveSide:"left",callingCodes:["1 876","1 658"]},geometry:{type:"MultiPolygon",coordinates:[[[[-74.09729,17.36817],[-78.9741,19.59515],[-78.34606,16.57862],[-74.09729,17.36817]]]]}},{type:"Feature",properties:{iso1A2:"JO",iso1A3:"JOR",iso1N3:"400",wikidata:"Q810",nameEn:"Jordan",groups:["145","142","UN"],callingCodes:["962"]},geometry:{type:"MultiPolygon",coordinates:[[[[39.04251,32.30203],[38.98762,32.47694],[39.08202,32.50304],[38.79171,33.37328],[36.83946,32.31293],[36.40959,32.37908],[36.23948,32.50108],[36.20875,32.49529],[36.20379,32.52751],[36.08074,32.51463],[36.02239,32.65911],[35.96633,32.66237],[35.93307,32.71966],[35.88405,32.71321],[35.75983,32.74803],[35.68467,32.70715],[35.66527,32.681],[35.61669,32.67999],[35.59813,32.65159],[35.56614,32.64393],[35.57485,32.48669],[35.55494,32.42687],[35.55807,32.38674],[35.57111,32.21877],[35.52012,32.04076],[35.54375,31.96587],[35.52758,31.9131],[35.55941,31.76535],[35.47672,31.49578],[35.40316,31.25535],[35.43658,31.12444],[35.41371,30.95565],[35.33984,30.8802],[35.33456,30.81224],[35.29311,30.71365],[35.21379,30.60401],[35.19595,30.50297],[35.16218,30.43535],[35.19183,30.34636],[35.14108,30.07374],[35.02147,29.66343],[34.98207,29.58147],[34.97718,29.54294],[34.92298,29.45305],[34.8812,29.36878],[36.07081,29.18469],[36.50005,29.49696],[36.75083,29.86903],[37.4971,29.99949],[37.66395,30.33245],[37.99354,30.49998],[36.99791,31.50081],[38.99233,31.99721],[39.29903,32.23259],[39.26157,32.35555],[39.04251,32.30203]]]]}},{type:"Feature",properties:{iso1A2:"JP",iso1A3:"JPN",iso1N3:"392",wikidata:"Q17",nameEn:"Japan",groups:["030","142","UN"],driveSide:"left",callingCodes:["81"]},geometry:{type:"MultiPolygon",coordinates:[[[[145.82361,43.38904],[145.23667,43.76813],[145.82343,44.571],[140.9182,45.92937],[133.61399,37.41],[129.2669,34.87122],[122.26612,25.98197],[123.92912,17.8782],[155.16731,23.60141],[145.82361,43.38904]]]]}},{type:"Feature",properties:{iso1A2:"KE",iso1A3:"KEN",iso1N3:"404",wikidata:"Q114",nameEn:"Kenya",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["254"]},geometry:{type:"MultiPolygon",coordinates:[[[[35.9419,4.61933],[35.51424,4.61643],[35.42366,4.76969],[35.47843,4.91872],[35.30992,4.90402],[35.34151,5.02364],[34.47601,4.72162],[33.9873,4.23316],[34.06046,4.15235],[34.15429,3.80464],[34.45815,3.67385],[34.44922,3.51627],[34.39112,3.48802],[34.41794,3.44342],[34.40006,3.37949],[34.45815,3.18319],[34.56242,3.11478],[34.60114,2.93034],[34.65774,2.8753],[34.73967,2.85447],[34.78137,2.76223],[34.77244,2.70272],[34.95267,2.47209],[34.90947,2.42447],[34.98692,1.97348],[34.9899,1.6668],[34.92734,1.56109],[34.87819,1.5596],[34.7918,1.36752],[34.82606,1.30944],[34.82606,1.26626],[34.80223,1.22754],[34.67562,1.21265],[34.58029,1.14712],[34.57427,1.09868],[34.52369,1.10692],[34.43349,.85254],[34.40041,.80266],[34.31516,.75693],[34.27345,.63182],[34.20196,.62289],[34.13493,.58118],[34.11408,.48884],[34.08727,.44713],[34.10067,.36372],[33.90936,.10581],[33.98449,-.13079],[33.9264,-.54188],[33.93107,-.99298],[34.02286,-1.00779],[34.03084,-1.05101],[34.0824,-1.02264],[37.67199,-3.06222],[37.71745,-3.304],[37.5903,-3.42735],[37.63099,-3.50723],[37.75036,-3.54243],[37.81321,-3.69179],[39.21631,-4.67835],[39.44306,-4.93877],[39.62121,-4.68136],[41.75542,-1.85308],[41.56362,-1.66375],[41.56,-1.59812],[41.00099,-.83068],[40.98767,2.82959],[41.31368,3.14314],[41.89488,3.97375],[41.1754,3.94079],[40.77498,4.27683],[39.86043,3.86974],[39.76808,3.67058],[39.58339,3.47434],[39.55132,3.39634],[39.51551,3.40895],[39.49444,3.45521],[39.19954,3.47834],[39.07736,3.5267],[38.91938,3.51198],[38.52336,3.62551],[38.45812,3.60445],[38.14168,3.62487],[37.07724,4.33503],[36.84474,4.44518],[36.03924,4.44406],[35.95449,4.53244],[35.9419,4.61933]]]]}},{type:"Feature",properties:{iso1A2:"KG",iso1A3:"KGZ",iso1N3:"417",wikidata:"Q813",nameEn:"Kyrgyzstan",groups:["143","142","UN"],callingCodes:["996"]},geometry:{type:"MultiPolygon",coordinates:[[[[74.88756,42.98612],[74.75,42.99029],[74.70331,43.02519],[74.64615,43.05881],[74.57491,43.13702],[74.22489,43.24657],[73.55634,43.03071],[73.50992,42.82356],[73.44393,42.43098],[71.88792,42.83578],[71.62405,42.76613],[71.53272,42.8014],[71.2724,42.77853],[71.22785,42.69248],[71.17807,42.67381],[71.15232,42.60486],[70.97717,42.50147],[70.85973,42.30188],[70.94483,42.26238],[71.13263,42.28356],[71.28719,42.18033],[70.69777,41.92554],[70.17682,41.5455],[70.48909,41.40335],[70.67586,41.47953],[70.78572,41.36419],[70.77885,41.24813],[70.86263,41.23833],[70.9615,41.16393],[71.02193,41.19494],[71.11806,41.15359],[71.25813,41.18796],[71.27187,41.11015],[71.34877,41.16807],[71.40198,41.09436],[71.46148,41.13958],[71.43814,41.19644],[71.46688,41.31883],[71.57227,41.29175],[71.6787,41.42111],[71.65914,41.49599],[71.73054,41.54713],[71.71132,41.43012],[71.76625,41.4466],[71.83914,41.3546],[71.91457,41.2982],[71.85964,41.19081],[72.07249,41.11739],[72.10745,41.15483],[72.16433,41.16483],[72.17594,41.15522],[72.14864,41.13363],[72.1792,41.10621],[72.21061,41.05607],[72.17594,41.02377],[72.18339,40.99571],[72.324,41.03381],[72.34026,41.04539],[72.34757,41.06104],[72.36138,41.04384],[72.38511,41.02785],[72.45206,41.03018],[72.48742,40.97136],[72.55109,40.96046],[72.59136,40.86947],[72.68157,40.84942],[72.84291,40.85512],[72.94454,40.8094],[73.01869,40.84681],[73.13267,40.83512],[73.13412,40.79122],[73.0612,40.76678],[72.99133,40.76457],[72.93296,40.73089],[72.8722,40.71111],[72.85372,40.7116],[72.84754,40.67229],[72.80137,40.67856],[72.74866,40.60873],[72.74894,40.59592],[72.75982,40.57273],[72.74862,40.57131],[72.74768,40.58051],[72.73995,40.58409],[72.69579,40.59778],[72.66713,40.59076],[72.66713,40.5219],[72.47795,40.5532],[72.40517,40.61917],[72.34406,40.60144],[72.41714,40.55736],[72.38384,40.51535],[72.41513,40.50856],[72.44191,40.48222],[72.40346,40.4007],[72.24368,40.46091],[72.18648,40.49893],[71.96401,40.31907],[72.05464,40.27586],[71.85002,40.25647],[71.82646,40.21872],[71.73054,40.14818],[71.71719,40.17886],[71.69621,40.18492],[71.70569,40.20391],[71.68386,40.26984],[71.61931,40.26775],[71.61725,40.20615],[71.51549,40.22986],[71.51215,40.26943],[71.4246,40.28619],[71.36663,40.31593],[71.13042,40.34106],[71.05901,40.28765],[70.95789,40.28761],[70.9818,40.22392],[70.80495,40.16813],[70.7928,40.12797],[70.65827,40.0981],[70.65946,39.9878],[70.58912,39.95211],[70.55033,39.96619],[70.47557,39.93216],[70.57384,39.99394],[70.58297,40.00891],[70.01283,40.23288],[69.67001,40.10639],[69.64704,40.12165],[69.57615,40.10524],[69.55555,40.12296],[69.53794,40.11833],[69.53855,40.0887],[69.5057,40.03277],[69.53615,39.93991],[69.43557,39.92877],[69.43134,39.98431],[69.35649,40.01994],[69.26938,39.8127],[69.3594,39.52516],[69.68677,39.59281],[69.87491,39.53882],[70.11111,39.58223],[70.2869,39.53141],[70.44757,39.60128],[70.64087,39.58792],[70.7854,39.38933],[71.06418,39.41586],[71.08752,39.50704],[71.49814,39.61397],[71.55856,39.57588],[71.5517,39.45722],[71.62688,39.44056],[71.76816,39.45456],[71.80164,39.40631],[71.7522,39.32031],[71.79202,39.27355],[71.90601,39.27674],[72.04059,39.36704],[72.09689,39.26823],[72.17242,39.2661],[72.23834,39.17248],[72.33173,39.33093],[72.62027,39.39696],[72.85934,39.35116],[73.18454,39.35536],[73.31912,39.38615],[73.45096,39.46677],[73.59831,39.46425],[73.87018,39.47879],[73.94683,39.60733],[73.92354,39.69565],[73.9051,39.75073],[73.83006,39.76136],[73.97049,40.04378],[74.25533,40.13191],[74.35063,40.09742],[74.69875,40.34668],[74.85996,40.32857],[74.78168,40.44886],[74.82013,40.52197],[75.08243,40.43945],[75.22834,40.45382],[75.5854,40.66874],[75.69663,40.28642],[75.91361,40.2948],[75.96168,40.38064],[76.33659,40.3482],[76.5261,40.46114],[76.75681,40.95354],[76.99302,41.0696],[77.28004,41.0033],[77.3693,41.0375],[77.52723,41.00227],[77.76206,41.01574],[77.81287,41.14307],[78.12873,41.23091],[78.15757,41.38565],[78.3732,41.39603],[79.92977,42.04113],[80.17842,42.03211],[80.17807,42.21166],[79.97364,42.42816],[79.52921,42.44778],[79.19763,42.804],[78.91502,42.76839],[78.48469,42.89649],[75.82823,42.94848],[75.72174,42.79672],[75.29966,42.86183],[75.22619,42.85528],[74.88756,42.98612]],[[70.74189,39.86319],[70.63105,39.77923],[70.59667,39.83542],[70.54998,39.85137],[70.52631,39.86989],[70.53651,39.89155],[70.74189,39.86319]],[[71.86463,39.98598],[71.84316,39.95582],[71.7504,39.93701],[71.71511,39.96348],[71.78838,40.01404],[71.86463,39.98598]],[[71.21139,40.03369],[71.1427,39.95026],[71.23067,39.93581],[71.16101,39.88423],[71.10531,39.91354],[71.04979,39.89808],[71.10501,39.95568],[71.09063,39.99],[71.11668,39.99291],[71.11037,40.01984],[71.01035,40.05481],[71.00236,40.18154],[71.06305,40.1771],[71.12218,40.03052],[71.21139,40.03369]]]]}},{type:"Feature",properties:{iso1A2:"KH",iso1A3:"KHM",iso1N3:"116",wikidata:"Q424",nameEn:"Cambodia",groups:["035","142","UN"],callingCodes:["855"]},geometry:{type:"MultiPolygon",coordinates:[[[[105.87328,11.55953],[105.81645,11.56876],[105.80867,11.60536],[105.8507,11.66635],[105.88962,11.67854],[105.95188,11.63738],[106.00792,11.7197],[106.02038,11.77457],[106.06708,11.77761],[106.13158,11.73283],[106.18539,11.75171],[106.26478,11.72122],[106.30525,11.67549],[106.37219,11.69836],[106.44691,11.66787],[106.45158,11.68616],[106.41577,11.76999],[106.44535,11.8279],[106.44068,11.86294],[106.4687,11.86751],[106.4111,11.97413],[106.70687,11.96956],[106.79405,12.0807],[106.92325,12.06548],[106.99953,12.08983],[107.15831,12.27547],[107.34511,12.33327],[107.42917,12.24657],[107.4463,12.29373],[107.55059,12.36824],[107.5755,12.52177],[107.55993,12.7982],[107.49611,12.88926],[107.49144,13.01215],[107.62843,13.3668],[107.61909,13.52577],[107.53503,13.73908],[107.45252,13.78897],[107.46498,13.91593],[107.44318,13.99751],[107.38247,13.99147],[107.35757,14.02319],[107.37158,14.07906],[107.33577,14.11832],[107.40427,14.24509],[107.39493,14.32655],[107.44941,14.41552],[107.48521,14.40346],[107.52569,14.54665],[107.52102,14.59034],[107.55371,14.628],[107.54361,14.69092],[107.47238,14.61523],[107.44435,14.52785],[107.37897,14.54443],[107.3276,14.58812],[107.29803,14.58963],[107.26534,14.54292],[107.256,14.48716],[107.21241,14.48716],[107.17038,14.41782],[107.09722,14.3937],[107.03962,14.45099],[107.04585,14.41782],[106.98825,14.36806],[106.9649,14.3198],[106.90574,14.33639],[106.8497,14.29416],[106.80767,14.31226],[106.73762,14.42687],[106.63333,14.44194],[106.59908,14.50977],[106.57106,14.50525],[106.54148,14.59565],[106.50723,14.58963],[106.45898,14.55045],[106.47766,14.50977],[106.43874,14.52032],[106.40916,14.45249],[106.32355,14.44043],[106.25194,14.48415],[106.21302,14.36203],[106.00131,14.36957],[105.99509,14.32734],[106.02311,14.30623],[106.04801,14.20363],[106.10872,14.18401],[106.11962,14.11307],[106.18656,14.06324],[106.16632,14.01794],[106.10094,13.98471],[106.10405,13.9137],[105.90791,13.92881],[105.78182,14.02247],[105.78338,14.08438],[105.5561,14.15684],[105.44869,14.10703],[105.36775,14.09948],[105.2759,14.17496],[105.20894,14.34967],[105.17748,14.34432],[105.14012,14.23873],[105.08408,14.20402],[105.02804,14.23722],[104.97667,14.38806],[104.69335,14.42726],[104.55014,14.36091],[104.27616,14.39861],[103.93836,14.3398],[103.70175,14.38052],[103.71109,14.4348],[103.53518,14.42575],[103.39353,14.35639],[103.16469,14.33075],[102.93275,14.19044],[102.91251,14.01531],[102.77864,13.93374],[102.72727,13.77806],[102.56848,13.69366],[102.5481,13.6589],[102.58635,13.6286],[102.62483,13.60883],[102.57573,13.60461],[102.5358,13.56933],[102.44601,13.5637],[102.36859,13.57488],[102.33828,13.55613],[102.361,13.50551],[102.35563,13.47307],[102.35692,13.38274],[102.34611,13.35618],[102.36001,13.31142],[102.36146,13.26006],[102.43422,13.09061],[102.46011,13.08057],[102.52275,12.99813],[102.48694,12.97537],[102.49335,12.92711],[102.53053,12.77506],[102.4994,12.71736],[102.51963,12.66117],[102.57567,12.65358],[102.7796,12.43781],[102.78116,12.40284],[102.73134,12.37091],[102.70176,12.1686],[102.77026,12.06815],[102.78427,11.98746],[102.83957,11.8519],[102.90973,11.75613],[102.91449,11.65512],[102.52395,11.25257],[102.47649,9.66162],[103.99198,10.48391],[104.43778,10.42386],[104.47963,10.43046],[104.49869,10.4057],[104.59018,10.53073],[104.87933,10.52833],[104.95094,10.64003],[105.09571,10.72722],[105.02722,10.89236],[105.08326,10.95656],[105.11449,10.96332],[105.34011,10.86179],[105.42884,10.96878],[105.50045,10.94586],[105.77751,11.03671],[105.86376,10.89839],[105.84603,10.85873],[105.93403,10.83853],[105.94535,10.9168],[106.06708,10.8098],[106.18539,10.79451],[106.14301,10.98176],[106.20095,10.97795],[106.1757,11.07301],[106.1527,11.10476],[106.10444,11.07879],[105.86782,11.28343],[105.88962,11.43605],[105.87328,11.55953]]]]}},{type:"Feature",properties:{iso1A2:"KI",iso1A3:"KIR",iso1N3:"296",wikidata:"Q710",nameEn:"Kiribati",groups:["057","009","UN"],driveSide:"left",callingCodes:["686"]},geometry:{type:"MultiPolygon",coordinates:[[[[169,3.9],[169,-3.5],[178,-3.5],[178,3.9],[169,3.9]]],[[[-161.06795,5.2462],[-158.12991,-1.86122],[-175.33482,-1.40631],[-175.31804,-7.54825],[-156.50903,-7.4975],[-156.48634,-15.52824],[-135.59706,-4.70473],[-161.06795,5.2462]]]]}},{type:"Feature",properties:{iso1A2:"KM",iso1A3:"COM",iso1N3:"174",wikidata:"Q970",nameEn:"Comoros",groups:["014","202","002","UN"],callingCodes:["269"]},geometry:{type:"MultiPolygon",coordinates:[[[[42.63904,-10.02522],[43.28731,-13.97126],[45.4971,-11.75965],[42.63904,-10.02522]]]]}},{type:"Feature",properties:{iso1A2:"KN",iso1A3:"KNA",iso1N3:"659",wikidata:"Q763",nameEn:"St. Kitts and Nevis",groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 869"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.29333,17.43155],[-62.76692,17.64353],[-63.09677,17.21372],[-62.63813,16.65446],[-62.29333,17.43155]]]]}},{type:"Feature",properties:{iso1A2:"KP",iso1A3:"PRK",iso1N3:"408",wikidata:"Q423",nameEn:"North Korea",groups:["030","142","UN"],callingCodes:["850"]},geometry:{type:"MultiPolygon",coordinates:[[[[130.26095,42.9027],[130.09764,42.91425],[130.12957,42.98361],[129.96409,42.97306],[129.95082,43.01051],[129.8865,43.00395],[129.85261,42.96494],[129.83277,42.86746],[129.80719,42.79218],[129.7835,42.76521],[129.77183,42.69435],[129.75294,42.59409],[129.72541,42.43739],[129.60482,42.44461],[129.54701,42.37254],[129.42882,42.44702],[129.28541,42.41574],[129.22423,42.3553],[129.22285,42.26491],[129.15178,42.17224],[128.96068,42.06657],[128.94007,42.03537],[128.04487,42.01769],[128.15119,41.74568],[128.30716,41.60322],[128.20061,41.40895],[128.18546,41.41279],[128.12967,41.37931],[128.03311,41.39232],[128.02633,41.42103],[127.92943,41.44291],[127.29712,41.49473],[127.17841,41.59714],[126.90729,41.79955],[126.60631,41.65565],[126.53189,41.35206],[126.242,41.15454],[126.00335,40.92835],[125.76869,40.87908],[125.71172,40.85223],[124.86913,40.45387],[124.40719,40.13655],[124.38556,40.11047],[124.3322,40.05573],[124.37089,40.03004],[124.35029,39.95639],[124.23201,39.9248],[124.17532,39.8232],[123.90497,38.79949],[123.85601,37.49093],[124.67666,38.05679],[124.84224,37.977],[124.87921,37.80827],[125.06408,37.66334],[125.37112,37.62643],[125.81159,37.72949],[126.13074,37.70512],[126.18776,37.74728],[126.19097,37.81462],[126.24402,37.83113],[126.43239,37.84095],[126.46818,37.80873],[126.56709,37.76857],[126.59918,37.76364],[126.66067,37.7897],[126.68793,37.83728],[126.68793,37.9175],[126.67023,37.95852],[126.84961,38.0344],[126.88106,38.10246],[126.95887,38.1347],[126.95338,38.17735],[127.04479,38.25518],[127.15749,38.30722],[127.38727,38.33227],[127.49672,38.30647],[127.55013,38.32257],[128.02917,38.31861],[128.27652,38.41657],[128.31105,38.58462],[128.37487,38.62345],[128.65655,38.61914],[131.95041,41.5445],[130.65022,42.32281],[130.66367,42.38024],[130.64181,42.41422],[130.60805,42.4317],[130.56835,42.43281],[130.55143,42.52158],[130.50123,42.61636],[130.44361,42.54849],[130.41826,42.6011],[130.2385,42.71127],[130.23068,42.80125],[130.26095,42.9027]]]]}},{type:"Feature",properties:{iso1A2:"KR",iso1A3:"KOR",iso1N3:"410",wikidata:"Q884",nameEn:"South Korea",groups:["030","142","UN"],callingCodes:["82"]},geometry:{type:"MultiPolygon",coordinates:[[[[133.11729,37.53115],[128.65655,38.61914],[128.37487,38.62345],[128.31105,38.58462],[128.27652,38.41657],[128.02917,38.31861],[127.55013,38.32257],[127.49672,38.30647],[127.38727,38.33227],[127.15749,38.30722],[127.04479,38.25518],[126.95338,38.17735],[126.95887,38.1347],[126.88106,38.10246],[126.84961,38.0344],[126.67023,37.95852],[126.68793,37.9175],[126.68793,37.83728],[126.66067,37.7897],[126.59918,37.76364],[126.56709,37.76857],[126.46818,37.80873],[126.43239,37.84095],[126.24402,37.83113],[126.19097,37.81462],[126.18776,37.74728],[126.13074,37.70512],[125.81159,37.72949],[125.37112,37.62643],[125.06408,37.66334],[124.87921,37.80827],[124.84224,37.977],[124.67666,38.05679],[123.85601,37.49093],[122.80525,33.30571],[125.99728,32.63328],[129.2669,34.87122],[133.11729,37.53115]]]]}},{type:"Feature",properties:{iso1A2:"KW",iso1A3:"KWT",iso1N3:"414",wikidata:"Q817",nameEn:"Kuwait",groups:["145","142","UN"],callingCodes:["965"]},geometry:{type:"MultiPolygon",coordinates:[[[[49.00421,28.81495],[48.59531,29.66815],[48.40479,29.85763],[48.17332,30.02448],[48.06782,30.02906],[48.01114,29.98906],[47.7095,30.10453],[47.37192,30.10421],[47.15166,30.01044],[46.89695,29.50584],[46.5527,29.10283],[47.46202,29.0014],[47.58376,28.83382],[47.59863,28.66798],[47.70561,28.5221],[48.42991,28.53628],[49.00421,28.81495]]]]}},{type:"Feature",properties:{iso1A2:"KY",iso1A3:"CYM",iso1N3:"136",wikidata:"Q5785",nameEn:"Cayman Islands",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 345"]},geometry:{type:"MultiPolygon",coordinates:[[[[-82.11509,19.60401],[-80.36068,18.11751],[-79.32727,20.06742],[-82.11509,19.60401]]]]}},{type:"Feature",properties:{iso1A2:"KZ",iso1A3:"KAZ",iso1N3:"398",wikidata:"Q232",nameEn:"Kazakhstan",groups:["143","142","UN"],callingCodes:["7"]},geometry:{type:"MultiPolygon",coordinates:[[[[68.90865,55.38148],[68.19206,55.18823],[68.26661,55.09226],[68.21308,54.98645],[65.20174,54.55216],[65.24663,54.35721],[65.11033,54.33028],[64.97216,54.4212],[63.97686,54.29763],[64.02715,54.22679],[63.91224,54.20013],[63.80604,54.27079],[62.58651,54.05871],[62.56876,53.94047],[62.45931,53.90737],[62.38535,54.03961],[62.00966,54.04134],[62.03913,53.94768],[61.65318,54.02445],[61.56941,53.95703],[61.47603,54.08048],[61.3706,54.08464],[61.26863,53.92797],[60.99796,53.93699],[61.14283,53.90063],[61.22574,53.80268],[60.90626,53.62937],[61.55706,53.57144],[61.57185,53.50112],[61.37957,53.45887],[61.29082,53.50992],[61.14291,53.41481],[61.19024,53.30536],[62.14574,53.09626],[62.12799,52.99133],[62.0422,52.96105],[61.23462,53.03227],[61.05842,52.92217],[60.71989,52.75923],[60.71693,52.66245],[60.84118,52.63912],[60.84709,52.52228],[60.98021,52.50068],[61.05417,52.35096],[60.78201,52.22067],[60.72581,52.15538],[60.48915,52.15175],[60.19925,51.99173],[59.99809,51.98263],[60.09867,51.87135],[60.50986,51.7964],[60.36787,51.66815],[60.5424,51.61675],[60.92401,51.61124],[60.95655,51.48615],[61.50677,51.40687],[61.55114,51.32746],[61.6813,51.25716],[61.56889,51.23679],[61.4431,50.80679],[60.81833,50.6629],[60.31914,50.67705],[60.17262,50.83312],[60.01288,50.8163],[59.81172,50.54451],[59.51886,50.49937],[59.48928,50.64216],[58.87974,50.70852],[58.3208,51.15151],[57.75578,51.13852],[57.74986,50.93017],[57.44221,50.88354],[57.17302,51.11253],[56.17906,50.93204],[56.11398,50.7471],[55.67774,50.54508],[54.72067,51.03261],[54.56685,51.01958],[54.71476,50.61214],[54.55797,50.52006],[54.41894,50.61214],[54.46331,50.85554],[54.12248,51.11542],[53.69299,51.23466],[53.46165,51.49445],[52.54329,51.48444],[52.36119,51.74161],[51.8246,51.67916],[51.77431,51.49536],[51.301,51.48799],[51.26254,51.68466],[50.59695,51.61859],[50.26859,51.28677],[49.97277,51.2405],[49.76866,51.11067],[49.39001,51.09396],[49.41959,50.85927],[49.12673,50.78639],[48.86936,50.61589],[48.57946,50.63278],[48.90782,50.02281],[48.68352,49.89546],[48.42564,49.82283],[48.24519,49.86099],[48.10044,50.09242],[47.58551,50.47867],[47.30448,50.30894],[47.34589,50.09308],[47.18319,49.93721],[46.9078,49.86707],[46.78398,49.34026],[47.04658,49.19834],[47.00857,49.04921],[46.78392,48.95352],[46.49011,48.43019],[47.11516,48.27188],[47.12107,47.83687],[47.38731,47.68176],[47.41689,47.83687],[47.64973,47.76559],[48.15348,47.74545],[48.45173,47.40818],[48.52326,47.4102],[49.01136,46.72716],[48.51142,46.69268],[48.54988,46.56267],[49.16518,46.38542],[49.32259,46.26944],[49.88945,46.04554],[49.2134,44.84989],[52.26048,41.69249],[52.47884,41.78034],[52.97575,42.1308],[54.20635,42.38477],[54.95182,41.92424],[55.45471,41.25609],[56.00314,41.32584],[55.97584,44.99322],[55.97584,44.99328],[55.97584,44.99338],[55.97584,44.99343],[55.97584,44.99348],[55.97584,44.99353],[55.97584,44.99359],[55.97584,44.99369],[55.97584,44.99374],[55.97584,44.99384],[55.97584,44.9939],[55.97584,44.994],[55.97584,44.99405],[55.97584,44.99415],[55.97584,44.99421],[55.97584,44.99426],[55.97584,44.99431],[55.97584,44.99436],[55.97584,44.99441],[55.97594,44.99446],[55.97605,44.99452],[55.97605,44.99457],[55.97605,44.99462],[55.97605,44.99467],[55.97605,44.99477],[55.97615,44.99477],[55.97615,44.99483],[55.97615,44.99493],[55.97615,44.99498],[55.97615,44.99503],[55.97615,44.99508],[55.97625,44.99514],[55.97636,44.99519],[55.97636,44.99524],[55.97646,44.99529],[55.97646,44.99534],[55.97656,44.99539],[55.97667,44.99545],[55.97677,44.9955],[55.97677,44.99555],[55.97677,44.9956],[55.97687,44.9956],[55.97698,44.99565],[55.97698,44.9957],[55.97708,44.99576],[55.97718,44.99581],[55.97729,44.99586],[55.97739,44.99586],[55.97739,44.99591],[55.97749,44.99591],[55.9776,44.99591],[55.9777,44.99596],[55.9777,44.99601],[55.9778,44.99607],[55.97791,44.99607],[55.97801,44.99607],[55.97801,44.99612],[55.97811,44.99617],[55.97822,44.99617],[55.97832,44.99622],[55.97842,44.99622],[58.59711,45.58671],[61.01475,44.41383],[62.01711,43.51008],[63.34656,43.64003],[64.53885,43.56941],[64.96464,43.74748],[65.18666,43.48835],[65.53277,43.31856],[65.85194,42.85481],[66.09482,42.93426],[66.00546,41.94455],[66.53302,41.87388],[66.69129,41.1311],[67.9644,41.14611],[67.98511,41.02794],[68.08273,41.08148],[68.1271,41.0324],[67.96736,40.83798],[68.49983,40.56437],[68.63,40.59358],[68.58444,40.91447],[68.49983,40.99669],[68.62221,41.03019],[68.65662,40.93861],[68.73945,40.96989],[68.7217,41.05025],[69.01308,41.22804],[69.05006,41.36183],[69.15137,41.43078],[69.17701,41.43769],[69.18528,41.45175],[69.20439,41.45391],[69.22671,41.46298],[69.23332,41.45847],[69.25059,41.46693],[69.29778,41.43673],[69.35554,41.47211],[69.37468,41.46555],[69.45081,41.46246],[69.39485,41.51518],[69.45751,41.56863],[69.49545,41.545],[70.94483,42.26238],[70.85973,42.30188],[70.97717,42.50147],[71.15232,42.60486],[71.17807,42.67381],[71.22785,42.69248],[71.2724,42.77853],[71.53272,42.8014],[71.62405,42.76613],[71.88792,42.83578],[73.44393,42.43098],[73.50992,42.82356],[73.55634,43.03071],[74.22489,43.24657],[74.57491,43.13702],[74.64615,43.05881],[74.70331,43.02519],[74.75,42.99029],[74.88756,42.98612],[75.22619,42.85528],[75.29966,42.86183],[75.72174,42.79672],[75.82823,42.94848],[78.48469,42.89649],[78.91502,42.76839],[79.19763,42.804],[79.52921,42.44778],[79.97364,42.42816],[80.17807,42.21166],[80.26841,42.23797],[80.16892,42.61137],[80.26886,42.8366],[80.38169,42.83142],[80.58999,42.9011],[80.3735,43.01557],[80.62913,43.141],[80.78817,43.14235],[80.77771,43.30065],[80.69718,43.32589],[80.75156,43.44948],[80.40031,44.10986],[80.40229,44.23319],[80.38384,44.63073],[79.8987,44.89957],[80.11169,45.03352],[81.73278,45.3504],[82.51374,45.1755],[82.58474,45.40027],[82.21792,45.56619],[83.04622,47.19053],[83.92184,46.98912],[84.73077,47.01394],[84.93995,46.87399],[85.22443,47.04816],[85.54294,47.06171],[85.69696,47.2898],[85.61067,47.49753],[85.5169,48.05493],[85.73581,48.3939],[86.38069,48.46064],[86.75343,48.70331],[86.73568,48.99918],[86.87238,49.12432],[87.28386,49.11626],[87.31465,49.23603],[87.03071,49.25142],[86.82606,49.51796],[86.61307,49.60239],[86.79056,49.74787],[86.63674,49.80136],[86.18709,49.50259],[85.24047,49.60239],[84.99198,50.06793],[84.29385,50.27257],[83.8442,50.87375],[83.14607,51.00796],[82.55443,50.75412],[81.94999,50.79307],[81.46581,50.77658],[81.41248,50.97524],[81.06091,50.94833],[81.16999,51.15662],[80.80318,51.28262],[80.44819,51.20855],[80.4127,50.95581],[80.08138,50.77658],[79.11255,52.01171],[77.90383,53.29807],[76.54243,53.99329],[76.44076,54.16017],[76.82266,54.1798],[76.91052,54.4677],[75.3668,54.07439],[75.43398,53.98652],[75.07405,53.80831],[73.39218,53.44623],[73.25412,53.61532],[73.68921,53.86522],[73.74778,54.07194],[73.37963,53.96132],[72.71026,54.1161],[72.43415,53.92685],[72.17477,54.36303],[71.96141,54.17736],[71.10379,54.13326],[71.08706,54.33376],[71.24185,54.64965],[71.08288,54.71253],[70.96009,55.10558],[70.76493,55.3027],[70.19179,55.1476],[69.74917,55.35545],[69.34224,55.36344],[68.90865,55.38148]]]]}},{type:"Feature",properties:{iso1A2:"LA",iso1A3:"LAO",iso1N3:"418",wikidata:"Q819",nameEn:"Laos",groups:["035","142","UN"],callingCodes:["856"]},geometry:{type:"MultiPolygon",coordinates:[[[[102.1245,22.43372],[102.03633,22.46164],[101.98487,22.42766],[101.91344,22.44417],[101.90714,22.38688],[101.86828,22.38397],[101.7685,22.50337],[101.68973,22.46843],[101.61306,22.27515],[101.56789,22.28876],[101.53638,22.24794],[101.60675,22.13513],[101.57525,22.13026],[101.62566,21.96574],[101.7791,21.83019],[101.74555,21.72852],[101.83257,21.61562],[101.80001,21.57461],[101.7475,21.5873],[101.7727,21.51794],[101.74224,21.48276],[101.74014,21.30967],[101.84412,21.25291],[101.83887,21.20983],[101.76745,21.21571],[101.79266,21.19025],[101.7622,21.14813],[101.70548,21.14911],[101.66977,21.20004],[101.60886,21.17947],[101.59491,21.18621],[101.6068,21.23329],[101.54563,21.25668],[101.29326,21.17254],[101.2229,21.23271],[101.26912,21.36482],[101.19349,21.41959],[101.2124,21.56422],[101.15156,21.56129],[101.16198,21.52808],[101.00234,21.39612],[100.80173,21.2934],[100.72716,21.31786],[100.63578,21.05639],[100.55281,21.02796],[100.50974,20.88574],[100.64628,20.88279],[100.60112,20.8347],[100.51079,20.82194],[100.36375,20.82783],[100.1957,20.68247],[100.08404,20.36626],[100.09999,20.31614],[100.09337,20.26293],[100.11785,20.24787],[100.1712,20.24324],[100.16668,20.2986],[100.22076,20.31598],[100.25769,20.3992],[100.33383,20.4028],[100.37439,20.35156],[100.41473,20.25625],[100.44992,20.23644],[100.4537,20.19971],[100.47567,20.19133],[100.51052,20.14928],[100.55218,20.17741],[100.58808,20.15791],[100.5094,19.87904],[100.398,19.75047],[100.49604,19.53504],[100.58219,19.49164],[100.64606,19.55884],[100.77231,19.48324],[100.90302,19.61901],[101.08928,19.59748],[101.26545,19.59242],[101.26991,19.48324],[101.21347,19.46223],[101.20604,19.35296],[101.24911,19.33334],[101.261,19.12717],[101.35606,19.04716],[101.25803,18.89545],[101.22832,18.73377],[101.27585,18.68875],[101.06047,18.43247],[101.18227,18.34367],[101.15108,18.25624],[101.19118,18.2125],[101.1793,18.0544],[101.02185,17.87637],[100.96541,17.57926],[101.15108,17.47586],[101.44667,17.7392],[101.72294,17.92867],[101.78087,18.07559],[101.88485,18.02474],[102.11359,18.21532],[102.45523,17.97106],[102.59234,17.96127],[102.60971,17.95411],[102.61432,17.92273],[102.5896,17.84889],[102.59485,17.83537],[102.68194,17.80151],[102.69946,17.81686],[102.67543,17.84529],[102.68538,17.86653],[102.75954,17.89561],[102.79044,17.93612],[102.81988,17.94233],[102.86323,17.97531],[102.95812,18.0054],[102.9912,17.9949],[103.01998,17.97095],[103.0566,18.00144],[103.07823,18.03833],[103.07343,18.12351],[103.1493,18.17799],[103.14994,18.23172],[103.17093,18.2618],[103.29757,18.30475],[103.23818,18.34875],[103.24779,18.37807],[103.30977,18.4341],[103.41044,18.4486],[103.47773,18.42841],[103.60957,18.40528],[103.699,18.34125],[103.82449,18.33979],[103.85642,18.28666],[103.93916,18.33914],[103.97725,18.33631],[104.06533,18.21656],[104.10927,18.10826],[104.21776,17.99335],[104.2757,17.86139],[104.35432,17.82871],[104.45404,17.66788],[104.69867,17.53038],[104.80061,17.39367],[104.80716,17.19025],[104.73712,17.01404],[104.7373,16.91125],[104.76442,16.84752],[104.7397,16.81005],[104.76099,16.69302],[104.73349,16.565],[104.88057,16.37311],[105.00262,16.25627],[105.06204,16.09792],[105.42001,16.00657],[105.38508,15.987],[105.34115,15.92737],[105.37959,15.84074],[105.42285,15.76971],[105.46573,15.74742],[105.61756,15.68792],[105.60446,15.53301],[105.58191,15.41031],[105.47635,15.3796],[105.4692,15.33709],[105.50662,15.32054],[105.58043,15.32724],[105.46661,15.13132],[105.61162,15.00037],[105.5121,14.80802],[105.53864,14.55731],[105.43783,14.43865],[105.20894,14.34967],[105.2759,14.17496],[105.36775,14.09948],[105.44869,14.10703],[105.5561,14.15684],[105.78338,14.08438],[105.78182,14.02247],[105.90791,13.92881],[106.10405,13.9137],[106.10094,13.98471],[106.16632,14.01794],[106.18656,14.06324],[106.11962,14.11307],[106.10872,14.18401],[106.04801,14.20363],[106.02311,14.30623],[105.99509,14.32734],[106.00131,14.36957],[106.21302,14.36203],[106.25194,14.48415],[106.32355,14.44043],[106.40916,14.45249],[106.43874,14.52032],[106.47766,14.50977],[106.45898,14.55045],[106.50723,14.58963],[106.54148,14.59565],[106.57106,14.50525],[106.59908,14.50977],[106.63333,14.44194],[106.73762,14.42687],[106.80767,14.31226],[106.8497,14.29416],[106.90574,14.33639],[106.9649,14.3198],[106.98825,14.36806],[107.04585,14.41782],[107.03962,14.45099],[107.09722,14.3937],[107.17038,14.41782],[107.21241,14.48716],[107.256,14.48716],[107.26534,14.54292],[107.29803,14.58963],[107.3276,14.58812],[107.37897,14.54443],[107.44435,14.52785],[107.47238,14.61523],[107.54361,14.69092],[107.51579,14.79282],[107.59285,14.87795],[107.48277,14.93751],[107.46516,15.00982],[107.61486,15.0566],[107.61926,15.13949],[107.58844,15.20111],[107.62587,15.2266],[107.60605,15.37524],[107.62367,15.42193],[107.53341,15.40496],[107.50699,15.48771],[107.3815,15.49832],[107.34408,15.62345],[107.27583,15.62769],[107.27143,15.71459],[107.21859,15.74638],[107.21419,15.83747],[107.34188,15.89464],[107.39471,15.88829],[107.46296,16.01106],[107.44975,16.08511],[107.33968,16.05549],[107.25822,16.13587],[107.14595,16.17816],[107.15035,16.26271],[107.09091,16.3092],[107.02597,16.31132],[106.97385,16.30204],[106.96638,16.34938],[106.88067,16.43594],[106.88727,16.52671],[106.84104,16.55415],[106.74418,16.41904],[106.65832,16.47816],[106.66052,16.56892],[106.61477,16.60713],[106.58267,16.6012],[106.59013,16.62259],[106.55485,16.68704],[106.55265,16.86831],[106.52183,16.87884],[106.51963,16.92097],[106.54824,16.92729],[106.55045,17.0031],[106.50862,16.9673],[106.43597,17.01362],[106.31929,17.20509],[106.29287,17.3018],[106.24444,17.24714],[106.18991,17.28227],[106.09019,17.36399],[105.85744,17.63221],[105.76612,17.67147],[105.60381,17.89356],[105.64784,17.96687],[105.46292,18.22008],[105.38366,18.15315],[105.15942,18.38691],[105.10408,18.43533],[105.1327,18.58355],[105.19654,18.64196],[105.12829,18.70453],[104.64617,18.85668],[104.5361,18.97747],[103.87125,19.31854],[104.06058,19.43484],[104.10832,19.51575],[104.05617,19.61743],[104.06498,19.66926],[104.23229,19.70242],[104.41281,19.70035],[104.53169,19.61743],[104.64837,19.62365],[104.68359,19.72729],[104.8355,19.80395],[104.8465,19.91783],[104.9874,20.09573],[104.91695,20.15567],[104.86852,20.14121],[104.61315,20.24452],[104.62195,20.36633],[104.72102,20.40554],[104.66158,20.47774],[104.47886,20.37459],[104.40621,20.3849],[104.38199,20.47155],[104.63957,20.6653],[104.27412,20.91433],[104.11121,20.96779],[103.98024,20.91531],[103.82282,20.8732],[103.73478,20.6669],[103.68633,20.66324],[103.45737,20.82382],[103.38032,20.79501],[103.21497,20.89832],[103.12055,20.89994],[103.03469,21.05821],[102.97745,21.05821],[102.89825,21.24707],[102.80794,21.25736],[102.88939,21.3107],[102.94223,21.46034],[102.86297,21.4255],[102.98846,21.58936],[102.97965,21.74076],[102.86077,21.71213],[102.85637,21.84501],[102.81894,21.83888],[102.82115,21.73667],[102.74189,21.66713],[102.67145,21.65894],[102.62301,21.91447],[102.49092,21.99002],[102.51734,22.02676],[102.18712,22.30403],[102.14099,22.40092],[102.1245,22.43372]]]]}},{type:"Feature",properties:{iso1A2:"LB",iso1A3:"LBN",iso1N3:"422",wikidata:"Q822",nameEn:"Lebanon",aliases:["RL"],groups:["145","142","UN"],callingCodes:["961"]},geometry:{type:"MultiPolygon",coordinates:[[[[35.94816,33.47886],[35.94465,33.52774],[36.05723,33.57904],[35.9341,33.6596],[36.06778,33.82927],[36.14517,33.85118],[36.3967,33.83365],[36.38263,33.86579],[36.28589,33.91981],[36.41078,34.05253],[36.50576,34.05982],[36.5128,34.09916],[36.62537,34.20251],[36.59195,34.2316],[36.58667,34.27667],[36.60778,34.31009],[36.56556,34.31881],[36.53039,34.3798],[36.55853,34.41609],[36.46179,34.46541],[36.4442,34.50165],[36.34745,34.5002],[36.3369,34.52629],[36.39846,34.55672],[36.41429,34.61175],[36.45299,34.59438],[36.46003,34.6378],[36.42941,34.62505],[36.35384,34.65447],[36.35135,34.68516],[36.32399,34.69334],[36.29165,34.62991],[35.98718,34.64977],[35.97386,34.63322],[35.48515,34.70851],[34.78515,33.20368],[35.10645,33.09318],[35.1924,33.08743],[35.31429,33.10515],[35.35223,33.05617],[35.43059,33.06659],[35.448,33.09264],[35.50272,33.09056],[35.50335,33.114],[35.52573,33.11921],[35.54228,33.19865],[35.5362,33.23196],[35.54808,33.236],[35.54544,33.25513],[35.55555,33.25844],[35.56523,33.28969],[35.58326,33.28381],[35.58502,33.26653],[35.62283,33.24226],[35.62019,33.27278],[35.77477,33.33609],[35.81324,33.36354],[35.82577,33.40479],[35.88668,33.43183],[35.94816,33.47886]]]]}},{type:"Feature",properties:{iso1A2:"LC",iso1A3:"LCA",iso1N3:"662",wikidata:"Q760",nameEn:"St. Lucia",aliases:["WL"],groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 758"]},geometry:{type:"MultiPolygon",coordinates:[[[[-59.95997,14.20285],[-61.69315,14.26451],[-59.94058,12.34011],[-59.95997,14.20285]]]]}},{type:"Feature",properties:{iso1A2:"LI",iso1A3:"LIE",iso1N3:"438",wikidata:"Q347",nameEn:"Liechtenstein",aliases:["FL"],groups:["155","150","UN"],callingCodes:["423"]},geometry:{type:"MultiPolygon",coordinates:[[[[9.60717,47.06091],[9.61216,47.07732],[9.63395,47.08443],[9.62623,47.14685],[9.56539,47.17124],[9.58264,47.20673],[9.56981,47.21926],[9.55176,47.22585],[9.56766,47.24281],[9.53116,47.27029],[9.52406,47.24959],[9.50318,47.22153],[9.4891,47.19346],[9.48774,47.17402],[9.51044,47.13727],[9.52089,47.10019],[9.51362,47.08505],[9.47139,47.06402],[9.47548,47.05257],[9.54041,47.06495],[9.55721,47.04762],[9.60717,47.06091]]]]}},{type:"Feature",properties:{iso1A2:"LK",iso1A3:"LKA",iso1N3:"144",wikidata:"Q854",nameEn:"Sri Lanka",groups:["034","142","UN"],driveSide:"left",callingCodes:["94"]},geometry:{type:"MultiPolygon",coordinates:[[[[76.59015,5.591],[85.15017,5.21497],[80.48418,10.20786],[79.42124,9.80115],[79.50447,8.91876],[76.59015,5.591]]]]}},{type:"Feature",properties:{iso1A2:"LR",iso1A3:"LBR",iso1N3:"430",wikidata:"Q1014",nameEn:"Liberia",groups:["011","202","002","UN"],callingCodes:["231"]},geometry:{type:"MultiPolygon",coordinates:[[[[-8.47114,7.55676],[-8.55874,7.62525],[-8.55874,7.70167],[-8.67814,7.69428],[-8.72789,7.51429],[-8.8448,7.35149],[-8.85724,7.26019],[-8.93435,7.2824],[-9.09107,7.1985],[-9.18311,7.30461],[-9.20798,7.38109],[-9.305,7.42056],[-9.41943,7.41809],[-9.48161,7.37122],[-9.37465,7.62032],[-9.35724,7.74111],[-9.44928,7.9284],[-9.41445,8.02448],[-9.50898,8.18455],[-9.47415,8.35195],[-9.77763,8.54633],[-10.05873,8.42578],[-10.05375,8.50697],[-10.14579,8.52665],[-10.203,8.47991],[-10.27575,8.48711],[-10.30084,8.30008],[-10.31635,8.28554],[-10.29839,8.21283],[-10.35227,8.15223],[-10.45023,8.15627],[-10.51554,8.1393],[-10.57523,8.04829],[-10.60492,8.04072],[-10.60422,7.7739],[-11.29417,7.21576],[-11.4027,6.97746],[-11.50429,6.92704],[-12.15048,6.15992],[-7.52774,3.7105],[-7.53259,4.35145],[-7.59349,4.8909],[-7.53876,4.94294],[-7.55369,5.08667],[-7.48901,5.14118],[-7.46165,5.26256],[-7.36463,5.32944],[-7.43428,5.42355],[-7.37209,5.61173],[-7.43926,5.74787],[-7.43677,5.84687],[-7.46165,5.84934],[-7.48155,5.80974],[-7.67309,5.94337],[-7.70294,5.90625],[-7.78254,5.99037],[-7.79747,6.07696],[-7.8497,6.08932],[-7.83478,6.20309],[-7.90692,6.27728],[-8.00642,6.31684],[-8.17557,6.28222],[-8.3298,6.36381],[-8.38453,6.35887],[-8.45666,6.49977],[-8.48652,6.43797],[-8.59456,6.50612],[-8.31736,6.82837],[-8.29249,7.1691],[-8.37458,7.25794],[-8.41935,7.51203],[-8.47114,7.55676]]]]}},{type:"Feature",properties:{iso1A2:"LS",iso1A3:"LSO",iso1N3:"426",wikidata:"Q1013",nameEn:"Lesotho",groups:["018","202","002","UN"],driveSide:"left",callingCodes:["266"]},geometry:{type:"MultiPolygon",coordinates:[[[[29.33204,-29.45598],[29.44883,-29.3772],[29.40524,-29.21246],[28.68043,-28.58744],[28.65091,-28.57025],[28.40612,-28.6215],[28.30518,-28.69531],[28.2348,-28.69471],[28.1317,-28.7293],[28.02503,-28.85991],[27.98675,-28.8787],[27.9392,-28.84864],[27.88933,-28.88156],[27.8907,-28.91612],[27.75458,-28.89839],[27.55974,-29.18954],[27.5158,-29.2261],[27.54258,-29.25575],[27.48679,-29.29349],[27.45125,-29.29708],[27.47254,-29.31968],[27.4358,-29.33465],[27.33464,-29.48161],[27.01016,-29.65439],[27.09489,-29.72796],[27.22719,-30.00718],[27.29603,-30.05473],[27.32555,-30.14785],[27.40778,-30.14577],[27.37293,-30.19401],[27.36649,-30.27246],[27.38108,-30.33456],[27.45452,-30.32239],[27.56901,-30.42504],[27.56781,-30.44562],[27.62137,-30.50509],[27.6521,-30.51707],[27.67819,-30.53437],[27.69467,-30.55862],[27.74814,-30.60635],[28.12073,-30.68072],[28.2319,-30.28476],[28.399,-30.1592],[28.68627,-30.12885],[28.80222,-30.10579],[28.9338,-30.05072],[29.16548,-29.91706],[29.12553,-29.76266],[29.28545,-29.58456],[29.33204,-29.45598]]]]}},{type:"Feature",properties:{iso1A2:"LT",iso1A3:"LTU",iso1N3:"440",wikidata:"Q37",nameEn:"Lithuania",groups:["EU","154","150","UN"],callingCodes:["370"]},geometry:{type:"MultiPolygon",coordinates:[[[[24.89005,56.46666],[24.83686,56.41565],[24.70022,56.40483],[24.57353,56.31525],[24.58143,56.29125],[24.42746,56.26522],[24.32334,56.30226],[24.13139,56.24881],[24.02657,56.3231],[23.75726,56.37282],[23.49803,56.34307],[23.40486,56.37689],[23.31606,56.3827],[23.17312,56.36795],[23.09531,56.30511],[22.96988,56.41213],[22.83048,56.367],[22.69354,56.36284],[22.56441,56.39305],[22.3361,56.4016],[22.09728,56.42851],[22.00548,56.41508],[21.74558,56.33181],[21.57888,56.31406],[21.49736,56.29106],[21.24644,56.16917],[21.15016,56.07818],[20.68447,56.04073],[20.60454,55.40986],[20.95181,55.27994],[21.26425,55.24456],[21.35465,55.28427],[21.38446,55.29348],[21.46766,55.21115],[21.51095,55.18507],[21.55605,55.20311],[21.64954,55.1791],[21.85521,55.09493],[21.96505,55.07353],[21.99543,55.08691],[22.03984,55.07888],[22.02582,55.05078],[22.06087,55.02935],[22.11697,55.02131],[22.14267,55.05345],[22.31562,55.0655],[22.47688,55.04408],[22.58907,55.07085],[22.60075,55.01863],[22.65451,54.97037],[22.68723,54.9811],[22.76422,54.92521],[22.85083,54.88711],[22.87317,54.79492],[22.73631,54.72952],[22.73397,54.66604],[22.75467,54.6483],[22.74225,54.64339],[22.7522,54.63525],[22.68021,54.58486],[22.71293,54.56454],[22.67788,54.532],[22.70208,54.45312],[22.7253,54.41732],[22.79705,54.36264],[22.83756,54.40827],[23.00584,54.38514],[22.99649,54.35927],[23.05726,54.34565],[23.04323,54.31567],[23.104,54.29794],[23.13905,54.31567],[23.15526,54.31076],[23.15938,54.29894],[23.24656,54.25701],[23.3494,54.25155],[23.39525,54.21672],[23.42418,54.17911],[23.45223,54.17775],[23.49196,54.14764],[23.52702,54.04622],[23.48261,53.98855],[23.51284,53.95052],[23.61677,53.92691],[23.71726,53.93379],[23.80543,53.89558],[23.81309,53.94205],[23.95098,53.9613],[23.98837,53.92554],[24.19638,53.96405],[24.34128,53.90076],[24.44411,53.90076],[24.62275,54.00217],[24.69652,54.01901],[24.69185,53.96543],[24.74279,53.96663],[24.85311,54.02862],[24.77131,54.11091],[24.96894,54.17589],[24.991,54.14241],[25.0728,54.13419],[25.19199,54.219],[25.22705,54.26271],[25.35559,54.26544],[25.509,54.30267],[25.56823,54.25212],[25.51452,54.17799],[25.54724,54.14925],[25.64875,54.1259],[25.71084,54.16704],[25.78563,54.15747],[25.78553,54.23327],[25.68513,54.31727],[25.55425,54.31591],[25.5376,54.33158],[25.63371,54.42075],[25.62203,54.4656],[25.64813,54.48704],[25.68045,54.5321],[25.75977,54.57252],[25.74122,54.80108],[25.89462,54.93438],[25.99129,54.95705],[26.05907,54.94631],[26.13386,54.98924],[26.20397,54.99729],[26.26941,55.08032],[26.23202,55.10439],[26.30628,55.12536],[26.35121,55.1525],[26.46249,55.12814],[26.51481,55.16051],[26.54753,55.14181],[26.69243,55.16718],[26.68075,55.19787],[26.72983,55.21788],[26.73017,55.24226],[26.835,55.28182],[26.83266,55.30444],[26.80929,55.31642],[26.6714,55.33902],[26.5709,55.32572],[26.44937,55.34832],[26.5522,55.40277],[26.55094,55.5093],[26.63167,55.57887],[26.63231,55.67968],[26.58248,55.6754],[26.46661,55.70375],[26.39561,55.71156],[26.18509,55.86813],[26.03815,55.95884],[25.90047,56.0013],[25.85893,56.00188],[25.81773,56.05444],[25.69246,56.08892],[25.68588,56.14725],[25.53621,56.16663],[25.39751,56.15707],[25.23099,56.19147],[25.09325,56.1878],[25.05762,56.26742],[24.89005,56.46666]]]]}},{type:"Feature",properties:{iso1A2:"LU",iso1A3:"LUX",iso1N3:"442",wikidata:"Q32",nameEn:"Luxembourg",groups:["EU","155","150","UN"],callingCodes:["352"]},geometry:{type:"MultiPolygon",coordinates:[[[[6.1379,50.12964],[6.1137,50.13668],[6.12028,50.16374],[6.08577,50.17246],[6.06406,50.15344],[6.03093,50.16362],[6.02488,50.18283],[5.96453,50.17259],[5.95929,50.13295],[5.89488,50.11476],[5.8857,50.07824],[5.85474,50.06342],[5.86904,50.04614],[5.8551,50.02683],[5.81866,50.01286],[5.82331,49.99662],[5.83968,49.9892],[5.83467,49.97823],[5.81163,49.97142],[5.80833,49.96451],[5.77291,49.96056],[5.77314,49.93646],[5.73621,49.89796],[5.78415,49.87922],[5.75269,49.8711],[5.75861,49.85631],[5.74567,49.85368],[5.75884,49.84811],[5.74953,49.84709],[5.74975,49.83933],[5.74076,49.83823],[5.7404,49.83452],[5.74844,49.82435],[5.74364,49.82058],[5.74953,49.81428],[5.75409,49.79239],[5.78871,49.7962],[5.82245,49.75048],[5.83149,49.74729],[5.82562,49.72395],[5.84193,49.72161],[5.86503,49.72739],[5.88677,49.70951],[5.86527,49.69291],[5.86175,49.67862],[5.9069,49.66377],[5.90164,49.6511],[5.90599,49.63853],[5.88552,49.63507],[5.88393,49.62802],[5.87609,49.62047],[5.8762,49.60898],[5.84826,49.5969],[5.84971,49.58674],[5.86986,49.58756],[5.87256,49.57539],[5.8424,49.56082],[5.84692,49.55663],[5.84143,49.5533],[5.81838,49.54777],[5.80871,49.5425],[5.81664,49.53775],[5.83648,49.5425],[5.84466,49.53027],[5.83467,49.52717],[5.83389,49.52152],[5.86571,49.50015],[5.94128,49.50034],[5.94224,49.49608],[5.96876,49.49053],[5.97693,49.45513],[6.02648,49.45451],[6.02743,49.44845],[6.04176,49.44801],[6.05553,49.46663],[6.07887,49.46399],[6.08373,49.45594],[6.10072,49.45268],[6.09845,49.46351],[6.10325,49.4707],[6.12346,49.4735],[6.12814,49.49365],[6.14321,49.48796],[6.16115,49.49297],[6.15366,49.50226],[6.17386,49.50934],[6.19543,49.50536],[6.2409,49.51408],[6.25029,49.50609],[6.27875,49.503],[6.28818,49.48465],[6.3687,49.4593],[6.36778,49.46937],[6.36907,49.48931],[6.36788,49.50377],[6.35666,49.52931],[6.38072,49.55171],[6.38228,49.55855],[6.35825,49.57053],[6.36676,49.57813],[6.38024,49.57593],[6.38342,49.5799],[6.37464,49.58886],[6.385,49.59946],[6.39822,49.60081],[6.41861,49.61723],[6.4413,49.65722],[6.43768,49.66021],[6.42726,49.66078],[6.42937,49.66857],[6.44654,49.67799],[6.46048,49.69092],[6.48014,49.69767],[6.49785,49.71118],[6.50647,49.71353],[6.5042,49.71808],[6.49694,49.72205],[6.49535,49.72645],[6.50261,49.72718],[6.51397,49.72058],[6.51805,49.72425],[6.50193,49.73291],[6.50174,49.75292],[6.51646,49.75961],[6.51828,49.76855],[6.51056,49.77515],[6.51669,49.78336],[6.50534,49.78952],[6.52169,49.79787],[6.53122,49.80666],[6.52121,49.81338],[6.51215,49.80124],[6.50647,49.80916],[6.48718,49.81267],[6.47111,49.82263],[6.45425,49.81164],[6.44131,49.81443],[6.42905,49.81091],[6.42521,49.81591],[6.40022,49.82029],[6.36576,49.85032],[6.34267,49.84974],[6.33585,49.83785],[6.32098,49.83728],[6.32303,49.85133],[6.30963,49.87021],[6.29692,49.86685],[6.28874,49.87592],[6.26146,49.88203],[6.23496,49.89972],[6.22926,49.92096],[6.21882,49.92403],[6.22608,49.929],[6.22094,49.94955],[6.19856,49.95053],[6.19089,49.96991],[6.18045,49.96611],[6.18554,49.95622],[6.17872,49.9537],[6.16466,49.97086],[6.1701,49.98518],[6.14147,49.99563],[6.14948,50.00908],[6.13806,50.01056],[6.1295,50.01849],[6.13273,50.02019],[6.13794,50.01466],[6.14666,50.02207],[6.13044,50.02929],[6.13458,50.04141],[6.11274,50.05916],[6.12055,50.09171],[6.1379,50.12964]]]]}},{type:"Feature",properties:{iso1A2:"LV",iso1A3:"LVA",iso1N3:"428",wikidata:"Q211",nameEn:"Latvia",groups:["EU","154","150","UN"],callingCodes:["371"]},geometry:{type:"MultiPolygon",coordinates:[[[[27.34698,57.52242],[26.90364,57.62823],[26.54675,57.51813],[26.46527,57.56885],[26.29253,57.59244],[26.1866,57.6849],[26.2029,57.7206],[26.08098,57.76619],[26.0543,57.76105],[26.03332,57.7718],[26.02415,57.76865],[26.02069,57.77169],[26.0266,57.77441],[26.027,57.78158],[26.02456,57.78342],[26.0324,57.79037],[26.05949,57.84744],[25.73499,57.90193],[25.29581,58.08288],[25.28237,57.98539],[25.19484,58.0831],[24.3579,57.87471],[24.26221,57.91787],[23.20055,57.56697],[22.80496,57.87798],[19.84909,57.57876],[19.64795,57.06466],[20.68447,56.04073],[21.15016,56.07818],[21.24644,56.16917],[21.49736,56.29106],[21.57888,56.31406],[21.74558,56.33181],[22.00548,56.41508],[22.09728,56.42851],[22.3361,56.4016],[22.56441,56.39305],[22.69354,56.36284],[22.83048,56.367],[22.96988,56.41213],[23.09531,56.30511],[23.17312,56.36795],[23.31606,56.3827],[23.40486,56.37689],[23.49803,56.34307],[23.75726,56.37282],[24.02657,56.3231],[24.13139,56.24881],[24.32334,56.30226],[24.42746,56.26522],[24.58143,56.29125],[24.57353,56.31525],[24.70022,56.40483],[24.83686,56.41565],[24.89005,56.46666],[25.05762,56.26742],[25.09325,56.1878],[25.23099,56.19147],[25.39751,56.15707],[25.53621,56.16663],[25.68588,56.14725],[25.69246,56.08892],[25.81773,56.05444],[25.85893,56.00188],[25.90047,56.0013],[26.03815,55.95884],[26.18509,55.86813],[26.39561,55.71156],[26.46661,55.70375],[26.58248,55.6754],[26.63231,55.67968],[26.64888,55.70515],[26.71802,55.70645],[26.76872,55.67658],[26.87448,55.7172],[26.97153,55.8102],[27.1559,55.85032],[27.27804,55.78299],[27.3541,55.8089],[27.61683,55.78558],[27.63065,55.89687],[27.97865,56.11849],[28.15217,56.16964],[28.23716,56.27588],[28.16599,56.37806],[28.19057,56.44637],[28.10069,56.524],[28.13526,56.57989],[28.04768,56.59004],[27.86101,56.88204],[27.66511,56.83921],[27.86101,57.29402],[27.52453,57.42826],[27.56832,57.53728],[27.34698,57.52242]]]]}},{type:"Feature",properties:{iso1A2:"LY",iso1A3:"LBY",iso1N3:"434",wikidata:"Q1016",nameEn:"Libya",groups:["015","002","UN"],callingCodes:["218"]},geometry:{type:"MultiPolygon",coordinates:[[[[26.92891,33.39516],[11.58941,33.36891],[11.55852,33.1409],[11.51549,33.09826],[11.46037,32.6307],[11.57828,32.48013],[11.53898,32.4138],[11.04234,32.2145],[10.7315,31.97235],[10.62788,31.96629],[10.48497,31.72956],[10.31364,31.72648],[10.12239,31.42098],[10.29516,30.90337],[9.88152,30.34074],[9.76848,30.34366],[9.55544,30.23971],[9.3876,30.16738],[9.78136,29.40961],[9.89569,26.57696],[9.51696,26.39148],[9.38834,26.19288],[10.03146,25.35635],[10.02432,24.98124],[10.33159,24.5465],[10.85323,24.5595],[11.41061,24.21456],[11.62498,24.26669],[11.96886,23.51735],[13.5631,23.16574],[14.22918,22.61719],[14.99751,23.00539],[15.99566,23.49639],[23.99539,19.49944],[23.99715,20.00038],[24.99794,19.99661],[24.99885,21.99535],[24.99968,29.24574],[24.71117,30.17441],[25.01077,30.73861],[24.8458,31.39877],[26.92891,33.39516]]]]}},{type:"Feature",properties:{iso1A2:"MA",iso1A3:"MAR",iso1N3:"504",wikidata:"Q1028",nameEn:"Morocco",groups:["015","002","UN"],callingCodes:["212"]},geometry:{type:"MultiPolygon",coordinates:[[[[-2.27707,35.35051],[-5.10878,36.05227],[-7.2725,35.73269],[-14.43883,27.02969],[-17.27295,21.93519],[-17.21511,21.34226],[-17.02707,21.34022],[-16.9978,21.36239],[-16.44269,21.39745],[-14.78487,21.36587],[-14.47329,21.63839],[-14.48112,22.00886],[-14.1291,22.41636],[-14.10361,22.75501],[-13.75627,23.77231],[-13.00628,24.01923],[-12.92147,24.39502],[-12.12281,25.13682],[-12.06001,26.04442],[-11.62052,26.05229],[-11.38635,26.611],[-11.23622,26.72023],[-11.35695,26.8505],[-10.68417,26.90984],[-9.81998,26.71379],[-9.56957,26.90042],[-9.08698,26.98639],[-8.71787,26.9898],[-8.77527,27.66663],[-8.66879,27.6666],[-8.6715,28.71194],[-7.61585,29.36252],[-6.95824,29.50924],[-6.78351,29.44634],[-6.69965,29.51623],[-5.75616,29.61407],[-5.72121,29.52322],[-5.58831,29.48103],[-5.21671,29.95253],[-4.6058,30.28343],[-4.31774,30.53229],[-3.64735,30.67539],[-3.65418,30.85566],[-3.54944,31.0503],[-3.77103,31.14984],[-3.77647,31.31912],[-3.66386,31.39202],[-3.66314,31.6339],[-2.82784,31.79459],[-2.93873,32.06557],[-2.46166,32.16603],[-1.22829,32.07832],[-1.15735,32.12096],[-1.24453,32.1917],[-1.24998,32.32993],[-.9912,32.52467],[-1.37794,32.73628],[-1.54244,32.95499],[-1.46249,33.0499],[-1.67067,33.27084],[-1.59508,33.59929],[-1.73494,33.71721],[-1.64666,34.10405],[-1.78042,34.39018],[-1.69788,34.48056],[-1.84569,34.61907],[-1.73707,34.74226],[-1.97469,34.886],[-1.97833,34.93218],[-2.04734,34.93218],[-2.21445,35.04378],[-2.21248,35.08532],[-2.27707,35.35051]],[[-2.91909,35.33927],[-2.92272,35.27509],[-2.93893,35.26737],[-2.95065,35.26576],[-2.95431,35.2728],[-2.96516,35.27967],[-2.96826,35.28296],[-2.96507,35.28801],[-2.97035,35.28852],[-2.96978,35.29459],[-2.96648,35.30475],[-2.96038,35.31609],[-2.91909,35.33927]],[[-3.90602,35.21494],[-3.89343,35.22728],[-3.88372,35.20767],[-3.90602,35.21494]],[[-4.30191,35.17419],[-4.29436,35.17149],[-4.30112,35.17058],[-4.30191,35.17419]],[[-2.40316,35.16893],[-2.45965,35.16527],[-2.43262,35.20652],[-2.40316,35.16893]],[[-5.38491,35.92591],[-5.21179,35.90091],[-5.34379,35.8711],[-5.35844,35.87375],[-5.37338,35.88417],[-5.38491,35.92591]]]]}},{type:"Feature",properties:{iso1A2:"MC",iso1A3:"MCO",iso1N3:"492",wikidata:"Q235",nameEn:"Monaco",groups:["155","150","UN"],callingCodes:["377"]},geometry:{type:"MultiPolygon",coordinates:[[[[7.47823,43.73341],[7.4379,43.74963],[7.4389,43.75151],[7.43708,43.75197],[7.43624,43.75014],[7.43013,43.74895],[7.42809,43.74396],[7.42443,43.74087],[7.42299,43.74176],[7.42062,43.73977],[7.41233,43.73439],[7.41298,43.73311],[7.41291,43.73168],[7.41113,43.73156],[7.40903,43.7296],[7.42422,43.72209],[7.47823,43.73341]]]]}},{type:"Feature",properties:{iso1A2:"MD",iso1A3:"MDA",iso1N3:"498",wikidata:"Q217",nameEn:"Moldova",groups:["151","150","UN"],callingCodes:["373"]},geometry:{type:"MultiPolygon",coordinates:[[[[27.74422,48.45926],[27.6658,48.44034],[27.59027,48.46311],[27.5889,48.49224],[27.46942,48.454],[27.44333,48.41209],[27.37741,48.41026],[27.37604,48.44398],[27.32159,48.4434],[27.27855,48.37534],[27.13434,48.37288],[27.08078,48.43214],[27.0231,48.42485],[27.03821,48.37653],[26.93384,48.36558],[26.85556,48.41095],[26.71274,48.40388],[26.82809,48.31629],[26.79239,48.29071],[26.6839,48.35828],[26.62823,48.25804],[26.81161,48.25049],[26.87708,48.19919],[26.94265,48.1969],[26.98042,48.15752],[26.96119,48.13003],[27.04118,48.12522],[27.02985,48.09083],[27.15622,47.98538],[27.1618,47.92391],[27.29069,47.73722],[27.25519,47.71366],[27.32202,47.64009],[27.3979,47.59473],[27.47942,47.48113],[27.55731,47.46637],[27.60263,47.32507],[27.68706,47.28962],[27.73172,47.29248],[27.81892,47.1381],[28.09095,46.97621],[28.12173,46.82283],[28.24808,46.64305],[28.22281,46.50481],[28.25769,46.43334],[28.18902,46.35283],[28.19864,46.31869],[28.10937,46.22852],[28.13684,46.18099],[28.08612,46.01105],[28.13111,45.92819],[28.16568,45.6421],[28.08927,45.6051],[28.18741,45.47358],[28.21139,45.46895],[28.30201,45.54744],[28.41836,45.51715],[28.43072,45.48538],[28.51449,45.49982],[28.49252,45.56716],[28.54196,45.58062],[28.51587,45.6613],[28.47879,45.66994],[28.52823,45.73803],[28.70401,45.78019],[28.69852,45.81753],[28.78503,45.83475],[28.74383,45.96664],[28.98004,46.00385],[29.00613,46.04962],[28.94643,46.09176],[29.06656,46.19716],[28.94953,46.25852],[28.98478,46.31803],[29.004,46.31495],[28.9306,46.45699],[29.01241,46.46177],[29.02409,46.49582],[29.23547,46.55435],[29.24886,46.37912],[29.35357,46.49505],[29.49914,46.45889],[29.5939,46.35472],[29.6763,46.36041],[29.66359,46.4215],[29.74496,46.45605],[29.88329,46.35851],[29.94114,46.40114],[30.09103,46.38694],[30.16794,46.40967],[30.02511,46.45132],[29.88916,46.54302],[29.94409,46.56002],[29.9743,46.75325],[29.94522,46.80055],[29.98814,46.82358],[29.87405,46.88199],[29.75458,46.8604],[29.72986,46.92234],[29.57056,46.94766],[29.62137,47.05069],[29.61038,47.09932],[29.53044,47.07851],[29.49732,47.12878],[29.57696,47.13581],[29.54996,47.24962],[29.59665,47.25521],[29.5733,47.36508],[29.48678,47.36043],[29.47854,47.30366],[29.39889,47.30179],[29.3261,47.44664],[29.18603,47.43387],[29.11743,47.55001],[29.22414,47.60012],[29.22242,47.73607],[29.27255,47.79953],[29.20663,47.80367],[29.27804,47.88893],[29.19839,47.89261],[29.1723,47.99013],[28.9306,47.96255],[28.8414,48.03392],[28.85232,48.12506],[28.69896,48.13106],[28.53921,48.17453],[28.48428,48.0737],[28.42454,48.12047],[28.43701,48.15832],[28.38712,48.17567],[28.34009,48.13147],[28.30609,48.14018],[28.30586,48.1597],[28.34912,48.1787],[28.36996,48.20543],[28.35519,48.24957],[28.32508,48.23384],[28.2856,48.23202],[28.19314,48.20749],[28.17666,48.25963],[28.07504,48.23494],[28.09873,48.3124],[28.04527,48.32661],[27.95883,48.32368],[27.88391,48.36699],[27.87533,48.4037],[27.81902,48.41874],[27.79225,48.44244],[27.74422,48.45926]]]]}},{type:"Feature",properties:{iso1A2:"ME",iso1A3:"MNE",iso1N3:"499",wikidata:"Q236",nameEn:"Montenegro",groups:["039","150","UN"],callingCodes:["382"]},geometry:{type:"MultiPolygon",coordinates:[[[[19.22807,43.5264],[19.15685,43.53943],[19.13933,43.5282],[19.04934,43.50384],[19.01078,43.55806],[18.91379,43.50299],[18.95469,43.49367],[18.96053,43.45042],[19.01078,43.43854],[19.04071,43.397],[19.08673,43.31453],[19.08206,43.29668],[19.04233,43.30008],[19.00844,43.24988],[18.95001,43.29327],[18.95819,43.32899],[18.90911,43.36383],[18.83912,43.34795],[18.84794,43.33735],[18.85342,43.32426],[18.76538,43.29838],[18.6976,43.25243],[18.71747,43.2286],[18.66605,43.2056],[18.64735,43.14766],[18.66254,43.03928],[18.52232,43.01451],[18.49076,42.95553],[18.49661,42.89306],[18.4935,42.86433],[18.47633,42.85829],[18.45921,42.81682],[18.47324,42.74992],[18.56789,42.72074],[18.55221,42.69045],[18.54603,42.69171],[18.54841,42.68328],[18.57373,42.64429],[18.52232,42.62279],[18.55504,42.58409],[18.53751,42.57376],[18.49778,42.58409],[18.43735,42.55921],[18.44307,42.51077],[18.43588,42.48556],[18.52152,42.42302],[18.54128,42.39171],[18.45131,42.21682],[19.26406,41.74971],[19.37597,41.84849],[19.37451,41.8842],[19.33812,41.90669],[19.34601,41.95675],[19.37691,41.96977],[19.36867,42.02564],[19.37548,42.06835],[19.40687,42.10024],[19.28623,42.17745],[19.42,42.33019],[19.42352,42.36546],[19.4836,42.40831],[19.65972,42.62774],[19.73244,42.66299],[19.77375,42.58517],[19.74731,42.57422],[19.76549,42.50237],[19.82333,42.46581],[19.9324,42.51699],[20.00842,42.5109],[20.01834,42.54622],[20.07761,42.55582],[20.0969,42.65559],[20.02915,42.71147],[20.02088,42.74789],[20.04898,42.77701],[20.2539,42.76245],[20.27869,42.81945],[20.35692,42.8335],[20.34528,42.90676],[20.16415,42.97177],[20.14896,42.99058],[20.12325,42.96237],[20.05431,42.99571],[20.04729,43.02732],[19.98887,43.0538],[19.96549,43.11098],[19.92576,43.08539],[19.79255,43.11951],[19.76918,43.16044],[19.64063,43.19027],[19.62661,43.2286],[19.54598,43.25158],[19.52962,43.31623],[19.48171,43.32644],[19.44315,43.38846],[19.22229,43.47926],[19.22807,43.5264]]]]}},{type:"Feature",properties:{iso1A2:"MF",iso1A3:"MAF",iso1N3:"663",wikidata:"Q126125",nameEn:"Saint-Martin",country:"FR",groups:["Q3320166","EU","029","003","419","019","UN"],callingCodes:["590"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.93924,18.02904],[-62.62718,18.26185],[-63.35989,18.06012],[-63.33064,17.9615],[-63.13502,18.05445],[-63.11042,18.05339],[-63.09686,18.04608],[-63.07759,18.04943],[-63.0579,18.06614],[-63.04039,18.05619],[-63.02323,18.05757],[-62.93924,18.02904]]]]}},{type:"Feature",properties:{iso1A2:"MG",iso1A3:"MDG",iso1N3:"450",wikidata:"Q1019",nameEn:"Madagascar",aliases:["RM"],groups:["014","202","002","UN"],callingCodes:["261"]},geometry:{type:"MultiPolygon",coordinates:[[[[51.93891,-10.85085],[45.84651,-12.77177],[42.14681,-19.63341],[45.80092,-33.00974],[51.93891,-10.85085]]]]}},{type:"Feature",properties:{iso1A2:"MH",iso1A3:"MHL",iso1N3:"584",wikidata:"Q709",nameEn:"Marshall Islands",groups:["057","009","UN"],roadSpeedUnit:"mph",callingCodes:["692"]},geometry:{type:"MultiPolygon",coordinates:[[[[169,3.9],[173.53711,5.70687],[169.29099,15.77133],[159.04653,10.59067],[169,3.9]]]]}},{type:"Feature",properties:{iso1A2:"MK",iso1A3:"MKD",iso1N3:"807",wikidata:"Q221",nameEn:"North Macedonia",groups:["039","150","UN"],callingCodes:["389"]},geometry:{type:"MultiPolygon",coordinates:[[[[22.34773,42.31725],[22.29275,42.34913],[22.29605,42.37477],[22.16384,42.32103],[22.02908,42.29848],[21.94405,42.34669],[21.91595,42.30392],[21.84654,42.3247],[21.77176,42.2648],[21.70111,42.23789],[21.58992,42.25915],[21.52145,42.24465],[21.50823,42.27156],[21.43882,42.2789],[21.43882,42.23609],[21.38428,42.24465],[21.30496,42.1418],[21.29913,42.13954],[21.31983,42.10993],[21.22728,42.08909],[21.16614,42.19815],[21.11491,42.20794],[20.75464,42.05229],[20.76786,41.91839],[20.68523,41.85318],[20.59524,41.8818],[20.55976,41.87068],[20.57144,41.7897],[20.53405,41.78099],[20.51301,41.72433],[20.52937,41.69292],[20.51769,41.65975],[20.55508,41.58113],[20.52103,41.56473],[20.45809,41.5549],[20.45331,41.51436],[20.49039,41.49277],[20.51301,41.442],[20.55976,41.4087],[20.52119,41.34381],[20.49432,41.33679],[20.51068,41.2323],[20.59715,41.13644],[20.58546,41.11179],[20.59832,41.09066],[20.63454,41.0889],[20.65558,41.08009],[20.71634,40.91781],[20.73504,40.9081],[20.81567,40.89662],[20.83671,40.92752],[20.94305,40.92399],[20.97693,40.90103],[20.97887,40.85475],[21.15262,40.85546],[21.21105,40.8855],[21.25779,40.86165],[21.35595,40.87578],[21.41555,40.9173],[21.53007,40.90759],[21.57448,40.86076],[21.69601,40.9429],[21.7556,40.92525],[21.91102,41.04786],[21.90869,41.09191],[22.06527,41.15617],[22.1424,41.12449],[22.17629,41.15969],[22.26744,41.16409],[22.42285,41.11921],[22.5549,41.13065],[22.58295,41.11568],[22.62852,41.14385],[22.65306,41.18168],[22.71266,41.13945],[22.74538,41.16321],[22.76408,41.32225],[22.81199,41.3398],[22.93334,41.34104],[22.96331,41.35782],[22.95513,41.63265],[23.03342,41.71034],[23.01239,41.76527],[22.96682,41.77137],[22.90254,41.87587],[22.86749,42.02275],[22.67701,42.06614],[22.51224,42.15457],[22.50289,42.19527],[22.47251,42.20393],[22.38136,42.30339],[22.34773,42.31725]]]]}},{type:"Feature",properties:{iso1A2:"ML",iso1A3:"MLI",iso1N3:"466",wikidata:"Q912",nameEn:"Mali",groups:["011","202","002","UN"],callingCodes:["223"]},geometry:{type:"MultiPolygon",coordinates:[[[[-4.83423,24.99935],[-6.57191,25.0002],[-5.60725,16.49919],[-5.33435,16.33354],[-5.50165,15.50061],[-9.32979,15.50032],[-9.31106,15.69412],[-9.33314,15.7044],[-9.44673,15.60553],[-9.40447,15.4396],[-10.71721,15.4223],[-10.90932,15.11001],[-11.43483,15.62339],[-11.70705,15.51558],[-11.94903,14.76143],[-12.23936,14.76324],[-11.93043,13.84505],[-12.06897,13.71049],[-11.83345,13.33333],[-11.63025,13.39174],[-11.39935,12.97808],[-11.37536,12.40788],[-11.50006,12.17826],[-11.24136,12.01286],[-10.99758,12.24634],[-10.80355,12.1053],[-10.71897,11.91552],[-10.30604,12.24634],[-9.714,12.0226],[-9.63938,12.18312],[-9.32097,12.29009],[-9.38067,12.48446],[-9.13689,12.50875],[-8.94784,12.34842],[-8.80854,11.66715],[-8.40058,11.37466],[-8.66923,10.99397],[-8.35083,11.06234],[-8.2667,10.91762],[-8.32614,10.69273],[-8.22711,10.41722],[-8.10207,10.44649],[-7.9578,10.2703],[-7.97971,10.17117],[-7.92107,10.15577],[-7.63048,10.46334],[-7.54462,10.40921],[-7.52261,10.4655],[-7.44555,10.44602],[-7.3707,10.24677],[-7.13331,10.24877],[-7.0603,10.14711],[-7.00966,10.15794],[-6.97444,10.21644],[-7.01186,10.25111],[-6.93921,10.35291],[-6.68164,10.35074],[-6.63541,10.66893],[-6.52974,10.59104],[-6.42847,10.5694],[-6.40646,10.69922],[-6.325,10.68624],[-6.24795,10.74248],[-6.1731,10.46983],[-6.18851,10.24244],[-5.99478,10.19694],[-5.78124,10.43952],[-5.65135,10.46767],[-5.51058,10.43177],[-5.46643,10.56074],[-5.47083,10.75329],[-5.41579,10.84628],[-5.49284,11.07538],[-5.32994,11.13371],[-5.32553,11.21578],[-5.25949,11.24816],[-5.25509,11.36905],[-5.20665,11.43811],[-5.22867,11.60421],[-5.29251,11.61715],[-5.26389,11.75728],[-5.40258,11.8327],[-5.26389,11.84778],[-5.07897,11.97918],[-4.72893,12.01579],[-4.70692,12.06746],[-4.62987,12.06531],[-4.62546,12.13204],[-4.54841,12.1385],[-4.57703,12.19875],[-4.41412,12.31922],[-4.47356,12.71252],[-4.238,12.71467],[-4.21819,12.95722],[-4.34477,13.12927],[-3.96501,13.49778],[-3.90558,13.44375],[-3.96282,13.38164],[-3.7911,13.36665],[-3.54454,13.1781],[-3.4313,13.1588],[-3.43507,13.27272],[-3.23599,13.29035],[-3.28396,13.5422],[-3.26407,13.70699],[-2.88189,13.64921],[-2.90831,13.81174],[-2.84667,14.05532],[-2.66175,14.14713],[-2.47587,14.29671],[-2.10223,14.14878],[-1.9992,14.19011],[-1.97945,14.47709],[-1.68083,14.50023],[-1.32166,14.72774],[-1.05875,14.7921],[-.72004,15.08655],[-.24673,15.07805],[.06588,14.96961],[.23859,15.00135],[.72632,14.95898],[.96711,14.98275],[1.31275,15.27978],[3.01806,15.34571],[3.03134,15.42221],[3.50368,15.35934],[4.19893,16.39923],[4.21787,17.00118],[4.26762,17.00432],[4.26651,19.14224],[3.36082,18.9745],[3.12501,19.1366],[3.24648,19.81703],[1.20992,20.73533],[1.15698,21.12843],[-4.83423,24.99935]]]]}},{type:"Feature",properties:{iso1A2:"MM",iso1A3:"MMR",iso1N3:"104",wikidata:"Q836",nameEn:"Myanmar",aliases:["Burma","BU"],groups:["035","142","UN"],callingCodes:["95"]},geometry:{type:"MultiPolygon",coordinates:[[[[92.62187,21.87037],[92.59775,21.6092],[92.68152,21.28454],[92.60187,21.24615],[92.55105,21.3856],[92.43158,21.37025],[92.37939,21.47764],[92.20087,21.337],[92.17752,21.17445],[92.26071,21.05697],[92.47409,20.38654],[92.61042,13.76986],[94.6371,13.81803],[97.63455,9.60854],[98.12555,9.44056],[98.33094,9.91973],[98.47298,9.95782],[98.52291,9.92389],[98.55174,9.92804],[98.7391,10.31488],[98.81944,10.52761],[98.77275,10.62548],[98.78511,10.68351],[98.86819,10.78336],[99.0069,10.85485],[98.99701,10.92962],[99.02337,10.97217],[99.06938,10.94857],[99.32756,11.28545],[99.31573,11.32081],[99.39485,11.3925],[99.47598,11.62434],[99.5672,11.62732],[99.64108,11.78948],[99.64891,11.82699],[99.53424,12.02317],[99.56445,12.14805],[99.47519,12.1353],[99.409,12.60603],[99.29254,12.68921],[99.18905,12.84799],[99.18748,12.9898],[99.10646,13.05804],[99.12225,13.19847],[99.20617,13.20575],[99.16695,13.72621],[98.97356,14.04868],[98.56762,14.37701],[98.24874,14.83013],[98.18821,15.13125],[98.22,15.21327],[98.30446,15.30667],[98.40522,15.25268],[98.41906,15.27103],[98.39351,15.34177],[98.4866,15.39154],[98.56027,15.33471],[98.58598,15.46821],[98.541,15.65406],[98.59853,15.87197],[98.57019,16.04578],[98.69585,16.13353],[98.8376,16.11706],[98.92656,16.36425],[98.84485,16.42354],[98.68074,16.27068],[98.63817,16.47424],[98.57912,16.55983],[98.5695,16.62826],[98.51113,16.64503],[98.51833,16.676],[98.51472,16.68521],[98.51579,16.69433],[98.51043,16.70107],[98.49713,16.69022],[98.50253,16.7139],[98.46994,16.73613],[98.53833,16.81934],[98.49603,16.8446],[98.52624,16.89979],[98.39441,17.06266],[98.34566,17.04822],[98.10439,17.33847],[98.11185,17.36829],[97.91829,17.54504],[97.76407,17.71595],[97.66794,17.88005],[97.73723,17.97912],[97.60841,18.23846],[97.64116,18.29778],[97.56219,18.33885],[97.50383,18.26844],[97.34522,18.54596],[97.36444,18.57138],[97.5258,18.4939],[97.76752,18.58097],[97.73836,18.88478],[97.66487,18.9371],[97.73654,18.9812],[97.73797,19.04261],[97.83479,19.09972],[97.84024,19.22217],[97.78606,19.26769],[97.84186,19.29526],[97.78769,19.39429],[97.88423,19.5041],[97.84715,19.55782],[98.04364,19.65755],[98.03314,19.80941],[98.13829,19.78541],[98.24884,19.67876],[98.51182,19.71303],[98.56065,19.67807],[98.83661,19.80931],[98.98679,19.7419],[99.0735,20.10298],[99.20328,20.12877],[99.416,20.08614],[99.52943,20.14811],[99.5569,20.20676],[99.46077,20.36198],[99.46008,20.39673],[99.68255,20.32077],[99.81096,20.33687],[99.86383,20.44371],[99.88211,20.44488],[99.88451,20.44596],[99.89168,20.44548],[99.89301,20.44311],[99.89692,20.44789],[99.90499,20.4487],[99.91616,20.44986],[99.95721,20.46301],[100.08404,20.36626],[100.1957,20.68247],[100.36375,20.82783],[100.51079,20.82194],[100.60112,20.8347],[100.64628,20.88279],[100.50974,20.88574],[100.55281,21.02796],[100.63578,21.05639],[100.72716,21.31786],[100.80173,21.2934],[101.00234,21.39612],[101.16198,21.52808],[101.15156,21.56129],[101.11744,21.77659],[100.87265,21.67396],[100.72143,21.51898],[100.57861,21.45637],[100.4811,21.46148],[100.42892,21.54325],[100.35201,21.53176],[100.25863,21.47043],[100.18447,21.51898],[100.1625,21.48704],[100.12542,21.50365],[100.10757,21.59945],[100.17486,21.65306],[100.12679,21.70539],[100.04956,21.66843],[99.98654,21.71064],[99.94003,21.82782],[99.99084,21.97053],[99.96612,22.05965],[99.85351,22.04183],[99.47585,22.13345],[99.33166,22.09656],[99.1552,22.15874],[99.19176,22.16983],[99.17318,22.18025],[99.28771,22.4105],[99.37972,22.50188],[99.38247,22.57544],[99.31243,22.73893],[99.45654,22.85726],[99.43537,22.94086],[99.54218,22.90014],[99.52214,23.08218],[99.34127,23.13099],[99.25741,23.09025],[99.04601,23.12215],[99.05975,23.16382],[98.88597,23.18656],[98.92515,23.29535],[98.93958,23.31414],[98.87573,23.33038],[98.92104,23.36946],[98.87683,23.48995],[98.82877,23.47908],[98.80294,23.5345],[98.88396,23.59555],[98.81775,23.694],[98.82933,23.72921],[98.79607,23.77947],[98.68209,23.80492],[98.67797,23.9644],[98.89632,24.10612],[98.87998,24.15624],[98.85319,24.13042],[98.59256,24.08371],[98.54476,24.13119],[98.20666,24.11406],[98.07806,24.07988],[98.06703,24.08028],[98.0607,24.07812],[98.05671,24.07961],[98.05302,24.07408],[98.04709,24.07616],[97.99583,24.04932],[97.98691,24.03897],[97.93951,24.01953],[97.90998,24.02094],[97.88616,24.00463],[97.88414,23.99405],[97.88814,23.98605],[97.89683,23.98389],[97.89676,23.97931],[97.8955,23.97758],[97.88811,23.97446],[97.86545,23.97723],[97.84328,23.97603],[97.79416,23.95663],[97.79456,23.94836],[97.72302,23.89288],[97.64667,23.84574],[97.5247,23.94032],[97.62363,24.00506],[97.72903,24.12606],[97.75305,24.16902],[97.72799,24.18883],[97.72998,24.2302],[97.76799,24.26365],[97.71941,24.29652],[97.66723,24.30027],[97.65624,24.33781],[97.7098,24.35658],[97.66998,24.45288],[97.60029,24.4401],[97.52757,24.43748],[97.56286,24.54535],[97.56525,24.72838],[97.54675,24.74202],[97.5542,24.74943],[97.56383,24.75535],[97.56648,24.76475],[97.64354,24.79171],[97.70181,24.84557],[97.73127,24.83015],[97.76481,24.8289],[97.79949,24.85655],[97.72903,24.91332],[97.72216,25.08508],[97.77023,25.11492],[97.83614,25.2715],[97.92541,25.20815],[98.14925,25.41547],[98.12591,25.50722],[98.18084,25.56298],[98.16848,25.62739],[98.25774,25.6051],[98.31268,25.55307],[98.40606,25.61129],[98.54064,25.85129],[98.63128,25.79937],[98.70818,25.86241],[98.60763,26.01512],[98.57085,26.11547],[98.63128,26.15492],[98.66884,26.09165],[98.7329,26.17218],[98.67797,26.24487],[98.72741,26.36183],[98.77547,26.61994],[98.7333,26.85615],[98.69582,27.56499],[98.43353,27.67086],[98.42529,27.55404],[98.32641,27.51385],[98.13964,27.9478],[98.15337,28.12114],[97.90069,28.3776],[97.79632,28.33168],[97.70705,28.5056],[97.56835,28.55628],[97.50518,28.49716],[97.47085,28.2688],[97.41729,28.29783],[97.34547,28.21385],[97.31292,28.06784],[97.35412,28.06663],[97.38845,28.01329],[97.35824,27.87256],[97.29919,27.92233],[96.90112,27.62149],[96.91431,27.45752],[97.17422,27.14052],[97.14675,27.09041],[96.89132,27.17474],[96.85287,27.2065],[96.88445,27.25046],[96.73888,27.36638],[96.55761,27.29928],[96.40779,27.29818],[96.15591,27.24572],[96.04949,27.19428],[95.93002,27.04149],[95.81603,27.01335],[95.437,26.7083],[95.30339,26.65372],[95.23513,26.68499],[95.05798,26.45408],[95.12801,26.38397],[95.11428,26.1019],[95.18556,26.07338],[94.80117,25.49359],[94.68032,25.47003],[94.57458,25.20318],[94.74212,25.13606],[94.73937,25.00545],[94.60204,24.70889],[94.5526,24.70764],[94.50729,24.59281],[94.45279,24.56656],[94.32362,24.27692],[94.30215,24.23752],[94.14081,23.83333],[93.92089,23.95812],[93.80279,23.92549],[93.75952,24.0003],[93.62871,24.00922],[93.50616,23.94432],[93.46633,23.97067],[93.41415,24.07854],[93.34735,24.10151],[93.32351,24.04468],[93.36059,23.93176],[93.3908,23.92925],[93.3908,23.7622],[93.43475,23.68299],[93.38805,23.4728],[93.39981,23.38828],[93.38781,23.36139],[93.36862,23.35426],[93.38478,23.13698],[93.2878,23.00464],[93.12988,23.05772],[93.134,22.92498],[93.09417,22.69459],[93.134,22.59573],[93.11477,22.54374],[93.13537,22.45873],[93.18206,22.43716],[93.19991,22.25425],[93.14224,22.24535],[93.15734,22.18687],[93.04885,22.20595],[92.99255,22.05965],[92.99804,21.98964],[92.93899,22.02656],[92.89504,21.95143],[92.86208,22.05456],[92.70416,22.16017],[92.67532,22.03547],[92.60949,21.97638],[92.62187,21.87037]]]]}},{type:"Feature",properties:{iso1A2:"MN",iso1A3:"MNG",iso1N3:"496",wikidata:"Q711",nameEn:"Mongolia",groups:["030","142","UN"],callingCodes:["976"]},geometry:{type:"MultiPolygon",coordinates:[[[[102.14032,51.35566],[101.5044,51.50467],[101.39085,51.45753],[100.61116,51.73028],[99.89203,51.74903],[99.75578,51.90108],[99.27888,51.96876],[98.87768,52.14563],[98.74142,51.8637],[98.33222,51.71832],[98.22053,51.46579],[98.05257,51.46696],[97.83305,51.00248],[98.01472,50.86652],[97.9693,50.78044],[98.06393,50.61262],[98.31373,50.4996],[98.29481,50.33561],[97.85197,49.91339],[97.76871,49.99861],[97.56432,49.92801],[97.56811,49.84265],[97.24639,49.74737],[96.97388,49.88413],[95.80056,50.04239],[95.74757,49.97915],[95.02465,49.96941],[94.97166,50.04725],[94.6121,50.04239],[94.49477,50.17832],[94.39258,50.22193],[94.30823,50.57498],[92.99595,50.63183],[93.01109,50.79001],[92.44714,50.78762],[92.07173,50.69585],[91.86048,50.73734],[89.59711,49.90851],[89.70687,49.72535],[88.82499,49.44808],[88.42449,49.48821],[88.17223,49.46934],[88.15543,49.30314],[87.98977,49.18147],[87.81333,49.17354],[87.88171,48.95853],[87.73822,48.89582],[88.0788,48.71436],[87.96361,48.58478],[88.58939,48.34531],[88.58316,48.21893],[88.8011,48.11302],[88.93186,48.10263],[89.0711,47.98528],[89.55453,48.0423],[89.76624,47.82745],[90.06512,47.88177],[90.10871,47.7375],[90.33598,47.68303],[90.48854,47.41826],[90.48542,47.30438],[90.76108,46.99399],[90.84035,46.99525],[91.03649,46.72916],[91.0147,46.58171],[91.07696,46.57315],[90.89639,46.30711],[90.99672,46.14207],[91.03026,46.04194],[90.70907,45.73437],[90.65114,45.49314],[90.89169,45.19667],[91.64048,45.07408],[93.51161,44.95964],[94.10003,44.71016],[94.71959,44.35284],[95.01191,44.25274],[95.39772,44.2805],[95.32891,44.02407],[95.52594,43.99353],[95.89543,43.2528],[96.35658,42.90363],[96.37926,42.72055],[97.1777,42.7964],[99.50671,42.56535],[100.33297,42.68231],[100.84979,42.67087],[101.80515,42.50074],[102.07645,42.22519],[102.72403,42.14675],[103.92804,41.78246],[104.52258,41.8706],[104.51667,41.66113],[105.0123,41.63188],[106.76517,42.28741],[107.24774,42.36107],[107.29755,42.41395],[107.49681,42.46221],[107.57258,42.40898],[108.84489,42.40246],[109.00679,42.45302],[109.452,42.44842],[109.89402,42.63111],[110.08401,42.6411],[110.4327,42.78293],[111.0149,43.3289],[111.59087,43.51207],[111.79758,43.6637],[111.93776,43.68709],[111.96289,43.81596],[111.40498,44.3461],[111.76275,44.98032],[111.98695,45.09074],[112.4164,45.06858],[112.74662,44.86297],[113.70918,44.72891],[114.5166,45.27189],[114.54801,45.38337],[114.74612,45.43585],[114.94546,45.37377],[115.60329,45.44717],[116.16989,45.68603],[116.27366,45.78637],[116.24012,45.8778],[116.26678,45.96479],[116.58612,46.30211],[116.75551,46.33083],[116.83166,46.38637],[117.36609,46.36335],[117.41782,46.57862],[117.60748,46.59771],[117.69554,46.50991],[118.30534,46.73519],[118.78747,46.68689],[118.8337,46.77742],[118.89974,46.77139],[118.92616,46.72765],[119.00541,46.74273],[119.10448,46.65516],[119.24978,46.64761],[119.32827,46.61433],[119.42827,46.63783],[119.65265,46.62342],[119.68127,46.59015],[119.77373,46.62947],[119.80455,46.67631],[119.89261,46.66423],[119.91242,46.90091],[119.85518,46.92196],[119.71209,47.19192],[119.62403,47.24575],[119.56019,47.24874],[119.54918,47.29505],[119.31964,47.42617],[119.35892,47.48104],[119.13995,47.53997],[119.12343,47.66458],[118.7564,47.76947],[118.55766,47.99277],[118.29654,48.00246],[118.22677,48.03853],[118.11009,48.04],[118.03676,48.00982],[117.80196,48.01661],[117.50181,47.77216],[117.37875,47.63627],[116.9723,47.87285],[116.67405,47.89039],[116.4465,47.83662],[116.21879,47.88505],[115.94296,47.67741],[115.57128,47.91988],[115.52082,48.15367],[115.811,48.25699],[115.78876,48.51781],[116.06565,48.81716],[116.03781,48.87014],[116.71193,49.83813],[116.62502,49.92919],[116.22402,50.04477],[115.73602,49.87688],[115.26068,49.97367],[114.9703,50.19254],[114.325,50.28098],[113.20216,49.83356],[113.02647,49.60772],[110.64493,49.1816],[110.39891,49.25083],[110.24373,49.16676],[109.51325,49.22859],[109.18017,49.34709],[108.53969,49.32325],[108.27937,49.53167],[107.95387,49.66659],[107.96116,49.93191],[107.36407,49.97612],[107.1174,50.04239],[107.00007,50.1977],[106.80326,50.30177],[106.58373,50.34044],[106.51122,50.34408],[106.49628,50.32436],[106.47156,50.31909],[106.07865,50.33474],[106.05562,50.40582],[105.32528,50.4648],[103.70343,50.13952],[102.71178,50.38873],[102.32194,50.67982],[102.14032,51.35566]]]]}},{type:"Feature",properties:{iso1A2:"MO",iso1A3:"MAC",iso1N3:"446",wikidata:"Q14773",nameEn:"Macau",aliases:["Macao"],country:"CN",groups:["030","142","UN"],driveSide:"left",callingCodes:["853"]},geometry:{type:"MultiPolygon",coordinates:[[[[113.54942,22.14519],[113.54839,22.10909],[113.57191,22.07696],[113.63011,22.10782],[113.60504,22.20464],[113.57123,22.20416],[113.56865,22.20973],[113.5508,22.21672],[113.54333,22.21688],[113.54093,22.21314],[113.53593,22.2137],[113.53301,22.21235],[113.53552,22.20607],[113.52659,22.18271],[113.54093,22.15497],[113.54942,22.14519]]]]}},{type:"Feature",properties:{iso1A2:"MP",iso1A3:"MNP",iso1N3:"580",wikidata:"Q16644",nameEn:"Northern Mariana Islands",aliases:["US-MP"],country:"US",groups:["Q1352230","Q153732","057","009","UN"],roadSpeedUnit:"mph",callingCodes:["1 670"]},geometry:{type:"MultiPolygon",coordinates:[[[[135.52896,14.32623],[152.19114,13.63487],[145.05972,21.28731],[135.52896,14.32623]]]]}},{type:"Feature",properties:{iso1A2:"MQ",iso1A3:"MTQ",iso1N3:"474",wikidata:"Q17054",nameEn:"Martinique",country:"FR",groups:["Q3320166","EU","029","003","419","019","UN"],callingCodes:["596"]},geometry:{type:"MultiPolygon",coordinates:[[[[-59.95997,14.20285],[-61.07821,15.25109],[-61.69315,14.26451],[-59.95997,14.20285]]]]}},{type:"Feature",properties:{iso1A2:"MR",iso1A3:"MRT",iso1N3:"478",wikidata:"Q1025",nameEn:"Mauritania",groups:["011","202","002","UN"],callingCodes:["222"]},geometry:{type:"MultiPolygon",coordinates:[[[[-5.60725,16.49919],[-6.57191,25.0002],[-4.83423,24.99935],[-8.66674,27.31569],[-8.66721,25.99918],[-12.0002,25.9986],[-12.00251,23.4538],[-12.14969,23.41935],[-12.36213,23.3187],[-12.5741,23.28975],[-13.00412,23.02297],[-13.10753,22.89493],[-13.15313,22.75649],[-13.08438,22.53866],[-13.01525,21.33343],[-16.95474,21.33997],[-16.99806,21.12142],[-17.0357,21.05368],[-17.0396,20.9961],[-17.06781,20.92697],[-17.0695,20.85742],[-17.0471,20.76408],[-17.15288,16.07139],[-16.50854,16.09032],[-16.48967,16.0496],[-16.44814,16.09753],[-16.4429,16.20605],[-16.27016,16.51565],[-15.6509,16.50315],[-15.00557,16.64997],[-14.32144,16.61495],[-13.80075,16.13961],[-13.43135,16.09022],[-13.11029,15.52116],[-12.23936,14.76324],[-11.94903,14.76143],[-11.70705,15.51558],[-11.43483,15.62339],[-10.90932,15.11001],[-10.71721,15.4223],[-9.40447,15.4396],[-9.44673,15.60553],[-9.33314,15.7044],[-9.31106,15.69412],[-9.32979,15.50032],[-5.50165,15.50061],[-5.33435,16.33354],[-5.60725,16.49919]]]]}},{type:"Feature",properties:{iso1A2:"MS",iso1A3:"MSR",iso1N3:"500",wikidata:"Q13353",nameEn:"Montserrat",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 664"]},geometry:{type:"MultiPolygon",coordinates:[[[[-61.91508,16.51165],[-62.1023,16.97277],[-62.58307,16.68909],[-61.91508,16.51165]]]]}},{type:"Feature",properties:{iso1A2:"MT",iso1A3:"MLT",iso1N3:"470",wikidata:"Q233",nameEn:"Malta",groups:["EU","039","150","UN"],driveSide:"left",callingCodes:["356"]},geometry:{type:"MultiPolygon",coordinates:[[[[15.70991,35.79901],[14.07544,36.41525],[13.27636,35.20764],[15.70991,35.79901]]]]}},{type:"Feature",properties:{iso1A2:"MU",iso1A3:"MUS",iso1N3:"480",wikidata:"Q1027",nameEn:"Mauritius",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["230"]},geometry:{type:"MultiPolygon",coordinates:[[[[56.09755,-9.55401],[57.50644,-31.92637],[68.4673,-19.15185],[56.09755,-9.55401]]]]}},{type:"Feature",properties:{iso1A2:"MV",iso1A3:"MDV",iso1N3:"462",wikidata:"Q826",nameEn:"Maldives",groups:["034","142","UN"],driveSide:"left",callingCodes:["960"]},geometry:{type:"MultiPolygon",coordinates:[[[[71.9161,8.55531],[72.57428,-3.7623],[76.59015,5.591],[71.9161,8.55531]]]]}},{type:"Feature",properties:{iso1A2:"MW",iso1A3:"MWI",iso1N3:"454",wikidata:"Q1020",nameEn:"Malawi",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["265"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.48052,-9.62442],[33.31581,-9.48554],[33.14925,-9.49322],[32.99397,-9.36712],[32.95389,-9.40138],[33.00476,-9.5133],[33.00256,-9.63053],[33.05485,-9.61316],[33.10163,-9.66525],[33.12144,-9.58929],[33.2095,-9.61099],[33.31517,-9.82364],[33.36581,-9.81063],[33.37902,-9.9104],[33.31297,-10.05133],[33.53863,-10.20148],[33.54797,-10.36077],[33.70675,-10.56896],[33.47636,-10.78465],[33.28022,-10.84428],[33.25998,-10.88862],[33.39697,-11.15296],[33.29267,-11.3789],[33.29267,-11.43536],[33.23663,-11.40637],[33.24252,-11.59302],[33.32692,-11.59248],[33.33937,-11.91252],[33.25998,-12.14242],[33.3705,-12.34931],[33.47636,-12.32498],[33.54485,-12.35996],[33.37517,-12.54085],[33.28177,-12.54692],[33.18837,-12.61377],[33.05917,-12.59554],[32.94397,-12.76868],[32.96733,-12.88251],[33.02181,-12.88707],[32.98289,-13.12671],[33.0078,-13.19492],[32.86113,-13.47292],[32.84176,-13.52794],[32.73683,-13.57682],[32.68436,-13.55769],[32.66468,-13.60019],[32.68654,-13.64268],[32.7828,-13.64805],[32.84528,-13.71576],[32.76962,-13.77224],[32.79015,-13.80755],[32.88985,-13.82956],[32.99042,-13.95689],[33.02977,-14.05022],[33.07568,-13.98447],[33.16749,-13.93992],[33.24249,-14.00019],[33.66677,-14.61306],[33.7247,-14.4989],[33.88503,-14.51652],[33.92898,-14.47929],[34.08588,-14.48893],[34.18733,-14.43823],[34.22355,-14.43607],[34.34453,-14.3985],[34.35843,-14.38652],[34.39277,-14.39467],[34.4192,-14.43191],[34.44641,-14.47746],[34.45053,-14.49873],[34.47628,-14.53363],[34.48932,-14.53646],[34.49636,-14.55091],[34.52366,-14.5667],[34.53962,-14.59776],[34.55112,-14.64494],[34.53516,-14.67782],[34.52057,-14.68263],[34.54503,-14.74672],[34.567,-14.77345],[34.61522,-14.99583],[34.57503,-15.30619],[34.43126,-15.44778],[34.44981,-15.60864],[34.25195,-15.90321],[34.43126,-16.04737],[34.40344,-16.20923],[35.04805,-16.83167],[35.13771,-16.81687],[35.17017,-16.93521],[35.04805,-17.00027],[35.0923,-17.13235],[35.3062,-17.1244],[35.27065,-16.93817],[35.30929,-16.82871],[35.27219,-16.69402],[35.14235,-16.56812],[35.25828,-16.4792],[35.30157,-16.2211],[35.43355,-16.11371],[35.52365,-16.15414],[35.70107,-16.10147],[35.80487,-16.03907],[35.85303,-15.41913],[35.78799,-15.17428],[35.91812,-14.89514],[35.87212,-14.89478],[35.86945,-14.67481],[35.5299,-14.27714],[35.47989,-14.15594],[34.86229,-13.48958],[34.60253,-13.48487],[34.37831,-12.17408],[34.46088,-12.0174],[34.70739,-12.15652],[34.82903,-12.04837],[34.57917,-11.87849],[34.64241,-11.57499],[34.96296,-11.57354],[34.91153,-11.39799],[34.79375,-11.32245],[34.63305,-11.11731],[34.61161,-11.01611],[34.67047,-10.93796],[34.65946,-10.6828],[34.57581,-10.56271],[34.51911,-10.12279],[34.54499,-10.0678],[34.03865,-9.49398],[33.95829,-9.54066],[33.9638,-9.62206],[33.93298,-9.71647],[33.76677,-9.58516],[33.48052,-9.62442]]]]}},{type:"Feature",properties:{iso1A2:"MX",iso1A3:"MEX",iso1N3:"484",wikidata:"Q96",nameEn:"Mexico",groups:["013","003","419","019","UN"],callingCodes:["52"]},geometry:{type:"MultiPolygon",coordinates:[[[[-117.1243,32.53427],[-118.48109,32.5991],[-120.12904,18.41089],[-92.37213,14.39277],[-92.2261,14.53423],[-92.1454,14.6804],[-92.18161,14.84147],[-92.1423,14.88647],[-92.1454,14.98143],[-92.0621,15.07406],[-92.20983,15.26077],[-91.73182,16.07371],[-90.44567,16.07573],[-90.40499,16.40524],[-90.61212,16.49832],[-90.69064,16.70697],[-91.04436,16.92175],[-91.43809,17.25373],[-90.99199,17.25192],[-90.98678,17.81655],[-89.14985,17.81563],[-89.15105,17.95104],[-89.03839,18.0067],[-88.8716,17.89535],[-88.71505,18.0707],[-88.48242,18.49164],[-88.3268,18.49048],[-88.29909,18.47591],[-88.26593,18.47617],[-88.03238,18.41778],[-88.03165,18.16657],[-87.90671,18.15213],[-87.87604,18.18313],[-87.86657,18.19971],[-87.85693,18.18266],[-87.84815,18.18511],[-86.92368,17.61462],[-85.9092,21.8218],[-96.92418,25.97377],[-97.13927,25.96583],[-97.35946,25.92189],[-97.37332,25.83854],[-97.42511,25.83969],[-97.45669,25.86874],[-97.49828,25.89877],[-97.52025,25.88518],[-97.66511,26.01708],[-97.95155,26.0625],[-97.97017,26.05232],[-98.24603,26.07191],[-98.27075,26.09457],[-98.30491,26.10475],[-98.35126,26.15129],[-99.00546,26.3925],[-99.03053,26.41249],[-99.08477,26.39849],[-99.53573,27.30926],[-99.49744,27.43746],[-99.482,27.47128],[-99.48045,27.49016],[-99.50208,27.50021],[-99.52955,27.49747],[-99.51478,27.55836],[-99.55409,27.61314],[-100.50029,28.66117],[-100.51222,28.70679],[-100.5075,28.74066],[-100.52313,28.75598],[-100.59809,28.88197],[-100.63689,28.90812],[-100.67294,29.09744],[-100.79696,29.24688],[-100.87982,29.296],[-100.94056,29.33371],[-100.94579,29.34523],[-100.96725,29.3477],[-101.01128,29.36947],[-101.05686,29.44738],[-101.47277,29.7744],[-102.60596,29.8192],[-103.15787,28.93865],[-104.37752,29.54255],[-104.39363,29.55396],[-104.3969,29.57105],[-104.5171,29.64671],[-104.77674,30.4236],[-106.00363,31.39181],[-106.09025,31.40569],[-106.20346,31.46305],[-106.23711,31.51262],[-106.24612,31.54193],[-106.28084,31.56173],[-106.30305,31.62154],[-106.33419,31.66303],[-106.34864,31.69663],[-106.3718,31.71165],[-106.38003,31.73151],[-106.41773,31.75196],[-106.43419,31.75478],[-106.45244,31.76523],[-106.46726,31.75998],[-106.47298,31.75054],[-106.48815,31.74769],[-106.50111,31.75714],[-106.50962,31.76155],[-106.51251,31.76922],[-106.52266,31.77509],[-106.529,31.784],[-108.20899,31.78534],[-108.20979,31.33316],[-111.07523,31.33232],[-114.82011,32.49609],[-114.79524,32.55731],[-114.81141,32.55543],[-114.80584,32.62028],[-114.76736,32.64094],[-114.71871,32.71894],[-115.88053,32.63624],[-117.1243,32.53427]]]]}},{type:"Feature",properties:{iso1A2:"MY",iso1A3:"MYS",iso1N3:"458",wikidata:"Q833",nameEn:"Malaysia"},geometry:null},{type:"Feature",properties:{iso1A2:"MZ",iso1A3:"MOZ",iso1N3:"508",wikidata:"Q1029",nameEn:"Mozambique",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["258"]},geometry:{type:"MultiPolygon",coordinates:[[[[40.74206,-10.25691],[40.44265,-10.4618],[40.00295,-10.80255],[39.58249,-10.96043],[39.24395,-11.17433],[38.88996,-11.16978],[38.47258,-11.4199],[38.21598,-11.27289],[37.93618,-11.26228],[37.8388,-11.3123],[37.76614,-11.53352],[37.3936,-11.68949],[36.80309,-11.56836],[36.62068,-11.72884],[36.19094,-11.70008],[36.19094,-11.57593],[35.82767,-11.41081],[35.63599,-11.55927],[34.96296,-11.57354],[34.64241,-11.57499],[34.57917,-11.87849],[34.82903,-12.04837],[34.70739,-12.15652],[34.46088,-12.0174],[34.37831,-12.17408],[34.60253,-13.48487],[34.86229,-13.48958],[35.47989,-14.15594],[35.5299,-14.27714],[35.86945,-14.67481],[35.87212,-14.89478],[35.91812,-14.89514],[35.78799,-15.17428],[35.85303,-15.41913],[35.80487,-16.03907],[35.70107,-16.10147],[35.52365,-16.15414],[35.43355,-16.11371],[35.30157,-16.2211],[35.25828,-16.4792],[35.14235,-16.56812],[35.27219,-16.69402],[35.30929,-16.82871],[35.27065,-16.93817],[35.3062,-17.1244],[35.0923,-17.13235],[35.04805,-17.00027],[35.17017,-16.93521],[35.13771,-16.81687],[35.04805,-16.83167],[34.40344,-16.20923],[34.43126,-16.04737],[34.25195,-15.90321],[34.44981,-15.60864],[34.43126,-15.44778],[34.57503,-15.30619],[34.61522,-14.99583],[34.567,-14.77345],[34.54503,-14.74672],[34.52057,-14.68263],[34.53516,-14.67782],[34.55112,-14.64494],[34.53962,-14.59776],[34.52366,-14.5667],[34.49636,-14.55091],[34.48932,-14.53646],[34.47628,-14.53363],[34.45053,-14.49873],[34.44641,-14.47746],[34.4192,-14.43191],[34.39277,-14.39467],[34.35843,-14.38652],[34.34453,-14.3985],[34.22355,-14.43607],[34.18733,-14.43823],[34.08588,-14.48893],[33.92898,-14.47929],[33.88503,-14.51652],[33.7247,-14.4989],[33.66677,-14.61306],[33.24249,-14.00019],[30.22098,-14.99447],[30.41902,-15.62269],[30.42568,-15.9962],[30.91597,-15.99924],[30.97761,-16.05848],[31.13171,-15.98019],[31.30563,-16.01193],[31.42451,-16.15154],[31.67988,-16.19595],[31.90223,-16.34388],[31.91324,-16.41569],[32.02772,-16.43892],[32.28529,-16.43892],[32.42838,-16.4727],[32.71017,-16.59932],[32.69917,-16.66893],[32.78943,-16.70267],[32.97655,-16.70689],[32.91051,-16.89446],[32.84113,-16.92259],[32.96554,-17.11971],[33.00517,-17.30477],[33.0426,-17.3468],[32.96554,-17.48964],[32.98536,-17.55891],[33.0492,-17.60298],[32.94133,-17.99705],[33.03159,-18.35054],[33.02278,-18.4696],[32.88629,-18.51344],[32.88629,-18.58023],[32.95013,-18.69079],[32.9017,-18.7992],[32.82465,-18.77419],[32.70137,-18.84712],[32.73439,-18.92628],[32.69917,-18.94293],[32.72118,-19.02204],[32.84006,-19.0262],[32.87088,-19.09279],[32.85107,-19.29238],[32.77966,-19.36098],[32.78282,-19.47513],[32.84446,-19.48343],[32.84666,-19.68462],[32.95013,-19.67219],[33.06461,-19.77787],[33.01178,-20.02007],[32.93032,-20.03868],[32.85987,-20.16686],[32.85987,-20.27841],[32.66174,-20.56106],[32.55167,-20.56312],[32.48122,-20.63319],[32.51644,-20.91929],[32.37115,-21.133],[32.48236,-21.32873],[32.41234,-21.31246],[31.38336,-22.36919],[31.30611,-22.422],[31.55779,-23.176],[31.56539,-23.47268],[31.67942,-23.60858],[31.70223,-23.72695],[31.77445,-23.90082],[31.87707,-23.95293],[31.90368,-24.18892],[31.9835,-24.29983],[32.03196,-25.10785],[32.01676,-25.38117],[31.97875,-25.46356],[32.00631,-25.65044],[31.92649,-25.84216],[31.974,-25.95387],[32.00916,-25.999],[32.08599,-26.00978],[32.10435,-26.15656],[32.07352,-26.40185],[32.13409,-26.5317],[32.13315,-26.84345],[32.19409,-26.84032],[32.22302,-26.84136],[32.29584,-26.852],[32.35222,-26.86027],[34.51034,-26.91792],[42.99868,-12.65261],[40.74206,-10.25691]]]]}},{type:"Feature",properties:{iso1A2:"NA",iso1A3:"NAM",iso1N3:"516",wikidata:"Q1030",nameEn:"Namibia",groups:["018","202","002","UN"],driveSide:"left",callingCodes:["264"]},geometry:{type:"MultiPolygon",coordinates:[[[[14.28743,-17.38814],[13.95896,-17.43141],[13.36212,-16.98048],[12.97145,-16.98567],[12.52111,-17.24495],[12.07076,-17.15165],[11.75063,-17.25013],[10.5065,-17.25284],[12.51595,-32.27486],[16.45332,-28.63117],[16.46592,-28.57126],[16.59922,-28.53246],[16.90446,-28.057],[17.15405,-28.08573],[17.4579,-28.68718],[18.99885,-28.89165],[19.99882,-28.42622],[19.99817,-24.76768],[19.99912,-21.99991],[20.99751,-22.00026],[20.99904,-18.31743],[21.45556,-18.31795],[23.0996,-18.00075],[23.29618,-17.99855],[23.61088,-18.4881],[24.19416,-18.01919],[24.40577,-17.95726],[24.57485,-18.07151],[24.6303,-17.9863],[24.71887,-17.9218],[24.73364,-17.89338],[24.95586,-17.79674],[25.05895,-17.84452],[25.16882,-17.78253],[25.26433,-17.79571],[25.00198,-17.58221],[24.70864,-17.49501],[24.5621,-17.52963],[24.38712,-17.46818],[24.32811,-17.49082],[24.23619,-17.47489],[23.47474,-17.62877],[21.42741,-18.02787],[21.14283,-17.94318],[18.84226,-17.80375],[18.39229,-17.38927],[14.28743,-17.38814]]]]}},{type:"Feature",properties:{iso1A2:"NC",iso1A3:"NCL",iso1N3:"540",wikidata:"Q33788",nameEn:"New Caledonia",country:"FR",groups:["Q1451600","054","009","UN"],callingCodes:["687"]},geometry:{type:"MultiPolygon",coordinates:[[[[159.77159,-28.41151],[174.245,-23.1974],[156.73836,-14.50464],[159.77159,-28.41151]]]]}},{type:"Feature",properties:{iso1A2:"NE",iso1A3:"NER",iso1N3:"562",wikidata:"Q1032",nameEn:"Niger",aliases:["RN"],groups:["011","202","002","UN"],callingCodes:["227"]},geometry:{type:"MultiPolygon",coordinates:[[[[14.22918,22.61719],[13.5631,23.16574],[11.96886,23.51735],[7.48273,20.87258],[7.38361,20.79165],[5.8153,19.45101],[4.26651,19.14224],[4.26762,17.00432],[4.21787,17.00118],[4.19893,16.39923],[3.50368,15.35934],[3.03134,15.42221],[3.01806,15.34571],[1.31275,15.27978],[.96711,14.98275],[.72632,14.95898],[.23859,15.00135],[.16936,14.51654],[.38051,14.05575],[.61924,13.68491],[.77377,13.6866],[.77637,13.64442],[.99514,13.5668],[1.02813,13.46635],[1.20088,13.38951],[1.24429,13.39373],[1.28509,13.35488],[1.24516,13.33968],[1.21217,13.37853],[1.18873,13.31771],[.99253,13.37515],[.99167,13.10727],[2.26349,12.41915],[2.05785,12.35539],[2.39723,11.89473],[2.45824,11.98672],[2.39657,12.10952],[2.37783,12.24804],[2.6593,12.30631],[2.83978,12.40585],[3.25352,12.01467],[3.31613,11.88495],[3.48187,11.86092],[3.59375,11.70269],[3.61075,11.69181],[3.67988,11.75429],[3.67122,11.80865],[3.63063,11.83042],[3.61955,11.91847],[3.67775,11.97599],[3.63136,12.11826],[3.66364,12.25884],[3.65111,12.52223],[3.94339,12.74979],[4.10006,12.98862],[4.14367,13.17189],[4.14186,13.47586],[4.23456,13.47725],[4.4668,13.68286],[4.87425,13.78],[4.9368,13.7345],[5.07396,13.75052],[5.21026,13.73627],[5.27797,13.75474],[5.35437,13.83567],[5.52957,13.8845],[6.15771,13.64564],[6.27411,13.67835],[6.43053,13.6006],[6.69617,13.34057],[6.94445,12.99825],[7.0521,13.00076],[7.12676,13.02445],[7.22399,13.1293],[7.39241,13.09717],[7.81085,13.34902],[8.07997,13.30847],[8.25185,13.20369],[8.41853,13.06166],[8.49493,13.07519],[8.60431,13.01768],[8.64251,12.93985],[8.97413,12.83661],[9.65995,12.80614],[10.00373,13.18171],[10.19993,13.27129],[10.46731,13.28819],[10.66004,13.36422],[11.4535,13.37773],[11.88236,13.2527],[12.04209,13.14452],[12.16189,13.10056],[12.19315,13.12423],[12.47095,13.06673],[12.58033,13.27805],[12.6793,13.29157],[12.87376,13.48919],[13.05085,13.53984],[13.19844,13.52802],[13.33213,13.71195],[13.6302,13.71094],[13.47559,14.40881],[13.48259,14.46704],[13.68573,14.55276],[13.67878,14.64013],[13.809,14.72915],[13.78991,14.87519],[13.86301,15.04043],[14.37425,15.72591],[15.50373,16.89649],[15.6032,18.77402],[15.75098,19.93002],[15.99632,20.35364],[15.6721,20.70069],[15.59841,20.74039],[15.56004,20.79488],[15.55382,20.86507],[15.57248,20.92138],[15.62515,20.95395],[15.28332,21.44557],[15.20213,21.49365],[15.19692,21.99339],[14.99751,23.00539],[14.22918,22.61719]]]]}},{type:"Feature",properties:{iso1A2:"NF",iso1A3:"NFK",iso1N3:"574",wikidata:"Q31057",nameEn:"Norfolk Island",country:"AU",groups:["053","009","UN"],driveSide:"left",callingCodes:["672 3"]},geometry:{type:"MultiPolygon",coordinates:[[[[169.82316,-28.16667],[166.29505,-28.29175],[167.94076,-30.60745],[169.82316,-28.16667]]]]}},{type:"Feature",properties:{iso1A2:"NG",iso1A3:"NGA",iso1N3:"566",wikidata:"Q1033",nameEn:"Nigeria",groups:["011","202","002","UN"],callingCodes:["234"]},geometry:{type:"MultiPolygon",coordinates:[[[[6.15771,13.64564],[5.52957,13.8845],[5.35437,13.83567],[5.27797,13.75474],[5.21026,13.73627],[5.07396,13.75052],[4.9368,13.7345],[4.87425,13.78],[4.4668,13.68286],[4.23456,13.47725],[4.14186,13.47586],[4.14367,13.17189],[4.10006,12.98862],[3.94339,12.74979],[3.65111,12.52223],[3.66364,12.25884],[3.63136,12.11826],[3.67775,11.97599],[3.61955,11.91847],[3.63063,11.83042],[3.67122,11.80865],[3.67988,11.75429],[3.61075,11.69181],[3.59375,11.70269],[3.49175,11.29765],[3.71505,11.13015],[3.84243,10.59316],[3.78292,10.40538],[3.6844,10.46351],[3.57275,10.27185],[3.66908,10.18136],[3.54429,9.87739],[3.35383,9.83641],[3.32099,9.78032],[3.34726,9.70696],[3.25093,9.61632],[3.13928,9.47167],[3.14147,9.28375],[3.08017,9.10006],[2.77907,9.06924],[2.67523,7.87825],[2.73095,7.7755],[2.73405,7.5423],[2.78668,7.5116],[2.79442,7.43486],[2.74489,7.42565],[2.76965,7.13543],[2.71702,6.95722],[2.74024,6.92802],[2.73405,6.78508],[2.78823,6.76356],[2.78204,6.70514],[2.7325,6.64057],[2.74334,6.57291],[2.70464,6.50831],[2.70566,6.38038],[2.74181,6.13349],[5.87055,3.78489],[8.34397,4.30689],[8.60302,4.87353],[8.78027,5.1243],[8.92029,5.58403],[8.83687,5.68483],[8.88156,5.78857],[8.84209,5.82562],[9.51757,6.43874],[9.70674,6.51717],[9.77824,6.79088],[9.86314,6.77756],[10.15135,7.03781],[10.21466,6.88996],[10.53639,6.93432],[10.57214,7.16345],[10.59746,7.14719],[10.60789,7.06885],[10.83727,6.9358],[10.8179,6.83377],[10.94302,6.69325],[11.09644,6.68437],[11.09495,6.51717],[11.42041,6.53789],[11.42264,6.5882],[11.51499,6.60892],[11.57755,6.74059],[11.55818,6.86186],[11.63117,6.9905],[11.87396,7.09398],[11.84864,7.26098],[11.93205,7.47812],[12.01844,7.52981],[11.99908,7.67302],[12.20909,7.97553],[12.19271,8.10826],[12.24782,8.17904],[12.26123,8.43696],[12.4489,8.52536],[12.44146,8.6152],[12.68722,8.65938],[12.71701,8.7595],[12.79,8.75361],[12.81085,8.91992],[12.90022,9.11411],[12.91958,9.33905],[12.85628,9.36698],[13.02385,9.49334],[13.22642,9.57266],[13.25472,9.76795],[13.29941,9.8296],[13.25025,9.86042],[13.24132,9.91031],[13.27409,9.93232],[13.286,9.9822],[13.25323,10.00127],[13.25025,10.03647],[13.34111,10.12299],[13.43644,10.13326],[13.5705,10.53183],[13.54964,10.61236],[13.73434,10.9255],[13.70753,10.94451],[13.7403,11.00593],[13.78945,11.00154],[13.97489,11.30258],[14.17821,11.23831],[14.6124,11.51283],[14.64591,11.66166],[14.55207,11.72001],[14.61612,11.7798],[14.6474,12.17466],[14.4843,12.35223],[14.22215,12.36533],[14.17523,12.41916],[14.20204,12.53405],[14.08251,13.0797],[13.6302,13.71094],[13.33213,13.71195],[13.19844,13.52802],[13.05085,13.53984],[12.87376,13.48919],[12.6793,13.29157],[12.58033,13.27805],[12.47095,13.06673],[12.19315,13.12423],[12.16189,13.10056],[12.04209,13.14452],[11.88236,13.2527],[11.4535,13.37773],[10.66004,13.36422],[10.46731,13.28819],[10.19993,13.27129],[10.00373,13.18171],[9.65995,12.80614],[8.97413,12.83661],[8.64251,12.93985],[8.60431,13.01768],[8.49493,13.07519],[8.41853,13.06166],[8.25185,13.20369],[8.07997,13.30847],[7.81085,13.34902],[7.39241,13.09717],[7.22399,13.1293],[7.12676,13.02445],[7.0521,13.00076],[6.94445,12.99825],[6.69617,13.34057],[6.43053,13.6006],[6.27411,13.67835],[6.15771,13.64564]]]]}},{type:"Feature",properties:{iso1A2:"NI",iso1A3:"NIC",iso1N3:"558",wikidata:"Q811",nameEn:"Nicaragua",groups:["013","003","419","019","UN"],callingCodes:["505"]},geometry:{type:"MultiPolygon",coordinates:[[[[-83.13724,15.00002],[-83.49268,15.01158],[-83.62101,14.89448],[-83.89551,14.76697],[-84.10584,14.76353],[-84.48373,14.63249],[-84.70119,14.68078],[-84.82596,14.82212],[-84.90082,14.80489],[-85.1575,14.53934],[-85.18602,14.24929],[-85.32149,14.2562],[-85.45762,14.11304],[-85.73964,13.9698],[-85.75477,13.8499],[-86.03458,13.99181],[-86.00685,14.08474],[-86.14801,14.04317],[-86.35219,13.77157],[-86.76812,13.79605],[-86.71267,13.30348],[-86.87066,13.30641],[-86.93383,13.18677],[-86.93197,13.05313],[-87.03785,12.98682],[-87.06306,13.00892],[-87.37107,12.98646],[-87.55124,13.12523],[-87.7346,13.13228],[-88.11443,12.63306],[-86.14524,11.09059],[-85.71223,11.06868],[-85.60529,11.22607],[-84.92439,10.9497],[-84.68197,11.07568],[-83.90838,10.71161],[-83.66597,10.79916],[-83.68276,11.01562],[-82.56142,11.91792],[-82.06974,14.49418],[-83.04763,15.03256],[-83.13724,15.00002]]]]}},{type:"Feature",properties:{iso1A2:"NL",iso1A3:"NLD",iso1N3:"528",wikidata:"Q29999",nameEn:"Kingdom of the Netherlands"},geometry:null},{type:"Feature",properties:{iso1A2:"NO",iso1A3:"NOR",iso1N3:"578",wikidata:"Q20",nameEn:"Norway"},geometry:null},{type:"Feature",properties:{iso1A2:"NP",iso1A3:"NPL",iso1N3:"524",wikidata:"Q837",nameEn:"Nepal",groups:["034","142","UN"],driveSide:"left",callingCodes:["977"]},geometry:{type:"MultiPolygon",coordinates:[[[[88.13378,27.88015],[87.82681,27.95248],[87.72718,27.80938],[87.56996,27.84517],[87.11696,27.84104],[87.03757,27.94835],[86.75582,28.04182],[86.74181,28.10638],[86.56265,28.09569],[86.51609,27.96623],[86.42736,27.91122],[86.22966,27.9786],[86.18607,28.17364],[86.088,28.09264],[86.08333,28.02121],[86.12069,27.93047],[86.06309,27.90021],[85.94946,27.9401],[85.97813,27.99023],[85.90743,28.05144],[85.84672,28.18187],[85.74864,28.23126],[85.71907,28.38064],[85.69105,28.38475],[85.60854,28.25045],[85.59765,28.30529],[85.4233,28.32996],[85.38127,28.28336],[85.10729,28.34092],[85.18668,28.54076],[85.19135,28.62825],[85.06059,28.68562],[84.85511,28.58041],[84.62317,28.73887],[84.47528,28.74023],[84.2231,28.89571],[84.24801,29.02783],[84.18107,29.23451],[83.97559,29.33091],[83.82303,29.30513],[83.63156,29.16249],[83.44787,29.30513],[83.28131,29.56813],[83.07116,29.61957],[82.73024,29.81695],[82.5341,29.9735],[82.38622,30.02608],[82.16984,30.0692],[82.19475,30.16884],[82.10757,30.23745],[82.10135,30.35439],[81.99082,30.33423],[81.62033,30.44703],[81.5459,30.37688],[81.41018,30.42153],[81.39928,30.21862],[81.33355,30.15303],[81.2623,30.14596],[81.29032,30.08806],[81.24362,30.0126],[81.12842,30.01395],[81.03953,30.20059],[80.92547,30.17193],[80.91143,30.22173],[80.86673,30.17321],[80.8778,30.13384],[80.67076,29.95732],[80.60226,29.95732],[80.57179,29.91422],[80.56247,29.86661],[80.48997,29.79566],[80.43458,29.80466],[80.41554,29.79451],[80.36803,29.73865],[80.38428,29.68513],[80.41858,29.63581],[80.37939,29.57098],[80.24322,29.44299],[80.31428,29.30784],[80.28626,29.20327],[80.24112,29.21414],[80.26602,29.13938],[80.23178,29.11626],[80.18085,29.13649],[80.05743,28.91479],[80.06957,28.82763],[80.12125,28.82346],[80.37188,28.63371],[80.44504,28.63098],[80.52443,28.54897],[80.50575,28.6706],[80.55142,28.69182],[81.03471,28.40054],[81.19847,28.36284],[81.32923,28.13521],[81.38683,28.17638],[81.48179,28.12148],[81.47867,28.08303],[81.91223,27.84995],[81.97214,27.93322],[82.06554,27.92222],[82.46405,27.6716],[82.70378,27.72122],[82.74119,27.49838],[82.93261,27.50328],[82.94938,27.46036],[83.19413,27.45632],[83.27197,27.38309],[83.2673,27.36235],[83.29999,27.32778],[83.35136,27.33885],[83.38872,27.39276],[83.39495,27.4798],[83.61288,27.47013],[83.85595,27.35797],[83.86182,27.4241],[83.93306,27.44939],[84.02229,27.43836],[84.10791,27.52399],[84.21376,27.45218],[84.25735,27.44941],[84.29315,27.39],[84.62161,27.33885],[84.69166,27.21294],[84.64496,27.04669],[84.793,26.9968],[84.82913,27.01989],[84.85754,26.98984],[84.96687,26.95599],[84.97186,26.9149],[85.00536,26.89523],[85.05592,26.88991],[85.02635,26.85381],[85.15883,26.86966],[85.19291,26.86909],[85.18046,26.80519],[85.21159,26.75933],[85.34302,26.74954],[85.47752,26.79292],[85.56471,26.84133],[85.5757,26.85955],[85.59461,26.85161],[85.61621,26.86721],[85.66239,26.84822],[85.73483,26.79613],[85.72315,26.67471],[85.76907,26.63076],[85.83126,26.61134],[85.85126,26.60866],[85.8492,26.56667],[86.02729,26.66756],[86.13596,26.60651],[86.22513,26.58863],[86.26235,26.61886],[86.31564,26.61925],[86.49726,26.54218],[86.54258,26.53819],[86.57073,26.49825],[86.61313,26.48658],[86.62686,26.46891],[86.69124,26.45169],[86.74025,26.42386],[86.76797,26.45892],[86.82898,26.43919],[86.94543,26.52076],[86.95912,26.52076],[87.01559,26.53228],[87.04691,26.58685],[87.0707,26.58571],[87.09147,26.45039],[87.14751,26.40542],[87.18863,26.40558],[87.24682,26.4143],[87.26587,26.40592],[87.26568,26.37294],[87.34568,26.34787],[87.37314,26.40815],[87.46566,26.44058],[87.51571,26.43106],[87.55274,26.40596],[87.59175,26.38342],[87.66803,26.40294],[87.67893,26.43501],[87.76004,26.40711],[87.7918,26.46737],[87.84193,26.43663],[87.89085,26.48565],[87.90115,26.44923],[88.00895,26.36029],[88.09414,26.43732],[88.09963,26.54195],[88.16452,26.64111],[88.1659,26.68177],[88.19107,26.75516],[88.12302,26.95324],[88.13422,26.98705],[88.11719,26.98758],[87.9887,27.11045],[88.01587,27.21388],[88.01646,27.21612],[88.07277,27.43007],[88.04008,27.49223],[88.19107,27.79285],[88.1973,27.85067],[88.13378,27.88015]]]]}},{type:"Feature",properties:{iso1A2:"NR",iso1A3:"NRU",iso1N3:"520",wikidata:"Q697",nameEn:"Nauru",groups:["057","009","UN"],driveSide:"left",callingCodes:["674"]},geometry:{type:"MultiPolygon",coordinates:[[[[166.95155,.14829],[166.21778,-.7977],[167.60042,-.88259],[166.95155,.14829]]]]}},{type:"Feature",properties:{iso1A2:"NU",iso1A3:"NIU",iso1N3:"570",wikidata:"Q34020",nameEn:"Niue",country:"NZ",groups:["061","009","UN"],driveSide:"left",callingCodes:["683"]},geometry:{type:"MultiPolygon",coordinates:[[[[-170.83899,-18.53439],[-170.82274,-20.44429],[-168.63096,-18.60489],[-170.83899,-18.53439]]]]}},{type:"Feature",properties:{iso1A2:"NZ",iso1A3:"NZL",iso1N3:"554",wikidata:"Q664",nameEn:"New Zealand"},geometry:null},{type:"Feature",properties:{iso1A2:"OM",iso1A3:"OMN",iso1N3:"512",wikidata:"Q842",nameEn:"Oman",groups:["145","142","UN"],callingCodes:["968"]},geometry:{type:"MultiPolygon",coordinates:[[[[56.82555,25.7713],[56.79239,26.41236],[56.68954,26.76645],[56.2644,26.58649],[55.81777,26.18798],[56.08666,26.05038],[56.15498,26.06828],[56.19334,25.9795],[56.13963,25.82765],[56.17416,25.77239],[56.13579,25.73524],[56.14826,25.66351],[56.18363,25.65508],[56.20473,25.61119],[56.25365,25.60211],[56.26636,25.60643],[56.25341,25.61443],[56.26534,25.62825],[56.82555,25.7713]]],[[[56.26062,25.33108],[56.23362,25.31253],[56.25008,25.28843],[56.24465,25.27505],[56.20838,25.25668],[56.20872,25.24104],[56.24341,25.22867],[56.27628,25.23404],[56.34438,25.26653],[56.35172,25.30681],[56.3111,25.30107],[56.3005,25.31815],[56.26062,25.33108]],[[56.28423,25.26344],[56.27086,25.26128],[56.2716,25.27916],[56.28102,25.28486],[56.29379,25.2754],[56.28423,25.26344]]],[[[61.45114,22.55394],[56.86325,25.03856],[56.3227,24.97284],[56.34873,24.93205],[56.30269,24.88334],[56.20568,24.85063],[56.20062,24.78565],[56.13684,24.73699],[56.06128,24.74457],[56.03535,24.81161],[55.97836,24.87673],[55.97467,24.89639],[56.05106,24.87461],[56.05715,24.95727],[55.96316,25.00857],[55.90849,24.96771],[55.85094,24.96858],[55.81116,24.9116],[55.81348,24.80102],[55.83408,24.77858],[55.83271,24.68567],[55.76461,24.5287],[55.83271,24.41521],[55.83395,24.32776],[55.80747,24.31069],[55.79145,24.27914],[55.76781,24.26209],[55.75939,24.26114],[55.75382,24.2466],[55.75257,24.23466],[55.76558,24.23227],[55.77658,24.23476],[55.83367,24.20193],[55.95472,24.2172],[56.01799,24.07426],[55.8308,24.01633],[55.73301,24.05994],[55.48677,23.94946],[55.57358,23.669],[55.22634,23.10378],[55.2137,22.71065],[55.66469,21.99658],[54.99756,20.00083],[52.00311,19.00083],[52.78009,17.35124],[52.74267,17.29519],[52.81185,17.28568],[57.49095,8.14549],[61.45114,22.55394]]]]}},{type:"Feature",properties:{iso1A2:"PA",iso1A3:"PAN",iso1N3:"591",wikidata:"Q804",nameEn:"Panama",groups:["013","003","419","019","UN"],callingCodes:["507"]},geometry:{type:"MultiPolygon",coordinates:[[[[-77.32389,8.81247],[-77.58292,9.22278],[-78.79327,9.93766],[-82.51044,9.65379],[-82.56507,9.57279],[-82.61345,9.49881],[-82.66667,9.49746],[-82.77206,9.59573],[-82.87919,9.62645],[-82.84871,9.4973],[-82.93516,9.46741],[-82.93516,9.07687],[-82.72126,8.97125],[-82.88253,8.83331],[-82.91377,8.774],[-82.92068,8.74832],[-82.8794,8.6981],[-82.82739,8.60153],[-82.83975,8.54755],[-82.83322,8.52464],[-82.8382,8.48117],[-82.8679,8.44042],[-82.93056,8.43465],[-83.05209,8.33394],[-82.9388,8.26634],[-82.88641,8.10219],[-82.89137,8.05755],[-82.89978,8.04083],[-82.94503,7.93865],[-82.13751,6.97312],[-78.06168,7.07793],[-77.89178,7.22681],[-77.81426,7.48319],[-77.72157,7.47612],[-77.72514,7.72348],[-77.57185,7.51147],[-77.17257,7.97422],[-77.45064,8.49991],[-77.32389,8.81247]]]]}},{type:"Feature",properties:{iso1A2:"PE",iso1A3:"PER",iso1N3:"604",wikidata:"Q419",nameEn:"Peru",groups:["005","419","019","UN"],callingCodes:["51"]},geometry:{type:"MultiPolygon",coordinates:[[[[-74.26675,-.97229],[-74.42701,-.50218],[-75.18513,-.0308],[-75.25764,-.11943],[-75.40192,-.17196],[-75.61997,-.10012],[-75.60169,-.18708],[-75.53615,-.19213],[-75.22862,-.60048],[-75.22862,-.95588],[-75.3872,-.9374],[-75.57429,-1.55961],[-76.05203,-2.12179],[-76.6324,-2.58397],[-77.94147,-3.05454],[-78.19369,-3.36431],[-78.14324,-3.47653],[-78.22642,-3.51113],[-78.24589,-3.39907],[-78.34362,-3.38633],[-78.68394,-4.60754],[-78.85149,-4.66795],[-79.01659,-5.01481],[-79.1162,-4.97774],[-79.26248,-4.95167],[-79.59402,-4.46848],[-79.79722,-4.47558],[-80.13945,-4.29786],[-80.39256,-4.48269],[-80.46386,-4.41516],[-80.32114,-4.21323],[-80.45023,-4.20938],[-80.4822,-4.05477],[-80.46386,-4.01342],[-80.13232,-3.90317],[-80.19926,-3.68894],[-80.18741,-3.63994],[-80.19848,-3.59249],[-80.21642,-3.5888],[-80.20535,-3.51667],[-80.22629,-3.501],[-80.23651,-3.48652],[-80.24586,-3.48677],[-80.24123,-3.46124],[-80.20647,-3.431],[-80.30602,-3.39149],[-84.52388,-3.36941],[-85.71054,-21.15413],[-70.59118,-18.35072],[-70.378,-18.3495],[-70.31267,-18.31258],[-70.16394,-18.31737],[-69.96732,-18.25992],[-69.81607,-18.12582],[-69.75305,-17.94605],[-69.82868,-17.72048],[-69.79087,-17.65563],[-69.66483,-17.65083],[-69.46897,-17.4988],[-69.46863,-17.37466],[-69.62883,-17.28142],[-69.16896,-16.72233],[-69.00853,-16.66769],[-69.04027,-16.57214],[-68.98358,-16.42165],[-68.79464,-16.33272],[-68.96238,-16.194],[-69.09986,-16.22693],[-69.20291,-16.16668],[-69.40336,-15.61358],[-69.14856,-15.23478],[-69.36254,-14.94634],[-68.88135,-14.18639],[-69.05265,-13.68546],[-68.8864,-13.40792],[-68.85615,-12.87769],[-68.65044,-12.50689],[-68.98115,-11.8979],[-69.57156,-10.94555],[-69.57835,-10.94051],[-69.90896,-10.92744],[-70.38791,-11.07096],[-70.51395,-10.92249],[-70.64134,-11.0108],[-70.62487,-9.80666],[-70.55429,-9.76692],[-70.58453,-9.58303],[-70.53373,-9.42628],[-71.23394,-9.9668],[-72.14742,-9.98049],[-72.31883,-9.5184],[-72.72216,-9.41397],[-73.21498,-9.40904],[-72.92886,-9.04074],[-73.76576,-7.89884],[-73.65485,-7.77897],[-73.96938,-7.58465],[-73.77011,-7.28944],[-73.73986,-6.87919],[-73.12983,-6.43852],[-73.24579,-6.05764],[-72.83973,-5.14765],[-72.64391,-5.0391],[-71.87003,-4.51661],[-70.96814,-4.36915],[-70.77601,-4.15717],[-70.33236,-4.15214],[-70.19582,-4.3607],[-70.11305,-4.27281],[-70.00888,-4.37833],[-69.94708,-4.2431],[-70.3374,-3.79505],[-70.52393,-3.87553],[-70.71396,-3.7921],[-70.04609,-2.73906],[-70.94377,-2.23142],[-71.75223,-2.15058],[-72.92587,-2.44514],[-73.65312,-1.26222],[-74.26675,-.97229]]]]}},{type:"Feature",properties:{iso1A2:"PF",iso1A3:"PYF",iso1N3:"258",wikidata:"Q30971",nameEn:"French Polynesia",country:"FR",groups:["Q1451600","061","009","UN"],callingCodes:["689"]},geometry:{type:"MultiPolygon",coordinates:[[[[-135.59706,-4.70473],[-156.48634,-15.52824],[-156.45576,-31.75456],[-133.59543,-28.4709],[-135.59706,-4.70473]]]]}},{type:"Feature",properties:{iso1A2:"PG",iso1A3:"PNG",iso1N3:"598",wikidata:"Q691",nameEn:"Papua New Guinea",groups:["054","009","UN"],driveSide:"left",callingCodes:["675"]},geometry:{type:"MultiPolygon",coordinates:[[[[141.03157,2.12829],[140.99813,-6.3233],[140.85295,-6.72996],[140.90448,-6.85033],[141.01763,-6.90181],[141.01842,-9.35091],[141.88934,-9.36111],[142.19246,-9.15378],[142.48658,-9.36754],[143.29772,-9.33993],[143.87386,-9.02382],[145.2855,-9.62524],[156.73836,-14.50464],[154.74815,-7.33315],[155.60735,-6.92266],[155.69784,-6.92661],[155.92557,-6.84664],[156.03993,-6.65703],[156.03296,-6.55528],[160.43769,-4.17974],[141.03157,2.12829]]]]}},{type:"Feature",properties:{iso1A2:"PH",iso1A3:"PHL",iso1N3:"608",wikidata:"Q928",nameEn:"Philippines",aliases:["PI","RP"],groups:["035","142","UN"],callingCodes:["63"]},geometry:{type:"MultiPolygon",coordinates:[[[[129.19694,7.84182],[121.8109,21.77688],[120.69238,21.52331],[118.82252,14.67191],[115.39742,10.92666],[116.79524,7.43869],[117.17735,7.52841],[117.93857,6.89845],[117.98544,6.27477],[119.52945,5.35672],[118.93936,4.09009],[118.06469,4.16638],[121.14448,2.12444],[129.19694,7.84182]]]]}},{type:"Feature",properties:{iso1A2:"PK",iso1A3:"PAK",iso1N3:"586",wikidata:"Q843",nameEn:"Pakistan",groups:["034","142","UN"],driveSide:"left",callingCodes:["92"]},geometry:{type:"MultiPolygon",coordinates:[[[[75.72737,36.7529],[75.45562,36.71971],[75.40481,36.95382],[75.13839,37.02622],[74.56453,37.03023],[74.53739,36.96224],[74.43389,37.00977],[74.04856,36.82648],[73.82685,36.91421],[72.6323,36.84601],[72.18135,36.71838],[71.80267,36.49924],[71.60491,36.39429],[71.19505,36.04134],[71.37969,35.95865],[71.55273,35.71483],[71.49917,35.6267],[71.65435,35.4479],[71.54294,35.31037],[71.5541,35.28776],[71.67495,35.21262],[71.52938,35.09023],[71.55273,35.02615],[71.49917,35.00478],[71.50329,34.97328],[71.29472,34.87728],[71.28356,34.80882],[71.08718,34.69034],[71.11602,34.63047],[71.0089,34.54568],[71.02401,34.44835],[71.17662,34.36769],[71.12815,34.26619],[71.13078,34.16503],[71.09453,34.13524],[71.09307,34.11961],[71.06933,34.10564],[71.07345,34.06242],[70.88119,33.97933],[70.54336,33.9463],[69.90203,34.04194],[69.87307,33.9689],[69.85671,33.93719],[70.00503,33.73528],[70.14236,33.71701],[70.14785,33.6553],[70.20141,33.64387],[70.17062,33.53535],[70.32775,33.34496],[70.13686,33.21064],[70.07369,33.22557],[70.02563,33.14282],[69.85259,33.09451],[69.79766,33.13247],[69.71526,33.09911],[69.57656,33.09911],[69.49004,33.01509],[69.49854,32.88843],[69.5436,32.8768],[69.47082,32.85834],[69.38018,32.76601],[69.43649,32.7302],[69.44747,32.6678],[69.38155,32.56601],[69.2868,32.53938],[69.23599,32.45946],[69.27932,32.29119],[69.27032,32.14141],[69.3225,31.93186],[69.20577,31.85957],[69.11514,31.70782],[69.00939,31.62249],[68.95995,31.64822],[68.91078,31.59687],[68.79997,31.61665],[68.6956,31.75687],[68.57475,31.83158],[68.44222,31.76446],[68.27605,31.75863],[68.25614,31.80357],[68.1655,31.82691],[68.00071,31.6564],[67.86887,31.63536],[67.72056,31.52304],[67.58323,31.52772],[67.62374,31.40473],[67.7748,31.4188],[67.78854,31.33203],[67.29964,31.19586],[67.03323,31.24519],[67.04147,31.31561],[66.83273,31.26867],[66.72561,31.20526],[66.68166,31.07597],[66.58175,30.97532],[66.42645,30.95309],[66.39194,30.9408],[66.28413,30.57001],[66.34869,30.404],[66.23609,30.06321],[66.36042,29.9583],[66.24175,29.85181],[65.04005,29.53957],[64.62116,29.58903],[64.19796,29.50407],[64.12966,29.39157],[63.5876,29.50456],[62.47751,29.40782],[60.87231,29.86514],[61.31508,29.38903],[61.53765,29.00507],[61.65978,28.77937],[61.93581,28.55284],[62.40259,28.42703],[62.59499,28.24842],[62.79412,28.28108],[62.7638,28.02992],[62.84905,27.47627],[62.79684,27.34381],[62.80604,27.22412],[63.19649,27.25674],[63.32283,27.14437],[63.25005,27.08692],[63.25005,26.84212],[63.18688,26.83844],[63.1889,26.65072],[62.77352,26.64099],[62.31484,26.528],[62.21304,26.26601],[62.05117,26.31647],[61.89391,26.26251],[61.83831,26.07249],[61.83968,25.7538],[61.683,25.66638],[61.6433,25.27541],[61.46682,24.57869],[68.11329,23.53945],[68.20763,23.85849],[68.39339,23.96838],[68.74643,23.97027],[68.7416,24.31904],[68.90914,24.33156],[68.97781,24.26021],[69.07806,24.29777],[69.19341,24.25646],[69.29778,24.28712],[69.59579,24.29777],[69.73335,24.17007],[70.03428,24.172],[70.11712,24.30915],[70.5667,24.43787],[70.57906,24.27774],[70.71502,24.23517],[70.88393,24.27398],[70.85784,24.30903],[70.94985,24.3791],[71.04461,24.34657],[71.12838,24.42662],[71.00341,24.46038],[70.97594,24.60904],[71.09405,24.69017],[70.94002,24.92843],[70.89148,25.15064],[70.66695,25.39314],[70.67382,25.68186],[70.60378,25.71898],[70.53649,25.68928],[70.37444,25.67443],[70.2687,25.71156],[70.0985,25.93238],[70.08193,26.08094],[70.17532,26.24118],[70.17532,26.55362],[70.05584,26.60398],[69.88555,26.56836],[69.50904,26.74892],[69.58519,27.18109],[70.03136,27.56627],[70.12502,27.8057],[70.37307,28.01208],[70.60927,28.02178],[70.79054,27.68423],[71.89921,27.96035],[71.9244,28.11555],[72.20329,28.3869],[72.29495,28.66367],[72.40402,28.78283],[72.94272,29.02487],[73.01337,29.16422],[73.05886,29.1878],[73.28094,29.56646],[73.3962,29.94707],[73.58665,30.01848],[73.80299,30.06969],[73.97225,30.19829],[73.95736,30.28466],[73.88993,30.36305],[74.5616,31.04153],[74.67971,31.05479],[74.6852,31.12771],[74.60006,31.13711],[74.60281,31.10419],[74.56023,31.08303],[74.51629,31.13829],[74.53223,31.30321],[74.59773,31.4136],[74.64713,31.45605],[74.59319,31.50197],[74.61517,31.55698],[74.57498,31.60382],[74.47771,31.72227],[74.58907,31.87824],[74.79919,31.95983],[74.86236,32.04485],[74.9269,32.0658],[75.00793,32.03786],[75.25649,32.10187],[75.38046,32.26836],[75.28259,32.36556],[75.03265,32.49538],[74.97634,32.45367],[74.84725,32.49075],[74.68362,32.49298],[74.67431,32.56676],[74.65251,32.56416],[74.64424,32.60985],[74.69542,32.66792],[74.65345,32.71225],[74.7113,32.84219],[74.64675,32.82604],[74.6289,32.75561],[74.45312,32.77755],[74.41467,32.90563],[74.31227,32.92795],[74.34875,32.97823],[74.31854,33.02891],[74.17571,33.07495],[74.15374,33.13477],[74.02144,33.18908],[74.01366,33.25199],[74.08782,33.26232],[74.17983,33.3679],[74.18121,33.4745],[74.10115,33.56392],[74.03576,33.56718],[73.97367,33.64061],[73.98968,33.66155],[73.96423,33.73071],[74.00891,33.75437],[74.05898,33.82089],[74.14001,33.83002],[74.26086,33.92237],[74.25262,34.01577],[74.21554,34.03853],[73.91341,34.01235],[73.88732,34.05105],[73.90677,34.10504],[73.98208,34.2522],[73.90517,34.35317],[73.8475,34.32935],[73.74862,34.34183],[73.74999,34.3781],[73.88732,34.48911],[73.89419,34.54568],[73.93951,34.57169],[73.93401,34.63386],[73.96423,34.68244],[74.12897,34.70073],[74.31239,34.79626],[74.58083,34.77386],[74.6663,34.703],[75.01479,34.64629],[75.38009,34.55021],[75.75438,34.51827],[76.04614,34.67566],[76.15463,34.6429],[76.47186,34.78965],[76.67648,34.76371],[76.74377,34.84039],[76.74514,34.92488],[76.87193,34.96906],[76.99251,34.93349],[77.11796,35.05419],[76.93465,35.39866],[76.85088,35.39754],[76.75475,35.52617],[76.77323,35.66062],[76.50961,35.8908],[76.33453,35.84296],[76.14913,35.82848],[76.15325,35.9264],[75.93028,36.13136],[76.00906,36.17511],[76.0324,36.41198],[75.92391,36.56986],[75.72737,36.7529]]]]}},{type:"Feature",properties:{iso1A2:"PL",iso1A3:"POL",iso1N3:"616",wikidata:"Q36",nameEn:"Poland",groups:["EU","151","150","UN"],callingCodes:["48"]},geometry:{type:"MultiPolygon",coordinates:[[[[18.57853,55.25302],[14.20811,54.12784],[14.22634,53.9291],[14.20647,53.91671],[14.18544,53.91258],[14.20823,53.90776],[14.21323,53.8664],[14.27249,53.74464],[14.26782,53.69866],[14.2836,53.67721],[14.27133,53.66613],[14.28477,53.65955],[14.2853,53.63392],[14.31904,53.61581],[14.30416,53.55499],[14.3273,53.50587],[14.35209,53.49506],[14.4215,53.27724],[14.44133,53.27427],[14.45125,53.26241],[14.40662,53.21098],[14.37853,53.20405],[14.36696,53.16444],[14.38679,53.13669],[14.35044,53.05829],[14.25954,53.00264],[14.14056,52.95786],[14.15873,52.87715],[14.12256,52.84311],[14.13806,52.82392],[14.22071,52.81175],[14.61073,52.59847],[14.6289,52.57136],[14.60081,52.53116],[14.63056,52.48993],[14.54423,52.42568],[14.55228,52.35264],[14.56378,52.33838],[14.58149,52.28007],[14.70139,52.25038],[14.71319,52.22144],[14.68344,52.19612],[14.70616,52.16927],[14.67683,52.13936],[14.6917,52.10283],[14.72971,52.09167],[14.76026,52.06624],[14.71339,52.00337],[14.70488,51.97679],[14.7139,51.95643],[14.71836,51.95606],[14.72163,51.95188],[14.7177,51.94048],[14.70601,51.92944],[14.6933,51.9044],[14.6588,51.88359],[14.59089,51.83302],[14.60493,51.80473],[14.64625,51.79472],[14.66386,51.73282],[14.69065,51.70842],[14.75392,51.67445],[14.75759,51.62318],[14.7727,51.61263],[14.71125,51.56209],[14.73047,51.54606],[14.72652,51.53902],[14.73219,51.52922],[14.94749,51.47155],[14.9652,51.44793],[14.96899,51.38367],[14.98008,51.33449],[15.04288,51.28387],[15.01242,51.21285],[15.0047,51.16874],[14.99311,51.16249],[14.99414,51.15813],[15.00083,51.14974],[14.99646,51.14365],[14.99079,51.14284],[14.99689,51.12205],[14.98229,51.11354],[14.97938,51.07742],[14.95529,51.04552],[14.92942,50.99744],[14.89252,50.94999],[14.89681,50.9422],[14.81664,50.88148],[14.82803,50.86966],[14.99852,50.86817],[15.01088,50.97984],[14.96419,50.99108],[15.02433,51.0242],[15.03895,51.0123],[15.06218,51.02269],[15.10152,51.01095],[15.11937,50.99021],[15.16744,51.01959],[15.1743,50.9833],[15.2361,50.99886],[15.27043,50.97724],[15.2773,50.8907],[15.36656,50.83956],[15.3803,50.77187],[15.43798,50.80833],[15.73186,50.73885],[15.81683,50.75666],[15.87331,50.67188],[15.97219,50.69799],[16.0175,50.63009],[15.98317,50.61528],[16.02437,50.60046],[16.10265,50.66405],[16.20839,50.63096],[16.23174,50.67101],[16.33611,50.66579],[16.44597,50.58041],[16.34572,50.49575],[16.31413,50.50274],[16.19526,50.43291],[16.21585,50.40627],[16.22821,50.41054],[16.28118,50.36891],[16.30289,50.38292],[16.36495,50.37679],[16.3622,50.34875],[16.39379,50.3207],[16.42674,50.32509],[16.56407,50.21009],[16.55446,50.16613],[16.63137,50.1142],[16.7014,50.09659],[16.8456,50.20834],[16.98018,50.24172],[17.00353,50.21449],[17.02825,50.23118],[16.99803,50.25753],[17.02138,50.27772],[16.99803,50.30316],[16.94448,50.31281],[16.90877,50.38642],[16.85933,50.41093],[16.89229,50.45117],[17.1224,50.39494],[17.14498,50.38117],[17.19579,50.38817],[17.19991,50.3654],[17.27681,50.32246],[17.34273,50.32947],[17.34548,50.2628],[17.3702,50.28123],[17.58889,50.27837],[17.67764,50.28977],[17.69292,50.32859],[17.74648,50.29966],[17.72176,50.25665],[17.76296,50.23382],[17.70528,50.18812],[17.59404,50.16437],[17.66683,50.10275],[17.6888,50.12037],[17.7506,50.07896],[17.77669,50.02253],[17.86886,49.97452],[18.00191,50.01723],[18.04585,50.01194],[18.04585,50.03311],[18.00396,50.04954],[18.03212,50.06574],[18.07898,50.04535],[18.10628,50.00223],[18.20241,49.99958],[18.21752,49.97309],[18.27107,49.96779],[18.27794,49.93863],[18.31914,49.91565],[18.33278,49.92415],[18.33562,49.94747],[18.41604,49.93498],[18.53423,49.89906],[18.54495,49.9079],[18.54299,49.92537],[18.57697,49.91565],[18.57045,49.87849],[18.60341,49.86256],[18.57183,49.83334],[18.61278,49.7618],[18.61368,49.75426],[18.62645,49.75002],[18.62943,49.74603],[18.62676,49.71983],[18.69817,49.70473],[18.72838,49.68163],[18.80479,49.6815],[18.84786,49.5446],[18.84521,49.51672],[18.94536,49.52143],[18.97283,49.49914],[18.9742,49.39557],[19.18019,49.41165],[19.25435,49.53391],[19.36009,49.53747],[19.37795,49.574],[19.45348,49.61583],[19.52626,49.57311],[19.53313,49.52856],[19.57845,49.46077],[19.64162,49.45184],[19.6375,49.40897],[19.72127,49.39288],[19.78581,49.41701],[19.82237,49.27806],[19.75286,49.20751],[19.86409,49.19316],[19.90529,49.23532],[19.98494,49.22904],[20.08238,49.1813],[20.13738,49.31685],[20.21977,49.35265],[20.31453,49.34817],[20.31728,49.39914],[20.39939,49.3896],[20.46422,49.41612],[20.5631,49.375],[20.61666,49.41791],[20.72274,49.41813],[20.77971,49.35383],[20.9229,49.29626],[20.98733,49.30774],[21.09799,49.37176],[21.041,49.41791],[21.12477,49.43666],[21.19756,49.4054],[21.27858,49.45988],[21.43376,49.41433],[21.62328,49.4447],[21.77983,49.35443],[21.82927,49.39467],[21.96385,49.3437],[22.04427,49.22136],[22.56155,49.08865],[22.89122,49.00725],[22.86336,49.10513],[22.72009,49.20288],[22.748,49.32759],[22.69444,49.49378],[22.64534,49.53094],[22.78304,49.65543],[22.80261,49.69098],[22.83179,49.69875],[22.99329,49.84249],[23.28221,50.0957],[23.67635,50.33385],[23.71382,50.38248],[23.79445,50.40481],[23.99563,50.41289],[24.03668,50.44507],[24.07048,50.5071],[24.0996,50.60752],[24.0595,50.71625],[23.95925,50.79271],[23.99254,50.83847],[24.0952,50.83262],[24.14524,50.86128],[24.04576,50.90196],[23.92217,51.00836],[23.90376,51.07697],[23.80678,51.18405],[23.63858,51.32182],[23.69905,51.40871],[23.62751,51.50512],[23.56236,51.53673],[23.57053,51.55938],[23.53198,51.74298],[23.62691,51.78208],[23.61523,51.92066],[23.68733,51.9906],[23.64066,52.07626],[23.61,52.11264],[23.54314,52.12148],[23.47859,52.18215],[23.20071,52.22848],[23.18196,52.28812],[23.34141,52.44845],[23.45112,52.53774],[23.58296,52.59868],[23.73615,52.6149],[23.93763,52.71332],[23.91805,52.94016],[23.94689,52.95919],[23.92184,53.02079],[23.87548,53.0831],[23.91393,53.16469],[23.85657,53.22923],[23.81995,53.24131],[23.62004,53.60942],[23.51284,53.95052],[23.48261,53.98855],[23.52702,54.04622],[23.49196,54.14764],[23.45223,54.17775],[23.42418,54.17911],[23.39525,54.21672],[23.3494,54.25155],[23.24656,54.25701],[23.15938,54.29894],[23.15526,54.31076],[23.13905,54.31567],[23.104,54.29794],[23.04323,54.31567],[23.05726,54.34565],[22.99649,54.35927],[23.00584,54.38514],[22.83756,54.40827],[22.79705,54.36264],[21.41123,54.32395],[20.63871,54.3706],[19.8038,54.44203],[19.64312,54.45423],[18.57853,55.25302]]]]}},{type:"Feature",properties:{iso1A2:"PM",iso1A3:"SPM",iso1N3:"666",wikidata:"Q34617",nameEn:"Saint Pierre and Miquelon",country:"FR",groups:["Q1451600","021","003","019","UN"],callingCodes:["508"]},geometry:{type:"MultiPolygon",coordinates:[[[[-56.72993,46.65575],[-55.90758,46.6223],[-56.27503,47.39728],[-56.72993,46.65575]]]]}},{type:"Feature",properties:{iso1A2:"PN",iso1A3:"PCN",iso1N3:"612",wikidata:"Q35672",nameEn:"Pitcairn Islands",country:"GB",groups:["BOTS","061","009","UN"],driveSide:"left",callingCodes:["64"]},geometry:{type:"MultiPolygon",coordinates:[[[[-133.59543,-28.4709],[-122.0366,-24.55017],[-133.61511,-21.93325],[-133.59543,-28.4709]]]]}},{type:"Feature",properties:{iso1A2:"PR",iso1A3:"PRI",iso1N3:"630",wikidata:"Q1183",nameEn:"Puerto Rico",aliases:["US-PR"],country:"US",groups:["Q1352230","029","003","419","019","UN"],roadSpeedUnit:"mph",callingCodes:["1 787","1 939"]},geometry:{type:"MultiPolygon",coordinates:[[[[-65.27974,17.56928],[-65.02435,18.73231],[-67.99519,18.97186],[-68.23894,17.84663],[-65.27974,17.56928]]]]}},{type:"Feature",properties:{iso1A2:"PS",iso1A3:"PSE",iso1N3:"275",wikidata:"Q219060",nameEn:"Palestine"},geometry:null},{type:"Feature",properties:{iso1A2:"PT",iso1A3:"PRT",iso1N3:"620",wikidata:"Q45",nameEn:"Portugal"},geometry:null},{type:"Feature",properties:{iso1A2:"PW",iso1A3:"PLW",iso1N3:"585",wikidata:"Q695",nameEn:"Palau",groups:["057","009","UN"],roadSpeedUnit:"mph",callingCodes:["680"]},geometry:{type:"MultiPolygon",coordinates:[[[[128.97621,3.08804],[136.39296,1.54187],[136.04605,12.45908],[128.97621,3.08804]]]]}},{type:"Feature",properties:{iso1A2:"PY",iso1A3:"PRY",iso1N3:"600",wikidata:"Q733",nameEn:"Paraguay",groups:["005","419","019","UN"],callingCodes:["595"]},geometry:{type:"MultiPolygon",coordinates:[[[[-58.16225,-20.16193],[-58.23216,-19.80058],[-59.06965,-19.29148],[-60.00638,-19.2981],[-61.73723,-19.63958],[-61.93912,-20.10053],[-62.26883,-20.55311],[-62.2757,-21.06657],[-62.64455,-22.25091],[-62.51761,-22.37684],[-62.22768,-22.55807],[-61.9756,-23.0507],[-61.0782,-23.62932],[-60.99754,-23.80934],[-60.28163,-24.04436],[-60.03367,-24.00701],[-59.45482,-24.34787],[-59.33886,-24.49935],[-58.33055,-24.97099],[-58.25492,-24.92528],[-57.80821,-25.13863],[-57.57431,-25.47269],[-57.87176,-25.93604],[-58.1188,-26.16704],[-58.3198,-26.83443],[-58.65321,-27.14028],[-58.59549,-27.29973],[-58.04205,-27.2387],[-56.85337,-27.5165],[-56.18313,-27.29851],[-55.89195,-27.3467],[-55.74475,-27.44485],[-55.59094,-27.32444],[-55.62322,-27.1941],[-55.39611,-26.97679],[-55.25243,-26.93808],[-55.16948,-26.96068],[-55.06351,-26.80195],[-55.00584,-26.78754],[-54.80868,-26.55669],[-54.70732,-26.45099],[-54.69333,-26.37705],[-54.67359,-25.98607],[-54.60664,-25.9691],[-54.62063,-25.91213],[-54.59398,-25.59224],[-54.59509,-25.53696],[-54.60196,-25.48397],[-54.62033,-25.46026],[-54.4423,-25.13381],[-54.28207,-24.07305],[-54.32807,-24.01865],[-54.6238,-23.83078],[-55.02691,-23.97317],[-55.0518,-23.98666],[-55.12292,-23.99669],[-55.41784,-23.9657],[-55.44117,-23.9185],[-55.43585,-23.87157],[-55.5555,-23.28237],[-55.52288,-23.2595],[-55.5446,-23.22811],[-55.63849,-22.95122],[-55.62493,-22.62765],[-55.68742,-22.58407],[-55.6986,-22.56268],[-55.72366,-22.5519],[-55.741,-22.52018],[-55.74941,-22.46436],[-55.8331,-22.29008],[-56.23206,-22.25347],[-56.45893,-22.08072],[-56.5212,-22.11556],[-56.6508,-22.28387],[-57.98625,-22.09157],[-57.94642,-21.73799],[-57.88239,-21.6868],[-57.93492,-21.65505],[-57.84536,-20.93155],[-58.16225,-20.16193]]]]}},{type:"Feature",properties:{iso1A2:"QA",iso1A3:"QAT",iso1N3:"634",wikidata:"Q846",nameEn:"Qatar",groups:["145","142","UN"],callingCodes:["974"]},geometry:{type:"MultiPolygon",coordinates:[[[[50.92992,24.54396],[51.09638,24.46907],[51.29972,24.50747],[51.39468,24.62785],[51.58834,24.66608],[51.83108,24.71675],[51.83682,26.70231],[50.93865,26.30758],[50.81266,25.88946],[50.86149,25.6965],[50.7801,25.595],[50.80824,25.54641],[50.57069,25.57887],[50.8133,24.74049],[50.92992,24.54396]]]]}},{type:"Feature",properties:{iso1A2:"RE",iso1A3:"REU",iso1N3:"638",wikidata:"Q17070",nameEn:"R\xe9union",country:"FR",groups:["Q3320166","EU","014","202","002","UN"],callingCodes:["262"]},geometry:{type:"MultiPolygon",coordinates:[[[[53.37984,-21.23941],[56.73473,-21.9174],[56.62373,-20.2711],[53.37984,-21.23941]]]]}},{type:"Feature",properties:{iso1A2:"RO",iso1A3:"ROU",iso1N3:"642",wikidata:"Q218",nameEn:"Romania",groups:["EU","151","150","UN"],callingCodes:["40"]},geometry:{type:"MultiPolygon",coordinates:[[[[27.15622,47.98538],[27.02985,48.09083],[27.04118,48.12522],[26.96119,48.13003],[26.98042,48.15752],[26.94265,48.1969],[26.87708,48.19919],[26.81161,48.25049],[26.62823,48.25804],[26.55202,48.22445],[26.33504,48.18418],[26.17711,47.99246],[26.05901,47.9897],[25.77723,47.93919],[25.63878,47.94924],[25.23778,47.89403],[25.11144,47.75203],[24.88896,47.7234],[24.81893,47.82031],[24.70632,47.84428],[24.61994,47.95062],[24.43578,47.97131],[24.34926,47.9244],[24.22566,47.90231],[24.11281,47.91487],[24.06466,47.95317],[24.02999,47.95087],[24.00801,47.968],[23.98553,47.96076],[23.96337,47.96672],[23.94192,47.94868],[23.89352,47.94512],[23.8602,47.9329],[23.80904,47.98142],[23.75188,47.99705],[23.66262,47.98786],[23.63894,48.00293],[23.5653,48.00499],[23.52803,48.01818],[23.4979,47.96858],[23.33577,48.0237],[23.27397,48.08245],[23.15999,48.12188],[23.1133,48.08061],[23.08858,48.00716],[23.0158,47.99338],[22.92241,48.02002],[22.94301,47.96672],[22.89849,47.95851],[22.77991,47.87211],[22.76617,47.8417],[22.67247,47.7871],[22.46559,47.76583],[22.41979,47.7391],[22.31816,47.76126],[22.00917,47.50492],[22.03389,47.42508],[22.01055,47.37767],[21.94463,47.38046],[21.78395,47.11104],[21.648,47.03902],[21.68645,46.99595],[21.59581,46.91628],[21.59307,46.86935],[21.52028,46.84118],[21.48935,46.7577],[21.5151,46.72147],[21.43926,46.65109],[21.33214,46.63035],[21.26929,46.4993],[21.28061,46.44941],[21.16872,46.30118],[21.06572,46.24897],[20.86797,46.28884],[20.74574,46.25467],[20.76085,46.21002],[20.63863,46.12728],[20.49718,46.18721],[20.45377,46.14405],[20.35573,46.16629],[20.28324,46.1438],[20.26068,46.12332],[20.35862,45.99356],[20.54818,45.89939],[20.65645,45.82801],[20.70069,45.7493],[20.77416,45.75601],[20.78446,45.78522],[20.82364,45.77738],[20.80361,45.65875],[20.76798,45.60969],[20.83321,45.53567],[20.77217,45.49788],[20.86026,45.47295],[20.87948,45.42743],[21.09894,45.30144],[21.17612,45.32566],[21.20392,45.2677],[21.29398,45.24148],[21.48278,45.19557],[21.51299,45.15345],[21.4505,45.04294],[21.35855,45.01941],[21.54938,44.9327],[21.56328,44.89502],[21.48202,44.87199],[21.44013,44.87613],[21.35643,44.86364],[21.38802,44.78133],[21.55007,44.77304],[21.60019,44.75208],[21.61942,44.67059],[21.67504,44.67107],[21.71692,44.65349],[21.7795,44.66165],[21.99364,44.63395],[22.08016,44.49844],[22.13234,44.47444],[22.18315,44.48179],[22.30844,44.6619],[22.45301,44.7194],[22.61917,44.61489],[22.69196,44.61587],[22.76749,44.54446],[22.70981,44.51852],[22.61368,44.55719],[22.56493,44.53419],[22.54021,44.47836],[22.45436,44.47258],[22.56012,44.30712],[22.68166,44.28206],[22.67173,44.21564],[23.04988,44.07694],[23.01674,44.01946],[22.87873,43.9844],[22.83753,43.88055],[22.85314,43.84452],[23.05288,43.79494],[23.26772,43.84843],[23.4507,43.84936],[23.61687,43.79289],[23.73978,43.80627],[24.18149,43.68218],[24.35364,43.70211],[24.50264,43.76314],[24.62281,43.74082],[24.73542,43.68523],[24.96682,43.72693],[25.10718,43.6831],[25.17144,43.70261],[25.39528,43.61866],[25.72792,43.69263],[25.94911,43.85745],[26.05584,43.90925],[26.10115,43.96908],[26.38764,44.04356],[26.62712,44.05698],[26.95141,44.13555],[27.26845,44.12602],[27.39757,44.0141],[27.60834,44.01206],[27.64542,44.04958],[27.73468,43.95326],[27.92008,44.00761],[27.99558,43.84193],[28.23293,43.76],[29.24336,43.70874],[30.04414,45.08461],[29.69272,45.19227],[29.65428,45.25629],[29.68175,45.26885],[29.59798,45.38857],[29.42632,45.44545],[29.24779,45.43388],[28.96077,45.33164],[28.94292,45.28045],[28.81383,45.3384],[28.78911,45.24179],[28.71358,45.22631],[28.5735,45.24759],[28.34554,45.32102],[28.28504,45.43907],[28.21139,45.46895],[28.18741,45.47358],[28.08927,45.6051],[28.16568,45.6421],[28.13111,45.92819],[28.08612,46.01105],[28.13684,46.18099],[28.10937,46.22852],[28.19864,46.31869],[28.18902,46.35283],[28.25769,46.43334],[28.22281,46.50481],[28.24808,46.64305],[28.12173,46.82283],[28.09095,46.97621],[27.81892,47.1381],[27.73172,47.29248],[27.68706,47.28962],[27.60263,47.32507],[27.55731,47.46637],[27.47942,47.48113],[27.3979,47.59473],[27.32202,47.64009],[27.25519,47.71366],[27.29069,47.73722],[27.1618,47.92391],[27.15622,47.98538]]]]}},{type:"Feature",properties:{iso1A2:"RS",iso1A3:"SRB",iso1N3:"688",wikidata:"Q403",nameEn:"Serbia",groups:["039","150","UN"],callingCodes:["381"]},geometry:{type:"MultiPolygon",coordinates:[[[[19.66007,46.19005],[19.56113,46.16824],[19.52473,46.1171],[19.28826,45.99694],[19.14543,45.9998],[19.10388,46.04015],[19.0791,45.96458],[19.01284,45.96529],[18.99712,45.93537],[18.81394,45.91329],[18.85783,45.85493],[18.90305,45.71863],[18.96691,45.66731],[18.88776,45.57253],[18.94562,45.53712],[19.07471,45.53086],[19.08364,45.48804],[18.99918,45.49333],[18.97446,45.37528],[19.10774,45.29547],[19.28208,45.23813],[19.41941,45.23475],[19.43589,45.17137],[19.19144,45.17863],[19.14063,45.12972],[19.07952,45.14668],[19.1011,45.01191],[19.05205,44.97692],[19.15573,44.95409],[19.06853,44.89915],[19.02871,44.92541],[18.98957,44.90645],[19.01994,44.85493],[19.18183,44.92055],[19.36722,44.88164],[19.32543,44.74058],[19.26388,44.65412],[19.16699,44.52197],[19.13369,44.52521],[19.12278,44.50132],[19.14837,44.45253],[19.14681,44.41463],[19.11785,44.40313],[19.10749,44.39421],[19.10704,44.38249],[19.10365,44.37795],[19.10298,44.36924],[19.11865,44.36712],[19.1083,44.3558],[19.11547,44.34218],[19.13556,44.338],[19.13332,44.31492],[19.16741,44.28648],[19.18328,44.28383],[19.20508,44.2917],[19.23306,44.26097],[19.26945,44.26957],[19.32464,44.27185],[19.34773,44.23244],[19.3588,44.18353],[19.40927,44.16722],[19.43905,44.13088],[19.47338,44.15034],[19.48386,44.14332],[19.47321,44.1193],[19.51167,44.08158],[19.55999,44.06894],[19.57467,44.04716],[19.61991,44.05254],[19.61836,44.01464],[19.56498,43.99922],[19.52515,43.95573],[19.38439,43.96611],[19.24363,44.01502],[19.23465,43.98764],[19.3986,43.79668],[19.5176,43.71403],[19.50455,43.58385],[19.42696,43.57987],[19.41941,43.54056],[19.36653,43.60921],[19.33426,43.58833],[19.2553,43.5938],[19.24774,43.53061],[19.22807,43.5264],[19.22229,43.47926],[19.44315,43.38846],[19.48171,43.32644],[19.52962,43.31623],[19.54598,43.25158],[19.62661,43.2286],[19.64063,43.19027],[19.76918,43.16044],[19.79255,43.11951],[19.92576,43.08539],[19.96549,43.11098],[19.98887,43.0538],[20.04729,43.02732],[20.05431,42.99571],[20.12325,42.96237],[20.14896,42.99058],[20.16415,42.97177],[20.34528,42.90676],[20.35692,42.8335],[20.40594,42.84853],[20.43734,42.83157],[20.53484,42.8885],[20.48692,42.93208],[20.59929,43.01067],[20.64557,43.00826],[20.69515,43.09641],[20.59929,43.20492],[20.68688,43.21335],[20.73811,43.25068],[20.82145,43.26769],[20.88685,43.21697],[20.83727,43.17842],[20.96287,43.12416],[21.00749,43.13984],[21.05378,43.10707],[21.08952,43.13471],[21.14465,43.11089],[21.16734,42.99694],[21.2041,43.02277],[21.23877,43.00848],[21.23534,42.95523],[21.2719,42.8994],[21.32974,42.90424],[21.36941,42.87397],[21.44047,42.87276],[21.39045,42.74888],[21.47498,42.74695],[21.59154,42.72643],[21.58755,42.70418],[21.6626,42.67813],[21.75025,42.70125],[21.79413,42.65923],[21.75672,42.62695],[21.7327,42.55041],[21.70522,42.54176],[21.7035,42.51899],[21.62556,42.45106],[21.64209,42.41081],[21.62887,42.37664],[21.59029,42.38042],[21.57021,42.3647],[21.53467,42.36809],[21.5264,42.33634],[21.56772,42.30946],[21.58992,42.25915],[21.70111,42.23789],[21.77176,42.2648],[21.84654,42.3247],[21.91595,42.30392],[21.94405,42.34669],[22.02908,42.29848],[22.16384,42.32103],[22.29605,42.37477],[22.29275,42.34913],[22.34773,42.31725],[22.45919,42.33822],[22.47498,42.3915],[22.51961,42.3991],[22.55669,42.50144],[22.43983,42.56851],[22.4997,42.74144],[22.43309,42.82057],[22.54302,42.87774],[22.74826,42.88701],[22.78397,42.98253],[22.89521,43.03625],[22.98104,43.11199],[23.00806,43.19279],[22.89727,43.22417],[22.82036,43.33665],[22.53397,43.47225],[22.47582,43.6558],[22.41043,43.69566],[22.35558,43.81281],[22.41449,44.00514],[22.61688,44.06534],[22.61711,44.16938],[22.67173,44.21564],[22.68166,44.28206],[22.56012,44.30712],[22.45436,44.47258],[22.54021,44.47836],[22.56493,44.53419],[22.61368,44.55719],[22.70981,44.51852],[22.76749,44.54446],[22.69196,44.61587],[22.61917,44.61489],[22.45301,44.7194],[22.30844,44.6619],[22.18315,44.48179],[22.13234,44.47444],[22.08016,44.49844],[21.99364,44.63395],[21.7795,44.66165],[21.71692,44.65349],[21.67504,44.67107],[21.61942,44.67059],[21.60019,44.75208],[21.55007,44.77304],[21.38802,44.78133],[21.35643,44.86364],[21.44013,44.87613],[21.48202,44.87199],[21.56328,44.89502],[21.54938,44.9327],[21.35855,45.01941],[21.4505,45.04294],[21.51299,45.15345],[21.48278,45.19557],[21.29398,45.24148],[21.20392,45.2677],[21.17612,45.32566],[21.09894,45.30144],[20.87948,45.42743],[20.86026,45.47295],[20.77217,45.49788],[20.83321,45.53567],[20.76798,45.60969],[20.80361,45.65875],[20.82364,45.77738],[20.78446,45.78522],[20.77416,45.75601],[20.70069,45.7493],[20.65645,45.82801],[20.54818,45.89939],[20.35862,45.99356],[20.26068,46.12332],[20.09713,46.17315],[20.03533,46.14509],[20.01816,46.17696],[19.93508,46.17553],[19.81491,46.1313],[19.66007,46.19005]]]]}},{type:"Feature",properties:{iso1A2:"RU",iso1A3:"RUS",iso1N3:"643",wikidata:"Q159",nameEn:"Russia"},geometry:null},{type:"Feature",properties:{iso1A2:"RW",iso1A3:"RWA",iso1N3:"646",wikidata:"Q1037",nameEn:"Rwanda",groups:["014","202","002","UN"],callingCodes:["250"]},geometry:{type:"MultiPolygon",coordinates:[[[[30.47194,-1.0555],[30.35212,-1.06896],[30.16369,-1.34303],[29.912,-1.48269],[29.82657,-1.31187],[29.59061,-1.39016],[29.53062,-1.40499],[29.45038,-1.5054],[29.36322,-1.50887],[29.24323,-1.66826],[29.24458,-1.69663],[29.11847,-1.90576],[29.17562,-2.12278],[29.105,-2.27043],[29.00051,-2.29001],[28.95642,-2.37321],[28.89601,-2.37321],[28.86826,-2.41888],[28.86846,-2.44866],[28.89132,-2.47557],[28.89342,-2.49017],[28.88846,-2.50493],[28.87497,-2.50887],[28.86209,-2.5231],[28.86193,-2.53185],[28.87943,-2.55165],[28.89288,-2.55848],[28.90226,-2.62385],[28.89793,-2.66111],[28.94346,-2.69124],[29.00357,-2.70596],[29.04081,-2.7416],[29.0562,-2.58632],[29.32234,-2.6483],[29.36805,-2.82933],[29.88237,-2.75105],[29.95911,-2.33348],[30.14034,-2.43626],[30.42933,-2.31064],[30.54501,-2.41404],[30.83915,-2.35795],[30.89303,-2.08223],[30.80802,-1.91477],[30.84079,-1.64652],[30.71974,-1.43244],[30.57123,-1.33264],[30.50889,-1.16412],[30.45116,-1.10641],[30.47194,-1.0555]]]]}},{type:"Feature",properties:{iso1A2:"SA",iso1A3:"SAU",iso1N3:"682",wikidata:"Q851",nameEn:"Saudi Arabia",groups:["145","142","UN"],callingCodes:["966"]},geometry:{type:"MultiPolygon",coordinates:[[[[40.01521,32.05667],[39.29903,32.23259],[38.99233,31.99721],[36.99791,31.50081],[37.99354,30.49998],[37.66395,30.33245],[37.4971,29.99949],[36.75083,29.86903],[36.50005,29.49696],[36.07081,29.18469],[34.8812,29.36878],[34.4454,27.91479],[37.8565,22.00903],[39.63762,18.37348],[40.99158,15.81743],[42.15205,16.40211],[42.76801,16.40371],[42.94625,16.39721],[42.94351,16.49467],[42.97215,16.51093],[43.11601,16.53166],[43.15274,16.67248],[43.22066,16.65179],[43.21325,16.74416],[43.25857,16.75304],[43.26303,16.79479],[43.24801,16.80613],[43.22956,16.80613],[43.22012,16.83932],[43.18338,16.84852],[43.1398,16.90696],[43.19328,16.94703],[43.1813,16.98438],[43.18233,17.02673],[43.23967,17.03428],[43.17787,17.14717],[43.20156,17.25901],[43.32653,17.31179],[43.22533,17.38343],[43.29185,17.53224],[43.43005,17.56148],[43.70631,17.35762],[44.50126,17.47475],[46.31018,17.20464],[46.76494,17.29151],[47.00571,16.94765],[47.48245,17.10808],[47.58351,17.50366],[48.19996,18.20584],[49.04884,18.59899],[52.00311,19.00083],[54.99756,20.00083],[55.66469,21.99658],[55.2137,22.71065],[55.13599,22.63334],[52.56622,22.94341],[51.59617,24.12041],[51.58871,24.27256],[51.41644,24.39615],[51.58834,24.66608],[51.39468,24.62785],[51.29972,24.50747],[51.09638,24.46907],[50.92992,24.54396],[50.8133,24.74049],[50.57069,25.57887],[50.302,25.87592],[50.26923,26.08243],[50.38162,26.53976],[50.71771,26.73086],[50.37726,27.89227],[49.98877,27.87827],[49.00421,28.81495],[48.42991,28.53628],[47.70561,28.5221],[47.59863,28.66798],[47.58376,28.83382],[47.46202,29.0014],[46.5527,29.10283],[46.42415,29.05947],[44.72255,29.19736],[42.97796,30.48295],[42.97601,30.72204],[40.01521,32.05667]]]]}},{type:"Feature",properties:{iso1A2:"SB",iso1A3:"SLB",iso1N3:"090",wikidata:"Q685",nameEn:"Solomon Islands",groups:["054","009","UN"],driveSide:"left",callingCodes:["677"]},geometry:{type:"MultiPolygon",coordinates:[[[[172.71443,-12.01327],[160.43769,-4.17974],[156.03296,-6.55528],[156.03993,-6.65703],[155.92557,-6.84664],[155.69784,-6.92661],[155.60735,-6.92266],[154.74815,-7.33315],[156.73836,-14.50464],[172.71443,-12.01327]]]]}},{type:"Feature",properties:{iso1A2:"SC",iso1A3:"SYC",iso1N3:"690",wikidata:"Q1042",nameEn:"Seychelles",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["248"]},geometry:{type:"MultiPolygon",coordinates:[[[[43.75112,-10.38913],[54.83239,-10.93575],[66.3222,5.65313],[43.75112,-10.38913]]]]}},{type:"Feature",properties:{iso1A2:"SD",iso1A3:"SDN",iso1N3:"729",wikidata:"Q1049",nameEn:"Sudan",groups:["015","002","UN"],callingCodes:["249"]},geometry:{type:"MultiPolygon",coordinates:[[[[37.8565,22.00903],[34.0765,22.00501],[33.99686,21.76784],[33.57251,21.72406],[33.17563,22.00405],[24.99885,21.99535],[24.99794,19.99661],[23.99715,20.00038],[23.99539,19.49944],[23.99997,15.69575],[23.62785,15.7804],[23.38812,15.69649],[23.10792,15.71297],[22.93201,15.55107],[22.92579,15.47007],[22.99584,15.40105],[22.99584,15.22989],[22.66115,14.86308],[22.70474,14.69149],[22.38562,14.58907],[22.44944,14.24986],[22.55997,14.23024],[22.5553,14.11704],[22.22995,13.96754],[22.08674,13.77863],[22.29689,13.3731],[22.1599,13.19281],[22.02914,13.13976],[21.94819,13.05637],[21.81432,12.81362],[21.89371,12.68001],[21.98711,12.63292],[22.15679,12.66634],[22.22684,12.74682],[22.46345,12.61925],[22.38873,12.45514],[22.50548,12.16769],[22.48369,12.02766],[22.64092,12.07485],[22.54907,11.64372],[22.7997,11.40424],[22.93124,11.41645],[22.97249,11.21955],[22.87758,10.91915],[23.02221,10.69235],[23.3128,10.45214],[23.67164,9.86923],[23.69155,9.67566],[24.09319,9.66572],[24.12744,9.73784],[24.49389,9.79962],[24.84653,9.80643],[24.97739,9.9081],[25.05688,10.06776],[25.0918,10.33718],[25.78141,10.42599],[25.93163,10.38159],[25.93241,10.17941],[26.21338,9.91545],[26.35815,9.57946],[26.70685,9.48735],[27.14427,9.62858],[27.90704,9.61323],[28.99983,9.67155],[29.06988,9.74826],[29.53844,9.75133],[29.54,10.07949],[29.94629,10.29245],[30.00389,10.28633],[30.53005,9.95992],[30.82893,9.71451],[30.84605,9.7498],[31.28504,9.75287],[31.77539,10.28939],[31.99177,10.65065],[32.46967,11.04662],[32.39358,11.18207],[32.39578,11.70208],[32.10079,11.95203],[32.73921,11.95203],[32.73921,12.22757],[33.25876,12.22111],[33.13988,11.43248],[33.26977,10.83632],[33.24645,10.77913],[33.52294,10.64382],[33.66604,10.44254],[33.80913,10.32994],[33.90159,10.17179],[33.96984,10.15446],[33.99185,9.99623],[33.96323,9.80972],[33.9082,9.762],[33.87958,9.49937],[34.10229,9.50238],[34.08717,9.55243],[34.13186,9.7492],[34.20484,9.9033],[34.22718,10.02506],[34.32102,10.11599],[34.34783,10.23914],[34.2823,10.53508],[34.4372,10.781],[34.59062,10.89072],[34.77383,10.74588],[34.77532,10.69027],[34.86618,10.74588],[34.86916,10.78832],[34.97491,10.86147],[34.97789,10.91559],[34.93172,10.95946],[35.01215,11.19626],[34.95704,11.24448],[35.09556,11.56278],[35.05832,11.71158],[35.11492,11.85156],[35.24302,11.91132],[35.70476,12.67101],[36.01458,12.72478],[36.14268,12.70879],[36.16651,12.88019],[36.13374,12.92665],[36.24545,13.36759],[36.38993,13.56459],[36.48824,13.83954],[36.44653,13.95666],[36.54376,14.25597],[36.44337,15.14963],[36.54276,15.23478],[36.69761,15.75323],[36.76371,15.80831],[36.92193,16.23451],[36.99777,17.07172],[37.42694,17.04041],[37.50967,17.32199],[38.13362,17.53906],[38.37133,17.66269],[38.45916,17.87167],[38.57727,17.98125],[39.63762,18.37348],[37.8565,22.00903]]]]}},{type:"Feature",properties:{iso1A2:"SE",iso1A3:"SWE",iso1N3:"752",wikidata:"Q34",nameEn:"Sweden",groups:["EU","154","150","UN"],callingCodes:["46"]},geometry:{type:"MultiPolygon",coordinates:[[[[24.15791,65.85385],[23.90497,66.15802],[23.71339,66.21299],[23.64982,66.30603],[23.67591,66.3862],[23.63776,66.43568],[23.85959,66.56434],[23.89488,66.772],[23.98059,66.79585],[23.98563,66.84149],[23.56214,67.17038],[23.58735,67.20752],[23.54701,67.25435],[23.75372,67.29914],[23.75372,67.43688],[23.39577,67.46974],[23.54701,67.59306],[23.45627,67.85297],[23.65793,67.9497],[23.40081,68.05545],[23.26469,68.15134],[23.15377,68.14759],[23.10336,68.26551],[22.73028,68.40881],[22.00429,68.50692],[21.03001,68.88969],[20.90649,68.89696],[20.85104,68.93142],[20.91658,68.96764],[20.78802,69.03087],[20.55258,69.06069],[20.0695,69.04469],[20.28444,68.93283],[20.33435,68.80174],[20.22027,68.67246],[19.95647,68.55546],[20.22027,68.48759],[19.93508,68.35911],[18.97255,68.52416],[18.63032,68.50849],[18.39503,68.58672],[18.1241,68.53721],[18.13836,68.20874],[17.90787,67.96537],[17.30416,68.11591],[16.7409,67.91037],[16.38441,67.52923],[16.12774,67.52106],[16.09922,67.4364],[16.39154,67.21653],[16.35589,67.06419],[15.37197,66.48217],[15.49318,66.28509],[15.05113,66.15572],[14.53778,66.12399],[14.50926,65.31786],[13.64276,64.58402],[14.11117,64.46674],[14.16051,64.18725],[13.98222,64.00953],[13.23411,64.09087],[12.74105,64.02171],[12.14928,63.59373],[12.19919,63.47935],[11.98529,63.27487],[12.19919,63.00104],[12.07085,62.6297],[12.29187,62.25699],[12.14746,61.7147],[12.40595,61.57226],[12.57707,61.56547],[12.86939,61.35427],[12.69115,61.06584],[12.2277,61.02442],[12.59133,60.50559],[12.52003,60.13846],[12.36317,59.99259],[12.15641,59.8926],[11.87121,59.86039],[11.92112,59.69531],[11.69297,59.59442],[11.8213,59.24985],[11.65732,58.90177],[11.45199,58.89604],[11.4601,58.99022],[11.34459,59.11672],[11.15367,59.07862],[11.08911,58.98745],[10.64958,58.89391],[10.40861,58.38489],[12.16597,56.60205],[12.07466,56.29488],[12.65312,56.04345],[12.6372,55.91371],[12.88472,55.63369],[12.60345,55.42675],[12.84405,55.13257],[14.28399,55.1553],[14.89259,55.5623],[15.79951,55.54655],[19.64795,57.06466],[19.84909,57.57876],[20.5104,59.15546],[19.08191,60.19152],[19.23413,60.61414],[20.15877,63.06556],[24.14112,65.39731],[24.15107,65.81427],[24.14798,65.83466],[24.15791,65.85385]]]]}},{type:"Feature",properties:{iso1A2:"SG",iso1A3:"SGP",iso1N3:"702",wikidata:"Q334",nameEn:"Singapore",groups:["035","142","UN"],driveSide:"left",callingCodes:["65"]},geometry:{type:"MultiPolygon",coordinates:[[[[104.00131,1.42405],[103.93384,1.42926],[103.89565,1.42841],[103.86383,1.46288],[103.81181,1.47953],[103.76395,1.45183],[103.74161,1.4502],[103.7219,1.46108],[103.67468,1.43166],[103.62738,1.35255],[103.56591,1.19719],[103.66049,1.18825],[103.74084,1.12902],[104.03085,1.26954],[104.12282,1.27714],[104.08072,1.35998],[104.09162,1.39694],[104.08871,1.42015],[104.07348,1.43322],[104.04622,1.44691],[104.02277,1.4438],[104.00131,1.42405]]]]}},{type:"Feature",properties:{iso1A2:"SH",iso1A3:"SHN",iso1N3:"654",wikidata:"Q192184",nameEn:"Saint Helena, Ascension and Tristan da Cunha",country:"GB"},geometry:null},{type:"Feature",properties:{iso1A2:"SI",iso1A3:"SVN",iso1N3:"705",wikidata:"Q215",nameEn:"Slovenia",groups:["EU","039","150","UN"],callingCodes:["386"]},geometry:{type:"MultiPolygon",coordinates:[[[[16.50139,46.56684],[16.39217,46.63673],[16.38594,46.6549],[16.41863,46.66238],[16.42641,46.69228],[16.37816,46.69975],[16.30966,46.7787],[16.31303,46.79838],[16.3408,46.80641],[16.34547,46.83836],[16.2941,46.87137],[16.2365,46.87775],[16.21892,46.86961],[16.15711,46.85434],[16.14365,46.8547],[16.10983,46.867],[16.05786,46.83927],[15.99054,46.82772],[15.99126,46.78199],[15.98432,46.74991],[15.99769,46.7266],[16.02808,46.71094],[16.04347,46.68694],[16.04036,46.6549],[15.99988,46.67947],[15.98512,46.68463],[15.94864,46.68769],[15.87691,46.7211],[15.8162,46.71897],[15.78518,46.70712],[15.76771,46.69863],[15.73823,46.70011],[15.72279,46.69548],[15.69523,46.69823],[15.67411,46.70735],[15.6543,46.70616],[15.6543,46.69228],[15.6365,46.6894],[15.63255,46.68069],[15.62317,46.67947],[15.59826,46.68908],[15.54533,46.66985],[15.55333,46.64988],[15.54431,46.6312],[15.46906,46.61321],[15.45514,46.63697],[15.41235,46.65556],[15.23711,46.63994],[15.14215,46.66131],[15.01451,46.641],[14.98024,46.6009],[14.96002,46.63459],[14.92283,46.60848],[14.87129,46.61],[14.86419,46.59411],[14.83549,46.56614],[14.81836,46.51046],[14.72185,46.49974],[14.66892,46.44936],[14.5942,46.43434],[14.56463,46.37208],[14.52176,46.42617],[14.45877,46.41717],[14.42608,46.44614],[14.314,46.43327],[14.28326,46.44315],[14.15989,46.43327],[14.12097,46.47724],[14.04002,46.49117],[14.00422,46.48474],[13.89837,46.52331],[13.7148,46.5222],[13.68684,46.43881],[13.59777,46.44137],[13.5763,46.42613],[13.5763,46.40915],[13.47019,46.3621],[13.43418,46.35992],[13.44808,46.33507],[13.37671,46.29668],[13.42218,46.20758],[13.47587,46.22725],[13.56114,46.2054],[13.56682,46.18703],[13.64451,46.18966],[13.66472,46.17392],[13.64053,46.13587],[13.57072,46.09022],[13.50104,46.05986],[13.49568,46.04839],[13.50998,46.04498],[13.49702,46.01832],[13.47474,46.00546],[13.50104,45.98078],[13.52963,45.96588],[13.56759,45.96991],[13.58903,45.99009],[13.62074,45.98388],[13.63458,45.98947],[13.64307,45.98326],[13.6329,45.94894],[13.63815,45.93607],[13.61931,45.91782],[13.60857,45.89907],[13.59565,45.89446],[13.58644,45.88173],[13.57563,45.8425],[13.58858,45.83503],[13.59784,45.8072],[13.66986,45.79955],[13.8235,45.7176],[13.83332,45.70855],[13.83422,45.68703],[13.87933,45.65207],[13.9191,45.6322],[13.8695,45.60835],[13.86771,45.59898],[13.84106,45.58185],[13.78445,45.5825],[13.74587,45.59811],[13.7198,45.59352],[13.6076,45.64761],[13.45644,45.59464],[13.56979,45.4895],[13.62902,45.45898],[13.67398,45.4436],[13.7785,45.46787],[13.81742,45.43729],[13.88124,45.42637],[13.90771,45.45149],[13.97309,45.45258],[13.99488,45.47551],[13.96063,45.50825],[14.00578,45.52352],[14.07116,45.48752],[14.20348,45.46896],[14.22371,45.50388],[14.24239,45.50607],[14.26611,45.48239],[14.27681,45.4902],[14.32487,45.47142],[14.36693,45.48642],[14.49769,45.54424],[14.5008,45.60852],[14.53816,45.6205],[14.57397,45.67165],[14.60977,45.66403],[14.59576,45.62812],[14.69694,45.57366],[14.68605,45.53006],[14.71718,45.53442],[14.80124,45.49515],[14.81992,45.45913],[14.90554,45.47769],[14.92266,45.52788],[15.02385,45.48533],[15.05187,45.49079],[15.16862,45.42309],[15.27758,45.46678],[15.33051,45.45258],[15.38188,45.48752],[15.30249,45.53224],[15.29837,45.5841],[15.27747,45.60504],[15.31027,45.6303],[15.34695,45.63382],[15.34214,45.64702],[15.38952,45.63682],[15.4057,45.64727],[15.34919,45.71623],[15.30872,45.69014],[15.25423,45.72275],[15.40836,45.79491],[15.47531,45.79802],[15.47325,45.8253],[15.52234,45.82195],[15.57952,45.84953],[15.64185,45.82915],[15.66662,45.84085],[15.70411,45.8465],[15.68232,45.86819],[15.68383,45.88867],[15.67967,45.90455],[15.70636,45.92116],[15.70327,46.00015],[15.71246,46.01196],[15.72977,46.04682],[15.62317,46.09103],[15.6083,46.11992],[15.59909,46.14761],[15.64904,46.19229],[15.6434,46.21396],[15.67395,46.22478],[15.75436,46.21969],[15.75479,46.20336],[15.78817,46.21719],[15.79284,46.25811],[15.97965,46.30652],[16.07616,46.3463],[16.07314,46.36458],[16.05065,46.3833],[16.05281,46.39141],[16.14859,46.40547],[16.18824,46.38282],[16.30233,46.37837],[16.30162,46.40437],[16.27329,46.41467],[16.27398,46.42875],[16.25124,46.48067],[16.23961,46.49653],[16.26759,46.50566],[16.26733,46.51505],[16.29793,46.5121],[16.37193,46.55008],[16.38771,46.53608],[16.44036,46.5171],[16.5007,46.49644],[16.52604,46.47831],[16.59527,46.47524],[16.52604,46.5051],[16.52885,46.53303],[16.50139,46.56684]]]]}},{type:"Feature",properties:{iso1A2:"SJ",iso1A3:"SJM",iso1N3:"744",wikidata:"Q842829",nameEn:"Svalbard and Jan Mayen",country:"NO"},geometry:null},{type:"Feature",properties:{iso1A2:"SK",iso1A3:"SVK",iso1N3:"703",wikidata:"Q214",nameEn:"Slovakia",groups:["EU","151","150","UN"],callingCodes:["421"]},geometry:{type:"MultiPolygon",coordinates:[[[[19.82237,49.27806],[19.78581,49.41701],[19.72127,49.39288],[19.6375,49.40897],[19.64162,49.45184],[19.57845,49.46077],[19.53313,49.52856],[19.52626,49.57311],[19.45348,49.61583],[19.37795,49.574],[19.36009,49.53747],[19.25435,49.53391],[19.18019,49.41165],[18.9742,49.39557],[18.97283,49.49914],[18.94536,49.52143],[18.84521,49.51672],[18.74761,49.492],[18.67757,49.50895],[18.6144,49.49824],[18.57183,49.51162],[18.53063,49.49022],[18.54848,49.47059],[18.44686,49.39467],[18.4084,49.40003],[18.4139,49.36517],[18.36446,49.3267],[18.18456,49.28909],[18.15022,49.24518],[18.1104,49.08624],[18.06885,49.03157],[17.91814,49.01784],[17.87831,48.92679],[17.77944,48.92318],[17.73126,48.87885],[17.7094,48.86721],[17.5295,48.81117],[17.45671,48.85004],[17.3853,48.80936],[17.29054,48.85546],[17.19355,48.87602],[17.11202,48.82925],[17.00215,48.70887],[16.93955,48.60371],[16.94611,48.53614],[16.85204,48.44968],[16.8497,48.38321],[16.83588,48.3844],[16.83317,48.38138],[16.84243,48.35258],[16.90903,48.32519],[16.89461,48.31332],[16.97701,48.17385],[17.02919,48.13996],[17.05735,48.14179],[17.09168,48.09366],[17.07039,48.0317],[17.16001,48.00636],[17.23699,48.02094],[17.71215,47.7548],[18.02938,47.75665],[18.29305,47.73541],[18.56496,47.76588],[18.66521,47.76772],[18.74074,47.8157],[18.8506,47.82308],[18.76821,47.87469],[18.76134,47.97499],[18.82176,48.04206],[19.01952,48.07052],[19.23924,48.0595],[19.28182,48.08336],[19.47957,48.09437],[19.52489,48.19791],[19.63338,48.25006],[19.92452,48.1283],[20.24312,48.2784],[20.29943,48.26104],[20.5215,48.53336],[20.83248,48.5824],[21.11516,48.49546],[21.44063,48.58456],[21.6068,48.50365],[21.67134,48.3989],[21.72525,48.34628],[21.8279,48.33321],[21.83339,48.36242],[22.14689,48.4005],[22.16023,48.56548],[22.21379,48.6218],[22.34151,48.68893],[22.42934,48.92857],[22.48296,48.99172],[22.54338,49.01424],[22.56155,49.08865],[22.04427,49.22136],[21.96385,49.3437],[21.82927,49.39467],[21.77983,49.35443],[21.62328,49.4447],[21.43376,49.41433],[21.27858,49.45988],[21.19756,49.4054],[21.12477,49.43666],[21.041,49.41791],[21.09799,49.37176],[20.98733,49.30774],[20.9229,49.29626],[20.77971,49.35383],[20.72274,49.41813],[20.61666,49.41791],[20.5631,49.375],[20.46422,49.41612],[20.39939,49.3896],[20.31728,49.39914],[20.31453,49.34817],[20.21977,49.35265],[20.13738,49.31685],[20.08238,49.1813],[19.98494,49.22904],[19.90529,49.23532],[19.86409,49.19316],[19.75286,49.20751],[19.82237,49.27806]]]]}},{type:"Feature",properties:{iso1A2:"SL",iso1A3:"SLE",iso1N3:"694",wikidata:"Q1044",nameEn:"Sierra Leone",groups:["011","202","002","UN"],callingCodes:["232"]},geometry:{type:"MultiPolygon",coordinates:[[[[-10.27575,8.48711],[-10.37257,8.48941],[-10.54891,8.31174],[-10.63934,8.35326],[-10.70565,8.29235],[-10.61422,8.5314],[-10.47707,8.67669],[-10.56197,8.81225],[-10.5783,9.06386],[-10.74484,9.07998],[-10.6534,9.29919],[-11.2118,10.00098],[-11.89624,9.99763],[-11.91023,9.93927],[-12.12634,9.87203],[-12.24262,9.92386],[-12.47254,9.86834],[-12.76788,9.3133],[-12.94095,9.26335],[-13.08953,9.0409],[-13.18586,9.0925],[-13.29911,9.04245],[-14.36218,8.64107],[-12.15048,6.15992],[-11.50429,6.92704],[-11.4027,6.97746],[-11.29417,7.21576],[-10.60422,7.7739],[-10.60492,8.04072],[-10.57523,8.04829],[-10.51554,8.1393],[-10.45023,8.15627],[-10.35227,8.15223],[-10.29839,8.21283],[-10.31635,8.28554],[-10.30084,8.30008],[-10.27575,8.48711]]]]}},{type:"Feature",properties:{iso1A2:"SM",iso1A3:"SMR",iso1N3:"674",wikidata:"Q238",nameEn:"San Marino",groups:["039","150","UN"],callingCodes:["378"]},geometry:{type:"MultiPolygon",coordinates:[[[[12.45648,43.89369],[12.48771,43.89706],[12.49429,43.90973],[12.49247,43.91774],[12.49724,43.92248],[12.50269,43.92363],[12.50496,43.93017],[12.51553,43.94096],[12.51427,43.94897],[12.50655,43.95796],[12.50875,43.96198],[12.50622,43.97131],[12.51109,43.97201],[12.51064,43.98165],[12.5154,43.98508],[12.51463,43.99122],[12.50678,43.99113],[12.49406,43.98492],[12.47853,43.98052],[12.46205,43.97463],[12.44684,43.96597],[12.43662,43.95698],[12.42005,43.9578],[12.41414,43.95273],[12.40415,43.95485],[12.40506,43.94325],[12.41165,43.93769],[12.41551,43.92984],[12.40733,43.92379],[12.41233,43.90956],[12.40935,43.9024],[12.41641,43.89991],[12.44184,43.90498],[12.45648,43.89369]]]]}},{type:"Feature",properties:{iso1A2:"SN",iso1A3:"SEN",iso1N3:"686",wikidata:"Q1041",nameEn:"Senegal",groups:["011","202","002","UN"],callingCodes:["221"]},geometry:{type:"MultiPolygon",coordinates:[[[[-14.32144,16.61495],[-15.00557,16.64997],[-15.6509,16.50315],[-16.27016,16.51565],[-16.4429,16.20605],[-16.44814,16.09753],[-16.48967,16.0496],[-16.50854,16.09032],[-17.15288,16.07139],[-18.35085,14.63444],[-17.43598,13.59273],[-15.47902,13.58758],[-15.36504,13.79313],[-14.93719,13.80173],[-14.34721,13.46578],[-13.8955,13.59126],[-13.79409,13.34472],[-14.36795,13.23033],[-15.14917,13.57989],[-15.26908,13.37768],[-15.80478,13.34832],[-15.80355,13.16729],[-16.69343,13.16791],[-16.74676,13.06025],[-17.43966,13.04579],[-17.4623,11.92379],[-16.70562,12.34803],[-16.38191,12.36449],[-16.20591,12.46157],[-15.67302,12.42974],[-15.17582,12.6847],[-13.70523,12.68013],[-13.05296,12.64003],[-13.06603,12.49342],[-12.87336,12.51892],[-12.35415,12.32758],[-11.91331,12.42008],[-11.46267,12.44559],[-11.37536,12.40788],[-11.39935,12.97808],[-11.63025,13.39174],[-11.83345,13.33333],[-12.06897,13.71049],[-11.93043,13.84505],[-12.23936,14.76324],[-13.11029,15.52116],[-13.43135,16.09022],[-13.80075,16.13961],[-14.32144,16.61495]]]]}},{type:"Feature",properties:{iso1A2:"SO",iso1A3:"SOM",iso1N3:"706",wikidata:"Q1045",nameEn:"Somalia",groups:["014","202","002","UN"],callingCodes:["252"]},geometry:{type:"MultiPolygon",coordinates:[[[[51.12877,12.56479],[43.90659,12.3823],[42.95776,10.98533],[42.69452,10.62672],[42.87643,10.18441],[43.0937,9.90579],[43.23518,9.84605],[43.32613,9.59205],[44.19222,8.93028],[46.99339,7.9989],[47.92477,8.00111],[47.97917,8.00124],[44.98104,4.91821],[44.02436,4.9451],[43.40263,4.79289],[43.04177,4.57923],[42.97746,4.44032],[42.84526,4.28357],[42.55853,4.20518],[42.07619,4.17667],[41.89488,3.97375],[41.31368,3.14314],[40.98767,2.82959],[41.00099,-.83068],[41.56,-1.59812],[41.56362,-1.66375],[41.75542,-1.85308],[57.49095,8.14549],[51.12877,12.56479]]]]}},{type:"Feature",properties:{iso1A2:"SR",iso1A3:"SUR",iso1N3:"740",wikidata:"Q730",nameEn:"Suriname",groups:["005","419","019","UN"],driveSide:"left",callingCodes:["597"]},geometry:{type:"MultiPolygon",coordinates:[[[[-54.26916,5.26909],[-54.01877,5.52789],[-54.01074,5.68785],[-53.7094,6.2264],[-56.84822,6.73257],[-57.31629,5.33714],[-57.22536,5.15605],[-57.37442,5.0208],[-57.8699,4.89394],[-58.0307,3.95513],[-57.35891,3.32121],[-56.70519,2.02964],[-56.55439,2.02003],[-56.47045,1.95135],[-55.99278,1.83137],[-55.89863,1.89861],[-55.92159,2.05236],[-56.13054,2.27723],[-55.96292,2.53188],[-55.71493,2.40342],[-55.01919,2.564],[-54.6084,2.32856],[-54.42864,2.42442],[-54.28534,2.67798],[-53.9849,3.58697],[-53.98914,3.627],[-54.05128,3.63557],[-54.19367,3.84387],[-54.38444,4.13222],[-54.4717,4.91964],[-54.26916,5.26909]]]]}},{type:"Feature",properties:{iso1A2:"SS",iso1A3:"SSD",iso1N3:"728",wikidata:"Q958",nameEn:"South Sudan",groups:["014","202","002","UN"],callingCodes:["211"]},geometry:{type:"MultiPolygon",coordinates:[[[[34.10229,9.50238],[33.87958,9.49937],[33.9082,9.762],[33.96323,9.80972],[33.99185,9.99623],[33.96984,10.15446],[33.90159,10.17179],[33.80913,10.32994],[33.66604,10.44254],[33.52294,10.64382],[33.24645,10.77913],[33.26977,10.83632],[33.13988,11.43248],[33.25876,12.22111],[32.73921,12.22757],[32.73921,11.95203],[32.10079,11.95203],[32.39578,11.70208],[32.39358,11.18207],[32.46967,11.04662],[31.99177,10.65065],[31.77539,10.28939],[31.28504,9.75287],[30.84605,9.7498],[30.82893,9.71451],[30.53005,9.95992],[30.00389,10.28633],[29.94629,10.29245],[29.54,10.07949],[29.53844,9.75133],[29.06988,9.74826],[28.99983,9.67155],[27.90704,9.61323],[27.14427,9.62858],[26.70685,9.48735],[26.35815,9.57946],[26.21338,9.91545],[25.93241,10.17941],[25.93163,10.38159],[25.78141,10.42599],[25.0918,10.33718],[25.05688,10.06776],[24.97739,9.9081],[24.84653,9.80643],[24.49389,9.79962],[24.12744,9.73784],[24.09319,9.66572],[23.69155,9.67566],[23.62179,9.53823],[23.64981,9.44303],[23.64358,9.28637],[23.56263,9.19418],[23.4848,9.16959],[23.44744,8.99128],[23.59065,8.99743],[23.51905,8.71749],[24.25691,8.69288],[24.13238,8.36959],[24.35965,8.26177],[24.85156,8.16933],[24.98855,7.96588],[25.25319,7.8487],[25.29214,7.66675],[25.20649,7.61115],[25.20337,7.50312],[25.35281,7.42595],[25.37461,7.33024],[25.90076,7.09549],[26.38022,6.63493],[26.32729,6.36272],[26.58259,6.1987],[26.51721,6.09655],[27.22705,5.71254],[27.22705,5.62889],[27.28621,5.56382],[27.23017,5.37167],[27.26886,5.25876],[27.44012,5.07349],[27.56656,4.89375],[27.65462,4.89375],[27.76469,4.79284],[27.79551,4.59976],[28.20719,4.35614],[28.6651,4.42638],[28.8126,4.48784],[29.03054,4.48784],[29.22207,4.34297],[29.43341,4.50101],[29.49726,4.7007],[29.82087,4.56246],[29.79666,4.37809],[30.06964,4.13221],[30.1621,4.10586],[30.22374,3.93896],[30.27658,3.95653],[30.47691,3.83353],[30.55396,3.84451],[30.57378,3.74567],[30.56277,3.62703],[30.78512,3.67097],[30.80713,3.60506],[30.85997,3.5743],[30.85153,3.48867],[30.97601,3.693],[31.16666,3.79853],[31.29476,3.8015],[31.50478,3.67814],[31.50776,3.63652],[31.72075,3.74354],[31.81459,3.82083],[31.86821,3.78664],[31.96205,3.6499],[31.95907,3.57408],[32.05187,3.589],[32.08491,3.56287],[32.08866,3.53543],[32.19888,3.50867],[32.20782,3.6053],[32.41337,3.748],[32.72021,3.77327],[32.89746,3.81339],[33.02852,3.89296],[33.18356,3.77812],[33.51264,3.75068],[33.9873,4.23316],[34.47601,4.72162],[35.34151,5.02364],[35.30992,4.90402],[35.47843,4.91872],[35.42366,4.76969],[35.51424,4.61643],[35.9419,4.61933],[35.82118,4.77382],[35.81968,5.10757],[35.8576,5.33413],[35.50792,5.42431],[35.29938,5.34042],[35.31188,5.50106],[35.13058,5.62118],[35.12611,5.68937],[35.00546,5.89387],[34.96227,6.26415],[35.01738,6.46991],[34.87736,6.60161],[34.77459,6.5957],[34.65096,6.72589],[34.53776,6.74808],[34.53925,6.82794],[34.47669,6.91076],[34.35753,6.91963],[34.19369,7.04382],[34.19369,7.12807],[34.01495,7.25664],[34.03878,7.27437],[34.02984,7.36449],[33.87642,7.5491],[33.71407,7.65983],[33.44745,7.7543],[33.32531,7.71297],[33.24637,7.77939],[33.04944,7.78989],[33.0006,7.90333],[33.08401,8.05822],[33.18083,8.13047],[33.1853,8.29264],[33.19721,8.40317],[33.3119,8.45474],[33.54575,8.47094],[33.66938,8.44442],[33.71407,8.3678],[33.87195,8.41938],[33.89579,8.4842],[34.01346,8.50041],[34.14453,8.60204],[34.14304,9.04654],[34.10229,9.50238]]]]}},{type:"Feature",properties:{iso1A2:"ST",iso1A3:"STP",iso1N3:"678",wikidata:"Q1039",nameEn:"S\xe3o Tom\xe9 and Principe",groups:["017","202","002","UN"],callingCodes:["239"]},geometry:{type:"MultiPolygon",coordinates:[[[[4.34149,1.91417],[6.6507,-.28606],[7.9035,1.92304],[4.34149,1.91417]]]]}},{type:"Feature",properties:{iso1A2:"SV",iso1A3:"SLV",iso1N3:"222",wikidata:"Q792",nameEn:"El Salvador",groups:["013","003","419","019","UN"],callingCodes:["503"]},geometry:{type:"MultiPolygon",coordinates:[[[[-89.34776,14.43013],[-89.39028,14.44561],[-89.57441,14.41637],[-89.58814,14.33165],[-89.50614,14.26084],[-89.52397,14.22628],[-89.61844,14.21937],[-89.70756,14.1537],[-89.75569,14.07073],[-89.73251,14.04133],[-89.76103,14.02923],[-89.81807,14.07073],[-89.88937,14.0396],[-90.10505,13.85104],[-90.11344,13.73679],[-90.55276,12.8866],[-88.11443,12.63306],[-87.7346,13.13228],[-87.55124,13.12523],[-87.69751,13.25228],[-87.73714,13.32715],[-87.80177,13.35689],[-87.84675,13.41078],[-87.83467,13.44655],[-87.77354,13.45767],[-87.73841,13.44169],[-87.72115,13.46083],[-87.71657,13.50577],[-87.78148,13.52906],[-87.73106,13.75443],[-87.68821,13.80829],[-87.7966,13.91353],[-88.00331,13.86948],[-88.07641,13.98447],[-88.23018,13.99915],[-88.25791,13.91108],[-88.48982,13.86458],[-88.49738,13.97224],[-88.70661,14.04317],[-88.73182,14.10919],[-88.815,14.11652],[-88.85785,14.17763],[-88.94608,14.20207],[-89.04187,14.33644],[-89.34776,14.43013]]]]}},{type:"Feature",properties:{iso1A2:"SX",iso1A3:"SXM",iso1N3:"534",wikidata:"Q26273",nameEn:"Sint Maarten",aliases:["NL-SX"],country:"NL",groups:["Q1451600","029","003","419","019","UN"],callingCodes:["1 721"]},geometry:{type:"MultiPolygon",coordinates:[[[[-63.33064,17.9615],[-63.1055,17.86651],[-62.93924,18.02904],[-63.02323,18.05757],[-63.04039,18.05619],[-63.0579,18.06614],[-63.07759,18.04943],[-63.09686,18.04608],[-63.11042,18.05339],[-63.13502,18.05445],[-63.33064,17.9615]]]]}},{type:"Feature",properties:{iso1A2:"SY",iso1A3:"SYR",iso1N3:"760",wikidata:"Q858",nameEn:"Syria",groups:["145","142","UN"],callingCodes:["963"]},geometry:{type:"MultiPolygon",coordinates:[[[[42.23683,37.2863],[42.21548,37.28026],[42.20454,37.28715],[42.22381,37.30238],[42.22257,37.31395],[42.2112,37.32491],[42.19301,37.31323],[42.18225,37.28569],[42.00894,37.17209],[41.515,37.08084],[41.21937,37.07665],[40.90856,37.13147],[40.69136,37.0996],[39.81589,36.75538],[39.21538,36.66834],[39.03217,36.70911],[38.74042,36.70629],[38.55908,36.84429],[38.38859,36.90064],[38.21064,36.91842],[37.81974,36.76055],[37.68048,36.75065],[37.49103,36.66904],[37.47253,36.63243],[37.21988,36.6736],[37.16177,36.66069],[37.10894,36.6704],[37.08279,36.63495],[37.02088,36.66422],[37.01647,36.69512],[37.04619,36.71101],[37.04399,36.73483],[36.99886,36.74012],[36.99557,36.75997],[36.66727,36.82901],[36.61581,36.74629],[36.62681,36.71189],[36.57398,36.65186],[36.58829,36.58295],[36.54206,36.49539],[36.6081,36.33772],[36.65653,36.33861],[36.68672,36.23677],[36.6125,36.22592],[36.50463,36.2419],[36.4617,36.20461],[36.39206,36.22088],[36.37474,36.01163],[36.33956,35.98687],[36.30099,36.00985],[36.28338,36.00273],[36.29769,35.96086],[36.27678,35.94839],[36.25366,35.96264],[36.19973,35.95195],[36.17441,35.92076],[36.1623,35.80925],[36.14029,35.81015],[36.13919,35.83692],[36.11827,35.85923],[35.99829,35.88242],[36.01844,35.92403],[36.00514,35.94113],[35.98499,35.94107],[35.931,35.92109],[35.51152,36.10954],[35.48515,34.70851],[35.97386,34.63322],[35.98718,34.64977],[36.29165,34.62991],[36.32399,34.69334],[36.35135,34.68516],[36.35384,34.65447],[36.42941,34.62505],[36.46003,34.6378],[36.45299,34.59438],[36.41429,34.61175],[36.39846,34.55672],[36.3369,34.52629],[36.34745,34.5002],[36.4442,34.50165],[36.46179,34.46541],[36.55853,34.41609],[36.53039,34.3798],[36.56556,34.31881],[36.60778,34.31009],[36.58667,34.27667],[36.59195,34.2316],[36.62537,34.20251],[36.5128,34.09916],[36.50576,34.05982],[36.41078,34.05253],[36.28589,33.91981],[36.38263,33.86579],[36.3967,33.83365],[36.14517,33.85118],[36.06778,33.82927],[35.9341,33.6596],[36.05723,33.57904],[35.94465,33.52774],[35.94816,33.47886],[35.88668,33.43183],[35.82577,33.40479],[35.81324,33.36354],[35.77477,33.33609],[35.813,33.3172],[35.77513,33.27342],[35.81295,33.24841],[35.81647,33.2028],[35.83846,33.19397],[35.84285,33.16673],[35.81911,33.1336],[35.81911,33.11077],[35.84802,33.1031],[35.87188,32.98028],[35.89298,32.9456],[35.87012,32.91976],[35.84021,32.8725],[35.83758,32.82817],[35.78745,32.77938],[35.75983,32.74803],[35.88405,32.71321],[35.93307,32.71966],[35.96633,32.66237],[36.02239,32.65911],[36.08074,32.51463],[36.20379,32.52751],[36.20875,32.49529],[36.23948,32.50108],[36.40959,32.37908],[36.83946,32.31293],[38.79171,33.37328],[40.64314,34.31604],[40.97676,34.39788],[41.12388,34.65742],[41.2345,34.80049],[41.21654,35.1508],[41.26569,35.42708],[41.38184,35.62502],[41.37027,35.84095],[41.2564,36.06012],[41.28864,36.35368],[41.40058,36.52502],[41.81736,36.58782],[42.36697,37.0627],[42.35724,37.10998],[42.32313,37.17814],[42.34735,37.22548],[42.2824,37.2798],[42.26039,37.27017],[42.23683,37.2863]]]]}},{type:"Feature",properties:{iso1A2:"SZ",iso1A3:"SWZ",iso1N3:"748",wikidata:"Q1050",nameEn:"Eswatini",aliases:["Swaziland"],groups:["018","202","002","UN"],driveSide:"left",callingCodes:["268"]},geometry:{type:"MultiPolygon",coordinates:[[[[31.86881,-25.99973],[31.4175,-25.71886],[31.31237,-25.7431],[31.13073,-25.91558],[30.95819,-26.26303],[30.78927,-26.48271],[30.81101,-26.84722],[30.88826,-26.79622],[30.97757,-26.92706],[30.96088,-27.0245],[31.15027,-27.20151],[31.49834,-27.31549],[31.97592,-27.31675],[31.97463,-27.11057],[32.00893,-26.8096],[32.09664,-26.80721],[32.13315,-26.84345],[32.13409,-26.5317],[32.07352,-26.40185],[32.10435,-26.15656],[32.08599,-26.00978],[32.00916,-25.999],[31.974,-25.95387],[31.86881,-25.99973]]]]}},{type:"Feature",properties:{iso1A2:"TA",iso1A3:"TAA",wikidata:"Q220982",nameEn:"Tristan da Cunha",aliases:["SH-TA"],country:"GB",groups:["SH","BOTS","011","202","002","UN"],isoStatus:"excRes",driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["290 8","44 20"]},geometry:{type:"MultiPolygon",coordinates:[[[[-13.38232,-34.07258],[-16.67337,-41.9188],[-5.88482,-41.4829],[-13.38232,-34.07258]]]]}},{type:"Feature",properties:{iso1A2:"TC",iso1A3:"TCA",iso1N3:"796",wikidata:"Q18221",nameEn:"Turks and Caicos Islands",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 649"]},geometry:{type:"MultiPolygon",coordinates:[[[[-71.70065,25.7637],[-72.98446,20.4801],[-69.80718,21.35956],[-71.70065,25.7637]]]]}},{type:"Feature",properties:{iso1A2:"TD",iso1A3:"TCD",iso1N3:"148",wikidata:"Q657",nameEn:"Chad",groups:["017","202","002","UN"],callingCodes:["235"]},geometry:{type:"MultiPolygon",coordinates:[[[[23.99539,19.49944],[15.99566,23.49639],[14.99751,23.00539],[15.19692,21.99339],[15.20213,21.49365],[15.28332,21.44557],[15.62515,20.95395],[15.57248,20.92138],[15.55382,20.86507],[15.56004,20.79488],[15.59841,20.74039],[15.6721,20.70069],[15.99632,20.35364],[15.75098,19.93002],[15.6032,18.77402],[15.50373,16.89649],[14.37425,15.72591],[13.86301,15.04043],[13.78991,14.87519],[13.809,14.72915],[13.67878,14.64013],[13.68573,14.55276],[13.48259,14.46704],[13.47559,14.40881],[13.6302,13.71094],[14.08251,13.0797],[14.46881,13.08259],[14.56101,12.91036],[14.55058,12.78256],[14.83314,12.62963],[14.90827,12.3269],[14.89019,12.16593],[14.96952,12.0925],[15.00146,12.1223],[15.0349,12.10698],[15.05786,12.0608],[15.04808,11.8731],[15.11579,11.79313],[15.06595,11.71126],[15.13149,11.5537],[15.0585,11.40481],[15.10021,11.04101],[15.04957,11.02347],[15.09127,10.87431],[15.06737,10.80921],[15.15532,10.62846],[15.14936,10.53915],[15.23724,10.47764],[15.30874,10.31063],[15.50535,10.1098],[15.68761,9.99344],[15.41408,9.92876],[15.24618,9.99246],[15.14043,9.99246],[15.05999,9.94845],[14.95722,9.97926],[14.80082,9.93818],[14.4673,10.00264],[14.20411,10.00055],[14.1317,9.82413],[14.01793,9.73169],[13.97544,9.6365],[14.37094,9.2954],[14.35707,9.19611],[14.83566,8.80557],[15.09484,8.65982],[15.20426,8.50892],[15.50743,7.79302],[15.59272,7.7696],[15.56964,7.58936],[15.49743,7.52179],[15.73118,7.52006],[15.79942,7.44149],[16.40703,7.68809],[16.41583,7.77971],[16.58315,7.88657],[16.59415,7.76444],[16.658,7.75353],[16.6668,7.67281],[16.8143,7.53971],[17.67288,7.98905],[17.93926,7.95853],[18.02731,8.01085],[18.6085,8.05009],[18.64153,8.08714],[18.62612,8.14163],[18.67455,8.22226],[18.79783,8.25929],[19.11044,8.68172],[18.86388,8.87971],[19.06421,9.00367],[20.36748,9.11019],[20.82979,9.44696],[21.26348,9.97642],[21.34934,9.95907],[21.52766,10.2105],[21.63553,10.217],[21.71479,10.29932],[21.72139,10.64136],[22.45889,11.00246],[22.87758,10.91915],[22.97249,11.21955],[22.93124,11.41645],[22.7997,11.40424],[22.54907,11.64372],[22.64092,12.07485],[22.48369,12.02766],[22.50548,12.16769],[22.38873,12.45514],[22.46345,12.61925],[22.22684,12.74682],[22.15679,12.66634],[21.98711,12.63292],[21.89371,12.68001],[21.81432,12.81362],[21.94819,13.05637],[22.02914,13.13976],[22.1599,13.19281],[22.29689,13.3731],[22.08674,13.77863],[22.22995,13.96754],[22.5553,14.11704],[22.55997,14.23024],[22.44944,14.24986],[22.38562,14.58907],[22.70474,14.69149],[22.66115,14.86308],[22.99584,15.22989],[22.99584,15.40105],[22.92579,15.47007],[22.93201,15.55107],[23.10792,15.71297],[23.38812,15.69649],[23.62785,15.7804],[23.99997,15.69575],[23.99539,19.49944]]]]}},{type:"Feature",properties:{iso1A2:"TF",iso1A3:"ATF",iso1N3:"260",wikidata:"Q129003",nameEn:"French Southern Territories",country:"FR"},geometry:null},{type:"Feature",properties:{iso1A2:"TG",iso1A3:"TGO",iso1N3:"768",wikidata:"Q945",nameEn:"Togo",groups:["011","202","002","UN"],callingCodes:["228"]},geometry:{type:"MultiPolygon",coordinates:[[[[.50388,11.01011],[-.13493,11.14075],[-.14462,11.10811],[-.05733,11.08628],[-.0275,11.11202],[-.00514,11.10763],[.00342,11.08317],[.02395,11.06229],[.03355,10.9807],[-.0063,10.96417],[-.00908,10.91644],[-.02685,10.8783],[-.0228,10.81916],[-.07183,10.76794],[-.07327,10.71845],[-.09141,10.7147],[-.05945,10.63458],[.12886,10.53149],[.18846,10.4096],[.29453,10.41546],[.33028,10.30408],[.39584,10.31112],[.35293,10.09412],[.41371,10.06361],[.41252,10.02018],[.36366,10.03309],[.32075,9.72781],[.34816,9.71607],[.34816,9.66907],[.32313,9.6491],[.28261,9.69022],[.26712,9.66437],[.29334,9.59387],[.36008,9.6256],[.38153,9.58682],[.23851,9.57389],[.2409,9.52335],[.30406,9.521],[.31241,9.50337],[.2254,9.47869],[.25758,9.42696],[.33148,9.44812],[.36485,9.49749],[.49118,9.48339],[.56388,9.40697],[.45424,9.04581],[.52455,8.87746],[.37319,8.75262],[.47211,8.59945],[.64731,8.48866],[.73432,8.29529],[.63897,8.25873],[.5913,8.19622],[.61156,8.18324],[.6056,8.13959],[.58891,8.12779],[.62943,7.85751],[.58295,7.62368],[.51979,7.58706],[.52455,7.45354],[.57223,7.39326],[.62943,7.41099],[.65327,7.31643],[.59606,7.01252],[.52217,6.9723],[.52098,6.94391],[.56508,6.92971],[.52853,6.82921],[.57406,6.80348],[.58176,6.76049],[.6497,6.73682],[.63659,6.63857],[.74862,6.56517],[.71048,6.53083],[.89283,6.33779],[.99652,6.33779],[1.03108,6.24064],[1.05969,6.22998],[1.09187,6.17074],[1.19966,6.17069],[1.19771,6.11522],[1.27574,5.93551],[1.67336,6.02702],[1.62913,6.24075],[1.79826,6.28221],[1.76906,6.43189],[1.58105,6.68619],[1.61812,6.74843],[1.55877,6.99737],[1.64249,6.99562],[1.61838,9.0527],[1.5649,9.16941],[1.41746,9.3226],[1.33675,9.54765],[1.36624,9.5951],[1.35507,9.99525],[.77666,10.37665],[.80358,10.71459],[.8804,10.803],[.91245,10.99597],[.66104,10.99964],[.4958,10.93269],[.50521,10.98035],[.48852,10.98561],[.50388,11.01011]]]]}},{type:"Feature",properties:{iso1A2:"TH",iso1A3:"THA",iso1N3:"764",wikidata:"Q869",nameEn:"Thailand",groups:["035","142","UN"],driveSide:"left",callingCodes:["66"]},geometry:{type:"MultiPolygon",coordinates:[[[[100.08404,20.36626],[99.95721,20.46301],[99.91616,20.44986],[99.90499,20.4487],[99.89692,20.44789],[99.89301,20.44311],[99.89168,20.44548],[99.88451,20.44596],[99.88211,20.44488],[99.86383,20.44371],[99.81096,20.33687],[99.68255,20.32077],[99.46008,20.39673],[99.46077,20.36198],[99.5569,20.20676],[99.52943,20.14811],[99.416,20.08614],[99.20328,20.12877],[99.0735,20.10298],[98.98679,19.7419],[98.83661,19.80931],[98.56065,19.67807],[98.51182,19.71303],[98.24884,19.67876],[98.13829,19.78541],[98.03314,19.80941],[98.04364,19.65755],[97.84715,19.55782],[97.88423,19.5041],[97.78769,19.39429],[97.84186,19.29526],[97.78606,19.26769],[97.84024,19.22217],[97.83479,19.09972],[97.73797,19.04261],[97.73654,18.9812],[97.66487,18.9371],[97.73836,18.88478],[97.76752,18.58097],[97.5258,18.4939],[97.36444,18.57138],[97.34522,18.54596],[97.50383,18.26844],[97.56219,18.33885],[97.64116,18.29778],[97.60841,18.23846],[97.73723,17.97912],[97.66794,17.88005],[97.76407,17.71595],[97.91829,17.54504],[98.11185,17.36829],[98.10439,17.33847],[98.34566,17.04822],[98.39441,17.06266],[98.52624,16.89979],[98.49603,16.8446],[98.53833,16.81934],[98.46994,16.73613],[98.50253,16.7139],[98.49713,16.69022],[98.51043,16.70107],[98.51579,16.69433],[98.51472,16.68521],[98.51833,16.676],[98.51113,16.64503],[98.5695,16.62826],[98.57912,16.55983],[98.63817,16.47424],[98.68074,16.27068],[98.84485,16.42354],[98.92656,16.36425],[98.8376,16.11706],[98.69585,16.13353],[98.57019,16.04578],[98.59853,15.87197],[98.541,15.65406],[98.58598,15.46821],[98.56027,15.33471],[98.4866,15.39154],[98.39351,15.34177],[98.41906,15.27103],[98.40522,15.25268],[98.30446,15.30667],[98.22,15.21327],[98.18821,15.13125],[98.24874,14.83013],[98.56762,14.37701],[98.97356,14.04868],[99.16695,13.72621],[99.20617,13.20575],[99.12225,13.19847],[99.10646,13.05804],[99.18748,12.9898],[99.18905,12.84799],[99.29254,12.68921],[99.409,12.60603],[99.47519,12.1353],[99.56445,12.14805],[99.53424,12.02317],[99.64891,11.82699],[99.64108,11.78948],[99.5672,11.62732],[99.47598,11.62434],[99.39485,11.3925],[99.31573,11.32081],[99.32756,11.28545],[99.06938,10.94857],[99.02337,10.97217],[98.99701,10.92962],[99.0069,10.85485],[98.86819,10.78336],[98.78511,10.68351],[98.77275,10.62548],[98.81944,10.52761],[98.7391,10.31488],[98.55174,9.92804],[98.52291,9.92389],[98.47298,9.95782],[98.33094,9.91973],[98.12555,9.44056],[97.63455,9.60854],[97.19814,8.18901],[99.31854,5.99868],[99.50117,6.44501],[99.91873,6.50233],[100.0756,6.4045],[100.12,6.42105],[100.19511,6.72559],[100.29651,6.68439],[100.30828,6.66462],[100.31618,6.66781],[100.31884,6.66423],[100.32671,6.66526],[100.32607,6.65933],[100.31929,6.65413],[100.35413,6.54932],[100.41152,6.52299],[100.41791,6.5189],[100.42351,6.51762],[100.43027,6.52389],[100.66986,6.45086],[100.74361,6.50811],[100.74822,6.46231],[100.81045,6.45086],[100.85884,6.24929],[101.10313,6.25617],[101.12618,6.19431],[101.06165,6.14161],[101.12388,6.11411],[101.087,5.9193],[101.02708,5.91013],[100.98815,5.79464],[101.14062,5.61613],[101.25755,5.71065],[101.25524,5.78633],[101.58019,5.93534],[101.69773,5.75881],[101.75074,5.79091],[101.80144,5.74505],[101.89188,5.8386],[101.91776,5.84269],[101.92819,5.85511],[101.94712,5.98421],[101.9714,6.00575],[101.97114,6.01992],[101.99209,6.04075],[102.01835,6.05407],[102.09182,6.14161],[102.07732,6.193],[102.08127,6.22679],[102.09086,6.23546],[102.46318,7.22462],[102.47649,9.66162],[102.52395,11.25257],[102.91449,11.65512],[102.90973,11.75613],[102.83957,11.8519],[102.78427,11.98746],[102.77026,12.06815],[102.70176,12.1686],[102.73134,12.37091],[102.78116,12.40284],[102.7796,12.43781],[102.57567,12.65358],[102.51963,12.66117],[102.4994,12.71736],[102.53053,12.77506],[102.49335,12.92711],[102.48694,12.97537],[102.52275,12.99813],[102.46011,13.08057],[102.43422,13.09061],[102.36146,13.26006],[102.36001,13.31142],[102.34611,13.35618],[102.35692,13.38274],[102.35563,13.47307],[102.361,13.50551],[102.33828,13.55613],[102.36859,13.57488],[102.44601,13.5637],[102.5358,13.56933],[102.57573,13.60461],[102.62483,13.60883],[102.58635,13.6286],[102.5481,13.6589],[102.56848,13.69366],[102.72727,13.77806],[102.77864,13.93374],[102.91251,14.01531],[102.93275,14.19044],[103.16469,14.33075],[103.39353,14.35639],[103.53518,14.42575],[103.71109,14.4348],[103.70175,14.38052],[103.93836,14.3398],[104.27616,14.39861],[104.55014,14.36091],[104.69335,14.42726],[104.97667,14.38806],[105.02804,14.23722],[105.08408,14.20402],[105.14012,14.23873],[105.17748,14.34432],[105.20894,14.34967],[105.43783,14.43865],[105.53864,14.55731],[105.5121,14.80802],[105.61162,15.00037],[105.46661,15.13132],[105.58043,15.32724],[105.50662,15.32054],[105.4692,15.33709],[105.47635,15.3796],[105.58191,15.41031],[105.60446,15.53301],[105.61756,15.68792],[105.46573,15.74742],[105.42285,15.76971],[105.37959,15.84074],[105.34115,15.92737],[105.38508,15.987],[105.42001,16.00657],[105.06204,16.09792],[105.00262,16.25627],[104.88057,16.37311],[104.73349,16.565],[104.76099,16.69302],[104.7397,16.81005],[104.76442,16.84752],[104.7373,16.91125],[104.73712,17.01404],[104.80716,17.19025],[104.80061,17.39367],[104.69867,17.53038],[104.45404,17.66788],[104.35432,17.82871],[104.2757,17.86139],[104.21776,17.99335],[104.10927,18.10826],[104.06533,18.21656],[103.97725,18.33631],[103.93916,18.33914],[103.85642,18.28666],[103.82449,18.33979],[103.699,18.34125],[103.60957,18.40528],[103.47773,18.42841],[103.41044,18.4486],[103.30977,18.4341],[103.24779,18.37807],[103.23818,18.34875],[103.29757,18.30475],[103.17093,18.2618],[103.14994,18.23172],[103.1493,18.17799],[103.07343,18.12351],[103.07823,18.03833],[103.0566,18.00144],[103.01998,17.97095],[102.9912,17.9949],[102.95812,18.0054],[102.86323,17.97531],[102.81988,17.94233],[102.79044,17.93612],[102.75954,17.89561],[102.68538,17.86653],[102.67543,17.84529],[102.69946,17.81686],[102.68194,17.80151],[102.59485,17.83537],[102.5896,17.84889],[102.61432,17.92273],[102.60971,17.95411],[102.59234,17.96127],[102.45523,17.97106],[102.11359,18.21532],[101.88485,18.02474],[101.78087,18.07559],[101.72294,17.92867],[101.44667,17.7392],[101.15108,17.47586],[100.96541,17.57926],[101.02185,17.87637],[101.1793,18.0544],[101.19118,18.2125],[101.15108,18.25624],[101.18227,18.34367],[101.06047,18.43247],[101.27585,18.68875],[101.22832,18.73377],[101.25803,18.89545],[101.35606,19.04716],[101.261,19.12717],[101.24911,19.33334],[101.20604,19.35296],[101.21347,19.46223],[101.26991,19.48324],[101.26545,19.59242],[101.08928,19.59748],[100.90302,19.61901],[100.77231,19.48324],[100.64606,19.55884],[100.58219,19.49164],[100.49604,19.53504],[100.398,19.75047],[100.5094,19.87904],[100.58808,20.15791],[100.55218,20.17741],[100.51052,20.14928],[100.47567,20.19133],[100.4537,20.19971],[100.44992,20.23644],[100.41473,20.25625],[100.37439,20.35156],[100.33383,20.4028],[100.25769,20.3992],[100.22076,20.31598],[100.16668,20.2986],[100.1712,20.24324],[100.11785,20.24787],[100.09337,20.26293],[100.09999,20.31614],[100.08404,20.36626]]]]}},{type:"Feature",properties:{iso1A2:"TJ",iso1A3:"TJK",iso1N3:"762",wikidata:"Q863",nameEn:"Tajikistan",groups:["143","142","UN"],callingCodes:["992"]},geometry:{type:"MultiPolygon",coordinates:[[[[70.45251,41.04438],[70.38028,41.02014],[70.36655,40.90296],[69.69434,40.62615],[69.59441,40.70181],[69.53021,40.77621],[69.38327,40.7918],[69.32834,40.70233],[69.3455,40.57988],[69.2643,40.57506],[69.21063,40.54469],[69.27066,40.49274],[69.28525,40.41894],[69.30774,40.36102],[69.33794,40.34819],[69.32833,40.29794],[69.30808,40.2821],[69.24817,40.30357],[69.25229,40.26362],[69.30104,40.24502],[69.30448,40.18774],[69.2074,40.21488],[69.15659,40.2162],[69.04544,40.22904],[68.85832,40.20885],[68.84357,40.18604],[68.79276,40.17555],[68.77902,40.20492],[68.5332,40.14826],[68.52771,40.11676],[68.62796,40.07789],[69.01523,40.15771],[69.01935,40.11466],[68.96579,40.06949],[68.84906,40.04952],[68.93695,39.91167],[68.88889,39.87163],[68.63071,39.85265],[68.61972,39.68905],[68.54166,39.53929],[68.12053,39.56317],[67.70992,39.66156],[67.62889,39.60234],[67.44899,39.57799],[67.46547,39.53564],[67.39681,39.52505],[67.46822,39.46146],[67.45998,39.315],[67.36522,39.31287],[67.33226,39.23739],[67.67833,39.14479],[67.68915,39.00775],[68.09704,39.02589],[68.19743,38.85985],[68.06948,38.82115],[68.12877,38.73677],[68.05598,38.71641],[68.0807,38.64136],[68.05873,38.56087],[68.11366,38.47169],[68.06274,38.39435],[68.13289,38.40822],[68.40343,38.19484],[68.27159,37.91477],[68.12635,37.93],[67.81566,37.43107],[67.8474,37.31594],[67.78329,37.1834],[67.7803,37.08978],[67.87917,37.0591],[68.02194,36.91923],[68.18542,37.02074],[68.27605,37.00977],[68.29253,37.10621],[68.41201,37.10402],[68.41888,37.13906],[68.61851,37.19815],[68.6798,37.27906],[68.81438,37.23862],[68.80889,37.32494],[68.91189,37.26704],[68.88168,37.33368],[68.96407,37.32603],[69.03274,37.25174],[69.25152,37.09426],[69.39529,37.16752],[69.45022,37.23315],[69.36645,37.40462],[69.44954,37.4869],[69.51888,37.5844],[69.80041,37.5746],[69.84435,37.60616],[69.93362,37.61378],[69.95971,37.5659],[70.15015,37.52519],[70.28243,37.66706],[70.27694,37.81258],[70.1863,37.84296],[70.17206,37.93276],[70.4898,38.12546],[70.54673,38.24541],[70.60407,38.28046],[70.61526,38.34774],[70.64966,38.34999],[70.69189,38.37031],[70.6761,38.39144],[70.67438,38.40597],[70.69807,38.41861],[70.72485,38.4131],[70.75455,38.4252],[70.77132,38.45548],[70.78581,38.45502],[70.78702,38.45031],[70.79766,38.44944],[70.80521,38.44447],[70.81697,38.44507],[70.82538,38.45394],[70.84376,38.44688],[70.88719,38.46826],[70.92728,38.43021],[70.98693,38.48862],[71.03545,38.44779],[71.0556,38.40176],[71.09542,38.42517],[71.10592,38.42077],[71.10957,38.40671],[71.1451,38.40106],[71.21291,38.32797],[71.33114,38.30339],[71.33869,38.27335],[71.37803,38.25641],[71.36444,38.15358],[71.29878,38.04429],[71.28922,38.01272],[71.27622,37.99946],[71.27278,37.96496],[71.24969,37.93031],[71.2809,37.91995],[71.296,37.93403],[71.32871,37.88564],[71.51565,37.95349],[71.58843,37.92425],[71.59255,37.79956],[71.55752,37.78677],[71.54324,37.77104],[71.53053,37.76534],[71.55234,37.73209],[71.54186,37.69691],[71.51972,37.61945],[71.5065,37.60912],[71.49693,37.53527],[71.50616,37.50733],[71.5256,37.47971],[71.49612,37.4279],[71.47685,37.40281],[71.4862,37.33405],[71.49821,37.31975],[71.50674,37.31502],[71.48536,37.26017],[71.4824,37.24921],[71.48339,37.23937],[71.47386,37.2269],[71.4555,37.21418],[71.4494,37.18137],[71.44127,37.11856],[71.43097,37.05855],[71.45578,37.03094],[71.46923,36.99925],[71.48481,36.93218],[71.51502,36.89128],[71.57195,36.74943],[71.67083,36.67346],[71.83229,36.68084],[72.31676,36.98115],[72.54095,37.00007],[72.66381,37.02014],[72.79693,37.22222],[73.06884,37.31729],[73.29633,37.46495],[73.77197,37.4417],[73.76647,37.33913],[73.61129,37.27469],[73.64974,37.23643],[73.82552,37.22659],[73.8564,37.26158],[74.20308,37.34208],[74.23339,37.41116],[74.41055,37.3948],[74.56161,37.37734],[74.68383,37.3948],[74.8294,37.3435],[74.88887,37.23275],[75.12328,37.31839],[75.09719,37.37297],[75.15899,37.41443],[75.06011,37.52779],[74.94338,37.55501],[74.8912,37.67576],[75.00935,37.77486],[74.92416,37.83428],[74.9063,38.03033],[74.82665,38.07359],[74.80331,38.19889],[74.69894,38.22155],[74.69619,38.42947],[74.51217,38.47034],[74.17022,38.65504],[73.97933,38.52945],[73.79806,38.61106],[73.80656,38.66449],[73.7033,38.84782],[73.7445,38.93867],[73.82964,38.91517],[73.81728,39.04007],[73.75823,39.023],[73.60638,39.24534],[73.54572,39.27567],[73.55396,39.3543],[73.5004,39.38402],[73.59241,39.40843],[73.59831,39.46425],[73.45096,39.46677],[73.31912,39.38615],[73.18454,39.35536],[72.85934,39.35116],[72.62027,39.39696],[72.33173,39.33093],[72.23834,39.17248],[72.17242,39.2661],[72.09689,39.26823],[72.04059,39.36704],[71.90601,39.27674],[71.79202,39.27355],[71.7522,39.32031],[71.80164,39.40631],[71.76816,39.45456],[71.62688,39.44056],[71.5517,39.45722],[71.55856,39.57588],[71.49814,39.61397],[71.08752,39.50704],[71.06418,39.41586],[70.7854,39.38933],[70.64087,39.58792],[70.44757,39.60128],[70.2869,39.53141],[70.11111,39.58223],[69.87491,39.53882],[69.68677,39.59281],[69.3594,39.52516],[69.26938,39.8127],[69.35649,40.01994],[69.43134,39.98431],[69.43557,39.92877],[69.53615,39.93991],[69.5057,40.03277],[69.53855,40.0887],[69.53794,40.11833],[69.55555,40.12296],[69.57615,40.10524],[69.64704,40.12165],[69.67001,40.10639],[70.01283,40.23288],[70.58297,40.00891],[70.57384,39.99394],[70.47557,39.93216],[70.55033,39.96619],[70.58912,39.95211],[70.65946,39.9878],[70.65827,40.0981],[70.7928,40.12797],[70.80495,40.16813],[70.9818,40.22392],[70.8607,40.217],[70.62342,40.17396],[70.56394,40.26421],[70.57149,40.3442],[70.37511,40.38605],[70.32626,40.45174],[70.49871,40.52503],[70.80009,40.72825],[70.45251,41.04438]]],[[[70.68112,40.90612],[70.6158,40.97661],[70.56077,41.00642],[70.54223,40.98787],[70.57501,40.98941],[70.6721,40.90555],[70.68112,40.90612]]],[[[70.74189,39.86319],[70.53651,39.89155],[70.52631,39.86989],[70.54998,39.85137],[70.59667,39.83542],[70.63105,39.77923],[70.74189,39.86319]]]]}},{type:"Feature",properties:{iso1A2:"TK",iso1A3:"TKL",iso1N3:"772",wikidata:"Q36823",nameEn:"Tokelau",country:"NZ",groups:["061","009","UN"],driveSide:"left",callingCodes:["690"]},geometry:{type:"MultiPolygon",coordinates:[[[[-168.251,-9.44289],[-174.18635,-7.80441],[-174.17993,-10.13616],[-168.251,-9.44289]]]]}},{type:"Feature",properties:{iso1A2:"TL",iso1A3:"TLS",iso1N3:"626",wikidata:"Q574",nameEn:"East Timor",aliases:["Timor-Leste","TP"],groups:["035","142","UN"],driveSide:"left",callingCodes:["670"]},geometry:{type:"MultiPolygon",coordinates:[[[[124.46701,-9.13002],[124.94011,-8.85617],[124.97742,-9.08128],[125.11764,-8.96359],[125.18632,-9.03142],[125.18907,-9.16434],[125.09434,-9.19669],[125.04044,-9.17093],[124.97892,-9.19281],[125.09025,-9.46406],[125.68138,-9.85176],[127.55165,-9.05052],[127.42116,-8.22471],[125.87691,-8.31789],[125.58506,-7.95311],[124.92337,-8.75859],[124.33472,-9.11416],[124.04628,-9.22671],[124.04286,-9.34243],[124.10539,-9.41206],[124.14517,-9.42324],[124.21247,-9.36904],[124.28115,-9.42189],[124.28115,-9.50453],[124.3535,-9.48493],[124.35258,-9.43002],[124.38554,-9.3582],[124.45971,-9.30263],[124.46701,-9.13002]]]]}},{type:"Feature",properties:{iso1A2:"TM",iso1A3:"TKM",iso1N3:"795",wikidata:"Q874",nameEn:"Turkmenistan",groups:["143","142","UN"],callingCodes:["993"]},geometry:{type:"MultiPolygon",coordinates:[[[[60.5078,41.21694],[60.06581,41.4363],[60.18117,41.60082],[60.06032,41.76287],[60.08504,41.80997],[60.33223,41.75058],[59.95046,41.97966],[60.0356,42.01028],[60.04659,42.08982],[59.96419,42.1428],[60.00539,42.212],[59.94633,42.27655],[59.4341,42.29738],[59.2955,42.37064],[59.17317,42.52248],[58.93422,42.5407],[58.6266,42.79314],[58.57991,42.64988],[58.27504,42.69632],[58.14321,42.62159],[58.29427,42.56497],[58.51674,42.30348],[58.40688,42.29535],[58.3492,42.43335],[57.99214,42.50021],[57.90975,42.4374],[57.92897,42.24047],[57.84932,42.18555],[57.6296,42.16519],[57.30275,42.14076],[57.03633,41.92043],[56.96218,41.80383],[57.03359,41.41777],[57.13796,41.36625],[57.03423,41.25435],[56.00314,41.32584],[55.45471,41.25609],[54.95182,41.92424],[54.20635,42.38477],[52.97575,42.1308],[52.47884,41.78034],[52.26048,41.69249],[51.7708,40.29239],[53.89734,37.3464],[54.24565,37.32047],[54.36211,37.34912],[54.58664,37.45809],[54.67247,37.43532],[54.77822,37.51597],[54.81804,37.61285],[54.77684,37.62264],[54.851,37.75739],[55.13412,37.94705],[55.44152,38.08564],[55.76561,38.12238],[55.97847,38.08024],[56.33278,38.08132],[56.32454,38.18502],[56.43303,38.26054],[56.62255,38.24005],[56.73928,38.27887],[57.03453,38.18717],[57.21169,38.28965],[57.37236,38.09321],[57.35042,37.98546],[57.79534,37.89299],[58.21399,37.77281],[58.22999,37.6856],[58.39959,37.63134],[58.47786,37.6433],[58.5479,37.70526],[58.6921,37.64548],[58.9338,37.67374],[59.22905,37.51161],[59.33507,37.53146],[59.39797,37.47892],[59.39385,37.34257],[59.55178,37.13594],[59.74678,37.12499],[60.00768,37.04102],[60.34767,36.63214],[61.14516,36.64644],[61.18187,36.55348],[61.1393,36.38782],[61.22719,36.12759],[61.12007,35.95992],[61.22444,35.92879],[61.26152,35.80749],[61.22719,35.67038],[61.27371,35.61482],[61.58742,35.43803],[61.77693,35.41341],[61.97743,35.4604],[62.05709,35.43803],[62.15871,35.33278],[62.29191,35.25964],[62.29878,35.13312],[62.48006,35.28796],[62.62288,35.22067],[62.74098,35.25432],[62.90853,35.37086],[63.0898,35.43131],[63.12276,35.53196],[63.10079,35.63024],[63.23262,35.67487],[63.10318,35.81782],[63.12276,35.86208],[63.29579,35.85985],[63.53475,35.90881],[63.56496,35.95106],[63.98519,36.03773],[64.05385,36.10433],[64.43288,36.24401],[64.57295,36.34362],[64.62514,36.44311],[64.61141,36.6351],[64.97945,37.21913],[65.51778,37.23881],[65.64263,37.34388],[65.64137,37.45061],[65.72274,37.55438],[66.30993,37.32409],[66.55743,37.35409],[66.52303,37.39827],[66.65761,37.45497],[66.52852,37.58568],[66.53676,37.80084],[66.67684,37.96776],[66.56697,38.0435],[66.41042,38.02403],[66.24013,38.16238],[65.83913,38.25733],[65.55873,38.29052],[64.32576,38.98691],[64.19086,38.95561],[63.70778,39.22349],[63.6913,39.27666],[62.43337,39.98528],[62.34273,40.43206],[62.11751,40.58242],[61.87856,41.12257],[61.4446,41.29407],[61.39732,41.19873],[61.33199,41.14946],[61.22212,41.14946],[61.03261,41.25691],[60.5078,41.21694]]]]}},{type:"Feature",properties:{iso1A2:"TN",iso1A3:"TUN",iso1N3:"788",wikidata:"Q948",nameEn:"Tunisia",groups:["015","002","UN"],callingCodes:["216"]},geometry:{type:"MultiPolygon",coordinates:[[[[11.2718,37.6713],[7.89009,38.19924],[8.59123,37.14286],[8.64044,36.9401],[8.62972,36.86499],[8.67706,36.8364],[8.57613,36.78062],[8.46537,36.7706],[8.47609,36.66607],[8.16167,36.48817],[8.18936,36.44939],[8.40731,36.42208],[8.2626,35.91733],[8.26472,35.73669],[8.35371,35.66373],[8.36086,35.47774],[8.30329,35.29884],[8.47318,35.23376],[8.3555,35.10007],[8.30727,34.95378],[8.25189,34.92009],[8.29655,34.72798],[8.20482,34.57575],[7.86264,34.3987],[7.81242,34.21841],[7.74207,34.16492],[7.66174,34.20167],[7.52851,34.06493],[7.54088,33.7726],[7.73687,33.42114],[7.83028,33.18851],[8.11433,33.10175],[8.1179,33.05086],[8.31895,32.83483],[8.35999,32.50101],[9.07483,32.07865],[9.55544,30.23971],[9.76848,30.34366],[9.88152,30.34074],[10.29516,30.90337],[10.12239,31.42098],[10.31364,31.72648],[10.48497,31.72956],[10.62788,31.96629],[10.7315,31.97235],[11.04234,32.2145],[11.53898,32.4138],[11.57828,32.48013],[11.46037,32.6307],[11.51549,33.09826],[11.55852,33.1409],[11.58941,33.36891],[11.2718,37.6713]]]]}},{type:"Feature",properties:{iso1A2:"TO",iso1A3:"TON",iso1N3:"776",wikidata:"Q678",nameEn:"Tonga",groups:["061","009","UN"],driveSide:"left",callingCodes:["676"]},geometry:{type:"MultiPolygon",coordinates:[[[[-176.74538,-22.89767],[-180,-22.90585],[-180,-24.21376],[-173.10761,-24.19665],[-173.13438,-14.94228],[-176.76826,-14.95183],[-176.74538,-22.89767]]]]}},{type:"Feature",properties:{iso1A2:"TR",iso1A3:"TUR",iso1N3:"792",wikidata:"Q43",nameEn:"Turkey",groups:["145","142","UN"],callingCodes:["90"]},geometry:{type:"MultiPolygon",coordinates:[[[[41.54366,41.52185],[40.89217,41.72528],[34.8305,42.4581],[28.32297,41.98371],[28.02971,41.98066],[27.91479,41.97902],[27.83492,41.99709],[27.81235,41.94803],[27.69949,41.97515],[27.55191,41.90928],[27.52379,41.93756],[27.45478,41.96591],[27.27411,42.10409],[27.22376,42.10152],[27.19251,42.06028],[27.08486,42.08735],[27.03277,42.0809],[26.95638,42.00741],[26.79143,41.97386],[26.62996,41.97644],[26.56051,41.92995],[26.57961,41.90024],[26.53968,41.82653],[26.36952,41.82265],[26.33589,41.76802],[26.32952,41.73637],[26.35957,41.71149],[26.47958,41.67037],[26.5209,41.62592],[26.59196,41.60491],[26.59742,41.48058],[26.61767,41.42281],[26.62997,41.34613],[26.5837,41.32131],[26.5209,41.33993],[26.39861,41.25053],[26.32259,41.24929],[26.31928,41.07386],[26.3606,41.02027],[26.33297,40.98388],[26.35894,40.94292],[26.32259,40.94042],[26.28623,40.93005],[26.29441,40.89119],[26.26169,40.9168],[26.20856,40.86048],[26.21351,40.83298],[26.15685,40.80709],[26.12854,40.77339],[26.12495,40.74283],[26.08638,40.73214],[26.0754,40.72772],[26.03489,40.73051],[25.94795,40.72797],[26.04292,40.3958],[25.61285,40.17161],[25.94257,39.39358],[26.43357,39.43096],[26.70773,39.0312],[26.61814,38.81372],[26.21136,38.65436],[26.32173,38.48731],[26.24183,38.44695],[26.21136,38.17558],[27.05537,37.9131],[27.16428,37.72343],[26.99377,37.69034],[26.95583,37.64989],[27.14757,37.32],[27.20312,36.94571],[27.45627,36.9008],[27.24613,36.71622],[27.46117,36.53789],[27.89482,36.69898],[27.95037,36.46155],[28.23708,36.56812],[29.30783,36.01033],[29.48192,36.18377],[29.61002,36.1731],[29.61805,36.14179],[29.69611,36.10365],[29.73302,35.92555],[32.82353,35.70297],[35.51152,36.10954],[35.931,35.92109],[35.98499,35.94107],[36.00514,35.94113],[36.01844,35.92403],[35.99829,35.88242],[36.11827,35.85923],[36.13919,35.83692],[36.14029,35.81015],[36.1623,35.80925],[36.17441,35.92076],[36.19973,35.95195],[36.25366,35.96264],[36.27678,35.94839],[36.29769,35.96086],[36.28338,36.00273],[36.30099,36.00985],[36.33956,35.98687],[36.37474,36.01163],[36.39206,36.22088],[36.4617,36.20461],[36.50463,36.2419],[36.6125,36.22592],[36.68672,36.23677],[36.65653,36.33861],[36.6081,36.33772],[36.54206,36.49539],[36.58829,36.58295],[36.57398,36.65186],[36.62681,36.71189],[36.61581,36.74629],[36.66727,36.82901],[36.99557,36.75997],[36.99886,36.74012],[37.04399,36.73483],[37.04619,36.71101],[37.01647,36.69512],[37.02088,36.66422],[37.08279,36.63495],[37.10894,36.6704],[37.16177,36.66069],[37.21988,36.6736],[37.47253,36.63243],[37.49103,36.66904],[37.68048,36.75065],[37.81974,36.76055],[38.21064,36.91842],[38.38859,36.90064],[38.55908,36.84429],[38.74042,36.70629],[39.03217,36.70911],[39.21538,36.66834],[39.81589,36.75538],[40.69136,37.0996],[40.90856,37.13147],[41.21937,37.07665],[41.515,37.08084],[42.00894,37.17209],[42.18225,37.28569],[42.19301,37.31323],[42.2112,37.32491],[42.22257,37.31395],[42.22381,37.30238],[42.20454,37.28715],[42.21548,37.28026],[42.23683,37.2863],[42.26039,37.27017],[42.2824,37.2798],[42.34735,37.22548],[42.32313,37.17814],[42.35724,37.10998],[42.56725,37.14878],[42.78887,37.38615],[42.93705,37.32015],[43.11403,37.37436],[43.30083,37.30629],[43.33508,37.33105],[43.50787,37.24436],[43.56702,37.25675],[43.63085,37.21957],[43.7009,37.23692],[43.8052,37.22825],[43.82699,37.19477],[43.84878,37.22205],[43.90949,37.22453],[44.02002,37.33229],[44.13521,37.32486],[44.2613,37.25055],[44.27998,37.16501],[44.22239,37.15756],[44.18503,37.09551],[44.25975,36.98119],[44.30645,36.97373],[44.35937,37.02843],[44.35315,37.04955],[44.38117,37.05825],[44.42631,37.05825],[44.63179,37.19229],[44.76698,37.16162],[44.78319,37.1431],[44.7868,37.16644],[44.75986,37.21549],[44.81021,37.2915],[44.58449,37.45018],[44.61401,37.60165],[44.56887,37.6429],[44.62096,37.71985],[44.55498,37.783],[44.45948,37.77065],[44.3883,37.85433],[44.22509,37.88859],[44.42476,38.25763],[44.50115,38.33939],[44.44386,38.38295],[44.38309,38.36117],[44.3119,38.37887],[44.3207,38.49799],[44.32058,38.62752],[44.28065,38.6465],[44.26155,38.71427],[44.30322,38.81581],[44.18863,38.93881],[44.20946,39.13975],[44.1043,39.19842],[44.03667,39.39223],[44.22452,39.4169],[44.29818,39.378],[44.37921,39.4131],[44.42832,39.4131],[44.41849,39.56659],[44.48111,39.61579],[44.47298,39.68788],[44.6137,39.78393],[44.65422,39.72163],[44.71806,39.71124],[44.81043,39.62677],[44.80977,39.65768],[44.75779,39.7148],[44.61845,39.8281],[44.46635,39.97733],[44.26973,40.04866],[44.1778,40.02845],[44.1057,40.03555],[43.92307,40.01787],[43.65688,40.11199],[43.65221,40.14889],[43.71136,40.16673],[43.59928,40.34019],[43.60862,40.43267],[43.54791,40.47413],[43.63664,40.54159],[43.7425,40.66805],[43.74872,40.7365],[43.67712,40.84846],[43.67712,40.93084],[43.58683,40.98961],[43.47319,41.02251],[43.44984,41.0988],[43.4717,41.12611],[43.44973,41.17666],[43.36118,41.2028],[43.23096,41.17536],[43.1945,41.25242],[43.13373,41.25503],[43.21707,41.30331],[43.02956,41.37891],[42.8785,41.50516],[42.84899,41.47265],[42.78995,41.50126],[42.84471,41.58912],[42.72794,41.59714],[42.59202,41.58183],[42.51772,41.43606],[42.26387,41.49346],[41.95134,41.52466],[41.81939,41.43621],[41.7124,41.47417],[41.7148,41.4932],[41.54366,41.52185]]]]}},{type:"Feature",properties:{iso1A2:"TT",iso1A3:"TTO",iso1N3:"780",wikidata:"Q754",nameEn:"Trinidad and Tobago",groups:["029","003","419","019","UN"],driveSide:"left",callingCodes:["1 868"]},geometry:{type:"MultiPolygon",coordinates:[[[[-61.62505,11.18974],[-62.08693,10.04435],[-60.89962,9.81445],[-60.07172,11.77667],[-61.62505,11.18974]]]]}},{type:"Feature",properties:{iso1A2:"TV",iso1A3:"TUV",iso1N3:"798",wikidata:"Q672",nameEn:"Tuvalu",groups:["061","009","UN"],driveSide:"left",callingCodes:["688"]},geometry:{type:"MultiPolygon",coordinates:[[[[174,-5],[174,-11.5],[179.99999,-11.5],[179.99999,-5],[174,-5]]]]}},{type:"Feature",properties:{iso1A2:"TW",iso1A3:"TWN",iso1N3:"158",wikidata:"Q865",nameEn:"Taiwan",aliases:["RC"],groups:["030","142"],callingCodes:["886"]},geometry:{type:"MultiPolygon",coordinates:[[[[121.8109,21.77688],[122.26612,25.98197],[120.49232,25.22863],[118.56434,24.49266],[118.42453,24.54644],[118.35291,24.51645],[118.28244,24.51231],[118.11703,24.39734],[120.69238,21.52331],[121.8109,21.77688]]]]}},{type:"Feature",properties:{iso1A2:"TZ",iso1A3:"TZA",iso1N3:"834",wikidata:"Q924",nameEn:"Tanzania",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["255"]},geometry:{type:"MultiPolygon",coordinates:[[[[30.80408,-.99911],[30.76635,-.9852],[30.70631,-1.01175],[30.64166,-1.06601],[30.47194,-1.0555],[30.45116,-1.10641],[30.50889,-1.16412],[30.57123,-1.33264],[30.71974,-1.43244],[30.84079,-1.64652],[30.80802,-1.91477],[30.89303,-2.08223],[30.83915,-2.35795],[30.54501,-2.41404],[30.41789,-2.66266],[30.52747,-2.65841],[30.40662,-2.86151],[30.4987,-2.9573],[30.57926,-2.89791],[30.6675,-2.98987],[30.83823,-2.97837],[30.84165,-3.25152],[30.45915,-3.56532],[30.22042,-4.01738],[30.03323,-4.26631],[29.88172,-4.35743],[29.82885,-4.36153],[29.77289,-4.41733],[29.75109,-4.45836],[29.63827,-4.44681],[29.43673,-4.44845],[29.52552,-6.2731],[30.2567,-7.14121],[30.79243,-8.27382],[31.00796,-8.58615],[31.37533,-8.60769],[31.57147,-8.70619],[31.57147,-8.81388],[31.71158,-8.91386],[31.81587,-8.88618],[31.94663,-8.93846],[31.94196,-9.02303],[31.98866,-9.07069],[32.08206,-9.04609],[32.16146,-9.05993],[32.25486,-9.13371],[32.43543,-9.11988],[32.49147,-9.14754],[32.53661,-9.24281],[32.75611,-9.28583],[32.76233,-9.31963],[32.95389,-9.40138],[32.99397,-9.36712],[33.14925,-9.49322],[33.31581,-9.48554],[33.48052,-9.62442],[33.76677,-9.58516],[33.93298,-9.71647],[33.9638,-9.62206],[33.95829,-9.54066],[34.03865,-9.49398],[34.54499,-10.0678],[34.51911,-10.12279],[34.57581,-10.56271],[34.65946,-10.6828],[34.67047,-10.93796],[34.61161,-11.01611],[34.63305,-11.11731],[34.79375,-11.32245],[34.91153,-11.39799],[34.96296,-11.57354],[35.63599,-11.55927],[35.82767,-11.41081],[36.19094,-11.57593],[36.19094,-11.70008],[36.62068,-11.72884],[36.80309,-11.56836],[37.3936,-11.68949],[37.76614,-11.53352],[37.8388,-11.3123],[37.93618,-11.26228],[38.21598,-11.27289],[38.47258,-11.4199],[38.88996,-11.16978],[39.24395,-11.17433],[39.58249,-10.96043],[40.00295,-10.80255],[40.44265,-10.4618],[40.74206,-10.25691],[40.14328,-4.64201],[39.62121,-4.68136],[39.44306,-4.93877],[39.21631,-4.67835],[37.81321,-3.69179],[37.75036,-3.54243],[37.63099,-3.50723],[37.5903,-3.42735],[37.71745,-3.304],[37.67199,-3.06222],[34.0824,-1.02264],[34.03084,-1.05101],[34.02286,-1.00779],[33.93107,-.99298],[30.80408,-.99911]]]]}},{type:"Feature",properties:{iso1A2:"UA",iso1A3:"UKR",iso1N3:"804",wikidata:"Q212",nameEn:"Ukraine",groups:["151","150","UN"],callingCodes:["380"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.57318,46.10317],[33.61467,46.13561],[33.63854,46.14147],[33.61517,46.22615],[33.646,46.23028],[33.74047,46.18555],[33.79715,46.20482],[33.85234,46.19863],[33.91549,46.15938],[34.05272,46.10838],[34.07311,46.11769],[34.12929,46.10494],[34.181,46.06804],[34.25111,46.0532],[34.33912,46.06114],[34.41221,46.00245],[34.44155,45.95995],[34.48729,45.94267],[34.52011,45.95097],[34.55889,45.99347],[34.60861,45.99347],[34.66679,45.97136],[34.75479,45.90705],[34.80153,45.90047],[34.79905,45.81009],[34.96015,45.75634],[35.23066,45.79231],[37.62608,46.82615],[38.12112,46.86078],[38.3384,46.98085],[38.22955,47.12069],[38.23049,47.2324],[38.32112,47.2585],[38.33074,47.30508],[38.22225,47.30788],[38.28954,47.39255],[38.28679,47.53552],[38.35062,47.61631],[38.76379,47.69346],[38.79628,47.81109],[38.87979,47.87719],[39.73935,47.82876],[39.82213,47.96396],[39.77544,48.04206],[39.88256,48.04482],[39.83724,48.06501],[39.94847,48.22811],[40.00752,48.22445],[39.99241,48.31768],[39.97325,48.31399],[39.9693,48.29904],[39.95248,48.29972],[39.91465,48.26743],[39.90041,48.3049],[39.84273,48.30947],[39.84136,48.33321],[39.94847,48.35055],[39.88794,48.44226],[39.86196,48.46633],[39.84548,48.57821],[39.79764,48.58668],[39.67226,48.59368],[39.71765,48.68673],[39.73104,48.7325],[39.79466,48.83739],[39.97182,48.79398],[40.08168,48.87443],[40.03636,48.91957],[39.98967,48.86901],[39.78368,48.91596],[39.74874,48.98675],[39.72649,48.9754],[39.71353,48.98959],[39.6683,48.99454],[39.6836,49.05121],[39.93437,49.05709],[40.01988,49.1761],[40.22176,49.25683],[40.18331,49.34996],[40.14912,49.37681],[40.1141,49.38798],[40.03087,49.45452],[40.03636,49.52321],[40.16683,49.56865],[40.13249,49.61672],[39.84548,49.56064],[39.65047,49.61761],[39.59142,49.73758],[39.44496,49.76067],[39.27968,49.75976],[39.1808,49.88911],[38.9391,49.79524],[38.90477,49.86787],[38.73311,49.90238],[38.68677,50.00904],[38.65688,49.97176],[38.35408,50.00664],[38.32524,50.08866],[38.18517,50.08161],[38.21675,49.98104],[38.02999,49.90592],[38.02999,49.94482],[37.90776,50.04194],[37.79515,50.08425],[37.75807,50.07896],[37.61113,50.21976],[37.62879,50.24481],[37.62486,50.29966],[37.47243,50.36277],[37.48204,50.46079],[37.08468,50.34935],[36.91762,50.34963],[36.69377,50.26982],[36.64571,50.218],[36.56655,50.2413],[36.58371,50.28563],[36.47817,50.31457],[36.30101,50.29088],[36.20763,50.3943],[36.06893,50.45205],[35.8926,50.43829],[35.80388,50.41356],[35.73659,50.35489],[35.61711,50.35707],[35.58003,50.45117],[35.47463,50.49247],[35.39464,50.64751],[35.48116,50.66405],[35.47704,50.77274],[35.41367,50.80227],[35.39307,50.92145],[35.32598,50.94524],[35.40837,51.04119],[35.31774,51.08434],[35.20375,51.04723],[35.12685,51.16191],[35.14058,51.23162],[34.97304,51.2342],[34.82472,51.17483],[34.6874,51.18],[34.6613,51.25053],[34.38802,51.2746],[34.31661,51.23936],[34.23009,51.26429],[34.33446,51.363],[34.22048,51.4187],[34.30562,51.5205],[34.17599,51.63253],[34.07765,51.67065],[34.42922,51.72852],[34.41136,51.82793],[34.09413,52.00835],[34.11199,52.14087],[34.05239,52.20132],[33.78789,52.37204],[33.55718,52.30324],[33.48027,52.31499],[33.51323,52.35779],[33.18913,52.3754],[32.89937,52.2461],[32.85405,52.27888],[32.69475,52.25535],[32.54781,52.32423],[32.3528,52.32842],[32.38988,52.24946],[32.33083,52.23685],[32.34044,52.1434],[32.2777,52.10266],[32.23331,52.08085],[32.08813,52.03319],[31.92159,52.05144],[31.96141,52.08015],[31.85018,52.11305],[31.81722,52.09955],[31.7822,52.11406],[31.38326,52.12991],[31.25142,52.04131],[31.13332,52.1004],[30.95589,52.07775],[30.90897,52.00699],[30.76443,51.89739],[30.68804,51.82806],[30.51946,51.59649],[30.64992,51.35014],[30.56203,51.25655],[30.36153,51.33984],[30.34642,51.42555],[30.17888,51.51025],[29.77376,51.4461],[29.7408,51.53417],[29.54372,51.48372],[29.49773,51.39814],[29.42357,51.4187],[29.32881,51.37843],[29.25191,51.49828],[29.25603,51.57089],[29.20659,51.56918],[29.16402,51.64679],[29.1187,51.65872],[28.99098,51.56833],[28.95528,51.59222],[28.81795,51.55552],[28.76027,51.48802],[28.78224,51.45294],[28.75615,51.41442],[28.73143,51.46236],[28.69161,51.44695],[28.64429,51.5664],[28.47051,51.59734],[28.37592,51.54505],[28.23452,51.66988],[28.10658,51.57857],[27.95827,51.56065],[27.91844,51.61952],[27.85253,51.62293],[27.76052,51.47604],[27.67125,51.50854],[27.71932,51.60672],[27.55727,51.63486],[27.51058,51.5854],[27.47212,51.61184],[27.24828,51.60161],[27.26613,51.65957],[27.20948,51.66713],[27.20602,51.77291],[26.99422,51.76933],[26.9489,51.73788],[26.80043,51.75777],[26.69759,51.82284],[26.46962,51.80501],[26.39367,51.87315],[26.19084,51.86781],[26.00408,51.92967],[25.83217,51.92587],[25.80574,51.94556],[25.73673,51.91973],[25.46163,51.92205],[25.20228,51.97143],[24.98784,51.91273],[24.37123,51.88222],[24.29021,51.80841],[24.3163,51.75063],[24.13075,51.66979],[23.99907,51.58369],[23.8741,51.59734],[23.91118,51.63316],[23.7766,51.66809],[23.60906,51.62122],[23.6736,51.50255],[23.62751,51.50512],[23.69905,51.40871],[23.63858,51.32182],[23.80678,51.18405],[23.90376,51.07697],[23.92217,51.00836],[24.04576,50.90196],[24.14524,50.86128],[24.0952,50.83262],[23.99254,50.83847],[23.95925,50.79271],[24.0595,50.71625],[24.0996,50.60752],[24.07048,50.5071],[24.03668,50.44507],[23.99563,50.41289],[23.79445,50.40481],[23.71382,50.38248],[23.67635,50.33385],[23.28221,50.0957],[22.99329,49.84249],[22.83179,49.69875],[22.80261,49.69098],[22.78304,49.65543],[22.64534,49.53094],[22.69444,49.49378],[22.748,49.32759],[22.72009,49.20288],[22.86336,49.10513],[22.89122,49.00725],[22.56155,49.08865],[22.54338,49.01424],[22.48296,48.99172],[22.42934,48.92857],[22.34151,48.68893],[22.21379,48.6218],[22.16023,48.56548],[22.14689,48.4005],[22.2083,48.42534],[22.38133,48.23726],[22.49806,48.25189],[22.59007,48.15121],[22.58733,48.10813],[22.66835,48.09162],[22.73427,48.12005],[22.81804,48.11363],[22.87847,48.04665],[22.84276,47.98602],[22.89849,47.95851],[22.94301,47.96672],[22.92241,48.02002],[23.0158,47.99338],[23.08858,48.00716],[23.1133,48.08061],[23.15999,48.12188],[23.27397,48.08245],[23.33577,48.0237],[23.4979,47.96858],[23.52803,48.01818],[23.5653,48.00499],[23.63894,48.00293],[23.66262,47.98786],[23.75188,47.99705],[23.80904,47.98142],[23.8602,47.9329],[23.89352,47.94512],[23.94192,47.94868],[23.96337,47.96672],[23.98553,47.96076],[24.00801,47.968],[24.02999,47.95087],[24.06466,47.95317],[24.11281,47.91487],[24.22566,47.90231],[24.34926,47.9244],[24.43578,47.97131],[24.61994,47.95062],[24.70632,47.84428],[24.81893,47.82031],[24.88896,47.7234],[25.11144,47.75203],[25.23778,47.89403],[25.63878,47.94924],[25.77723,47.93919],[26.05901,47.9897],[26.17711,47.99246],[26.33504,48.18418],[26.55202,48.22445],[26.62823,48.25804],[26.6839,48.35828],[26.79239,48.29071],[26.82809,48.31629],[26.71274,48.40388],[26.85556,48.41095],[26.93384,48.36558],[27.03821,48.37653],[27.0231,48.42485],[27.08078,48.43214],[27.13434,48.37288],[27.27855,48.37534],[27.32159,48.4434],[27.37604,48.44398],[27.37741,48.41026],[27.44333,48.41209],[27.46942,48.454],[27.5889,48.49224],[27.59027,48.46311],[27.6658,48.44034],[27.74422,48.45926],[27.79225,48.44244],[27.81902,48.41874],[27.87533,48.4037],[27.88391,48.36699],[27.95883,48.32368],[28.04527,48.32661],[28.09873,48.3124],[28.07504,48.23494],[28.17666,48.25963],[28.19314,48.20749],[28.2856,48.23202],[28.32508,48.23384],[28.35519,48.24957],[28.36996,48.20543],[28.34912,48.1787],[28.30586,48.1597],[28.30609,48.14018],[28.34009,48.13147],[28.38712,48.17567],[28.43701,48.15832],[28.42454,48.12047],[28.48428,48.0737],[28.53921,48.17453],[28.69896,48.13106],[28.85232,48.12506],[28.8414,48.03392],[28.9306,47.96255],[29.1723,47.99013],[29.19839,47.89261],[29.27804,47.88893],[29.20663,47.80367],[29.27255,47.79953],[29.22242,47.73607],[29.22414,47.60012],[29.11743,47.55001],[29.18603,47.43387],[29.3261,47.44664],[29.39889,47.30179],[29.47854,47.30366],[29.48678,47.36043],[29.5733,47.36508],[29.59665,47.25521],[29.54996,47.24962],[29.57696,47.13581],[29.49732,47.12878],[29.53044,47.07851],[29.61038,47.09932],[29.62137,47.05069],[29.57056,46.94766],[29.72986,46.92234],[29.75458,46.8604],[29.87405,46.88199],[29.98814,46.82358],[29.94522,46.80055],[29.9743,46.75325],[29.94409,46.56002],[29.88916,46.54302],[30.02511,46.45132],[30.16794,46.40967],[30.09103,46.38694],[29.94114,46.40114],[29.88329,46.35851],[29.74496,46.45605],[29.66359,46.4215],[29.6763,46.36041],[29.5939,46.35472],[29.49914,46.45889],[29.35357,46.49505],[29.24886,46.37912],[29.23547,46.55435],[29.02409,46.49582],[29.01241,46.46177],[28.9306,46.45699],[29.004,46.31495],[28.98478,46.31803],[28.94953,46.25852],[29.06656,46.19716],[28.94643,46.09176],[29.00613,46.04962],[28.98004,46.00385],[28.74383,45.96664],[28.78503,45.83475],[28.69852,45.81753],[28.70401,45.78019],[28.52823,45.73803],[28.47879,45.66994],[28.51587,45.6613],[28.54196,45.58062],[28.49252,45.56716],[28.51449,45.49982],[28.43072,45.48538],[28.41836,45.51715],[28.30201,45.54744],[28.21139,45.46895],[28.28504,45.43907],[28.34554,45.32102],[28.5735,45.24759],[28.71358,45.22631],[28.78911,45.24179],[28.81383,45.3384],[28.94292,45.28045],[28.96077,45.33164],[29.24779,45.43388],[29.42632,45.44545],[29.59798,45.38857],[29.68175,45.26885],[29.65428,45.25629],[29.69272,45.19227],[30.04414,45.08461],[31.62627,45.50633],[33.54017,46.0123],[33.59087,46.06013],[33.57318,46.10317]]]]}},{type:"Feature",properties:{iso1A2:"UG",iso1A3:"UGA",iso1N3:"800",wikidata:"Q1036",nameEn:"Uganda",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["256"]},geometry:{type:"MultiPolygon",coordinates:[[[[33.93107,-.99298],[33.9264,-.54188],[33.98449,-.13079],[33.90936,.10581],[34.10067,.36372],[34.08727,.44713],[34.11408,.48884],[34.13493,.58118],[34.20196,.62289],[34.27345,.63182],[34.31516,.75693],[34.40041,.80266],[34.43349,.85254],[34.52369,1.10692],[34.57427,1.09868],[34.58029,1.14712],[34.67562,1.21265],[34.80223,1.22754],[34.82606,1.26626],[34.82606,1.30944],[34.7918,1.36752],[34.87819,1.5596],[34.92734,1.56109],[34.9899,1.6668],[34.98692,1.97348],[34.90947,2.42447],[34.95267,2.47209],[34.77244,2.70272],[34.78137,2.76223],[34.73967,2.85447],[34.65774,2.8753],[34.60114,2.93034],[34.56242,3.11478],[34.45815,3.18319],[34.40006,3.37949],[34.41794,3.44342],[34.39112,3.48802],[34.44922,3.51627],[34.45815,3.67385],[34.15429,3.80464],[34.06046,4.15235],[33.9873,4.23316],[33.51264,3.75068],[33.18356,3.77812],[33.02852,3.89296],[32.89746,3.81339],[32.72021,3.77327],[32.41337,3.748],[32.20782,3.6053],[32.19888,3.50867],[32.08866,3.53543],[32.08491,3.56287],[32.05187,3.589],[31.95907,3.57408],[31.96205,3.6499],[31.86821,3.78664],[31.81459,3.82083],[31.72075,3.74354],[31.50776,3.63652],[31.50478,3.67814],[31.29476,3.8015],[31.16666,3.79853],[30.97601,3.693],[30.85153,3.48867],[30.94081,3.50847],[30.93486,3.40737],[30.84251,3.26908],[30.77101,3.04897],[30.8574,2.9508],[30.8857,2.83923],[30.75612,2.5863],[30.74271,2.43601],[30.83059,2.42559],[30.91102,2.33332],[30.96911,2.41071],[31.06593,2.35862],[31.07934,2.30207],[31.12104,2.27676],[31.1985,2.29462],[31.20148,2.2217],[31.28042,2.17853],[31.30127,2.11006],[30.48503,1.21675],[30.24671,1.14974],[30.22139,.99635],[30.1484,.89805],[29.98307,.84295],[29.95477,.64486],[29.97413,.52124],[29.87284,.39166],[29.81922,.16824],[29.77454,.16675],[29.7224,.07291],[29.72687,-.08051],[29.65091,-.46777],[29.67474,-.47969],[29.67176,-.55714],[29.62708,-.71055],[29.63006,-.8997],[29.58388,-.89821],[29.59061,-1.39016],[29.82657,-1.31187],[29.912,-1.48269],[30.16369,-1.34303],[30.35212,-1.06896],[30.47194,-1.0555],[30.64166,-1.06601],[30.70631,-1.01175],[30.76635,-.9852],[30.80408,-.99911],[33.93107,-.99298]]]]}},{type:"Feature",properties:{iso1A2:"UM",iso1A3:"UMI",iso1N3:"581",wikidata:"Q16645",nameEn:"United States Minor Outlying Islands",country:"US"},geometry:null},{type:"Feature",properties:{iso1A2:"UN",wikidata:"Q1065",nameEn:"United Nations",level:"unitedNations",isoStatus:"excRes"},geometry:null},{type:"Feature",properties:{iso1A2:"US",iso1A3:"USA",iso1N3:"840",wikidata:"Q30",nameEn:"United States of America"},geometry:null},{type:"Feature",properties:{iso1A2:"UY",iso1A3:"URY",iso1N3:"858",wikidata:"Q77",nameEn:"Uruguay",groups:["005","419","019","UN"],callingCodes:["598"]},geometry:{type:"MultiPolygon",coordinates:[[[[-57.65132,-30.19229],[-57.61478,-30.25165],[-57.64859,-30.35095],[-57.89115,-30.49572],[-57.8024,-30.77193],[-57.89476,-30.95994],[-57.86729,-31.06352],[-57.9908,-31.34924],[-57.98127,-31.3872],[-58.07569,-31.44916],[-58.0023,-31.53084],[-58.00076,-31.65016],[-58.20252,-31.86966],[-58.10036,-32.25338],[-58.22362,-32.52416],[-58.1224,-32.98842],[-58.40475,-33.11777],[-58.44442,-33.84033],[-58.34425,-34.15035],[-57.83001,-34.69099],[-54.78916,-36.21945],[-52.83257,-34.01481],[-53.37138,-33.74313],[-53.39593,-33.75169],[-53.44031,-33.69344],[-53.52794,-33.68908],[-53.53459,-33.16843],[-53.1111,-32.71147],[-53.37671,-32.57005],[-53.39572,-32.58596],[-53.76024,-32.0751],[-54.17384,-31.86168],[-55.50821,-30.91349],[-55.50841,-30.9027],[-55.51862,-30.89828],[-55.52712,-30.89997],[-55.53276,-30.90218],[-55.53431,-30.89714],[-55.54572,-30.89051],[-55.55218,-30.88193],[-55.55373,-30.8732],[-55.5634,-30.8686],[-55.58866,-30.84117],[-55.87388,-31.05053],[-56.4619,-30.38457],[-56.4795,-30.3899],[-56.49267,-30.39471],[-56.90236,-30.02578],[-57.22502,-30.26121],[-57.65132,-30.19229]]]]}},{type:"Feature",properties:{iso1A2:"UZ",iso1A3:"UZB",iso1N3:"860",wikidata:"Q265",nameEn:"Uzbekistan",groups:["143","142","UN"],callingCodes:["998"]},geometry:{type:"MultiPolygon",coordinates:[[[[65.85194,42.85481],[65.53277,43.31856],[65.18666,43.48835],[64.96464,43.74748],[64.53885,43.56941],[63.34656,43.64003],[62.01711,43.51008],[61.01475,44.41383],[58.59711,45.58671],[55.97842,44.99622],[55.97832,44.99622],[55.97822,44.99617],[55.97811,44.99617],[55.97801,44.99612],[55.97801,44.99607],[55.97791,44.99607],[55.9778,44.99607],[55.9777,44.99601],[55.9777,44.99596],[55.9776,44.99591],[55.97749,44.99591],[55.97739,44.99591],[55.97739,44.99586],[55.97729,44.99586],[55.97718,44.99581],[55.97708,44.99576],[55.97698,44.9957],[55.97698,44.99565],[55.97687,44.9956],[55.97677,44.9956],[55.97677,44.99555],[55.97677,44.9955],[55.97667,44.99545],[55.97656,44.99539],[55.97646,44.99534],[55.97646,44.99529],[55.97636,44.99524],[55.97636,44.99519],[55.97625,44.99514],[55.97615,44.99508],[55.97615,44.99503],[55.97615,44.99498],[55.97615,44.99493],[55.97615,44.99483],[55.97615,44.99477],[55.97605,44.99477],[55.97605,44.99467],[55.97605,44.99462],[55.97605,44.99457],[55.97605,44.99452],[55.97594,44.99446],[55.97584,44.99441],[55.97584,44.99436],[55.97584,44.99431],[55.97584,44.99426],[55.97584,44.99421],[55.97584,44.99415],[55.97584,44.99405],[55.97584,44.994],[55.97584,44.9939],[55.97584,44.99384],[55.97584,44.99374],[55.97584,44.99369],[55.97584,44.99359],[55.97584,44.99353],[55.97584,44.99348],[55.97584,44.99343],[55.97584,44.99338],[55.97584,44.99328],[55.97584,44.99322],[56.00314,41.32584],[57.03423,41.25435],[57.13796,41.36625],[57.03359,41.41777],[56.96218,41.80383],[57.03633,41.92043],[57.30275,42.14076],[57.6296,42.16519],[57.84932,42.18555],[57.92897,42.24047],[57.90975,42.4374],[57.99214,42.50021],[58.3492,42.43335],[58.40688,42.29535],[58.51674,42.30348],[58.29427,42.56497],[58.14321,42.62159],[58.27504,42.69632],[58.57991,42.64988],[58.6266,42.79314],[58.93422,42.5407],[59.17317,42.52248],[59.2955,42.37064],[59.4341,42.29738],[59.94633,42.27655],[60.00539,42.212],[59.96419,42.1428],[60.04659,42.08982],[60.0356,42.01028],[59.95046,41.97966],[60.33223,41.75058],[60.08504,41.80997],[60.06032,41.76287],[60.18117,41.60082],[60.06581,41.4363],[60.5078,41.21694],[61.03261,41.25691],[61.22212,41.14946],[61.33199,41.14946],[61.39732,41.19873],[61.4446,41.29407],[61.87856,41.12257],[62.11751,40.58242],[62.34273,40.43206],[62.43337,39.98528],[63.6913,39.27666],[63.70778,39.22349],[64.19086,38.95561],[64.32576,38.98691],[65.55873,38.29052],[65.83913,38.25733],[66.24013,38.16238],[66.41042,38.02403],[66.56697,38.0435],[66.67684,37.96776],[66.53676,37.80084],[66.52852,37.58568],[66.65761,37.45497],[66.52303,37.39827],[66.55743,37.35409],[66.64699,37.32958],[66.95598,37.40162],[67.08232,37.35469],[67.13039,37.27168],[67.2224,37.24545],[67.2581,37.17216],[67.51868,37.26102],[67.78329,37.1834],[67.8474,37.31594],[67.81566,37.43107],[68.12635,37.93],[68.27159,37.91477],[68.40343,38.19484],[68.13289,38.40822],[68.06274,38.39435],[68.11366,38.47169],[68.05873,38.56087],[68.0807,38.64136],[68.05598,38.71641],[68.12877,38.73677],[68.06948,38.82115],[68.19743,38.85985],[68.09704,39.02589],[67.68915,39.00775],[67.67833,39.14479],[67.33226,39.23739],[67.36522,39.31287],[67.45998,39.315],[67.46822,39.46146],[67.39681,39.52505],[67.46547,39.53564],[67.44899,39.57799],[67.62889,39.60234],[67.70992,39.66156],[68.12053,39.56317],[68.54166,39.53929],[68.61972,39.68905],[68.63071,39.85265],[68.88889,39.87163],[68.93695,39.91167],[68.84906,40.04952],[68.96579,40.06949],[69.01935,40.11466],[69.01523,40.15771],[68.62796,40.07789],[68.52771,40.11676],[68.5332,40.14826],[68.77902,40.20492],[68.79276,40.17555],[68.84357,40.18604],[68.85832,40.20885],[69.04544,40.22904],[69.15659,40.2162],[69.2074,40.21488],[69.30448,40.18774],[69.30104,40.24502],[69.25229,40.26362],[69.24817,40.30357],[69.30808,40.2821],[69.32833,40.29794],[69.33794,40.34819],[69.30774,40.36102],[69.28525,40.41894],[69.27066,40.49274],[69.21063,40.54469],[69.2643,40.57506],[69.3455,40.57988],[69.32834,40.70233],[69.38327,40.7918],[69.53021,40.77621],[69.59441,40.70181],[69.69434,40.62615],[70.36655,40.90296],[70.38028,41.02014],[70.45251,41.04438],[70.80009,40.72825],[70.49871,40.52503],[70.32626,40.45174],[70.37511,40.38605],[70.57149,40.3442],[70.56394,40.26421],[70.62342,40.17396],[70.8607,40.217],[70.9818,40.22392],[70.95789,40.28761],[71.05901,40.28765],[71.13042,40.34106],[71.36663,40.31593],[71.4246,40.28619],[71.51215,40.26943],[71.51549,40.22986],[71.61725,40.20615],[71.61931,40.26775],[71.68386,40.26984],[71.70569,40.20391],[71.69621,40.18492],[71.71719,40.17886],[71.73054,40.14818],[71.82646,40.21872],[71.85002,40.25647],[72.05464,40.27586],[71.96401,40.31907],[72.18648,40.49893],[72.24368,40.46091],[72.40346,40.4007],[72.44191,40.48222],[72.41513,40.50856],[72.38384,40.51535],[72.41714,40.55736],[72.34406,40.60144],[72.40517,40.61917],[72.47795,40.5532],[72.66713,40.5219],[72.66713,40.59076],[72.69579,40.59778],[72.73995,40.58409],[72.74768,40.58051],[72.74862,40.57131],[72.75982,40.57273],[72.74894,40.59592],[72.74866,40.60873],[72.80137,40.67856],[72.84754,40.67229],[72.85372,40.7116],[72.8722,40.71111],[72.93296,40.73089],[72.99133,40.76457],[73.0612,40.76678],[73.13412,40.79122],[73.13267,40.83512],[73.01869,40.84681],[72.94454,40.8094],[72.84291,40.85512],[72.68157,40.84942],[72.59136,40.86947],[72.55109,40.96046],[72.48742,40.97136],[72.45206,41.03018],[72.38511,41.02785],[72.36138,41.04384],[72.34757,41.06104],[72.34026,41.04539],[72.324,41.03381],[72.18339,40.99571],[72.17594,41.02377],[72.21061,41.05607],[72.1792,41.10621],[72.14864,41.13363],[72.17594,41.15522],[72.16433,41.16483],[72.10745,41.15483],[72.07249,41.11739],[71.85964,41.19081],[71.91457,41.2982],[71.83914,41.3546],[71.76625,41.4466],[71.71132,41.43012],[71.73054,41.54713],[71.65914,41.49599],[71.6787,41.42111],[71.57227,41.29175],[71.46688,41.31883],[71.43814,41.19644],[71.46148,41.13958],[71.40198,41.09436],[71.34877,41.16807],[71.27187,41.11015],[71.25813,41.18796],[71.11806,41.15359],[71.02193,41.19494],[70.9615,41.16393],[70.86263,41.23833],[70.77885,41.24813],[70.78572,41.36419],[70.67586,41.47953],[70.48909,41.40335],[70.17682,41.5455],[70.69777,41.92554],[71.28719,42.18033],[71.13263,42.28356],[70.94483,42.26238],[69.49545,41.545],[69.45751,41.56863],[69.39485,41.51518],[69.45081,41.46246],[69.37468,41.46555],[69.35554,41.47211],[69.29778,41.43673],[69.25059,41.46693],[69.23332,41.45847],[69.22671,41.46298],[69.20439,41.45391],[69.18528,41.45175],[69.17701,41.43769],[69.15137,41.43078],[69.05006,41.36183],[69.01308,41.22804],[68.7217,41.05025],[68.73945,40.96989],[68.65662,40.93861],[68.62221,41.03019],[68.49983,40.99669],[68.58444,40.91447],[68.63,40.59358],[68.49983,40.56437],[67.96736,40.83798],[68.1271,41.0324],[68.08273,41.08148],[67.98511,41.02794],[67.9644,41.14611],[66.69129,41.1311],[66.53302,41.87388],[66.00546,41.94455],[66.09482,42.93426],[65.85194,42.85481]],[[70.68112,40.90612],[70.6721,40.90555],[70.57501,40.98941],[70.54223,40.98787],[70.56077,41.00642],[70.6158,40.97661],[70.68112,40.90612]]],[[[71.21139,40.03369],[71.12218,40.03052],[71.06305,40.1771],[71.00236,40.18154],[71.01035,40.05481],[71.11037,40.01984],[71.11668,39.99291],[71.09063,39.99],[71.10501,39.95568],[71.04979,39.89808],[71.10531,39.91354],[71.16101,39.88423],[71.23067,39.93581],[71.1427,39.95026],[71.21139,40.03369]]],[[[71.86463,39.98598],[71.78838,40.01404],[71.71511,39.96348],[71.7504,39.93701],[71.84316,39.95582],[71.86463,39.98598]]]]}},{type:"Feature",properties:{iso1A2:"VA",iso1A3:"VAT",iso1N3:"336",wikidata:"Q237",nameEn:"Vatican City",aliases:["Holy See"],groups:["039","150"],callingCodes:["379","39 06"]},geometry:{type:"MultiPolygon",coordinates:[[[[12.45181,41.90056],[12.45446,41.90028],[12.45435,41.90143],[12.45626,41.90172],[12.45691,41.90125],[12.4577,41.90115],[12.45834,41.90174],[12.45826,41.90281],[12.45755,41.9033],[12.45762,41.9058],[12.45561,41.90629],[12.45543,41.90738],[12.45091,41.90625],[12.44984,41.90545],[12.44815,41.90326],[12.44582,41.90194],[12.44834,41.90095],[12.45181,41.90056]]]]}},{type:"Feature",properties:{iso1A2:"VC",iso1A3:"VCT",iso1N3:"670",wikidata:"Q757",nameEn:"St. Vincent and the Grenadines",aliases:["WV"],groups:["029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",callingCodes:["1 784"]},geometry:{type:"MultiPolygon",coordinates:[[[[-62.64026,12.69984],[-59.94058,12.34011],[-61.69315,14.26451],[-62.64026,12.69984]]]]}},{type:"Feature",properties:{iso1A2:"VE",iso1A3:"VEN",iso1N3:"862",wikidata:"Q717",nameEn:"Venezuela",aliases:["YV"],groups:["005","419","019","UN"],callingCodes:["58"]},geometry:{type:"MultiPolygon",coordinates:[[[[-71.22331,13.01387],[-70.92579,11.96275],[-71.3275,11.85],[-71.9675,11.65536],[-72.24983,11.14138],[-72.4767,11.1117],[-72.88002,10.44309],[-72.98085,9.85253],[-73.36905,9.16636],[-73.02119,9.27584],[-72.94052,9.10663],[-72.77415,9.10165],[-72.65474,8.61428],[-72.4042,8.36513],[-72.36987,8.19976],[-72.35163,8.01163],[-72.39137,8.03534],[-72.47213,7.96106],[-72.48801,7.94329],[-72.48183,7.92909],[-72.47042,7.92306],[-72.45806,7.91141],[-72.46183,7.90682],[-72.44454,7.86031],[-72.46763,7.79518],[-72.47827,7.65604],[-72.45321,7.57232],[-72.47415,7.48928],[-72.43132,7.40034],[-72.19437,7.37034],[-72.04895,7.03837],[-71.82441,7.04314],[-71.44118,7.02116],[-71.42212,7.03854],[-71.37234,7.01588],[-71.03941,6.98163],[-70.7596,7.09799],[-70.10716,6.96516],[-69.41843,6.1072],[-67.60654,6.2891],[-67.4625,6.20625],[-67.43513,5.98835],[-67.58558,5.84537],[-67.63914,5.64963],[-67.59141,5.5369],[-67.83341,5.31104],[-67.85358,4.53249],[-67.62671,3.74303],[-67.50067,3.75812],[-67.30945,3.38393],[-67.85862,2.86727],[-67.85862,2.79173],[-67.65696,2.81691],[-67.21967,2.35778],[-66.85795,1.22998],[-66.28507,.74585],[-65.6727,1.01353],[-65.50158,.92086],[-65.57288,.62856],[-65.11657,1.12046],[-64.38932,1.5125],[-64.34654,1.35569],[-64.08274,1.64792],[-64.06135,1.94722],[-63.39827,2.16098],[-63.39114,2.4317],[-64.0257,2.48156],[-64.02908,2.79797],[-64.48379,3.7879],[-64.84028,4.24665],[-64.72977,4.28931],[-64.57648,4.12576],[-64.14512,4.12932],[-63.99183,3.90172],[-63.86082,3.94796],[-63.70218,3.91417],[-63.67099,4.01731],[-63.50611,3.83592],[-63.42233,3.89995],[-63.4464,3.9693],[-63.21111,3.96219],[-62.98296,3.59935],[-62.7655,3.73099],[-62.74411,4.03331],[-62.57656,4.04754],[-62.44822,4.18621],[-62.13094,4.08309],[-61.54629,4.2822],[-61.48569,4.43149],[-61.29675,4.44216],[-61.31457,4.54167],[-61.15703,4.49839],[-60.98303,4.54167],[-60.86539,4.70512],[-60.5802,4.94312],[-60.73204,5.20931],[-61.4041,5.95304],[-61.15058,6.19558],[-61.20762,6.58174],[-61.13632,6.70922],[-60.54873,6.8631],[-60.39419,6.94847],[-60.28074,7.1162],[-60.44116,7.20817],[-60.54098,7.14804],[-60.63367,7.25061],[-60.59802,7.33194],[-60.71923,7.55817],[-60.64793,7.56877],[-60.51959,7.83373],[-60.38056,7.8302],[-60.02407,8.04557],[-59.97059,8.20791],[-59.83156,8.23261],[-59.80661,8.28906],[-59.85562,8.35213],[-59.98508,8.53046],[-59.54058,8.6862],[-60.89962,9.81445],[-62.08693,10.04435],[-61.62505,11.18974],[-63.73917,11.92623],[-63.19938,16.44103],[-67.89186,12.4116],[-68.01417,11.77722],[-68.33524,11.78151],[-68.99639,11.79035],[-71.22331,13.01387]]]]}},{type:"Feature",properties:{iso1A2:"VG",iso1A3:"VGB",iso1N3:"092",wikidata:"Q25305",nameEn:"British Virgin Islands",country:"GB",groups:["BOTS","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 284"]},geometry:{type:"MultiPolygon",coordinates:[[[[-64.47127,17.55688],[-63.88746,19.15706],[-65.02435,18.73231],[-64.86027,18.39056],[-64.64673,18.36549],[-64.47127,17.55688]]]]}},{type:"Feature",properties:{iso1A2:"VI",iso1A3:"VIR",iso1N3:"850",wikidata:"Q11703",nameEn:"United States Virgin Islands",aliases:["US-VI"],country:"US",groups:["Q1352230","029","003","419","019","UN"],driveSide:"left",roadSpeedUnit:"mph",roadHeightUnit:"ft",callingCodes:["1 340"]},geometry:{type:"MultiPolygon",coordinates:[[[[-65.02435,18.73231],[-65.27974,17.56928],[-64.47127,17.55688],[-64.64673,18.36549],[-64.86027,18.39056],[-65.02435,18.73231]]]]}},{type:"Feature",properties:{iso1A2:"VN",iso1A3:"VNM",iso1N3:"704",wikidata:"Q881",nameEn:"Vietnam",groups:["035","142","UN"],callingCodes:["84"]},geometry:{type:"MultiPolygon",coordinates:[[[[108.10003,21.47338],[108.0569,21.53604],[108.02926,21.54997],[107.97932,21.54503],[107.97383,21.53961],[107.97074,21.54072],[107.96774,21.53601],[107.95232,21.5388],[107.92652,21.58906],[107.90006,21.5905],[107.86114,21.65128],[107.80355,21.66141],[107.66967,21.60787],[107.56537,21.61945],[107.54047,21.5934],[107.49065,21.59774],[107.49532,21.62958],[107.47197,21.6672],[107.41593,21.64839],[107.38636,21.59774],[107.35989,21.60063],[107.35834,21.6672],[107.29296,21.74674],[107.24625,21.7077],[107.20734,21.71493],[107.10771,21.79879],[107.02615,21.81981],[107.00964,21.85948],[107.06101,21.88982],[107.05634,21.92303],[106.99252,21.95191],[106.97228,21.92592],[106.92714,21.93459],[106.9178,21.97357],[106.81038,21.97934],[106.74345,22.00965],[106.72551,21.97923],[106.69276,21.96013],[106.68274,21.99811],[106.70142,22.02409],[106.6983,22.15102],[106.67495,22.1885],[106.69986,22.22309],[106.6516,22.33977],[106.55976,22.34841],[106.57221,22.37],[106.55665,22.46498],[106.58395,22.474],[106.61269,22.60301],[106.65316,22.5757],[106.71698,22.58432],[106.72321,22.63606],[106.76293,22.73491],[106.82404,22.7881],[106.83685,22.8098],[106.81271,22.8226],[106.78422,22.81532],[106.71128,22.85982],[106.71387,22.88296],[106.6734,22.89587],[106.6516,22.86862],[106.60179,22.92884],[106.55976,22.92311],[106.51306,22.94891],[106.49749,22.91164],[106.34961,22.86718],[106.27022,22.87722],[106.19705,22.98475],[106.00179,22.99049],[105.99568,22.94178],[105.90119,22.94168],[105.8726,22.92756],[105.72382,23.06641],[105.57594,23.075],[105.56037,23.16806],[105.49966,23.20669],[105.42805,23.30824],[105.40782,23.28107],[105.32376,23.39684],[105.22569,23.27249],[105.17276,23.28679],[105.11672,23.25247],[105.07002,23.26248],[104.98712,23.19176],[104.96532,23.20463],[104.9486,23.17235],[104.91435,23.18666],[104.87992,23.17141],[104.87382,23.12854],[104.79478,23.12934],[104.8334,23.01484],[104.86765,22.95178],[104.84942,22.93631],[104.77114,22.90017],[104.72755,22.81984],[104.65283,22.83419],[104.60457,22.81841],[104.58122,22.85571],[104.47225,22.75813],[104.35593,22.69353],[104.25683,22.76534],[104.27084,22.8457],[104.11384,22.80363],[104.03734,22.72945],[104.01088,22.51823],[103.99247,22.51958],[103.97384,22.50634],[103.96783,22.51173],[103.96352,22.50584],[103.95191,22.5134],[103.94513,22.52553],[103.93286,22.52703],[103.87904,22.56683],[103.64506,22.79979],[103.56255,22.69499],[103.57812,22.65764],[103.52675,22.59155],[103.43646,22.70648],[103.43179,22.75816],[103.32282,22.8127],[103.28079,22.68063],[103.18895,22.64471],[103.15782,22.59873],[103.17961,22.55705],[103.07843,22.50097],[103.0722,22.44775],[102.9321,22.48659],[102.8636,22.60735],[102.60675,22.73376],[102.57095,22.7036],[102.51802,22.77969],[102.46665,22.77108],[102.42618,22.69212],[102.38415,22.67919],[102.41061,22.64184],[102.25339,22.4607],[102.26428,22.41321],[102.16621,22.43336],[102.14099,22.40092],[102.18712,22.30403],[102.51734,22.02676],[102.49092,21.99002],[102.62301,21.91447],[102.67145,21.65894],[102.74189,21.66713],[102.82115,21.73667],[102.81894,21.83888],[102.85637,21.84501],[102.86077,21.71213],[102.97965,21.74076],[102.98846,21.58936],[102.86297,21.4255],[102.94223,21.46034],[102.88939,21.3107],[102.80794,21.25736],[102.89825,21.24707],[102.97745,21.05821],[103.03469,21.05821],[103.12055,20.89994],[103.21497,20.89832],[103.38032,20.79501],[103.45737,20.82382],[103.68633,20.66324],[103.73478,20.6669],[103.82282,20.8732],[103.98024,20.91531],[104.11121,20.96779],[104.27412,20.91433],[104.63957,20.6653],[104.38199,20.47155],[104.40621,20.3849],[104.47886,20.37459],[104.66158,20.47774],[104.72102,20.40554],[104.62195,20.36633],[104.61315,20.24452],[104.86852,20.14121],[104.91695,20.15567],[104.9874,20.09573],[104.8465,19.91783],[104.8355,19.80395],[104.68359,19.72729],[104.64837,19.62365],[104.53169,19.61743],[104.41281,19.70035],[104.23229,19.70242],[104.06498,19.66926],[104.05617,19.61743],[104.10832,19.51575],[104.06058,19.43484],[103.87125,19.31854],[104.5361,18.97747],[104.64617,18.85668],[105.12829,18.70453],[105.19654,18.64196],[105.1327,18.58355],[105.10408,18.43533],[105.15942,18.38691],[105.38366,18.15315],[105.46292,18.22008],[105.64784,17.96687],[105.60381,17.89356],[105.76612,17.67147],[105.85744,17.63221],[106.09019,17.36399],[106.18991,17.28227],[106.24444,17.24714],[106.29287,17.3018],[106.31929,17.20509],[106.43597,17.01362],[106.50862,16.9673],[106.55045,17.0031],[106.54824,16.92729],[106.51963,16.92097],[106.52183,16.87884],[106.55265,16.86831],[106.55485,16.68704],[106.59013,16.62259],[106.58267,16.6012],[106.61477,16.60713],[106.66052,16.56892],[106.65832,16.47816],[106.74418,16.41904],[106.84104,16.55415],[106.88727,16.52671],[106.88067,16.43594],[106.96638,16.34938],[106.97385,16.30204],[107.02597,16.31132],[107.09091,16.3092],[107.15035,16.26271],[107.14595,16.17816],[107.25822,16.13587],[107.33968,16.05549],[107.44975,16.08511],[107.46296,16.01106],[107.39471,15.88829],[107.34188,15.89464],[107.21419,15.83747],[107.21859,15.74638],[107.27143,15.71459],[107.27583,15.62769],[107.34408,15.62345],[107.3815,15.49832],[107.50699,15.48771],[107.53341,15.40496],[107.62367,15.42193],[107.60605,15.37524],[107.62587,15.2266],[107.58844,15.20111],[107.61926,15.13949],[107.61486,15.0566],[107.46516,15.00982],[107.48277,14.93751],[107.59285,14.87795],[107.51579,14.79282],[107.54361,14.69092],[107.55371,14.628],[107.52102,14.59034],[107.52569,14.54665],[107.48521,14.40346],[107.44941,14.41552],[107.39493,14.32655],[107.40427,14.24509],[107.33577,14.11832],[107.37158,14.07906],[107.35757,14.02319],[107.38247,13.99147],[107.44318,13.99751],[107.46498,13.91593],[107.45252,13.78897],[107.53503,13.73908],[107.61909,13.52577],[107.62843,13.3668],[107.49144,13.01215],[107.49611,12.88926],[107.55993,12.7982],[107.5755,12.52177],[107.55059,12.36824],[107.4463,12.29373],[107.42917,12.24657],[107.34511,12.33327],[107.15831,12.27547],[106.99953,12.08983],[106.92325,12.06548],[106.79405,12.0807],[106.70687,11.96956],[106.4111,11.97413],[106.4687,11.86751],[106.44068,11.86294],[106.44535,11.8279],[106.41577,11.76999],[106.45158,11.68616],[106.44691,11.66787],[106.37219,11.69836],[106.30525,11.67549],[106.26478,11.72122],[106.18539,11.75171],[106.13158,11.73283],[106.06708,11.77761],[106.02038,11.77457],[106.00792,11.7197],[105.95188,11.63738],[105.88962,11.67854],[105.8507,11.66635],[105.80867,11.60536],[105.81645,11.56876],[105.87328,11.55953],[105.88962,11.43605],[105.86782,11.28343],[106.10444,11.07879],[106.1527,11.10476],[106.1757,11.07301],[106.20095,10.97795],[106.14301,10.98176],[106.18539,10.79451],[106.06708,10.8098],[105.94535,10.9168],[105.93403,10.83853],[105.84603,10.85873],[105.86376,10.89839],[105.77751,11.03671],[105.50045,10.94586],[105.42884,10.96878],[105.34011,10.86179],[105.11449,10.96332],[105.08326,10.95656],[105.02722,10.89236],[105.09571,10.72722],[104.95094,10.64003],[104.87933,10.52833],[104.59018,10.53073],[104.49869,10.4057],[104.47963,10.43046],[104.43778,10.42386],[103.99198,10.48391],[102.47649,9.66162],[104.81582,8.03101],[109.55486,8.10026],[111.60491,13.57105],[108.00365,17.98159],[108.10003,21.47338]]]]}},{type:"Feature",properties:{iso1A2:"VU",iso1A3:"VUT",iso1N3:"548",wikidata:"Q686",nameEn:"Vanuatu",groups:["054","009","UN"],callingCodes:["678"]},geometry:{type:"MultiPolygon",coordinates:[[[[156.73836,-14.50464],[174.245,-23.1974],[172.71443,-12.01327],[156.73836,-14.50464]]]]}},{type:"Feature",properties:{iso1A2:"WF",iso1A3:"WLF",iso1N3:"876",wikidata:"Q35555",nameEn:"Wallis and Futuna",country:"FR",groups:["Q1451600","061","009","UN"],callingCodes:["681"]},geometry:{type:"MultiPolygon",coordinates:[[[[-178.66551,-14.32452],[-176.76826,-14.95183],[-175.59809,-12.61507],[-178.66551,-14.32452]]]]}},{type:"Feature",properties:{iso1A2:"WS",iso1A3:"WSM",iso1N3:"882",wikidata:"Q683",nameEn:"Samoa",groups:["061","009","UN"],driveSide:"left",callingCodes:["685"]},geometry:{type:"MultiPolygon",coordinates:[[[[-173.74402,-14.26669],[-170.99605,-15.1275],[-171.39864,-10.21587],[-173.74402,-14.26669]]]]}},{type:"Feature",properties:{iso1A2:"XK",iso1A3:"XKX",wikidata:"Q1246",nameEn:"Kosovo",aliases:["KV"],groups:["039","150"],isoStatus:"usrAssn",callingCodes:["383"]},geometry:{type:"MultiPolygon",coordinates:[[[[21.39045,42.74888],[21.44047,42.87276],[21.36941,42.87397],[21.32974,42.90424],[21.2719,42.8994],[21.23534,42.95523],[21.23877,43.00848],[21.2041,43.02277],[21.16734,42.99694],[21.14465,43.11089],[21.08952,43.13471],[21.05378,43.10707],[21.00749,43.13984],[20.96287,43.12416],[20.83727,43.17842],[20.88685,43.21697],[20.82145,43.26769],[20.73811,43.25068],[20.68688,43.21335],[20.59929,43.20492],[20.69515,43.09641],[20.64557,43.00826],[20.59929,43.01067],[20.48692,42.93208],[20.53484,42.8885],[20.43734,42.83157],[20.40594,42.84853],[20.35692,42.8335],[20.27869,42.81945],[20.2539,42.76245],[20.04898,42.77701],[20.02088,42.74789],[20.02915,42.71147],[20.0969,42.65559],[20.07761,42.55582],[20.17127,42.50469],[20.21797,42.41237],[20.24399,42.32168],[20.34479,42.32656],[20.3819,42.3029],[20.48857,42.25444],[20.56955,42.12097],[20.55633,42.08173],[20.59434,42.03879],[20.63069,41.94913],[20.57946,41.91593],[20.59524,41.8818],[20.68523,41.85318],[20.76786,41.91839],[20.75464,42.05229],[21.11491,42.20794],[21.16614,42.19815],[21.22728,42.08909],[21.31983,42.10993],[21.29913,42.13954],[21.30496,42.1418],[21.38428,42.24465],[21.43882,42.23609],[21.43882,42.2789],[21.50823,42.27156],[21.52145,42.24465],[21.58992,42.25915],[21.56772,42.30946],[21.5264,42.33634],[21.53467,42.36809],[21.57021,42.3647],[21.59029,42.38042],[21.62887,42.37664],[21.64209,42.41081],[21.62556,42.45106],[21.7035,42.51899],[21.70522,42.54176],[21.7327,42.55041],[21.75672,42.62695],[21.79413,42.65923],[21.75025,42.70125],[21.6626,42.67813],[21.58755,42.70418],[21.59154,42.72643],[21.47498,42.74695],[21.39045,42.74888]]]]}},{type:"Feature",properties:{iso1A2:"YE",iso1A3:"YEM",iso1N3:"887",wikidata:"Q805",nameEn:"Yemen",groups:["145","142","UN"],callingCodes:["967"]},geometry:{type:"MultiPolygon",coordinates:[[[[57.49095,8.14549],[52.81185,17.28568],[52.74267,17.29519],[52.78009,17.35124],[52.00311,19.00083],[49.04884,18.59899],[48.19996,18.20584],[47.58351,17.50366],[47.48245,17.10808],[47.00571,16.94765],[46.76494,17.29151],[46.31018,17.20464],[44.50126,17.47475],[43.70631,17.35762],[43.43005,17.56148],[43.29185,17.53224],[43.22533,17.38343],[43.32653,17.31179],[43.20156,17.25901],[43.17787,17.14717],[43.23967,17.03428],[43.18233,17.02673],[43.1813,16.98438],[43.19328,16.94703],[43.1398,16.90696],[43.18338,16.84852],[43.22012,16.83932],[43.22956,16.80613],[43.24801,16.80613],[43.26303,16.79479],[43.25857,16.75304],[43.21325,16.74416],[43.22066,16.65179],[43.15274,16.67248],[43.11601,16.53166],[42.97215,16.51093],[42.94351,16.49467],[42.94625,16.39721],[42.76801,16.40371],[42.15205,16.40211],[40.99158,15.81743],[43.29075,12.79154],[43.32909,12.59711],[43.90659,12.3823],[51.12877,12.56479],[57.49095,8.14549]]]]}},{type:"Feature",properties:{iso1A2:"YT",iso1A3:"MYT",iso1N3:"175",wikidata:"Q17063",nameEn:"Mayotte",country:"FR",groups:["Q3320166","EU","014","202","002","UN"],callingCodes:["262"]},geometry:{type:"MultiPolygon",coordinates:[[[[43.28731,-13.97126],[45.54824,-13.22353],[45.4971,-11.75965],[43.28731,-13.97126]]]]}},{type:"Feature",properties:{iso1A2:"ZA",iso1A3:"ZAF",iso1N3:"710",wikidata:"Q258",nameEn:"South Africa",groups:["018","202","002","UN"],driveSide:"left",callingCodes:["27"]},geometry:{type:"MultiPolygon",coordinates:[[[[31.30611,-22.422],[31.16344,-22.32599],[31.08932,-22.34884],[30.86696,-22.28907],[30.6294,-22.32599],[30.48686,-22.31368],[30.38614,-22.34533],[30.28351,-22.35587],[30.2265,-22.2961],[30.13147,-22.30841],[29.92242,-22.19408],[29.76848,-22.14128],[29.64609,-22.12917],[29.37703,-22.19581],[29.21955,-22.17771],[29.18974,-22.18599],[29.15268,-22.21399],[29.10881,-22.21202],[29.0151,-22.22907],[28.91889,-22.44299],[28.63287,-22.55887],[28.34874,-22.5694],[28.04562,-22.8394],[28.04752,-22.90243],[27.93729,-22.96194],[27.93539,-23.04941],[27.74154,-23.2137],[27.6066,-23.21894],[27.52393,-23.37952],[27.33768,-23.40917],[26.99749,-23.65486],[26.84165,-24.24885],[26.51667,-24.47219],[26.46346,-24.60358],[26.39409,-24.63468],[25.8515,-24.75727],[25.84295,-24.78661],[25.88571,-24.87802],[25.72702,-25.25503],[25.69661,-25.29284],[25.6643,-25.4491],[25.58543,-25.6343],[25.33076,-25.76616],[25.12266,-25.75931],[25.01718,-25.72507],[24.8946,-25.80723],[24.67319,-25.81749],[24.44703,-25.73021],[24.36531,-25.773],[24.18287,-25.62916],[23.9244,-25.64286],[23.47588,-25.29971],[23.03497,-25.29971],[22.86012,-25.50572],[22.70808,-25.99186],[22.56365,-26.19668],[22.41921,-26.23078],[22.21206,-26.3773],[22.06192,-26.61882],[21.90703,-26.66808],[21.83291,-26.65959],[21.77114,-26.69015],[21.7854,-26.79199],[21.69322,-26.86152],[21.37869,-26.82083],[21.13353,-26.86661],[20.87031,-26.80047],[20.68596,-26.9039],[20.63275,-26.78181],[20.61754,-26.4692],[20.86081,-26.14892],[20.64795,-25.47827],[20.29826,-24.94869],[20.03678,-24.81004],[20.02809,-24.78725],[19.99817,-24.76768],[19.99882,-28.42622],[18.99885,-28.89165],[17.4579,-28.68718],[17.15405,-28.08573],[16.90446,-28.057],[16.59922,-28.53246],[16.46592,-28.57126],[16.45332,-28.63117],[12.51595,-32.27486],[38.88176,-48.03306],[34.51034,-26.91792],[32.35222,-26.86027],[32.29584,-26.852],[32.22302,-26.84136],[32.19409,-26.84032],[32.13315,-26.84345],[32.09664,-26.80721],[32.00893,-26.8096],[31.97463,-27.11057],[31.97592,-27.31675],[31.49834,-27.31549],[31.15027,-27.20151],[30.96088,-27.0245],[30.97757,-26.92706],[30.88826,-26.79622],[30.81101,-26.84722],[30.78927,-26.48271],[30.95819,-26.26303],[31.13073,-25.91558],[31.31237,-25.7431],[31.4175,-25.71886],[31.86881,-25.99973],[31.974,-25.95387],[31.92649,-25.84216],[32.00631,-25.65044],[31.97875,-25.46356],[32.01676,-25.38117],[32.03196,-25.10785],[31.9835,-24.29983],[31.90368,-24.18892],[31.87707,-23.95293],[31.77445,-23.90082],[31.70223,-23.72695],[31.67942,-23.60858],[31.56539,-23.47268],[31.55779,-23.176],[31.30611,-22.422]],[[29.33204,-29.45598],[29.28545,-29.58456],[29.12553,-29.76266],[29.16548,-29.91706],[28.9338,-30.05072],[28.80222,-30.10579],[28.68627,-30.12885],[28.399,-30.1592],[28.2319,-30.28476],[28.12073,-30.68072],[27.74814,-30.60635],[27.69467,-30.55862],[27.67819,-30.53437],[27.6521,-30.51707],[27.62137,-30.50509],[27.56781,-30.44562],[27.56901,-30.42504],[27.45452,-30.32239],[27.38108,-30.33456],[27.36649,-30.27246],[27.37293,-30.19401],[27.40778,-30.14577],[27.32555,-30.14785],[27.29603,-30.05473],[27.22719,-30.00718],[27.09489,-29.72796],[27.01016,-29.65439],[27.33464,-29.48161],[27.4358,-29.33465],[27.47254,-29.31968],[27.45125,-29.29708],[27.48679,-29.29349],[27.54258,-29.25575],[27.5158,-29.2261],[27.55974,-29.18954],[27.75458,-28.89839],[27.8907,-28.91612],[27.88933,-28.88156],[27.9392,-28.84864],[27.98675,-28.8787],[28.02503,-28.85991],[28.1317,-28.7293],[28.2348,-28.69471],[28.30518,-28.69531],[28.40612,-28.6215],[28.65091,-28.57025],[28.68043,-28.58744],[29.40524,-29.21246],[29.44883,-29.3772],[29.33204,-29.45598]]]]}},{type:"Feature",properties:{iso1A2:"ZM",iso1A3:"ZMB",iso1N3:"894",wikidata:"Q953",nameEn:"Zambia",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["260"]},geometry:{type:"MultiPolygon",coordinates:[[[[32.95389,-9.40138],[32.76233,-9.31963],[32.75611,-9.28583],[32.53661,-9.24281],[32.49147,-9.14754],[32.43543,-9.11988],[32.25486,-9.13371],[32.16146,-9.05993],[32.08206,-9.04609],[31.98866,-9.07069],[31.94196,-9.02303],[31.94663,-8.93846],[31.81587,-8.88618],[31.71158,-8.91386],[31.57147,-8.81388],[31.57147,-8.70619],[31.37533,-8.60769],[31.00796,-8.58615],[30.79243,-8.27382],[28.88917,-8.4831],[28.9711,-8.66935],[28.38526,-9.23393],[28.36562,-9.30091],[28.52636,-9.35379],[28.51627,-9.44726],[28.56208,-9.49122],[28.68532,-9.78],[28.62795,-9.92942],[28.65032,-10.65133],[28.37241,-11.57848],[28.48357,-11.87532],[29.18592,-12.37921],[29.4992,-12.43843],[29.48404,-12.23604],[29.8139,-12.14898],[29.81551,-13.44683],[29.65078,-13.41844],[29.60531,-13.21685],[29.01918,-13.41353],[28.33199,-12.41375],[27.59932,-12.22123],[27.21025,-11.76157],[27.22541,-11.60323],[27.04351,-11.61312],[26.88687,-12.01868],[26.01777,-11.91488],[25.33058,-11.65767],[25.34069,-11.19707],[24.42612,-11.44975],[24.34528,-11.06816],[24.00027,-10.89356],[24.02603,-11.15368],[23.98804,-12.13149],[24.06672,-12.29058],[23.90937,-12.844],[24.03339,-12.99091],[21.97988,-13.00148],[22.00323,-16.18028],[22.17217,-16.50269],[23.20038,-17.47563],[23.47474,-17.62877],[24.23619,-17.47489],[24.32811,-17.49082],[24.38712,-17.46818],[24.5621,-17.52963],[24.70864,-17.49501],[25.00198,-17.58221],[25.26433,-17.79571],[25.51646,-17.86232],[25.6827,-17.81987],[25.85738,-17.91403],[25.85892,-17.97726],[26.08925,-17.98168],[26.0908,-17.93021],[26.21601,-17.88608],[26.55918,-17.99638],[26.68403,-18.07411],[26.74314,-18.0199],[26.89926,-17.98756],[27.14196,-17.81398],[27.30736,-17.60487],[27.61377,-17.34378],[27.62795,-17.24365],[27.83141,-16.96274],[28.73725,-16.5528],[28.76199,-16.51575],[28.81454,-16.48611],[28.8501,-16.04537],[28.9243,-15.93987],[29.01298,-15.93805],[29.21955,-15.76589],[29.4437,-15.68702],[29.8317,-15.6126],[30.35574,-15.6513],[30.41902,-15.62269],[30.22098,-14.99447],[33.24249,-14.00019],[33.16749,-13.93992],[33.07568,-13.98447],[33.02977,-14.05022],[32.99042,-13.95689],[32.88985,-13.82956],[32.79015,-13.80755],[32.76962,-13.77224],[32.84528,-13.71576],[32.7828,-13.64805],[32.68654,-13.64268],[32.66468,-13.60019],[32.68436,-13.55769],[32.73683,-13.57682],[32.84176,-13.52794],[32.86113,-13.47292],[33.0078,-13.19492],[32.98289,-13.12671],[33.02181,-12.88707],[32.96733,-12.88251],[32.94397,-12.76868],[33.05917,-12.59554],[33.18837,-12.61377],[33.28177,-12.54692],[33.37517,-12.54085],[33.54485,-12.35996],[33.47636,-12.32498],[33.3705,-12.34931],[33.25998,-12.14242],[33.33937,-11.91252],[33.32692,-11.59248],[33.24252,-11.59302],[33.23663,-11.40637],[33.29267,-11.43536],[33.29267,-11.3789],[33.39697,-11.15296],[33.25998,-10.88862],[33.28022,-10.84428],[33.47636,-10.78465],[33.70675,-10.56896],[33.54797,-10.36077],[33.53863,-10.20148],[33.31297,-10.05133],[33.37902,-9.9104],[33.36581,-9.81063],[33.31517,-9.82364],[33.2095,-9.61099],[33.12144,-9.58929],[33.10163,-9.66525],[33.05485,-9.61316],[33.00256,-9.63053],[33.00476,-9.5133],[32.95389,-9.40138]]]]}},{type:"Feature",properties:{iso1A2:"ZW",iso1A3:"ZWE",iso1N3:"716",wikidata:"Q954",nameEn:"Zimbabwe",groups:["014","202","002","UN"],driveSide:"left",callingCodes:["263"]},geometry:{type:"MultiPolygon",coordinates:[[[[30.41902,-15.62269],[30.35574,-15.6513],[29.8317,-15.6126],[29.4437,-15.68702],[29.21955,-15.76589],[29.01298,-15.93805],[28.9243,-15.93987],[28.8501,-16.04537],[28.81454,-16.48611],[28.76199,-16.51575],[28.73725,-16.5528],[27.83141,-16.96274],[27.62795,-17.24365],[27.61377,-17.34378],[27.30736,-17.60487],[27.14196,-17.81398],[26.89926,-17.98756],[26.74314,-18.0199],[26.68403,-18.07411],[26.55918,-17.99638],[26.21601,-17.88608],[26.0908,-17.93021],[26.08925,-17.98168],[25.85892,-17.97726],[25.85738,-17.91403],[25.6827,-17.81987],[25.51646,-17.86232],[25.26433,-17.79571],[25.23909,-17.90832],[25.31799,-18.07091],[25.39972,-18.12691],[25.53465,-18.39041],[25.68859,-18.56165],[25.79217,-18.6355],[25.82353,-18.82808],[25.94326,-18.90362],[25.99837,-19.02943],[25.96226,-19.08152],[26.17227,-19.53709],[26.72246,-19.92707],[27.21278,-20.08244],[27.29831,-20.28935],[27.28865,-20.49873],[27.69361,-20.48531],[27.72972,-20.51735],[27.69171,-21.08409],[27.91407,-21.31621],[28.01669,-21.57624],[28.29416,-21.59037],[28.49942,-21.66634],[28.58114,-21.63455],[29.07763,-21.81877],[29.04023,-21.85864],[29.02191,-21.90647],[29.02191,-21.95665],[29.04108,-22.00563],[29.08495,-22.04867],[29.14501,-22.07275],[29.1974,-22.07472],[29.24648,-22.05967],[29.3533,-22.18363],[29.37703,-22.19581],[29.64609,-22.12917],[29.76848,-22.14128],[29.92242,-22.19408],[30.13147,-22.30841],[30.2265,-22.2961],[30.28351,-22.35587],[30.38614,-22.34533],[30.48686,-22.31368],[30.6294,-22.32599],[30.86696,-22.28907],[31.08932,-22.34884],[31.16344,-22.32599],[31.30611,-22.422],[31.38336,-22.36919],[32.41234,-21.31246],[32.48236,-21.32873],[32.37115,-21.133],[32.51644,-20.91929],[32.48122,-20.63319],[32.55167,-20.56312],[32.66174,-20.56106],[32.85987,-20.27841],[32.85987,-20.16686],[32.93032,-20.03868],[33.01178,-20.02007],[33.06461,-19.77787],[32.95013,-19.67219],[32.84666,-19.68462],[32.84446,-19.48343],[32.78282,-19.47513],[32.77966,-19.36098],[32.85107,-19.29238],[32.87088,-19.09279],[32.84006,-19.0262],[32.72118,-19.02204],[32.69917,-18.94293],[32.73439,-18.92628],[32.70137,-18.84712],[32.82465,-18.77419],[32.9017,-18.7992],[32.95013,-18.69079],[32.88629,-18.58023],[32.88629,-18.51344],[33.02278,-18.4696],[33.03159,-18.35054],[32.94133,-17.99705],[33.0492,-17.60298],[32.98536,-17.55891],[32.96554,-17.48964],[33.0426,-17.3468],[33.00517,-17.30477],[32.96554,-17.11971],[32.84113,-16.92259],[32.91051,-16.89446],[32.97655,-16.70689],[32.78943,-16.70267],[32.69917,-16.66893],[32.71017,-16.59932],[32.42838,-16.4727],[32.28529,-16.43892],[32.02772,-16.43892],[31.91324,-16.41569],[31.90223,-16.34388],[31.67988,-16.19595],[31.42451,-16.15154],[31.30563,-16.01193],[31.13171,-15.98019],[30.97761,-16.05848],[30.91597,-15.99924],[30.42568,-15.9962],[30.41902,-15.62269]]]]}}],Tk={type:Mk,features:Ik},Nk=Tk,uu={},sr={},Ok=/(?=(?!^(and|the|of|el|la|de)$))(\b(and|the|of|el|la|de)\b)|[-_ .,'()&[\]/]/gi;function Bp(e){let t=e||"";return"."===t.charAt(0)?t.toUpperCase():t.replace(Ok,"").toUpperCase()}var Ki=["subterritory","territory","subcountryGroup","country","sharedLandform","intermediateRegion","subregion","region","subunion","union","unitedNations","world"];function Pk(e){let t=["iso1A2","iso1A3","m49","wikidata","emojiFlag","ccTLD","nameEn"],n=[];for(let m in e.features){let t=e.features[m];t.properties.id=t.properties.iso1A2||t.properties.m49||t.properties.wikidata,i(t),a(t),o(t),s(t),r(t),f(t),g(t),t.geometry&&n.push(t)}for(let m in e.features){let t=e.features[m];t.properties.groups=t.properties.groups.map((function(e){return sr[e].properties.id})),h(t)}for(let m in e.features){let t=e.features[m];c(t),u(t),d(t),p(t),l(t)}for(let m in e.features){let t=e.features[m];t.properties.groups.sort((function(e,t){return Ki.indexOf(sr[e].properties.level)-Ki.indexOf(sr[t].properties.level)})),t.properties.members&&t.properties.members.sort((function(t,n){let r=Ki.indexOf(sr[t].properties.level)-Ki.indexOf(sr[n].properties.level);return 0===r?e.features.indexOf(sr[t])-e.features.indexOf(sr[n]):r}))}function r(e){let t=e.properties;t.groups||(t.groups=[]),e.geometry&&t.country&&t.groups.push(t.country),"001"!==t.m49&&t.groups.push("001")}function i(e){let t=e.properties;!t.m49&&t.iso1N3&&(t.m49=t.iso1N3)}function a(e){let t=e.properties;"unitedNations"!==t.level&&!t.ccTLD&&t.iso1A2&&(t.ccTLD="."+t.iso1A2.toLowerCase())}function o(e){let t=e.properties;!t.isoStatus&&t.iso1A2&&(t.isoStatus="official")}function s(e){let t=e.properties;t.level||(t.country?t.iso1A2&&"official"!==t.isoStatus?t.level="subterritory":t.level="territory":t.level="country")}function l(e){let t=e.properties;if(e.geometry||!t.members)return;let n=Ki.indexOf(t.level),r=[];for(let i in t.members){let a=t.members[i],o=sr[a].properties.groups.filter((function(t){return t!==e.properties.id&&n<Ki.indexOf(sr[t].properties.level)}));r="0"===i?o:r.filter((function(e){return-1!==o.indexOf(e)}))}t.groups=t.groups.concat(r.filter((function(e){return-1===t.groups.indexOf(e)})));for(let i in r){let e=sr[r[i]];-1===e.properties.members.indexOf(t.id)&&e.properties.members.push(t.id)}}function c(e){let t=e.properties;if(e.geometry)t.roadSpeedUnit||(t.roadSpeedUnit="km/h");else if(t.members){let e=Array.from(new Set(t.members.map((function(e){let t=sr[e];if(t.geometry)return t.properties.roadSpeedUnit||"km/h"})).filter(Boolean)));1===e.length&&(t.roadSpeedUnit=e[0])}}function u(e){let t=e.properties;if(e.geometry)t.roadHeightUnit||(t.roadHeightUnit="m");else if(t.members){let e=Array.from(new Set(t.members.map((function(e){let t=sr[e];if(t.geometry)return t.properties.roadHeightUnit||"m"})).filter(Boolean)));1===e.length&&(t.roadHeightUnit=e[0])}}function d(e){let t=e.properties;if(e.geometry)t.driveSide||(t.driveSide="right");else if(t.members){let e=Array.from(new Set(t.members.map((function(e){let t=sr[e];if(t.geometry)return t.properties.driveSide||"right"})).filter(Boolean)));1===e.length&&(t.driveSide=e[0])}}function p(e){let t=e.properties;!e.geometry&&t.members&&(t.callingCodes=Array.from(new Set(t.members.reduce((function(e,t){let n=sr[t];return n.geometry&&n.properties.callingCodes?e.concat(n.properties.callingCodes):e}),[]))))}function f(e){if(!e.properties.iso1A2)return;let t=e.properties.iso1A2.replace(/./g,(function(e){return String.fromCodePoint(e.charCodeAt(0)+127397)}));e.properties.emojiFlag=t}function h(e){for(let t in e.properties.groups){let n=e.properties.groups[t],r=sr[n];r.properties.members||(r.properties.members=[]),r.properties.members.push(e.properties.id)}}function g(e){let n=[];for(let r in t){let i=t[r],a=e.properties[i];a&&n.push(a)}if(e.properties.aliases)for(let t in e.properties.aliases)n.push(e.properties.aliases[t]);for(let t in n){let r=Bp(n[t]);sr[r]=e}}uu=(0,Lp.default)({type:"FeatureCollection",features:n})}function Rk(e){return Array.isArray(e)?e:e.coordinates?e.coordinates:e.geometry.coordinates}function Up(e){let t=Rk(e),n=uu(t);return n?sr[n.id]:null}function Lk(e){let t=Up(e);if(!t)return null;let n=t.properties.country||t.properties.iso1A2;return sr[n]||null}Pk(Nk);var zp={level:void 0,maxLevel:void 0,withProp:void 0};function Bk(e,t){let n=t.level||"country",r=t.maxLevel||"world",i=t.withProp,a=Ki.indexOf(n);if(-1===a)return null;let o=Ki.indexOf(r);if(-1===o||o<a)return null;if("country"===n){let t=Lk(e);if(t&&(!i||t.properties[i]))return t}let s=zk(e);for(let l in s){let e=s[l],t=Ki.indexOf(e.properties.level);if((e.properties.level===n||t>a&&t<=o)&&(!i||e.properties[i]))return e}return null}function cu(e){let t;return"number"==typeof e?(t=e.toString(),1===t.length?t="00"+t:2===t.length&&(t="0"+t)):t=Bp(e),sr[t]||null}function Uk(e){return uu.bbox(e).map((function(e){return sr[e.id]}))}function fu(e){return"object"==typeof e?Up(e):cu(e)}function t2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zp;return"object"==typeof e?Bk(e,t):cu(e)}function Ta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zp;t.withProp="iso1A2";let n=t2(e,t);return n&&n.properties.iso1A2||null}function zk(e,t){let n,r;if(Array.isArray(e)&&4===e.length)n=Uk(e);else{let t=fu(e);n=t?[t]:[]}if(!n.length)return[];r=t&&"object"!=typeof e?[]:n.slice();for(let i in n){let e=n[i].properties;for(let t in e.groups){let n=e.groups[t],i=sr[n];-1===r.indexOf(i)&&r.push(i)}}return r}function qk(e,t){let n=cu(e);if(!n)return[];let r=[];t||r.push(n);let i=n.properties;if(i.members)for(let a in i.members){let e=i.members[a];r.push(sr[e])}return r}function qp(e){let t=qk(e,!1);if(0===t.length)return null;let n=[];for(let r in t){let e=t[r];e.geometry&&"MultiPolygon"===e.geometry.type&&e.geometry.coordinates&&(n=n.concat(e.geometry.coordinates))}return{type:"Feature",properties:t[0].properties,geometry:{type:"MultiPolygon",coordinates:n}}}function Vp(e){let t=fu(e);return t&&t.properties.roadSpeedUnit||null}function jp(e){let t=fu(e);return t&&t.properties.roadHeightUnit||null}var r2=je(hu(),1),bm=je(dm(),1),ku=je(wu(),1),xm=je(pm(),1),wm=je(gm(),1),k3=class{constructor(e){this._cache={},this._strict=!0,e&&"FeatureCollection"===e.type&&Array.isArray(e.features)&&e.features.forEach(e=>{e.properties=e.properties||{};let t=e.properties,n=e.id||t.id;if(n&&/^\S+\.geojson$/i.test(n)){if(n=n.toLowerCase(),e.id=n,t.id=n,!t.area){let n=r2.default.geometry(e.geometry)/1e6;t.area=Number(n.toFixed(2))}this._cache[n]=e}});let t=vm(t2("Q2"));t.geometry={type:"Polygon",coordinates:[[[-180,-90],[180,-90],[180,90],[-180,90],[-180,-90]]]},t.id="Q2",t.properties.id="Q2",t.properties.area=r2.default.geometry(t.geometry)/1e6,this._cache.Q2=t}validateLocation(e){if(!Array.isArray(e)||2!==e.length&&3!==e.length){if("string"==typeof e&&/^\S+\.geojson$/i.test(e)){let t=e.toLowerCase();if(this._cache[t])return{type:"geojson",location:e,id:t}}else if("string"==typeof e||"number"==typeof e){let t=t2(e);if(t){return{type:"countrycoder",location:e,id:t.properties.wikidata}}}}else{let t=e[0],n=e[1],r=e[2];if(Number.isFinite(t)&&t>=-180&&t<=180&&Number.isFinite(n)&&n>=-90&&n<=90&&(2===e.length||Number.isFinite(r)&&r>0)){let t="["+e.toString()+"]";return{type:"point",location:e,id:t}}}if(this._strict)throw new Error('validateLocation:  Invalid location: "'.concat(e,'".'));return null}resolveLocation(e){let t=this.validateLocation(e);if(!t)return null;let n=t.id;if(this._cache[n])return Object.assign(t,{feature:this._cache[n]});if("point"===t.type){let r=e[0],i=e[1],a=e[2]||25,o=10,s=3,l=Math.PI*a*a,c=this._cache[n]=(0,xm.default)({type:"Feature",id:n,properties:{id:n,area:Number(l.toFixed(2))},geometry:(0,bm.default)([r,i],1e3*a,o)},s);return Object.assign(t,{feature:c})}if("geojson"!==t.type&&"countrycoder"===t.type){let e=vm(t2(n)),r=e.properties;if(Array.isArray(r.members)){let t=qp(n);t.geometry.coordinates=_3([t],"UNION").geometry.coordinates,e.geometry=t.geometry}if(!r.area){let t=r2.default.geometry(e.geometry)/1e6;r.area=Number(t.toFixed(2))}return e.id=n,r.id=n,this._cache[n]=e,Object.assign(t,{feature:e})}if(this._strict)throw new Error("resolveLocation:  Couldn't resolve location \"".concat(e,'".'));return null}validateLocationSet(e){e=e||{};let t=this.validateLocation.bind(this),n=(e.include||[]).map(t).filter(Boolean),r=(e.exclude||[]).map(t).filter(Boolean);if(!n.length){if(this._strict)throw new Error("validateLocationSet:  LocationSet includes nothing.");e.include=["Q2"],n=[{type:"countrycoder",location:"Q2",id:"Q2"}]}n.sort(ym);let i="+["+n.map(e=>e.id).join(",")+"]";return r.length&&(r.sort(ym),i+="-["+r.map(e=>e.id).join(",")+"]"),{type:"locationset",locationSet:e,id:i}}resolveLocationSet(e){e=e||{};let t=this.validateLocationSet(e);if(!t)return null;let n=t.id;if(this._cache[n])return Object.assign(t,{feature:this._cache[n]});let r=this.resolveLocation.bind(this),i=(e.include||[]).map(r).filter(Boolean),a=(e.exclude||[]).map(r).filter(Boolean);if(1===i.length&&0===a.length)return Object.assign(t,{feature:i[0].feature});let o=_3(i.map(e=>e.feature),"UNION"),s=_3(a.map(e=>e.feature),"UNION"),l=s?_3([o,s],"DIFFERENCE"):o,c=r2.default.geometry(l.geometry)/1e6;return l.id=n,l.properties={id:n,area:Number(c.toFixed(2))},this._cache[n]=l,Object.assign(t,{feature:l})}strict(e){return void 0===e?this._strict:(this._strict=e,this)}cache(){return this._cache}stringify(e,t){return(0,wm.default)(e,t)}};function _3(e,t){if(!Array.isArray(e)||!e.length)return null;let n={UNION:ku.default.union,DIFFERENCE:ku.default.difference}[t],r=e.map(e=>e.geometry.coordinates),i=n.apply(null,r);return{type:"Feature",properties:{},geometry:{type:(a=i,Array.isArray(a)&&Array.isArray(a[0])&&Array.isArray(a[0][0])&&Array.isArray(a[0][0][0])?"MultiPolygon":"Polygon"),coordinates:i}};var a}function vm(e){return JSON.parse(JSON.stringify(e))}function ym(e,t){let n={countrycoder:1,geojson:2,point:3},r=n[e.type],i=n[t.type];return r>i?1:r<i?-1:e.id.localeCompare(t.id)}var Cm=je(e2()),Fm=je(hu()),bo=je(km()),Em=[250,157,60,79,142,134,229,129,138,126,210,129,29,71,160,208],Ze;function Am(e,t){t=t||Em;let n=bo.default.utils.utf8.toBytes(e),r=new bo.default.ModeOfOperation.ctr(t).encrypt(n);return bo.default.utils.hex.fromBytes(r)}function n2(e,t){t=t||Em;let n=bo.default.utils.hex.toBytes(e),r=new bo.default.ModeOfOperation.ctr(t).decrypt(n);return bo.default.utils.utf8.fromBytes(r)}function i2(e){var t={};for(var n in e)if(n){var r=e[n];void 0!==r&&(t[n]=i(n,r))}return t;function i(e,t){if(/^(description|note|fixme)$/.test(e))return t;var n=t.split(";").map((function(e){return e.trim()})).join(function(e){return/_hours|_times|:conditional$/.test(e)}(e)?"; ":";");return(-1!==e.indexOf("website")||-1!==e.indexOf("email")||0===n.indexOf("http"))&&(n=n.replace(/[\u200B-\u200F\uFEFF]/g,"")),n}}function Bt(e){if(Ze&&!e)return Ze;Ze={};let t=navigator.userAgent,n=null;n=t.match(/(edge)\/?\s*(\.?\d+(\.\d+)*)/i),null!==n&&(Ze.browser=n[1],Ze.version=n[2]),Ze.browser||(n=t.match(/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/i),null!==n&&(Ze.browser="msie",Ze.version=n[1])),Ze.browser||(n=t.match(/(opr)\/?\s*(\.?\d+(\.\d+)*)/i),null!==n&&(Ze.browser="Opera",Ze.version=n[2])),Ze.browser||(n=t.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i),null!==n&&(Ze.browser=n[1],Ze.version=n[2],n=t.match(/version\/([\.\d]+)/i),null!==n&&(Ze.version=n[1]))),Ze.browser||(Ze.browser=navigator.appName,Ze.version=navigator.appVersion),Ze.version=Ze.version.split(/\W/).slice(0,2).join("."),Ze.opera="opera"===Ze.browser.toLowerCase()&&parseFloat(Ze.version)<15,"msie"===Ze.browser.toLowerCase()?(Ze.ie=!0,Ze.browser="Internet Explorer",Ze.support=!1):(Ze.ie=!1,Ze.support=!0),Ze.filedrop=window.FileReader&&"ondrop"in window,/Win/.test(t)?(Ze.os="win",Ze.platform="Windows"):/Mac/.test(t)?(Ze.os="mac",Ze.platform="Macintosh"):/X11/.test(t)||/Linux/.test(t)?(Ze.os="linux",Ze.platform="Linux"):(Ze.os="win",Ze.platform="Unknown"),Ze.isMobileWebKit=(/\b(iPad|iPhone|iPod)\b/.test(t)||"MacIntel"===navigator.platform&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>1)&&/WebKit/.test(t)&&!/Edge/.test(t)&&!window.MSStream,Ze.browserLocales=Array.from(new Set([navigator.language].concat(navigator.languages||[]).concat([navigator.userLanguage]).filter(Boolean)));let r=window.top.location,i=r.origin;return i||(i=r.protocol+"//"+r.hostname+(r.port?":"+r.port:"")),Ze.host=i+r.pathname,Ze}function Se(e,t){function n(e){return null==e?function(){delete this.value}:"function"==typeof e?function(){var t=e.apply(this,arguments);null==t?delete this.value:this.value!==t&&(this.value=t)}:function(){this.value!==e&&(this.value=e)}}return 1===arguments.length?e.property("value"):e.each(n(t))}function Ie(e){var t={};function n(e,n){var r,i,a=!1,o=Object.keys(t).map((function(e){return t[e]}));for(r=0;r<o.length;r++)if((i=o[r]).event.modifiers.shiftKey&&!!i.capture===n&&s(e,i,!0)){i.callback(e),a=!0;break}if(!a)for(r=0;r<o.length;r++)if(!(i=o[r]).event.modifiers.shiftKey&&!!i.capture===n&&s(e,i,!1)){i.callback(e);break}function s(e,t,n){var r=e,i=!1,a=!0;return void 0!==r.key&&(a=r.key.charCodeAt(0)>127,i=!0,void 0===t.event.key?i=!1:Array.isArray(t.event.key)?-1===t.event.key.map((function(e){return e.toLowerCase()})).indexOf(r.key.toLowerCase())&&(i=!1):r.key.toLowerCase()!==t.event.key.toLowerCase()&&(i=!1)),!i&&(a||t.event.modifiers.altKey)&&(i=r.keyCode===t.event.keyCode),!(!i||(!r.ctrlKey||!r.altKey)&&(r.ctrlKey!==t.event.modifiers.ctrlKey||r.altKey!==t.event.modifiers.altKey)||r.metaKey!==t.event.modifiers.metaKey||n&&r.shiftKey!==t.event.modifiers.shiftKey)}}function r(e){n(e,!0)}function i(e){var t=$(e.target).node().tagName;"INPUT"===t||"SELECT"===t||"TEXTAREA"===t||n(e,!1)}function a(t){return(t=t||$(document)).on("keydown.capture."+e,r,!0),t.on("keydown.bubble."+e,i,!1),a}return a.unbind=function(n){return t=[],(n=n||$(document)).on("keydown.capture."+e,null),n.on("keydown.bubble."+e,null),a},a.clear=function(){return t={},a},a.off=function(e,n){for(var r=Te([].concat(e)),i=0;i<r.length;i++){var o=r[i]+(n?"-capture":"-bubble");delete t[o]}return a},a.on=function(e,n,r){if("function"!=typeof n)return a.off(e,r);for(var i=Te([].concat(e)),o=0;o<i.length;o++){var s=i[o]+(r?"-capture":"-bubble"),l={id:s,capture:r,callback:n,event:{key:void 0,keyCode:0,modifiers:{shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1}}};t[s]&&console.warn('warning: duplicate keybinding for "'+s+'"'),t[s]=l;for(var c=i[o].toLowerCase().match(/(?:(?:[^+\u21e7\u2303\u2325\u2318])+|[\u21e7\u2303\u2325\u2318]|\+\+|^\+$)/g),u=0;u<c.length;u++)if("++"===c[u]&&(c[u]="+"),c[u]in Ie.modifierCodes){var d=Ie.modifierProperties[Ie.modifierCodes[c[u]]];l.event.modifiers[d]=!0}else l.event.key=Ie.keys[c[u]]||c[u],c[u]in Ie.keyCodes&&(l.event.keyCode=Ie.keyCodes[c[u]])}return a},a}Ie.modifierCodes={"\u21e7":16,shift:16,"\u2303":17,ctrl:17,"\u2325":18,alt:18,option:18,"\u2318":91,meta:91,cmd:91,super:91,win:91},Ie.modifierProperties={16:"shiftKey",17:"ctrlKey",18:"altKey",91:"metaKey"},Ie.plusKeys=["plus","ffplus","=","ffequals","\u2260","\xb1"],Ie.minusKeys=["_","-","ffminus","dash","\u2013","\u2014"],Ie.keys={"\u232b":"Backspace",backspace:"Backspace","\u21e5":"Tab","\u21c6":"Tab",tab:"Tab","\u21a9":"Enter","\u21b5":"Enter","\u23ce":"Enter",return:"Enter",enter:"Enter","\u2305":"Enter",pause:"Pause","pause-break":"Pause","\u21ea":"CapsLock",caps:"CapsLock","caps-lock":"CapsLock","\u238b":["Escape","Esc"],escape:["Escape","Esc"],esc:["Escape","Esc"],space:[" ","Spacebar"],"\u2196":"PageUp",pgup:"PageUp","page-up":"PageUp","\u2198":"PageDown",pgdown:"PageDown","page-down":"PageDown","\u21df":"End",end:"End","\u21de":"Home",home:"Home",ins:"Insert",insert:"Insert","\u2326":["Delete","Del"],del:["Delete","Del"],delete:["Delete","Del"],"\u2190":["ArrowLeft","Left"],left:["ArrowLeft","Left"],"arrow-left":["ArrowLeft","Left"],"\u2191":["ArrowUp","Up"],up:["ArrowUp","Up"],"arrow-up":["ArrowUp","Up"],"\u2192":["ArrowRight","Right"],right:["ArrowRight","Right"],"arrow-right":["ArrowRight","Right"],"\u2193":["ArrowDown","Down"],down:["ArrowDown","Down"],"arrow-down":["ArrowDown","Down"],"*":["*","Multiply"],star:["*","Multiply"],asterisk:["*","Multiply"],multiply:["*","Multiply"],"+":["+","Add"],plus:["+","Add"],"-":["-","Subtract"],subtract:["-","Subtract"],dash:["-","Subtract"],semicolon:";",equals:"=",comma:",",period:".","full-stop":".",slash:"/","forward-slash":"/",tick:"`","back-quote":"`","open-bracket":"[","back-slash":"\\","close-bracket":"]",quote:"'",apostrophe:"'","num-0":"0","num-1":"1","num-2":"2","num-3":"3","num-4":"4","num-5":"5","num-6":"6","num-7":"7","num-8":"8","num-9":"9",f1:"F1",f2:"F2",f3:"F3",f4:"F4",f5:"F5",f6:"F6",f7:"F7",f8:"F8",f9:"F9",f10:"F10",f11:"F11",f12:"F12",f13:"F13",f14:"F14",f15:"F15",f16:"F16",f17:"F17",f18:"F18",f19:"F19",f20:"F20",f21:"F21",f22:"F22",f23:"F23",f24:"F24",f25:"F25"},Ie.keyCodes={"\u232b":8,backspace:8,"\u21e5":9,"\u21c6":9,tab:9,"\u21a9":13,"\u21b5":13,"\u23ce":13,return:13,enter:13,"\u2305":13,pause:19,"pause-break":19,"\u21ea":20,caps:20,"caps-lock":20,"\u238b":27,escape:27,esc:27,space:32,"\u2196":33,pgup:33,"page-up":33,"\u2198":34,pgdown:34,"page-down":34,"\u21df":35,end:35,"\u21de":36,home:36,ins:45,insert:45,"\u2326":46,del:46,delete:46,"\u2190":37,left:37,"arrow-left":37,"\u2191":38,up:38,"arrow-up":38,"\u2192":39,right:39,"arrow-right":39,"\u2193":40,down:40,"arrow-down":40,ffequals:61,"*":106,star:106,asterisk:106,multiply:106,"+":107,plus:107,"-":109,subtract:109,"|":124,ffplus:171,ffminus:173,";":186,semicolon:186,"=":187,equals:187,",":188,comma:188,dash:189,".":190,period:190,"full-stop":190,"/":191,slash:191,"forward-slash":191,"`":192,tick:192,"back-quote":192,"[":219,"open-bracket":219,"\\":220,"back-slash":220,"]":221,"close-bracket":221,"'":222,quote:222,apostrophe:222};for(var Ln=95,Na=0;++Ln<106;)Ie.keyCodes["num-"+Na]=Ln,++Na;for(Ln=47,Na=0;++Ln<58;)Ie.keyCodes[Na]=Ln,++Na;for(Ln=111,Na=1;++Ln<136;)Ie.keyCodes["f"+Na]=Ln,++Na;for(Ln=64;++Ln<91;)Ie.keyCodes[String.fromCharCode(Ln).toLowerCase()]=Ln;function Mr(e,t){return Object.keys(e).reduce((function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n}),{})}function fe(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=Jk(e,t,t[n]);return e}function Jk(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function E3(e){var t,n={};function r(){var t=new Date;t.setSeconds(t.getSeconds()+5),document.cookie=e+"=1; expires="+t.toUTCString()+"; sameSite=strict"}return n.lock=function(){return!!t||!document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")&&(r(),t=window.setInterval(r,4e3),!0)},n.unlock=function(){!t||(document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; sameSite=strict",clearInterval(t),t=null)},n.locked=function(){return!!t},n}function Jt(){var e=[256,256],t=256,n=256,r=[0,20],i=[e[0]/2,e[1]/2],a=0,o=!1;function s(e,t,n){return Math.max(t,Math.min(e,n))}function l(){for(var o=Tt(t/(2*Math.PI),n),l=s(Math.round(o),r[0],r[1]),c=Math.pow(2,l)-1,u=Math.log(n)*Math.LOG2E,d=Math.pow(2,o-l+u),p=[(i[0]-t/2)/d,(i[1]-t/2)/d],f=fa(s(Math.floor(-p[0])-a,0,c+1),s(Math.ceil(e[0]/d-p[0])+a,0,c+1)),h=fa(s(Math.floor(-p[1])-a,0,c+1),s(Math.ceil(e[1]/d-p[1])+a,0,c+1)),g=[],m=0;m<h.length;m++)for(var y=h[m],v=0;v<f.length;v++){var b=f[v];m>=a&&m<=h.length-a&&v>=a&&v<=f.length-a?g.unshift([b,y,l]):g.push([b,y,l])}return g.translate=p,g.scale=d,g}return l.getTiles=function(e){var t=[e.scale()*Math.PI-e.translate()[0],e.scale()*Math.PI-e.translate()[1]];this.size(e.clipExtent()[1]).scale(2*e.scale()*Math.PI).translate(e.translate());var n=l(),r=n.scale;return n.map((function(n){if(o&&function(e){var t=e[0],n=e[1],r=e[2];if(r>=7){var i=Math.pow(2,r-1),a=Math.pow(2,r-6),o=i-a/2,s=i+a/2-1;return t>=o&&t<=s&&n>=o&&n<=s}return!1}(n))return!1;var i=n[0]*r-t[0],a=n[1]*r-t[1];return{id:n.toString(),xyz:n,extent:he(e.invert([i,a+r]),e.invert([i+r,a]))}})).filter(Boolean)},l.getGeoJSON=function(e){return{type:"FeatureCollection",features:l.getTiles(e).map((function(e){return{type:"Feature",properties:{id:e.id,name:e.id},geometry:{type:"Polygon",coordinates:[e.extent.polygon()]}}}))}},l.tileSize=function(e){return arguments.length?(n=e,l):n},l.zoomExtent=function(e){return arguments.length?(r=e,l):r},l.size=function(t){return arguments.length?(e=t,l):e},l.scale=function(e){return arguments.length?(t=e,l):t},l.translate=function(e){return arguments.length?(i=e,l):i},l.margin=function(e){return arguments.length?(a=+e,l):a},l.skipNullIsland=function(e){return arguments.length?(o=e,l):o},l}function U1(e,t){e.each((function(){var e=document.createEvent("HTMLEvents");e.initEvent(t,!0,!0),this.dispatchEvent(e)}))}var Ir=Au();function Au(){let e,t={},n={},r=new k3;s({locationSet:{include:["Q2"]}}),l();let i,a=[],o=new Set;function s(e){if(!e.locationSetID)try{let t=e.locationSet;if(!t)throw new Error("object missing locationSet property");t.include||(t.include=["Q2"]);let i=r.resolveLocationSet(t),a=i.id;if(e.locationSetID=a,!i.feature.geometry.coordinates.length||!i.feature.properties.area)throw new Error("locationSet ".concat(a," resolves to an empty feature."));if(!n[a]){let e=JSON.parse(JSON.stringify(i.feature));e.id=a,e.properties.id=a,n[a]=e}}catch{e.locationSet={include:["Q2"]},e.locationSetID="+[Q2]"}}function l(){e=(0,Cm.default)({features:Object.values(n)})}return t.mergeCustomGeoJSON=e=>{e&&"FeatureCollection"===e.type&&Array.isArray(e.features)&&e.features.forEach(e=>{e.properties=e.properties||{};let t=e.properties,n=e.id||t.id;if(n&&/^\S+\.geojson$/i.test(n)){if(n=n.toLowerCase(),e.id=n,t.id=n,!t.area){let n=Fm.default.geometry(e.geometry)/1e6;t.area=Number(n.toFixed(2))}r._cache[n]=e}})},t.mergeLocationSets=e=>Array.isArray(e)?(a=a.concat(Wi(e,200)),i||(i=function e(){if(!a.length)return Promise.resolve();let t=a.pop();return new Promise(e=>{let n=window.requestIdleCallback(()=>{o.delete(n),t.forEach(s),e()});o.add(n)}).then(()=>e())}().then(()=>(l(),i=null,e))),i):Promise.reject("nothing to do"),t.locationSetID=e=>{let t;try{t=r.validateLocationSet(e).id}catch{t="+[Q2]"}return t},t.feature=e=>n[e]||n["+[Q2]"],t.locationsAt=t=>{let n={};return(e(t,!0)||[]).forEach(e=>n[e.id]=e.area),n},t.query=(t,n)=>e(t,n),t.loco=()=>r,t.wp=()=>e,t}var ch=je(u2()),le=Fu(),C=le.t;function Fu(){let e={},t={},n={},r={},i="en-US",a=["en-US","en"],o="en",s="ltr",l=!1,c={},u={};e.localeCode=()=>i,e.localeCodes=()=>a,e.languageCode=()=>o,e.textDirection=()=>s,e.usesMetric=()=>l,e.languageNames=()=>c,e.scriptNames=()=>u;let d=[];var p;function f(e,t){let n="Intl"in window&&Intl.PluralRules&&new Intl.PluralRules(t);return n?n.select(e):1===e?"one":"other"}return e.preferredLocaleCodes=function(t){return arguments.length?(d="string"==typeof t?t.split(/,|;| /gi).filter(Boolean):t,e):d},e.ensureLoaded=()=>{if(p)return p;let f=["languages","locales"],h={general:"locales",tagging:"https://cdn.jsdelivr.net/npm/@openstreetmap/id-tagging-schema@3/dist/translations"},g=ze.fileMap();for(let e in h){let t="locales_index_".concat(e);g[t]||(g[t]=h[e]+"/index.min.json"),f.push(t)}return p=Promise.all(f.map(e=>ze.get(e))).then(r=>{t=r[0],n=r[1];let o=r.slice(2),s=(d||[]).concat(Bt().browserLocales).concat(["en"]);a=function(e){let t=n,r=[];for(let n in e){let i=e[n];if(t[i]&&r.push(i),i.includes("-")){let e=i.split("-")[0];t[e]&&r.push(e)}}return Te(r)}(s),i=a[0];let l=[];return o.forEach((t,n)=>{let r=a.findIndex((function(e){return t[e]&&1===t[e].pct}));a.slice(0,r+1).forEach((function(r){let i=Object.keys(h)[n],a=Object.values(h)[n];t[r]&&l.push(e.loadLocale(r,i,a))}))}),Promise.all(l)}).then(()=>{!function(){if(!i)return;o=i.split("-")[0];let e=n[i]||n[o],t=Ut(window.location.hash);s="true"===t.rtl?"rtl":"false"===t.rtl?"ltr":e&&e.rtl?"rtl":"ltr";let a=i;"en-us"===a.toLowerCase()&&(a="en"),c=r.general[a].languageNames,u=r.general[a].scriptNames,l="-us"!==i.slice(-3).toLowerCase()}()}).catch(e=>console.error(e))},e.loadLocale=(e,t,n)=>{if("en-us"===e.toLowerCase()&&(e="en"),r[t]&&r[t][e])return Promise.resolve(e);let i=ze.fileMap(),a="locale_".concat(t,"_").concat(e);return i[a]||(i[a]="".concat(n,"/").concat(e,".min.json")),ze.get(a).then(n=>(r[t]||(r[t]={}),r[t][e]=n[e],e))},e.pluralRule=function(e){return f(e,i)},e.tInfo=function(t,n,o){let s=t.trim(),l="general";if("_"===s[0]){let e=s.split(".");l=e[0].slice(1),s=e.slice(1).join(".")}o=o||i;let c=s.split(".").map(e=>e.replace(/<TX_DOT>/g,".")).reverse(),u=o;"en-us"===u.toLowerCase()&&(u="en");let d=r&&r[l]&&r[l][u];for(;void 0!==d&&c.length;)d=d[c.pop()];if(void 0!==d){if(n){if("object"==typeof d&&Object.keys(d).length){let e=Object.values(n).find((function(e){return"number"==typeof e}));if(void 0!==e){let t=f(e,o);d=d[t]?d[t]:Object.values(d)[0]}}if("string"==typeof d)for(let e in n){let t=n[e];"number"==typeof t&&(t=t.toLocaleString?t.toLocaleString(o,{style:"decimal",useGrouping:!0,minimumFractionDigits:0}):t.toString());let r="{".concat(e,"}"),i=new RegExp(r,"g");d=d.replace(i,t)}}if("string"==typeof d)return{text:d,locale:o}}let p=a.indexOf(o);if(p>=0&&p<a.length-1){let r=a[p+1];return e.tInfo(t,n,r)}if(n&&"default"in n)return{text:n.default,locale:null};let h="Missing ".concat(o," translation: ").concat(t);return typeof console<"u"&&console.error(h),{text:h,locale:"en"}},e.hasTextForStringId=function(t){return!!e.tInfo(t,{default:"nothing found"}).locale},e.t=function(t,n,r){return e.tInfo(t,n,r).text},e.t.html=function(t,n,r){for(var i in n=Object.assign({},n))"string"==typeof n[i]&&(n[i]=(0,ch.default)(n[i])),"object"==typeof n[i]&&"string"==typeof n[i].html&&(n[i]=n[i].html);let a=e.tInfo(t,n,r);return a.text?'<span class="localized-text" lang="'.concat(a.locale||"und",'">').concat(a.text,"</span>"):""},e.t.append=function(t,n,r){return function(i){let a=e.tInfo(t,n,r);return i.append("span").attr("class","localized-text").attr("lang",a.locale||"und").text((n&&n.prefix||"")+a.text+(n&&n.suffix||""))}},e.languageName=(n,r)=>{if(c[n])return c[n];if(r&&r.localOnly)return null;let i=t[n];if(i){if(i.nativeName)return e.t("translate.language_and_code",{language:i.nativeName,code:n});if(i.base&&i.script){let r=i.base;if(c[r]){let t=i.script,n=u[t]||t;return e.t("translate.language_and_code",{language:c[r],code:n})}if(t[r]&&t[r].nativeName)return e.t("translate.language_and_code",{language:t[r].nativeName,code:n})}}return n},e}function Lr(e){let t={},n={};return t.collection=e,t.item=e=>{if(n[e])return n[e];let r=t.collection.find(t=>t.id===e);return r&&(n[e]=r),r},t.index=e=>t.collection.findIndex(t=>t.id===e),t.matchGeometry=e=>Lr(t.collection.filter(t=>t.matchGeometry(e))),t.matchAllGeometry=e=>Lr(t.collection.filter(t=>t&&t.matchAllGeometry(e))),t.matchAnyGeometry=e=>Lr(t.collection.filter(t=>e.some(e=>t.matchGeometry(e)))),t.fallback=e=>{let n=e;return"vertex"===n&&(n="point"),t.item(n)},t.search=(e,n,r)=>{if(!e)return t;function i(t){let n=t.indexOf(e);return 0===n||" "===t[n-1]}function a(t){return 0===t.indexOf(e)}function o(t,n){return function(r,i){let a=r[t](),o=i[t]();if(n){let t=t=>t.some(t=>t===e)?t.find(t=>t===e):t.find(t=>t.includes(e));a=t([a].concat(r[n]())),o=t([o].concat(i[n]()))}if(e===a)return-1;if(e===o)return 1;let s=i.originalScore-r.originalScore;return 0!==s||(s=a.indexOf(e)-o.indexOf(e),0!==s)?s:a.length-o.length}}e=e.toLowerCase().trim();let s=t.collection;if(Array.isArray(r)){let e=Ir.locationsAt(r);s=s.filter(t=>!t.locationSetID||e[t.locationSetID])}let l=s.filter(e=>!1!==e.searchable&&!0!==e.suggestion),c=s.filter(e=>!0===e.suggestion),u=l.filter(e=>i(e.searchName())||e.searchAliases().some(i)).sort(o("searchName","searchAliases")),d=c.filter(e=>a(e.searchName())).sort(o("searchName")),p=l.filter(e=>i(e.searchNameStripped())||e.searchAliasesStripped().some(i)).sort(o("searchNameStripped","searchAliasesStripped")),f=c.filter(e=>a(e.searchNameStripped())).sort(o("searchNameStripped")),h=l.filter(e=>(e.terms()||[]).some(i)),g=c.filter(e=>(e.terms()||[]).some(i)),m=l.filter(e=>Object.values(e.tags||{}).filter(e=>"*"!==e).some(i)),y=l.map(t=>({preset:t,dist:q1(e,t.searchName())})).filter(t=>t.dist+Math.min(e.length-t.preset.searchName().length,0)<3).sort((e,t)=>e.dist-t.dist).map(e=>e.preset),v=c.map(t=>({preset:t,dist:q1(e,t.searchName())})).filter(t=>t.dist+Math.min(e.length-t.preset.searchName().length,0)<1).sort((e,t)=>e.dist-t.dist).map(e=>e.preset),b=l.filter(t=>(t.terms()||[]).some(t=>q1(e,t)+Math.min(e.length-t.length,0)<3)),w=[];e.includes("=")&&(w=l.filter(t=>t.tags&&Object.keys(t.tags).some(n=>n+"="+t.tags[n]===e)).concat(l.filter(e=>e.tags&&Object.keys(e.tags).some(t=>i(t+"="+e.tags[t])))));let _=u.concat(d,p,f,h,g,m,y,v,b,w).slice(0,49);return n&&("string"==typeof n?_.push(t.fallback(n)):n.forEach(e=>_.push(t.fallback(e)))),Lr(Te(_))},t}function Du(e,t,n){let r,i,a=Object.assign({},t);return a.id=e,a.members=Lr((t.members||[]).map(e=>n[e]).filter(Boolean)),a.geometry=a.members.collection.reduce((e,t)=>{for(let n in t.geometry){let r=t.geometry[n];-1===e.indexOf(r)&&e.push(r)}return e},[]),a.matchGeometry=e=>a.geometry.indexOf(e)>=0,a.matchAllGeometry=e=>a.members.collection.some(t=>t.matchAllGeometry(e)),a.matchScore=()=>-1,a.name=()=>C("_tagging.presets.categories.".concat(e,".name"),{default:e}),a.nameLabel=()=>C.html("_tagging.presets.categories.".concat(e,".name"),{default:e}),a.terms=()=>[],a.searchName=()=>(r||(r=(a.suggestion?a.originalName:a.name()).toLowerCase()),r),a.searchNameStripped=()=>(i||(i=a.searchName(),i.normalize&&(i=i.normalize("NFD")),i=i.replace(/[\u0300-\u036f]/g,"")),i),a.searchAliases=()=>[],a.searchAliasesStripped=()=>[],a}function Mu(e,t){let n=Object.assign({},t);n.id=e,n.safeid=_o(e),n.matchGeometry=e=>!n.geometry||-1!==n.geometry.indexOf(e),n.matchAllGeometry=e=>!n.geometry||e.every(e=>-1!==n.geometry.indexOf(e)),n.t=(t,n)=>C("_tagging.presets.fields.".concat(e,".").concat(t),n),n.t.html=(t,n)=>C.html("_tagging.presets.fields.".concat(e,".").concat(t),n),n.hasTextForStringId=t=>le.hasTextForStringId("_tagging.presets.fields.".concat(e,".").concat(t)),n.title=()=>n.overrideLabel||n.t("label",{default:e}),n.label=()=>n.overrideLabel||n.t.html("label",{default:e});let r=n.placeholder;return n.placeholder=()=>n.t("placeholder",{default:r}),n.originalTerms=(n.terms||[]).join(),n.terms=()=>n.t("terms",{default:n.originalTerms}).toLowerCase().trim().split(/\s*,+\s*/),n.increment="number"===n.type?n.increment||1:void 0,n}function ko(e,t,n,r,i){r=r||{},i=i||{};let a,o,s,l,c,u,d=Object.assign({},t),p=n||!1;function f(e){let t="fields"===e?d.originalFields:d.originalMoreFields,n=[];if(t.forEach(t=>{let i=t.match(/\{(.*)\}/);null!==i?n=n.concat(a(i[1],e)):r[t]?n.push(r[t]):console.log('Cannot resolve "'.concat(t,'" found in ').concat(d.id,".").concat(e))}),!n.length){let t=d.id.lastIndexOf("/"),r=t&&d.id.substring(0,t);r&&(n=a(r,e))}return Te(n);function a(e,t){let n=i[e];return n?"fields"===t?n.fields().filter(o):"moreFields"===t?n.moreFields():[]:[]}function o(e){return!(e.key&&void 0!==d.tags[e.key]&&"multiCombo"!==e.type&&"semiCombo"!==e.type&&"manyCombo"!==e.type&&"check"!==e.type)}}function h(e){return e.normalize&&(e=e.normalize("NFD")),e=e.replace(/[\u0300-\u036f]/g,"")}return d.id=e,d.safeid=_o(e),d.originalTerms=(d.terms||[]).join(),d.originalName=d.name||"",d.originalAliases=(d.aliases||[]).join("\n"),d.originalScore=d.matchScore||1,d.originalReference=d.reference||{},d.originalFields=d.fields||[],d.originalMoreFields=d.moreFields||[],d.fields=()=>a||(a=f("fields")),d.moreFields=()=>o||(o=f("moreFields")),d.resetFields=()=>a=o=null,d.tags=d.tags||{},d.addTags=d.addTags||d.tags,d.removeTags=d.removeTags||d.addTags,d.geometry=d.geometry||[],d.matchGeometry=e=>d.geometry.indexOf(e)>=0,d.matchAllGeometry=e=>e.every(d.matchGeometry),d.matchScore=e=>{let t=d.tags,n={},r=0;for(let a in t)if(n[a]=!0,e[a]===t[a])r+=d.originalScore;else{if("*"!==t[a]||!(a in e))return-1;r+=d.originalScore/2}let i=d.addTags;for(let a in i)!n[a]&&e[a]===i[a]&&(r+=d.originalScore);return!1===d.searchable&&(r*=.999),r},d.t=(t,n)=>{let r="_tagging.presets.presets.".concat(e,".").concat(t);return C(r,n)},d.t.html=(t,n)=>{let r="_tagging.presets.presets.".concat(e,".").concat(t);return C.html(r,n)},d.name=()=>d.t("name",{default:d.originalName}),d.nameLabel=()=>d.t.html("name",{default:d.originalName}),d.subtitle=()=>{if(d.suggestion){let t=e.split("/");return t.pop(),C("_tagging.presets.presets."+t.join("/")+".name")}return null},d.subtitleLabel=()=>{if(d.suggestion){let t=e.split("/");return t.pop(),C.html("_tagging.presets.presets."+t.join("/")+".name")}return null},d.aliases=()=>d.t("aliases",{default:d.originalAliases}).trim().split(/\s*[\r\n]+\s*/),d.terms=()=>d.t("terms",{default:d.originalTerms}).toLowerCase().trim().split(/\s*,+\s*/),d.searchName=()=>(s||(s=(d.suggestion?d.originalName:d.name()).toLowerCase()),s),d.searchNameStripped=()=>(l||(l=h(d.searchName())),l),d.searchAliases=()=>(c||(c=d.aliases().map(e=>e.toLowerCase())),c),d.searchAliasesStripped=()=>(u||(u=d.searchAliases(),u=u.map(h)),u),d.isFallback=()=>{let e=Object.keys(d.tags).length;return 0===e||1===e&&d.tags.hasOwnProperty("area")},d.addable=function(e){return arguments.length?(p=e,d):p},d.reference=()=>{let e=d.tags.wikidata||d.tags["flag:wikidata"]||d.tags["brand:wikidata"]||d.tags["network:wikidata"]||d.tags["operator:wikidata"];if(e)return{qid:e};let t=d.originalReference.key||Object.keys(Mr(d.tags,"name"))[0],n=d.originalReference.value||d.tags[t];return"*"===n?{key:t}:{key:t,value:n}},d.unsetTags=(e,t,n,r)=>{let i=n?Mr(d.removeTags,n):d.removeTags;return e=Mr(e,Object.keys(i)),t&&!r&&d.fields().forEach(n=>{n.matchGeometry(t)&&n.key&&n.default===e[n.key]&&delete e[n.key]}),delete e.area,e},d.setTags=(e,t,n)=>{let r=d.addTags;e=Object.assign({},e);for(let i in r)"*"===r[i]?(d.tags[i]||!e[i])&&(e[i]="yes"):e[i]=r[i];if(!r.hasOwnProperty("area")&&(delete e.area,"area"===t)){let t=!0;for(let e in r)if(-1===d.geometry.indexOf("line")&&e in Bi||e in ts&&r[e]in ts[e]){t=!1;break}t&&(e.area="yes")}return t&&!n&&d.fields().forEach(n=>{n.matchGeometry(t)&&n.key&&!e[n.key]&&n.default&&(e[n.key]=n.default)}),e},d}var ve=fh(),dh,Q1;function fh(){let e,t,n,r=se("favoritePreset","recentsChange"),i=ko("point",{name:"Point",tags:{},geometry:["point","vertex"],matchScore:.1}),a=ko("line",{name:"Line",tags:{},geometry:["line"],matchScore:.1}),o=ko("area",{name:"Area",tags:{area:"yes"},geometry:["area"],matchScore:.1}),s=ko("relation",{name:"Relation",tags:{},geometry:["relation"],matchScore:.1}),l=Lr([i,a,o,s]),c={point:i,line:a,area:o,relation:s},u={point:Lr([i]),vertex:Lr([i]),line:Lr([a]),area:Lr([o]),relation:Lr([s])},d={},p={},f=[],h=null,g={point:{},vertex:{},line:{},area:{},relation:{}};function m(e,t){let n={};return n.preset=e,n.source=t,n.isFavorite=()=>"favorite"===n.source,n.isRecent=()=>"recent"===n.source,n.matches=e=>n.preset.id===e.id,n.minified=()=>({pID:n.preset.id}),n}function y(e,t){if(e&&e.pID){let n=l.item(e.pID);return n?m(n,t):null}return null}function v(t){e=t;let n=t.map(e=>e.minified());ce("preset_recents",JSON.stringify(n)),r.call("recentsChange")}function b(e){t=e;let n=e.map(e=>e.minified());ce("preset_favorites",JSON.stringify(n)),r.call("favoritePreset")}return l.ensureLoaded=()=>n||(n=Promise.all([ze.get("preset_categories"),ze.get("preset_defaults"),ze.get("preset_presets"),ze.get("preset_fields")]).then(e=>{l.merge({categories:e[0],defaults:e[1],presets:e[2],fields:e[3]}),Y2(l.areaKeys()),Z2(l.pointTags()),J2(l.vertexTags())})),l.merge=e=>{let t=[];return e.fields&&Object.keys(e.fields).forEach(n=>{let r=e.fields[n];r?(r=Mu(n,r),r.locationSet&&t.push(r),d[n]=r):delete d[n]}),e.presets&&Object.keys(e.presets).forEach(n=>{let r=e.presets[n];if(r){r=ko(n,r,!h||h.has(n),d,c),r.locationSet&&t.push(r),c[n]=r}else{let e=c[n];e&&!e.isFallback()&&delete c[n]}}),e.categories&&Object.keys(e.categories).forEach(n=>{let r=e.categories[n];r?(r=Du(n,r,c),r.locationSet&&t.push(r),p[n]=r):delete p[n]}),l.collection=Object.values(c).concat(Object.values(p)),e.defaults&&Object.keys(e.defaults).forEach(t=>{let n=e.defaults[t];Array.isArray(n)?u[t]=Lr(n.map(e=>c[e]||p[e]).filter(Boolean)):delete u[t]}),f=Object.values(d).filter(e=>e.universal),Object.values(c).forEach(e=>e.resetFields()),g={point:{},vertex:{},line:{},area:{},relation:{}},l.collection.forEach(e=>{(e.geometry||[]).forEach(t=>{let n=g[t];for(let r in e.tags){n[r]=n[r]||{};let t=e.tags[r];(n[r][t]=n[r][t]||[]).push(e)}})}),e.featureCollection&&Array.isArray(e.featureCollection.features)&&Ir.mergeCustomGeoJSON(e.featureCollection),t.length&&Ir.mergeLocationSets(t),l},l.match=(e,t)=>t.transient(e,"presetMatch",()=>{let n=e.geometry(t);"vertex"===n&&e.isOnAddressLine(t)&&(n="point");let r=e.extent(t);return l.matchTags(e.tags,n,r.center())}),l.matchTags=(e,t,n)=>{let r,i=g[t],a=-1,o=[];for(let s in e){let t=[],n=i[s];if(!n)continue;let l=n[e[s]];l&&t.push(...l);let c=n["*"];if(c&&t.push(...c),0!==t.length)for(let i=0;i<t.length;i++){let n=t[i],s=n.matchScore(e);-1!==s&&(o.push({score:s,candidate:n}),s>a&&(a=s,r=n))}}if(r&&r.locationSetID&&"+[Q2]"!==r.locationSetID&&Array.isArray(n)){let e=Ir.locationsAt(n);if(!e[r.locationSetID]){o.sort((e,t)=>e.score<t.score?1:-1);for(let t=0;t<o.length;t++){let n=o[t];if(!n.candidate.locationSetID||e[n.candidate.locationSetID]){r=n.candidate,a=n.score;break}}}}if(!r||r.isFallback())for(let s in e)if(/^addr:/.test(s)&&i["addr:*"]&&i["addr:*"]["*"]){r=i["addr:*"]["*"][0];break}return r||l.fallback(t)},l.allowsVertex=(e,t)=>"node"===e.type&&(0===Object.keys(e.tags).length||t.transient(e,"vertexMatch",()=>{if(e.isOnAddressLine(t))return!0;let n=ua(e.tags);return!!n.vertex||!n.point})),l.areaKeys=()=>{let e={barrier:!0,highway:!0,footway:!0,railway:!0,junction:!0,type:!0},t={},n=l.collection.filter(e=>!e.suggestion&&!e.replacement);return n.forEach(n=>{let r=n.tags&&Object.keys(n.tags),i=r&&r.length&&r[0];!i||e[i]||-1!==n.geometry.indexOf("area")&&(t[i]=t[i]||{})}),n.forEach(e=>{let n;for(n in e.addTags){let r=e.addTags[n];n in t&&-1!==e.geometry.indexOf("line")&&"*"!==r&&(t[n][r]=!0)}}),t},l.pointTags=()=>l.collection.reduce((e,t)=>{if(t.suggestion||t.replacement||!1===t.searchable)return e;let n=t.tags&&Object.keys(t.tags),r=n&&n.length&&n[0];return r&&-1!==t.geometry.indexOf("point")&&(e[r]=e[r]||{},e[r][t.tags[r]]=!0),e},{}),l.vertexTags=()=>l.collection.reduce((e,t)=>{if(t.suggestion||t.replacement||!1===t.searchable)return e;let n=t.tags&&Object.keys(t.tags),r=n&&n.length&&n[0];return r&&-1!==t.geometry.indexOf("vertex")&&(e[r]=e[r]||{},e[r][t.tags[r]]=!0),e},{}),l.field=e=>d[e],l.universal=()=>f,l.defaults=(e,t,n,r)=>{let i,a=[];n&&(a=l.recent().matchGeometry(e).collection.slice(0,4)),i=h?Array.from(h).map((function(t){var n=l.item(t);return n&&n.matchGeometry(e)?n:null})).filter(Boolean):u[e].collection.concat(l.fallback(e));let o=Lr(Te(a.concat(i)).slice(0,t-1));if(Array.isArray(r)){let e=Ir.locationsAt(r);o.collection=o.collection.filter(t=>!t.locationSetID||e[t.locationSetID])}return o},l.addablePresetIDs=function(e){return arguments.length?(Array.isArray(e)&&(e=new Set(e)),h=e,h?l.collection.forEach(e=>{e.addable&&e.addable(h.has(e.id))}):l.collection.forEach(e=>{e.addable&&e.addable(!0)}),l):h},l.recent=()=>Lr(Te(l.getRecents().map(e=>e.preset))),l.getGenericRibbonItems=()=>["point","line","area"].map(e=>m(l.item(e),"generic")),l.getAddable=()=>h?h.map(e=>{let t=l.item(e);return t?m(t,"addable"):null}).filter(Boolean):[],l.getRecents=()=>(e||(e=(JSON.parse(ce("preset_recents"))||[]).reduce((e,t)=>{let n=y(t,"recent");return n&&n.preset.addable()&&e.push(n),e},[])),e),l.addRecent=(e,t,n)=>{let r=l.getRecents(),i=l.recentMatching(t),a=r.indexOf(i);n&&(a+=1);let o=m(e,"recent");r.splice(a,0,o),v(r)},l.removeRecent=e=>{let t=l.recentMatching(e);if(t){let e=l.getRecents();e.splice(e.indexOf(t),1),v(e)}},l.recentMatching=e=>{let t=l.getRecents();for(let n in t)if(t[n].matches(e))return t[n];return null},l.moveItem=(e,t,n)=>t===n||t<0||n<0||t>=e.length||n>=e.length?null:(e.splice(n,0,e.splice(t,1)[0]),e),l.moveRecent=(e,t)=>{let n=l.getRecents(),r=n.indexOf(e),i=n.indexOf(t),a=l.moveItem(n,r,i);a&&v(a)},l.setMostRecent=e=>{if(!1===e.searchable)return;let t=l.getRecents(),n=l.recentMatching(e);for(n?t.splice(t.indexOf(n),1):n=m(e,"recent");t.length>=30;)t.pop();t.unshift(n),v(t)},l.addFavorite=(e,t,n)=>{let r=l.getFavorites(),i=l.favoriteMatching(t),a=r.indexOf(i);n&&(a+=1);let o=m(e,"favorite");r.splice(a,0,o),b(r)},l.toggleFavorite=e=>{let t=l.getFavorites(),n=l.favoriteMatching(e);n?t.splice(t.indexOf(n),1):(10===t.length&&t.pop(),t.push(m(e,"favorite"))),b(t)},l.removeFavorite=e=>{let t=l.favoriteMatching(e);if(t){let e=l.getFavorites();e.splice(e.indexOf(t),1),b(e)}},l.getFavorites=()=>{if(!t){let e=JSON.parse(ce("preset_favorites"));e||(e=[],ce("preset_favorites",JSON.stringify(e))),t=e.reduce((e,t)=>{let n=y(t,"favorite");return n&&n.preset.addable()&&e.push(n),e},[])}return t},l.favoriteMatching=e=>{let t=l.getFavorites();for(let n in t)if(t[n].matches(e))return t[n];return null},fe(l,r,"on")}function A3(e){var t=e&&e.tags||{};return Object.keys(t).map((function(e){return e+"="+t[e]})).join(", ")}function Ft(e,t){for(var n,r,i=he(),a=0;a<e.length;a++)(r="string"==typeof(n=e[a])?t.hasEntity(n):n)&&i._extend(r.extent(t));return i}function Oa(e,t){var n=[];return xt(Object.keys(e),Object.keys(t)).sort().forEach((function(r){var i=e[r],a=t[r];(i||""===i)&&(void 0===a||a!==i)&&n.push({type:"-",key:r,oldVal:i,newVal:a,display:"- "+r+"="+i}),(a||""===a)&&(void 0===i||a!==i)&&n.push({type:"+",key:r,oldVal:i,newVal:a,display:"+ "+r+"="+a})})),n}function xn(e){return e.length?"."+e.join(",."):"nothing"}function Xi(e,t){var n=new Set(e);return e.forEach((function(e){var r=t.hasEntity(e);!r||"relation"!==r.type||r.members.map((function(e){return e.id})).forEach((function(e){n.add(e)}))})),xn(Array.from(n))}function a2(e,t){return xn(xo(e,t))}function xo(e,t){var n=new Set;return e.forEach((function e(r){if(!n.has(r)){n.add(r);var i=t.hasEntity(r);!i||"relation"!==i.type||i.members.map((function(e){return e.id})).forEach(e)}})),Array.from(n)}function S3(e,t,n){var r=new Set(e),i=new Set,a=new Set;return e.forEach((function e(o){if(!i.has(o)){i.add(o),r.has(o)||a.add(o);var s=t.hasEntity(o);!s||"relation"!==s.type||n&&s.isMultipolygon()||s.members.map((function(e){return e.id})).forEach(e)}})),xn(Array.from(a))}function We(e,t,n){n.surface().selectAll(a2(e,n.graph())).classed("highlighted",t)}function _t(e,t){var n=new Set,r=new Set;return e.forEach((function e(i){if(!n.has(i)){n.add(i);var a=t.hasEntity(i);!a||("node"===a.type?r.add(a):"way"===a.type?a.nodes.forEach(e):a.members.map((function(e){return e.id})).forEach(e))}})),Array.from(r)}function Nt(e){var t="name:"+le.languageCode().toLowerCase(),n=e.tags[t]||e.tags.name||"";if(n)return n;var r={direction:e.tags.direction,from:e.tags.from,network:e.tags.cycle_network||e.tags.network,ref:e.tags.ref,to:e.tags.to,via:e.tags.via},i=[];return r.network&&i.push("network"),r.ref&&i.push("ref"),e.tags.route&&(r.direction?i.push("direction"):r.from&&r.to&&(i.push("from"),i.push("to"),r.via&&i.push("via"))),i.length&&(n=C("inspector.display_name."+i.join("_"),r)),n}function o2(e){var t=Nt(e),n=Bt().browser.toLowerCase().indexOf("firefox")>-1,r=Number(Bt().version.split(".")[0])>=96;return!n&&!r&&t&&eu.test(t)&&(t=Ep(t)),t}function pn(e){return{n:C("inspector.node"),w:C("inspector.way"),r:C("inspector.relation")}[e.charAt(0)]}function Ke(e,t,n){var r=Nt(e),i="string"==typeof t?ve.matchTags(e.tags,t):ve.match(e,t),a=i&&(i.suggestion?i.subtitle():i.name());return(n?[a,r].filter(Boolean).join(" "):r||a)||pn(e.id)}function z1(e){return{node:"n",way:"w",relation:"r"}[e]}function C3(e,t){var n={},r={},i=new Set,a=e.map((function(e){return t.hasEntity(e)})).filter(Boolean);for(var o in a.forEach((function(e){Object.keys(e.tags).filter(Boolean).forEach((function(e){i.add(e)}))})),a.forEach((function(e){i.forEach((function(t){var i=e.tags[t];n.hasOwnProperty(t)?Array.isArray(n[t])?-1===n[t].indexOf(i)&&n[t].push(i):n[t]!==i&&(n[t]=[n[t],i]):n[t]=i;var a=t+"="+i;r[a]||(r[a]=0),r[a]+=1}))})),n)!Array.isArray(n[o])||(n[o]=n[o].sort((function(e,t){var n=n,i=r[n+"="+t],a=r[n+"="+e];return i!==a?i-a:t&&e?e.localeCompare(t):e?1:-1})));return n}function Ut(e){for(var t=0;t<e.length&&("?"===e[t]||"#"===e[t]);)t++;return(e=e.slice(t)).split("&").reduce((function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0]]=null===n[1]?"":decodeURIComponent(n[1])),e}),{})}function $e(e,t){return Object.keys(e).sort().map((function(n){return encodeURIComponent(n)+"="+(t?function(e){return encodeURIComponent(e).replace(/(%2F|%3A|%2C|%7B|%7D)/g,decodeURIComponent)}(e[n]):encodeURIComponent(e[n]))})).join("&")}function F3(e){var t=["webkit","ms","moz","o"],n=-1,r=t.length,i=document.body;if(e in i)return e;for(e=e.substr(0,1).toUpperCase()+e.substr(1);++n<r;)if(t[n]+e in i)return t[n]+e;return!1}function wo(e){var t=["webkit","ms","Moz","O"],n=-1,r=t.length,i=document.body.style;if(e.toLowerCase()in i)return e.toLowerCase();for(;++n<r;)if(t[n]+e in i)return"-"+t[n].toLowerCase()+e.replace(/([A-Z])/g,"-$1").toLowerCase();return!1}function wn(e,t,n,r){var i=dh=dh||wo("Transform"),a=Bt().opera?"translate("+t+"px,"+n+"px)":"translate3d("+t+"px,"+n+"px,0)";return e.style(i,a+(r?" scale("+r+")":""))}function q1(e,t){if(e=(0,Iu.remove)(e.toLowerCase()),t=(0,Iu.remove)(t.toLowerCase()),0===e.length)return t.length;if(0===t.length)return e.length;var n,r,i=[];for(n=0;n<=t.length;n++)i[n]=[n];for(r=0;r<=e.length;r++)i[0][r]=r;for(n=1;n<=t.length;n++)for(r=1;r<=e.length;r++)t.charAt(n-1)===e.charAt(r-1)?i[n][r]=i[n-1][r-1]:i[n][r]=Math.min(i[n-1][r-1]+1,Math.min(i[n][r-1]+1,i[n-1][r]+1));return i[t.length][e.length]}function er(e){var t=e.getBoundingClientRect(),n=t.left,r=t.top,i=+e.clientLeft,a=+e.clientTop;return function(e){return[e.clientX-n-i,e.clientY-r-a]}}function Sm(e,t,n){var r=e.length,i=[],a=[];e.forEach((function(e,o){t(e,(function(e,t){a[o]=e,i[o]=t,--r||n(a,i)}))}))}function V1(e,t){return e<0&&(e+=Math.ceil(-e/t)*t),e%t}function Je(e){return"function"==typeof e?e:function(){return e}}function Ue(e){var t=e.size()&&"textarea"===e.node().tagName.toLowerCase();return e.attr("autocomplete","new-password").attr("autocorrect","off").attr("autocapitalize","off").attr("spellcheck",t?"true":"false")}function Yi(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}function _o(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"_")}function mn(e){return"ideditor-"+_o(e.toString())+"-"+(new Date).getTime().toString()}function s2(e){return Array.from(e).length}function j1(e,t){return Array.from(e).slice(0,t).join("")}function I3(e){var t=e.match(/^[cnwr](-?\d+)$/);return t?parseInt(t[1],10):NaN}function ph(e,t){return isNaN(e)&&isNaN(t)?-1:isNaN(e)?1:isNaN(t)?-1:Math.sign(e)!==Math.sign(t)?-Math.sign(e):Math.sign(e)<0?Math.sign(t-e):Math.sign(e-t)}function D3(e,t){return ph(I3(e),I3(t))}function Zi(e){if(0!==e.length){for(var t=0,n=I3(e[0]),r=1;r<e.length;r++){var i=I3(e[r]);1===ph(n,i)&&(t=r,n=i)}return e[t]}}function ye(e){if(!(this instanceof ye))return e&&e.type?ye[e.type].apply(this,arguments):e&&e.id?ye[ye.id.type(e.id)].apply(this,arguments):(new ye).initialize(arguments)}function T3(e){if("way"!==e.type||!e.tags.highway)return null;var t=e.tags,n=e.isOneWay(),r=BE(t,n),i=UE(t),a=zE(t,n,r),o=a.forward,s=a.backward,l=a.bothways,c={};c.unspecified=Tu(t["turn:lanes"]),c.forward=Tu(t["turn:lanes:forward"]),c.backward=Tu(t["turn:lanes:backward"]);var u={};u.unspecified=Nu(t["maxspeed:lanes"],i),u.forward=Nu(t["maxspeed:lanes:forward"],i),u.backward=Nu(t["maxspeed:lanes:backward"],i);var d={};d.unspecified=rn(t["psv:lanes"]),d.forward=rn(t["psv:lanes:forward"]),d.backward=rn(t["psv:lanes:backward"]);var p={};p.unspecified=rn(t["bus:lanes"]),p.forward=rn(t["bus:lanes:forward"]),p.backward=rn(t["bus:lanes:backward"]);var f={};f.unspecified=rn(t["taxi:lanes"]),f.forward=rn(t["taxi:lanes:forward"]),f.backward=rn(t["taxi:lanes:backward"]);var h={};h.unspecified=rn(t["hov:lanes"]),h.forward=rn(t["hov:lanes:forward"]),h.backward=rn(t["hov:lanes:backward"]);var g={};g.unspecified=rn(t["hgv:lanes"]),g.forward=rn(t["hgv:lanes:forward"]),g.backward=rn(t["hgv:lanes:backward"]);var m={};m.unspecified=Ou(t["bicycleway:lanes"]),m.forward=Ou(t["bicycleway:lanes:forward"]),m.backward=Ou(t["bicycleway:lanes:backward"]);var y={forward:[],backward:[],unspecified:[]};return Pa(y,c,"turnLane"),Pa(y,u,"maxspeed"),Pa(y,d,"psv"),Pa(y,p,"bus"),Pa(y,f,"taxi"),Pa(y,h,"hov"),Pa(y,g,"hgv"),Pa(y,m,"bicycleway"),{metadata:{count:r,oneway:n,forward:o,backward:s,bothways:l,turnLanes:c,maxspeed:i,maxspeedLanes:u,psvLanes:d,busLanes:p,taxiLanes:f,hovLanes:h,hgvLanes:g,bicyclewayLanes:m},lanes:y}}function BE(e,t){var n;if(e.lanes&&(n=parseInt(e.lanes,10))>0)return n;switch(e.highway){case"trunk":case"motorway":n=t?2:4;break;default:n=t?1:2}return n}function UE(e){var t=e.maxspeed;if(t){if(/^([0-9][\.0-9]+?)(?:[ ]?(?:km\/h|kmh|kph|mph|knots))?$/.test(t))return parseInt(t,10)}}function zE(e,t,n){var r=parseInt(e["lanes:forward"],10),i=parseInt(e["lanes:backward"],10),a=parseInt(e["lanes:both_ways"],10)>0?1:0;return-1===parseInt(e.oneway,10)?(r=0,a=0,i=n):t?(r=n,a=0,i=0):isNaN(r)&&isNaN(i)?r=n-a-(i=Math.floor((n-a)/2)):isNaN(r)?(i>n-a&&(i=n-a),r=n-a-i):isNaN(i)&&(r>n-a&&(r=n-a),i=n-a-r),{forward:r,backward:i,bothways:a}}function Tu(e){if(e){var t=["left","slight_left","sharp_left","through","right","slight_right","sharp_right","reverse","merge_to_left","merge_to_right","none"];return e.split("|").map((function(e){return""===e&&(e="none"),e.split(";").map((function(e){return-1===t.indexOf(e)?"unknown":e}))}))}}function Nu(e,t){if(e)return e.split("|").map((function(e){if("none"===e)return e;var n=parseInt(e,10);return""===e||n===t?null:isNaN(n)?"unknown":n}))}function rn(e){if(e){var t=["yes","no","designated"];return e.split("|").map((function(e){return""===e&&(e="no"),-1===t.indexOf(e)?"unknown":e}))}}function Ou(e){if(e){var t=["yes","no","designated","lane"];return e.split("|").map((function(e){return""===e&&(e="no"),-1===t.indexOf(e)?"unknown":e}))}}function Pa(e,t,n){t.forward&&t.forward.forEach((function(t,r){e.forward[r]||(e.forward[r]={}),e.forward[r][n]=t})),t.backward&&t.backward.forEach((function(t,r){e.backward[r]||(e.backward[r]={}),e.backward[r][n]=t})),t.unspecified&&t.unspecified.forEach((function(t,r){e.unspecified[r]||(e.unspecified[r]={}),e.unspecified[r][n]=t}))}function Ot(){if(!(this instanceof Ot))return(new Ot).initialize(arguments);arguments.length&&this.initialize(arguments)}function $1(e,t,n){return 0===t||e!==n[t-1]}function G1(e,t){if("relation"!==e.type||!e.isMultipolygon()||Object.keys(e.tags).filter(Hr).length>1)return!1;var n;for(var r in e.members){var i=e.members[r];if((!i.role||"outer"===i.role)&&(n||"way"!==i.type||!t.hasEntity(i.id)||(n=t.entity(i.id),0===Object.keys(n.tags).filter(Hr).length)))return!1}return n}function Ra(e,t){if("way"!==e.type||0===Object.keys(e.tags).filter(Hr).length)return!1;var n=t.parentRelations(e);if(1!==n.length)return!1;var r=n[0];if(!r.isMultipolygon()||Object.keys(r.tags).filter(Hr).length>1)return!1;for(var i,a=r.members,o=0;o<a.length;o++)if((i=a[o]).id===e.id&&i.role&&"outer"!==i.role||i.id!==e.id&&(!i.role||"outer"===i.role))return!1;return r}function N3(e,t){if("way"!==e.type)return!1;var n=t.parentRelations(e);if(1!==n.length)return!1;var r=n[0];if(!r.isMultipolygon()||Object.keys(r.tags).filter(Hr).length>1)return!1;for(var i,a,o=r.members,s=0;s<o.length;s++)if(!(i=o[s]).role||"outer"===i.role){if(a)return!1;a=i}if(!a)return!1;var l=t.hasEntity(a.id);return!(!l||!Object.keys(l.tags).filter(Hr).length)&&l}function zr(e,t){function n(e){return t.childNodes(t.entity(e.id))}function r(e){var n=Mn(e.id,{reverseOneway:!0});return o.actions.push(n),e instanceof Ot?n(t).entity(e.id):e}e=e.filter((function(e){return"way"===e.type&&t.hasEntity(e.id)}));var i,a=!0;for(i=0;i<e.length;i++)if(e[i]instanceof Ot){a=!1;break}var o=[];for(o.actions=[];e.length;){for(var s=e.shift(),l=[s],c=n(s).slice();e.length;){var u=c[0],d=c[c.length-1],p=null,f=null;for(i=0;i<e.length;i++){if(f=n(s=e[i]),a&&1===l.length&&f[0]!==d&&f[f.length-1]!==d&&(f[f.length-1]===u||f[0]===u)&&(l[0]=r(l[0]),c.reverse(),u=c[0],d=c[c.length-1]),f[0]===d){p=c.push,f=f.slice(1);break}if(f[f.length-1]===d){p=c.push,f=f.slice(0,-1).reverse(),s=r(s);break}if(f[f.length-1]===u){p=c.unshift,f=f.slice(0,-1);break}if(f[0]===u){p=c.unshift,f=f.slice(1).reverse(),s=r(s);break}p=f=null}if(!f)break;p.apply(l,[s]),p.apply(c,f),e.splice(i,1)}l.nodes=c,o.push(l)}return o}function Eo(e,t,n,r){return function(i){var a=i.entity(e),o=/stop|platform/.test(t.role);return!isNaN(n)&&!r||"way"!==t.type||o?(o&&isNaN(n)&&(n=0),i=i.replace(a.addMember(t,n))):i=function(e,n){var i,a,o,s,l,c,u,d=[],p=[];for(l=0;l<e.members.length;l++){var f=e.members[l];/stop|platform/.test(f.role)?d.push(f):p.push(f)}if(e=e.update({members:p}),r){a=Ot({id:"wTemp",nodes:r.nodes}),n=n.replace(a);var h={id:a.id,type:"way",role:t.role},g=e.replaceMember({id:r.originalID},h,!0);(i=Ct(g.members,"type")).way=i.way||[];var m=n.entity(r.originalID),y=n.entity(r.insertedID);o=m.nodes.length>0&&y.nodes.length>0&&y.nodes[y.nodes.length-1]===m.nodes[0]&&m.nodes[m.nodes.length-1]!==y.nodes[0]}else(i=Ct(e.members,"type")).way=i.way||[],i.way.push(t);var v=zr(p=function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=Object.assign({},e[n]),t[n].index=n;return t}(i.way),n);for(l=0;l<v.length;l++){var b=v[l],w=b.nodes.slice(),_=b[0].index;for(c=0;c<p.length&&p[c].index!==_;c++);for(u=0;u<b.length;u++){s=b[u];var k=n.entity(s.id);if(a&&s.id===a.id){var x=w[0].id!==r.nodes[0]^o;s.pair=x?[{id:r.insertedID,type:"way",role:s.role},{id:r.originalID,type:"way",role:s.role}]:[{id:r.originalID,type:"way",role:s.role},{id:r.insertedID,type:"way",role:s.role}]}u>0&&(c+u>=p.length||s.index!==p[c+u].index)&&C(p,s.index,c+u),w.splice(0,k.nodes.length-1)}}a&&(n=n.remove(a));var A=[];for(l=0;l<p.length;l++)-1!==(s=p[l]).index&&(s.pair?(A.push(s.pair[0]),A.push(s.pair[1])):A.push(Mr(s,["index"])));var E=d.concat(i.node||[],A,i.relation||[]);return n.replace(e.update({members:E}));function C(e,t,n){var r;for(r=0;r<e.length&&e[r].index!==t;r++);var i=Object.assign({},e[r]);e[r].index=-1,i.index=n,e.splice(n,0,i)}}(a,i),i}}function tr(e,t){return function(n){return Xt((n=n.replace(t.move(e.loc))).parentWays(n.entity(e.edge[0])),n.parentWays(n.entity(e.edge[1]))).forEach((function(r){for(var i=0;i<r.nodes.length-1;i++)if(N0([r.nodes[i],r.nodes[i+1]],e.edge))return void(n=n.replace(n.entity(r.id).addNode(t.id,i+1)))})),n}}function Bn(e,t,n){return function(r){return r.replace(r.entity(e).addNode(t,n))}}function La(e,t,n){return function(r){return r.replace(r.entity(e).updateMember(t,n))}}function Ba(e,t,n,r){return function(i){var a=i.entity(e),o=a.geometry(i),s=a.tags;return t&&(s=t.unsetTags(s,o,n&&n.addTags?Object.keys(n.addTags):null)),n&&(s=n.setTags(s,o,r)),i.replace(a.update({tags:s}))}}function Pt(e,t){return function(n){var r=n.entity(e);return n.replace(r.update({tags:t}))}}function ot(){if(!(this instanceof ot))return(new ot).initialize(arguments);arguments.length&&this.initialize(arguments)}function O3(e,t,n){n=(n||20)*Math.PI/180;var r=function(i,a){(null===a||!isFinite(a))&&(a=1),a=Math.min(Math.max(+a,0),1);var o=i.entity(e),s={};i.childNodes(o).forEach((function(e){s[e.id]||(s[e.id]=e)})),o.isConvex(i)||(i=r.makeConvex(i));var l,c,u,d,p=Te(i.childNodes(o)),f=p.filter((function(e){return 1!==i.parentWays(e).length})),h=p.map((function(e){return t(e.loc)})),g=f.map((function(e){return t(e.loc)})),m=2===h.length?gt(h[0],h[1],.5):_i(h),y=s0(h,(function(e){return Qe(m,e)})),v=y1(h)>0?1:-1;if(f.length||(f=[p[0]],g=[h[0]]),1===f.length){var b=p.indexOf(f[0]),w=Math.floor((b+p.length/2)%p.length);f.push(p[w]),g.push(h[w])}for(c=0;c<g.length;c++){var _,k,x,A,E,C,S,M=(c+1)%f.length,N=f[c],I=f[M],D=p.indexOf(N),P=p.indexOf(I),O=-1,T=P-D,F={},R=[];T<0&&(T+=p.length);var j=Qe(m,g[c])||1e-4;g[c]=[m[0]+(g[c][0]-m[0])/j*y,m[1]+(g[c][1]-m[1])/j*y],E=t.invert(g[c]),C=f[c],S=s[C.id],C=C.move(gt(S.loc,E,a)),i=i.replace(C),_=Math.atan2(g[c][1]-m[1],g[c][0]-m[0]),(k=Math.atan2(g[M][1]-m[1],g[M][0]-m[0])-_)*v>0&&(k=-v*(2*Math.PI-Math.abs(k)));do{x=k/(T+ ++O)}while(Math.abs(x)>n);for(u=1;u<T;u++)A=_+u*x,E=t.invert([m[0]+Math.cos(A)*y,m[1]+Math.sin(A)*y]),C=p[(u+D)%p.length],S=s[C.id],F[C.id]=A,C=C.move(gt(S.loc,E,a)),i=i.replace(C);for(u=0;u<O;u++){A=_+(T+u)*x,E=t.invert([m[0]+Math.cos(A)*y,m[1]+Math.sin(A)*y]);var U=1/0;for(var L in F){var z=F[L],B=Math.abs(z-A);B<U&&(U=B,S=s[L])}C=ot({loc:gt(S.loc,E,a)}),i=i.replace(C),p.splice(P+u,0,C),R.push(C.id)}if(1===T&&R.length){var $=o.nodes.lastIndexOf(N.id),Q=o.nodes.lastIndexOf(I.id)-$;Q<-1&&(Q=1);var q=i.parentWays(f[c]);for(u=0;u<q.length;u++){var G=q[u];if(G!==o&&G.areAdjacent(N.id,I.id)){var W=G.nodes.lastIndexOf(N.id),V=G.nodes.lastIndexOf(I.id),H=V-W,K=V;for(H<-1&&(H=1),Q!==H&&(R.reverse(),K=W),d=0;d<R.length;d++)G=G.addNode(R[d],K+d);i=i.replace(G)}}}}return(l=p.map((function(e){return e.id}))).push(l[0]),o=o.update({nodes:l}),i=i.replace(o)};return r.makeConvex=function(n){var r,i,a=n.entity(e),o=Te(n.childNodes(a)),s=o.map((function(e){return t(e.loc)})),l=y1(s)>0?1:-1,c=Qi(s);for(-1===l&&(o.reverse(),s.reverse()),r=0;r<c.length-1;r++){var u=s.indexOf(c[r]),d=s.indexOf(c[r+1])-u;for(d<0&&(d+=o.length),i=1;i<d;i++){var p=gt(c[r],c[r+1],i/d),f=o[(i+u)%o.length].move(t.invert(p));n=n.replace(f)}}return n},r.disabled=function(r){if(!r.entity(e).isClosed())return"not_closed";var i=r.entity(e),a=Te(r.childNodes(i)).map((function(e){return t(e.loc)})),o=Qi(a),s=Math.PI/180;if(o.length!==a.length||o.length<3)return!1;var l,c,u=_i(a),d=b1(u,a[0]);for(l=0;l<o.length;l++){var p=b1(c=o[l],u);if(Math.abs(p-d)>.05*d)return!1}for(l=0;l<o.length;l++){c=o[l];var f=o[(l+1)%o.length],h=Math.atan2(c[1]-u[1],c[0]-u[0]),g=Math.atan2(f[1]-u[1],f[0]-u[0])-h;if(g<0&&(g=-g),g>Math.PI&&(g=2*Math.PI-g),g>n+s)return!1}return"already_circular"},r.transitionable=!0,r}function Un(e){return function(t){var n=t.entity(e);return t.parentRelations(n).forEach((function(n){n=n.removeMembersWithID(e),t=t.replace(n),n.isDegenerate()&&(t=cr(n.id)(t))})),new Set(n.nodes).forEach((function(e){var r=(t=t.replace(n.removeNode(e))).entity(e);(function(e,t){if(t.parentWays(e).length||t.parentRelations(e).length)return!1;var n=ua(e.tags);return!n.point&&(!!n.vertex||!e.hasInterestingTags())})(r,t)&&(t=t.remove(r))})),t.remove(n)}}function Ji(e){var t={way:Un,node:Ci,relation:cr};return function(n){return e.forEach((function(e){n.hasEntity(e)&&(n=t[n.entity(e).type](e)(n))})),n}}function cr(e,t){return function(n){var r=n.entity(e);return n.parentRelations(r).forEach((function(t){t=t.removeMembersWithID(e),n=n.replace(t),t.isDegenerate()&&(n=cr(t.id)(n))})),Te(r.members.map((function(e){return e.id}))).forEach((function(e){(function(e,n){return!n.parentWays(e).length&&!n.parentRelations(e).length&&!e.hasInterestingTags()&&!t})((n=n.replace(r.removeMembersWithID(e))).entity(e),n)&&(n=Ji([e])(n))})),n.remove(r)}}function Ci(e){return function(t){var n=t.entity(e);return t.parentWays(n).forEach((function(n){n=n.removeNode(e),t=t.replace(n),n.isDegenerate()&&(t=Un(n.id)(t))})),t.parentRelations(n).forEach((function(n){n=n.removeMembersWithID(e),t=t.replace(n),n.isDegenerate()&&(t=cr(n.id)(t))})),t.remove(n)}}function Ua(e){var t=function(t){var n,r,i,a,o;e.reverse();var s=[];for(a=0;a<e.length;a++)(r=t.entity(e[a])).hasInterestingTags()&&(r.isNew()||s.push(r.id));for(n=t.entity(Zi(s.length>0?s:e)),a=0;a<e.length;a++)if((r=t.entity(e[a])).id!==n.id){for(i=t.parentWays(r),o=0;o<i.length;o++)t=t.replace(i[o].replaceNode(r.id,n.id));for(i=t.parentRelations(r),o=0;o<i.length;o++)t=t.replace(i[o].replaceMember(r,n));n=n.mergeTags(r.tags),t=Ci(r.id)(t)}for(i=(t=t.replace(n)).parentWays(n),a=0;a<i.length;a++)i[a].isDegenerate()&&(t=Un(i[a].id)(t));return t};return t.disabled=function(t){var n,r,i,a,o,s,l,c,u,d={},p=[];for(n=t.entity(Zi(e)),l=0;l<e.length;l++)for(r=t.entity(e[l]),a=t.parentRelations(r),c=0;c<a.length;c++){if(s=(o=a[c]).memberById(r.id).role||"",o.hasFromViaTo()&&p.push(o.id),void 0!==d[o.id]&&d[o.id]!==s)return"relation";d[o.id]=s}for(l=0;l<e.length;l++){r=t.entity(e[l]);var f=t.parentWays(r);for(c=0;c<f.length;c++){var h=f[c];for(a=t.parentRelations(h),u=0;u<a.length;u++)(o=a[u]).hasFromViaTo()&&p.push(o.id)}}for(p=Te(p),l=0;l<p.length;l++)if((o=t.entity(p[l])).isComplete(t)){var g=o.members.filter((function(e){return"way"===e.type})).map((function(e){return t.entity(e.id)}));g=Te(g);var m=o.memberByRole("from"),y=o.memberByRole("to"),v=m.id===y.id,b={from:[],via:[],to:[],keyfrom:[],keyto:[]};for(c=0;c<o.members.length;c++)P(o.members[c],b);b.keyfrom=Te(b.keyfrom.filter(I)),b.keyto=Te(b.keyto.filter(I));var w=D(b.keyfrom,b.keyto);b.from=b.from.filter(w),b.via=b.via.filter(w),b.to=b.to.filter(w);var _=!1,k=!1,x=!1,A=!1,E=!1;for(c=0;c<e.length;c++){var C=e[c];-1!==b.from.indexOf(C)&&(_=!0),-1!==b.via.indexOf(C)&&(k=!0),-1!==b.to.indexOf(C)&&(x=!0),-1!==b.keyfrom.indexOf(C)&&(A=!0),-1!==b.keyto.indexOf(C)&&(E=!0)}if(_&&x&&!v||_&&k||x&&k)return"restriction";if(A||E){if(2!==e.length)return"restriction";var S=null,M=null;for(c=0;c<g.length;c++)(i=g[c]).contains(e[0])&&(S=e[0]),i.contains(e[1])&&(M=e[1]);if(S&&M){var N=!1;for(c=0;c<g.length;c++)if((i=g[c]).areAdjacent(S,M)){N=!0;break}if(!N)return"restriction"}}for(c=0;c<g.length;c++){for(i=g[c].update({}),u=0;u<e.length;u++)e[u]!==n.id&&(i=i.areAdjacent(e[u],n.id)?i.removeNode(e[u]):i.replaceNode(e[u],n.id));if(i.isDegenerate())return"restriction"}}return!1;function I(e,t,n){return n.indexOf(e)!==n.lastIndexOf(e)}function D(e,t){return function(n){return-1===e.indexOf(n)&&-1===t.indexOf(n)}}function P(e,n){var r=t.hasEntity(e.id);if(r){var i=e.role||"";n[i]||(n[i]=[]),"node"===e.type?(n[i].push(e.id),"via"===i&&(n.keyfrom.push(e.id),n.keyto.push(e.id))):"way"===e.type&&(n[i].push.apply(n[i],r.nodes),("from"===i||"via"===i)&&(n.keyfrom.push(r.first()),n.keyfrom.push(r.last())),("to"===i||"via"===i)&&(n.keyto.push(r.first()),n.keyto.push(r.last())))}}},t}function H1(e,t){var n={},r=function(r){for(var i in e.forEach((function(e){t.entity(e).copy(t,n)})),n)r=r.replace(n[i]);return r};return r.copies=function(){return n},r}function za(e,t){return function(n){var r=n.entity(e).removeMember(t);return n=n.replace(r),r.isDegenerate()&&(n=cr(r.id)(n)),n}}function Ao(e,t){return t=t||{},n=>{return e.modified().forEach(r),e.created().forEach(r),n;function r(e){let r=Object.keys(e.tags),i=!1,a={};for(let n=0;n<r.length;n++){let o=r[n];t[o]||!e.tags[o]?i=!0:a[o]=e.tags[o]}i&&(n=n.replace(e.update({tags:a})))}}}function f2(e,t){var n,r={associatedStreet:!0,enforcement:!0,site:!0},i=function(n){var r=n.entity(e);return i.connections(n).forEach((function(e){var i=n.entity(e.wayID),a=ot({id:t,loc:r.loc,tags:r.tags});n=n.replace(a),n=0===e.index&&i.isArea()?n.replace(i.replaceNode(i.nodes[0],a.id)):i.isClosed()&&e.index===i.nodes.length-1?n.replace(i.unclose().addNode(a.id)):n.replace(i.updateNode(a.id,e.index))})),n};return i.connections=function(t){for(var r,i=[],a=!1,o=t.parentWays(t.entity(e)),s=0;s<o.length;s++)if(r=o[s],n&&-1===n.indexOf(r.id))a=!0;else if(r.isArea()&&r.nodes[0]===e)i.push({wayID:r.id,index:0});else for(var l=0;l<r.nodes.length;l++)if(r.nodes[l]===e){if(r.isClosed()&&o.length>1&&n&&-1!==n.indexOf(r.id)&&l===r.nodes.length-1)continue;i.push({wayID:r.id,index:l})}return a?i:i.slice(1)},i.disabled=function(t){if(0===i.connections(t).length)return"not_connected";var a,o=t.parentWays(t.entity(e)),s={};return o.forEach((function(e){t.parentRelations(e).filter(e=>!r[e.tags.type]).forEach((function(t){t.id in s?n?(-1!==n.indexOf(e.id)||-1!==n.indexOf(s[t.id]))&&(a=t):a=t:s[t.id]=e.id}))})),a?"relation":void 0},i.limitWays=function(e){return arguments.length?(n=e,i):n},i}function W1(e,t){var n,r=function(r){var i=r.entity(e);return"node"===i.type?function(t,r){n=t.id;var i=ot({loc:t.loc});return(r=(r=r.replace(i)).parentWays(t).reduce((function(t,n){return t.replace(n.replaceNode(e,i.id))}),r)).parentRelations(t).reduce((function(e,n){return e.replace(n.replaceMember(t,i))}),r)}(i,r):function(e,r){var i=e.geometry(r),a=["source","wheelchair"],o=["area"],s=["architect","building","height","layer"],l=Xr(t).centroid(e.asGeoJSON(r));(!(l=l&&t.invert(l))||!isFinite(l[0])||!isFinite(l[1]))&&(l=e.extent(r).center());var c=e.tags.building&&"no"!==e.tags.building||e.tags["building:part"]&&"no"!==e.tags["building:part"],u="area"===i&&e.tags.indoor&&{area:!0,corridor:!0,elevator:!0,level:!0,room:!0}[e.tags.indoor],d=Object.assign({},e.tags),p={};for(var f in d)"relation"===e.type&&"type"===f||-1===o.indexOf(f)&&(c&&(-1!==s.indexOf(f)||f.match(/^building:.{1,}/)||f.match(/^roof:.{1,}/))||u&&"indoor"===f||(p[f]=d[f],-1===a.indexOf(f)&&!f.match(/^addr:.{1,}/)&&(u&&"level"===f||delete d[f])));!c&&!u&&"area"===i&&(d.area="yes");var h=ot({loc:l,tags:p});return r=r.replace(h),n=h.id,r.replace(e.update({tags:d}))}(i,r)};return r.getExtractedNodeID=function(){return n},r}function P3(e){var t=function(t){var n=e.map(t.entity,t),r=Zi(n.map(e=>e.id));n.sort((function(e,t){var n=e.isSided(),r=t.isSided();return n&&!r?-1:r&&!n?1:0}));var i=zr(n,t),a=i[0],o=(t=i.actions.reduce((function(e,t){return t(e)}),t)).entity(r);return o=o.update({nodes:a.nodes.map((function(e){return e.id}))}),t=t.replace(o),a.forEach((function(e){e.id!==r&&(t.parentRelations(e).forEach((function(n){t=t.replace(n.replaceMember(e,o))})),o=o.mergeTags(e.tags),t=t.replace(o),t=Un(e.id)(t))})),function(){if(o.isClosed()){var e=t.parentMultipolygons(o).filter((function(e){return 1===e.members.length}));if(1===e.length){var n=e[0];for(var r in o.tags)if(n.tags[r]&&n.tags[r]!==o.tags[r])return;o=o.mergeTags(n.tags),t=t.replace(o),t=cr(n.id,!0)(t);var i=Object.assign({},o.tags);"area"!==o.geometry(t)&&(i.area="yes"),delete i.type,o=o.update({tags:i}),t=t.replace(o)}}}(),t};return t.resultingWayNodesLength=function(t){return e.reduce((function(e,n){return e+t.entity(n).nodes.length}),0)-e.length-1},t.disabled=function(t){var n=function(t){var n=e.map((function(e){return t.entity(e)}));return Object.assign({line:[]},Ct(n,(function(e){return e.geometry(t)})))}(t);if(e.length<2||e.length!==n.line.length)return"not_eligible";var r=zr(e.map(t.entity,t),t);if(r.length>1)return"not_adjacent";var i,a=function(e){return t.parentRelations(t.entity(e)).filter(e=>!e.isRestriction()&&!e.isConnectivity()).sort((e,t)=>e.id-t.id)},o=a(e[0]);for(i=1;i<e.length;i++){if(!hr(o,a(e[i])))return"conflicting_relations"}for(i=0;i<e.length-1;i++)for(var s=i+1;s<e.length;s++){var l=w1(t.childNodes(t.entity(e[i])).map((function(e){return e.loc})),t.childNodes(t.entity(e[s])).map((function(e){return e.loc})));if(Xt(r[0].nodes.map((function(e){return e.loc.toString()})),l.map((function(e){return e.toString()}))).length!==l.length)return"paths_intersect"}var c,u=r[0].nodes.map((function(e){return e.id})).slice(1,-1),d={},p=!1;return r[0].forEach((function(e){var n=t.parentRelations(e);for(var r in n.forEach((function(e){(e.isRestriction()||e.isConnectivity())&&e.members.some((function(e){return u.indexOf(e.id)>=0}))&&(c=e)})),e.tags)r in d?d[r]&&Hr(r)&&d[r]!==e.tags[r]&&(p=!0):d[r]=e.tags[r]})),c?c.isRestriction()?"restriction":"connectivity":p?"conflicting_tags":void 0},t}function R3(e){function t(t){var n=e.map((function(e){return t.entity(e)}));return Object.assign({point:[],area:[],line:[],relation:[]},Ct(n,(function(e){return e.geometry(t)})))}var n=function(e){var n=t(e),r=n.area[0]||n.line[0];if(n.point.forEach((function(t){r=r.mergeTags(t.tags),(e=e.replace(r)).parentRelations(t).forEach((function(n){e=e.replace(n.replaceMember(t,r))}));var n=Te(e.childNodes(r)),i=t;if(!t.isNew()){var a,o,s=!1,l=function(t){return!(e.parentWays(t).length>1||e.parentRelations(t).length)},c=function(n){e=e.replace(t.update({tags:n.tags,loc:n.loc})),r=r.replaceNode(n.id,t.id),e=e.replace(r),i=n,s=!0};for(a=0;a<n.length;a++)if(l(o=n[a])&&o.isNew()){c(o);break}if(!s&&t.hasInterestingTags()){for(a=0;a<n.length;a++)if(l(o=n[a])&&!o.hasInterestingTags()){c(o);break}if(!s)for(a=0;a<n.length;a++)if(l(o=n[a])&&D3(t.id,o.id)<0){c(o);break}}}e=e.remove(i)})),"yes"===r.tags.area){var i=Object.assign({},r.tags);delete i.area,la(i)&&(r=r.update({tags:i}),e=e.replace(r))}return e};return n.disabled=function(e){var n=t(e);if(0===n.point.length||n.area.length+n.line.length!==1||0!==n.relation.length)return"not_eligible"},n}function _n(e,t){var n=function(n){if(e.length<2)return n;var r=t;r||(r=function(t){if(!e.length)return null;for(var n,r=[0,0],i=0,a=0;a<e.length;a++){var o=t.entity(e[a]);o.hasInterestingTags()&&(n=1===++i?o.loc:null),r=$t(r,o.loc)}return n||bn(r,1/e.length)}(n));for(var i=0;i<e.length;i++){var a=n.entity(e[i]);a.loc!==r&&(n=n.replace(a.move(r)))}return Ua(e)(n)};return n.disabled=function(t){if(e.length<2)return"not_eligible";for(var n=0;n<e.length;n++){if("node"!==t.entity(e[n]).type)return"not_eligible"}return Ua(e).disabled(t)},n}function kn(){if(!(this instanceof kn))return(new kn).initialize(arguments);arguments.length&&this.initialize(arguments)}function Rt(){if(!(this instanceof Rt))return(new Rt).initialize(arguments);arguments.length&&this.initialize(arguments)}function gr(){if(!(this instanceof gr))return(new gr).initialize(arguments);arguments.length&&this.initialize(arguments)}ye.id=function(e){return ye.id.fromOSM(e,ye.id.next[e]--)},ye.id.next={changeset:-1,node:-1,way:-1,relation:-1},ye.id.fromOSM=function(e,t){return e[0]+t},ye.id.toOSM=function(e){var t=e.match(/^[cnwr](-?\d+)$/);return t?t[1]:""},ye.id.type=function(e){return{c:"changeset",n:"node",w:"way",r:"relation"}[e[0]]},ye.key=function(e){return e.id+"v"+(e.v||0)},ye.deprecatedTagValuesByKey=function(e){return Q1||(Q1={},e.forEach((function(e){var t=Object.keys(e.old);if(1===t.length){var n=t[0],r=e.old[n];"*"!==r&&(Q1[n]?Q1[n].push(r):Q1[n]=[r])}}))),Q1},ye.prototype={tags:{},initialize:function(e){for(var t=0;t<e.length;++t){var n=e[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(void 0===n[r]?delete this[r]:this[r]=n[r])}return!this.id&&this.type&&(this.id=ye.id(this.type)),this.hasOwnProperty("visible")||(this.visible=!0),c2&&(Object.freeze(this),Object.freeze(this.tags),this.loc&&Object.freeze(this.loc),this.nodes&&Object.freeze(this.nodes),this.members&&Object.freeze(this.members)),this},copy:function(e,t){if(t[this.id])return t[this.id];var n=ye(this,{id:void 0,user:void 0,version:void 0});return t[this.id]=n,n},osmId:function(){return ye.id.toOSM(this.id)},isNew:function(){var e=ye.id.toOSM(this.id);return 0===e.length||"-"===e[0]},update:function(e){return ye(this,e,{v:1+(this.v||0)})},mergeTags:function(e){var t=Object.assign({},this.tags),n=!1;for(var r in e){var i=t[r],a=e[r];i?i!==a&&(n=!0,t[r]=j1(xt(i.split(/;\s*/),a.split(/;\s*/)).join(";"),255)):(n=!0,t[r]=a)}return n?this.update({tags:t}):this},intersects:function(e,t){return this.extent(t).intersects(e)},hasNonGeometryTags:function(){return Object.keys(this.tags).some((function(e){return"area"!==e}))},hasParentRelations:function(e){return e.parentRelations(this).length>0},hasInterestingTags:function(){return Object.keys(this.tags).some(Hr)},isHighwayIntersection:function(){return!1},isDegenerate:function(){return!0},deprecatedTags:function(e){var t=this.tags;if(0===Object.keys(t).length)return[];var n=[];return e.forEach((function(e){var r=Object.keys(e.old);if(e.replace&&Object.keys(e.replace).some((function(n){if(!t[n]||e.old[n])return!1;var r=e.replace[n];return!("*"===r||r===t[n])})))return;r.every((function(n){if(!t[n])return!1;if("*"===e.old[n]||e.old[n]===t[n])return!0;var r=t[n].split(";").filter(Boolean);return 0!==r.length&&(r.length>1?-1!==r.indexOf(e.old[n]):t[n]===e.old[n]&&(!e.replace||e.old[n]!==e.replace[n]||!Object.keys(e.replace).every((function(n){return t[n]===e.replace[n]}))))}))&&n.push(e)})),n}},ye.way=Ot,Ot.prototype=Object.create(ye.prototype),Object.assign(Ot.prototype,{type:"way",nodes:[],copy:function(e,t){if(t[this.id])return t[this.id];var n=ye.prototype.copy.call(this,e,t),r=this.nodes.map((function(n){return e.entity(n).copy(e,t).id}));return n=n.update({nodes:r}),t[this.id]=n,n},extent:function(e){return e.transient(this,"extent",(function(){for(var t=he(),n=0;n<this.nodes.length;n++){var r=e.hasEntity(this.nodes[n]);r&&t._extend(r.extent())}return t}))},first:function(){return this.nodes[0]},last:function(){return this.nodes[this.nodes.length-1]},contains:function(e){return this.nodes.indexOf(e)>=0},affix:function(e){return this.nodes[0]===e?"prefix":this.nodes[this.nodes.length-1]===e?"suffix":void 0},layer:function(){return isFinite(this.tags.layer)?Math.max(-10,Math.min(+this.tags.layer,10)):"yes"===this.tags.covered?-1:"overground"===this.tags.location?1:"underground"===this.tags.location?-1:"underwater"===this.tags.location?-10:"line"===this.tags.power||"minor_line"===this.tags.power||this.tags.aerialway?10:this.tags.bridge?1:this.tags.cutting||this.tags.tunnel||this.tags.waterway?-1:"pipeline"===this.tags.man_made||this.tags.boundary?-10:0},impliedLineWidthMeters:function(){var e={highway:{motorway:5,motorway_link:5,trunk:4.5,trunk_link:4.5,primary:4,secondary:4,tertiary:4,primary_link:4,secondary_link:4,tertiary_link:4,unclassified:4,road:4,living_street:4,bus_guideway:4,pedestrian:4,residential:3.5,service:3.5,track:3,cycleway:2.5,bridleway:2,corridor:2,steps:2,path:1.5,footway:1.5},railway:{rail:2.5,light_rail:2.5,tram:2.5,subway:2.5,monorail:2.5,funicular:2.5,disused:2.5,preserved:2.5,miniature:1.5,narrow_gauge:1.5},waterway:{river:50,canal:25,stream:5,tidal_channel:5,fish_pass:2.5,drain:2.5,ditch:1.5}};for(var t in e)if(this.tags[t]&&e[t][this.tags[t]]){var n=e[t][this.tags[t]];if("highway"===t){var r=this.tags.lanes&&parseInt(this.tags.lanes,10);return r||(r=this.isOneWay()?1:2),n*r}return n}return null},isOneWay:function(){var e={yes:!0,1:!0,"-1":!0,reversible:!0,alternating:!0,no:!1,0:!1};if(void 0!==e[this.tags.oneway])return e[this.tags.oneway];for(var t in this.tags)if(t in Jn&&this.tags[t]in Jn[t])return!0;return!1},sidednessIdentifier:function(){for(var e in this.tags){var t=this.tags[e];if(e in ns&&t in ns[e])return!0===ns[e][t]?e:ns[e][t]}return null},isSided:function(){return"yes"!==this.tags.two_sided&&null!==this.sidednessIdentifier()},lanes:function(){return T3(this)},isClosed:function(){return this.nodes.length>1&&this.first()===this.last()},isConvex:function(e){if(!this.isClosed()||this.isDegenerate())return null;for(var t=Te(e.childNodes(this)).map((function(e){return e.loc})),n=0,r=0,i=0;i<t.length;i++){var a=t[(i+1)%t.length],o=ba(t[i],t[(i+2)%t.length],a);if(0!==(n=o>0?1:o<0?-1:0)){if(r&&n!==r)return!1;r=n}}return!0},tagSuggestingArea:function(){return la(this.tags)},isArea:function(){return"yes"===this.tags.area||!(!this.isClosed()||"no"===this.tags.area)&&null!==this.tagSuggestingArea()},isDegenerate:function(){return new Set(this.nodes).size<(this.isArea()?3:2)},areAdjacent:function(e,t){for(var n=0;n<this.nodes.length;n++)if(this.nodes[n]===e&&(this.nodes[n-1]===t||this.nodes[n+1]===t))return!0;return!1},geometry:function(e){return e.transient(this,"geometry",(function(){return this.isArea()?"area":"line"}))},segments:function(e){function t(e){var t=e.hasEntity(this.nodes[0]),n=e.hasEntity(this.nodes[1]);return t&&n&&he([[Math.min(t.loc[0],n.loc[0]),Math.min(t.loc[1],n.loc[1])],[Math.max(t.loc[0],n.loc[0]),Math.max(t.loc[1],n.loc[1])]])}return e.transient(this,"segments",(function(){for(var e=[],n=0;n<this.nodes.length-1;n++)e.push({id:this.id+"-"+n,wayId:this.id,index:n,nodes:[this.nodes[n],this.nodes[n+1]],extent:t});return e}))},close:function(){if(this.isClosed()||!this.nodes.length)return this;var e=this.nodes.slice();return(e=e.filter($1)).push(e[0]),this.update({nodes:e})},unclose:function(){if(!this.isClosed())return this;for(var e=this.nodes.slice(),t=this.first(),n=e.length-1;n>0&&e.length>1&&e[n]===t;)e.splice(n,1),n=e.length-1;return e=e.filter($1),this.update({nodes:e})},addNode:function(e,t){var n=this.nodes.slice(),r=this.isClosed(),i=r?n.length-1:n.length;if(void 0===t&&(t=i),t<0||t>i)throw new RangeError("index "+t+" out of range 0.."+i);if(r){for(var a=this.first(),o=1;o<n.length&&n.length>2&&n[o]===a;)n.splice(o,1),t>o&&t--;for(o=n.length-1;o>0&&n.length>1&&n[o]===a;)n.splice(o,1),t>o&&t--,o=n.length-1}return n.splice(t,0,e),n=n.filter($1),r&&(1===n.length||n[0]!==n[n.length-1])&&n.push(n[0]),this.update({nodes:n})},updateNode:function(e,t){var n=this.nodes.slice(),r=this.isClosed(),i=n.length-1;if(void 0===t||t<0||t>i)throw new RangeError("index "+t+" out of range 0.."+i);if(r){for(var a=this.first(),o=1;o<n.length&&n.length>2&&n[o]===a;)n.splice(o,1),t>o&&t--;for(o=n.length-1;o>0&&n.length>1&&n[o]===a;)n.splice(o,1),t===o&&(t=0),o=n.length-1}return n.splice(t,1,e),n=n.filter($1),r&&(1===n.length||n[0]!==n[n.length-1])&&n.push(n[0]),this.update({nodes:n})},replaceNode:function(e,t){for(var n=this.nodes.slice(),r=this.isClosed(),i=0;i<n.length;i++)n[i]===e&&(n[i]=t);return n=n.filter($1),r&&(1===n.length||n[0]!==n[n.length-1])&&n.push(n[0]),this.update({nodes:n})},removeNode:function(e){var t=this.nodes.slice(),n=this.isClosed();return t=t.filter((function(t){return t!==e})).filter($1),n&&(1===t.length||t[0]!==t[t.length-1])&&t.push(t[0]),this.update({nodes:t})},asJXON:function(e){var t={way:{"@id":this.osmId(),"@version":this.version||0,nd:this.nodes.map((function(e){return{keyAttributes:{ref:ye.id.toOSM(e)}}}),this),tag:Object.keys(this.tags).map((function(e){return{keyAttributes:{k:e,v:this.tags[e]}}}),this)}};return e&&(t.way["@changeset"]=e),t},asGeoJSON:function(e){return e.transient(this,"GeoJSON",(function(){var t=e.childNodes(this).map((function(e){return e.loc}));return this.isArea()&&this.isClosed()?{type:"Polygon",coordinates:[t]}:{type:"LineString",coordinates:t}}))},area:function(e){return e.transient(this,"area",(function(){var t=e.childNodes(this),n={type:"Polygon",coordinates:[t.map((function(e){return e.loc}))]};!this.isClosed()&&t.length&&n.coordinates[0].push(t[0].loc);var r=yi(n);return r>2*Math.PI&&(n.coordinates[0]=n.coordinates[0].reverse(),r=yi(n)),isNaN(r)?0:r}))}}),ye.node=ot,ot.prototype=Object.create(ye.prototype),Object.assign(ot.prototype,{type:"node",loc:[9999,9999],extent:function(){return new he(this.loc)},geometry:function(e){return e.transient(this,"geometry",(function(){return e.isPoi(this)?"point":"vertex"}))},move:function(e){return this.update({loc:e})},isDegenerate:function(){return!(Array.isArray(this.loc)&&2===this.loc.length&&this.loc[0]>=-180&&this.loc[0]<=180&&this.loc[1]>=-90&&this.loc[1]<=90)},directions:function(e,t){var n,r;if(this.isHighwayIntersection(e)&&"all"===(this.tags.stop||"").toLowerCase())n="all";else{n=(this.tags.direction||"").toLowerCase();var i=/:direction$/i,a=Object.keys(this.tags);for(r=0;r<a.length;r++)if(i.test(a[r])){n=this.tags[a[r]].toLowerCase();break}}if(""===n)return[];var o={north:0,n:0,northnortheast:22,nne:22,northeast:45,ne:45,eastnortheast:67,ene:67,east:90,e:90,eastsoutheast:112,ese:112,southeast:135,se:135,southsoutheast:157,sse:157,south:180,s:180,southsouthwest:202,ssw:202,southwest:225,sw:225,westsouthwest:247,wsw:247,west:270,w:270,westnorthwest:292,wnw:292,northwest:315,nw:315,northnorthwest:337,nnw:337},s=n.split(";"),l=[];return s.forEach((function(n){if(void 0!==o[n]&&(n=o[n]),""===n||isNaN(+n)){var i=this.tags["traffic_sign:backward"]||"backward"===n||"both"===n||"all"===n,a=this.tags["traffic_sign:forward"]||"forward"===n||"both"===n||"all"===n;if(a||i){var s={};e.parentWays(this).forEach((function(e){var t=e.nodes;for(r=0;r<t.length;r++)t[r]===this.id&&(a&&r>0&&(s[t[r-1]]=!0),i&&r<t.length-1&&(s[t[r+1]]=!0))}),this),Object.keys(s).forEach((function(n){l.push(pr(this,e.entity(n),t)*(180/Math.PI)+90)}),this)}}else l.push(+n)}),this),Te(l)},isCrossing:function(){return"crossing"===this.tags.highway||this.tags.railway&&-1!==this.tags.railway.indexOf("crossing")},isEndpoint:function(e){return e.transient(this,"isEndpoint",(function(){var t=this.id;return e.parentWays(this).filter((function(e){return!e.isClosed()&&!!e.affix(t)})).length>0}))},isConnected:function(e){return e.transient(this,"isConnected",(function(){var t=e.parentWays(this);if(t.length>1){for(var n in t)if("line"===t[n].geometry(e)&&t[n].hasInterestingTags())return!0}else if(1===t.length){var r=t[0],i=r.nodes.slice();return r.isClosed()&&i.pop(),i.indexOf(this.id)!==i.lastIndexOf(this.id)}return!1}))},parentIntersectionWays:function(e){return e.transient(this,"parentIntersectionWays",(function(){return e.parentWays(this).filter((function(t){return(t.tags.highway||t.tags.waterway||t.tags.railway||t.tags.aeroway)&&"line"===t.geometry(e)}))}))},isIntersection:function(e){return this.parentIntersectionWays(e).length>1},isHighwayIntersection:function(e){return e.transient(this,"isHighwayIntersection",(function(){return e.parentWays(this).filter((function(t){return t.tags.highway&&"line"===t.geometry(e)})).length>1}))},isOnAddressLine:function(e){return e.transient(this,"isOnAddressLine",(function(){return e.parentWays(this).filter((function(t){return t.tags.hasOwnProperty("addr:interpolation")&&"line"===t.geometry(e)})).length>0}))},asJXON:function(e){var t={node:{"@id":this.osmId(),"@lon":this.loc[0],"@lat":this.loc[1],"@version":this.version||0,tag:Object.keys(this.tags).map((function(e){return{keyAttributes:{k:e,v:this.tags[e]}}}),this)}};return e&&(t.node["@changeset"]=e),t},asGeoJSON:function(){return{type:"Point",coordinates:this.loc}}}),ye.changeset=kn,kn.prototype=Object.create(ye.prototype),Object.assign(kn.prototype,{type:"changeset",extent:function(){return new he},geometry:function(){return"changeset"},asJXON:function(){return{osm:{changeset:{tag:Object.keys(this.tags).map((function(e){return{"@k":e,"@v":this.tags[e]}}),this),"@version":.6,"@generator":"iD"}}}},osmChangeJXON:function(e){var t=this.id;function n(e,t){for(var n={},r=0;r<e.length;r++){var i=Object.keys(e[r])[0];n[i]||(n[i]=[]),n[i].push(e[r][i])}var a={};return t.forEach((function(e){n[e]&&(a[e]=n[e])})),a}function r(e){return e.asJXON(t)}return{osmChange:{"@version":.6,"@generator":"iD",create:function(e){function t(e){return a.find((function(t){return"relation"===e.keyAttributes.type&&e.keyAttributes.ref===t["@id"]}))}function n(e){return!i[e["@id"]]&&!r.find((function(t){return t["@id"]===e["@id"]}))}var r=[],i={},a=e.relation;if(!a)return e;for(var o=0;o<a.length;o++){var s=a[o];for(i[s["@id"]]||r.push(s);r.length>0;){var l=r[0],c=l.member.map(t).filter(Boolean).filter(n);0===c.length?(i[l["@id"]]=l,r.shift()):r=c.concat(r)}}return e.relation=Object.values(i),e}(n(e.created.map(r),["node","way","relation"])),modify:n(e.modified.map(r),["node","way","relation"]),delete:Object.assign(n(e.deleted.map(r),["relation","way","node"]),{"@if-unused":!0})}}},asGeoJSON:function(){return{}}}),Rt.id=function(){return Rt.id.next--},Rt.id.next=-1,Object.assign(Rt.prototype,{type:"note",initialize:function(e){for(var t=0;t<e.length;++t){var n=e[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(void 0===n[r]?delete this[r]:this[r]=n[r])}return this.id||(this.id=Rt.id().toString()),this},extent:function(){return new he(this.loc)},update:function(e){return Rt(this,e)},isNew:function(){return this.id<0},move:function(e){return this.update({loc:e})}}),ye.relation=gr,gr.prototype=Object.create(ye.prototype),gr.creationOrder=function(e,t){var n=parseInt(ye.id.toOSM(e.id),10),r=parseInt(ye.id.toOSM(t.id),10);return n<0||r<0?n-r:r-n},Object.assign(gr.prototype,{type:"relation",members:[],copy:function(e,t){if(t[this.id])return t[this.id];var n=ye.prototype.copy.call(this,e,t),r=this.members.map((function(n){return Object.assign({},n,{id:e.entity(n.id).copy(e,t).id})}));return n=n.update({members:r}),t[this.id]=n,n},extent:function(e,t){return e.transient(this,"extent",(function(){if(t&&t[this.id])return he();(t=t||{})[this.id]=!0;for(var n=he(),r=0;r<this.members.length;r++){var i=e.hasEntity(this.members[r].id);i&&n._extend(i.extent(e,t))}return n}))},geometry:function(e){return e.transient(this,"geometry",(function(){return this.isMultipolygon()?"area":"relation"}))},isDegenerate:function(){return 0===this.members.length},indexedMembers:function(){for(var e=new Array(this.members.length),t=0;t<this.members.length;t++)e[t]=Object.assign({},this.members[t],{index:t});return e},memberByRole:function(e){for(var t=0;t<this.members.length;t++)if(this.members[t].role===e)return Object.assign({},this.members[t],{index:t})},membersByRole:function(e){for(var t=[],n=0;n<this.members.length;n++)this.members[n].role===e&&t.push(Object.assign({},this.members[n],{index:n}));return t},memberById:function(e){for(var t=0;t<this.members.length;t++)if(this.members[t].id===e)return Object.assign({},this.members[t],{index:t})},memberByIdAndRole:function(e,t){for(var n=0;n<this.members.length;n++)if(this.members[n].id===e&&this.members[n].role===t)return Object.assign({},this.members[n],{index:n})},addMember:function(e,t){var n=this.members.slice();return n.splice(void 0===t?n.length:t,0,e),this.update({members:n})},updateMember:function(e,t){var n=this.members.slice();return n.splice(t,1,Object.assign({},n[t],e)),this.update({members:n})},removeMember:function(e){var t=this.members.slice();return t.splice(e,1),this.update({members:t})},removeMembersWithID:function(e){var t=this.members.filter((function(t){return t.id!==e}));return this.update({members:t})},moveMember:function(e,t){var n=this.members.slice();return n.splice(t,0,n.splice(e,1)[0]),this.update({members:n})},replaceMember:function(e,t,n){if(!this.memberById(e.id))return this;for(var r=[],i=0;i<this.members.length;i++){var a=this.members[i];a.id!==e.id?r.push(a):(n||!this.memberByIdAndRole(t.id,a.role))&&r.push({id:t.id,type:t.type,role:a.role})}return this.update({members:r})},asJXON:function(e){var t={relation:{"@id":this.osmId(),"@version":this.version||0,member:this.members.map((function(e){return{keyAttributes:{type:e.type,role:e.role,ref:ye.id.toOSM(e.id)}}}),this),tag:Object.keys(this.tags).map((function(e){return{keyAttributes:{k:e,v:this.tags[e]}}}),this)}};return e&&(t.relation["@changeset"]=e),t},asGeoJSON:function(e){return e.transient(this,"GeoJSON",(function(){return this.isMultipolygon()?{type:"MultiPolygon",coordinates:this.multipolygon(e)}:{type:"FeatureCollection",properties:this.tags,features:this.members.map((function(t){return Object.assign({role:t.role},e.entity(t.id).asGeoJSON(e))}))}}))},area:function(e){return e.transient(this,"area",(function(){return yi(this.asGeoJSON(e))}))},isMultipolygon:function(){return"multipolygon"===this.tags.type},isComplete:function(e){for(var t=0;t<this.members.length;t++)if(!e.hasEntity(this.members[t].id))return!1;return!0},hasFromViaTo:function(){return this.members.some((function(e){return"from"===e.role}))&&this.members.some((function(e){return"via"===e.role}))&&this.members.some((function(e){return"to"===e.role}))},isRestriction:function(){return!(!this.tags.type||!this.tags.type.match(/^restriction:?/))},isValidRestriction:function(){if(!this.isRestriction())return!1;var e=this.members.filter((function(e){return"from"===e.role})),t=this.members.filter((function(e){return"via"===e.role})),n=this.members.filter((function(e){return"to"===e.role}));return!(1!==e.length&&"no_entry"!==this.tags.restriction||e.some((function(e){return"way"!==e.type}))||1!==n.length&&"no_exit"!==this.tags.restriction||n.some((function(e){return"way"!==e.type}))||0===t.length||t.length>1&&t.some((function(e){return"way"!==e.type})))},isConnectivity:function(){return!(!this.tags.type||!this.tags.type.match(/^connectivity:?/))},multipolygon:function(e){var t=this.members.filter((function(e){return"outer"===(e.role||"outer")})),n=this.members.filter((function(e){return"inner"===e.role}));t=zr(t,e),n=zr(n,e);var r=function(e){return e.nodes.length>2&&e.nodes[0]!==e.nodes[e.nodes.length-1]&&e.nodes.push(e.nodes[0]),e.nodes.map((function(e){return e.loc}))};t=t.map(r),n=n.map(r);var i=t.map((function(e){return[yi({type:"Polygon",coordinates:[e]})>2*Math.PI?e.reverse():e]}));function a(e){var n;for(n=0;n<t.length;n++)if(_1(t[n],e))return n;for(n=0;n<t.length;n++)if(wa(t[n],e,!1))return n}for(var o=0;o<n.length;o++){var s=n[o];yi({type:"Polygon",coordinates:[s]})<2*Math.PI&&(s=s.reverse());var l=a(n[o]);void 0!==l?i[l].push(n[o]):i.push([n[o]])}return i}});var Et=class{constructor(e,t,n,r,i){this.loc=e,this.service=t.title,this.itemType=n,this.id=r||"".concat(Et.id()),this.update(i),t&&"function"==typeof t.getIcon&&(this.icon=t.getIcon(n))}update(e){let{loc:t,service:n,itemType:r,id:i}=this;return Object.keys(e).forEach(t=>this[t]=e[t]),this.loc=t,this.service=n,this.itemType=r,this.id=i,this}static id(){return this.nextId--}};function ea(e,t){"string"==typeof e&&(e=[e]);var n,r="longest",i=[];function a(e,t,n){var r=e.entity(t).loc,i=e.entity(n).loc;return r&&i?rt(r,i):1e-6}function o(e,t){for(var n=0,r=0;r<t.length-1;r++)n+=a(e,t[r],t[r+1]);return n}function s(e,t,n,s){var l,c,u=Ot({id:s,tags:n.tags}),d=n.nodes.slice(),p=n.isArea(),f=Ra(n,e);if(n.isClosed()){var h=n.nodes.slice(0,-1),g=h.indexOf(t),m=function(e,t,n){var r,i,o,s=new Array(e.length),l=0;function c(t){return V1(t,e.length)}for(r=0,i=c(t+1);i!==t;i=c(i+1))r+=a(n,e[i],e[c(i-1)]),s[i]=r;for(r=0,i=c(t-1);i!==t;i=c(i-1))(r+=a(n,e[i],e[c(i+1)]))<s[i]&&(s[i]=r);for(i=0;i<e.length;i++){var u=s[i]/a(n,e[t],e[i]);u>l&&(o=i,l=u)}return o}(h,g,e);m<g?(l=h.slice(g).concat(h.slice(0,m+1)),c=h.slice(m,g+1)):(l=h.slice(g,m+1),c=h.slice(m).concat(h.slice(0,g+1)))}else{var y=n.nodes.indexOf(t,1);l=n.nodes.slice(0,y+1),c=n.nodes.slice(y)}var v=o(e,l),b=o(e,c);if("longest"===r&&b>v){n=n.update({nodes:c}),u=u.update({nodes:l});var w=v;v=b,b=w}else n=n.update({nodes:l}),u=u.update({nodes:c});if(n.tags.step_count){var _=parseFloat(n.tags.step_count);if(_&&isFinite(_)&&_>0&&Math.round(_)===_){var k=Object.assign({},n.tags),x=Object.assign({},u.tags),A=v/(v+b),E=Math.round(_*A);k.step_count=E.toString(),x.step_count=(_-E).toString(),n=n.update({tags:k}),u=u.update({tags:x})}}if((e=(e=e.replace(n)).replace(u)).parentRelations(n).forEach((function(t){var r;if(t.hasFromViaTo()){var i,a=t.memberByRole("from"),o=t.membersByRole("via"),s=t.memberByRole("to");if(a.id===n.id||s.id===n.id){var l=!1;if(1===o.length&&"node"===o[0].type)l=u.contains(o[0].id);else for(i=0;i<o.length;i++)if("way"===o[i].type){var c=e.hasEntity(o[i].id);if(c&&Xt(u.nodes,c.nodes).length){l=!0;break}}l&&(t=t.replaceMember(n,u),e=e.replace(t))}else for(i=0;i<o.length;i++)if("way"===o[i].type&&o[i].id===n.id){r={id:u.id,type:"way",role:"via"},e=Eo(t.id,r,o[i].index+1)(e);break}}else{t===f&&(e=(e=(e=e.replace(t.mergeTags(n.tags))).replace(n.update({tags:{}}))).replace(u.update({tags:{}}))),r={id:u.id,type:"way",role:t.memberById(n.id).role};var p={originalID:n.id,insertedID:u.id,nodes:d};e=Eo(t.id,r,void 0,p)(e)}})),!f&&p){var C=gr({tags:Object.assign({},n.tags,{type:"multipolygon"}),members:[{id:n.id,role:"outer",type:"way"},{id:u.id,role:"outer",type:"way"}]});e=(e=(e=e.replace(C)).replace(n.update({tags:{}}))).replace(u.update({tags:{}}))}return i.push(u.id),e}var l=function(n){i=[];for(var r=0,a=0;a<e.length;a++)for(var o=e[a],c=l.waysForNode(o,n),u=0;u<c.length;u++)n=s(n,o,c[u],t&&t[r]),r+=1;return n};return l.getCreatedWayIDs=function(){return i},l.waysForNode=function(e,t){var r=t.entity(e),i=t.parentWays(r).filter((function(t){if(n&&-1===n.indexOf(t.id))return!1;if(t.isClosed())return!0;for(var r=1;r<t.nodes.length-1;r++)if(t.nodes[r]===e)return!0;return!1}));if(!n&&i.some((function(e){return"line"===e.geometry(t)})))return i.filter((function(e){return"line"===e.geometry(t)}));return i},l.ways=function(t){return Te([].concat.apply([],e.map((function(e){return l.waysForNode(e,t)}))))},l.disabled=function(t){for(var r=0;r<e.length;r++){var i=e[r],a=l.waysForNode(i,t);if(0===a.length||n&&n.length!==a.length)return"not_eligible"}},l.limitWays=function(e){return arguments.length?(n=e,l):n},l.keepHistoryOn=function(e){return arguments.length?(r=e,l):r},l}function kr(e,t){if(!(this instanceof kr))return new kr(e,t);if(e instanceof kr){var n=e.base();this.entities=Object.assign(Object.create(n.entities),e.entities),this._parentWays=Object.assign(Object.create(n.parentWays),e._parentWays),this._parentRels=Object.assign(Object.create(n.parentRels),e._parentRels)}else this.entities=Object.create({}),this._parentWays=Object.create({}),this._parentRels=Object.create({}),this.rebase(e||[],[this]);this.transients={},this._childNodes={},this.frozen=!t}function qa(e){if(!(this instanceof qa))return new qa(e);Object.assign(this,e)}function L3(e,t,n){n=n||30;var r,i,a,o,s=kr();function l(e){if(e.isArea()||e.isDegenerate())return!1;return{motorway:!0,motorway_link:!0,trunk:!0,trunk_link:!0,primary:!0,primary_link:!0,secondary:!0,secondary_link:!0,tertiary:!0,tertiary_link:!0,residential:!0,unclassified:!0,living_street:!0,service:!0,road:!0,track:!0}[e.tags.highway]}for(var c,u,d,p,f,h=e.entity(t),g=[h],m=[],y=[],v=[],b=[],w=[],_=[],k=[];g.length;){u=g.pop(),c=e.parentWays(u);var x=!1;for(r=0;r<c.length;r++)if(l(d=c[r])||(o=d,e.parentRelations(o).some((function(e){return e.isRestriction()}))))for(v.push(d),x=!0,w=Te(e.childNodes(d)),i=0;i<w.length;i++)if((p=w[i])!==u&&-1===m.indexOf(p)&&!(rt(p.loc,h.loc)>n)){var A=!1;for(_=e.parentWays(p),a=0;a<_.length;a++)if((f=_[a])!==d&&-1===v.indexOf(f)&&l(f)){A=!0;break}A&&g.push(p)}x&&m.push(u)}m=Te(m),(v=Te(v)).forEach((function(t){e.childNodes(t).forEach((function(e){s=s.replace(e)})),s=s.replace(t),e.parentRelations(t).forEach((function(t){t.isRestriction()&&(t.isValidRestriction(e)?s=s.replace(t):t.isComplete(e)&&k.push(cr(t.id)))}))})),v.forEach((function(e){var t=s.entity(e.id);if("-1"===t.tags.oneway){var n=Mn(t.id,{reverseOneway:!0});k.push(n),s=n(s)}}));var E=ye.id.next.way;function C(e,t){var n=e.isOneWay(),r=-1!==t.indexOf(e.first()),i=-1!==t.indexOf(e.last()),a=r&&i,o=r&&!n||i,s=r||i&&!n;return e.update({__first:r,__last:i,__from:o,__via:a,__to:s,__oneWay:n})}m.forEach((function(e){var t=ea([e.id]).keepHistoryOn("first");t.disabled(s)||t.ways(s).forEach((function(t){var n=ea([e.id]).limitWays([t.id]).keepHistoryOn("first");k.push(n),s=n(s)}))})),ye.id.next.way=E,y=m.map((function(e){return e.id})),m=[],v=[],y.forEach((function(e){var t=s.entity(e),n=s.parentWays(t);m.push(t),v=v.concat(n)})),m=Te(m),v=Te(v),y=m.map((function(e){return e.id})),b=v.map((function(e){return e.id})),v=[],b.forEach((function(e){var t=C(s.entity(e),y);s=s.replace(t),v.push(t)}));var S,M=[],N=[];do{for(S=!1,g=y.slice(),r=0;r<g.length;r++){var I=g[r];if(u=s.hasEntity(I)){if((_=s.parentWays(u)).length<3&&-1!==y.indexOf(I)&&y.splice(y.indexOf(I),1),2===_.length){var D,P,O=_[0],T=_[1],F=O&&!O.__via,R=T&&!T.__via;F&&!R?(D=O,P=T):!F&&R&&(D=T,P=O),D&&P&&(P=C(P,y),s=s.replace(P).remove(D),M.push(D.id),S=!0)}(_=s.parentWays(u)).length<2&&(-1!==y.indexOf(I)&&y.splice(y.indexOf(I),1),N.push(I),S=!0),_.length<1&&(s=s.remove(u))}else-1!==y.indexOf(I)&&y.splice(y.indexOf(I),1),N.push(I)}}while(S);m=m.filter((function(e){return-1===N.indexOf(e.id)})).map((function(e){return s.entity(e.id)})),v=v.filter((function(e){return-1===M.indexOf(e.id)})).map((function(e){return s.entity(e.id)}));var j={graph:s,actions:k,vertices:m,ways:v};return j.turns=function(e,t){if(!e)return[];t||(t=0);var r=j.graph,i=j.vertices.map((function(e){return e.id})),o=r.entity(e);if(!o||!o.__from&&!o.__via)return[];var s=2*t+3,l=[];return function t(o,c,u,d){if(!((c=(c||[]).slice()).length>=s)){var p,f;if(c.push(o.id),u=(u||[]).slice(),"node"===o.type){var h=r.parentWays(o),g=[];for(p=0;p<h.length;p++){var m=h[p];if((!m.__oneWay||m.nodes[0]===o.id)&&!(-1!==c.indexOf(m.id)&&c.length>=3)){var y=null;for(f=0;f<u.length;f++){var v=u[f],b=v.memberByRole("from"),w=v.membersByRole("via"),_=v.memberByRole("to"),k=/^only_/.test(v.tags.restriction),x=b.id===e,A=!1,E=!1;if(_.id===m.id)if(1===w.length&&"node"===w[0].type)A=w[0].id===o.id&&(x&&2===c.length||!x&&c.length>2);else{var C=[];for(a=2;a<c.length;a+=2)C.push(c[a]);var S=[];for(a=0;a<w.length;a++)"way"===w[a].type&&S.push(w[a].id);var M=Vt(C,S);A=!M.length}else if(k)for(a=0;a<w.length;a++)if("way"===w[a].type&&w[a].id===m.id){E=!0;break}if(A?y=k?{id:v.id,direct:x,from:b.id,only:!0,end:!0}:{id:v.id,direct:x,from:b.id,no:!0,end:!0}:E?y={id:v.id,direct:!1,from:b.id,only:!0,end:!1}:k&&(y={id:v.id,direct:!1,from:b.id,no:!0,end:!0}),y&&y.direct)break}g.push({way:m,restrict:y})}}g.forEach((function(e){t(e.way,c,u,e.restrict)}))}else{if(c.length>=3){var N=c.slice();if(d&&!1===d.direct)for(p=0;p<N.length;p++)if(N[p]===d.from){N=N.slice(p);break}var I=function(e){if(e.length<3)return;var t,n,i,a,o,s,l,c,u;if(t=e[0],a=e[e.length-1],3===e.length&&t===a){if(r.entity(t).__oneWay)return null;u=!0,c=i=s=e[1],n=o=d(t,c)}else u=!1,i=e[1],n=d(t,i),s=e[e.length-2],o=d(a,s),3===e.length?c=e[1]:l=(l=e.filter((function(e){return"w"===e[0]}))).slice(1,l.length-1);return{key:e.join("_"),path:e,from:{node:n,way:t,vertex:i},via:{node:c,ways:l},to:{node:o,way:a,vertex:s},u:u};function d(e,t){var n=r.entity(e).nodes;return t===n[0]?n[1]:n[n.length-2]}}(N);if(I&&(d&&(I.restrictionID=d.id,I.no=d.no,I.only=d.only,I.direct=d.direct),l.push(qa(I))),c[0]===c[2])return}if(d&&d.end)return;var D=r.entity(o.first()),P=r.entity(o.last()),O=rt(D.loc,P.loc),T=[];if(c.length>1&&(O>n||!o.__via))return;!o.__oneWay&&-1!==i.indexOf(D.id)&&-1===c.indexOf(D.id)&&T.push(D),-1!==i.indexOf(P.id)&&-1===c.indexOf(P.id)&&T.push(P),T.forEach((function(e){var n=r.parentRelations(o).filter((function(t){if(!t.isRestriction())return!1;var n=t.memberByRole("from");if(!n||n.id!==o.id)return!1;if(!/^only_/.test(t.tags.restriction))return!0;var i=!1,a=t.membersByRole("via");if(1===a.length&&"node"===a[0].type)i=a[0].id===e.id;else for(var s=0;s<a.length;s++)if("way"===a[s].type){var l=r.entity(a[s].id);if(l.first()===e.id||l.last()===e.id){i=!0;break}}return i}));t(e,c,u.concat(n),!1)}))}}}(o),l},j}function K1(e,t,n){for(var r=e.entity(t.from.way),i=e.entity(t.from.node),a=e.entity(t.from.vertex),o=e.entity(t.to.way),s=e.entity(t.to.node),l=e.entity(t.to.vertex),c="yes"===r.tags.oneway,u="yes"===o.tags.oneway,d=180*(pr(a,i,n)-pr(l,s,n))/Math.PI;d<0;)d+=360;return i===s||(d<23||d>336)&&c&&u||(d<40||d>319)&&c&&u&&t.from.vertex!==t.to.vertex?"no_u_turn":d<158?"no_right_turn":d>202?"no_left_turn":"no_straight_on"}function B3(e,t){function n(t){var n=Ct(e.map((function(e){return t.entity(e)})),(function(e){return"way"===e.type&&e.isClosed()?"closedWay":"relation"===e.type&&e.isMultipolygon()?"multipolygon":"other"}));return Object.assign({closedWay:[],multipolygon:[],other:[]},n)}var r=function(e){for(var r=n(e),i=r.multipolygon.reduce((function(t,n){return t.concat(zr(n.members,e))}),[]).concat(r.closedWay.map((function(t){var n=[{id:t.id}];return n.nodes=e.childNodes(t),n}))),a=i.map((function(e,t){return i.map((function(n,r){return t===r?null:_1(n.nodes.map((function(e){return e.loc})),e.nodes.map((function(e){return e.loc})))}))})),o=[],s=!0;i.length;)i.forEach((function(e,t){c(e,t)||e.forEach((function(e){o.push({type:"way",id:e.id,role:s?"outer":"inner"})}))})),s=!s,i=i.filter(c),a=a.filter(c).map(u);var l;function c(e,t){return a[t].some((function(e){return e}))}function u(e){return e.filter(c)}if(r.multipolygon.length>0){var d=Zi(r.multipolygon.map(e=>e.id));l=r.multipolygon.find(e=>e.id===d)}else l=gr({id:t,tags:{type:"multipolygon"}});return r.multipolygon.forEach((function(t){t.id!==l.id&&(l=l.mergeTags(t.tags),e=e.remove(t))})),r.closedWay.forEach((function(t){o.some((function(e){return e.id===t.id&&"inner"!==e.role}))&&(l=l.mergeTags(t.tags),e=e.replace(t.update({tags:{}})))})),e.replace(l.update({members:o,tags:Mr(l.tags,["area"])}))};return r.disabled=function(e){var t=n(e);if(t.other.length>0||t.closedWay.length+t.multipolygon.length<2)return"not_eligible";if(!t.multipolygon.every((function(t){return t.isComplete(e)})))return"incomplete_relation";if(t.multipolygon.length){if(t.closedWay.some((function(n){return Xt(e.parentMultipolygons(n),t.multipolygon).length})))return"not_eligible"}else{var r=[];if(t.closedWay.forEach((function(t,n){r=0===n?e.parentMultipolygons(t):Xt(r,e.parentMultipolygons(t))})),(r=r.filter((function(e){return e.members.length===t.closedWay.length}))).length)return"not_eligible"}},r}Et.nextId=-1,kr.prototype={hasEntity:function(e){return this.entities[e]},entity:function(e){var t=this.entities[e];if(t||(t=this.entities.__proto__[e]),!t)throw new Error("entity "+e+" not found");return t},geometry:function(e){return this.entity(e).geometry(this)},transient:function(e,t,n){var r=e.id,i=this.transients[r]||(this.transients[r]={});return void 0!==i[t]||(i[t]=n.call(e)),i[t]},parentWays:function(e){var t=this._parentWays[e.id],n=[];return t&&t.forEach((function(e){n.push(this.entity(e))}),this),n},isPoi:function(e){var t=this._parentWays[e.id];return!t||0===t.size},isShared:function(e){var t=this._parentWays[e.id];return t&&t.size>1},parentRelations:function(e){var t=this._parentRels[e.id],n=[];return t&&t.forEach((function(e){n.push(this.entity(e))}),this),n},parentMultipolygons:function(e){return this.parentRelations(e).filter((function(e){return e.isMultipolygon()}))},childNodes:function(e){if(this._childNodes[e.id])return this._childNodes[e.id];if(!e.nodes)return[];for(var t=[],n=0;n<e.nodes.length;n++)t[n]=this.entity(e.nodes[n]);return c2&&Object.freeze(t),this._childNodes[e.id]=t,this._childNodes[e.id]},base:function(){return{entities:Object.getPrototypeOf(this.entities),parentWays:Object.getPrototypeOf(this._parentWays),parentRels:Object.getPrototypeOf(this._parentRels)}},rebase:function(e,t,n){var r,i,a,o,s=this.base();for(r=0;r<e.length;r++){var l=e[r];if(l.visible&&(n||!s.entities[l.id])&&(s.entities[l.id]=l,this._updateCalculated(void 0,l,s.parentWays,s.parentRels),"way"===l.type))for(i=0;i<l.nodes.length;i++)for(o=l.nodes[i],a=1;a<t.length;a++){var c=t[a].entities;c.hasOwnProperty(o)&&void 0===c[o]&&delete c[o]}}for(r=0;r<t.length;r++)t[r]._updateRebased()},_updateRebased:function(){var e=this.base();Object.keys(this._parentWays).forEach((function(t){e.parentWays[t]&&e.parentWays[t].forEach((function(e){this.entities.hasOwnProperty(e)||this._parentWays[t].add(e)}),this)}),this),Object.keys(this._parentRels).forEach((function(t){e.parentRels[t]&&e.parentRels[t].forEach((function(e){this.entities.hasOwnProperty(e)||this._parentRels[t].add(e)}),this)}),this),this.transients={}},_updateCalculated:function(e,t,n,r){n=n||this._parentWays,r=r||this._parentRels;var i,a,o,s=t&&t.type||e&&e.type;if("way"===s){for(e&&t?(i=Vt(e.nodes,t.nodes),a=Vt(t.nodes,e.nodes)):e?(i=e.nodes,a=[]):t&&(i=[],a=t.nodes),o=0;o<i.length;o++)n[i[o]]=new Set(n[i[o]]),n[i[o]].delete(e.id);for(o=0;o<a.length;o++)n[a[o]]=new Set(n[a[o]]),n[a[o]].add(t.id)}else if("relation"===s){var l=e?e.members.map((function(e){return e.id})):[],c=t?t.members.map((function(e){return e.id})):[];for(e&&t?(i=Vt(l,c),a=Vt(c,l)):e?(i=l,a=[]):t&&(i=[],a=c),o=0;o<i.length;o++)r[i[o]]=new Set(r[i[o]]),r[i[o]].delete(e.id);for(o=0;o<a.length;o++)r[a[o]]=new Set(r[a[o]]),r[a[o]].add(t.id)}},replace:function(e){return this.entities[e.id]===e?this:this.update((function(){this._updateCalculated(this.entities[e.id],e),this.entities[e.id]=e}))},remove:function(e){return this.update((function(){this._updateCalculated(e,void 0),this.entities[e.id]=void 0}))},revert:function(e){var t=this.base().entities[e],n=this.entities[e];return n===t?this:this.update((function(){this._updateCalculated(n,t),delete this.entities[e]}))},update:function(){for(var e=this.frozen?kr(this,!0):this,t=0;t<arguments.length;t++)arguments[t].call(e,e);return this.frozen&&(e.frozen=!0),e},load:function(e){var t=this.base();for(var n in this.entities=Object.create(t.entities),e)this.entities[n]=e[n],this._updateCalculated(t.entities[n],this.entities[n]);return this}};var X1=je(zn());function qE(e,t){let n={};for(let i=0;i<t.length;i++){let e=t[i];n[e]?n[e].push(i):n[e]=[i]}let r=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let i=0;i<e.length;i++){let t=n[e[i]]||[],a=0,o=r[0];for(let e=0;e<t.length;e++){let n,s=t[e];for(n=a;n<r.length&&!(r[n].buffer2index<s&&(n===r.length-1||r[n+1].buffer2index>s));n++);if(n<r.length){let e={buffer1index:i,buffer2index:s,chain:r[n]};if(a===r.length?r.push(o):r[a]=o,a=n+1,o=e,a===r.length)break}}r[a]=o}return r[r.length-1]}function hh(e,t){let n=qE(e,t),r=[],i=e.length,a=t.length;for(let o=n;null!==o;o=o.chain){let n=i-o.buffer1index-1,s=a-o.buffer2index-1;i=o.buffer1index,a=o.buffer2index,(n||s)&&r.push({buffer1:[i+1,n],buffer1Content:e.slice(i+1,i+1+n),buffer2:[a+1,s],buffer2Content:t.slice(a+1,a+1+s)})}return r.reverse(),r}function VE(e,t,n){let r=[];function i(e,t){r.push({ab:t,oStart:e.buffer1[0],oLength:e.buffer1[1],abStart:e.buffer2[0],abLength:e.buffer2[1]})}hh(t,e).forEach(e=>i(e,"a")),hh(t,n).forEach(e=>i(e,"b")),r.sort((e,t)=>e.oStart-t.oStart);let a=[],o=0;function s(e){e>o&&(a.push({stable:!0,buffer:"o",bufferStart:o,bufferLength:e-o,bufferContent:t.slice(o,e)}),o=e)}for(;r.length;){let i=r.shift(),l=i.oStart,c=i.oStart+i.oLength,u=[i];for(s(l);r.length;){let e=r[0],t=e.oStart;if(t>c)break;c=Math.max(c,t+e.oLength),u.push(r.shift())}if(1===u.length){if(i.abLength>0){let t="a"===i.ab?e:n;a.push({stable:!0,buffer:i.ab,bufferStart:i.abStart,bufferLength:i.abLength,bufferContent:t.slice(i.abStart,i.abStart+i.abLength)})}}else{let r={a:[e.length,-1,t.length,-1],b:[n.length,-1,t.length,-1]};for(;u.length;){i=u.shift();let e=i.oStart,t=e+i.oLength,n=i.abStart,a=n+i.abLength,o=r[i.ab];o[0]=Math.min(n,o[0]),o[1]=Math.max(a,o[1]),o[2]=Math.min(e,o[2]),o[3]=Math.max(t,o[3])}let o=r.a[0]+(l-r.a[2]),s=r.a[1]+(c-r.a[3]),d=r.b[0]+(l-r.b[2]),p=r.b[1]+(c-r.b[3]),f={stable:!1,aStart:o,aLength:s-o,aContent:e.slice(o,s),oStart:l,oLength:c-l,oContent:t.slice(l,c),bStart:d,bLength:p-d,bContent:n.slice(d,p)};a.push(f)}o=c}return s(t.length),a}function gh(e,t,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r),"string"==typeof e&&(e=e.split(r.stringSeparator)),"string"==typeof t&&(t=t.split(r.stringSeparator)),"string"==typeof n&&(n=n.split(r.stringSeparator));let i=[],a=VE(e,t,n),o=[];function s(){o.length&&i.push({ok:o}),o=[]}return a.forEach(e=>{e.stable?o.push(...e.bufferContent):r.excludeFalseConflicts&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(e.aContent,e.bContent)?o.push(...e.aContent):(s(),i.push({conflict:{a:e.aContent,aIndex:e.aStart,o:e.oContent,oIndex:e.oStart,b:e.bContent,bIndex:e.bStart}}))}),s(),i}var vh=je(u2());function Y1(e,t,n,r,i){r=r||{};var a="safe",o=[];function s(e){return"function"==typeof i?i(e):(0,vh.default)(e)}function l(e,t){return"force_local"===a||function(e,t){var n=1e-6;return Math.abs(e[0]-t[0])<n&&Math.abs(e[1]-t[1])<n}(t.loc,e.loc)?t:"force_remote"===a?t.update({loc:e.loc}):(o.push(C.html("merge_remote_changes.conflict.location",{user:{html:s(e.user)}})),t)}function c(e,r,i,c){function u(e,t){var n=c.parentWays(e).some((function(e){return e.id!==t.id}));return e.hasInterestingTags()||n||c.parentRelations(e).length>0}for(var d=o.length,p=0;p<r.length;p++){var f=r[p],h=c.hasEntity(f);if(-1!==e.nodes.indexOf(f)){var g,m=t.hasEntity(f),y=n.hasEntity(f);if("force_remote"===a&&y&&y.visible)i.replacements.push(y);else if("force_local"===a&&m)g=ye(m),y&&(g=g.update({version:y.version})),i.replacements.push(g);else if("safe"===a&&m&&y&&m.version!==y.version){if(g=ye(m,{version:y.version}),y.visible?g=l(y,g):o.push(C.html("merge_remote_changes.conflict.deleted",{user:{html:s(y.user)}})),o.length!==d)break;i.replacements.push(g)}}else h&&!u(h,e)&&i.removeIds.push(f)}return e}function u(e,t){for(var n=0;n<e.replacements.length;n++)t=t.replace(e.replacements[n]);return e.removeIds.length&&(t=Ji(e.removeIds)(t)),t}var d=function(i){var d={replacements:[],removeIds:[]},p=i.base().entities[e],f=t.entity(e),h=n.entity(e),g=ye(f,{version:h.version});return h.visible?("node"===g.type?g=l(h,g):"way"===g.type?(i.rebase(n.childNodes(h),[i],!1),g=c(g=function(e,t,n){if("force_local"===a||(0,X1.default)(n.nodes,t.nodes))return n;if("force_remote"===a)return n.update({nodes:t.nodes});for(var r=o.length,i=e.nodes||[],l=[],c=gh(n.nodes||[],i,t.nodes||[],{excludeFalseConflicts:!0}),u=0;u<c.length;u++){var d=c[u];if(d.ok)l.push.apply(l,d.ok);else{var p=d.conflict;if((0,X1.default)(p.o,p.a))l.push.apply(l,p.b);else{if(!(0,X1.default)(p.o,p.b)){o.push(C.html("merge_remote_changes.conflict.nodelist",{user:{html:s(t.user)}}));break}l.push.apply(l,p.a)}}}return o.length===r?n.update({nodes:l}):n}(p,h,g),xt(f.nodes,h.nodes),d,i)):"relation"===g.type&&(g=function(e,t){return"force_local"===a||(0,X1.default)(t.members,e.members)?t:"force_remote"===a?t.update({members:e.members}):(o.push(C.html("merge_remote_changes.conflict.memberlist",{user:{html:s(e.user)}})),t)}(h,g)),g=function(e,t,n){if("force_local"===a||(0,X1.default)(n.tags,t.tags))return n;if("force_remote"===a)return n.update({tags:t.tags});for(var i=o.length,l=e.tags||{},c=n.tags||{},u=t.tags||{},d=xt(xt(Object.keys(l),Object.keys(c)),Object.keys(u)).filter((function(e){return!r[e]})),p=Object.assign({},c),f=!1,h=0;h<d.length;h++){var g=d[h];l[g]!==u[g]&&c[g]!==u[g]&&(l[g]!==c[g]?o.push(C.html("merge_remote_changes.conflict.tags",{tag:g,local:c[g],remote:u[g],user:{html:s(t.user)}})):(u.hasOwnProperty(g)?p[g]=u[g]:delete p[g],f=!0))}return f&&o.length===i?n.update({tags:p}):n}(p,h,g),o.length||(i=u(d,i).replace(g)),i):"force_remote"===a?Ji([e])(i):"force_local"===a?("way"===g.type&&(g=c(g,Te(f.nodes),d,i),i=u(d,i)),i.replace(g)):(o.push(C.html("merge_remote_changes.conflict.deleted",{user:{html:s(h.user)}})),i)};return d.withOption=function(e){return a=e,d},d.conflicts=function(){return o},d}function Fi(e,t,n,r){var i=t;function a(e,t,i,a){var o,s,l,c=i.entity(t),u=i.entity(e),d=c.nodes.indexOf(e);c.isClosed()?(s=(d+(o=c.nodes.length-1)-1)%o,l=(d+o+1)%o):(o=c.nodes.length,s=d-1,l=d+1);var p=i.hasEntity(c.nodes[s]),f=i.hasEntity(c.nodes[l]);if(!p||!f)return i;var h,g,m=t+"_"+e,y=r.replacedVertex[m];y||(y=ot(),r.replacedVertex[m]=y,r.startLoc[y.id]=r.startLoc[e]),a?(h=n(r.startLoc[e]),g=n.invert($t(h,a))):g=r.startLoc[e],y=y.move(g);var v=180*Math.abs(pr(y,p,n)-pr(y,f,n))/Math.PI;if(v>175&&v<185)return i;var b=[p.loc,y.loc,u.loc,f.loc].map(n),w=[p.loc,u.loc,y.loc,f.loc].map(n),_=$i(b)<=$i(w)?d:l;return c.isClosed()&&0===_&&(_=o),c=c.addNode(y.id,_),i.replace(y).replace(c)}function o(e,t){var n,r,i=t.entity(e);function a(e,t){return t.parentWays(e).length>1||t.parentRelations(e).length||e.hasInterestingTags()}for(var o=0;o<i.nodes.length;o++)r=t.entity(i.nodes[o]),n&&r&&ur(n.loc,r.loc,1e-6)&&(a(n,t)?a(r,t)||(i=i.removeNode(r.id),t=t.replace(i).remove(r)):(i=i.removeNode(n.id),t=t.replace(i).remove(n))),n=r;return t}function s(e,t){var r=t.entity(e.nodeId),i=t.entity(e.movedId),a=t.entity(e.unmovedId),o=e.movedIsEP,s=e.unmovedIsEP;if(o&&s)return t;var l=t.childNodes(i).filter((function(e){return e!==r})),c=t.childNodes(a).filter((function(e){return e!==r}));i.isClosed()&&i.first()===r.id&&l.push(l[0]),a.isClosed()&&a.first()===r.id&&c.push(c[0]);var u,d=!o&&wr(l,n(r.loc),n),p=!s&&wr(c,n(r.loc),n);if(o||s)u=o?p.loc:d.loc;else for(var f=0;f<10&&(u=gt(d.loc,p.loc,.5),d=wr(l,n(u),n),p=wr(c,n(u),n),!(Math.abs(d.distance-p.distance)<1e-6));f++);return t=t.replace(r.move(u)),!o&&d.index!==i.nodes.indexOf(r.id)&&(i=i.removeNode(r.id).addNode(r.id,d.index),t=t.replace(i)),!s&&p.index!==a.nodes.indexOf(r.id)&&(a=a.removeNode(r.id).addNode(r.id,p.index),t=t.replace(a)),t}var l=function(t){if(0===i[0]&&0===i[1])return t;(function(t){r||(r={}),r.ok||(r.moving={},r.intersections=[],r.replacedVertex={},r.startLoc={},r.nodes=[],r.ways=[],function e(n){for(var i=0;i<n.length;i++){var a=n[i];if(!r.moving[a]){r.moving[a]=!0;var o=t.hasEntity(a);!o||("node"===o.type?(r.nodes.push(a),r.startLoc[a]=o.loc):"way"===o.type?(r.ways.push(a),e(o.nodes)):e(o.members.map((function(e){return e.id}))))}}}(e),function(e){function n(e,t){return!e.isClosed()&&!!e.affix(t)}for(var i=0;i<e.length;i++)for(var a=e[i],o=t.childNodes(t.entity(a)),s=0;s<o.length;s++){var l=o[s],c=t.parentWays(l);if(2===c.length){for(var u=t.entity(a),d=null,p=0;p<c.length;p++){var f=c[p];if(!r.moving[f.id]){d=f;break}}!d||Xt(u.nodes,d.nodes).length>2||u.isArea()||d.isArea()||r.intersections.push({nodeId:l.id,movedId:u.id,unmovedId:d.id,movedIsEP:n(u,l.id),unmovedIsEP:n(d,l.id)})}}}(r.ways),r.nodes=r.nodes.filter((function(n){if(-1!==e.indexOf(n))return!0;var i=t.parentWays(t.entity(n));if(i.length<3)return!0;var a=i.every((function(e){return r.moving[e.id]}));return a||delete r.moving[n],a})),r.ok=!0)})(t),r.intersections.length&&function(e){function t(e){return $t(n(e),i)}for(var a=0;a<r.intersections.length;a++){var o=r.intersections[a];if((!o.movedIsEP||!o.unmovedIsEP)&&o.movedIsEP)for(var s=e.entity(o.nodeId),l=n(s.loc),c=$t(l,i),u=e.childNodes(e.entity(o.movedId)).map((function(e){return t(e.loc)})),d=e.childNodes(e.entity(o.unmovedId)),p=w1(u,d.map((function(e){return n(e.loc)})));a<p.length;a++)if(!ur(p[0],c)){var f=wr(d,c,n);i=pt(n(f.loc),l)}}}(t);for(var l=0;l<r.nodes.length;l++){var c=t.entity(r.nodes[l]),u=$t(n(c.loc),i);t=t.replace(c.move(n.invert(u)))}return r.intersections.length&&(t=function(e){for(var t=0;t<r.intersections.length;t++){var n=r.intersections[t];e=a(n.nodeId,n.movedId,e,i),e=s(n,e=a(n.nodeId,n.unmovedId,e,null)),e=o(n.movedId,e),e=o(n.unmovedId,e)}return e}(t)),t};return l.delta=function(){return i},l}function U3(e,t,n){return function(r){return r.replace(r.entity(e).moveMember(t,n))}}function Va(e,t){var n=function(n,r){(null===r||!isFinite(r))&&(r=1),r=Math.min(Math.max(+r,0),1);var i=n.entity(e);return n.replace(i.move(gt(i.loc,t,r)))};return n.transitionable=!0,n}function Er(){return function(e){return e}}function ja(e,t,n,r,i){var a=i||1e-4,o=r||13,s=Math.cos((90-o)*Math.PI/180),l=Math.cos(o*Math.PI/180),c=function(r,i){(null===i||!isFinite(i))&&(i=1),i=Math.min(Math.max(+i,0),1);var c=r.entity(e);if((c=c.removeNode("")).tags.nonsquare){var d=Object.assign({},c.tags);delete d.nonsquare,c=c.update({tags:d})}r=r.replace(c);var p=c.isClosed(),f=r.childNodes(c).slice();if(p&&f.pop(),void 0!==n&&3!==(f=u(f,n,p)).length)return r;var h,g,m,y,v,b,w,_={},k=[],x={i:0,dotp:1};for(b=0;b<f.length;b++)h=f[b],_[h.id]=(_[h.id]||0)+1,k.push({id:h.id,coord:t(h.loc)});if(3===k.length){for(b=0;b<1e3&&(v=k.map(F),k[x.i].coord=$t(k[x.i].coord,v[x.i]),!((y=x.dotp)<a));b++);h=r.entity(f[x.i].id),m=t.invert(k[x.i].coord),r=r.replace(h.move(gt(h.loc,m,i)))}else{var A=[],E=[];for(b=0;b<k.length;b++){g=k[b];var C=0;if(p||b>0&&b<k.length-1){var S=k[(b-1+k.length)%k.length],M=k[(b+1)%k.length];C=Math.abs(ho(S.coord,M.coord,g.coord))}C>l?A.push(g):E.push(g)}var N=T(E),I=T(E);for(y=1/0,b=0;b<1e3;b++){for(v=E.map(F),w=0;w<v.length;w++)E[w].coord=$t(E[w].coord,v[w]);var D=s3(E,p,a,o);if(D<y&&(N=T(E),y=D),y<a)break}var P=N.map((function(e){return e.coord}));for(p&&P.push(P[0]),b=0;b<N.length;b++)g=N[b],ur(I[b].coord,g.coord)||(h=r.entity(g.id),m=t.invert(g.coord),r=r.replace(h.move(gt(h.loc,m,i))));for(b=0;b<A.length;b++)if(g=A[b],!(_[g.id]>1))if(h=r.entity(g.id),1!==i||1!==r.parentWays(h).length||0!==r.parentRelations(h).length||h.hasInterestingTags()){var O=T0(g.coord,P);O&&(m=t.invert(O.target),r=r.replace(h.move(gt(h.loc,m,i))))}else r=Ci(h.id)(r)}return r;function T(e){return e.map((function(e){return{id:e.id,coord:[e.coord[0],e.coord[1]]}}))}function F(e,t,n){if(!p&&(0===t||t===n.length-1))return[0,0];if(_[n[t].id]>1)return[0,0];var r=n[(t-1+n.length)%n.length].coord,i=e.coord,a=n[(t+1)%n.length].coord,o=pt(r,i),l=pt(a,i),c=2*Math.min(Qe(o),Qe(l));o=va(o),l=va(l);var u=o[0]*l[0]+o[1]*l[1],d=Math.abs(u);return d<s?(x.i=t,x.dotp=d,bn(va($t(o,l)),.1*u*c)):[0,0]}};function u(e,t,n){for(var r=n?0:1,i=n?e.length:e.length-1,a=r;a<i;a++)if(e[a].id===t)return[e[(a-1+e.length)%e.length],e[a],e[(a+1)%e.length]];return[]}return c.disabled=function(r){var i=r.entity(e);i=i.removeNode(""),r=r.replace(i);var s=i.isClosed(),l=r.childNodes(i).slice();s&&l.pop();var c=!1;if(void 0!==n&&(c=!0,3!==(l=u(l,n,s)).length))return"end_vertex";var d=M1(l.map((function(e){return t(e.loc)})),s,a,o,c);return null===d?"not_squarish":0===d&&"square_enough"},c.transitionable=!0,c}function Z1(e,t,n){return function(r){var i=r.entity(e.from.way),a=r.entity(e.to.way),o=e.via.node&&r.entity(e.via.node),s=e.via.ways&&e.via.ways.map((function(e){return r.entity(e)})),l=[];return l.push({id:i.id,type:"way",role:"from"}),o?l.push({id:o.id,type:"node",role:"via"}):s&&s.forEach((function(e){l.push({id:e.id,type:"way",role:"via"})})),l.push({id:a.id,type:"way",role:"to"}),r.replace(gr({id:n,tags:{type:"restriction",restriction:t},members:l}))}}function d2(e){return function(t){var n=t.hasEntity(e),r=t.base().entities[e];return n&&!r&&("node"===n.type&&t.parentWays(n).forEach((function(n){n=n.removeNode(e),t=t.replace(n),n.isDegenerate()&&(t=Un(n.id)(t))})),t.parentRelations(n).forEach((function(n){n=n.removeMembersWithID(e),t=t.replace(n),n.isDegenerate()&&(t=cr(n.id)(t))}))),t.revert(e)}}function z3(e,t,n,r){return function(i){return i.update((function(i){_t(e,i).forEach((function(e){var a=xa([r(e.loc)],n,t)[0];i=i.replace(e.move(r.invert(a)))}))}))}}function q3(e,t,n,r){return function(i){return i.update((function(i){let a,o;_t(e,i).forEach((function(e){a=r(e.loc),o=[a[0]-t[0],a[1]-t[1]],a=[t[0]+n*o[0],t[1]+n*o[1]],i=i.replace(e.move(r.invert(a)))}))}))}}function V3(e,t){function n(e,t,n){return fn(e,n,t)/fn(n,n,t)}function r(e){var t=k1(e),n=[(t.poly[0][0]+t.poly[1][0])/2,(t.poly[0][1]+t.poly[1][1])/2],r=[(t.poly[2][0]+t.poly[3][0])/2,(t.poly[2][1]+t.poly[3][1])/2],i=[(t.poly[3][0]+t.poly[4][0])/2,(t.poly[3][1]+t.poly[4][1])/2],a=[(t.poly[1][0]+t.poly[2][0])/2,(t.poly[1][1]+t.poly[2][1])/2];return Qe(n,r)>Qe(i,a)?[n,r]:[i,a]}var i=function(i,a){(null===a||!isFinite(a))&&(a=1),a=Math.min(Math.max(+a,0),1);for(var o=e.map((function(e){return i.entity(e)})),s=o.map((function(e){return t(e.loc)})),l=r(s),c=l[0],u=l[1],d=0;d<s.length;d++){var p=o[d],f=gt(c,u,n(s[d],c,u)),h=t.invert(f);i=i.replace(p.move(gt(p.loc,h,a)))}return i};return i.disabled=function(i){for(var a=e.map((function(e){return i.entity(e)})).map((function(e){return t(e.loc)})),o=r(a),s=o[0],l=o[1],c=0,u=0;u<a.length;u++){var d=a[u],p=Qe(gt(s,l,n(d,s,l)),d);!isNaN(p)&&p>c&&(c=p)}if(c<1e-4)return"straight_enough"},i.transitionable=!0,i}function j3(e,t){function n(e,t,n){return fn(e,n,t)/fn(n,n,t)}function r(t){for(var n=[],r=[],i=[],a=[],o=e.filter((function(e){return"way"===t.entity(e).type})),s=e.filter((function(e){return"node"===t.entity(e).type})),l=0;l<o.length;l++){n=t.entity(o[l]).nodes.slice(0),a.push(n),r.push(n[0]),i.push(n[n.length-1])}r=r.filter((function(e){return r.indexOf(e)===r.lastIndexOf(e)})),i=i.filter((function(e){return i.indexOf(e)===i.lastIndexOf(e)}));var c=Vt(r,i).concat(Vt(i,r))[0],u=[];n=[];for(var d=function(e,t){return t.filter((function(t){return t[0]===e||t[t.length-1]===e}))[0]};a.length;)a=Vt(a,[u=d(c,a)]),u[0]!==c&&u.reverse(),c=(n=n.concat(u))[n.length-1];if(2===s.length){var p=[n.indexOf(s[0]),n.indexOf(s[1])];p.sort((function(e,t){return e-t})),n=n.slice(p[0],p[1]+1)}return n.map((function(e){return t.entity(e)}))}function i(e,t){return t.parentWays(e).length>1||t.parentRelations(e).length||e.hasInterestingTags()}var a=function(e,a){(null===a||!isFinite(a))&&(a=1),a=Math.min(Math.max(+a,0),1);var o,s=r(e),l=s.map((function(e){return t(e.loc)})),c=l[0],u=l[l.length-1],d=[];for(o=1;o<l.length-1;o++){var p=s[o],f=l[o];if(a<1||i(p,e)){var h=gt(c,u,n(f,c,u)),g=t.invert(h);e=e.replace(p.move(gt(p.loc,g,a)))}else-1===d.indexOf(p)&&d.push(p)}for(o=0;o<d.length;o++)e=Ci(d[o].id)(e);return e};return a.disabled=function(e){var a,o=r(e),s=o.map((function(e){return t(e.loc)})),l=s[0],c=s[s.length-1],u=.2*Qe(l,c);if(0===u)return"too_bendy";var d=0;for(a=1;a<s.length-1;a++){var p=s[a],f=Qe(gt(l,c,n(p,l,c)),p);if(isNaN(f)||f>u)return"too_bendy";f>d&&(d=f)}var h=o.every((function(t,n){return 0===n||n===o.length-1||i(t,e)}));return d<1e-4&&h?"straight_enough":void 0},a.transitionable=!0,a}function p2(e){return function(t){return cr(e.restrictionID)(t)}}function Q3(e,t){var n=!0,r=function(r,i){(null===i||!isFinite(i))&&(i=1),i=Math.min(Math.max(+i,0),1);var a,o,s=_t(e,r),l=k1(s.map((function(e){return t(e.loc)}))),c=[(l.poly[0][0]+l.poly[1][0])/2,(l.poly[0][1]+l.poly[1][1])/2],u=[(l.poly[2][0]+l.poly[3][0])/2,(l.poly[2][1]+l.poly[3][1])/2],d=[(l.poly[3][0]+l.poly[4][0])/2,(l.poly[3][1]+l.poly[4][1])/2],p=[(l.poly[1][0]+l.poly[2][0])/2,(l.poly[1][1]+l.poly[2][1])/2],f=Qe(c,u)>Qe(d,p);n&&f||!n&&!f?(a=c,o=u):(a=d,o=p);for(var h=o[0]-a[0],g=o[1]-a[1],m=(h*h-g*g)/(h*h+g*g),y=2*h*g/(h*h+g*g),v=0;v<s.length;v++){var b=s[v],w=t(b.loc),_=[m*(w[0]-a[0])+y*(w[1]-a[1])+a[0],y*(w[0]-a[0])-m*(w[1]-a[1])+a[1]],k=t.invert(_);b=b.move(gt(b.loc,k,i)),r=r.replace(b)}return r};return r.useLongAxis=function(e){return arguments.length?(n=e,r):n},r.transitionable=!0,r}function $3(e,t,n){return function(r){var i,a,o=r.entity(e),s=Object.assign({},o.tags);for(var l in t)if(l in s)if("*"===t[l])i=s[l],delete s[l];else if(t[l]===s[l])delete s[l];else{var c=s[l].split(";").filter(Boolean),u=c.indexOf(t[l]);1===c.length||-1===u?delete s[l]:(n&&n[l]&&(a=u),c.splice(u,1),s[l]=c.join(";"))}if(n)for(var d in n){var p=n[d];if("*"===p){if(s[d]&&"no"!==s[d])continue;s[d]="yes"}else if("$1"===p)s[d]=i;else if(s[d]&&t[d]&&void 0!==a){var f=s[d].split(";").filter(Boolean);-1===f.indexOf(p)&&(f.splice(a,0,p),s[d]=f.join(";"))}else s[d]=p}return r.replace(o.update({tags:s}))}}function qn(e){function t(){e.map().minzoom(e.minEditableZoom())}return t.off=function(){e.map().minzoom(0)},t}function qr(e){var t,n,r=se("hover"),i=$(null),a=null,o=null,s=[],l="PointerEvent"in window?"pointer":"mouse";function c(e){t&&e.keyCode===Ie.modifierCodes.alt&&(i.selectAll(".hover").classed("hover-suppressed",!0).classed("hover",!1),i.classed("hover-disabled",!0),r.call("hover",this,null))}function u(e){t&&e.keyCode===Ie.modifierCodes.alt&&(i.selectAll(".hover-suppressed").classed("hover-suppressed",!1).classed("hover",!0),i.classed("hover-disabled",!1),r.call("hover",this,s))}function d(d){function p(e){var t=e.target&&e.target.__data__;return"object"!=typeof t?null:!(t instanceof ye)&&t.properties&&t.properties.entity instanceof ye?t.properties.entity:t}function f(t){if(-1!==e.mode().id.indexOf("drag")||t.pointerType&&"mouse"!==t.pointerType||!t.buttons){var n=p(t);n&&-1===s.indexOf(n)&&(s.push(n),g(t,s))}}function h(e){var t=p(e),n=s.indexOf(t);-1!==n&&(s.splice(n),g(e,s))}function g(o,s){i.selectAll(".hover").classed("hover",!1),i.selectAll(".hover-suppressed").classed("hover-suppressed",!1);var l=e.mode();if(!a&&("draw-line"===l.id||"draw-area"===l.id)){var c=s.find((function(e){return e instanceof ye&&"node"===e.type}));a=c&&c.id}s=s.filter((function(t){return!(t instanceof ye)||t.id!==a&&("node"!==t.type||!n||function(t){return"vertex"===t.geometry(e.graph())||ve.allowsVertex(t,e.graph())}(t))&&function(t){var n=e.mode();return"add-point"!==n.id||(n.preset.matchGeometry("vertex")||"way"!==t.type&&"vertex"!==t.geometry(e.graph()))}(t)}));var u="";for(var d in s){var p=s[d];if(p.__featurehash__)u+=", .data"+p.__featurehash__;else if(p instanceof Et)u+=", ."+p.service+".itemId-"+p.id;else if(p instanceof Rt)u+=", .note-"+p.id;else if(p instanceof ye&&(u+=", ."+p.id,"relation"===p.type))for(var f in p.members)u+=", ."+p.members[f].id}var h=t&&o&&o.altKey;u.trim().length&&(u=u.slice(1),i.selectAll(u).classed(h?"hover-suppressed":"hover",!0)),r.call("hover",this,!h&&s)}s=[],o?(a=o,o=null):a=null,(i=d).on(l+"over.hover",f).on(l+"out.hover",h).on(l+"down.hover",f),$(window).on(l+"up.hover pointercancel.hover",h,!0).on("keydown.hover",c).on("keyup.hover",u)}return d.off=function(e){e.selectAll(".hover").classed("hover",!1),e.selectAll(".hover-suppressed").classed("hover-suppressed",!1),e.classed("hover-disabled",!1),e.on(l+"over.hover",null).on(l+"out.hover",null).on(l+"down.hover",null),$(window).on(l+"up.hover pointercancel.hover",null,!0).on("keydown.hover",null).on("keyup.hover",null)},d.altDisables=function(e){return arguments.length?(t=e,d):t},d.ignoreVertex=function(e){return arguments.length?(n=e,d):n},d.initialNodeID=function(e){return o=e,d},fe(d,r,"on")}var m2=!1,Pu=null;function Di(e){var t,n,r=se("move","down","downcancel","click","clickWay","clickNode","undo","cancel","finish"),i=Ie("draw"),a=qr(e).altDisables(!0).ignoreVertex(!0).on("hover",e.ui().sidebar.hover),o=qn(e),s=!1,l=null,c="PointerEvent"in window?"pointer":"mouse";function u(t){var n=e.mode(),r=n&&-1!==n.id.indexOf("note");if(t.altKey||r)return{};var i=("keydown"===t.type?l&&l.target:t.target).__data__;return i&&i.properties&&i.properties.target?i:{}}function d(e){if(!n){var t=er(this);n={id:e.pointerId||"mouse",pointerLocGetter:t,downTime:+new Date,downLoc:t(e)},r.call("down",this,e,u(e))}}function p(r){if(n&&n.id===(r.pointerId||"mouse")){var i=n;if(n=null,t=r,!i.isCancelled){var a=+new Date,o=i.pointerLocGetter(r),s=Qe(i.downLoc,o);(s<4||s<12&&a-i.downTime<500)&&($(window).on("click.draw-block",(function(){r.stopPropagation()}),!0),e.map().dblclickZoomEnable(!1),window.setTimeout((function(){e.map().dblclickZoomEnable(!0),$(window).on("click.draw-block",null)}),500),y(r,o))}}}function f(e){if(n&&n.id===(e.pointerId||"mouse")&&!n.isCancelled){var i=n.pointerLocGetter(e);Qe(n.downLoc,i)>=4&&(n.isCancelled=!0,r.call("downcancel",this))}e.pointerType&&"mouse"!==e.pointerType||e.buttons||n||t&&"mouse"!==t.pointerType&&e.timeStamp-t.timeStamp<100||(l=e,r.call("move",this,e,u(e)))}function h(e){n&&n.id===(e.pointerId||"mouse")&&(n.isCancelled||r.call("downcancel",this),n=null)}function g(){s=!1}function m(){s=!0}function y(t,n){var i=u(t),a=i&&i.properties&&i.properties.entity,o=e.mode();if(a&&"node"===a.type&&function(t){return"vertex"===t.geometry(e.graph())||ve.allowsVertex(t,e.graph())}(a))r.call("clickNode",this,a,i);else if(a&&"way"===a.type&&("add-point"!==o.id||o.preset.matchGeometry("vertex"))){var s=wr(e.graph().childNodes(a),n,e.projection,e.activeID());if(s){var l=[a.nodes[s.index-1],a.nodes[s.index]];return void r.call("clickWay",this,s.loc,l,i)}}else if("add-point"!==o.id||o.preset.matchGeometry("point")){var c=e.projection.invert(n);r.call("click",this,c,i)}}function v(t){t.preventDefault(),t.stopPropagation();var n=e.map().mouse();m2&&Pu&&(Qe(Pu,n)>12&&(m2=!1));if(!m2&&!s&&l){Pu=n,m2=!0,$(window).on("keyup.space-block",(function(){t.preventDefault(),t.stopPropagation(),m2=!1,$(window).on("keyup.space-block",null)}));var r=e.map().mouse()||e.projection(e.map().center());y(t,r)}}function b(e){e.preventDefault(),r.call("undo")}function w(e){e.preventDefault(),r.call("cancel")}function _(e){e.preventDefault(),r.call("finish")}function k(t){return e.install(a),e.install(o),n=null,i.on("\u232b",b).on("\u2326",w).on("\u238b",_).on("\u21a9",_).on("space",v).on("\u2325space",v),t.on("mouseenter.draw",g).on("mouseleave.draw",m).on(c+"down.draw",d).on(c+"move.draw",f),$(window).on(c+"up.draw",p,!0).on("pointercancel.draw",h,!0),$(document).call(i),k}return k.off=function(t){e.ui().sidebar.hover.cancel(),e.uninstall(a),e.uninstall(o),t.on("mouseenter.draw",null).on("mouseleave.draw",null).on(c+"down.draw",null).on(c+"move.draw",null),$(window).on(c+"up.draw",null).on("pointercancel.draw",null),$(document).call(i.unbind)},k.hover=function(){return a},fe(k,r,"on")}var Fh=je(zn());function G3(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Ru(e){return function(){return e}}function Lu(e){return+e}var yh=[0,1];function J1(e){return e}function Bu(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ru(isNaN(t)?NaN:.5)}function jE(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}function QE(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Bu(i,r),a=n(o,a)):(r=Bu(r,i),a=n(a,o)),function(e){return a(r(e))}}function $E(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Bu(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=is(e,t,1,r)-1;return a[n](i[n](t))}}function bh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function GE(){var e,t,n,r,i,a,o=yh,s=yh,l=Rn,c=J1;function u(){var e=Math.min(o.length,s.length);return c!==J1&&(c=jE(o[0],o[e-1])),r=e>2?$E:QE,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(s,o.map(e),Gt)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,Lu),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=N7,u()},d.clamp=function(e){return arguments.length?(c=!!e||J1,u()):c!==J1},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function Uu(){return GE()(J1,J1)}function xh(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function So(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Mi(e){return(e=So(Math.abs(e)))?e[1]:NaN}function wh(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function _h(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}var HE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,zu;function Qa(e){if(!(t=HE.exec(e)))throw new Error("invalid format: "+e);var t;return new H3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function H3(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function kh(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}function Eh(e,t){var n=So(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(zu=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+So(e,Math.max(0,t+a-1))[0]}function qu(e,t){var n=So(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Qa.prototype=H3.prototype,H3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Vu={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:xh,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qu(100*e,t),r:qu,s:Eh,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ju(e){return e}var Ah=Array.prototype.map,Sh=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],W3,K3,X3;function Ch(e){var t=void 0===e.grouping||void 0===e.thousands?ju:wh(Ah.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?ju:_h(Ah.call(e.numerals,String)),o=void 0===e.percent?"%":e.percent+"",s=void 0===e.minus?"\u2212":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function c(e){var c=(e=Qa(e)).fill,u=e.align,d=e.sign,p=e.symbol,f=e.zero,h=e.width,g=e.comma,m=e.precision,y=e.trim,v=e.type;"n"===v?(g=!0,v="g"):Vu[v]||(void 0===m&&(m=12),y=!0,v="g"),(f||"0"===c&&"="===u)&&(f=!0,c="0",u="=");var b="$"===p?n:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===p?r:/[%p]/.test(v)?o:"",_=Vu[v],k=/[defgprs%]/.test(v);function x(e){var n,r,o,p=b,x=w;if("c"===v)x=_(e)+x,e="";else{var A=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:_(Math.abs(e),m),y&&(e=kh(e)),A&&0==+e&&"+"!==d&&(A=!1),p=(A?"("===d?d:s:"-"===d||"("===d?"":d)+p,x=("s"===v?Sh[8+zu/3]:"")+x+(A&&"("===d?")":""),k)for(n=-1,r=e.length;++n<r;)if(48>(o=e.charCodeAt(n))||o>57){x=(46===o?i+e.slice(n+1):e.slice(n))+x,e=e.slice(0,n);break}}g&&!f&&(e=t(e,1/0));var E=p.length+e.length+x.length,C=E<h?new Array(h-E+1).join(c):"";switch(g&&f&&(e=t(C+e,C.length?h-x.length:1/0),C=""),u){case"<":e=p+e+x+C;break;case"=":e=p+C+e+x;break;case"^":e=C.slice(0,E=C.length>>1)+p+e+x+C.slice(E);break;default:e=C+p+e+x}return a(e)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),x.toString=function(){return e+""},x}return{format:c,formatPrefix:function(e,t){var n=c(((e=Qa(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Mi(t)/3))),i=Math.pow(10,-r),a=Sh[8+r/3];return function(e){return n(i*e)+a}}}}function Qu(e){return W3=Ch(e),K3=W3.format,X3=W3.formatPrefix,W3}function $u(e){return Math.max(0,-Mi(Math.abs(e)))}function Gu(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Mi(t)/3)))-Mi(Math.abs(e)))}function Hu(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mi(t)-Mi(e))+1}function Wu(e,t,n,r){var i,a=G6(e,t,n);switch((r=Qa(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null==r.precision&&!isNaN(i=Gu(a,o))&&(r.precision=i),X3(r,o);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(i=Hu(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(i=$u(a))&&(r.precision=i-2*("%"===r.type))}return K3(r)}function Ku(e){var t=e.domain;return e.ticks=function(e){var n=t();return r0(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Wu(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=n0(l,c,n))===r)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function h2(){var e=Uu();return e.copy=function(){return bh(e,h2())},G3.apply(e,arguments),Ku(e)}function g2(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[is(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length&&(e=t),o},o.thresholds=function(){return i.slice()},o.copy=function(){return g2().domain([t,n]).range(a).unknown(e)},G3.apply(Ku(o),arguments)}function Vn(){var e,t=".selected.shadow, .selected .shadow",n=$(null),r="",i={},a=!1;function o(e,t,n,r){e=parseFloat(e),t=parseFloat(t);var i=g2().domain([0,1]).range(L7(Gt(e,t),n));return function(e){return String(i(e))+(r||"")}}function s(e){e.style("stroke-opacity",null).style("stroke-width",null).style("fill-opacity",null).style("r",null)}function l(e,t){var n="from"===t?"to":"from";e.styleTween("stroke-opacity",(function(e){return o(i[e.id][n].opacity,i[e.id][t].opacity,4)})).styleTween("stroke-width",(function(e){return o(i[e.id][n].width,i[e.id][t].width,4,"px")})).styleTween("fill-opacity",(function(e){return o(i[e.id][n].opacity,i[e.id][t].opacity,4)})).styleTween("r",(function(e){return o(i[e.id][n].width,i[e.id][t].width,4,"px")}))}function c(e){e.call(s).each((function(e){var t,n,r=$(this),a=r.node().tagName,o={from:{},to:{}};"circle"===a?(t=parseFloat(r.style("fill-opacity")||.5),n=parseFloat(r.style("r")||15.5)):(t=parseFloat(r.style("stroke-opacity")||.7),n=parseFloat(r.style("stroke-width")||10)),o.tag=a,o.from.opacity=.6*t,o.to.opacity=1.25*t,o.from.width=.7*n,o.to.width=n*("circle"===a?1.5:1),i[e.id]=o}))}function u(e,i){var o="from"===i?"to":"from",d=e.selectAll(t),p=e.attr("class");if(a||d.empty())return n.call(s),void(n=$(null));(!(0,Fh.default)(d.data(),n.data())||p!==r)&&(n.call(s),r=p,n=d.call(c));var f=!1;n.transition().duration(800).call(l,i).on("end",(function(){f||(e.call(u,o),f=!0),$(this).classed("selected")||s($(this))}))}function d(n){a=!1,e=Aa((function(){return!n.selectAll(t).empty()&&(n.call(u,"from"),e.stop(),!0)}),20)}return d.restartIfNeeded=function(t){n.empty()&&(t.call(u,"from"),e&&e.stop())},d.off=function(){a=!0,e&&e.stop(),n.interrupt().call(s)},d}function At(e){var t;function n(n){!e.map().withinEditableZoom()||t.availableForKeypress&&!t.availableForKeypress()||(n.preventDefault(),t.disabled()?e.ui().flash.duration(4e3).iconName("#iD-operation-"+t.id).iconClass("operation disabled").label(t.tooltip)():(e.ui().flash.duration(2e3).iconName("#iD-operation-"+t.id).iconClass("operation").label(t.annotation()||t.title)(),t.point&&t.point(null),t()))}function r(){return t&&t.available()&&e.keybinding().on(t.keys,n),r}return r.off=function(){e.keybinding().off(t.keys)},r.which=function(e){return arguments.length?(t=e,r):t},r}function Co(e,t){var n,r=t.map((function(t){var r=e.entity(t);return"way"!==r.type||new Set(r.nodes).size<=1?null:(n=n?n.extend(r.extent(e.graph())):r.extent(e.graph()),O3(t,e.projection))})).filter(Boolean),i=1===r.length?"single":"multiple",a=_t(t,e.graph()).map((function(e){return e.loc}));var o=function(){if(r.length){var t=function(e,t){return r.forEach((function(n){n.disabled(e)||(e=n(e,t))})),e};t.transitionable=!0,e.perform(t,o.annotation()),window.setTimeout((function(){e.validator().validate()}),300)}};return o.available=function(){return r.length&&t.length===r.length},o.disabled=function(){if(!r.length)return"";var i=r.map((function(t){return t.disabled(e.graph())})).filter(Boolean);return i.length===r.length?new Set(i).size>1?"multiple_blockers":i[0]:n.percentContainedIn(e.map().extent())<.8?"too_large":function(){if(e.inIntro())return!1;var t=e.connection();if(t){var n=a.filter((function(e){return!t.isDataLoaded(e)}));if(n.length)return n.forEach((function(t){e.loadTileAtLoc(t)})),!0}return!1}()?"not_downloaded":!!t.some(e.hasHiddenConnections)&&"connected_to_hidden"},o.tooltip=function(){var e=o.disabled();return C(e?"operations.circularize."+e+"."+i:"operations.circularize.description."+i)},o.annotation=function(){return C("operations.circularize.annotation.feature",{n:r.length})},o.id="circularize",o.keys=[C("operations.circularize.key")],o.title=C("operations.circularize.title"),o.behavior=At(e).which(o),o}Qu({thousands:",",grouping:[3],currency:["$",""]});var Ne=function(e){var t=Bt();if("mac"===t.os)return e;if("win"===t.os&&"\u2318\u21e7Z"===e)return"Ctrl+Y";for(var n="",r={"\u2318":"Ctrl","\u21e7":"Shift","\u2325":"Alt","\u232b":"Backspace","\u2326":"Delete"},i=0;i<e.length;i++)e[i]in r?n+=r[e[i]]+(i<e.length-1?"+":""):n+=e[i];return n};function Vr(e,t){var n=1===t.length?"single":"multiple",r=Ji(t),i=_t(t,e.graph()).map((function(e){return e.loc})),a=Ft(t,e.graph()),o=function(){var n,i;if(1===t.length){var a=t[0],s=e.entity(a),l=s.geometry(e.graph()),c=e.graph().parentWays(s)[0];if("vertex"===l){var u=c.nodes,d=u.indexOf(a);if(0===d)d++;else if(d===u.length-1)d--;else{d=rt(s.loc,e.entity(u[d-1]).loc)<rt(s.loc,e.entity(u[d+1]).loc)?d-1:d+1}n=u[d],i=e.entity(n).loc}}e.perform(r,o.annotation()),e.validator().validate(),n&&i?e.hasEntity(n)?e.enter(Ce(e,[n]).follow(!0)):(e.map().centerEase(i),e.enter(be(e))):e.enter(be(e))};return o.available=function(){return!0},o.disabled=function(){return a.percentContainedIn(e.map().extent())<.8?"too_large":function(){if(e.inIntro())return!1;var t=e.connection();if(t){var n=i.filter((function(e){return!t.isDataLoaded(e)}));if(n.length)return n.forEach((function(t){e.loadTileAtLoc(t)})),!0}return!1}()?"not_downloaded":t.some(e.hasHiddenConnections)?"connected_to_hidden":t.some((function(t){var n=e.entity(t);if("way"!==n.type)return!1;for(var r=e.graph().parentRelations(n),i=0;i<r.length;i++){var a=r[i],o=a.tags.type,s=a.memberById(t).role||"outer";if("route"===o||"boundary"===o||"multipolygon"===o&&"outer"===s)return!0}return!1}))?"part_of_relation":t.some((function(t){var n=e.entity(t);return"relation"===n.type&&!n.isComplete(e.graph())}))?"incomplete_relation":!!t.some((function(t){var n=e.entity(t);return n.tags.wikidata&&n.tags.wikidata.trim().length>0}))&&"has_wikidata_tag"},o.tooltip=function(){var e=o.disabled();return C(e?"operations.delete."+e+"."+n:"operations.delete.description."+n)},o.annotation=function(){return 1===t.length?C("operations.delete.annotation."+e.graph().geometry(t[0])):C("operations.delete.annotation.feature",{n:t.length})},o.id="delete",o.keys=[Ne("\u2318\u232b"),Ne("\u2318\u2326"),Ne("\u2326")],o.title=C("operations.delete.title"),o.behavior=At(e).which(o),o}function Fo(e,t){var n,r,i=t.map((function(t){var i=e.entity(t),a=i.geometry(e.graph());if(n=n?n.extend(i.extent(e.graph())):i.extent(e.graph()),"way"===i.type&&new Set(i.nodes).size>2)return r&&"feature"!==r?null:(r="feature",ja(t,e.projection));if("vertex"===a){if(r&&"corner"!==r)return null;r="corner";var o=e.graph().parentWays(i);if(1===o.length){var s=o[0];if(-1!==s.nodes.indexOf(t))return ja(s.id,e.projection,t)}}return null})).filter(Boolean),a=1===i.length?"single":"multiple",o=_t(t,e.graph()).map((function(e){return e.loc}));var s=function(){if(i.length){var t=function(e,t){return i.forEach((function(n){n.disabled(e)||(e=n(e,t))})),e};t.transitionable=!0,e.perform(t,s.annotation()),window.setTimeout((function(){e.validator().validate()}),300)}};return s.available=function(){return i.length&&t.length===i.length},s.disabled=function(){if(!i.length)return"";var r=i.map((function(t){return t.disabled(e.graph())})).filter(Boolean);return r.length===i.length?new Set(r).size>1?"multiple_blockers":r[0]:n&&n.percentContainedIn(e.map().extent())<.8?"too_large":function(){if(e.inIntro())return!1;var t=e.connection();if(t){var n=o.filter((function(e){return!t.isDataLoaded(e)}));if(n.length)return n.forEach((function(t){e.loadTileAtLoc(t)})),!0}return!1}()?"not_downloaded":!!t.some(e.hasHiddenConnections)&&"connected_to_hidden"},s.tooltip=function(){var e=s.disabled();return C(e?"operations.orthogonalize."+e+"."+a:"operations.orthogonalize.description."+r+"."+a)},s.annotation=function(){return C("operations.orthogonalize.annotation."+r,{n:i.length})},s.id="orthogonalize",s.keys=[C("operations.orthogonalize.key")],s.title=C("operations.orthogonalize.title"),s.behavior=At(e).which(s),s}function Do(e,t){return Dh(e,t,"short")}function Mo(e,t){return Dh(e,t,"long")}function Dh(e,t,n){n=n||"long";var r=1===t.length?"single":"multiple",i=_t(t,e.graph()),a=i.map((function(e){return e.loc})),o=Ft(t,e.graph()),s=function(){var r=Q3(t,e.projection).useLongAxis(Boolean("long"===n));e.perform(r,s.annotation()),window.setTimeout((function(){e.validator().validate()}),300)};return s.available=function(){return i.length>=3},s.disabled=function(){return o.percentContainedIn(e.map().extent())<.8?"too_large":function(){if(e.inIntro())return!1;var t=e.connection();if(t){var n=a.filter((function(e){return!t.isDataLoaded(e)}));if(n.length)return n.forEach((function(t){e.loadTileAtLoc(t)})),!0}return!1}()?"not_downloaded":t.some(e.hasHiddenConnections)?"connected_to_hidden":!!t.some((function(t){var n=e.entity(t);return"relation"===n.type&&!n.isComplete(e.graph())}))&&"incomplete_relation"},s.tooltip=function(){var e=s.disabled();return C(e?"operations.reflect."+e+"."+r:"operations.reflect.description."+n+"."+r)},s.annotation=function(){return C("operations.reflect.annotation."+n+".feature",{n:t.length})},s.id="reflect-"+n,s.keys=[C("operations.reflect.key."+n)],s.title=C("operations.reflect.title."+n),s.behavior=At(e).which(s),s}function Io(e,t){var n=1===t.length?"single":"multiple",r=_t(t,e.graph()).map((function(e){return e.loc})),i=Ft(t,e.graph()),a=function(){e.enter(e4(e,t))};return a.available=function(){return t.length>0},a.disabled=function(){return i.percentContainedIn(e.map().extent())<.8?"too_large":function(){if(e.inIntro())return!1;var t=e.connection();if(t){var n=r.filter((function(e){return!t.isDataLoaded(e)}));if(n.length)return n.forEach((function(t){e.loadTileAtLoc(t)})),!0}return!1}()?"not_downloaded":t.some(e.hasHiddenConnections)?"connected_to_hidden":!!t.some((function(t){var n=e.entity(t);return"relation"===n.type&&!n.isComplete(e.graph())}))&&"incomplete_relation"},a.tooltip=function(){var e=a.disabled();return C(e?"operations.move."+e+"."+n:"operations.move.description."+n)},a.annotation=function(){return 1===t.length?C("operations.move.annotation."+e.graph().geometry(t[0])):C("operations.move.annotation.feature",{n:t.length})},a.id="move",a.keys=[C("operations.move.key")],a.title=C("operations.move.title"),a.behavior=At(e).which(a),a.mouseOnly=!0,a}function Y3(e,t){var n,r,i,a,o={id:"rotate",button:"browse"},s=Ie("rotate"),l=[qn(e),Co(e,t).behavior,Vr(e,t).behavior,Io(e,t).behavior,Fo(e,t).behavior,Mo(e,t).behavior,Do(e,t).behavior],c=1===t.length?C("operations.rotate.annotation."+e.graph().geometry(t[0])):C("operations.rotate.annotation.feature",{n:t.length}),u="PointerEvent"in window?"pointer":"mouse";function d(o){var s;s=e.graph()!==n?e.perform:e.replace;var l=e.projection,c=l.transform();if(!i||c.k!==i.k||c.x!==i.x||c.y!==i.y){var u=_t(t,e.graph()).map((function(e){return l(e.loc)}));a=function(e){var t;if(1===e.length)t=e[0];else if(2===e.length)t=gt(e[0],e[1],.5);else{var n=Qi(e);t=2===n.length?gt(e[0],e[1],.5):_i(Qi(e))}return t}(u),r=void 0}var d=e.map().mouse(o),p=Math.atan2(d[1]-a[1],d[0]-a[0]);typeof r>"u"&&(r=p),s(z3(t,a,p-r,l)),i=c,r=p,n=e.graph()}function p(n){n.stopPropagation(),e.replace(Er(),c),e.enter(Ce(e,t))}function f(){n&&e.pop(),e.enter(Ce(e,t))}function h(){e.enter(be(e))}return o.enter=function(){var r;n=null,e.features().forceVisible(t),l.forEach(e.install),e.surface().on(u+"down.modeRotate",(function(e){r=e})),$(window).on(u+"move.modeRotate",d,!0).on(u+"up.modeRotate",(function(t){if(r){var n=er(e.container().select(".main-map").node());Qe(n(r),n(t))<=4&&p(t),r=null}}),!0),e.history().on("undone.modeRotate",h),s.on("\u238b",f).on("\u21a9",p),$(document).call(s)},o.exit=function(){l.forEach(e.uninstall),e.surface().on(u+"down.modeRotate",null),$(window).on(u+"move.modeRotate",null,!0).on(u+"up.modeRotate",null,!0),e.history().on("undone.modeRotate",null),$(document).call(s.unbind),e.features().forceVisible([])},o.selectedIDs=function(){return arguments.length?o:t},o}function v2(e,t){var n=1===t.length?"single":"multiple",r=_t(t,e.graph()),i=r.map((function(e){return e.loc})),a=Ft(t,e.graph()),o=function(){e.enter(Y3(e,t))};return o.available=function(){return r.length>=2},o.disabled=function(){return a.percentContainedIn(e.map().extent())<.8?"too_large":function(){if(e.inIntro())return!1;var t=e.connection();if(t){var n=i.filter((function(e){return!t.isDataLoaded(e)}));if(n.length)return n.forEach((function(t){e.loadTileAtLoc(t)})),!0}return!1}()?"not_downloaded":t.some(e.hasHiddenConnections)?"connected_to_hidden":!!t.some((function(t){var n=e.entity(t);return"relation"===n.type&&!n.isComplete(e.graph())}))&&"incomplete_relation"},o.tooltip=function(){var e=o.disabled();return C(e?"operations.rotate."+e+"."+n:"operations.rotate.description."+n)},o.annotation=function(){return 1===t.length?C("operations.rotate.annotation."+e.graph().geometry(t[0])):C("operations.rotate.annotation.feature",{n:t.length})},o.id="rotate",o.keys=[C("operations.rotate.key")],o.title=C("operations.rotate.title"),o.behavior=At(e).which(o),o.mouseOnly=!0,o}function e4(e,t,n){var r,i,a,o,s={id:"move",button:"browse"},l=Ie("move"),c=[qn(e),Co(e,t).behavior,Vr(e,t).behavior,Fo(e,t).behavior,Mo(e,t).behavior,Do(e,t).behavior,v2(e,t).behavior],u=1===t.length?C("operations.move.annotation."+e.graph().geometry(t[0])):C("operations.move.annotation.feature",{n:t.length}),d="PointerEvent"in window?"pointer":"mouse";function p(n){var o;n=n||[0,0],r!==e.graph()?(i={},a=e.map().mouseCoordinates(),o=e.perform):o=e.overwrite;var s=pt(pt(e.map().mouse(),e.projection(a)),n);o(Fi(t,s,e.projection,i)),r=e.graph()}function f(){o&&(window.clearInterval(o),o=null)}function h(){p();var t=_a(e.map().mouse(),e.map().dimensions());t?function(t){o&&window.clearInterval(o),o=window.setInterval((function(){e.map().pan(t),p(t)}),50)}(t):f()}function g(n){n.stopPropagation(),e.replace(Er(),u),e.enter(Ce(e,t)),f()}function m(){if(n){for(;e.graph()!==n;)e.pop();e.enter(be(e))}else r&&e.pop(),e.enter(Ce(e,t));f()}function y(){e.enter(be(e))}return s.enter=function(){var n;a=e.map().mouseCoordinates(),r=null,i={},e.features().forceVisible(t),c.forEach(e.install),e.surface().on(d+"down.modeMove",(function(e){n=e})),$(window).on(d+"move.modeMove",h,!0).on(d+"up.modeMove",(function(t){if(n){var r=er(e.container().select(".main-map").node());Qe(r(n),r(t))<=4&&g(t),n=null}}),!0),e.history().on("undone.modeMove",y),l.on("\u238b",m).on("\u21a9",g),$(document).call(l)},s.exit=function(){f(),c.forEach((function(t){e.uninstall(t)})),e.surface().on(d+"down.modeMove",null),$(window).on(d+"move.modeMove",null,!0).on(d+"up.modeMove",null,!0),e.history().on("undone.modeMove",null),$(document).call(l.unbind),e.features().forceVisible([])},s.selectedIDs=function(){return arguments.length?s:t},s}function t4(e){function t(t){if(e.map().withinEditableZoom()){t.preventDefault();var n=e.graph(),r=e.map().mouse(),i=e.projection;if(ki(r,he(i.clipExtent()).polygon())){var a=e.copyIDs();if(a.length){var o=he(),s=e.copyGraph(),l=[],c=H1(a,s);e.perform(c);var u=c.copies(),d=new Set;for(var p in Object.values(u).forEach((function(e){d.add(e.id)})),u){var f=s.entity(p),h=u[p];o._extend(f.extent(s)),e.graph().parentWays(h).some((function(e){return d.has(e.id)}))||l.push(h.id)}var g=pt(r,e.copyLonLat()&&i(e.copyLonLat())||i(o.center()));e.perform(Fi(l,g,i)),e.enter(e4(e,l,n))}}}}function n(){return e.keybinding().on(Ne("\u2318V"),t),n}return n.off=function(){e.keybinding().off(Ne("\u2318V"))},n}function r4(){var e,t,n,r,i=se("start","move","end"),a=null,o="",s="PointerEvent"in window?"pointer":"mouse",l=wo("UserSelect");function c(o){if(!r){r=o.pointerId||"mouse",e=this;var c,u=er(n||e.parentNode),d=u(o),p=!1,f=function(){var e=ri(),t=e.style(l);return e.style(l,"none"),function(){e.style(l,t)}}();$(window).on(s+"move.drag",(function(e){if(r===(e.pointerId||"mouse")){var n=u(e);if(p){d=n,e.stopPropagation(),e.preventDefault();var a=n[0]-d[0],o=n[1]-d[1];i.call("move",this,e,t,[n[0]+c[0],n[1]+c[1]],[a,o])}else{var s=Qe(d,n),l="pen"===e.pointerType?4:1;if(s<l)return;p=!0,i.call("start",this,e,t)}}})).on(s+"up.drag pointercancel.drag",(function(e){r===(e.pointerId||"mouse")&&(r=null,p&&(i.call("end",this,e,t),e.preventDefault()),$(window).on(s+"move.drag",null).on(s+"up.drag pointercancel.drag",null),f())}),!0),a?c=[(c=a.call(e,t))[0]-d[0],c[1]-d[1]]:c=[0,0],o.stopPropagation()}}function u(e){var n=F3("matchesSelector"),r=c;o&&(r=function(e){for(var r=e.target;r&&r!==this;r=r.parentNode){var i=r.__data__;if((t=i instanceof Rt?i:i&&i.properties&&i.properties.entity)&&r[n](o))return c.call(r,e)}}),e.on(s+"down.drag"+o,r)}return u.off=function(e){e.on(s+"down.drag"+o,null)},u.selector=function(e){return arguments.length?(o=e,u):o},u.origin=function(e){return arguments.length?(a=e,u):a},u.cancel=function(){return $(window).on(s+"move.drag",null).on(s+"up.drag pointercancel.drag",null),u},u.targetNode=function(t){return arguments.length?(e=t,u):e},u.targetEntity=function(e){return arguments.length?(t=e,u):t},u.surface=function(e){return arguments.length?(n=e,u):n},fe(u,i,"on")}function jn(e){var t,n,r,i,a={id:"drag-node",button:"browse"},o=qr(e).altDisables(!0).on("hover",e.ui().sidebar.hover),s=qn(e),l=[],c=!1,u=!1;function d(){t&&(window.clearInterval(t),t=null)}function p(t,n){var r=t.geometry(e.graph()),i=n.geometry(e.graph());if("vertex"===r&&"vertex"===i){var a=Xt(e.graph().parentWays(t),e.graph().parentWays(n));if(0!==a.length)return a[0].areAdjacent(t.id,n.id)?C("operations.connect.annotation.from_vertex.to_adjacent_vertex"):C("operations.connect.annotation.from_vertex.to_sibling_vertex")}return C("operations.connect.annotation.from_"+r+".to_"+i)}function f(t){return!!n&&("vertex"!==n.geometry(e.graph())||"vertex"===t.geometry(e.graph())||ve.allowsVertex(t,e.graph()))}function h(t){t.keyCode===Ie.modifierCodes.alt&&(e.surface().classed("nope")&&e.surface().classed("nope-suppressed",!0),e.surface().classed("nope",!1).classed("nope-disabled",!0))}function g(t){t.keyCode===Ie.modifierCodes.alt&&(e.surface().classed("nope-suppressed")&&e.surface().classed("nope",!0),e.surface().classed("nope-suppressed",!1).classed("nope-disabled",!1))}function m(e){if(!e||e.altKey)return{};var t=e.target.__data__;return t&&t.properties&&t.properties.target?t:{}}function y(n,r,a){a=a||[0,0];var o,s,l=pt(n&&n.point||e.projection(i),a),c=e.projection.invert(l);if(!t){var u=m(n),d=(o=u&&u.properties&&u.properties.entity)&&o.loc,p=u&&u.properties&&u.properties.nodes;d?f(o)&&(c=d):p&&((s=wr(p,e.map().mouse(),e.projection,v.id))&&(c=s.loc))}e.replace(Va(r.id,c));var h=!1;o&&(h=function(e,t,n,r){var i=r.update();if(n){var a=ot(),o=tr({loc:n.loc,edge:[t.nodes[n.index-1],t.nodes[n.index]]},a);i=o(i),t=a}return Ua([e.id,t.id]).disabled(i)}(r,o,s,e.graph())),h||(h=function(e,t){var n,r,i,a=t.parentWays(e);for(n=0;n<a.length;n++){var o=a[n],s=[],l=null,c=t.parentRelations(o);for(r=0;r<c.length;r++)if(c[r].isMultipolygon()){var u=zr(c[r].members,t);for(i=0;i<u.length;i++){if((s=u[i].nodes).find((function(t){return t.id===e.id}))&&(l=i,Nn(s,e.id)))return"multipolygonMember";u[i].coords=s.map((function(e){return e.loc}))}for(i=0;i<u.length;i++)if(i!==l&&O0(u[l].nodes,u[i].nodes,e.id))return"multipolygonRing"}if(null===l&&((s=o.nodes.map((function(e){return t.entity(e)}))).length&&Nn(s,e.id)))return o.geometry(t)}return!1}(r,e.graph()));var g=e.surface().classed("nope");if("relation"===h||"restriction"===h)g||e.ui().flash.duration(4e3).iconName("#iD-icon-no").label(C.html("operations.connect."+h,{relation:ve.item("type/restriction").name()}))();else if(h){var y="line"===h?"lines":"areas";e.ui().flash.duration(3e3).iconName("#iD-icon-no").label(C.html("self_intersection.error."+y))()}else g&&e.ui().flash.duration(1).label("")();e.surface().classed("nope-disabled")?e.surface().classed("nope",!1).classed("nope-suppressed",h):e.surface().classed("nope",h).classed("nope-suppressed",!1),i=c}function v(t,n){if(!u){var i="point"===n.geometry(e.graph()),a=m(t),o=a&&a.properties&&a.properties.nope||e.surface().classed("nope"),s=a&&a.properties&&a.properties.entity;if(o)e.perform(function(t,n){var r=Va(t,n),i=function(t,n){return 1===n&&e.pop(),r(t,n)};return i.transitionable=!0,i}(n.id,r));else if(s&&"way"===s.type){var d=wr(e.graph().childNodes(s),e.map().mouse(),e.projection,n.id);e.replace(tr({loc:d.loc,edge:[s.nodes[d.index-1],s.nodes[d.index]]},n),p(n,s))}else s&&"node"===s.type&&f(s)?e.replace(Ua([s.id,n.id]),p(n,s)):c?e.replace(Er(),C("operations.add.annotation.vertex")):e.replace(Er(),function(t){return C("operations.move.annotation."+t.geometry(e.graph()))}(n));if(i)e.enter(Ce(e,[n.id]));else{var h=l.filter((function(t){return e.graph().hasEntity(t)}));h.length?e.enter(Ce(e,h)):e.enter(be(e))}}}function b(){w.cancel(),e.enter(be(e))}var w=r4().selector(".layer-touch.points .target").surface(e.container().select(".main-map").node()).origin((function(t){return e.projection(t.loc)})).on("start",(function(t,i){c="midpoint"===i.type;var s=e.features().hasHiddenConnections(i,e.graph());if(u=!e.editable()||t.shiftKey||s)return s&&e.ui().flash.duration(4e3).iconName("#iD-icon-no").label(C("modes.drag_node.connected_to_hidden"))(),w.cancel();if(c){var l=i;i=ot(),e.perform(tr(l,i)),i=e.entity(i.id);var d=e.surface().selectAll("."+i.id);w.targetNode(d.node()).targetEntity(i)}else e.perform(Er());n=i,r=i.loc,o.ignoreVertex("vertex"===i.geometry(e.graph())),e.surface().selectAll("."+n.id).classed("active",!0),e.enter(a)})).on("move",(function(n,r,a){if(!u){n.stopPropagation(),e.surface().classed("nope-disabled",n.altKey),i=e.projection.invert(a),y(n,r);var o=_a(a,e.map().dimensions());o?function(n,r,i){t&&window.clearInterval(t),t=window.setInterval((function(){e.map().pan(i),y(n,r,i)}),50)}(n,r,o):d()}})).on("end",v);return a.enter=function(){e.install(o),e.install(s),$(window).on("keydown.dragNode",h).on("keyup.dragNode",g),e.history().on("undone.drag-node",b)},a.exit=function(){e.ui().sidebar.hover.cancel(),e.uninstall(o),e.uninstall(s),$(window).on("keydown.dragNode",null).on("keyup.dragNode",null),e.history().on("undone.drag-node",null),n=null,e.surface().classed("nope",!1).classed("nope-suppressed",!1).classed("nope-disabled",!1).selectAll(".active").classed("active",!1),d()},a.selectedIDs=function(){return arguments.length?a:n?[n.id]:[]},a.activeID=function(){return arguments.length?a:n&&n.id},a.restoreSelectedIDs=function(e){return arguments.length?(l=e,a):l},a.behavior=w,a}Ne.display=function(e){if(1!==e.length)return e;var t="mac"===Bt().os;return{"\u2318":t?"\u2318 "+C("shortcuts.key.cmd"):C("shortcuts.key.ctrl"),"\u21e7":t?"\u21e7 "+C("shortcuts.key.shift"):C("shortcuts.key.shift"),"\u2325":t?"\u2325 "+C("shortcuts.key.option"):C("shortcuts.key.alt"),"\u2303":t?"\u2303 "+C("shortcuts.key.ctrl"):C("shortcuts.key.ctrl"),"\u232b":t?"\u232b "+C("shortcuts.key.delete"):C("shortcuts.key.backspace"),"\u2326":t?"\u2326 "+C("shortcuts.key.del"):C("shortcuts.key.del"),"\u2196":t?"\u2196 "+C("shortcuts.key.pgup"):C("shortcuts.key.pgup"),"\u2198":t?"\u2198 "+C("shortcuts.key.pgdn"):C("shortcuts.key.pgdn"),"\u21de":t?"\u21de "+C("shortcuts.key.home"):C("shortcuts.key.home"),"\u21df":t?"\u21df "+C("shortcuts.key.end"):C("shortcuts.key.end"),"\u21b5":t?"\u23ce "+C("shortcuts.key.return"):C("shortcuts.key.enter"),"\u238b":t?"\u238b "+C("shortcuts.key.esc"):C("shortcuts.key.esc"),"\u2630":t?"\u2630 "+C("shortcuts.key.menu"):C("shortcuts.key.menu")}[e]||e};var Bh=je(si());function WE(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function y2(e,t){return fetch(e,t).then(WE)}function KE(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function mt(e,t){return fetch(e,t).then(KE)}function Zu(e){return(t,n)=>y2(t,n).then(t=>(new DOMParser).parseFromString(t,e))}var Z3=Zu("application/xml"),XE=Zu("text/html"),Ju=Zu("image/svg+xml"),Uh=je(Oh()),iA=Jt(),Ph=se("loaded"),Rh=14,e9="https://www.keepright.at",$a={errorTypes:{},localizeStrings:{}},Ht,aA=[30,40,50,60,70,90,100,110,120,130,150,160,170,180,190,191,192,193,194,195,196,197,198,200,201,202,203,204,205,206,207,208,210,220,230,231,232,270,280,281,282,283,284,285,290,291,292,293,294,295,296,297,298,300,310,311,312,313,320,350,360,370,380,390,400,401,402,410,411,412,413];function zh(e){e&&e.abort()}function oA(e,t){Object.keys(e.inflightTile).forEach(n=>{t.find(e=>n===e.id)||(zh(e.inflightTile[n]),delete e.inflightTile[n])})}function t9(e){return{minX:e.loc[0],minY:e.loc[1],maxX:e.loc[0],maxY:e.loc[1],data:e}}function Lh(e,t){Ht.rtree.remove(e,(e,t)=>e.data.id===t.data.id),t&&Ht.rtree.insert(e)}function sA(e){if(!(e instanceof Et))return;let t={},n=$a.errorTypes[e.whichType];if(!n)return console.log("No Template: ",e.whichType),void console.log("  ",e.description);if(!n.regex)return;let r=new RegExp(n.regex,"i"),i=r.exec(e.description);if(!i)return console.log("Unmatched: ",e.whichType),console.log("  ",e.description),void console.log("  ",r);for(let a=1;a<i.length;a++){let e,r=i[a];if(e="IDs"in n?n.IDs[a-1]:"",e&&r)r=lA(r,e);else{let e=r.toLowerCase();r=$a.localizeStrings[e]?C("QA.keepRight.error_parts."+$a.localizeStrings[e]):(0,Uh.default)(r)}t["var"+a]=r}return t}function lA(e,t){let n=e.toLowerCase();switch($a.localizeStrings[n]&&(e=C("QA.keepRight.error_parts."+$a.localizeStrings[n])),t){case"this":e={html:'<a class="error_object_link">'.concat(e,"</a>")};break;case"url":e=function(e){return{html:'<a class="kr_external_link" target="_blank" href="'.concat(e,'">').concat(e,"</a>")}}(e);break;case"n":case"w":case"r":e=r(t+e);break;case"20":e=function(e){let t=[];return e.split(",").forEach(e=>{let n=r("n"+e.slice(1));t.push(n)}),t.join(", ")}(e);break;case"211":e=function(e){let t=[];return e.split(", ").forEach(e=>{let n=r("n"+e.slice(1));t.push(n)}),t.join(", ")}(e);break;case"231":e=function(e){let t=[];return e.split("),").forEach(e=>{let n=e.match(/\#(\d+)\((.+)\)?/);null!==n&&n.length>2&&t.push(r("w"+n[1])+" "+C("QA.keepRight.errorTypes.231.layer",{layer:n[2]}))}),t.join(", ")}(e);break;case"294":e=function(e){let t=[];return e.split(",").forEach(e=>{e=e.split(" ");let n='"'.concat(e[0],'"'),i=e[1].slice(0,1),a=e[2].slice(1);a=r(i+a),t.push("".concat(n," ").concat(e[1]," ").concat(a))}),t.join(", ")}(e);break;case"370":e=function(e){if(!e)return"";let t=e.match(/\(including the name (\'.+\')\)/);return t&&t.length?C("QA.keepRight.errorTypes.370.including_the_name",{name:t[1]}):""}(e)}return e;function r(e){return{html:'<a class="error_entity_link">'.concat(e,"</a>")}}}var r9={title:"keepRight",init(){ze.get("keepRight").then(e=>$a=e),Ht||this.reset(),this.event=fe(this,Ph,"on")},reset(){Ht&&Object.values(Ht.inflightTile).forEach(zh),Ht={data:{},loadedTile:{},inflightTile:{},inflightPost:{},closed:{},rtree:new Bh.default}},loadIssues(e){let t={format:"geojson",ch:aA},n=iA.zoomExtent([Rh,Rh]).getTiles(e);oA(Ht,n),n.forEach(e=>{if(Ht.loadedTile[e.id]||Ht.inflightTile[e.id])return;let[n,r,i,a]=e.extent.rectangle(),o=Object.assign({},t,{left:n,bottom:a,right:i,top:r}),s="".concat(e9,"/export.php?")+$e(o),l=new AbortController;Ht.inflightTile[e.id]=l,mt(s,{signal:l.signal}).then(t=>{if(delete Ht.inflightTile[e.id],Ht.loadedTile[e.id]=!0,!t||!t.features||!t.features.length)throw new Error("No Data");t.features.forEach(e=>{let{properties:{error_type:t,error_id:n,comment:r=null,object_id:i,object_type:a,schema:o,title:s}}=e,{geometry:{coordinates:l},properties:{description:c=""}}=e,u=$a.errorTypes[t],d=(10*Math.floor(t/10)).toString(),p=u?t:d,f=$a.errorTypes[p];switch(p){case"170":c="This feature has a FIXME tag: ".concat(c);break;case"292":case"293":c=c.replace("A turn-","This turn-");break;case"294":case"295":case"296":case"297":case"298":c="This turn-restriction~".concat(c);break;case"300":c="This highway is missing a maxspeed tag";break;case"411":case"412":case"413":c="This feature~".concat(c)}let h=!1;do{l=$t(l,h?[1e-5,0]:[0,1e-5]);let e=he(l).bbox();h=Ht.rtree.search(e).length}while(h);let g=new Et(l,this,t,n,{comment:r,description:c,whichType:p,parentIssueType:d,severity:f.severity||"error",objectId:i,objectType:a,schema:o,title:s});g.replacements=sA(g),Ht.data[n]=g,Ht.rtree.insert(t9(g))}),Ph.call("loaded")}).catch(()=>{delete Ht.inflightTile[e.id],Ht.loadedTile[e.id]=!0})})},postUpdate(e,t){if(Ht.inflightPost[e.id])return t({message:"Error update already inflight",status:-2},e);let n={schema:e.schema,id:e.id};e.newStatus&&(n.st=e.newStatus),void 0!==e.newComment&&(n.co=e.newComment);let r="".concat(e9,"/comment.php?")+$e(n),i=new AbortController;Ht.inflightPost[e.id]=i,mt(r,{signal:i.signal}).finally(()=>{delete Ht.inflightPost[e.id],"ignore"===e.newStatus?this.removeItem(e):"ignore_t"===e.newStatus?(this.removeItem(e),Ht.closed["".concat(e.schema,":").concat(e.id)]=!0):e=this.replaceItem(e.update({comment:e.newComment,newComment:void 0,newState:void 0})),t&&t(null,e)})},getItems(e){let t=e.clipExtent(),n=[t[0][0],t[1][1]],r=[t[1][0],t[0][1]],i=he(e.invert(n),e.invert(r)).bbox();return Ht.rtree.search(i).map(e=>e.data)},getError:e=>Ht.data[e],replaceItem(e){if(e instanceof Et&&e.id)return Ht.data[e.id]=e,Lh(t9(e),!0),e},removeItem(e){!(e instanceof Et)||!e.id||(delete Ht.data[e.id],Lh(t9(e),!1))},issueURL:e=>"".concat(e9,"/report_map.php?schema=").concat(e.schema,"&error=").concat(e.id),getClosedIDs:()=>Object.keys(Ht.closed).sort()},Hh=je(si()),uA=Jt(),qh=se("loaded"),Vh=14,J3={ow:"https://grab.community.improve-osm.org/directionOfFlowService",mr:"https://grab.community.improve-osm.org/missingGeoService",tr:"https://grab.community.improve-osm.org/turnRestrictionService"},jh={icons:{}},vt;function Wh(e){Object.values(e).forEach(e=>{e&&e.abort()})}function cA(e,t){Object.keys(e.inflightTile).forEach(n=>{t.find(e=>n===e.id)||(Wh(e.inflightTile[n]),delete e.inflightTile[n])})}function b2(e){return{minX:e.loc[0],minY:e.loc[1],maxX:e.loc[0],maxY:e.loc[1],data:e}}function Qh(e,t){vt.rtree.remove(e,(e,t)=>e.data.id===t.data.id),t&&vt.rtree.insert(e)}function $h(e){return{html:'<a class="error_object_link">'.concat(e,"</a>")}}function el(e){return{html:'<a class="error_entity_link">'.concat(e,"</a>")}}function Gh(e){if(e.length){return bn(e.reduce((e,t)=>$t(e,[t.lon,t.lat]),[0,0]),1/e.length)}return[0,0]}function fA(e,t){let n=Math.atan2(t.lon-e.lon,t.lat-e.lat);return n<0&&(n+=2*Math.PI),180*n/Math.PI}function dA(e){let t=45*Math.round(e/45);return C("QA.improveOSM.directions.".concat({0:"north",45:"northeast",90:"east",135:"southeast",180:"south",225:"southwest",270:"west",315:"northwest",360:"north"}[t]))}function n9(e,t){let n=!1;do{let r=he(e=$t(e,n?[1e-5,0]:t?[0,1e-5]:[0,0])).bbox();n=vt.rtree.search(r).length}while(n);return e}var i9={title:"improveOSM",init(){ze.get("qa_data").then(e=>jh=e.improveOSM),vt||this.reset(),this.event=fe(this,qh,"on")},reset(){vt&&Object.values(vt.inflightTile).forEach(Wh),vt={data:{},loadedTile:{},inflightTile:{},inflightPost:{},closed:{},rtree:new Hh.default}},loadIssues(e){let t={client:"iD",status:"OPEN",zoom:"19"},n=uA.zoomExtent([Vh,Vh]).getTiles(e);cA(vt,n),n.forEach(e=>{if(vt.loadedTile[e.id]||vt.inflightTile[e.id])return;let[n,r,i,a]=e.extent.rectangle(),o=Object.assign({},t,{east:n,south:a,west:i,north:r}),s={};Object.keys(J3).forEach(t=>{let n=Object.assign({},o,"mr"===t?{type:"PARKING,ROAD,BOTH,PATH"}:{confidenceLevel:"C1"}),r="".concat(J3[t],"/search?")+$e(n),i=new AbortController;s[t]=i,mt(r,{signal:i.signal}).then(n=>{delete vt.inflightTile[e.id][t],Object.keys(vt.inflightTile[e.id]).length||(delete vt.inflightTile[e.id],vt.loadedTile[e.id]=!0),n.roadSegments&&n.roadSegments.forEach(e=>{let n,{points:r,wayId:i,fromNodeId:a,toNodeId:o}=e,s="".concat(i).concat(a).concat(o),l=r.length/2;l%1===0?n=Gh([r[l-1],r[l]]):(l=r[Math.floor(l)],n=[l.lon,l.lat]),n=n9(n,!1);let c=new Et(n,this,t,s,{issueKey:t,identifier:{wayId:i,fromNodeId:a,toNodeId:o},objectId:i,objectType:"way"});c.replacements={percentage:e.percentOfTrips,num_trips:e.numberOfTrips,highway:$h(C("QA.keepRight.error_parts.highway")),from_node:el("n"+e.fromNodeId),to_node:el("n"+e.toNodeId)},vt.data[c.id]=c,vt.rtree.insert(b2(c))}),n.tiles&&n.tiles.forEach(e=>{let{type:n,x:r,y:i,numberOfTrips:a}=e,o=n.toLowerCase(),s="".concat(o).concat(r).concat(i).concat(a),l=Gh(e.points);l=n9(l,!1);let c=new Et(l,this,"".concat(t,"-").concat(o),s,{issueKey:t,identifier:{x:r,y:i}});c.replacements={num_trips:a,geometry_type:C("QA.improveOSM.geometry_types.".concat(o))},-1===a&&(c.desc=C("QA.improveOSM.error_types.mr.description_alt",c.replacements)),vt.data[c.id]=c,vt.rtree.insert(b2(c))}),n.entities&&n.entities.forEach(e=>{let{point:n,id:r,segments:i,numberOfPasses:a,turnType:o}=e,s="".concat(r.replace(/[,:+#]/g,"_")),l=n9([n.lon,n.lat],!0),c=r.split(","),u=c[0],d=c[3],p=c[2].split(":")[1],f=new Et(l,this,t,s,{issueKey:t,identifier:r,objectId:d,objectType:"node"}),[h,g]=i[0].points,m=dA(fA(h,g));f.replacements={num_passed:a,num_trips:i[0].numberOfTrips,turn_restriction:o.toLowerCase(),from_way:el("w"+u),to_way:el("w"+p),travel_direction:m,junction:$h(C("QA.keepRight.error_parts.this_node"))},vt.data[f.id]=f,vt.rtree.insert(b2(f)),qh.call("loaded")})}).catch(()=>{delete vt.inflightTile[e.id][t],Object.keys(vt.inflightTile[e.id]).length||(delete vt.inflightTile[e.id],vt.loadedTile[e.id]=!0)})}),vt.inflightTile[e.id]=s})},getComments(e){if(e.comments)return Promise.resolve(e);let t=e.issueKey,n={};"ow"===t?n=e.identifier:"mr"===t?(n.tileX=e.identifier.x,n.tileY=e.identifier.y):"tr"===t&&(n.targetId=e.identifier);return mt("".concat(J3[t],"/retrieveComments?")+$e(n)).then(t=>{e.comments=t.comments?t.comments.reverse():[],this.replaceItem(e)}).then(()=>e)},postUpdate(e,t){if(!n4.authenticated())return t({message:"Not Authenticated",status:-3},e);if(vt.inflightPost[e.id])return t({message:"Error update already inflight",status:-2},e);n4.userDetails(function(n,r){if(n)return t(n,e);let i=e.issueKey,a="".concat(J3[i],"/comment"),o={username:r.display_name,targetIds:[e.identifier]};e.newStatus&&(o.status=e.newStatus,o.text="status changed"),e.newComment&&(o.text=e.newComment);let s=new AbortController;vt.inflightPost[e.id]=s;let l={method:"POST",signal:s.signal,body:JSON.stringify(o)};mt(a,l).then(()=>{if(delete vt.inflightPost[e.id],e.newStatus)this.removeItem(e),"SOLVED"===e.newStatus&&(e.issueKey in vt.closed||(vt.closed[e.issueKey]=0),vt.closed[e.issueKey]+=1);else{let t=new Date,n=e.comments?e.comments:[];n.push({username:o.username,text:o.text,timestamp:t.getTime()/1e3}),this.replaceItem(e.update({comments:n,newComment:void 0}))}t&&t(null,e)}).catch(n=>{delete vt.inflightPost[e.id],t&&t(n.message)})}.bind(this))},getItems(e){let t=e.clipExtent(),n=[t[0][0],t[1][1]],r=[t[1][0],t[0][1]],i=he(e.invert(n),e.invert(r)).bbox();return vt.rtree.search(i).map(e=>e.data)},getError:e=>vt.data[e],getIcon:e=>jh.icons[e],replaceItem(e){if(e instanceof Et&&e.id)return vt.data[e.id]=e,Qh(b2(e),!0),e},removeItem(e){!(e instanceof Et)||!e.id||(delete vt.data[e.id],Qh(b2(e),!1))},getClosedCounts:()=>vt.closed},sg=je(si());function tg(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var i4=tg();function pA(e){i4=e}var mA=/[&<>"']/,hA=/[&<>"']/g,gA=/[<>"']|&(?!#?\w+;)/,vA=/[<>"']|&(?!#?\w+;)/g,yA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kh=e=>yA[e];function Tr(e,t){if(t){if(mA.test(e))return e.replace(hA,Kh)}else if(gA.test(e))return e.replace(vA,Kh);return e}var bA=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function rg(e){return e.replace(bA,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}var xA=/(^|[^\[])\^/g;function jt(e,t){e="string"==typeof e?e:e.source,t=t||"";let n={replace:(t,r)=>(r=(r=r.source||r).replace(xA,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}var wA=/[^\w:]/g,_A=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Xh(e,t,n){if(e){let e;try{e=decodeURIComponent(rg(n)).replace(wA,"").toLowerCase()}catch{return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!_A.test(n)&&(n=SA(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}var tl={},kA=/^[^:]+:\/*[^/]*$/,EA=/^([^:]+:)[\s\S]*$/,AA=/^([^:]+:\/*[^/]*)[\s\S]*$/;function SA(e,t){tl[" "+e]||(kA.test(e)?tl[" "+e]=e+"/":tl[" "+e]=rl(e,"/",!0));let n=-1===(e=tl[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(EA,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(AA,"$1")+t:e+t}var nl={exec:function(){}};function ci(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Yh(e,t){let n=e.replace(/\|/g,(e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function rl(e,t,n){let r=e.length;if(0===r)return"";let i=0;for(;i<r;){let a=e.charAt(r-i-1);if(a!==t||n){if(a===t||!n)break;i++}else i++}return e.slice(0,r-i)}function CA(e,t){if(-1===e.indexOf(t[1]))return-1;let n=e.length,r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1}function ng(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Zh(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function Jh(e,t,n,r){let i=t.href,a=t.title?Tr(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;let e={type:"link",raw:n,href:i,title:a,text:o,tokens:r.inlineTokens(o,[])};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:a,text:Tr(o)}}function FA(e,t){let n=e.match(/^(\s+)(?:```)/);if(null===n)return t;let r=n[1];return t.split("\n").map(e=>{let t=e.match(/^\s+/);if(null===t)return e;let[n]=t;return n.length>=r.length?e.slice(r.length):e}).join("\n")}var x2=class{constructor(e){this.options=e||i4}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:rl(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=FA(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){let t=rl(e,"#");(this.options.pedantic||!t||/ $/.test(t))&&(e=t.trim())}let n={type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,i,a,o,s,l,c,u,d,p,f,h=t[1].trim(),g=h.length>1,m={type:"list",raw:"",ordered:g,start:g?+h.slice(0,-1):"",loose:!1,items:[]};h=g?"\\d{1,9}\\".concat(h.slice(-1)):"\\".concat(h),this.options.pedantic&&(h=g?h:"[*+-]");let y=new RegExp("^( {0,3}".concat(h,")((?:[\t ][^\\n]*)?(?:\\n|$))"));for(;e&&(f=!1,(t=y.exec(e))&&!this.rules.block.hr.test(e));){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0],u=e.split("\n",1)[0],this.options.pedantic?(a=2,p=c.trimLeft()):(a=t[2].search(/[^ ]/),a=a>4?1:a,p=c.slice(a),a+=t[1].length),s=!1,!c&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),f=!0),!f){let t=new RegExp("^ {0,".concat(Math.min(3,a-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),r=new RegExp("^ {0,".concat(Math.min(3,a-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"));for(;e&&(d=e.split("\n",1)[0],c=d,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!t.test(c)&&!r.test(e));){if(c.search(/[^ ]/)>=a||!c.trim())p+="\n"+c.slice(a);else{if(s)break;p+="\n"+c}!s&&!c.trim()&&(s=!0),n+=d+"\n",e=e.substring(d.length+1)}}m.loose||(l?m.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(p),r&&(i="[ ] "!==r[0],p=p.replace(/^\[[ xX]\] +/,""))),m.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:p}),m.raw+=n}m.items[m.items.length-1].raw=n.trimRight(),m.items[m.items.length-1].text=p.trimRight(),m.raw=m.raw.trimRight();let v=m.items.length;for(o=0;o<v;o++){this.lexer.state.top=!1,m.items[o].tokens=this.lexer.blockTokens(m.items[o].text,[]);let e=m.items[o].tokens.filter(e=>"space"===e.type),t=e.every(e=>{let t=e.raw.split(""),n=0;for(let r of t)if("\n"===r&&(n+=1),n>1)return!0;return!1});!m.loose&&e.length&&t&&(m.loose=!0,m.items[o].loose=!0)}return m}}html(e){let t=this.rules.block.html.exec(e);if(t){let e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(e.type="paragraph",e.text=this.options.sanitizer?this.options.sanitizer(t[0]):Tr(t[0]),e.tokens=[],this.lexer.inline(e.text,e.tokens)),e}}def(e){let t=this.rules.block.def.exec(e);if(t){return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}}table(e){let t=this.rules.block.table.exec(e);if(t){let e={type:"table",header:Yh(t[1]).map(e=>({text:e})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r,i,a,o=e.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(o=e.rows.length,n=0;n<o;n++)e.rows[n]=Yh(e.rows[n],e.header.length).map(e=>({text:e}));for(o=e.header.length,r=0;r<o;r++)e.header[r].tokens=[],this.lexer.inline(e.header[r].text,e.header[r].tokens);for(o=e.rows.length,r=0;r<o;r++)for(a=e.rows[r],i=0;i<a.length;i++)a[i].tokens=[],this.lexer.inline(a[i].text,a[i].tokens);return e}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t){let e={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}text(e){let t=this.rules.block.text.exec(e);if(t){let e={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Tr(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Tr(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;let t=rl(e.slice(0,-1),"\\");if((e.length-t.length)%2===0)return}else{let e=CA(t[2],"()");if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),Jh(t,{href:n&&n.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Jh(n,e,n[0],this.lexer)}}emStrong(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;let i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){let n,i,a=r[0].length-1,o=a,s=0,l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+a);null!=(r=l.exec(t));){if(n=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!n)continue;if(i=n.length,r[3]||r[4]){o+=i;continue}if((r[5]||r[6])&&a%3&&!((a+i)%3)){s+=i;continue}if(o-=i,o>0)continue;if(i=Math.min(i,i+o+s),Math.min(a,i)%2){let t=e.slice(1,a+r.index+i);return{type:"em",raw:e.slice(0,a+r.index+i+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}let t=e.slice(2,a+r.index+i-1);return{type:"strong",raw:e.slice(0,a+r.index+i+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," "),n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=Tr(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){let n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=Tr(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=Tr(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=Tr(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=Tr(n[0]),r="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){let n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Tr(n[0]):n[0]:Tr(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}},Ge={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:nl,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Ge.def=jt(Ge.def).replace("label",Ge._label).replace("title",Ge._title).getRegex(),Ge.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ge.listItemStart=jt(/^( *)(bull) */).replace("bull",Ge.bullet).getRegex(),Ge.list=jt(Ge.list).replace(/bull/g,Ge.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ge.def.source+")").getRegex(),Ge._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ge._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ge.html=jt(Ge.html,"i").replace("comment",Ge._comment).replace("tag",Ge._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ge.paragraph=jt(Ge._paragraph).replace("hr",Ge.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ge._tag).getRegex(),Ge.blockquote=jt(Ge.blockquote).replace("paragraph",Ge.paragraph).getRegex(),Ge.normal=ci({},Ge),Ge.gfm=ci({},Ge.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ge.gfm.table=jt(Ge.gfm.table).replace("hr",Ge.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ge._tag).getRegex(),Ge.gfm.paragraph=jt(Ge._paragraph).replace("hr",Ge.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ge.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ge._tag).getRegex(),Ge.pedantic=ci({},Ge.normal,{html:jt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ge._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:nl,paragraph:jt(Ge.normal._paragraph).replace("hr",Ge.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ge.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Pe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:nl,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:nl,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function DA(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function eg(e){let t,n,r="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}Pe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Pe.punctuation=jt(Pe.punctuation).replace(/punctuation/g,Pe._punctuation).getRegex(),Pe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Pe.escapedEmSt=/\\\*|\\_/g,Pe._comment=jt(Ge._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Pe.emStrong.lDelim=jt(Pe.emStrong.lDelim).replace(/punct/g,Pe._punctuation).getRegex(),Pe.emStrong.rDelimAst=jt(Pe.emStrong.rDelimAst,"g").replace(/punct/g,Pe._punctuation).getRegex(),Pe.emStrong.rDelimUnd=jt(Pe.emStrong.rDelimUnd,"g").replace(/punct/g,Pe._punctuation).getRegex(),Pe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Pe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Pe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Pe.autolink=jt(Pe.autolink).replace("scheme",Pe._scheme).replace("email",Pe._email).getRegex(),Pe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Pe.tag=jt(Pe.tag).replace("comment",Pe._comment).replace("attribute",Pe._attribute).getRegex(),Pe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Pe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Pe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Pe.link=jt(Pe.link).replace("label",Pe._label).replace("href",Pe._href).replace("title",Pe._title).getRegex(),Pe.reflink=jt(Pe.reflink).replace("label",Pe._label).replace("ref",Ge._label).getRegex(),Pe.nolink=jt(Pe.nolink).replace("ref",Ge._label).getRegex(),Pe.reflinkSearch=jt(Pe.reflinkSearch,"g").replace("reflink",Pe.reflink).replace("nolink",Pe.nolink).getRegex(),Pe.normal=ci({},Pe),Pe.pedantic=ci({},Pe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:jt(/^!?\[(label)\]\((.*?)\)/).replace("label",Pe._label).getRegex(),reflink:jt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Pe._label).getRegex()}),Pe.gfm=ci({},Pe.normal,{escape:jt(Pe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Pe.gfm.url=jt(Pe.gfm.url,"i").replace("email",Pe.gfm._extended_email).getRegex(),Pe.breaks=ci({},Pe.gfm,{br:jt(Pe.br).replace("{2,}","*").getRegex(),text:jt(Pe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var li=class{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||i4,this.options.tokenizer=this.options.tokenizer||new x2,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:Ge.normal,inline:Pe.normal};this.options.pedantic?(t.block=Ge.pedantic,t.inline=Pe.pedantic):this.options.gfm&&(t.block=Ge.gfm,this.options.breaks?t.inline=Pe.breaks:t.inline=Pe.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ge,inline:Pe}}static lex(e,t){return new li(t).lex(e)}static lexInline(e,t){return new li(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e){let t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(e,t,n)=>t+"    ".repeat(n.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(n=>!!(t=n.call({lexer:this},e,a))&&(e=e.substring(t.raw.length),a.push(t),!0)))){if(t=this.tokenizer.space(e)){e=e.substring(t.raw.length),1===t.raw.length&&a.length>0?a[a.length-1].raw+="\n":a.push(t);continue}if(t=this.tokenizer.code(e)){e=e.substring(t.raw.length),n=a[a.length-1],!n||"paragraph"!==n.type&&"text"!==n.type?a.push(t):(n.raw+="\n"+t.raw,n.text+="\n"+t.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text);continue}if(t=this.tokenizer.fences(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.heading(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.hr(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.blockquote(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.list(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.html(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.def(e)){e=e.substring(t.raw.length),n=a[a.length-1],!n||"paragraph"!==n.type&&"text"!==n.type?this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title}):(n.raw+="\n"+t.raw,n.text+="\n"+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text);continue}if(t=this.tokenizer.table(e)){e=e.substring(t.raw.length),a.push(t);continue}if(t=this.tokenizer.lheading(e)){e=e.substring(t.raw.length),a.push(t);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t,n=1/0,i=e.slice(1);this.options.extensions.startBlock.forEach((function(e){t=e.call({lexer:this},i),"number"==typeof t&&t>=0&&(n=Math.min(n,t))})),n<1/0&&n>=0&&(r=e.substring(0,n+1))}if(this.state.top&&(t=this.tokenizer.paragraph(r))){n=a[a.length-1],i&&"paragraph"===n.type?(n.raw+="\n"+t.raw,n.text+="\n"+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):a.push(t),i=r.length!==e.length,e=e.substring(t.raw.length);continue}if(t=this.tokenizer.text(e)){e=e.substring(t.raw.length),n=a[a.length-1],n&&"text"===n.type?(n.raw+="\n"+t.raw,n.text+="\n"+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):a.push(t);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,a}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e){let t,n,r,i,a,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=e;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,i.index)+"["+Zh("a",i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,i.index)+"["+Zh("a",i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,i.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(o=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(n=>!!(t=n.call({lexer:this},e,s))&&(e=e.substring(t.raw.length),s.push(t),!0)))){if(t=this.tokenizer.escape(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.tag(e)){e=e.substring(t.raw.length),n=s[s.length-1],n&&"text"===t.type&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):s.push(t);continue}if(t=this.tokenizer.link(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(t.raw.length),n=s[s.length-1],n&&"text"===t.type&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):s.push(t);continue}if(t=this.tokenizer.emStrong(e,l,o)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.codespan(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.br(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.del(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.autolink(e,eg)){e=e.substring(t.raw.length),s.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(e,eg))){e=e.substring(t.raw.length),s.push(t);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let t,n=1/0,i=e.slice(1);this.options.extensions.startInline.forEach((function(e){t=e.call({lexer:this},i),"number"==typeof t&&t>=0&&(n=Math.min(n,t))})),n<1/0&&n>=0&&(r=e.substring(0,n+1))}if(t=this.tokenizer.inlineText(r,DA)){e=e.substring(t.raw.length),"_"!==t.raw.slice(-1)&&(o=t.raw.slice(-1)),a=!0,n=s[s.length-1],n&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):s.push(t);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return s}},w2=class{constructor(e){this.options=e||i4}code(e,t,n){let r=(t||"").match(/\S*/)[0];if(this.options.highlight){let t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+Tr(r,!0)+'">'+(n?e:Tr(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Tr(e,!0))+"</code></pre>\n"}blockquote(e){return"<blockquote>\n".concat(e,"</blockquote>\n")}html(e){return e}heading(e,t,n,r){if(this.options.headerIds){let i=this.options.headerPrefix+r.slug(n);return"<h".concat(t,' id="').concat(i,'">').concat(e,"</h").concat(t,">\n")}return"<h".concat(t,">").concat(e,"</h").concat(t,">\n")}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){let r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return"<li>".concat(e,"</li>\n")}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>".concat(e,"</p>\n")}table(e,t){return t&&(t="<tbody>".concat(t,"</tbody>")),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n".concat(e,"</tr>\n")}tablecell(e,t){let n=t.header?"th":"td";return(t.align?"<".concat(n,' align="').concat(t.align,'">'):"<".concat(n,">"))+e+"</".concat(n,">\n")}strong(e){return"<strong>".concat(e,"</strong>")}em(e){return"<em>".concat(e,"</em>")}codespan(e){return"<code>".concat(e,"</code>")}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>".concat(e,"</del>")}link(e,t,n){if(null===(e=Xh(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+Tr(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=Xh(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src="'.concat(e,'" alt="').concat(n,'"');return t&&(r+=' title="'.concat(t,'"')),r+=this.options.xhtml?"/>":">",r}text(e){return e}},il=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},al=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}},ui=class{constructor(e){this.options=e||i4,this.options.renderer=this.options.renderer||new w2,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new il,this.slugger=new al}static parse(e,t){return new ui(t).parse(e)}static parseInline(e,t){return new ui(t).parseInline(e)}parse(e){let t,n,r,i,a,o,s,l,c,u,d,p,f,h,g,m,y,v,b,w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],_="",k=e.length;for(t=0;t<k;t++)if(u=e[t],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]&&(b=this.options.extensions.renderers[u.type].call({parser:this},u),!1!==b||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)))_+=b||"";else switch(u.type){case"space":continue;case"hr":_+=this.renderer.hr();continue;case"heading":_+=this.renderer.heading(this.parseInline(u.tokens),u.depth,rg(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":_+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(l="",s="",i=u.header.length,n=0;n<i;n++)s+=this.renderer.tablecell(this.parseInline(u.header[n].tokens),{header:!0,align:u.align[n]});for(l+=this.renderer.tablerow(s),c="",i=u.rows.length,n=0;n<i;n++){for(o=u.rows[n],s="",a=o.length,r=0;r<a;r++)s+=this.renderer.tablecell(this.parseInline(o[r].tokens),{header:!1,align:u.align[r]});c+=this.renderer.tablerow(s)}_+=this.renderer.table(l,c);continue;case"blockquote":c=this.parse(u.tokens),_+=this.renderer.blockquote(c);continue;case"list":for(d=u.ordered,p=u.start,f=u.loose,i=u.items.length,c="",n=0;n<i;n++)g=u.items[n],m=g.checked,y=g.task,h="",g.task&&(v=this.renderer.checkbox(m),f?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=v+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=v+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:v}):h+=v),h+=this.parse(g.tokens,f),c+=this.renderer.listitem(h,y,m);_+=this.renderer.list(c,d,p);continue;case"html":_+=this.renderer.html(u.text);continue;case"paragraph":_+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(c=u.tokens?this.parseInline(u.tokens):u.text;t+1<k&&"text"===e[t+1].type;)u=e[++t],c+="\n"+(u.tokens?this.parseInline(u.tokens):u.text);_+=w?this.renderer.paragraph(c):c;continue;default:{let e='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return _}parseInline(e,t){t=t||this.renderer;let n,r,i,a="",o=e.length;for(n=0;n<o;n++)if(r=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(i=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==i||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))a+=i||"";else switch(r.type){case"escape":a+=t.text(r.text);break;case"html":a+=t.html(r.text);break;case"link":a+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":a+=t.image(r.href,r.title,r.text);break;case"strong":a+=t.strong(this.parseInline(r.tokens,t));break;case"em":a+=t.em(this.parseInline(r.tokens,t));break;case"codespan":a+=t.codespan(r.text);break;case"br":a+=t.br();break;case"del":a+=t.del(this.parseInline(r.tokens,t));break;case"text":a+=t.text(r.text);break;default:{let e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return a}};function qe(e,t,n){if(typeof e>"u"||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),ng(t=ci({},qe.defaults,t||{})),n){let i,a=t.highlight;try{i=li.lex(e,t)}catch(r){return n(r)}let o=function(e){let r;if(!e)try{t.walkTokens&&qe.walkTokens(i,t.walkTokens),r=ui.parse(i,t)}catch(o){e=o}return t.highlight=a,e?n(e):n(null,r)};if(!a||a.length<3||(delete t.highlight,!i.length))return o();let s=0;return qe.walkTokens(i,(function(e){"code"===e.type&&(s++,setTimeout(()=>{a(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),s--,0===s&&o()}))},0))})),void(0===s&&o())}try{let n=li.lex(e,t);return t.walkTokens&&qe.walkTokens(n,t.walkTokens),ui.parse(n,t)}catch(i){if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Tr(i.message+"",!0)+"</pre>";throw i}}qe.options=qe.setOptions=function(e){return ci(qe.defaults,e),pA(qe.defaults),qe},qe.getDefaults=tg,qe.defaults=i4,qe.use=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,i=ci({},...t),a=qe.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(e=>{if(e.extensions&&(r=!0,e.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){let t=a.renderers?a.renderers[e.name]:null;a.renderers[e.name]=t?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];let a=e.renderer.apply(this,r);return!1===a&&(a=t.apply(this,r)),a}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");a[e.level]?a[e.level].unshift(e.tokenizer):a[e.level]=[e.tokenizer],e.start&&("block"===e.level?a.startBlock?a.startBlock.push(e.start):a.startBlock=[e.start]:"inline"===e.level&&(a.startInline?a.startInline.push(e.start):a.startInline=[e.start]))}e.childTokens&&(a.childTokens[e.name]=e.childTokens)})),e.renderer){let t=qe.defaults.renderer||new w2;for(let n in e.renderer){let r=t[n];t[n]=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];let s=e.renderer[n].apply(t,a);return!1===s&&(s=r.apply(t,a)),s}}i.renderer=t}if(e.tokenizer){let t=qe.defaults.tokenizer||new x2;for(let n in e.tokenizer){let r=t[n];t[n]=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];let s=e.tokenizer[n].apply(t,a);return!1===s&&(s=r.apply(t,a)),s}}i.tokenizer=t}if(e.walkTokens){let t=qe.defaults.walkTokens;i.walkTokens=function(n){e.walkTokens.call(this,n),t&&t.call(this,n)}}r&&(i.extensions=a),qe.setOptions(i)})},qe.walkTokens=function(e,t){for(let n of e)switch(t.call(qe,n),n.type){case"table":for(let e of n.header)qe.walkTokens(e.tokens,t);for(let e of n.rows)for(let n of e)qe.walkTokens(n.tokens,t);break;case"list":qe.walkTokens(n.items,t);break;default:qe.defaults.extensions&&qe.defaults.extensions.childTokens&&qe.defaults.extensions.childTokens[n.type]?qe.defaults.extensions.childTokens[n.type].forEach((function(e){qe.walkTokens(n[e],t)})):n.tokens&&qe.walkTokens(n.tokens,t)}},qe.parseInline=function(e,t){if(typeof e>"u"||null===e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");ng(t=ci({},qe.defaults,t||{}));try{let n=li.lexInline(e,t);return t.walkTokens&&qe.walkTokens(n,t.walkTokens),ui.parseInline(n,t)}catch(n){if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Tr(n.message+"",!0)+"</pre>";throw n}},qe.Parser=ui,qe.parser=ui.parse,qe.Renderer=w2,qe.TextRenderer=il,qe.Lexer=li,qe.lexer=li.lex,qe.Tokenizer=x2,qe.Slugger=al,qe.parse=qe;var kX=qe.options,EX=qe.setOptions,AX=qe.use,SX=qe.walkTokens,CX=qe.parseInline,FX=ui.parse,DX=li.lex,MA=Jt(),ig=se("loaded"),ag=14,ol="https://osmose.openstreetmap.fr/api/0.3",a4={icons:{},items:[]},Ye;function lg(e){e&&e.abort()}function IA(e,t){Object.keys(e.inflightTile).forEach(n=>{t.find(e=>n===e.id)||(lg(e.inflightTile[n]),delete e.inflightTile[n])})}function a9(e){return{minX:e.loc[0],minY:e.loc[1],maxX:e.loc[0],maxY:e.loc[1],data:e}}function og(e,t){Ye.rtree.remove(e,(e,t)=>e.data.id===t.data.id),t&&Ye.rtree.insert(e)}function TA(e){let t=!1;do{let n=he(e=$t(e,t?[1e-5,0]:[0,1e-5])).bbox();t=Ye.rtree.search(n).length}while(t);return e}var o9={title:"osmose",init(){ze.get("qa_data").then(e=>{(a4=e.osmose).items=Object.keys(e.osmose.icons).map(e=>e.split("-")[0]).reduce((e,t)=>-1!==e.indexOf(t)?e:[...e,t],[])}),Ye||this.reset(),this.event=fe(this,ig,"on")},reset(){let e={},t={};Ye&&(Object.values(Ye.inflightTile).forEach(lg),e=Ye.strings,t=Ye.colors),Ye={data:{},loadedTile:{},inflightTile:{},inflightPost:{},closed:{},rtree:new sg.default,strings:e,colors:t}},loadIssues(e){let t={item:a4.items},n=MA.zoomExtent([ag,ag]).getTiles(e);IA(Ye,n),n.forEach(e=>{if(Ye.loadedTile[e.id]||Ye.inflightTile[e.id])return;let[n,r,i]=e.xyz,a="".concat(ol,"/issues/").concat(i,"/").concat(n,"/").concat(r,".json?")+$e(t),o=new AbortController;Ye.inflightTile[e.id]=o,mt(a,{signal:o.signal}).then(t=>{delete Ye.inflightTile[e.id],Ye.loadedTile[e.id]=!0,t.features&&t.features.forEach(e=>{let{item:t,class:n,uuid:r}=e.properties,i="".concat(t,"-").concat(n);if(i in a4.icons){let n=e.geometry.coordinates;n=TA(n);let a=new Et(n,this,i,r,{item:t});(8300===t||8360===t)&&(a.elems=[]),Ye.data[a.id]=a,Ye.rtree.insert(a9(a))}}),ig.call("loaded")}).catch(()=>{delete Ye.inflightTile[e.id],Ye.loadedTile[e.id]=!0})})},loadIssueDetail(e){if(void 0!==e.elems)return Promise.resolve(e);return mt("".concat(ol,"/issue/").concat(e.id,"?langs=").concat(le.localeCode())).then(t=>{e.elems=t.elems.map(e=>e.type.substring(0,1)+e.id),e.detail=t.subtitle?qe(t.subtitle.auto):"",this.replaceItem(e)}).then(()=>e)},loadStrings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le.localeCode(),t=Object.keys(a4.icons);if(e in Ye.strings&&Object.keys(Ye.strings[e]).length===t.length)return Promise.resolve(Ye.strings[e]);e in Ye.strings||(Ye.strings[e]={});let n=t.map(t=>{if(t in Ye.strings[e])return null;let[n,r]=t.split("-");return mt("".concat(ol,"/items/").concat(n,"/class/").concat(r,"?langs=").concat(e)).then(n=>{let[r={items:[]}]=n.categories,[i={class:[]}]=r.items,[a=null]=i.class;if(!a)return void console.log("Osmose strings request (".concat(t,") had unexpected data"));let{item:o,color:s}=i;/^#[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3}/.test(s)&&(Ye.colors[o]=s);let{title:l,detail:c,fix:u,trap:d}=a,p={};l&&(p.title=l.auto),c&&(p.detail=qe(c.auto)),d&&(p.trap=qe(d.auto)),u&&(p.fix=qe(u.auto)),Ye.strings[e][t]=p})}).filter(Boolean);return Promise.all(n).then(()=>Ye.strings[e])},getStrings(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le.localeCode();return t in Ye.strings?Ye.strings[t][e]:{}},getColor:e=>e in Ye.colors?Ye.colors[e]:"#FFFFFF",postUpdate(e,t){if(Ye.inflightPost[e.id])return t({message:"Issue update already inflight",status:-2},e);let n="".concat(ol,"/issue/").concat(e.id,"/").concat(e.newStatus),r=new AbortController;Ye.inflightPost[e.id]=r,fetch(n,{signal:r.signal}).then(()=>{delete Ye.inflightPost[e.id],this.removeItem(e),"done"===e.newStatus&&(e.item in Ye.closed||(Ye.closed[e.item]=0),Ye.closed[e.item]+=1),t&&t(null,e)}).catch(n=>{delete Ye.inflightPost[e.id],t&&t(n.message)})},getItems(e){let t=e.clipExtent(),n=[t[0][0],t[1][1]],r=[t[1][0],t[0][1]],i=he(e.invert(n),e.invert(r)).bbox();return Ye.rtree.search(i).map(e=>e.data)},getError:e=>Ye.data[e],getIcon:e=>a4.icons[e],replaceItem(e){if(e instanceof Et&&e.id)return Ye.data[e.id]=e,og(a9(e),!0),e},removeItem(e){!(e instanceof Et)||!e.id||(delete Ye.data[e.id],og(a9(e),!1))},getClosedCounts:()=>Ye.closed,itemURL:e=>"https://osmose.openstreetmap.fr/en/error/".concat(e.id)},v9=je(u9()),k2=je(si()),y9=je(d9()),c4="MLY|4100327730013843|5bb78b81720791946a9a7b956c57b7cf",_g="https://graph.mapillary.com/",b9="https://tiles.mapillary.com/maps/vtp",sS="".concat(b9,"/mly_map_feature_point/2/{z}/{x}/{y}?access_token=").concat(c4),lS="".concat(b9,"/mly1_public/2/{z}/{x}/{y}?access_token=").concat(c4),uS="".concat(b9,"/mly_map_feature_traffic_sign/2/{z}/{x}/{y}?access_token=").concat(c4),cS="mapillary-js/mapillary.css",fS="mapillary-js/mapillary.js",dS=14,ra=se("change","loadedImages","loadedSigns","loadedMapFeatures","bearingChanged","imageChanged"),_2,To,vr,cl=!1,p9,fl=!1,dl=!1,Nr,m9=["all"];function h9(e,t,n,r){Jt().zoomExtent([dS,n]).skipNullIsland(!0).getTiles(r).forEach((function(n){pS(e,t,n)}))}function pS(e,t,n){let r=vr.requests,i="".concat(n.id,"-").concat(e);if(r.loaded[i]||r.inflight[i])return;let a=new AbortController;r.inflight[i]=a;let o=t.replace("{x}",n.xyz[0]).replace("{y}",n.xyz[1]).replace("{z}",n.xyz[2]);fetch(o,{signal:a.signal}).then((function(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return r.loaded[i]=!0,delete r.inflight[i],e.arrayBuffer()})).then((function(t){if(!t)throw new Error("No Data");mS(t,n,e),"images"===e?ra.call("loadedImages"):"signs"===e?ra.call("loadedSigns"):"points"===e&&ra.call("loadedMapFeatures")})).catch((function(){r.loaded[i]=!0,delete r.inflight[i]}))}function mS(e,t,n){let r,i,a,o,s,l,c,u=new y9.VectorTile(new v9.default(e));if(u.layers.hasOwnProperty("image")){for(r=[],i=vr.images,a=u.layers.image,o=0;o<a.length;o++)s=a.feature(o).toGeoJSON(t.xyz[0],t.xyz[1],t.xyz[2]),l=s.geometry.coordinates,c={loc:l,captured_at:s.properties.captured_at,ca:s.properties.compass_angle,id:s.properties.id,is_pano:s.properties.is_pano,sequence_id:s.properties.sequence_id},i.forImageId[c.id]=c,r.push({minX:l[0],minY:l[1],maxX:l[0],maxY:l[1],data:c});i.rtree&&i.rtree.load(r)}if(u.layers.hasOwnProperty("sequence"))for(r=[],i=vr.sequences,a=u.layers.sequence,o=0;o<a.length;o++)s=a.feature(o).toGeoJSON(t.xyz[0],t.xyz[1],t.xyz[2]),i.lineString[s.properties.id]?i.lineString[s.properties.id].push(s):i.lineString[s.properties.id]=[s];if(u.layers.hasOwnProperty("point")){for(r=[],i=vr[n],a=u.layers.point,o=0;o<a.length;o++)s=a.feature(o).toGeoJSON(t.xyz[0],t.xyz[1],t.xyz[2]),l=s.geometry.coordinates,c={loc:l,id:s.properties.id,first_seen_at:s.properties.first_seen_at,last_seen_at:s.properties.last_seen_at,value:s.properties.value},r.push({minX:l[0],minY:l[1],maxX:l[0],maxY:l[1],data:c});i.rtree&&i.rtree.load(r)}if(u.layers.hasOwnProperty("traffic_sign")){for(r=[],i=vr[n],a=u.layers.traffic_sign,o=0;o<a.length;o++)s=a.feature(o).toGeoJSON(t.xyz[0],t.xyz[1],t.xyz[2]),l=s.geometry.coordinates,c={loc:l,id:s.properties.id,first_seen_at:s.properties.first_seen_at,last_seen_at:s.properties.last_seen_at,value:s.properties.value},r.push({minX:l[0],minY:l[1],maxX:l[0],maxY:l[1],data:c});i.rtree&&i.rtree.load(r)}}function kg(e){return fetch(e).then((function(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.json()})).then((function(e){return e&&e.data||[]}))}function hS(e){let t=Tt(e.scale()),n=Math.ceil(2*t)/2+2.5;return Jt().zoomExtent([n,n]).getTiles(e).map((function(e){return e.extent}))}function g9(e,t,n){return e=e||5,hS(t).reduce((function(t,r){let i=n.search(r.bbox()).slice(0,e).map((function(e){return e.data}));return i.length?t.concat(i):t}),[])}var x9={init:function(){vr||this.reset(),this.event=fe(this,ra,"on")},reset:function(){vr&&Object.values(vr.requests.inflight).forEach((function(e){e.abort()})),vr={images:{rtree:new k2.default,forImageId:{}},image_detections:{forImageId:{}},signs:{rtree:new k2.default},points:{rtree:new k2.default},sequences:{rtree:new k2.default,lineString:{}},requests:{loaded:{},inflight:{}}},To=null},images:function(e){return g9(5,e,vr.images.rtree)},signs:function(e){return g9(5,e,vr.signs.rtree)},mapFeatures:function(e){return g9(5,e,vr.points.rtree)},cachedImage:function(e){return vr.images.forImageId[e]},sequences:function(e){let t=e.clipExtent(),n=[t[0][0],t[1][1]],r=[t[1][0],t[0][1]],i=he(e.invert(n),e.invert(r)).bbox(),a={},o=[];return vr.images.rtree.search(i).forEach((function(e){e.data.sequence_id&&(a[e.data.sequence_id]=!0)})),Object.keys(a).forEach((function(e){vr.sequences.lineString[e]&&(o=o.concat(vr.sequences.lineString[e]))})),o},loadImages:function(e){h9("images",lS,14,e)},loadSigns:function(e){h9("signs",uS,14,e)},loadMapFeatures:function(e){h9("points",sS,14,e)},ensureViewerLoaded:function(e){if(_2)return _2;e.container().select(".photoviewer").selectAll(".mly-wrapper").data([0]).enter().append("div").attr("id","ideditor-mly").attr("class","photo-wrapper mly-wrapper").classed("hide",!0);let t=this;return _2=new Promise((t,n)=>{let r=0;function i(){r+=1,2===r&&t()}let a=$("head");a.selectAll("#ideditor-mapillary-viewercss").data([0]).enter().append("link").attr("id","ideditor-mapillary-viewercss").attr("rel","stylesheet").attr("crossorigin","anonymous").attr("href",e.asset(cS)).on("load.serviceMapillary",i).on("error.serviceMapillary",(function(){n()})),a.selectAll("#ideditor-mapillary-viewerjs").data([0]).enter().append("script").attr("id","ideditor-mapillary-viewerjs").attr("crossorigin","anonymous").attr("src",e.asset(fS)).on("load.serviceMapillary",i).on("error.serviceMapillary",(function(){n()}))}).catch((function(){_2=null})).then((function(){t.initViewer(e)}))},loadSignResources:function(e){return e.ui().svgDefs.addSprites(["mapillary-sprite"],!1),this},loadObjectResources:function(e){return e.ui().svgDefs.addSprites(["mapillary-object-sprite"],!1),this},resetTags:function(){Nr&&!cl&&Nr.getComponent("tag").removeAll()},showFeatureDetections:function(e){!(fl=e)&&!dl&&this.resetTags()},showSignDetections:function(e){dl=e,!fl&&!dl&&this.resetTags()},filterViewer:function(e){let t=e.photos().showsPanoramic(),n=e.photos().showsFlat(),r=e.photos().fromDate(),i=e.photos().toDate(),a=["all"];return t||a.push(["!=","cameraType","spherical"]),!n&&t&&a.push(["==","pano",!0]),r&&a.push([">=","capturedAt",new Date(r).getTime()]),i&&a.push([">=","capturedAt",new Date(i).getTime()]),Nr&&Nr.setFilter(a),m9=a,a},showViewer:function(e){let t=e.container().select(".photoviewer").classed("hide",!1);return t.selectAll(".photo-wrapper.mly-wrapper.hide").size()&&Nr&&(t.selectAll(".photo-wrapper:not(.mly-wrapper)").classed("hide",!0),t.selectAll(".photo-wrapper.mly-wrapper").classed("hide",!1),Nr.resize()),this},hideViewer:function(e){To=null,!cl&&Nr&&Nr.getComponent("sequence").stop();let t=e.container().select(".photoviewer");return t.empty()||t.datum(null),t.classed("hide",!0).selectAll(".photo-wrapper").classed("hide",!0),this.updateUrlImage(null),ra.call("imageChanged"),ra.call("loadedMapFeatures"),ra.call("loadedSigns"),this.setStyles(e,null)},updateUrlImage:function(e){if(!window.mocha){let t=Ut(window.location.hash);e?t.photo="mapillary/"+e:delete t.photo,window.location.replace("#"+$e(t,!0))}},highlightDetection:function(e){return e&&(p9=e.id),this},initViewer:function(e){let t=this;if(!window.mapillary)return;let n={accessToken:c4,component:{cover:!1,keyboard:!1,tag:!0},container:"ideditor-mly"};!mapillary.isSupported()&&mapillary.isFallbackSupported()&&(cl=!0,n.component={cover:!1,direction:!1,imagePlane:!1,keyboard:!1,mouse:!1,sequence:!1,tag:!1,image:!0,navigation:!0}),(Nr=new mapillary.Viewer(n)).on("image",(function(n){t.resetTags();let r=n.image;t.setActiveImage(r),t.setStyles(e,null);let i=[r.originalLngLat.lng,r.originalLngLat.lat];e.map().centerEase(i),t.updateUrlImage(r.id),(fl||dl)&&t.updateDetections(r.id,"".concat(_g,"/").concat(r.id,"/detections?access_token=").concat(c4,"&fields=id,image,geometry,value")),ra.call("imageChanged")})),Nr.on("bearing",(function(e){ra.call("bearingChanged",void 0,e)})),m9&&Nr.setFilter(m9),e.ui().photoviewer.on("resize.mapillary",(function(){Nr&&Nr.resize()}))},selectImage:function(e,t){return Nr&&t&&Nr.moveTo(t).catch((function(e){console.error("mly3",e)})),this},getActiveImage:function(){return To},getDetections:function(e){return kg("".concat(_g,"/").concat(e,"/detections?access_token=").concat(c4,"&fields=id,value,image"))},setActiveImage:function(e){To=e?{ca:e.originalCompassAngle,id:e.id,loc:[e.originalLngLat.lng,e.originalLngLat.lat],is_pano:"spherical"===e.cameraType,sequence_id:e.sequenceId}:null},setStyles:function(e,t){let n=t&&t.id,r=t&&t.sequence_id,i=To&&To.sequence_id;return e.container().selectAll(".layer-mapillary .viewfield-group").classed("highlighted",(function(e){return e.sequence_id===i||e.id===n})).classed("hovered",(function(e){return e.id===n})),e.container().selectAll(".layer-mapillary .sequence").classed("highlighted",(function(e){return e.properties.id===r})).classed("currentView",(function(e){return e.properties.id===i})),this},updateDetections:function(e,t){if(!Nr||cl||!e)return;let n=vr.image_detections;function r(e){let t=Nr.getComponent("tag");e.forEach((function(e){let n=function(e){let t=e.value.split("--");if(!t.length)return;let n,r,i=16777215;p9===e.id&&(i=16776960,r=t[1],("flat"===r||"discrete"===r||"sign"===r)&&(r=t[2]),r=r.replace(/-/g," "),r=r.charAt(0).toUpperCase()+r.slice(1),p9=null);for(var a=window.atob(e.geometry),o=new Uint8Array(a.length),s=0;s<a.length;s++)o[s]=a.charCodeAt(s);let l=new y9.VectorTile(new v9.default(o.buffer)).layers["mpy-or"],c=l.feature(0).loadGeometry().map(e=>e.map(e=>[e.x/l.extent,e.y/l.extent]));return n=new mapillary.OutlineTag(e.id,new mapillary.PolygonGeometry(c[0]),{text:r,textColor:i,lineColor:i,lineWidth:2,fillColor:i,fillOpacity:.3}),n}(e);n&&t.add([n])}))}n.forImageId[e]?r(vr.image_detections.forImageId[e]):kg(t).then(t=>{t.forEach((function(t){n.forImageId[e]||(n.forImageId[e]=[]),n.forImageId[e].push({geometry:t.geometry,id:t.id,image_id:e,value:t.value})})),r(vr.image_detections.forImageId[e]||[])})},cache:function(){return vr}};function st(e){this.type=e.type,this.subtype=e.subtype,this.severity=e.severity,this.message=e.message,this.reference=e.reference,this.entityIds=e.entityIds,this.loc=e.loc,this.data=e.data,this.dynamicFixes=e.dynamicFixes,this.hash=e.hash,this.id=function(){var e=[this.type];if(this.hash&&e.push(this.hash),this.subtype&&e.push(this.subtype),this.entityIds){var t=this.entityIds.slice().sort();e.push.apply(e,t)}return e.join(":")}.apply(this),this.key=function(){return this.id+":"+Date.now().toString()}.apply(this),this.autoFix=null,this.extent=function(e){return this.loc?he(this.loc):this.entityIds&&this.entityIds.length?this.entityIds.reduce((function(t,n){return t.extend(e.entity(n).extent(e))}),he()):null},this.fixes=function(e){var t=this.dynamicFixes?this.dynamicFixes(e):[],n=this;return"warning"===n.severity&&t.push(new He({title:C.html("issues.fix.ignore_issue.title"),icon:"iD-icon-close",onClick:function(){e.validator().ignoreIssue(this.issue.id)}})),t.forEach((function(e){e.id=e.title,e.issue=n,e.autoArgs&&(n.autoFix=e)})),t}}function He(e){this.title=e.title,this.onClick=e.onClick,this.disabledReason=e.disabledReason,this.icon=e.icon,this.entityIds=e.entityIds||[],this.autoArgs=e.autoArgs,this.issue=null}var gS=function(){return{equals:function(e){return function(t){return Object.keys(e).every((function(n){return e[n]===t[n]}))}},notEquals:function(e){return function(t){return Object.keys(e).some((function(n){return e[n]!==t[n]}))}},absence:function(e){return function(t){return-1===Object.keys(t).indexOf(e)}},presence:function(e){return function(t){return Object.keys(t).indexOf(e)>-1}},greaterThan:function(e){var t=Object.keys(e)[0],n=e[t];return function(e){return e[t]>n}},greaterThanEqual:function(e){var t=Object.keys(e)[0],n=e[t];return function(e){return e[t]>=n}},lessThan:function(e){var t=Object.keys(e)[0],n=e[t];return function(e){return e[t]<n}},lessThanEqual:function(e){var t=Object.keys(e)[0],n=e[t];return function(e){return e[t]<=n}},positiveRegex:function(e){var t=Object.keys(e)[0],n=e[t].join("|"),r=new RegExp(n);return function(e){return r.test(e[t])}},negativeRegex:function(e){var t=Object.keys(e)[0],n=e[t].join("|"),r=new RegExp(n);return function(e){return!r.test(e[t])}}}},vS=function(){return{highway:{rest_area:!0,services:!0},railway:{roundhouse:!0,station:!0,traverser:!0,turntable:!0,wash:!0}}},w9={init:function(){this._ruleChecks=gS(),this._validationRules=[],this._areaKeys=Bi,this._lineKeys=vS()},filterRuleChecks:function(e){var t=this._ruleChecks;return Object.keys(e).reduce((function(n,r){return-1===["geometry","error","warning"].indexOf(r)&&n.push(t[r](e[r])),n}),[])},buildTagMap:function(e){return Object.keys(e).reduce((function(t,n){var r,i=/regex/gi.test(n),a=/equals/gi.test(n);if(i||a)Object.keys(e[n]).forEach((function(i){r=a?[e[n][i]]:function(e){return e.map((function(e){return e.replace(/\$|\^/g,"")}))}(e[n][i]),t.hasOwnProperty(i)&&(r=r.concat(t[i])),t[i]=r}));else if(/(greater|less)Than(Equal)?|presence/g.test(n)){var o=/presence/.test(n)?e[n]:Object.keys(e[n])[0];r=[e[n][o]],t.hasOwnProperty(o)&&(r=r.concat(t[o])),t[o]=r}return t}),{})},inferGeometry:function(e){var t,n=this._lineKeys,r=this._areaKeys,i=function(t){return Xt(e[t],Object.keys(n[t])).length>0};if(e.hasOwnProperty("area")){if(e.area.indexOf("yes")>-1)return"area";if(e.area.indexOf("no")>-1)return"line"}for(var a in e)if(a in r&&!(Xt(e[t=a],Object.keys(r[t])).length>0)||a in n&&i(a))return"area";return"line"},addRule:function(e){var t={checks:this.filterRuleChecks(e),matches:function(e){return this.checks.every((function(t){return t(e.tags)}))},inferredGeometry:this.inferGeometry(this.buildTagMap(e),this._areaKeys),geometryMatches:function(t,n){return"node"===t.type||"relation"===t.type?e.geometry===t.type:"way"===t.type?this.inferredGeometry===t.geometry(n):void 0},findIssues:function(t,n,r){if(this.geometryMatches(t,n)&&this.matches(t)){var i=Object.keys(e).indexOf("error")>-1?"error":"warning",a=e[i];r.push(new st({type:"maprules",severity:i,message:function(){return a},entityIds:[t.id]}))}}};this._validationRules.push(t)},clearRules:function(){this._validationRules=[]},validationRules:function(){return this._validationRules},ruleChecks:function(){return this._ruleChecks}},_9=je(si()),Eg="https://nominatim.openstreetmap.org/",fi={},pl,k9={init:function(){fi={},pl=new _9.default},reset:function(){Object.values(fi).forEach((function(e){e.abort()})),fi={},pl=new _9.default},countryCode:function(e,t){this.reverse(e,(function(e,n){return e?t(e):n.address?t(null,n.address.country_code):t("Unable to geocode",null)}))},reverse:function(e,t){var n=pl.search({minX:e[0],minY:e[1],maxX:e[0],maxY:e[1]});if(n.length>0)t&&t(null,n[0].data);else{var r={zoom:13,format:"json",addressdetails:1,lat:e[1],lon:e[0]},i=Eg+"reverse?"+$e(r);if(!fi[i]){var a=new AbortController;fi[i]=a,mt(i,{signal:a.signal}).then((function(n){if(delete fi[i],n&&n.error)throw new Error(n.error);var r=he(e).padByMeters(200);pl.insert(Object.assign(r.bbox(),{data:n})),t&&t(null,n)})).catch((function(e){delete fi[i],"AbortError"!==e.name&&t&&t(e.message)}))}}},search:function(e,t){var n=encodeURIComponent(e),r=Eg+"search/"+n+"?limit=10&format=json";if(!fi[r]){var i=new AbortController;fi[r]=i,mt(r,{signal:i.signal}).then((function(e){if(delete fi[r],e&&e.error)throw new Error(e.error);t&&t(null,e)})).catch((function(e){delete fi[r],"AbortError"!==e.name&&t&&t(e.message)}))}}},Tg=je(e2(),1),Ag=je(f3(),1);function No(e){return"string"!=typeof e?"":Ag.default.remove(e.replace(/&/g,"and").replace(/\u0130/gi,"i").replace(/[\s\-=_!"#%'*{},.\/:;?\(\)\[\]@\\$\^*+<>\xab\xbb~`\u2019\u00a1\u00a7\u00b6\u00b7\u00bf\u037e\u0387\u055a-\u055f\u0589\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0af0\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f14\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1360-\u1368\u166d\u166e\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u1805\u1807-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cc0-\u1cc7\u1cd3\u2000-\u206f\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00-\u2e7f\u3001-\u3003\u303d\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uaaf0\uaaf1\uabeb\ufe10-\ufe16\ufe19\ufe30\ufe45\ufe46\ufe49-\ufe4c\ufe50-\ufe52\ufe54-\ufe57\ufe5f-\ufe61\ufe68\ufe6a\ufe6b\ufeff\uff01-\uff03\uff05-\uff07\uff0a\uff0c\uff0e\uff0f\uff1a\uff1b\uff1f\uff20\uff3c\uff61\uff64\uff65]+/g,"").toLowerCase())}var yS={adult_gaming_centre:["amenity/casino","amenity/gambling","leisure/adult_gaming_centre"],beauty:["shop/beauty","shop/hairdresser_supply"],bed:["shop/bed","shop/furniture"],beverages:["shop/alcohol","shop/beer","shop/beverages","shop/wine"],camping:["leisure/park","tourism/camp_site","tourism/caravan_site"],car_parts:["shop/car_parts","shop/car_repair","shop/tires","shop/tyres"],clinic:["amenity/clinic","amenity/doctors","healthcare/clinic","healthcare/dialysis"],confectionery:["shop/candy","shop/chocolate","shop/confectionery"],convenience:["shop/beauty","shop/chemist","shop/convenience","shop/cosmetics","shop/grocery","shop/newsagent","shop/perfumery"],coworking:["amenity/coworking_space","office/coworking","office/coworking_space"],dentist:["amenity/dentist","amenity/doctors","healthcare/dentist"],electronics:["office/telecommunication","shop/computer","shop/electronics","shop/hifi","shop/mobile","shop/mobile_phone","shop/telecommunication"],fabric:["shop/fabric","shop/haberdashery","shop/sewing"],fashion:["shop/accessories","shop/bag","shop/botique","shop/clothes","shop/department_store","shop/fashion","shop/fashion_accessories","shop/sports","shop/shoes"],financial:["amenity/bank","office/accountant","office/financial","office/financial_advisor","office/tax_advisor","shop/tax"],fitness:["leisure/fitness_centre","leisure/fitness_center","leisure/sports_centre","leisure/sports_center"],food:["amenity/pub","amenity/bar","amenity/cafe","amenity/fast_food","amenity/ice_cream","amenity/restaurant","shop/bakery","shop/ice_cream","shop/pastry","shop/tea","shop/coffee"],fuel:["amenity/fuel","shop/gas","shop/convenience;gas","shop/gas;convenience"],gift:["shop/gift","shop/card","shop/cards","shop/stationery"],hardware:["shop/bathroom_furnishing","shop/carpet","shop/diy","shop/doityourself","shop/doors","shop/electrical","shop/flooring","shop/hardware","shop/hardware_store","shop/power_tools","shop/tool_hire","shop/tools","shop/trade"],health_food:["shop/health","shop/health_food","shop/herbalist","shop/nutrition_supplements"],hobby:["shop/electronics","shop/hobby","shop/books","shop/games","shop/collector","shop/toys","shop/model","shop/video_games","shop/anime"],hospital:["amenity/doctors","amenity/hospital","healthcare/hospital"],houseware:["shop/houseware","shop/interior_decoration"],lifeboat_station:["amenity/lifeboat_station","emergency/lifeboat_station","emergency/marine_rescue"],lodging:["tourism/hotel","tourism/motel"],money_transfer:["amenity/money_transfer","shop/money_transfer"],office_supplies:["shop/office_supplies","shop/stationary","shop/stationery"],outdoor:["shop/outdoor","shop/sports"],pharmacy:["amenity/doctors","amenity/pharmacy","healthcare/pharmacy"],playground:["amenity/theme_park","leisure/amusement_arcade","leisure/playground"],rental:["amenity/bicycle_rental","amenity/boat_rental","amenity/car_rental","amenity/truck_rental","amenity/vehicle_rental","shop/rental"],school:["amenity/childcare","amenity/college","amenity/kindergarten","amenity/language_school","amenity/prep_school","amenity/school","amenity/university"],storage:["shop/storage_units","shop/storage_rental"],substation:["power/station","power/substation","power/sub_station"],supermarket:["shop/food","shop/frozen_food","shop/greengrocer","shop/grocery","shop/supermarket","shop/wholesale"],variety_store:["shop/variety_store","shop/discount","shop/convenience"],vending:["amenity/vending_machine","shop/vending_machine"],weight_loss:["amenity/doctors","amenity/weight_clinic","healthcare/counselling","leisure/fitness_centre","office/therapist","shop/beauty","shop/diet","shop/food","shop/health_food","shop/herbalist","shop/nutrition","shop/nutrition_supplements","shop/weight_loss"],wholesale:["shop/wholesale","shop/supermarket","shop/department_store"]},Cg={matchGroups:yS},bS=["^(barn|bazaa?r|bench|bou?tique|building|casa|church)$","^(baseball|basketball|football|soccer|softball|tennis(halle)?)\\s?(field|court)?$","^(club|green|out|ware)\\s?house$","^(driveway|el \xe1rbol|fountain|golf|government|graveyard)$","^(fixme|n\\s?\\/?\\s?a|name|no\\s?name|none|null|temporary|test|unknown)$","^(hofladen|librairie|magazine?|maison)$","^(mobile home|skate)?\\s?park$","^(obuwie|pond|pool|sale|shops?|sklep|stores?)$","^\\?+$","^private$","^tattoo( studio)?$","^windmill$","^\u0446\u0435\u0440\u043a\u043e\u0432\u043d\u0430\u044f( \u043b\u0430\u0432\u043a\u0430)?$"],Dg={genericWords:bS},xS={brands:{emoji:"\ud83c\udf54",mainTag:"brand:wikidata",sourceTags:["brand","name"],nameTags:{primary:"^(name|name:\\w+)$",alternate:"^(brand|brand:\\w+|operator|operator:\\w+|\\w+_name|\\w+_name:\\w+)$"}},flags:{emoji:"\ud83d\udea9",mainTag:"flag:wikidata",nameTags:{primary:"^(flag:name|flag:name:\\w+)$",alternate:"^(country|country:\\w+|flag|flag:\\w+|subject|subject:\\w+)$"}},operators:{emoji:"\ud83d\udcbc",mainTag:"operator:wikidata",sourceTags:["operator"],nameTags:{primary:"^(name|name:\\w+|operator|operator:\\w+)$",alternate:"^(brand|brand:\\w+|\\w+_name|\\w+_name:\\w+)$"}},transit:{emoji:"\ud83d\ude87",mainTag:"network:wikidata",sourceTags:["network"],nameTags:{primary:"^network$",alternate:"^(operator|operator:\\w+|network:\\w+|\\w+_name|\\w+_name:\\w+)$"}}},Ig={trees:xS},E9=Cg.matchGroups,wS=Ig.trees,E2=class{constructor(){this.matchIndex=void 0,this.genericWords=new Map,(Dg.genericWords||[]).forEach(e=>this.genericWords.set(e,new RegExp(e,"i"))),this.itemLocation=void 0,this.locationSets=void 0,this.locationIndex=void 0,this.warnings=[]}buildMatchIndex(e){let t=this;if(t.matchIndex)return;t.matchIndex=new Map;let n=new Map;function r(e,r,i,a,o){if(!a)return void t.warnings.push("Warning: skipping empty ".concat(e," name for item ").concat(r,"/").concat(i,": ").concat(o));let s=t.matchIndex.get(i);s||(s={primary:new Map,alternate:new Map,excludeGeneric:new Map,excludeNamed:new Map},t.matchIndex.set(i,s));let l=s[e].get(a);if(l||(l=new Set,s[e].set(a,l)),l.add(o),!/yes$/.test(i)){let e="".concat(i,"/").concat(a),o=n.get(e);if(o&&o!==r){let n=Array.from(l);return void t.warnings.push('Duplicate cache key "'.concat(e,'" in trees "').concat(r,'" and "').concat(o,'", check items: ').concat(n))}n.set(e,r)}}Object.keys(e).forEach(n=>{let i=e[n],a=n.split("/",3),o=a[0],s=a[1],l=a[2],c="".concat(s,"/").concat(l),u=wS[o],d=t.matchIndex.get(c);d||(d={primary:new Map,alternate:new Map,excludeGeneric:new Map,excludeNamed:new Map},t.matchIndex.set(c,d));let p=(i.properties||{}).exclude||{};(p.generic||[]).forEach(e=>d.excludeGeneric.set(e,new RegExp(e,"i"))),(p.named||[]).forEach(e=>d.excludeNamed.set(e,new RegExp(e,"i")));let f=[...d.excludeGeneric.values(),...d.excludeNamed.values()],h=i.items;if(!Array.isArray(h)||!h.length)return;let g=new RegExp(u.nameTags.primary,"i"),m=new RegExp(u.nameTags.alternate,"i"),y=/:(colou?r|type|forward|backward|left|right|etymology|pronunciation|wikipedia)$/i,v=function(e,t,n){return"flags"===e||"transit"===e||"landuse"===t||"atm"===n||"bicycle_parking"===n||"car_sharing"===n||"caravan_site"===n||"charging_station"===n||"dog_park"===n||"parking"===n||"phone"===n||"playground"===n||"post_box"===n||"public_bookcase"===n||"recycling"===n||"vending_machine"===n}(o,s,l),b=new Set(["".concat(s,"/yes"),"building/yes"]),w=new Set;Object.values(E9).forEach(e=>{!e.some(e=>e===c)||e.forEach(e=>{if(e===c)return;w.add(e);let t=e.split("/",2)[0];b.add("".concat(t,"/yes"))})}),h.forEach(e=>{if(!e.id)return;Array.isArray(e.matchTags)&&e.matchTags.length&&(e.matchTags=e.matchTags.filter(e=>!w.has(e)&&!b.has(e)),e.matchTags.length||delete e.matchTags);let n=["".concat(c)].concat(e.matchTags||[]);v||(n=n.concat(Array.from(b))),Object.keys(e.tags).forEach(t=>{if(y.test(t))return;let i=e.tags[t];!i||f.some(e=>e.test(i))||(g.test(t)?n.forEach(t=>r("primary",o,t,No(i),e.id)):m.test(t)&&n.forEach(t=>r("alternate",o,t,No(i),e.id)))});let i=new Set;(e.matchNames||[]).forEach(a=>{let s=No(a);n.forEach(n=>{let l=t.matchIndex.get(n),c=l&&l.primary.get(s),u=l&&l.alternate.get(s),d=c&&c.has(e.id),p=u&&u.has(e.id);!d&&!p&&(r("alternate",o,n,s,e.id),i.add(a))})}),i.size?e.matchNames=Array.from(i):delete e.matchNames})})}buildLocationIndex(e,t){let n=this;n.locationIndex||(n.itemLocation=new Map,n.locationSets=new Map,Object.keys(e).forEach(r=>{let i=e[r].items;!Array.isArray(i)||!i.length||i.forEach(e=>{if(n.itemLocation.has(e.id))return;let r;try{r=t.resolveLocationSet(e.locationSet)}catch(a){console.warn("buildLocationIndex: ".concat(a.message))}if(!r||!r.id||(n.itemLocation.set(e.id,r.id),n.locationSets.has(r.id)))return;let i=function(e){return JSON.parse(JSON.stringify(e))}(r.feature);if(i.id=r.id,i.properties.id=r.id,!i.geometry.coordinates.length||!i.properties.area)return console.warn("buildLocationIndex: locationSet ".concat(r.id," for ").concat(e.id," resolves to an empty feature:")),void console.warn(JSON.stringify(i));n.locationSets.set(r.id,i)})}),n.locationIndex=(0,Tg.default)({type:"FeatureCollection",features:[...n.locationSets.values()]}))}match(e,t,n,r){let i,a=this;if(!a.matchIndex)throw new Error("match:  matchIndex not built.");Array.isArray(r)&&a.locationIndex&&(i=a.locationIndex([r[0],r[1],r[0],r[1]],!0));let o=No(n),s=new Set,l=[];return c("primary"),c("alternate"),l.length?l:(c("exclude"),l.length?l:null);function c(r){let i="".concat(e,"/").concat(t),o=u(r,i);if(!o){for(let e in E9){let t=E9[e];if(t.some(e=>e===i))for(let e=0;e<t.length;e++){let n=t[e];if(n!==i&&(o=u(r,n),o))return}}if("exclude"===r){let e=[...a.genericWords.values()].find(e=>e.test(n));if(e)return void l.push({match:"excludeGeneric",pattern:String(e)})}}}function u(e,t){let r=a.matchIndex.get(t);if(!r)return;if("exclude"===e){let e=[...r.excludeNamed.values()].find(e=>e.test(n));return e?void l.push({match:"excludeNamed",pattern:String(e),kv:t}):(e=[...r.excludeGeneric.values()].find(e=>e.test(n)),e?void l.push({match:"excludeGeneric",pattern:String(e),kv:t}):void 0)}let c=r[e].get(o);if(!c||!c.size)return;let u=Array.from(c).map(n=>{let r=1/0;if(a.itemLocation&&a.locationSets){let e=a.locationSets.get(a.itemLocation.get(n));r=e&&e.properties.area||1/0}return{match:e,itemID:n,area:r,kv:t,nsimple:o}}),d=function(e,t){return t.area-e.area};if(i&&(u=u.filter((function(e){return!a.itemLocation||i.find(t=>t.id===a.itemLocation.get(e.itemID))})),d=function(e,t){return e.area-t.area}),u.length)return u.sort(d).forEach(e=>{s.has(e.itemID)||(s.add(e.itemID),l.push(e))}),!0}}getWarnings(){return this.warnings}},Kv=je(tu());function _S(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Oo=_S,kS="object"==typeof global&&global&&global.Object===Object&&global,Ng=kS,ES="object"==typeof self&&self&&self.Object===Object&&self,AS=Ng||ES||Function("return this")(),ml=AS,SS=function(){return ml.Date.now()},hl=SS,CS=/\s/;function FS(e){for(var t=e.length;t--&&CS.test(e.charAt(t)););return t}var Og=FS,DS=/^\s+/;function MS(e){return e&&e.slice(0,Og(e)+1).replace(DS,"")}var Pg=MS,IS=ml.Symbol,f4=IS,Rg=Object.prototype,TS=Rg.hasOwnProperty,NS=Rg.toString,A2=f4?f4.toStringTag:void 0;function OS(e){var t=TS.call(e,A2),n=e[A2];try{e[A2]=void 0;var r=!0}catch{}var i=NS.call(e);return r&&(t?e[A2]=n:delete e[A2]),i}var Lg=OS,PS=Object.prototype,RS=PS.toString;function LS(e){return RS.call(e)}var Bg=LS,BS="[object Null]",US="[object Undefined]",Ug=f4?f4.toStringTag:void 0;function zS(e){return null==e?void 0===e?US:BS:Ug&&Ug in Object(e)?Lg(e):Bg(e)}var zg=zS;function qS(e){return null!=e&&"object"==typeof e}var qg=qS,VS="[object Symbol]";function jS(e){return"symbol"==typeof e||qg(e)&&zg(e)==VS}var Vg=jS,jg=NaN,QS=/^[-+]0x[0-9a-f]+$/i,$S=/^0b[01]+$/i,GS=/^0o[0-7]+$/i,HS=parseInt;function WS(e){if("number"==typeof e)return e;if(Vg(e))return jg;if(Oo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Oo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Pg(e);var n=$S.test(e);return n||GS.test(e)?HS(e.slice(2),n?2:8):QS.test(e)?jg:+e}var A9=WS,KS="Expected a function",XS=Math.max,YS=Math.min;function ZS(e,t,n){var r,i,a,o,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(KS);function f(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function h(e){return c=e,s=setTimeout(m,t),u?f(e):o}function g(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=a}function m(){var e=hl();if(g(e))return y(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?YS(n,a-(e-c)):n}(e))}function y(e){return s=void 0,p&&r?f(e):(r=i=void 0,o)}function v(){var e=hl(),n=g(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return h(l);if(d)return clearTimeout(s),s=setTimeout(m,t),f(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=A9(t)||0,Oo(n)&&(u=!!n.leading,a=(d="maxWait"in n)?XS(A9(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?o:y(hl())},v}var ft=ZS,d4=je(zn());function Ii(e,t){var n={},r={},i={};function a(i){var a=t.entities[i],o=e.entities[i];if(a!==o&&!n[i]){if(!a&&o)return n[i]={base:o,head:a},void(r.deletion=!0);if(a&&!o)return n[i]={base:o,head:a},void(r.addition=!0);if(a&&o){if(a.members&&o.members&&!(0,d4.default)(a.members,o.members))return n[i]={base:o,head:a},r.geometry=!0,void(r.properties=!0);a.loc&&o.loc&&!ur(a.loc,o.loc)&&(n[i]={base:o,head:a},r.geometry=!0),a.nodes&&o.nodes&&!(0,d4.default)(a.nodes,o.nodes)&&(n[i]={base:o,head:a},r.geometry=!0),a.tags&&o.tags&&!(0,d4.default)(a.tags,o.tags)&&(n[i]={base:o,head:a},r.properties=!0)}}}return function(){for(var n=Te(Object.keys(t.entities).concat(Object.keys(e.entities))),r=0;r<n.length;r++)a(n[r])}(),i.length=function(){return Object.keys(n).length},i.changes=function(){return n},i.didChange=r,i.extantIDs=function(e){var r=new Set;return Object.keys(n).forEach((function(i){n[i].head&&r.add(i);var a=n[i].head,o=n[i].base;e&&"relation"===(a||o).type&&xt(a?a.members.map((function(e){return e.id})):[],o?o.members.map((function(e){return e.id})):[]).forEach((function(e){t.hasEntity(e)&&r.add(e)}))})),Array.from(r)},i.modified=function(){var e=[];return Object.values(n).forEach((function(t){t.base&&t.head&&e.push(t.head)})),e},i.created=function(){var e=[];return Object.values(n).forEach((function(t){!t.base&&t.head&&e.push(t.head)})),e},i.deleted=function(){var e=[];return Object.values(n).forEach((function(t){t.base&&!t.head&&e.push(t.base)})),e},i.summary=function(){for(var r={},i=Object.keys(n),a=0;a<i.length;a++){var o=n[i[a]];if(o.head&&"vertex"!==o.head.geometry(t))c(o.head,t,o.base?"modified":"created");else if(o.base&&"vertex"!==o.base.geometry(e))c(o.base,e,"deleted");else if(o.base&&o.head){var s=!(0,d4.default)(o.base.loc,o.head.loc),l=!(0,d4.default)(o.base.tags,o.head.tags);s&&u(o.head),(l||s&&o.head.hasInterestingTags())&&c(o.head,t,"modified")}else o.head&&o.head.hasInterestingTags()?c(o.head,t,"created"):o.base&&o.base.hasInterestingTags()&&c(o.base,e,"deleted")}return Object.values(r);function c(e,t,n){r[e.id]={entity:e,graph:t,changeType:n}}function u(e){for(var n=t.parentWays(e),i=n.length-1;i>=0;i--){var a=n[i];a.id in r||c(a,t,"modified")}}},i.complete=function(r){var i,a,o={};for(i in n){var s,l=(a=n[i]).head,c=a.base,u=l||c;if(!r||l&&l.intersects(r,t)||c&&c.intersects(r,e)){if(o[i]=l,"way"===u.type){var d,p=l?l.nodes:[],f=c?c.nodes:[];for(d=Vt(p,f),s=0;s<d.length;s++)o[d[s]]=t.hasEntity(d[s]);for(d=Vt(f,p),s=0;s<d.length;s++)o[d[s]]=t.hasEntity(d[s])}if("relation"===u.type&&u.isMultipolygon()){var h=xt(l?l.members.map((function(e){return e.id})):[],c?c.members.map((function(e){return e.id})):[]);for(s=0;s<h.length;s++){var g=t.hasEntity(h[s]);!g||r&&!g.intersects(r,t)||(o[h[s]]=g)}}m(t.parentWays(u),o),m(t.parentRelations(u),o)}}return o;function m(e,n){for(var r=0;r<e.length;r++){var i=e[r];i.id in n||(n[i.id]=i,m(t.parentRelations(i),n))}}},i}var S9=je(si());function gl(e){var t=new S9.default,n={},r=new S9.default,i={},a={},o={};function s(t){var r=t.extent(e).bbox();return r.id=t.id,n[t.id]=r,r}function l(t){var n=t.extent(e);if(!n)return null;var r=n.bbox();return r.segment=t,i[t.id]=r,r}function c(e){t.remove(n[e.id]),delete n[e.id],a[e.id]&&(a[e.id].forEach((function(e){r.remove(i[e.id]),delete i[e.id]})),delete a[e.id])}function u(n){t.load(n.map(s));var i=[];n.forEach((function(t){if(t.segments){var n=t.segments(e);a[t.id]=n,i=i.concat(n)}})),i.length&&r.load(i.map(l).filter(Boolean))}function d(t,r,i){e.parentWays(t).forEach((function(e){n[e.id]&&(c(e),r[e.id]=e),d(e,r,i)})),e.parentRelations(t).forEach((function(e){i[t.id]||(i[t.id]=!0,n[e.id]&&(c(e),r[e.id]=e),d(e,r,i))}))}function p(t){if(t!==e){var n=Ii(e,t);e=t;var r=n.didChange;if(r.addition||r.deletion||r.geometry){var i={};r.deletion&&n.deleted().forEach((function(e){c(e)})),r.geometry&&n.modified().forEach((function(e){c(e),i[e.id]=e,d(e,i,{})})),r.addition&&n.created().forEach((function(e){i[e.id]=e})),u(Object.values(i))}}}return o.rebase=function(t,r){for(var i={},a=0;a<t.length;a++){var s=t[a];if(s.visible){if(e.entities.hasOwnProperty(s.id)||n[s.id]){if(!r)continue;n[s.id]&&c(s)}i[s.id]=s,d(s,i,{})}}return u(Object.values(i)),o},o.intersects=function(e,n){return p(n),t.search(e.bbox()).map((function(e){return n.entity(e.id)}))},o.waySegments=function(e,t){return p(t),r.search(e.bbox()).map((function(e){return e.segment}))},o}function re(e,t,n){return function(r){r.selectAll("svg.icon"+(t?"."+t.split(" ")[0]:"")).data([0]).enter().append("svg").attr("class","icon "+(t||"")).append("use").attr("xlink:href",e).attr("class",n)}}function nn(e,t){let n=Ie("modal"),r=e.select("div.modal"),i=r.empty();r.transition().duration(200).style("opacity",0).remove();let a=e.append("div").attr("class","shaded").style("opacity",0);a.close=()=>{a.transition().duration(200).style("opacity",0).remove(),o.transition().duration(200).style("top","0px"),$(document).call(n.unbind)};let o=a.append("div").attr("class","modal fillL");return o.append("input").attr("class","keytrap keytrap-first").on("focus.keytrap",(function(){let e=o.selectAll("a, button, input:not(.keytrap), select, textarea").nodes();e.length?e[e.length-1].focus():$(this).node().blur()})),t||(a.on("click.remove-modal",e=>{e.target===this&&a.close()}),o.append("button").attr("class","close").attr("title",C("icons.close")).on("click",a.close).call(re("#iD-icon-close")),n.on("\u232b",a.close).on("\u238b",a.close),$(document).call(n)),o.append("div").attr("class","content"),o.append("input").attr("class","keytrap keytrap-last").on("focus.keytrap",(function(){let e=o.select("a, button, input:not(.keytrap), select, textarea").node();e?e.focus():$(this).node().blur()})),i?a.transition().style("opacity",1):a.style("opacity",1),a}function na(e){let t=$(null),n="",r=!1,i=a=>{t=nn(a,r);let o=t.select(".content").classed("loading-modal",!0).append("div").attr("class","modal-section fillL");return o.append("img").attr("class","loader").attr("src",e.imagePath("loader-white.gif")),o.append("h3").html(n),t.select("button.close").attr("class","hide"),i};return i.message=function(e){return arguments.length?(n=e,i):n},i.blocking=function(e){return arguments.length?(r=e,i):r},i.close=()=>{t.remove()},i.isShown=()=>t&&!t.empty()&&t.node().parentNode,i}function vl(e){var t,n,r,i,a=se("reset","change","merge","restore","undone","redone","storage_error"),o=E3("lock"),s=o.lock()&&!!ce(m("saved_history")),l=[],c=[],u={};function d(t,i){var a;"function"!=typeof(t=Array.prototype.slice.call(t))[t.length-1]&&(a=t.pop());for(var o=n[r].graph,s=0;s<t.length;s++)o=t[s](o,i);return{graph:o,annotation:a,imageryUsed:l,photoOverlaysUsed:c,transform:e.projection.transform(),selectedIDs:e.selectedIDs()}}function p(e,t){var i=n[r].graph;n=n.slice(0,r+1);var a=d(e,t);return n.push(a),r++,g(i)}function f(e,t){var i=n[r].graph,a=d(e,t);return n[r]=a,g(i)}function h(e,t){var i=n[r].graph;r>0&&(r--,n.pop()),n=n.slice(0,r+1);var a=d(e,t);return n.push(a),r++,g(i)}function g(e){var n=Ii(e,y.graph());return t||a.call("change",this,n),n}function m(e){return"iD_"+window.location.origin+"_"+e}var y={graph:function(){return n[r].graph},tree:function(){return i},base:function(){return n[0].graph},merge:function(e){var t=n.map((function(e){return e.graph}));n[0].graph.rebase(e,t,!1),i.rebase(e,!1),a.call("merge",this,e)},perform:function(){$(document).interrupt("history.perform");var e=!1,t=arguments[0];if((1===arguments.length||2===arguments.length&&"function"!=typeof arguments[1])&&(e=!!t.transitionable),!e)return p(arguments);var n=arguments;$(document).transition("history.perform").duration(150).ease(Qs).tween("history.tween",(function(){return function(e){e<1&&h([t],e)}})).on("start",(function(){p([t],0)})).on("end interrupt",(function(){h(n,1)}))},replace:function(){return $(document).interrupt("history.perform"),f(arguments,1)},overwrite:function(){return $(document).interrupt("history.perform"),h(arguments,1)},pop:function(e){$(document).interrupt("history.perform");var t=n[r].graph;for((isNaN(+e)||+e<0)&&(e=1);e-- >0&&r>0;)r--,n.pop();return g(t)},undo:function(){$(document).interrupt("history.perform");for(var e=n[r],t=e.graph;r>0&&(r--,!n[r].annotation););return a.call("undone",this,n[r],e),g(t)},redo:function(){$(document).interrupt("history.perform");for(var e=n[r],t=e.graph,i=r;i<n.length-1;)if(i++,n[i].annotation){r=i,a.call("redone",this,n[r],e);break}return g(t)},pauseChangeDispatch:function(){t||(t=n[r].graph)},resumeChangeDispatch:function(){if(t){var e=t;return t=null,g(e)}},undoAnnotation:function(){for(var e=r;e>=0;){if(n[e].annotation)return n[e].annotation;e--}},redoAnnotation:function(){for(var e=r+1;e<=n.length-1;){if(n[e].annotation)return n[e].annotation;e++}},intersects:function(e){return i.intersects(e,n[r].graph)},difference:function(){return Ii(n[0].graph,n[r].graph)},changes:function(e){var t=n[0].graph,i=n[r].graph;e&&(i=e(i));var a=Ii(t,i);return{modified:a.modified(),created:a.created(),deleted:a.deleted()}},hasChanges:function(){return this.difference().length()>0},imageryUsed:function(e){if(e)return l=e,y;var t=new Set;return n.slice(1,r+1).forEach((function(e){e.imageryUsed.forEach((function(e){"Custom"!==e&&t.add(e)}))})),Array.from(t)},photoOverlaysUsed:function(e){if(e)return c=e,y;var t=new Set;return n.slice(1,r+1).forEach((function(e){e.photoOverlaysUsed&&Array.isArray(e.photoOverlaysUsed)&&e.photoOverlaysUsed.forEach((function(e){t.add(e)}))})),Array.from(t)},checkpoint:function(e){return u[e]={stack:n,index:r},y},reset:function(e){return void 0!==e&&u.hasOwnProperty(e)?(n=u[e].stack,r=u[e].index):(n=[{graph:kr()}],r=0,i=gl(n[0].graph),u={}),a.call("reset"),a.call("change"),y},toIntroGraph:function(){var e={n:0,r:0,w:0},t={},n=this.graph(),r={};return Object.values(n.base().entities).forEach((function(e){var t=i(e);r[t.id]=t})),Object.keys(n.entities).forEach((function(e){var t=n.entities[e];if(t){var a=i(t);r[a.id]=a}else delete r[e]})),Object.values(r).forEach((function(e){Array.isArray(e.nodes)&&(e.nodes=e.nodes.map((function(e){return t[e]||e}))),Array.isArray(e.members)&&(e.members=e.members.map((function(e){return e.id=t[e.id]||e.id,e})))})),JSON.stringify({dataIntroGraph:r});function i(n){var i=Mr(n,["type","user","v","version","visible"]);i.tags&&!Object.keys(i.tags)&&delete i.tags,Array.isArray(i.loc)&&(i.loc[0]=+i.loc[0].toFixed(6),i.loc[1]=+i.loc[1].toFixed(6));var a=n.id.match(/([nrw])-\d*/);if(null!==a){var o,s=a[1];do{o=s+ ++e[s]}while(r.hasOwnProperty(o));i.id=t[n.id]=o}return i}},toJSON:function(){if(this.hasChanges()){var e={},t={},i=n[0],a=n.map((function(n){var r=[],a=[];Object.keys(n.graph.entities).forEach((function(o){var s=n.graph.entities[o];if(s){var l=ye.key(s);e[l]=s,r.push(l)}else a.push(o);o in i.graph.entities&&(t[o]=i.graph.entities[o]),s&&s.nodes&&s.nodes.forEach((function(e){e in i.graph.entities&&(t[e]=i.graph.entities[e])}));var c=i.graph._parentWays[o];c&&c.forEach((function(e){e in i.graph.entities&&(t[e]=i.graph.entities[e])}))}));var o={};return r.length&&(o.modified=r),a.length&&(o.deleted=a),n.imageryUsed&&(o.imageryUsed=n.imageryUsed),n.photoOverlaysUsed&&(o.photoOverlaysUsed=n.photoOverlaysUsed),n.annotation&&(o.annotation=n.annotation),n.transform&&(o.transform=n.transform),n.selectedIDs&&(o.selectedIDs=n.selectedIDs),o}));return JSON.stringify({version:3,entities:Object.values(e),baseEntities:Object.values(t),stack:a,nextIDs:ye.id.next,index:r,timestamp:(new Date).getTime()})}},fromJSON:function(t,o){var s=JSON.parse(t),l=!0;if(ye.id.next=s.nextIDs,r=s.index,2===s.version||3===s.version){var c={};if(s.entities.forEach((function(e){c[ye.key(e)]=ye(e)})),3===s.version){var u=s.baseEntities.map((function(e){return ye(e)})),d=n.map((function(e){return e.graph}));if(n[0].graph.rebase(u,d,!0),i.rebase(u,!0),o){var p=e.connection(),f=u.filter((function(e){return"way"===e.type})).reduce((function(e,t){return xt(e,t.nodes)}),[]).filter((function(e){return!n[0].graph.hasEntity(e)}));if(f.length&&p){l=!1,e.map().redrawEnable(!1);var h=na(e).blocking(!0);e.container().call(h);var g=function(t,r){if(!t){var o=Ct(r.data,"visible"),s=o.true||[],l=o.false||[];if(s.length){var c=s.map((function(e){return e.id})),u=n.map((function(e){return e.graph}));f=Vt(f,c),n[0].graph.rebase(s,u,!0),i.rebase(s,!0)}l.forEach((function(e){p.loadEntityVersion(e.id,+e.version-1,g)}))}(t||!f.length)&&(h.close(),e.map().redrawEnable(!0),a.call("change"),a.call("restore",this))};p.loadMultiple(f,g)}}}n=s.stack.map((function(e){var t,r={};return e.modified&&e.modified.forEach((function(e){t=c[e],r[t.id]=t})),e.deleted&&e.deleted.forEach((function(e){r[e]=void 0})),{graph:kr(n[0].graph).load(r),annotation:e.annotation,imageryUsed:e.imageryUsed,photoOverlaysUsed:e.photoOverlaysUsed,transform:e.transform,selectedIDs:e.selectedIDs}}))}else n=s.stack.map((function(e){var t={};for(var r in e.entities){var i=e.entities[r];t[r]="undefined"===i?void 0:ye(i)}return e.graph=kr(n[0].graph).load(t),e}));var m=n[r].transform;return m&&e.map().transformEase(m,0),l&&(a.call("change"),a.call("restore",this)),y},lock:function(){return o.lock()},unlock:function(){o.unlock()},save:function(){return o.locked()&&!s&&(ce(m("saved_history"),y.toJSON()||null)||a.call("storage_error")),y},clearSaved:function(){return e.debouncedSave.cancel(),o.locked()&&(s=!1,ce(m("saved_history"),null),ce("comment",null),ce("hashtags",null),ce("source",null)),y},savedHistoryJSON:function(){return ce(m("saved_history"))},hasRestorableChanges:function(){return s},restore:function(){if(o.locked()){s=!1;var e=this.savedHistoryJSON();e&&y.fromJSON(e,!0)}},_getKey:m};return y.reset(),fe(y,a,"on")}var j9={};function C9(e){let t="almost_junction",n=Math.atan(.15);function r(e){return"way"===e.type&&In[e.tags.highway]}let i=function(i,a){if(!r(i))return[];if(i.isDegenerate())return[];let o=e.history().tree(),s=function(e){let t,n=[];return e.isClosed()||[0,e.nodes.length-1].forEach(i=>{let s=e.nodes[i];if(!function(e,t){let n=ne.osm;if(n&&!n.isDataLoaded(e.loc)||(r=e,"yes"===r.tags.noexit||"parking_entrance"===r.tags.amenity||r.tags.entrance&&"no"!==r.tags.entrance)||1!==a.parentWays(e).length)return!1;var r;let i=0;for(let a in t.nodes)if(t.nodes[a]===e.id&&(i+=1,i>1))return!1;return!0}(a.entity(s),e))return;let l=function(e,t){let n=e.nodes[t],i=0===t?e.nodes[1]:e.nodes[e.nodes.length-2],s=a.entity(n),l=a.entity(i),c=s.loc[0],u=s.loc[1],d=xr(5,u)/2,f=Pr(5)/2,h=he([[c-d,u-f],[c+d,u+f]]),g=5/rt(l.loc,s.loc)+1,m=gt(l.loc,s.loc,g),y=o.waySegments(h,a);for(let o=0;o<y.length;o++){let t=y[o],i=a.entity(t.wayId);if(!r(i)||!p(e,i))continue;let c=t.nodes[0],u=t.nodes[1];if(c===n||u===n)continue;let d=a.entity(c),f=a.entity(u),h=On([s.loc,m],[d.loc,f.loc]);if(h)return{mid:l,node:s,wid:i.id,edge:[d.id,f.id],cross_loc:h}}return null}(e,i);!l||(t=a.childNodes(e).slice(),t[i]=t[i].move(l.cross_loc),!Nn(t,s)&&n.push(l))}),n}(i),l=[];return s.forEach(e=>{l.push(new st({type:t,subtype:"highway-highway",severity:"warning",message:function(e){let t=e.hasEntity(this.entityIds[0]);if(this.entityIds[0]===this.entityIds[2])return t?C.html("issues.almost_junction.self.message",{feature:Ke(t,e.graph())}):"";{let n=e.hasEntity(this.entityIds[2]);return t&&n?C.html("issues.almost_junction.message",{feature:Ke(t,e.graph()),feature2:Ke(n,e.graph())}):""}},reference:u,entityIds:[i.id,e.node.id,e.wid],loc:e.node.loc,hash:JSON.stringify(e.node.loc),data:{midId:e.mid.id,edge:e.edge,cross_loc:e.cross_loc},dynamicFixes:c}))}),l;function c(t){let r=[new He({icon:"iD-icon-abutment",title:C.html("issues.fix.connect_features.title"),onClick:function(t){let r=C("issues.fix.connect_almost_junction.annotation"),[,i,o]=this.issue.entityIds,s=t.entity(this.issue.data.midId),l=t.entity(i),c=function(e,t){return[t.nodes[0],t.nodes[t.nodes.length-1]].map(e=>a.entity(e)).filter(t=>t.id!==e.id&&rt(e.loc,t.loc)<=4.25)}(l,t.entity(o));if(c.length>0){let i=function(t,r,i){let a,o=1/0;return i.forEach(n=>{let i=pr(t,r,e.projection)+Math.PI,s=pr(t,n,e.projection)+Math.PI,l=Math.max(i,s)-Math.min(i,s);l<o&&(a=n,o=l)}),o<=n?a:null}(s,l,c);if(i)return void t.perform(_n([i.id,l.id],i.loc),r)}let u=this.issue.data.edge,d=this.issue.data.cross_loc,p=v1([t.entity(u[0]),t.entity(u[1])],d);p.distance<.75?t.perform(_n([p.node.id,l.id],p.node.loc),r):t.perform(tr({loc:d,edge:u},l),r)}})],i=t.hasEntity(this.entityIds[1]);return i&&!i.hasInterestingTags()&&r.push(new He({icon:"maki-barrier",title:C.html("issues.fix.tag_as_disconnected.title"),onClick:function(e){let t=this.issue.entityIds[1],n=Object.assign({},e.entity(t).tags);n.noexit="yes",e.perform(Pt(t,n),C("issues.fix.tag_as_disconnected.annotation"))}})),r}function u(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.almost_junction.highway-highway.reference"))}function d(e,t){return void 0!==e[t]&&"no"!==e[t]}function p(e,t){if(e.id===t.id)return!0;if((d(e.tags,"bridge")||d(t.tags,"bridge"))&&(!d(e.tags,"bridge")||!d(t.tags,"bridge"))||(d(e.tags,"tunnel")||d(t.tags,"tunnel"))&&(!d(e.tags,"tunnel")||!d(t.tags,"tunnel")))return!1;return(e.tags.layer||"0")===(t.tags.layer||"0")&&(e.tags.level||"0")===(t.tags.level||"0")}};return i.type=t,i}function F9(e){var t="close_nodes",n=function(n,r){return"node"===n.type?function(n){var a=r.parentWays(n);return a.length?function(e,t){var n=[];function a(e,t,r){var i=o(e,t,r);i&&n.push(i)}for(var s=0;s<t.length;s++){var l=t[s];if(i(l))for(var c=l.nodes.length-1,u=0;u<l.nodes.length;u++)0!==u&&l.nodes[u-1]===e.id&&a(e,r.entity(l.nodes[u]),l),u!==c&&l.nodes[u+1]===e.id&&a(r.entity(l.nodes[u]),e,l)}return n}(n,a):function(n){for(var i=[],a=n.loc[0],o=n.loc[1],s=xr(.2,o)/2,l=Pr(.2)/2,c=he([[a-s,o-l],[a+s,o+l]]),u=e.history().tree().intersects(c,r),d=0;d<u.length;d++){var p=u[d];if(p.id!==n.id&&"node"===p.type&&"point"===p.geometry(r)&&(p.loc===n.loc||rt(n.loc,p.loc)<.2)){var f=!1;for(var h in{layer:!0,level:!0,"addr:housenumber":!0,"addr:unit":!0}){var g=n.tags[h]||"0",m=p.tags[h]||"0";if(g!==m){f=!0;break}}if(f)continue;i.push(new st({type:t,subtype:"detached",severity:"warning",message:function(e){var t=e.hasEntity(this.entityIds[0]),n=e.hasEntity(this.entityIds[1]);return t&&n?C.html("issues.close_nodes.detached.message",{feature:Ke(t,e.graph()),feature2:Ke(n,e.graph())}):""},reference:y,entityIds:[n.id,p.id],dynamicFixes:function(){return[new He({icon:"iD-operation-disconnect",title:C.html("issues.fix.move_points_apart.title")}),new He({icon:"iD-icon-layers",title:C.html("issues.fix.use_different_layers_or_levels.title")})]}}))}}return i;function y(e){var t=C("issues.close_nodes.detached.reference");e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(t)}}(n)}(n):"way"===n.type?function(e){if(!i(e))return[];for(var t=[],n=r.childNodes(e),a=0;a<n.length-1;a++){var s=n[a],l=n[a+1],c=o(s,l,e);c&&t.push(c)}return t}(n):[];function i(e){if(e.nodes.length<=2||e.isClosed()&&e.nodes.length<=4)return!1;var t=e.extent(r).bbox();return!(rt([t.minX,t.minY],[t.maxX,t.maxY])<1.5)}function a(e){if(!i(e))return 0;var t=function(e){if(e.tags.boundary&&"no"!==e.tags.boundary)return"boundary";if(e.tags.indoor&&"no"!==e.tags.indoor)return"indoor";if(e.tags.building&&"no"!==e.tags.building||e.tags["building:part"]&&"no"!==e.tags["building:part"])return"building";if(Ui[e.tags.highway])return"path";var t=r.parentRelations(e);for(var n in t){var i=t[n];if("boundary"===i.tags.type)return"boundary";if(i.isMultipolygon()){if(i.tags.indoor&&"no"!==i.tags.indoor)return"indoor";if(i.tags.building&&"no"!==i.tags.building||i.tags["building:part"]&&"no"!==i.tags["building:part"])return"building"}}return"other"}(e);return"boundary"===t?0:"indoor"===t?.01:"building"===t?.05:"path"===t?.1:.2}function o(e,n,i){if(e.id===n.id||e.hasInterestingTags()&&n.hasInterestingTags())return null;if(e.loc!==n.loc){var o=r.parentWays(e),s=new Set(r.parentWays(n)),l=o.filter((function(e){return s.has(e)})).map((function(e){return a(e)})),c=Math.min(...l);if(rt(e.loc,n.loc)>c)return null}return new st({type:t,subtype:"vertices",severity:"warning",message:function(e){var t=e.hasEntity(this.entityIds[0]);return t?C.html("issues.close_nodes.message",{way:Ke(t,e.graph())}):""},reference:function(e){var t=C("issues.close_nodes.reference");e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").html(t)},entityIds:[i.id,e.id,n.id],loc:e.loc,dynamicFixes:function(){return[new He({icon:"iD-icon-plus",title:C.html("issues.fix.merge_points.title"),onClick:function(e){var t=this.issue.entityIds,n=_n([t[1],t[2]]);e.perform(n,C("issues.fix.merge_close_vertices.annotation"))}}),new He({icon:"iD-operation-disconnect",title:C.html("issues.fix.move_points_apart.title")})]}})}};return n.type=t,n}function D9(e){var t="crossing_ways";function n(e,t){if(null===l(e,t))for(var n=t.parentRelations(e),r=0;r<n.length;r++){var i=n[r];if(null!==l(i,t))return i}return e}function r(e,t){return void 0!==e[t]&&"no"!==e[t]}function i(e){return r(e,"indoor")||r(e,"level")||"corridor"===e.highway}function a(e){return"highway"===e||"railway"===e||"waterway"===e}function o(e){return"highway"===e||"railway"===e||"waterway"===e}var s={demolished:!0,dismantled:!0,proposed:!0,razed:!0};function l(e,t){var n=e.geometry(t);if("line"!==n&&"area"!==n)return null;var i=e.tags;return r(i,"building")&&!s[i.building]?"building":r(i,"highway")&&In[i.highway]?"highway":"line"!==n?null:r(i,"railway")&&e0[i.railway]?"railway":r(i,"waterway")&&i1[i.waterway]?"waterway":null}function c(e,t,n,s){var l=e.level||"0",c=n.level||"0";if(i(e)&&i(n)&&l!==c)return!0;var u=e.layer||"0",d=n.layer||"0";if(a(t)&&a(s)){if(r(e,"bridge")&&!r(n,"bridge")||!r(e,"bridge")&&r(n,"bridge")||r(e,"bridge")&&r(n,"bridge")&&u!==d)return!0}else{if(a(t)&&r(e,"bridge"))return!0;if(a(s)&&r(n,"bridge"))return!0}if(o(t)&&o(s)){if(r(e,"tunnel")&&!r(n,"tunnel")||!r(e,"tunnel")&&r(n,"tunnel")||r(e,"tunnel")&&r(n,"tunnel")&&u!==d)return!0}else{if(o(t)&&r(e,"tunnel"))return!0;if(o(s)&&r(n,"tunnel"))return!0}return!!("waterway"===t&&"highway"===s&&"pier"===n.man_made||"waterway"===s&&"highway"===t&&"pier"===e.man_made||("building"===t||"building"===s||i(e)||i(n))&&u!==d)}var u={motorway:!0,motorway_link:!0,trunk:!0,trunk_link:!0,primary:!0,primary_link:!0,secondary:!0,secondary_link:!0},d={track:!0};function p(e,t,r){var i=[];if("way"!==e.type)return i;var a=n(e,t),o=l(a,t);if(null===o)return i;var s,u,d,p,f,h,g,m,y,v,b,w,_,k,x,A={},E=t.childNodes(e),C={};for(s=0;s<E.length-1;s++)for(p=E[s],f=E[s+1],d=he([[Math.min(p.loc[0],f.loc[0]),Math.min(p.loc[1],f.loc[1])],[Math.max(p.loc[0],f.loc[0]),Math.max(p.loc[1],f.loc[1])]]),b=r.waySegments(d,t),u=0;u<b.length;u++)if((w=b[u]).wayId!==e.id&&!A[w.wayId]&&(C[w.wayId]=!0,(_=t.hasEntity(w.wayId))&&(null!==(x=l(k=n(_,t),t))&&!c(a.tags,o,k.tags,x)&&(v="building"===o||"building"===x,m=w.nodes[0],y=w.nodes[1],m!==p.id&&m!==f.id&&y!==p.id&&y!==f.id&&((h=t.hasEntity(m))&&(g=t.hasEntity(y))))))){var S=On([p.loc,f.loc],[h.loc,g.loc]);if(S&&(i.push({wayInfos:[{way:e,featureType:o,edge:[p.id,f.id]},{way:_,featureType:x,edge:[h.id,g.id]}],crossPoint:S}),v)){A[_.id]=!0;break}}return i}var f=function(t,n){var r,i,a,o=e.history().tree(),s=function(e,t){return l(e,t)?"way"===e.type?[e]:"relation"===e.type?e.members.reduce((function(e,n){if("way"===n.type&&(!n.role||"outer"===n.role||"inner"===n.role)){var r=t.hasEntity(n.id);r&&-1===e.indexOf(r)&&e.push(r)}return e}),[]):[]:[]}(t,n),c=[];for(r in s)for(i in a=p(s[r],n,o))c.push(h(a[i],n));return c};function h(e,s){e.wayInfos.sort((function(e,t){var n=e.featureType,r=t.featureType;return n===r?Ke(e.way,s)>Ke(t.way,s):"waterway"===n||"waterway"!==r&&n<r}));var c=e.wayInfos.map((function(e){return n(e.way,s)})),p=[e.wayInfos[0].edge,e.wayInfos[1].edge],f=[e.wayInfos[0].featureType,e.wayInfos[1].featureType],h=function(e,t,n){var i=l(e,n),a=l(t,n),o=e.geometry(n),s=t.geometry(n),c="line"===o&&"line"===s;if(i===a){if("highway"===i){var p=Ui[e.tags.highway],f=Ui[t.tags.highway];if((p||f)&&p!==f){if(d[(p?t:e).tags.highway])return{};var h=p?e:t;return-1!==["marked","unmarked"].indexOf(h.tags.crossing)?c?{highway:"crossing",crossing:h.tags.crossing}:{}:c?{highway:"crossing"}:{}}return{}}if("waterway"===i)return{};if("railway"===i)return{}}else{var g=[i,a];if(-1!==g.indexOf("highway")){if(-1!==g.indexOf("railway")){if(!c)return{};var m="tram"===e.tags.railway||"tram"===t.tags.railway;return Ui[e.tags.highway]||Ui[t.tags.highway]?m?{railway:"tram_crossing"}:{railway:"crossing"}:m?{railway:"tram_level_crossing"}:{railway:"level_crossing"}}if(-1!==g.indexOf("waterway"))return r(e.tags,"tunnel")&&r(t.tags,"tunnel")||r(e.tags,"bridge")&&r(t.tags,"bridge")||u[e.tags.highway]||u[t.tags.highway]?null:c?{ford:"yes"}:{}}}return null}(c[0],c[1],s),y=e.wayInfos[0].featureType,v=e.wayInfos[1].featureType,b=i(c[0].tags)&&i(c[1].tags),w=o(y)&&r(c[0].tags,"tunnel")&&o(v)&&r(c[1].tags,"tunnel"),_=a(y)&&r(c[0].tags,"bridge")&&a(v)&&r(c[1].tags,"bridge"),k=[y,v].sort().join("-"),x=k;b?x="indoor-indoor":w?x="tunnel-tunnel":_&&(x="bridge-bridge"),h&&(b||w||_)&&(x+="_connectable");var A=e.crossPoint[0].toFixed(4)+","+e.crossPoint[1].toFixed(4);return new st({type:t,subtype:k,severity:"warning",message:function(e){var t=e.graph(),n=t.hasEntity(this.entityIds[0]),r=t.hasEntity(this.entityIds[1]);return n&&r?C.html("issues.crossing_ways.message",{feature:Ke(n,t),feature2:Ke(r,t)}):""},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.crossing_ways."+x+".reference"))},entityIds:c.map((function(e){return e.id})),data:{edges:p,featureTypes:f,connectionTags:h},hash:A,loc:e.crossPoint,dynamicFixes:function(e){var t=e.mode();if(!t||"select"!==t.id||1!==t.selectedIDs().length)return[];var n=this.entityIds[0]===t.selectedIDs()[0]?0:1,r=this.data.featureTypes[n],i=this.data.featureTypes[0===n?1:0],s=[];if(h&&s.push(function(e){var t="connect_features";return e.ford&&(t="connect_using_ford"),new He({icon:"iD-icon-crossing",title:C.html("issues.fix."+t+".title"),onClick:function(e){var t=this.issue.loc,n=this.issue.data.connectionTags,r=this.issue.data.edges;e.perform((function(e){var i=ot({loc:t,tags:n});e=e.replace(i);var a=[i.id];return r.forEach((function(n){var r=v1([e.entity(n[0]),e.entity(n[1])],t);(!r.node.hasInterestingTags()||r.node.isCrossing())&&r.distance<.75?a.push(r.node.id):e=tr({loc:t,edge:n},i)(e)})),a.length>1&&(e=_n(a,t)(e)),e}),C("issues.fix.connect_crossing_features.annotation"))}})}(this.data.connectionTags)),b)s.push(new He({icon:"iD-icon-layers",title:C.html("issues.fix.use_different_levels.title")}));else if(w||_||"building"===y||"building"===v)s.push(m("higher")),s.push(m("lower"));else if("line"===e.graph().geometry(this.entityIds[0])&&"line"===e.graph().geometry(this.entityIds[1])){a(r)&&"waterway"!==r&&s.push(g("add_a_bridge","temaki-bridge","bridge"));var l="waterway"===i&&"waterway"!==r;o(r)&&!l&&s.push(g("add_a_tunnel","temaki-tunnel","tunnel"))}return s.push(new He({icon:"iD-operation-move",title:C.html("issues.fix.reposition_features.title")})),s}})}function g(e,t,n){return new He({icon:t,title:C.html("issues.fix."+e+".title"),onClick:function(t){var r=t.mode();if(r&&"select"===r.id){var i=r.selectedIDs();if(1===i.length){var a=i[0];if(t.hasEntity(a)){var o,s,c,u=[a];this.issue.entityIds[0]===a?(o=this.issue.data.edges[0],s=this.issue.data.edges[1],c=this.issue.entityIds[1]):(o=this.issue.data.edges[1],s=this.issue.data.edges[0],c=this.issue.entityIds[0]);var d=this.issue.loc,p=t.projection;t.perform((function(e){var t=[e.entity(o[0]),e.entity(o[1])],r=e.hasEntity(c),i=r&&r.tags.width&&parseFloat(r.tags.width);i||(i=r&&r.impliedLineWidthMeters()),i?"railway"===l(r,e)&&(i*=2):i=8;var a=pr(t[0],t[1],p)+Math.PI,f=pr(e.entity(s[0]),e.entity(s[1]),p)+Math.PI,h=Math.max(a,f)-Math.min(a,f);function g(e){return[lo(e[0],e[1]),bs(e[1])]}h>Math.PI&&(h-=Math.PI),i=i/2/Math.sin(h)*2,i+=4,i=Math.min(Math.max(i,4),50);var m=g(t[0].loc),y=g(t[1].loc),v=ya(m,y),b=g(d),w=Qe(m,y)/rt(t[0].loc,t[1].loc);function _(e,t){var n=t*w;return function(e){var t=Pr(e[1]);return[xr(e[0],t),t]}([b[0]+Math.cos(e)*n,b[1]+Math.sin(e)*n])}function k(t,n,r){var a,o=i/2,s=rt(d,n.loc);if(s-o>.55){var l=r(o);a=ot(),e=tr({loc:l,edge:t},a)(e)}else{var c=0;if(n.parentIntersectionWays(e).forEach((function(e){e.nodes.forEach((function(t){t===n.id&&(n.id===e.first()&&n.id!==e.last()||n.id===e.last()&&n.id!==e.first()?c+=1:c+=2)}))})),c>=3){var p=s-.55;if(p>.55){var f=r(p);a=ot(),e=tr({loc:f,edge:t},a)(e)}}}a||(a=n);var h=ea([a.id]).limitWays(u);return e=h(e),h.getCreatedWayIDs().length&&u.push(h.getCreatedWayIDs()[0]),a}var x=k(o,t[1],(function(e){return _(v,e)})),A=k([t[0].id,x.id],t[0],(function(e){return _(v+Math.PI,e)})),E=u.map((function(t){return e.entity(t)})).find((function(e){return-1!==e.nodes.indexOf(x.id)&&-1!==e.nodes.indexOf(A.id)})),C=Object.assign({},E.tags);if("bridge"===n)C.bridge="yes",C.layer="1";else{var S="yes";"waterway"===l(E,e)&&(S="culvert"),C.tunnel=S,C.layer="-1"}return e=Pt(E.id,C)(e)}),C("issues.fix."+e+".annotation")),t.enter(Ce(t,u))}}}}})}function m(e){return new He({icon:"iD-icon-"+("higher"===e?"up":"down"),title:C.html("issues.fix.tag_this_as_"+e+".title"),onClick:function(t){var n=t.mode();if(n&&"select"===n.id){var r=n.selectedIDs();if(1===r.length){var i=r[0];if(this.issue.entityIds.some((function(e){return e===i}))){var a=t.hasEntity(i);if(a){var o=Object.assign({},a.tags),s=o.layer&&Number(o.layer);s&&!isNaN(s)?"higher"===e?s+=1:s-=1:s="higher"===e?1:-1,o.layer=s.toString(),t.perform(Pt(a.id,o),C("operations.change_tags.annotation"))}}}}}})}return f.type=t,f}function p4(e,t,n,r){let i=Ie("drawWay");var a,o,s,l,c,u,d=se("rejectedSelfIntersection"),p=Di(e),f=!1,h=!1;function g(n){u=ot({loc:n}),e.pauseChangeDispatch(),e.replace((function(e){var n=e.entity(t);return e.replace(u).replace(n.addNode(u.id,a))}),c),e.resumeChangeDispatch(),k()}function m(){e.pauseChangeDispatch(),e.replace((function(e){var n=e.entity(t);return e.replace(n.removeNode(u.id)).remove(u)}),c),u=void 0,e.resumeChangeDispatch()}function y(t){t.keyCode===Ie.modifierCodes.alt&&(e.surface().classed("nope")&&e.surface().classed("nope-suppressed",!0),e.surface().classed("nope",!1).classed("nope-disabled",!0))}function v(t){t.keyCode===Ie.modifierCodes.alt&&(e.surface().classed("nope-suppressed")&&e.surface().classed("nope",!0),e.surface().classed("nope-suppressed",!1).classed("nope-disabled",!1))}function b(t,n){var r=e.map().mouseCoordinates();u||g(r),e.surface().classed("nope-disabled",t.altKey);var i=n&&n.properties&&n.properties.entity&&function(t){return"vertex"===t.geometry(e.graph())||ve.allowsVertex(t,e.graph())}(n.properties.entity)&&n.properties.entity.loc,a=n&&n.properties&&n.properties.nodes;if(i)r=i;else if(a){var o=wr(a,e.map().mouse(),e.projection,u.id);o&&(r=o.loc)}e.replace(Va(u.id,r),c),u=e.entity(u.id),w(!0)}function w(n){var r=e.surface().classed("nope-disabled"),i=function(n){var r=u,i=e.graph().entity(t),a=e.graph().childNodes(i).slice();if(n)i.isClosed()&&a.pop();else{if(!i.isClosed())return!1;if(a.length<3)return!1;u&&a.splice(-2,1),r=a[a.length-2]}return r&&Nn(a,r.id)}(n);r?e.surface().classed("nope",!1).classed("nope-suppressed",i):e.surface().classed("nope",i).classed("nope-suppressed",!1)}function _(){var i;h=!0,e.pauseChangeDispatch(),e.graph()===r?i=Ce(e,[t]):(e.pop(1),i=n),e.perform(Er()),e.pop(1),e.resumeChangeDispatch(),e.enter(i)}function k(){!u||e.surface().selectAll("."+u.id).classed("active",!0)}function x(){for(;e.graph()!==r;)e.pop()}var A=function(n){u=void 0,h=!1,o=e.entity(t),l="number"==typeof a?o.nodes[a]:o.isClosed()?o.nodes[o.nodes.length-2]:o.nodes[o.nodes.length-1],s=o.geometry(e.graph()),c=C((o.nodes.length===(o.isClosed()?2:1)?"operations.start.annotation.":"operations.continue.annotation.")+s),f=!1,e.pauseChangeDispatch(),e.perform(Er(),c),e.resumeChangeDispatch(),p.hover().initialNodeID(l),p.on("move",(function(){f=!0,b.apply(this,arguments)})).on("down",(function(){b.apply(this,arguments)})).on("downcancel",(function(){u&&m()})).on("click",A.add).on("clickWay",A.addWay).on("clickNode",A.addNode).on("undo",e.undo).on("cancel",A.cancel).on("finish",A.finish),$(window).on("keydown.drawWay",y).on("keyup.drawWay",v),e.map().dblclickZoomEnable(!1).on("drawn.draw",k),k(),n.call(p),e.history().on("undone.draw",_)};function E(t,r,i){if(u?(e.replace(Va(u.id,r),c),u=e.entity(u.id)):g(r),w(!0),t&&t.properties&&t.properties.nope||e.surface().classed("nope"))return f||m(),void d.call("rejectedSelfIntersection",this);e.pauseChangeDispatch(),i(),h=!0,e.resumeChangeDispatch(),e.enter(n)}return A.off=function(t){h||(e.pauseChangeDispatch(),x(),e.resumeChangeDispatch()),u=void 0,a=void 0,e.map().on("drawn.draw",null),t.call(p.off).selectAll(".active").classed("active",!1),t.classed("nope",!1).classed("nope-suppressed",!1).classed("nope-disabled",!1),$(window).on("keydown.drawWay",null).on("keyup.drawWay",null),e.history().on("undone.draw",null)},A.add=function(e,t){E(t,e,(function(){}))},A.addWay=function(t,n,r){E(r,t,(function(){e.replace(tr({loc:t,edge:n},u),c)}))},A.addNode=function(n,r){n.id===l||o.isClosed()&&n.id===o.first()?A.finish():E(r,n.loc,(function(){e.replace((function(e){return(e=e.replace(e.entity(t).removeNode(u.id)).remove(u)).replace(e.entity(t).addNode(n.id,a))}),c)}))},i.on(C("operations.follow.key"),(function(){if(!h)try{let n=o.nodes[0]===o.nodes.slice(-1)[0],[r,i]=o.nodes.slice(n?-3:-2),a=e.history().graph();if(!i||!r||!a.hasEntity(i)||!a.hasEntity(r))return void e.ui().flash.duration(4e3).iconName("#iD-icon-no").label(C.html("operations.follow.error.needs_more_initial_nodes"))();let s=a.parentWays(a.entity(i)).filter(e=>e.id!==t),l=a.parentWays(a.entity(r)).filter(e=>e.id!==t),c=function(e){return e.every(e=>e.isClosed())?"area":e.every(e=>!e.isClosed())?"line":"generic"}(s);if(1!==s.length||0===l.length)return void e.ui().flash.duration(4e3).iconName("#iD-icon-no").label(C.html("operations.follow.error.intersection_of_multiple_ways.".concat(c)))();if(!l.some(e=>e.id===s[0].id))return void e.ui().flash.duration(4e3).iconName("#iD-icon-no").label(C.html("operations.follow.error.intersection_of_different_ways.".concat(c)))();let u=s[0],d=u.nodes.indexOf(i),p=u.nodes.indexOf(r),f=d===u.nodes.length-2&&0===p,h=d+(d>p&&!f?1:-1);-1===h&&(h=1===p?u.nodes.length-2:1);let g=a.entity(u.nodes[h]);A.addNode(g,{geometry:{type:"Point",coordinates:g.loc},id:g.id,properties:{target:!0,entity:g}})}catch{e.ui().flash.duration(4e3).iconName("#iD-icon-no").label(C.html("operations.follow.error.unknown"))()}})),$(document).call(i),A.finish=function(){if(w(!1),e.surface().classed("nope"))d.call("rejectedSelfIntersection",this);else{e.pauseChangeDispatch(),e.pop(1),h=!0,e.resumeChangeDispatch();var r=e.hasEntity(t);if(r&&!r.isDegenerate()){window.setTimeout((function(){e.map().dblclickZoomEnable(!0)}),1e3);var i=!n.isContinuing;e.enter(Ce(e,[t]).newFeature(i))}else A.cancel()}},A.cancel=function(){e.pauseChangeDispatch(),x(),e.resumeChangeDispatch(),window.setTimeout((function(){e.map().dblclickZoomEnable(!0)}),1e3),e.surface().classed("nope",!1).classed("nope-disabled",!1).classed("nope-suppressed",!1),e.enter(be(e))},A.nodeIndex=function(e){return arguments.length?(a=e,A):a},A.activeID=function(){return arguments.length?A:u&&u.id},fe(A,d,"on")}function Qn(e,t,n,r,i,a){var o={button:r,id:"draw-line"},s=p4(e,t,o,n).on("rejectedSelfIntersection.modeDrawLine",(function(){e.ui().flash.iconName("#iD-icon-no").label(C.html("self_intersection.error.lines"))()}));return o.wayID=t,o.isContinuing=a,o.enter=function(){s.nodeIndex("prefix"===i?0:void 0),e.install(s)},o.exit=function(){e.uninstall(s)},o.selectedIDs=function(){return[t]},o.activeID=function(){return s&&s.activeID()||[]},o}function M9(){var e="disconnected_way";function t(e){return In[e.tags.highway]}var n=function(n,r){var i=function(e){var t=new Set,n=[];function i(e){r.parentWays(e).forEach((function(e){!t.has(e)&&s(e,!1)&&(t.add(e),n.push(e))}))}if("way"===e.type&&s(e,!0))t.add(e),n.push(e);else{if("node"!==e.type||!o(e))return null;t.add(e),i(e)}for(;n.length;){var l=n.pop(),c=r.childNodes(l);for(var u in c){var d=c[u];if(a(d))return null;o(d)&&t.add(d),i(d)}}return t}(n);return i?[new st({type:e,subtype:"highway",severity:"warning",message:function(e){var t=this.entityIds.length&&e.hasEntity(this.entityIds[0]),n=t&&Ke(t,e.graph());return C.html("issues.disconnected_way.routable.message",{count:this.entityIds.length,highway:n})},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.disconnected_way.routable.reference"))},entityIds:Array.from(i).map((function(e){return e.id})),dynamicFixes:function(e){var t=[],n=1===this.entityIds.length&&e.hasEntity(this.entityIds[0]);if(n){if("way"===n.type&&!n.isClosed()){var r=le.textDirection(),i=l(r,n.first(),"start");i&&t.push(i);var a=l(r,n.last(),"end");a&&t.push(a)}t.length||t.push(new He({title:C.html("issues.fix.connect_feature.title")})),t.push(new He({icon:"iD-operation-delete",title:C.html("issues.fix.delete_feature.title"),entityIds:[n.id],onClick:function(e){var t=Vr(e,[this.issue.entityIds[0]]);t.disabled()||t()}}))}else t.push(new He({title:C.html("issues.fix.connect_features.title")}));return t}})]:[];function a(e){var t=ne.osm;return!!(t&&!t.isDataLoaded(e.loc)||e.tags.entrance&&"no"!==e.tags.entrance||"parking_entrance"===e.tags.amenity)}function o(e){return"elevator"===e.tags.highway}function s(e,n){return!(!t(e)&&"ferry"!==e.tags.route)||r.parentRelations(e).some((function(r){return!!("route"===r.tags.type&&"ferry"===r.tags.route||r.isMultipolygon()&&t(r)&&(!n||"inner"!==r.memberById(e.id).role))}))}function l(e,t,n){var i=r.hasEntity(t);return i&&"yes"!==i.tags.noexit?new He({icon:"iD-operation-continue"+("start"===n&&"ltr"===e||"end"===n&&"rtl"===e?"-left":""),title:C.html("issues.fix.continue_from_"+n+".title"),entityIds:[t],onClick:function(e){var t=this.issue.entityIds[0],n=e.hasEntity(t),r=this.entityIds[0],i=e.hasEntity(r);if(n&&i){var a=e.map();(!e.editable()||!a.trimmedExtent().contains(i.loc))&&a.zoomToEase(i),e.enter(Qn(e,t,e.graph(),"line",n.affix(r),!0))}}}):null}};return n.type=e,n}function I9(){var e="invalid_format",t=function(t){var n=[];if(t.tags.email){var r=t.tags.email.split(";").map((function(e){return e.trim()})).filter((function(e){return!function(e){return!e||/^[^\(\)\\,":;<>@\[\]]+@[^\(\)\\,":;<>@\[\]\.]+(?:\.[a-z0-9-]+)*$/i.test(e)}(e)}));r.length&&n.push(new st({type:e,subtype:"email",severity:"warning",message:function(e){var t=e.hasEntity(this.entityIds[0]);return t?C.html("issues.invalid_format.email.message"+this.data,{feature:Ke(t,e.graph()),email:r.join(", ")}):""},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.invalid_format.email.reference"))},entityIds:[t.id],hash:r.join(),data:r.length>1?"_multi":""}))}return n};return t.type=e,t}function T9(e){var t="help_request",n=function(n){if(!n.tags.fixme)return[];if(void 0===n.version)return[];if(void 0!==n.v){var r=e.history().base().hasEntity(n.id);if(!r||!r.tags.fixme)return[]}return[new st({type:t,subtype:"fixme_tag",severity:"warning",message:function(e){var t=e.hasEntity(this.entityIds[0]);return t?C.html("issues.fixme_tag.message",{feature:Ke(t,e.graph(),!0)}):""},dynamicFixes:function(){return[new He({title:C.html("issues.fix.address_the_concern.title")})]},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.fixme_tag.reference"))},entityIds:[n.id]})]};return n.type=t,n}function N9(){var e="impossible_oneway",t=function(t,n){if("way"!==t.type||"line"!==t.geometry(n))return[];if(t.isClosed())return[];if(!a(t))return[];if(!o(t))return[];var r=l(t,t.first()),i=l(t,t.last());return r.concat(i);function a(e){return"line"!==e.geometry(n)?null:In[e.tags.highway]?"highway":i1[e.tags.waterway]?"waterway":null}function o(e){if("yes"===e.tags.oneway)return!0;if(e.tags.oneway)return!1;for(var t in e.tags)if(Jn[t]&&Jn[t][e.tags[t]])return!0;return!1}function s(e,t){var n=0;for(var r in e.nodes)if(e.nodes[r]===t&&(n+=1)>1)return!0;return!1}function l(t,r){var i=r===t.first(),l=a(t);if(s(t,r))return[];var c=ne.osm;if(!c)return[];var u=n.hasEntity(r);if(!u||!c.isDataLoaded(u.loc))return[];if(function(e,t){var r=a(e);if("highway"===r){if(t.tags.entrance&&"no"!==t.tags.entrance||"parking_entrance"===t.tags.amenity)return!0}else if("waterway"===r)if(t.id===e.first()){if("spring"===t.tags.natural)return!0}else if("drain"===t.tags.manhole)return!0;return n.parentWays(t).some((function(t){return t.id!==e.id&&("highway"===r?!!("area"===t.geometry(n)&&In[t.tags.highway]||"ferry"===t.tags.route)||n.parentRelations(t).some((function(e){return"route"===e.tags.type&&"ferry"===e.tags.route||e.isMultipolygon()&&In[e.tags.highway]})):"waterway"===r&&("water"===t.tags.natural||"coastline"===t.tags.natural))}))}(t,u))return[];var d=n.parentWays(u).filter((function(e){return e.id!==t.id&&a(e)===l}));if("waterway"===l&&0===d.length)return[];var p=d.filter((function(e){return o(e)}));if(p.length<d.length)return[];if(p.length&&p.some((function(e){return!((i?e.first():e.last())===r&&!s(e,r))})))return[];var f,h=i?"start":"end",g=l+".",m=l+".";return"waterway"===l?(g+="connected."+h,m+="connected"):(g+=h,m+=h),[new st({type:e,subtype:l,severity:"warning",message:function(e){var t=e.hasEntity(this.entityIds[0]);return t?C.html("issues.impossible_oneway."+g+".message",{feature:Ke(t,e.graph())}):""},reference:(f=m,function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.impossible_oneway."+f+".reference"))}),entityIds:[t.id,u.id],dynamicFixes:function(){var e=[];if(p.length&&e.push(new He({icon:"iD-operation-reverse",title:C.html("issues.fix.reverse_feature.title"),entityIds:[t.id],onClick:function(e){var t=this.issue.entityIds[0];e.perform(Mn(t),C("operations.reverse.annotation.line",{n:1}))}})),"yes"!==u.tags.noexit){var n=le.textDirection(),r=i&&"ltr"===n||!i&&"rtl"===n;e.push(new He({icon:"iD-operation-continue"+(r?"-left":""),title:C.html("issues.fix.continue_from_"+(i?"start":"end")+".title"),onClick:function(e){var t=this.issue.entityIds[0],n=this.issue.entityIds[1];!function(e,t,n){var r=n.map();(!n.editable()||!r.trimmedExtent().contains(t.loc))&&r.zoomToEase(t),n.enter(Qn(n,e.id,n.graph(),"line",e.affix(t.id),!0))}(e.entity(t),e.entity(n),e)}}))}return e},loc:u.loc})]}};return t.type=e,t}function O9(){let e="incompatible_source",t=[{id:"amap",regex:/(^amap$|^amap\.com|autonavi|mapabc|\u9ad8\u5fb7)/i},{id:"baidu",regex:/(baidu|mapbar|\u767e\u5ea6)/i},{id:"google",regex:/google/i,exceptRegex:/((books|drive)\.google|google\s?(books|drive|plus))|(esri\/Google_Africa_Buildings)/i}],n=function(n){let r=n.tags&&n.tags.source&&n.tags.source.split(";");if(!r)return[];let i=n.id;return r.map(n=>{let r=t.find(e=>!(!e.regex.test(n)||e.exceptRegex&&e.exceptRegex.test(n)));return r?new st({type:e,severity:"warning",message:e=>{let t=e.hasEntity(i);return t?C.html("issues.incompatible_source.feature.message",{feature:Ke(t,e.graph(),!0),value:n}):""},reference:a(r.id),entityIds:[i],hash:n,dynamicFixes:()=>[new He({title:C.html("issues.fix.remove_proprietary_data.title")})]}):null}).filter(Boolean);function a(e){return function(t){t.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.incompatible_source.reference.".concat(e)))}}};return n.type=e,n}function P9(){var e=function(e,t){if(!ne.maprules)return[];for(var n=ne.maprules.validationRules(),r=[],i=0;i<n.length;i++){n[i].findIssues(e,t,r)}return r};return e.type="maprules",e}L6(j9,{validationAlmostJunction:()=>C9,validationCloseNodes:()=>F9,validationCrossingWays:()=>D9,validationDisconnectedWay:()=>M9,validationFormatting:()=>I9,validationHelpRequest:()=>T9,validationImpossibleOneway:()=>N9,validationIncompatibleSource:()=>O9,validationMaprules:()=>P9,validationMismatchedGeometry:()=>R9,validationMissingRole:()=>L9,validationMissingTag:()=>B9,validationOutdatedTags:()=>U9,validationPrivateData:()=>z9,validationSuspiciousName:()=>q9,validationUnsquareWay:()=>V9});var Qg=je(zn());function R9(){var e="mismatched_geometry";function t(t){var n=function(e){if("way"!==e.type||e.isClosed())return null;var t=e.tagSuggestingArea();if(!t)return null;var n=ve.matchTags(t,"line"),r=ve.matchTags(t,"area");return n&&r&&n===r?null:t}(t);return n?new st({type:e,subtype:"area_as_line",severity:"warning",message:function(e){var t=e.hasEntity(this.entityIds[0]);return t?C.html("issues.tag_suggests_area.message",{feature:Ke(t,"area",!0),tag:A3({tags:n})}):""},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.tag_suggests_area.reference"))},entityIds:[t.id],hash:JSON.stringify(n),dynamicFixes:function(e){var t=[],r=function(e,t){if(e.nodes.length<3)return null;var n,r=t.childNodes(e);return rt(r[0].loc,r[r.length-1].loc)<.75&&((n=r.slice()).pop(),n.push(n[0]),!Nn(n,n[0].id))?function(e){var t=e.entity(this.issue.entityIds[0]);e.perform(_n([t.nodes[0],t.nodes[t.nodes.length-1]],r[0].loc),C("issues.fix.connect_endpoints.annotation"))}:((n=r.slice()).push(n[0]),Nn(n,n[0].id)?void 0:function(e){var t=this.issue.entityIds[0],n=e.entity(t),r=n.nodes[0],i=n.nodes.length;e.perform(Bn(t,r,i),C("issues.fix.connect_endpoints.annotation"))})}(e.entity(this.entityIds[0]),e.graph());return t.push(new He({title:C.html("issues.fix.connect_endpoints.title"),onClick:r})),t.push(new He({icon:"iD-operation-delete",title:C.html("issues.fix.remove_tag.title"),onClick:function(e){var t=this.issue.entityIds[0],r=e.entity(t),i=Object.assign({},r.tags);for(var a in n)delete i[a];e.perform(Pt(t,i),C("issues.fix.remove_tag.annotation"))}})),t}}):null}function n(e){var t,n=this.entityIds[0],r=e.entity(n),i=Object.assign({},r.tags);return delete i.area,la(i)||(t=function(e){var t=this.issue.entityIds[0],n=e.entity(t),r=Object.assign({},n.tags);r.area&&delete r.area,e.perform(Pt(t,r),C("issues.fix.convert_to_line.annotation"))}),[new He({icon:"iD-icon-line",title:C.html("issues.fix.convert_to_line.title"),onClick:t})]}function r(e){var t=this.entityIds[0],n=null;return e.hasHiddenConnections(t)||(n=function(e){var t=W1(this.issue.entityIds[0],e.projection);e.perform(t,C("operations.extract.annotation",{n:1})),e.enter(Ce(e,[t.getExtractedNodeID()]))}),[new He({icon:"iD-operation-extract",title:C.html("issues.fix.extract_point.title"),onClick:n})]}var i=function(i,a){var o=function(t,n){if("node"!==t.type||0===Object.keys(t.tags).length||t.isOnAddressLine(n))return null;var i=t.geometry(n),a=ua(t.tags);return"point"===i&&!a.point&&a.vertex?new st({type:e,subtype:"vertex_as_point",severity:"warning",message:function(e){var t=e.hasEntity(this.entityIds[0]);return t?C.html("issues.vertex_as_point.message",{feature:Ke(t,"vertex",!0)}):""},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.vertex_as_point.reference"))},entityIds:[t.id]}):"vertex"===i&&!a.vertex&&a.point?new st({type:e,subtype:"point_as_vertex",severity:"warning",message:function(e){var t=e.hasEntity(this.entityIds[0]);return t?C.html("issues.point_as_vertex.message",{feature:Ke(t,"point",!0)}):""},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.point_as_vertex.reference"))},entityIds:[t.id],dynamicFixes:r}):null}(i,a);if(o)return[o];var s=t(i);if(s)return[s];var l=function(t,i){if(!t.hasInterestingTags()||"node"!==t.type&&"way"!==t.type||"node"===t.type&&t.isOnAddressLine(i))return null;var a=t.geometry(i),o="way"===t.type?["point","vertex"]:["line","area"];"area"===a&&o.unshift("line");var s=ve.match(t,i),l=o.find(e=>{var n=ve.matchTags(t.tags,e);if(!s||!n||s===n||(0,Qg.default)(s.tags,n.tags)||n.isFallback())return!1;var r=Object.keys(n.tags)[0];return"building"!==r&&"*"!==n.tags[r]&&(s.isFallback()||"*"===s.tags[r])});if(!l)return null;var c=l+"_as_"+a;"vertex"===l&&(l="point"),"vertex"===a&&(a="point");var u,d=l+"_as_"+a;return"point"===l?u=r:"area"===a&&"line"===l&&(u=n),new st({type:e,subtype:c,severity:"warning",message:function(e){var t=e.hasEntity(this.entityIds[0]);return t?C.html("issues."+d+".message",{feature:Ke(t,l,!0)}):""},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.mismatched_geometry.reference"))},entityIds:[t.id],dynamicFixes:u})}(i,a);return l?[l]:function(t,n){if("relation"!==t.type||!t.isMultipolygon()||t.isDegenerate()||!t.isComplete(n))return[];var r=zr(t.members,n),i=[];for(var a in r){var o=r[a];if(o.nodes)if(o.nodes[0]!==o.nodes[o.nodes.length-1]){var s=new st({type:e,subtype:"unclosed_multipolygon_part",severity:"warning",message:function(e){var t=e.hasEntity(this.entityIds[0]);return t?C.html("issues.unclosed_multipolygon_part.message",{feature:Ke(t,e.graph(),!0)}):""},reference:l,loc:o.nodes[0].loc,entityIds:[t.id],hash:o.map((function(e){return e.id})).join()});i.push(s)}}return i;function l(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.unclosed_multipolygon_part.reference"))}}(i,a)};return i.type=e,i}function L9(){var e="missing_role",t=function(e,t){var i=[];return"way"===e.type?t.parentRelations(e).forEach((function(t){if(t.isMultipolygon()){var a=t.memberById(e.id);a&&n(a)&&i.push(r(e,t,a))}})):"relation"===e.type&&e.isMultipolygon()&&e.indexedMembers().forEach((function(a){var o=t.hasEntity(a.id);o&&n(a)&&i.push(r(o,e,a))})),i};function n(e){return!e.role||!e.role.trim().length}function r(t,n,r){return new st({type:e,severity:"warning",message:function(e){var t=e.hasEntity(this.entityIds[1]),n=e.hasEntity(this.entityIds[0]);return t&&n?C.html("issues.missing_role.message",{member:Ke(t,e.graph()),relation:Ke(n,e.graph())}):""},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.missing_role.multipolygon.reference"))},entityIds:[n.id,t.id],data:{member:r},hash:r.index.toString(),dynamicFixes:function(){return[i("inner"),i("outer"),new He({icon:"iD-operation-delete",title:C.html("issues.fix.remove_from_relation.title"),onClick:function(e){e.perform(za(this.issue.entityIds[0],this.issue.data.member.index),C("operations.delete_member.annotation",{n:1}))}})]}})}function i(e){return new He({title:C.html("issues.fix.set_as_"+e+".title"),onClick:function(t){var n=this.issue.data.member,r={id:this.issue.entityIds[1],type:n.type,role:e};t.perform(La(this.issue.entityIds[0],r,n.index),C("operations.change_role.annotation",{n:1}))}})}return t.type=e,t}function B9(e){var t="missing_tag";var n=function(n,r){var i,a,o=e.connection();if(!("node"===n.type&&o&&!o.isDataLoaded(n.loc))&&"vertex"!==n.geometry(r)&&!n.hasParentRelations(r)&&(0===Object.keys(n.tags).length?i="any":function(e,t){var n=["description","name","note","start_date"],r=Object.keys(e.tags).filter((function(e){return!("area"===e||!Hr(e))&&!n.some((function(t){return e===t||0===e.indexOf(t+":")}))}));return"relation"===e.type&&1===r.length&&"multipolygon"===e.tags.type?G1(e,t):r.length>0}(n,r)?"relation"===(a=n).type&&!a.tags.type&&(i="relation_type"):i="descriptive"),!i&&function(e){return"way"===e.type&&"road"===e.tags.highway}(n)&&(i="highway_classification"),!i)return[];var s="highway_classification"===i?"unknown_road":"missing_tag."+i,l="highway_classification"===i?"unknown_road":"missing_tag",c=void 0===n.version||void 0!==n.v;return[new st({type:t,subtype:i,severity:c&&"highway_classification"!==i?"error":"warning",message:function(e){var t=e.hasEntity(this.entityIds[0]);return t?C.html("issues."+s+".message",{feature:Ke(t,e.graph())}):""},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues."+l+".reference"))},entityIds:[n.id],dynamicFixes:function(e){var t=[],n="highway_classification"===i?"select_road_type":"select_preset";t.push(new He({icon:"iD-icon-search",title:C.html("issues.fix."+n+".title"),onClick:function(e){e.ui().sidebar.showPresetList()}}));var r,a=Vr(e,[this.entityIds[0]]).disabled();return a||(r=function(e){var t=Vr(e,[this.issue.entityIds[0]]);t.disabled()||t()}),t.push(new He({icon:"iD-operation-delete",title:C.html("issues.fix.delete_feature.title"),disabledReason:a?C("operations.delete."+a+".single"):void 0,onClick:r})),t}})]};return n.type=t,n}function U9(){let e,t="outdated_tags",n=!0;ze.get("deprecated").then(t=>e=t).catch(()=>{}).finally(()=>n=!1);let r=function(r,i){let a=function(e,n){let r,i;if("relation"===e.type)i=G1(e,n),r=e;else{if("way"!==e.type)return[];r=Ra(e,n),i=e}return r&&i?[new st({type:t,subtype:"old_multipolygon",severity:"warning",message:function(e){let t=e.hasEntity(r.id);return t?C.html("issues.old_multipolygon.message",{multipolygon:Ke(t,e.graph(),!0)}):""},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.old_multipolygon.reference"))},entityIds:[i.id,r.id],dynamicFixes:()=>[new He({autoArgs:[a,C("issues.fix.move_tags.annotation")],title:C.html("issues.fix.move_tags.title"),onClick:e=>{e.perform(a,C("issues.fix.move_tags.annotation"))}})]})]:[];function a(e){let t=e.hasEntity(r.id),n=e.hasEntity(i.id);return t&&n?(t=t.mergeTags(n.tags),e=e.replace(t),Pt(n.id,{})(e)):e}}(r,i);return a.length||(a=function(r,i){let a=Object.assign({},r.tags),o=ve.match(r,i),s="deprecated_tags";if(!o)return[];if(!r.hasInterestingTags())return[];if(o.replacement){let e=ve.item(o.replacement);i=Ba(r.id,o,e,!0)(i),r=i.entity(r.id),o=e}if(e){let t=r.deprecatedTags(e);t.length&&(t.forEach(e=>{i=$3(r.id,e.old,e.replace)(i)}),r=i.entity(r.id))}let l=Object.assign({},r.tags);o.tags!==o.addTags&&Object.keys(o.addTags).forEach(e=>{l[e]||("*"===o.addTags[e]?l[e]="yes":l[e]=o.addTags[e])});let c,u=ne.nsi,d=!1;if(u&&(d="loading"===u.status(),!d)){let e=r.extent(i).center();c=u.upgradeTags(l,e),c&&(l=c.newTags,s="noncanonical_brand")}let p=[];p.provisional=n||d;let f=Oa(a,l);if(!f.length)return p;let h=f.every(e=>"+"===e.type),g="";c?g="noncanonical_brand.":"deprecated_tags"===s&&h&&(s="incomplete_tags",g="incomplete.");let m="noncanonical_brand"!==s?[y,C("issues.fix.upgrade_tags.annotation")]:null;return p.push(new st({type:t,subtype:s,severity:"warning",message:function(e){let t=e.hasEntity(r.id);if(!t)return"";let n="issues.outdated_tags.".concat(g,"message");return"noncanonical_brand"===s&&h&&(n+="_incomplete"),C.html(n,{feature:Ke(t,e.graph(),!0)})},reference:function(e){let t=e.selectAll(".issue-reference").data([0]).enter();t.append("div").attr("class","issue-reference").call(C.append("issues.outdated_tags.".concat(g,"reference"))),t.append("strong").call(C.append("issues.suggested")),t.append("table").attr("class","tagDiff-table").selectAll(".tagDiff-row").data(f).enter().append("tr").attr("class","tagDiff-row").append("td").attr("class",e=>"tagDiff-cell tagDiff-cell-".concat("+"===e.type?"add":"remove")).html(e=>e.display)},entityIds:[r.id],hash:Yi(JSON.stringify(f)),dynamicFixes:()=>{let e=[new He({autoArgs:m,title:C.html("issues.fix.upgrade_tags.title"),onClick:e=>{e.perform(y,C("issues.fix.upgrade_tags.annotation"))}})],t=c&&c.matched;return t&&e.push(new He({title:C.html("issues.fix.tag_as_not.title",{name:t.displayName}),onClick:e=>{e.perform(v,C("issues.fix.tag_as_not.annotation"))}})),e}})),p;function y(e){let t=e.hasEntity(r.id);if(!t)return e;let n=Object.assign({},t.tags);return f.forEach(e=>{"-"===e.type?delete n[e.key]:"+"===e.type&&(n[e.key]=e.newVal)}),Pt(t.id,n)(e)}function v(e){let t=e.hasEntity(r.id);if(!t)return e;let n=c&&c.matched;if(!n)return e;let i=Object.assign({},t.tags),a=n.mainTag,o="not:".concat(a),s=n.tags[a];if(i[o]=s,i[a]===s){let e=n.mainTag.replace("wikidata","wikipedia");delete i[a],delete i[e]}return Pt(t.id,i)(e)}}(r,i)),a};return r.type=t,r}function z9(){var e="private_data",t={detached:!0,farm:!0,house:!0,houseboat:!0,residential:!0,semidetached_house:!0,static_caravan:!0},n={amenity:!0,craft:!0,historic:!0,leisure:!0,office:!0,shop:!0,tourism:!0},r={"contact:email":!0,"contact:fax":!0,"contact:phone":!0,email:!0,fax:!0,phone:!0},i=function(i){var a=i.tags;if(!a.building||!t[a.building])return[];var o={};for(var s in a){if(n[s])return[];r[s]||(o[s]=a[s])}var l=Oa(a,o);if(!l.length)return[];var c=1===l.length?"remove_tag":"remove_tags";return[new st({type:e,severity:"warning",message:function(e){var t=e.hasEntity(this.entityIds[0]);return t?C.html("issues.private_data.contact.message",{feature:Ke(t,e.graph())}):""},reference:function(e){var t=e.selectAll(".issue-reference").data([0]).enter();t.append("div").attr("class","issue-reference").call(C.append("issues.private_data.reference")),t.append("strong").call(C.append("issues.suggested")),t.append("table").attr("class","tagDiff-table").selectAll(".tagDiff-row").data(l).enter().append("tr").attr("class","tagDiff-row").append("td").attr("class",(function(e){return"tagDiff-cell tagDiff-cell-"+("+"===e.type?"add":"remove")})).html((function(e){return e.display}))},entityIds:[i.id],dynamicFixes:function(){return[new He({icon:"iD-operation-delete",title:C.html("issues.fix."+c+".title"),onClick:function(e){e.perform(u,C("issues.fix.upgrade_tags.annotation"))}})]}})];function u(e){var t=e.hasEntity(i.id);if(!t)return e;var n=Object.assign({},t.tags);return l.forEach((function(e){"-"===e.type?delete n[e.key]:"+"===e.type&&(n[e.key]=e.newVal)})),Pt(t.id,n)(e)}};return i.type=e,i}function q9(){let e="suspicious_name",t=["aerialway","aeroway","amenity","building","craft","highway","leisure","railway","man_made","office","shop","tourism","waterway"],n=!1;function r(e,r){return function(e,n){for(let r=0;r<t.length;r++){let i=t[r],a=n[i];if(a&&(a=a.toLowerCase(),i===e||a===e||i.replace(/\_/g," ")===e||a.replace(/\_/g," ")===e))return!0}return!1}(e=e.toLowerCase(),r)||function(e){let t=ne.nsi;return!(!t||(n="loading"===t.status(),n))&&t.isGenericName(e)}(r)}function i(t,n,r,i){return new st({type:e,subtype:"generic_name",severity:"warning",message:function(e){let t=e.hasEntity(this.entityIds[0]);if(!t)return"";let n=ve.match(t,e.graph()),a=i&&le.languageName(i);return C.html("issues.generic_name.message"+(a?"_language":""),{feature:n.name(),name:r,language:a})},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.generic_name.reference"))},entityIds:[t],hash:"".concat(n,"=").concat(r),dynamicFixes:function(){return[new He({icon:"iD-operation-delete",title:C.html("issues.fix.remove_the_name.title"),onClick:function(e){let t=this.issue.entityIds[0],r=e.entity(t),i=Object.assign({},r.tags);delete i[n],e.perform(Pt(t,i),C("issues.fix.remove_generic_name.annotation"))}})]}})}function a(t,n,r,i){return new st({type:e,subtype:"not_name",severity:"warning",message:function(e){let t=e.hasEntity(this.entityIds[0]);if(!t)return"";let n=ve.match(t,e.graph()),a=i&&le.languageName(i);return C.html("issues.incorrect_name.message"+(a?"_language":""),{feature:n.name(),name:r,language:a})},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.generic_name.reference"))},entityIds:[t],hash:"".concat(n,"=").concat(r),dynamicFixes:function(){return[new He({icon:"iD-operation-delete",title:C.html("issues.fix.remove_the_name.title"),onClick:function(e){let t=this.issue.entityIds[0],r=e.entity(t),i=Object.assign({},r.tags);delete i[n],e.perform(Pt(t,i),C("issues.fix.remove_mistaken_name.annotation"))}})]}})}let o=function(e){let t=e.tags;if(t.wikidata||t["brand:wikidata"]||t["operator:wikidata"])return[];let o=[],s=(t["not:name"]||"").split(";");for(let l in t){let c=l.match(/^name(?:(?::)([a-zA-Z_-]+))?$/);if(!c)continue;let u=c.length>=2?c[1]:null,d=t[l];if(s.length)for(let t in s){let n=s[t];n&&d===n&&o.push(a(e.id,l,d,u))}r(d,t)&&(o.provisional=n,o.push(i(e.id,l,d,u)))}return o};return o.type=e,o}function V9(e){var t="unsquare_way";function n(e,t){return"way"===e.type&&"area"===e.geometry(t)&&(e.tags.building&&"no"!==e.tags.building)}var r=function(r,i){if(!n(r,i))return[];if("yes"===r.tags.nonsquare)return[];var a=r.isClosed();if(!a)return[];var o=i.childNodes(r).slice();if(o.length>11)return[];var s=ne.osm;if(!s||o.some((function(e){return!s.isDataLoaded(e.loc)})))return[];if(o.some((function(e){return i.parentWays(e).some((function(e){return e.id!==r.id&&(!!n(e,i)||i.parentRelations(e).some((function(e){return e.isMultipolygon()&&e.tags.building&&"no"!==e.tags.building})))}))})))return[];var l,c=ce("validate-square-degrees"),u=isNaN(c)?5:parseFloat(c);if(!M1(o.map((function(t){return e.projection(t.loc)})),a,.05,u,!0))return[];if(!r.tags.wikidata){var d=ja(r.id,e.projection,void 0,u);d.transitionable=!1,l=[d,C("operations.orthogonalize.annotation.feature",{n:1})]}return[new st({type:t,subtype:"building",severity:"warning",message:function(e){var t=e.hasEntity(this.entityIds[0]);return t?C.html("issues.unsquare_way.message",{feature:Ke(t,e.graph())}):""},reference:function(e){e.selectAll(".issue-reference").data([0]).enter().append("div").attr("class","issue-reference").call(C.append("issues.unsquare_way.buildings.reference"))},entityIds:[r.id],hash:u,dynamicFixes:function(){return[new He({icon:"iD-operation-orthogonalize",title:C.html("issues.fix.square_feature.title"),autoArgs:l,onClick:function(e,t){var n=this.issue.entityIds[0];e.perform(ja(n,e.projection,void 0,u),C("operations.orthogonalize.annotation.feature",{n:1})),window.setTimeout((function(){t()}),175)}})]}})]};return r.type=t,r}function bl(e){let t,n=se("validated","focusedIssue"),r=fe({},n,"on"),i={},a={},o=new Set,s=new Set,l=yl("base"),c=yl("head"),u={},d=!1,p={},f=new Set,h=y(e.initialHashParams.validationError),g=y(e.initialHashParams.validationWarning),m=y(e.initialHashParams.validationDisable);function y(e){let t=[];return(e||"").split(",").forEach(e=>{let r=(e=e.trim()).split("/",2),i=r[0],a=r[1]||"*";!i||!a||t.push({type:n(i),subtype:n(a)})}),t;function n(e){let t=e.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*");return new RegExp("^"+t+"$")}}function v(e){l.queue=[],c.queue=[],Object.keys(p).forEach(e=>{window.cancelIdleCallback(e),p[e]()}),p={},f.forEach(window.clearTimeout),f.clear(),e&&o.clear(),s.clear(),l=yl("base"),c=yl("head"),u={},d=!1}function b(t){let n=i.unsquare_way;t.graph&&"function"==typeof n&&(t.uncacheIssuesOfType("unsquare_way"),e.history().tree().intersects(he([-180,-90],[180,90]),t.graph).filter(e=>"way"===e.type&&e.tags.building&&"no"!==e.tags.building).forEach(e=>{let r=n(e,t.graph);!r.length||t.cacheIssues(r)}))}function w(e,t){let r=Array.from(e).map(e=>t.queuedEntityIDs.has(e)?null:(t.queuedEntityIDs.add(e),t.uncacheEntityID(e),()=>{t.queuedEntityIDs.delete(e);let n=t.graph;if(!n)return;let r=n.hasEntity(e);if(!r)return;let a=function(e,t){let n={issues:[],provisional:!1};return Object.keys(i).forEach((function(r){let a=i[r];if("function"!=typeof a)return void console.error("no such validation rule = "+r);let o=a(e,t);o.provisional&&(n.provisional=!0),o=o.filter((function(e){let t,n=e.type,r=e.subtype||"";for(t=0;t<h.length;t++)if(h[t].type.test(n)&&h[t].subtype.test(r))return e.severity="error",!0;for(t=0;t<g.length;t++)if(g[t].type.test(n)&&g[t].subtype.test(r))return e.severity="warning",!0;for(t=0;t<m.length;t++)if(m[t].type.test(n)&&m[t].subtype.test(r))return!1;return!0})),n.issues=n.issues.concat(o)})),n}(r,n);a.provisional&&t.provisionalEntityIDs.add(e),t.cacheIssues(a.issues)})).filter(Boolean);return t.queue=t.queue.concat(Wi(r,100)),t.queuePromise||(t.queuePromise=function e(t){if(!t.queue.length)return Promise.resolve();let r=t.queue.pop();return new Promise((e,t)=>{let n=window.requestIdleCallback(()=>{delete p[n],r.forEach(e=>e()),e()});p[n]=t}).then(()=>{t.queue.length%25===0&&n.call("validated")}).then(()=>e(t))}(t).then(()=>function(e){if(!e.provisionalEntityIDs.size)return;let t=window.setTimeout(()=>{f.delete(t),e.provisionalEntityIDs.size&&w(Array.from(e.provisionalEntityIDs),e)},5e3);f.add(t)}(t)).catch(()=>{}).finally(()=>t.queuePromise=null)),t.queuePromise}return r.init=()=>{Object.values(j9).forEach(t=>{if("function"!=typeof t)return;let n=t(e),r=n.type;i[r]=n});let t=ce("validate-disabledRules");t&&t.split(",").forEach(e=>a[e]=!0)},r.reset=()=>{v(!0)},r.resetIgnoredIssues=()=>{o.clear(),n.call("validated")},r.revalidateUnsquare=()=>{b(c),b(l),n.call("validated")},r.getIssues=t=>{let n=Object.assign({what:"all",where:"all",includeIgnored:!1,includeDisabledRules:!1},t),r=e.map().extent(),i=new Set,d=[];return c.graph&&c.graph!==l.graph&&Object.values(c.issuesByIssueID).forEach(e=>{let t=(e.entityIds||[]).some(e=>u.hasOwnProperty(e));"edited"===n.what&&!t||!p(e)||(i.add(e.id),d.push(e))}),"all"===n.what&&Object.values(l.issuesByIssueID).forEach(e=>{!p(e)||(i.add(e.id),d.push(e))}),d;function p(t){if(!t||i.has(t.id)||s.has(t.id)||"only"===n.includeDisabledRules&&!a[t.type]||!n.includeDisabledRules&&a[t.type]||"only"===n.includeIgnored&&!o.has(t.id)||!n.includeIgnored&&o.has(t.id)||(t.entityIds||[]).some(t=>!e.hasEntity(t)))return!1;if("visible"===n.where){let n=t.extent(e.graph());if(!r.intersects(n))return!1}return!0}},r.getResolvedIssues=()=>Array.from(s).map(e=>l.issuesByIssueID[e]).filter(Boolean),r.focusIssue=t=>{let r,i,a=e.graph(),o=t.extent(a);if(o&&(i=o.center()),t.entityIds&&t.entityIds.length&&(r=t.entityIds[0],r&&"r"===r.charAt(0))){let e=xo([r],a),t=e.find(e=>"n"===e.charAt(0)&&a.hasEntity(e));if(!t){let n=e.find(e=>"w"===e.charAt(0)&&a.hasEntity(e));n&&(t=a.entity(n).first())}t&&(i=a.entity(t).loc)}if(i){let t=Math.max(e.map().zoom(),19);e.map().unobscuredCenterZoomEase(i,t)}r&&window.setTimeout(()=>{e.enter(Ce(e,[r])),n.call("focusedIssue",this,t)},250)},r.getIssuesBySeverity=e=>{let t=Ct(r.getIssues(e),"severity");return t.error=t.error||[],t.warning=t.warning||[],t},r.getSharedEntityIssues=(e,t)=>{let n=["missing_tag","missing_role","outdated_tags","mismatched_geometry","crossing_ways","almost_junction","disconnected_way","impossible_oneway"],i=r.getIssues(t),a=new Set(e);return i.filter(e=>(e.entityIds||[]).some(e=>a.has(e))).sort((e,t)=>{if(e.type===t.type)return e.id<t.id?-1:1;let r=n.indexOf(e.type),i=n.indexOf(t.type);return-1!==r&&-1!==i?r-i:-1===r&&-1===i?e.type<t.type?-1:1:-1!==r?-1:1})},r.getEntityIssues=(e,t)=>r.getSharedEntityIssues([e],t),r.getRuleKeys=()=>Object.keys(i),r.isRuleEnabled=e=>!a[e],r.toggleRule=e=>{a[e]?delete a[e]:a[e]=!0,ce("validate-disabledRules",Object.keys(a).join(",")),r.validate()},r.disableRules=e=>{a={},e.forEach(e=>a[e]=!0),ce("validate-disabledRules",Object.keys(a).join(",")),r.validate()},r.ignoreIssue=e=>{o.add(e)},r.validate=()=>{let i=e.history().base();c.graph||(c.graph=i),l.graph||(l.graph=i);let a=c.graph,o=e.graph();if(o===a)return d=!0,n.call("validated"),Promise.resolve();if(t)return d=!1,t;c.graph=o,u=e.history().difference().complete();let p=Ii(a,o),f=Object.keys(p.complete());return f=c.withAllRelatedEntities(f),f.size?(t=w(f,c).then(()=>function(e){e.forEach(e=>{let t=l.issuesByEntityID[e];!t||t.forEach(e=>{(l.issuesByIssueID[e].entityIds||[]).some(e=>u.hasOwnProperty(e))&&!c.issuesByIssueID[e]?s.add(e):s.delete(e)})})}(f)).then(()=>n.call("validated")).catch(()=>{}).then(()=>{t=null,d||r.validate()}),t):(n.call("validated"),Promise.resolve())},e.history().on("restore.validator",r.validate).on("undone.validator",r.validate).on("redone.validator",r.validate).on("reset.validator",()=>{v(!1),r.validate()}),e.on("exit.validator",r.validate),e.history().on("merge.validator",t=>{if(!t)return;let n=e.history().base();c.graph||(c.graph=n),l.graph||(l.graph=n);let r=t.map(e=>e.id);r=l.withAllRelatedEntities(r),w(r,l)}),r}function yl(e){let t={which:e,graph:null,queue:[],queuePromise:null,queuedEntityIDs:new Set,provisionalEntityIDs:new Set,issuesByIssueID:{},issuesByEntityID:{},cacheIssue:e=>{(e.entityIds||[]).forEach(n=>{t.issuesByEntityID[n]||(t.issuesByEntityID[n]=new Set),t.issuesByEntityID[n].add(e.id)}),t.issuesByIssueID[e.id]=e},uncacheIssue:e=>{(e.entityIds||[]).forEach(n=>{t.issuesByEntityID[n]&&t.issuesByEntityID[n].delete(e.id)}),delete t.issuesByIssueID[e.id]},cacheIssues:e=>{e.forEach(t.cacheIssue)},uncacheIssues:e=>{e.forEach(t.uncacheIssue)},uncacheIssuesOfType:e=>{let n=Object.values(t.issuesByIssueID).filter(t=>t.type===e);t.uncacheIssues(n)},uncacheEntityID:e=>{let n=t.issuesByEntityID[e];n&&n.forEach(e=>{let n=t.issuesByIssueID[e];n?t.uncacheIssue(n):delete t.issuesByIssueID[e]}),delete t.issuesByEntityID[e],t.provisionalEntityIDs.delete(e)},withAllRelatedEntities:e=>{let n=new Set;return(e||[]).forEach(e=>{n.add(e);let r=t.issuesByEntityID[e];r&&r.forEach(e=>{let r=t.issuesByIssueID[e];r?(r.entityIds||[]).forEach(e=>n.add(e)):delete t.issuesByIssueID[e]})}),n}};return t}var $g=je(u2());function xl(e){var t,n=se("saveStarted","saveEnded","willAttemptUpload","progressChanged","resultNoChanges","resultErrors","resultConflicts","resultSuccess"),r=!1,i=[],a=[],o={};ze.get("discarded").then((function(e){o=e})).catch((function(){}));var s=fe({},n,"on");function l(r){var s=e.connection();if(s||a.push({msg:"No OSM Service"}),i.length)!function(e){i.sort((function(e,t){return t.id.localeCompare(e.id)})),n.call("resultConflicts",this,e,i,t),d()}(r);else if(a.length)u();else{var l=e.history(),p=l.changes(Ao(l.difference(),o));p.modified.length||p.created.length||p.deleted.length?(n.call("willAttemptUpload",this),s.putChangeset(r,p,c)):function(){n.call("resultNoChanges",this),d(),e.flush()}()}}function c(t,r){t?409===t.status?s.save(r,!0,!0):(a.push({msg:t.message||t.responseText,details:[C("save.status_code",{code:t.status})]}),u()):function(t){e.history().clearSaved(),n.call("resultSuccess",this,t),window.setTimeout((function(){d(),e.flush()}),2500)}(r)}function u(){e.history().pop(),n.call("resultErrors",this,a),d()}function d(){r=!1,n.call("saveEnded",this)}return s.isSaving=function(){return r},s.save=function(c,d,p){if(!r||d){var f=e.connection();if(f){if(!f.authenticated())return void f.authenticate((function(e){e||s.save(c,d,p)}));r||(r=!0,n.call("saveStarted",this));var h=e.history();i=[],a=[],t=h.changes(Ao(h.difference(),o)),d||h.perform(Er()),p?function(t){var r=e.connection();if(!r)return;for(var s=e.history(),c=e.graph(),d=kr(s.base(),!0),p=s.difference().summary(),f=[],h=0;h<p.length;h++){var g=p[h];"modified"===g.changeType&&f.push(g.entity.id)}var m=function(e,t){var n=new Set(e);return e.forEach((function(e){var r=t.entity(e);"way"===r.type&&t.childNodes(r).forEach((function(e){void 0!==e.version&&n.add(e.id)}))})),Array.from(n)}(f,c),y={},v=0,b=m.length;return void(f.length?(n.call("progressChanged",this,v,b),m.forEach((function(e){y[e]=!1})),r.loadMultiple(m,w)):l(t));function w(e,p){if(!a.length)if(e)a.push({msg:e.message||e.responseText,details:[C("save.status_code",{code:e.status})]}),u();else{var h=[];p.data.forEach((function(e){var t,n;if(d.replace(e),y[e.id]=!0,m=m.filter((function(t){return t!==e.id})),e.visible)if("way"===e.type)for(t=0;t<e.nodes.length;t++)n=e.nodes[t],void 0===y[n]&&(y[n]=!1,h.push(n));else if("relation"===e.type&&e.isMultipolygon())for(t=0;t<e.members.length;t++)n=e.members[t].id,void 0===y[n]&&(y[n]=!1,h.push(n))})),v+=p.data.length,b+=h.length,n.call("progressChanged",this,v,b),h.length&&(m.push.apply(m,h),r.loadMultiple(h,w)),m.length||(function(){function e(e,t,n){return{id:e,text:t,action:function(){s.replace(n)}}}function t(e){return'<a href="'+r.userURL(e)+'" target="_blank">'+(0,$g.default)(e)+"</a>"}function n(e){return Nt(e)||pn(e.id)+" "+e.id}f.forEach((function(r){var a=c.entity(r),l=d.entity(r);if(!function(e,t){if(e.version!==t.version)return!1;if("way"===e.type)for(var n=xt(e.nodes,t.nodes),r=0;r<n.length;r++){var i=c.hasEntity(n[r]),a=d.hasEntity(n[r]);if(i&&a&&i.version!==a.version)return!1}return!0}(a,l)){var u=Y1(r,c,d,o,t);s.replace(u);var p=u.conflicts();if(p.length){var f=Y1(r,c,d,o).withOption("force_local"),h=Y1(r,c,d,o).withOption("force_remote"),g=C("save.conflict."+(l.visible?"keep_local":"restore")),m=C("save.conflict."+(l.visible?"keep_remote":"delete"));i.push({id:r,name:n(a),details:p,chosen:1,choices:[e(r,g,f),e(r,m,h)]})}}}))}(),l(t))}}}(c):l(c)}}},s.cancelConflictResolution=function(){e.history().pop()},s.processResolvedConflicts=function(t){for(var n=e.history(),r=0;r<i.length;r++)if(1===i[r].chosen){var a=e.hasEntity(i[r].id);if(a&&"way"===a.type)for(var o=Te(a.nodes),l=0;l<o.length;l++)n.replace(d2(o[l]));n.replace(d2(i[r].id))}s.save(t,!0,!1)},s.reset=function(){},s}var _l=je(u2()),wl=class{constructor(e){this.intervalInMs=e,this.pendingHandles=[],this.time=0}enqueue(e){let t=this.time;this.time+=this.intervalInMs,this.pendingHandles.push(setTimeout(()=>{this.time-=this.intervalInMs,e()},t))}clear(){this.pendingHandles.forEach(e=>{clearTimeout(e)}),this.pendingHandles=[],this.time=0}},Gg=window.devicePixelRatio&&window.devicePixelRatio>=2;function S2(e){if(!e)return null;var t=new Date(e);return isNaN(t.getTime())?null:t.toLocaleDateString(le.localeCode(),{day:"numeric",month:"short",year:"numeric"})}function Hg(e){var t;return(e.start||e.end)&&(t=e.start||"?",e.start!==e.end&&(t+=" - "+(e.end||"?"))),t}function jr(e){var t=Object.assign({},e),n=[0,0],r=t.name,i=t.description,a=!!t.best,o=t.encrypted?n2(t.template):t.template;return t.tileSize=e.tileSize||256,t.zoomExtent=e.zoomExtent||[0,22],t.overzoom=!1!==e.overzoom,t.offset=function(e){return arguments.length?(n=e,t):n},t.nudge=function(e,r){return n[0]+=e[0]/Math.pow(2,r),n[1]+=e[1]/Math.pow(2,r),t},t.name=function(){var e=t.id.replace(/\./g,"<TX_DOT>");return C("imagery."+e+".name",{default:(0,_l.default)(r)})},t.label=function(){var e=t.id.replace(/\./g,"<TX_DOT>");return C.html("imagery."+e+".name",{default:(0,_l.default)(r)})},t.description=function(){var e=t.id.replace(/\./g,"<TX_DOT>");return C.html("imagery."+e+".description",{default:(0,_l.default)(i)})},t.best=function(){return a},t.area=function(){if(!e.polygon)return Number.MAX_VALUE;var t=yi({type:"MultiPolygon",coordinates:[e.polygon]});return isNaN(t)?0:t},t.imageryUsed=function(){return r||t.id},t.template=function(e){return arguments.length?(("custom"===t.id||"Bing"===t.id)&&(o=e),t):o},t.url=function(e){var n=o.replace(/#[\s\S]*/u,"");if(""===n)return n;if((!t.type||"custom"===t.id)&&(/SERVICE=WMS|\{(proj|wkid|bbox)\}/.test(n)?(t.type="wms",t.projection="EPSG:3857"):/\{(x|y)\}/.test(n)?t.type="tms":/\{u\}/.test(n)&&(t.type="bing")),"wms"===t.type){var r=function(e,n,r){var i=Math.pow(2,r),a=e/i*Math.PI*2-Math.PI,o=Math.atan(Math.sinh(Math.PI*(1-2*n/i)));switch(t.projection){case"EPSG:4326":return{x:180*a/Math.PI,y:180*o/Math.PI};default:var s=ga(a,o);return{x:20037508.34/Math.PI*s[0],y:20037508.34/Math.PI*s[1]}}},i=t.tileSize,a=t.projection,s=r(e[0],e[1],e[2]),l=r(e[0]+1,e[1]+1,e[2]);n=n.replace(/\{(\w+)\}/g,(function(e,n){switch(n){case"width":case"height":return i;case"proj":return a;case"wkid":return a.replace(/^EPSG:/,"");case"bbox":return"EPSG:4326"===a&&/VERSION=1.3|CRS={proj}/.test(t.template().toUpperCase())?l.y+","+s.x+","+s.y+","+l.x:s.x+","+l.y+","+l.x+","+s.y;case"w":return s.x;case"s":return l.y;case"n":return l.x;case"e":return s.y;default:return e}}))}else"tms"===t.type?n=n.replace("{x}",e[0]).replace("{y}",e[1]).replace(/\{[t-]y\}/,Math.pow(2,e[2])-e[1]-1).replace(/\{z(oom)?\}/,e[2]).replace(/\{@2x\}|\{r\}/,Gg?"@2x":""):"bing"===t.type&&(n=n.replace("{u}",(function(){for(var t="",n=e[2];n>0;n--){var r=0,i=1<<n-1;0!==(e[0]&i)&&r++,0!==(e[1]&i)&&(r+=2),t+=r.toString()}return t})));return n=n.replace(/\{switch:([^}]+)\}/,(function(t,n){var r=n.split(",");return r[(e[0]+e[1])%r.length]}))},t.validZoom=function(e){return t.zoomExtent[0]<=e&&(t.overzoom||t.zoomExtent[1]>e)},t.isLocatorOverlay=function(){return"mapbox_locator_overlay"===t.id},t.isHidden=function(){return"DigitalGlobe-Premium-vintage"===t.id||"DigitalGlobe-Standard-vintage"===t.id},t.copyrightNotices=function(){},t.getMetadata=function(e,n,r){var i={start:S2(t.startDate),end:S2(t.endDate)};i.range=Hg(i),r(null,{vintage:i})},t}window.matchMedia("\n        (-webkit-min-device-pixel-ratio: 2), /* Safari */\n        (min-resolution: 2dppx),             /* standard */\n        (min-resolution: 192dpi)             /* fallback */\n    ").addListener((function(){Gg=window.devicePixelRatio&&window.devicePixelRatio>=2})),jr.Bing=function(e,t){e.template="https://ecn.t{switch:0,1,2,3}.tiles.virtualearth.net/tiles/a{u}.jpeg?g=1&pr=odbl&n=z";var n=jr(e),r=n2("5c875730b09c6b422433e807e1ff060b6536c791dbfffcffc4c6b18a1bdba1f14593d151adb50e19e1be1ab19aef813bf135d0f103475e5c724dec94389e45d0");var i="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/AerialOSM?include=ImageryProviders&uriScheme=https&key="+r,a={},o={},s=[],l=new wl(250),c=-1;return mt(i).then((function(e){let r=e.resourceSets[0].resources[0],i=r.imageUrl,a=r.imageUrlSubdomains.map(e=>e.substring(1)).join(",");i=i.replace("{subdomain}","t{switch:".concat(a,"}")).replace("{quadkey}","{u}"),new URLSearchParams(i).has("n")||(i+="&".concat("n","=z")),n.template(i),s=r.imageryProviders.map((function(e){return{attribution:e.attribution,areas:e.coverageAreas.map((function(e){return{zoom:[e.zoomMin,e.zoomMax],extent:he([e.bbox[1],e.bbox[0]],[e.bbox[3],e.bbox[2]])}}))}})),t.call("change")})).catch((function(){})),n.copyrightNotices=function(e,t){return e=Math.min(e,21),s.filter((function(n){return n.areas.some((function(n){return t.intersects(n.extent)&&n.zoom[0]<=e&&n.zoom[1]>=e}))})).map((function(e){return e.attribution})).join(", ")},n.getMetadata=function(e,t,n){var i=t.slice(0,3).join("/"),s=Math.min(t[2],21),u="https://dev.virtualearth.net/REST/v1/Imagery/BasicMetadata/AerialOSM/"+(e[1]+","+e[0])+"?zl="+s+"&key="+r;if(!o[i]){if(a[i]||(a[i]={}),a[i]&&a[i].metadata)return n(null,a[i].metadata);o[i]=!0,c!==t[2]&&(c=t[2],l.clear()),l.enqueue(()=>{mt(u).then((function(e){if(delete o[i],!e)throw new Error("Unknown Error");var t={start:S2(e.resourceSets[0].resources[0].vintageStart),end:S2(e.resourceSets[0].resources[0].vintageEnd)};t.range=Hg(t);var r={vintage:t};a[i].metadata=r,n&&n(null,r)})).catch((function(e){delete o[i],n&&n(e.message)}))})}},n.terms_url="https://blog.openstreetmap.org/2010/11/30/microsoft-imagery-details",n},jr.Esri=function(e){null===e.template.match(/blankTile/)&&(e.template=e.template+"?blankTile=false");var t,n=jr(e),r={},i={};return n.fetchTilemap=function(e){if(!(t&&rt(e,t)<5e3)){t=e;var r=n.url([1,2,3]),i=Math.floor((e[0]+180)/360*Math.pow(2,20)),a=Math.floor((1-Math.log(Math.tan(e[1]*Math.PI/180)+1/Math.cos(e[1]*Math.PI/180))/Math.PI)/2*Math.pow(2,20));mt(r.replace(/tile\/[0-9]+\/[0-9]+\/[0-9]+\?blankTile=false/,"tilemap")+"/20/"+a+"/"+i+"/8/8").then((function(e){if(!e)throw new Error("Unknown Error");for(var t=!0,r=0;r<e.data.length;r++)if(!e.data[r]){t=!1;break}n.zoomExtent[1]=t?22:19})).catch((function(){}))}},n.getMetadata=function(e,t,a){if("EsriWorldImagery"!==n.id)return a(null,{});var o=t.slice(0,3).join("/"),s=Math.min(t[2],n.zoomExtent[1]),l=e[0]+","+e[1],c=C("info_panels.background.unknown"),u={};if(!i[o]){var d="https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/4/query";if(d+="?returnGeometry=false&geometry="+l+"&inSR=4326&geometryType=esriGeometryPoint&outFields=*&f=json",r[o]||(r[o]={}),r[o]&&r[o].metadata)return a(null,r[o].metadata);i[o]=!0,mt(d).then((function(e){if(delete i[o],!(e=e.features.map(e=>e.attributes).filter(e=>e.MinMapLevel<=s&&e.MaxMapLevel>=s)[0]))throw new Error("Unknown Error");if(e.features&&e.features.length<1)throw new Error("No Results");if(e.error&&e.error.message)throw new Error(e.error.message);var t=S2(e.SRC_DATE2);u={vintage:{start:t,end:t,range:t},source:p(e.NICE_NAME),description:p(e.NICE_DESC),resolution:p(+parseFloat(e.SRC_RES).toFixed(4)),accuracy:p(+parseFloat(e.SRC_ACC).toFixed(4))},isFinite(u.resolution)&&(u.resolution+=" m"),isFinite(u.accuracy)&&(u.accuracy+=" m"),r[o].metadata=u,a&&a(null,u)})).catch((function(e){delete i[o],a&&a(e.message)}))}function p(e){return String(e).trim()||c}},n},jr.None=function(){var e=jr({id:"none",template:""});return e.name=function(){return C("background.none")},e.label=function(){return C.html("background.none")},e.imageryUsed=function(){return null},e.area=function(){return-1},e},jr.Custom=function(e){var t=jr({id:"custom",template:e});return t.name=function(){return C("background.custom")},t.label=function(){return C.html("background.custom")},t.imageryUsed=function(){var e=t.template();if(-1!==e.indexOf("?")){var n=e.split("?",2),r=Ut(n[1]);["access_token","connectId","token"].forEach((function(e){r[e]&&(r[e]="{apikey}")})),e=n[0]+"?"+$e(r,!0)}return"Custom ("+(e=e.replace(/token\/(\w+)/,"token/{apikey}").replace(/key=(\w+)/,"key={apikey}"))+" )"},t.area=function(){return-2},t};var Wg=je(e2());function Ga(e){var t,n,r,i,a=wo("Transform"),o=Jt(),s=256,l={};function c(e,t){var n=Math.pow(2,t);return[Math.floor(e[0]*n),Math.floor(e[1]*n),e[2]+t]}function u(e){for(var t=-1;t>-e[2];t--){var n=c(e,t);if(!1!==l[i.url(n)])return n}}function d(e){return e.push(i.url(e)),e}function p(c){var p;r=Tt(t.scale(),s),p=i?[i.offset()[0]*Math.pow(2,r),i.offset()[1]*Math.pow(2,r)]:[0,0];var f=[t.translate()[0]+p[0],t.translate()[1]+p[1]];o.scale(2*t.scale()*Math.PI).translate(f),n=[t.scale()*Math.PI-f[0],t.scale()*Math.PI-f[1]],function t(c){if(!i)return;var p=[],f=e.getDebug("tile")&&!i.overlay;function h(e,n){l[n[3]]=!0,$(this).on("error",null).on("load",null).classed("tile-loaded",!0),t(c)}function g(e,n){l[n[3]]=!1,$(this).on("error",null).on("load",null).remove(),t(c)}function m(e){var t=s*Math.pow(2,r-e[2]),i=function(e,t){return s*Math.pow(2,t-e[2])/s+.002}(e,r);return"translate("+(e[0]*t-n[0])+"px,"+(e[1]*t-n[1])+"px) scale("+i+","+i+")"}function y(e){var t=s*Math.pow(2,r-e[2]);return[e[0]*t-n[0]+t/2,e[1]*t-n[1]+t/2]}i.validZoom(r)&&(o.skipNullIsland(!!i.overlay),o().forEach((function(e){d(e),""!==e[3]&&"string"==typeof e[3]&&(p.push(e),!1===l[e[3]]&&u(e)&&p.push(d(u(e))))})),p=function(e,t){for(var n=[],r={},i=0;i<e.length;i++)void 0===r[e[i][t]]&&(n.push(e[i]),r[e[i][t]]=!0);return n}(p,3).filter((function(e){return!1!==l[e[3]]})));var v,b=o.size(),w=[b[0]/2,b[1]/2],_=Math.max(b[0],b[1]);p.forEach((function(e){var t=Qe(y(e),w);t<_&&(_=t,v=e)}));var k=c.selectAll("img").data(p,(function(e){return e[3]}));k.exit().style(a,m).classed("tile-removing",!0).classed("tile-center",!1).each((function(){var e=$(this);window.setTimeout((function(){e.classed("tile-removing")&&e.remove()}),300)})),k.enter().append("img").attr("class","tile").attr("alt","").attr("draggable","false").style("width",s+"px").style("height",s+"px").attr("src",(function(e){return e[3]})).on("error",g).on("load",h).merge(k).style(a,m).classed("tile-debug",f).classed("tile-removing",!1).classed("tile-center",(function(e){return e===v}));var x=c.selectAll(".tile-label-debug").data(f?p:[],(function(e){return e[3]}));if(x.exit().remove(),f){var A=x.enter().append("div").attr("class","tile-label-debug");A.append("div").attr("class","tile-label-debug-coord"),A.append("div").attr("class","tile-label-debug-vintage"),(x=x.merge(A)).style(a,(function(e){var t=y(e);return"translate("+t[0]+"px,"+t[1]+"px)"})),x.selectAll(".tile-label-debug-coord").text((function(e){return e[2]+" / "+e[0]+" / "+e[1]})),x.selectAll(".tile-label-debug-vintage").each((function(t){var n=$(this),r=e.projection.invert(y(t));i.getMetadata(r,t,(function(e,t){t&&t.vintage&&t.vintage.range?n.text(t.vintage.range):n.html(C.html("info_panels.background.vintage")+": "+C.html("info_panels.background.unknown"))}))}))}}(c)}return p.projection=function(e){return arguments.length?(t=e,p):t},p.dimensions=function(e){return arguments.length?(o.size(e),p):o.size()},p.source=function(e){return arguments.length?(s=(i=e).tileSize,l={},o.tileSize(i.tileSize).zoomExtent(i.zoomExtent),p):i},p}var an=null;function kl(e){let t,n=se("change"),r=Ga(e).projection(e.projection),i=[],a=!0,o=[],s=1,l=1,c=1,u=1;function d(t){let n=r.source();if(e.map().zoom()>18&&n&&/^EsriWorldImagery/.test(n.id)){let t=e.map().center();n.fetchTilemap(t)}let i=d.sources(e.map().extent()),p=a;a=!!i.filter(e=>e===n).length,p!==a&&d.updateImagery();let f="";1!==s&&(f+=" brightness(".concat(s,")")),1!==l&&(f+=" contrast(".concat(l,")")),1!==c&&(f+=" saturate(".concat(c,")")),u<1&&(f+=" blur(".concat(Gt(.5,5)(1-u),"px)"));let h=t.selectAll(".layer-background").data([0]);h=h.enter().insert("div",".layer-data").attr("class","layer layer-background").merge(h),h.style("filter",f||null);let g=h.selectAll(".layer-imagery").data([0]);g.enter().append("div").attr("class","layer layer-imagery").merge(g).call(r);let m="",y="";u>1&&(y="overlay",m="saturate(0) blur(3px) invert(1)",m+=" contrast(".concat(u-1,")"),m+=" brightness(".concat(Gt(1,.85)(u-1),")"));let v=h.selectAll(".layer-unsharp-mask").data(u>1?[0]:[]);v.exit().remove(),v.enter().append("div").attr("class","layer layer-mask layer-unsharp-mask").merge(v).call(r).style("filter",m||null).style("mix-blend-mode",y||null);let b=t.selectAll(".layer-overlay").data(o,e=>e.source().name());b.exit().remove(),b.enter().insert("div",".layer-data").attr("class","layer layer-overlay").merge(b).each((e,t,n)=>$(n[t]).call(e))}return d.updateImagery=function(){let t=r.source();if(e.inIntro()||!t)return;let n=o.filter(e=>!e.source().isLocatorOverlay()&&!e.source().isHidden()).map(e=>e.source().id).join(","),i=g1(t.offset()),s=+i[0].toFixed(2),l=+i[1].toFixed(2),c=Ut(window.location.hash),u=t.id;"custom"===u&&(u="custom:".concat(t.template())),u?c.background=u:delete c.background,n?c.overlays=n:delete c.overlays,Math.abs(s)>.01||Math.abs(l)>.01?c.offset="".concat(s,",").concat(l):delete c.offset,window.mocha||window.location.replace("#"+$e(c,!0));let d=[],p=[],f=t.imageryUsed();f&&a&&d.push(f),o.filter(e=>!e.source().isLocatorOverlay()&&!e.source().isHidden()).forEach(e=>d.push(e.source().imageryUsed()));let h=e.layers().layer("data");h&&h.enabled()&&h.hasData()&&d.push(h.getSrc());let g={streetside:"Bing Streetside",mapillary:"Mapillary Images","mapillary-map-features":"Mapillary Map Features","mapillary-signs":"Mapillary Signs",kartaview:"KartaView Images"};for(let r in g){let t=e.layers().layer(r);t&&t.enabled()&&(p.push(r),d.push(g[r]))}e.history().imageryUsed(d),e.history().photoOverlaysUsed(p)},d.sources=(t,n,a)=>{if(!an)return[];let o={};(an.query.bbox(t.rectangle(),!0)||[]).forEach(e=>o[e.id]=!0);let s=r.source(),l=e.connection(),c=l&&l.imageryBlocklists()||[];return(c.length!==i.length||c.some((e,t)=>String(e)!==i[t]))&&(an.backgrounds.forEach(e=>{e.isBlocked=c.some(t=>t.test(e.template()))}),i=c.map(e=>String(e))),an.backgrounds.filter(e=>!(!a||s!==e)||!e.isBlocked&&(!e.polygon||!(n&&n<6)&&o[e.id]))},d.dimensions=e=>{!e||(r.dimensions(e),o.forEach(t=>t.dimensions(e)))},d.baseLayerSource=function(t){if(!arguments.length)return r.source();let i=e.connection();if(!i)return d;let a,o=i.imageryBlocklists(),s=t.template(),l=!1,c=0;for(let e=0;e<o.length&&(a=o[e],l=a.test(s),c++,!l);e++);return c||(a=/.*\.google(apis)?\..*\/(vt|kh)[\?\/].*([xyz]=.*){3}.*/,l=a.test(s)),r.source(l?d.findSource("none"):t),n.call("change"),d.updateImagery(),d},d.findSource=e=>e&&an?an.backgrounds.find(t=>t.id&&t.id===e):null,d.bing=()=>{d.baseLayerSource(d.findSource("Bing"))},d.showsLayer=e=>{let t=r.source();return!(!e||!t)&&(e.id===t.id||o.some(t=>e.id===t.source().id))},d.overlayLayerSources=()=>o.map(e=>e.source()),d.toggleOverlayLayer=t=>{let i;for(let e=0;e<o.length;e++)if(i=o[e],i.source()===t)return o.splice(e,1),n.call("change"),void d.updateImagery();i=Ga(e).source(t).projection(e.projection).dimensions(r.dimensions()),o.push(i),n.call("change"),d.updateImagery()},d.nudge=(e,t)=>{let i=r.source();return i&&(i.nudge(e,t),n.call("change"),d.updateImagery()),d},d.offset=function(e){let t=r.source();return arguments.length?(t&&(t.offset(e),n.call("change"),d.updateImagery()),d):t&&t.offset()||[0,0]},d.brightness=function(t){return arguments.length?(s=t,e.mode()&&n.call("change"),d):s},d.contrast=function(t){return arguments.length?(l=t,e.mode()&&n.call("change"),d):l},d.saturation=function(t){return arguments.length?(c=t,e.mode()&&n.call("change"),d):c},d.sharpness=function(t){return arguments.length?(u=t,e.mode()&&n.call("change"),d):u},d.ensureLoaded=()=>{if(t)return t;let r=Ut(window.location.hash),i=r.background||r.layer,a=function(e){if(!e)return!1;let t=e.split("/").map(Number);return!(t.length<3||t.some(isNaN))&&he([t[2],t[1]])}(r.map);return t=ze.get("imagery").then(e=>{if(an)return an;an={imagery:e,features:{}};let t=e.map(e=>{if(!e.polygon)return null;let t=e.polygon.map(e=>[e]),n={type:"Feature",properties:{id:e.id},geometry:{type:"MultiPolygon",coordinates:t}};return an.features[e.id]=n,n}).filter(Boolean);an.query=(0,Wg.default)({type:"FeatureCollection",features:t}),an.backgrounds=e.map(e=>"bing"===e.type?jr.Bing(e,n):/^EsriWorldImagery/.test(e.id)?jr.Esri(e):jr(e)),an.backgrounds.unshift(jr.None());let r=ce("background-custom-template")||"",i=jr.Custom(r);return an.backgrounds.unshift(i),an}).then(t=>{let n,o=t.backgrounds.length&&t.backgrounds[0];if(!i&&a&&(n=d.sources(a).find(e=>e.best())),i&&0===i.indexOf("custom:")){let e=i.replace(/^custom:/,""),t=d.findSource("custom");d.baseLayerSource(t.template(e)),ce("background-custom-template",e)}else d.baseLayerSource(d.findSource(i)||n||d.findSource(ce("background-last-used"))||d.findSource("Bing")||o||d.findSource("none"));let s=t.backgrounds.find(e=>e.overlay&&e.default);if(s&&d.toggleOverlayLayer(s),(r.overlays||"").split(",").forEach(e=>{(e=d.findSource(e))&&d.toggleOverlayLayer(e)}),r.gpx){let t=e.layers().layer("data");t&&t.url(r.gpx,".gpx")}if(r.offset){let e=r.offset.replace(/;/g,",").split(",").map(e=>!isNaN(e)&&e);2===e.length&&d.offset(h1(e))}}).catch(()=>{})},fe(d,n,"on")}function El(e){var t=se("change","redraw"),n=fe({},t,"on"),r=new Set,i={motorway:!0,motorway_link:!0,trunk:!0,trunk_link:!0,primary:!0,primary_link:!0,secondary:!0,secondary_link:!0,tertiary:!0,tertiary_link:!0,residential:!0,unclassified:!0,living_street:!0},a={service:!0,road:!0,track:!0},o={path:!0,footway:!0,cycleway:!0,bridleway:!0,steps:!0,pedestrian:!0},s={proposed:!0,construction:!0,abandoned:!0,dismantled:!0,disused:!0,razed:!0,demolished:!0,obliterated:!0},l=1,c={},u={},d={},p=[],f=[],h={};function g(){if(!window.mocha){var e=Ut(window.location.hash),r=n.disabled();r.length?e.disable_features=r.join(","):delete e.disable_features,window.location.replace("#"+$e(e,!0)),ce("disabled-features",r.join(","))}f=n.hidden(),t.call("change"),t.call("redraw")}function m(e,t,n){p.push(e),u[e]={filter:t,enabled:!0,count:0,currentMax:n||1/0,defaultMax:n||1/0,enable:function(){this.enabled=!0,this.currentMax=this.defaultMax},disable:function(){this.enabled=!1,this.currentMax=0},hidden:function(){return 0===this.count&&!this.enabled||this.count>this.currentMax*l},autoHidden:function(){return this.hidden()&&this.currentMax>0}}}return m("points",(function(e,t){return"point"===t}),200),m("traffic_roads",(function(e){return i[e.highway]})),m("service_roads",(function(e){return a[e.highway]})),m("paths",(function(e){return o[e.highway]})),m("buildings",(function(e){return!!e.building&&"no"!==e.building||"multi-storey"===e.parking||"sheds"===e.parking||"carports"===e.parking||"garage_boxes"===e.parking}),250),m("building_parts",(function(e){return e["building:part"]})),m("indoor",(function(e){return e.indoor})),m("landuse",(function(e,t){return"area"===t&&!u.buildings.filter(e)&&!u.building_parts.filter(e)&&!u.indoor.filter(e)&&!u.water.filter(e)&&!u.pistes.filter(e)})),m("boundaries",(function(e){return!!e.boundary&&!(i[e.highway]||a[e.highway]||o[e.highway]||e.waterway||e.railway||e.landuse||e.natural||e.building||e.power)})),m("water",(function(e){return!!e.waterway||"water"===e.natural||"coastline"===e.natural||"bay"===e.natural||"pond"===e.landuse||"basin"===e.landuse||"reservoir"===e.landuse||"salt_pond"===e.landuse})),m("rail",(function(e){return(!!e.railway||"railway"===e.landuse)&&!(i[e.highway]||a[e.highway]||o[e.highway])})),m("pistes",(function(e){return e["piste:type"]})),m("aerialways",(function(e){return e.aerialway&&"yes"!==e.aerialway&&"station"!==e.aerialway})),m("power",(function(e){return!!e.power})),m("past_future",(function(e){if(i[e.highway]||a[e.highway]||o[e.highway])return!1;for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];if(s[r]||s[e[r]])return!0}return!1})),m("others",(function(e,t){return"line"===t||"area"===t})),n.features=function(){return u},n.keys=function(){return p},n.enabled=function(e){return arguments.length?u[e]&&u[e].enabled:p.filter((function(e){return u[e].enabled}))},n.disabled=function(e){return arguments.length?u[e]&&!u[e].enabled:p.filter((function(e){return!u[e].enabled}))},n.hidden=function(e){return arguments.length?u[e]&&u[e].hidden():p.filter((function(e){return u[e].hidden()}))},n.autoHidden=function(e){return arguments.length?u[e]&&u[e].autoHidden():p.filter((function(e){return u[e].autoHidden()}))},n.enable=function(e){u[e]&&!u[e].enabled&&(u[e].enable(),g())},n.enableAll=function(){var e=!1;for(var t in u)u[t].enabled||(e=!0,u[t].enable());e&&g()},n.disable=function(e){u[e]&&u[e].enabled&&(u[e].disable(),g())},n.disableAll=function(){var e=!1;for(var t in u)u[t].enabled&&(e=!0,u[t].disable());e&&g()},n.toggle=function(e){var t;u[e]&&((t=u[e]).enabled?t.disable():t.enable(),g())},n.resetStats=function(){for(var e=0;e<p.length;e++)u[p[e]].count=0;t.call("change")},n.gatherStats=function(e,r,i){var a,o,s,c,d,h=!1,g=Ct(e,"type"),m=[].concat(g.relation||[],g.way||[],g.node||[]);for(c=0;c<p.length;c++)u[p[c]].count=0;for(l=i[0]*i[1]/1e6,c=0;c<m.length;c++)for(o=m[c].geometry(r),s=Object.keys(n.getMatches(m[c],r,o)),d=0;d<s.length;d++)u[s[d]].count++;return(a=n.hidden())!==f&&(f=a,h=!0,t.call("change")),h},n.stats=function(){for(var e=0;e<p.length;e++)d[p[e]]=u[p[e]].count;return d},n.clear=function(e){for(var t=0;t<e.length;t++)n.clearEntity(e[t])},n.clearEntity=function(e){delete c[ye.key(e)]},n.reset=function(){Array.from(r).forEach((function(e){window.cancelIdleCallback(e),r.delete(e)})),c={}},n.getMatches=function(e,t,r){if("vertex"===r||"relation"===r&&!function(e){return"boundary"===e.tags.type}(e))return{};var i=ye.key(e);if(c[i]||(c[i]={}),!c[i].matches){for(var a={},o=!1,s=0;s<p.length;s++){if("others"===p[s]){if(o)continue;if("way"===e.type){var l=n.getParents(e,t,r);if(1===l.length&&l[0].isMultipolygon()||l.length>0&&l.every((function(e){return"boundary"===e.tags.type}))){var d=ye.key(l[0]);if(c[d]&&c[d].matches){a=Object.assign({},c[d].matches);continue}}}}u[p[s]].filter(e.tags,r)&&(a[p[s]]=o=!0)}c[i].matches=a}return c[i].matches},n.getParents=function(e,t,n){if("point"===n)return[];var r=ye.key(e);if(c[r]||(c[r]={}),!c[r].parents){var i=[];i="vertex"===n?t.parentWays(e):t.parentRelations(e),c[r].parents=i}return c[r].parents},n.isHiddenPreset=function(e,t){if(!f.length||!e.tags)return!1;var n=e.setTags({},t);for(var r in u)if(u[r].filter(n,t))return-1!==f.indexOf(r)&&r;return!1},n.isHiddenFeature=function(e,t,r){if(!f.length||!e.version||h[e.id])return!1;var i=Object.keys(n.getMatches(e,t,r));return i.length&&i.every((function(e){return n.hidden(e)}))},n.isHiddenChild=function(e,t,r){if(!f.length||!e.version||"point"===r||h[e.id])return!1;var i=n.getParents(e,t,r);if(!i.length)return!1;for(var a=0;a<i.length;a++)if(!n.isHidden(i[a],t,i[a].geometry(t)))return!1;return!0},n.hasHiddenConnections=function(e,t){return!!f.length&&("midpoint"===e.type?(r=[t.entity(e.edge[0]),t.entity(e.edge[1])],i=[]):(r=e.nodes?t.childNodes(e):[],i=n.getParents(e,t,e.geometry(t))),(i=r.reduce((function(e,n){return t.isShared(n)?xt(e,t.parentWays(n)):e}),i)).some((function(e){return n.isHidden(e,t,e.geometry(t))})));var r,i},n.isHidden=function(e,t,r){return!(!f.length||!e.version)&&("vertex"===r?n.isHiddenChild:n.isHiddenFeature)(e,t,r)},n.filter=function(e,t){if(!f.length)return e;for(var r=[],i=0;i<e.length;i++){var a=e[i];n.isHidden(a,t,a.geometry(t))||r.push(a)}return r},n.forceVisible=function(t){if(!arguments.length)return Object.keys(h);h={};for(var r=0;r<t.length;r++){h[t[r]]=!0;var i=e.hasEntity(t[r]);if(i&&"relation"===i.type)for(var a in i.members)h[i.members[a].id]=!0}return n},n.init=function(){var e=ce("disabled-features");e&&e.replace(/;/g,",").split(",").forEach(n.disable);var t=Ut(window.location.hash);t.disable_features&&t.disable_features.replace(/;/g,",").split(",").forEach(n.disable)},e.history().on("merge.features",(function(t){if(t){var i=window.requestIdleCallback((function(){for(var r=e.graph(),i=Ct(t,"type"),a=[].concat(i.relation||[],i.way||[],i.node||[]),o=0;o<a.length;o++){var s=a[o].geometry(r);n.getMatches(a[o],r,s)}}));r.add(i)}})),n}var JS="Expected a function";function eC(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(JS);return Oo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ft(e,t,{leading:r,maxWait:t,trailing:i})}var dt=eC,D2=je(zn());function C2(e,t,n){if(!n)return 1;if(n===e.id)return 0;var r,i,a,o,s,l,c,u,d,p=t.parentWays(e);for(r=0;r<p.length;r++)for(a=p[r].nodes,o=p[r].isClosed(),i=0;i<a.length;i++)if(a[i]===e.id){if(s=i-2,l=i-1,c=i+1,u=i+2,o&&(d=a.length-1,s<0&&(s=d+s),l<0&&(l=d+l),c>d&&(c-=d),u>d&&(u-=d)),a[s]===n)return 0;if(a[l]===n)return 2;if(a[c]===n)return 2;if(a[u]===n)return 0;if(o&&-1!==a.indexOf(n))return 0}return 1}function F2(e,t,n,r,i){return function(a){var o,s,l=0,c=n,u=[],d=D0().clipExtent(e.clipExtent()).stream,p=t.childNodes(a).map((function(e){return e.loc}));return r(a)&&p.reverse(),Or({type:"LineString",coordinates:p},e.stream(d({lineStart:function(){},lineEnd:function(){o=null},point:function(e,t){if(s=[e,t],o){var r=Qe(o,s)-c;if(r>=0){var d=ya(o,s),p=n*Math.cos(d),f=n*Math.sin(d),h=[o[0]+c*Math.cos(d),o[1]+c*Math.sin(d)],g=[o,h];for(r-=n;r>=0;r-=n)h=$t(h,[p,f]),g.push(h);g.push(s);var m,y="";for(m=0;m<g.length;m++)y+=(0===m?"M":"L")+g[m][0]+","+g[m][1];if(u.push({id:a.id,index:l++,d:y}),i(a)){for(y="",m=g.length-1;m>=0;m--)y+=(m===g.length-1?"M":"L")+g[m][0]+","+g[m][1];u.push({id:a.id,index:l++,d:y})}}c=-r}o=s}}))),u}}function Ar(e,t,n){var r={},i=n?65:5,a=e.clipExtent(),o=[[a[0][0]-i,a[0][1]-i],[a[1][0]+i,a[1][1]+i]],s=D0().clipExtent(o).stream,l=e.stream,c=Xr().projection({stream:function(e){return l(s(e))}}),u=function(e){return e.id in r?r[e.id]:r[e.id]=c(e.asGeoJSON(t))};return u.geojson=function(e){return void 0!==e.__featurehash__?e.__featurehash__ in r?r[e.__featurehash__]:r[e.__featurehash__]=c(e):c(e)},u}function kt(e){var t=function(t){var n=e(t.loc);return"translate("+n[0]+","+n[1]+")"};return t.geojson=function(e){return t(e.properties.entity)},t}function Al(e){return function(t){var n=t.tags,r=!t.hasInterestingTags();return e.parentRelations(t).forEach((function(e){var t=e.tags.type;("multipolygon"===t&&r||"boundary"===t)&&(n=Object.assign({},e.tags,n))})),n}}function m4(e,t,n){return void 0===n?t.transient(e,"waySegments",r):r();function r(){for(var r,i=-1!==e.nodes.indexOf(n),a={passive:[],active:[]},o={},s={},l=0;l<e.nodes.length;l++)s={node:r=t.entity(e.nodes[l]),type:C2(r,t,n)},void 0!==o.type&&(o.node.id===n||s.node.id===n||(i&&(2===o.type||2===s.type)||0===o.type&&0===s.type?(c=o,u=s,d=l,a.active.push({type:"Feature",id:e.id+"-"+d+"-nope",properties:{nope:!0,target:!0,entity:e,nodes:[c.node,u.node],index:d},geometry:{type:"LineString",coordinates:[c.node.loc,u.node.loc]}})):p(o,s,l))),o=s;var c,u,d;return a;function p(t,n,r){a.passive.push({type:"Feature",id:e.id+"-"+r,properties:{target:!0,entity:e,nodes:[t.node,n.node],index:r},geometry:{type:"LineString",coordinates:[t.node.loc,n.node.loc]}})}}}function hn(){var e=["building","highway","railway","waterway","aeroway","aerialway","piste:type","boundary","power","amenity","natural","landuse","leisure","military","place","man_made","route","attraction","building:part","indoor"],t=["proposed","planned","construction","disused","abandoned","dismantled","razed","demolished","obliterated","intermittent"],n=["oneway","bridge","tunnel","embankment","cutting","barrier","surface","tracktype","footway","crossing","service","sport","public_transport","location","parking","golf","type","leisure","man_made","indoor","construction","proposed"],r=function(e){return e.tags},i=function(e){e.each((function(e){var t=this.className;void 0!==t.baseVal&&(t=t.baseVal);var n=r(e),a=i.getClassesString(n,t);a!==t&&$(this).attr("class",a)}))};return i.getClassesString=function(r,i){var a,o,s,l,c,u,d;/\bstroke\b/.test(i)&&r.barrier&&"no"!==r.barrier&&(d="line");var p=i.trim().split(/\s+/).filter((function(e){return e.length&&!/^tag-/.test(e)})).map((function(e){return("line"===e||"area"===e)&&d||e}));for(s=0;s<e.length;s++)if((u=r[c=e[s]])&&"no"!==u){"piste:type"===c?c="piste":"building:part"===c&&(c="building_part"),a=c,-1!==t.indexOf(u)?(o=u,p.push("tag-"+c)):(p.push("tag-"+c),p.push("tag-"+c+"-"+u));break}if(!a)for(s=0;s<t.length;s++)for(l=0;l<e.length;l++)if((u=r[c=t[s]+":"+e[l]])&&"no"!==u){o=t[s];break}if(!o)for(s=0;s<t.length&&(!(u=r[c=t[s]])||"no"===u||("yes"===u||a&&a===u?o=c:!a&&-1!==e.indexOf(u)&&(o=c,a=u,p.push("tag-"+u)),!o));s++);for(o&&(p.push("tag-status"),p.push("tag-status-"+o)),s=0;s<n.length;s++)(u=r[c=n[s]])&&"no"!==u&&c!==a&&(p.push("tag-"+c),p.push("tag-"+c+"-"+u));if("highway"===a&&!Ui[r.highway]||"aeroway"===a){var f="track"===r.highway?"unpaved":"paved";for(c in r)u=r[c],c in rs&&(f=rs[c][u]?"paved":"unpaved"),c in q6&&q6[c][u]&&(f="semipaved");p.push("tag-"+f)}return(r.wikidata||r["flag:wikidata"]||r["brand:wikidata"]||r["network:wikidata"]||r["operator:wikidata"])&&p.push("tag-wikidata"),p.join(" ").trim()},i.tags=function(e){return arguments.length?(r=e,i):r},i}var Sl={amenity:{grave_yard:"cemetery",fountain:"water_standing"},landuse:{cemetery:[{religion:"christian",pattern:"cemetery_christian"},{religion:"buddhist",pattern:"cemetery_buddhist"},{religion:"muslim",pattern:"cemetery_muslim"},{religion:"jewish",pattern:"cemetery_jewish"},{pattern:"cemetery"}],construction:"construction",farmland:"farmland",farmyard:"farmyard",forest:[{leaf_type:"broadleaved",pattern:"forest_broadleaved"},{leaf_type:"needleleaved",pattern:"forest_needleleaved"},{leaf_type:"leafless",pattern:"forest_leafless"},{pattern:"forest"}],grave_yard:"cemetery",grass:"grass",landfill:"landfill",meadow:"meadow",military:"construction",orchard:"orchard",quarry:"quarry",vineyard:"vineyard"},leisure:{horse_riding:"farmyard"},natural:{beach:"beach",grassland:"grass",sand:"beach",scrub:"scrub",water:[{water:"pond",pattern:"pond"},{water:"reservoir",pattern:"water_standing"},{pattern:"waves"}],wetland:[{wetland:"marsh",pattern:"wetland_marsh"},{wetland:"swamp",pattern:"wetland_swamp"},{wetland:"bog",pattern:"wetland_bog"},{wetland:"reedbed",pattern:"wetland_reedbed"},{pattern:"wetland"}],wood:[{leaf_type:"broadleaved",pattern:"forest_broadleaved"},{leaf_type:"needleleaved",pattern:"forest_needleleaved"},{leaf_type:"leafless",pattern:"forest_leafless"},{pattern:"forest"}]},golf:{green:"golf_green",tee:"grass",fairway:"grass",rough:"scrub"},surface:{grass:"grass",sand:"beach"}};function Cl(e){if(e.building&&"no"!==e.building)return null;for(var t in Sl){var n=e[t];if(n){if("string"==typeof Sl[t])return"pattern-"+Sl[t];var r=Sl[t];for(var i in r)if(n===i){var a=r[i];if("string"==typeof a)return"pattern-"+a;for(var o in a){var s=a[o],l=!0;for(var c in s)if("pattern"!==c){var u=e[c];if(!u||u!==s[c]){l=!1;break}}if(l)return"pattern-"+s.pattern}}}}return null}function Fl(e,t){function n(n,r,i,a){var o=t.getDebug("target")?"pink ":"nocolor ",s=t.getDebug("target")?"red ":"nocolor ",l=Ar(e).geojson,c=t.activeID(),u=t.history().base(),d={targets:[],nopes:[]};i.forEach((function(e){var t=m4(e,r,c);d.targets.push.apply(d.targets,t.passive),d.nopes.push.apply(d.nopes,t.active)}));var p=d.targets.filter(l),f=n.selectAll(".area.target-allowed").filter((function(e){return a(e.properties.entity)})).data(p,(function(e){return e.id}));f.exit().remove();var h=function(e){var t=e.properties.entity.id;return!(!u.entities[t]||!(0,D2.default)(r.entities[t].nodes,u.entities[t].nodes))&&e.properties.nodes.some((function(e){return!u.entities[e.id]||!(0,D2.default)(r.entities[e.id].loc,u.entities[e.id].loc)}))};f.enter().append("path").merge(f).attr("d",l).attr("class",(function(e){return"way area target target-allowed "+o+e.id})).classed("segment-edited",h);var g=d.nopes.filter(l),m=n.selectAll(".area.target-nope").filter((function(e){return a(e.properties.entity)})).data(g,(function(e){return e.id}));m.exit().remove(),m.enter().append("path").merge(m).attr("d",l).attr("class",(function(e){return"way area target target-nope "+s+e.id})).classed("segment-edited",h)}return function(r,i,a,o){for(var s,l=Ar(e,i,!0),c={},u=t.history().base(),d=0;d<a.length;d++){var p=a[d];"area"===p.geometry(i)&&((s=Ra(p,i))?c[s.id]={entity:s.mergeTags(p.tags),area:Math.abs(p.area(i))}:c[p.id]||(c[p.id]={entity:p,area:Math.abs(p.area(i))}))}var f=Object.values(c).filter((function(e){return l(e.entity)}));f.sort((function(e,t){return t.area-e.area}));var h=(f=f.map((function(e){return e.entity}))).filter((function(e){return"way"===e.type})),g={clip:f,shadow:h,stroke:h,fill:f},m=t.surface().selectAll("defs").selectAll(".clipPath-osm").filter(o).data(g.clip,ye.key);m.exit().remove();var y=m.enter().append("clipPath").attr("class","clipPath-osm").attr("id",(function(e){return"ideditor-"+e.id+"-clippath"}));y.append("path"),m.merge(y).selectAll("path").attr("d",l);var v=r.selectAll(".layer-osm.areas"),b=r.selectAll(".layer-touch.areas"),w=v.selectAll("g.areagroup").data(["fill","shadow","stroke"]),_=(w=w.enter().append("g").attr("class",(function(e){return"areagroup area-"+e})).merge(w)).selectAll("path").filter(o).data((function(e){return g[e]}),ye.key);_.exit().remove();var k=r.selectAll(".area-fill path.area").nodes(),x=no((function(e){return-e.__data__.area(i)})).left;_=_.enter().insert("path",(function(e){if("fill"===this._parent.__data__)return k[x(k,-e.area(i))]})).merge(_).each((function(e){var t=this.parentNode.__data__;this.setAttribute("class",e.type+" area "+t+" "+e.id),"fill"===t&&(this.setAttribute("clip-path","url(#ideditor-"+e.id+"-clippath)"),this.style.fill=this.style.stroke=function(e){var t=Cl(e);return t?'url("#ideditor-'+t+'")':""}(e.tags))})).classed("added",(function(e){return!u.entities[e.id]})).classed("geometry-edited",(function(e){return i.entities[e.id]&&u.entities[e.id]&&!(0,D2.default)(i.entities[e.id].nodes,u.entities[e.id].nodes)})).classed("retagged",(function(e){return i.entities[e.id]&&u.entities[e.id]&&!(0,D2.default)(i.entities[e.id].tags,u.entities[e.id].tags)})).call(hn()).attr("d",l),b.call(n,i,g.stroke,o)}}var Jg=je(Q9()),Ml=je(Yg()),Zg=!1,M2=!1,$n;function h4(e,t,n){var r,i,a,o,s=dt((function(){n.call("change")}),1e3),l=!0,c=Bt(),u=$(null);function d(){u.style("display","block"),u.style("opacity",0).transition().duration(250).style("opacity",1).on("end",(function(){n.call("change")}))}function p(){s.cancel(),u.transition().duration(250).style("opacity",0).on("end",f)}function f(){u.selectAll(".viewfield-group").remove(),u.style("display","none")}function h(e){if(!e)return null;if("FeatureCollection"===e.type)for(var t=0;t<e.features.length;t++)g(e.features[t]);else g(e);return e}function g(e){if(e)return e.__featurehash__=Yi((0,Jg.default)(e)),e}function m(e){return e?"FeatureCollection"===e.type?e.features:[e]:[]}function y(e){return e.__featurehash__}function v(e){return"Polygon"===e.geometry.type||"MultiPolygon"===e.geometry.type}function b(e){return"ideditor-data-"+e.__featurehash__+"-clippath"}function w(e){return["data"+e.__featurehash__,e.geometry.type,v(e)?"area":"",e.__layerID__||""].filter(Boolean).join(" ")}function _(n){var i=(ne.vectorTile&&!r?(r=ne.vectorTile).event.on("loadedData",s):!ne.vectorTile&&r&&(r=null),r),o=Ar(e).geojson,c=Ar(e,null,!0).geojson,d=_.hasData();(u=n.selectAll(".layer-mapdata").data(M2&&d?[0]:[])).exit().remove(),u=u.enter().append("g").attr("class","layer-mapdata").merge(u);var p=t.surface();if(p&&!p.empty()){var f,h;if(a&&i){var g=a;i.loadTiles(g,a,e),f=i.data(g,e)}else f=m($n);h=(f=f.filter(o)).filter(v);var k=p.selectAll("defs").selectAll(".clipPath-data").data(h,y);k.exit().remove();var x=k.enter().append("clipPath").attr("class","clipPath-data").attr("id",b);x.append("path"),k.merge(x).selectAll("path").attr("d",c);var A=u.selectAll("g.datagroup").data(["fill","shadow","stroke"]);A=A.enter().append("g").attr("class",(function(e){return"datagroup datagroup-"+e})).merge(A);var E={fill:h,shadow:f,stroke:f},C=A.selectAll("path").data((function(e){return E[e]}),y);C.exit().remove(),C=C.enter().append("path").attr("class",(function(e){return"pathdata "+this.parentNode.__data__+" "+w(e)})).attr("clip-path",(function(e){return"fill"===this.parentNode.__data__?"url(#"+b(e)+")":null})).merge(C).attr("d",(function(e){return"fill"===this.parentNode.__data__?c(e):o(e)})),u.call(S,"label-halo",f).call(S,"label",f)}function S(t,n,r){var i=Xr(e),a=r.filter((function(e){return l&&e.properties&&(e.properties.desc||e.properties.name)})),o=t.selectAll("text."+n).data(a,y);o.exit().remove(),o=o.enter().append("text").attr("class",(function(e){return n+" "+w(e)})).merge(o).text((function(e){return e.properties.desc||e.properties.name})).attr("x",(function(e){return i.centroid(e)[0]+11})).attr("y",(function(e){return i.centroid(e)[1]}))}}function k(e){if(e){var t=e.toLowerCase().match(/\.(gpx|kml|(geo)?json)$/i);return t&&t.length&&t[0]}}function x(e){return(new DOMParser).parseFromString(e,"text/xml")}function A(e){let t=e.properties;for(let n in t){let e=t[n];"number"==typeof e||"boolean"==typeof e||Array.isArray(e)?t[n]=e.toString():null===e?t[n]="null":"object"==typeof e&&(t[n]=JSON.stringify(e))}}return _.setFile=function(e,t){var r;switch(a=null,i=null,$n=null,o=null,e){case".gpx":r=(0,Ml.gpx)(x(t));break;case".kml":r=(0,Ml.kml)(x(t));break;case".geojson":case".json":"FeatureCollection"===(r=JSON.parse(t)).type?r.features.forEach(A):"Feature"===r.type&&A(r)}return r=r||{},Object.keys(r).length&&($n=h(r),o=e+" data file",this.fitZoom()),n.call("change"),this},_.showLabels=function(e){return arguments.length?(l=e,this):l},_.enabled=function(e){return arguments.length?((M2=e)?d():p(),n.call("change"),this):M2},_.hasData=function(){var e=$n||{};return!(!a&&!Object.keys(e).length)},_.template=function(e,r){if(!arguments.length)return a;var s=t.connection();if(s){for(var l=s.imageryBlocklists(),c=0,u=0;u<l.length&&(c++,!l[u].test(e));u++);c||/.*\.google(apis)?\..*\/(vt|kh)[\?\/].*([xyz]=.*){3}.*/.test(e)}return a=e,i=null,$n=null,o=r||"vectortile:"+e.split(/[?#]/)[0],n.call("change"),this},_.geojson=function(e,t){return arguments.length?(a=null,i=null,$n=null,o=null,e=e||{},Object.keys(e).length&&($n=h(e),o=t||"unknown.geojson"),n.call("change"),this):$n},_.fileList=function(e){if(!arguments.length)return i;if(a=null,i=e,$n=null,o=null,!e||!e.length)return this;var t=e[0],n=k(t.name),r=new FileReader;return r.onload=function(e){_.setFile(n,e.target.result)},r.readAsText(t),this},_.url=function(e,t){a=null,i=null,$n=null,o=null;var n=k(e.split(/[?#]/)[0])||t;return n?(a=null,y2(e).then((function(e){_.setFile(n,e)})).catch((function(){}))):_.template(e),this},_.getSrc=function(){return o||""},_.fitZoom=function(){var e=m($n);if(e.length){var n=t.map(),r=n.trimmedExtent().polygon(),i=e.reduce((function(e,t){var n=t.geometry;if(!n)return e;var r=n.coordinates;switch(n.type){case"Point":r=[r];case"MultiPoint":case"LineString":break;case"MultiPolygon":r=Fa(r);case"Polygon":case"MultiLineString":r=Fa(r)}return xt(e,r)}),[]);if(!wa(r,i,!0)){var a=he(l1({type:"LineString",coordinates:i}));n.centerZoom(a.center(),n.trimmedExtentZoom(a))}return this}},function(){function e(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}Zg||($n={},M2=!0,t.container().attr("dropzone","copy").on("drop.svgData",(function(e){e.stopPropagation(),e.preventDefault(),c.filedrop&&_.fileList(e.dataTransfer.files)})).on("dragenter.svgData",e).on("dragexit.svgData",e).on("dragover.svgData",e),Zg=!0)}(),_}function g4(e,t){function n(n){let r=t.getDebug("tile"),i=t.getDebug("collision"),a=t.getDebug("imagery"),o=t.getDebug("target"),s=t.getDebug("downloaded"),l=[];r&&l.push({class:"red",label:"tile"}),i&&l.push({class:"yellow",label:"collision"}),a&&l.push({class:"orange",label:"imagery"}),o&&l.push({class:"pink",label:"touchTargets"}),s&&l.push({class:"purple",label:"downloaded"});let c=t.container().select(".main-content").selectAll(".debug-legend").data(l.length?[0]:[]);c.exit().remove(),c=c.enter().append("div").attr("class","fillD debug-legend").merge(c);let u=c.selectAll(".debug-legend-item").data(l,e=>e.label);u.exit().remove(),u.enter().append("span").attr("class",e=>"debug-legend-item ".concat(e.class)).text(e=>e.label);let d=n.selectAll(".layer-debug").data(a||s?[0]:[]);d.exit().remove(),d=d.enter().append("g").attr("class","layer-debug").merge(d);let p=t.map().extent();ze.get("imagery").then(e=>{let t=(a&&e.query.bbox(p.rectangle(),!0)||[]).map(e=>e.features[e.id]),n=d.selectAll("path.debug-imagery").data(t);n.exit().remove(),n.enter().append("path").attr("class","debug-imagery debug orange")}).catch(()=>{});let f=t.connection(),h=[];f&&s&&(h=f.caches("get").tile.rtree.all().map(e=>({type:"Feature",properties:{id:e.id},geometry:{type:"Polygon",coordinates:[[[e.minX,e.minY],[e.minX,e.maxY],[e.maxX,e.maxY],[e.maxX,e.minY],[e.minX,e.minY]]]}})));let g=d.selectAll("path.debug-downloaded").data(s?h:[]);g.exit().remove(),g.enter().append("path").attr("class","debug-downloaded debug purple"),d.selectAll("path").attr("d",Ar(e).geojson)}return n.enabled=function(){return arguments.length?this:t.getDebug("tile")||t.getDebug("collision")||t.getDebug("imagery")||t.getDebug("target")||t.getDebug("downloaded")},n}function Il(e){var t=$(null),n=["iD-sprite","maki-sprite","temaki-sprite","fa-sprite","community-sprite"];function r(r){function a(e,n,r){t.append("marker").attr("id","ideditor-sided-marker-"+e).attr("viewBox","0 0 2 2").attr("refX",1).attr("refY",-r).attr("markerWidth",1.5).attr("markerHeight",1.5).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("class","sided-marker-path sided-marker-"+e+"-path").attr("d","M 0,0 L 1,1 L 2,0 z").attr("stroke","none").attr("fill",n)}(t=r.append("defs")).append("marker").attr("id","ideditor-oneway-marker").attr("viewBox","0 0 10 5").attr("refX",2.5).attr("refY",2.5).attr("markerWidth",2).attr("markerHeight",2).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("class","oneway-marker-path").attr("d","M 5,3 L 0,3 L 0,2 L 5,2 L 5,0 L 10,2.5 L 5,5 z").attr("stroke","none").attr("fill","#000").attr("opacity","0.75"),a("natural","rgb(170, 170, 170)",0),a("coastline","#77dede",1),a("waterway","#77dede",1),a("barrier","#ddd",1),a("man_made","#fff",0),t.append("marker").attr("id","ideditor-viewfield-marker").attr("viewBox","0 0 16 16").attr("refX",8).attr("refY",16).attr("markerWidth",4).attr("markerHeight",4).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("class","viewfield-marker-path").attr("d","M 6,14 C 8,13.4 8,13.4 10,14 L 16,3 C 12,0 4,0 0,3 z").attr("fill","#333").attr("fill-opacity","0.75").attr("stroke","#fff").attr("stroke-width","0.5px").attr("stroke-opacity","0.75"),t.append("marker").attr("id","ideditor-viewfield-marker-wireframe").attr("viewBox","0 0 16 16").attr("refX",8).attr("refY",16).attr("markerWidth",4).attr("markerHeight",4).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("class","viewfield-marker-path").attr("d","M 6,14 C 8,13.4 8,13.4 10,14 L 16,3 C 12,0 4,0 0,3 z").attr("fill","none").attr("stroke","#fff").attr("stroke-width","0.5px").attr("stroke-opacity","0.75");var o=t.selectAll("pattern").data([["beach","dots"],["construction","construction"],["cemetery","cemetery"],["cemetery_christian","cemetery_christian"],["cemetery_buddhist","cemetery_buddhist"],["cemetery_muslim","cemetery_muslim"],["cemetery_jewish","cemetery_jewish"],["farmland","farmland"],["farmyard","farmyard"],["forest","forest"],["forest_broadleaved","forest_broadleaved"],["forest_needleleaved","forest_needleleaved"],["forest_leafless","forest_leafless"],["golf_green","grass"],["grass","grass"],["landfill","landfill"],["meadow","grass"],["orchard","orchard"],["pond","pond"],["quarry","quarry"],["scrub","bushes"],["vineyard","vineyard"],["water_standing","lines"],["waves","waves"],["wetland","wetland"],["wetland_marsh","wetland_marsh"],["wetland_swamp","wetland_swamp"],["wetland_bog","wetland_bog"],["wetland_reedbed","wetland_reedbed"]]).enter().append("pattern").attr("id",(function(e){return"ideditor-pattern-"+e[0]})).attr("width",32).attr("height",32).attr("patternUnits","userSpaceOnUse");o.append("rect").attr("x",0).attr("y",0).attr("width",32).attr("height",32).attr("class",(function(e){return"pattern-color-"+e[0]})),o.append("image").attr("x",0).attr("y",0).attr("width",32).attr("height",32).attr("xlink:href",(function(t){return e.imagePath("pattern/"+t[1]+".png")})),t.selectAll("clipPath").data([12,18,20,32,45]).enter().append("clipPath").attr("id",(function(e){return"ideditor-clip-square-"+e})).append("rect").attr("x",0).attr("y",0).attr("width",(function(e){return e})).attr("height",(function(e){return e})),i(n,!0)}function i(r,i){n=Te(n.concat(r));var a=t.selectAll(".spritesheet").data(n);a.enter().append("g").attr("class",(function(e){return"spritesheet spritesheet-"+e})).each((function(t){var n=e.imagePath(t+".svg"),r=$(this).node();Ju(n).then((function(e){r.appendChild($(e.documentElement).attr("id","ideditor-"+t).node()),i&&"iD-sprite"!==t&&$(r).selectAll("path").attr("fill","currentColor")})).catch((function(){}))})),a.exit().remove()}return r.addSprites=i,r}var v4=!1,y4;function Tl(e,t,n){let r=dt(()=>n.call("change"),1e3),i=$(null),a=$(null),o=!1;function s(e,t){e.attr("class",t).attr("transform","translate(-4, -24)").attr("d","M11.6,6.2H7.1l1.4-5.1C8.6,0.6,8.1,0,7.5,0H2.2C1.7,0,1.3,0.3,1.3,0.8L0,10.2c-0.1,0.6,0.4,1.1,0.9,1.1h4.6l-1.8,7.6C3.6,19.4,4.1,20,4.7,20c0.3,0,0.6-0.2,0.8-0.5l6.9-11.9C12.7,7,12.3,6.2,11.6,6.2z")}function l(){return ne.keepRight&&!y4?(y4=ne.keepRight).on("loaded",r):!ne.keepRight&&y4&&(y4=null),y4}function c(){o||(o=!0,a.style("display","block"))}function u(){o&&(o=!1,a.style("display","none"),a.selectAll(".qaItem.keepRight").remove(),i.selectAll(".qaItem.keepRight").remove())}function d(){c(),a.style("opacity",0).transition().duration(250).style("opacity",1).on("end interrupt",()=>n.call("change"))}function p(){r.cancel(),a.interrupt(),i.selectAll(".qaItem.keepRight").remove(),a.transition().duration(250).style("opacity",0).on("end interrupt",()=>{u(),n.call("change")})}function f(n){let r=l(),d=t.surface();d&&!d.empty()&&(i=d.selectAll(".data-layer.touch .layer-touch.markers")),a=n.selectAll(".layer-keepRight").data(r?[0]:[]),a.exit().remove(),a=a.enter().append("g").attr("class","layer-keepRight").style("display",v4?"block":"none").merge(a),v4&&(r&&~~t.map().zoom()>=12?(c(),r.loadIssues(e),function(){if(!o||!v4)return;let n=l(),r=t.selectedErrorID(),c=n?n.getItems(e):[],u=kt(e),d=a.selectAll(".qaItem.keepRight").data(c,e=>e.id);d.exit().remove();let p=d.enter().append("g").attr("class",e=>"qaItem ".concat(e.service," itemId-").concat(e.id," itemType-").concat(e.parentIssueType));if(p.append("ellipse").attr("cx",.5).attr("cy",1).attr("rx",6.5).attr("ry",3).attr("class","stroke"),p.append("path").call(s,"shadow"),p.append("use").attr("class","qaItem-fill").attr("width","20px").attr("height","20px").attr("x","-8px").attr("y","-22px").attr("xlink:href","#iD-icon-bolt"),d.merge(p).sort(g).classed("selected",e=>e.id===r).attr("transform",u),i.empty())return;let f=t.getDebug("target")?"pink ":"nocolor ",h=i.selectAll(".qaItem.keepRight").data(c,e=>e.id);function g(e,t){return e.id===r?1:t.id===r?-1:"error"===e.severity&&"error"!==t.severity?1:"error"===t.severity&&"error"!==e.severity?-1:t.loc[1]-e.loc[1]}h.exit().remove(),h.enter().append("rect").attr("width","20px").attr("height","20px").attr("x","-8px").attr("y","-22px").merge(h).sort(g).attr("class",e=>"qaItem ".concat(e.service," target ").concat(f," itemId-").concat(e.id)).attr("transform",u)}()):u())}return f.enabled=function(e){return arguments.length?((v4=e)?d():(p(),t.selectedErrorID()&&t.enter(be(t))),n.call("change"),this):v4},f.supported=()=>!!l(),f}function di(e){var t,n=$(null);function r(){n.style("display","block")}function i(){n.transition().duration(250).style("opacity",0)}function a(){n.style("opacity",0).transition().duration(250).style("opacity",1)}function o(t){return kt(e)(t)}function s(){var r={loc:[t.coords.longitude,t.coords.latitude]},i=n.selectAll(".geolocations").selectAll(".geolocation").data([r]);i.exit().remove();var a=i.enter().append("g").attr("class","geolocation");a.append("circle").attr("class","geolocate-radius").attr("dx","0").attr("dy","0").attr("fill","rgb(15,128,225)").attr("fill-opacity","0.3").attr("r","0"),a.append("circle").attr("dx","0").attr("dy","0").attr("fill","rgb(15,128,225)").attr("stroke","white").attr("stroke-width","1.5").attr("r","6"),i.merge(a).attr("transform",o),n.select(".geolocate-radius").attr("r",function(t,n){var r=Pr(t),i=[n[0],n[1]+r],a=e(i),o=e([n[0],n[1]]);return Math.round(o[1]-a[1]).toString()}(t.coords.accuracy,r.loc))}function l(e){var t=di.enabled;(n=e.selectAll(".layer-geolocate").data([0])).exit().remove();var r=n.enter().append("g").attr("class","layer-geolocate").style("display",t?"block":"none");r.append("g").attr("class","geolocations"),n=r.merge(n),t?s():n.style("display","none")}return l.enabled=function(e,n){return arguments.length?(t=e,di.enabled=n,di.enabled?(r(),a()):i(),this):di.enabled},di.initialized||(di.enabled=!1,di.initialized=!0),l}var $9=je(si());function Nl(e,t){var n=Xr(e),r=Bt(),i=r.ie||"edge"===r.browser.toLowerCase()||"firefox"===r.browser.toLowerCase()&&r.version>=70,a=new $9.default,o=new $9.default,s={},l={},c=[["line","aeroway","*",12],["line","highway","motorway",12],["line","highway","trunk",12],["line","highway","primary",12],["line","highway","secondary",12],["line","highway","tertiary",12],["line","highway","*",12],["line","railway","*",12],["line","waterway","*",12],["area","aeroway","*",12],["area","amenity","*",12],["area","building","*",12],["area","historic","*",12],["area","leisure","*",12],["area","man_made","*",12],["area","natural","*",12],["area","shop","*",12],["area","tourism","*",12],["area","camp_site","*",12],["point","aeroway","*",10],["point","amenity","*",10],["point","building","*",10],["point","historic","*",10],["point","leisure","*",10],["point","man_made","*",10],["point","natural","*",10],["point","shop","*",10],["point","tourism","*",10],["point","camp_site","*",10],["line","name","*",12],["area","name","*",12],["point","name","*",10]];function u(e){return["building","landuse","natural"].some((function(t){return e.id.indexOf(t)>=0}))}function d(e,t){return function(n,r){return e[r][t]}}function p(e,t,n){var r=s[t];if(r||(r=s[t]={}),r[e])return r[e];if(n)return r[e]=n.getComputedTextLength(),r[e];var i=encodeURIComponent(e).match(/%[CDEFcdef]/g);return null===i?t/3*2*e.length:t/3*(2*e.length+i.length)}function f(e,t,n,r,a){var o=e.selectAll("text."+r).filter(n).data(t,ye.key);o.exit().remove(),o.enter().append("text").attr("class",(function(e,t){return r+" "+a[t].classes+" "+e.id})).attr("dy",i?"0.35em":null).append("textPath").attr("class","textpath"),e.selectAll("text."+r).selectAll(".textpath").filter(n).data(t,ye.key).attr("startOffset","50%").attr("xlink:href",(function(e){return"#ideditor-labelpath-"+e.id})).text(o2)}function h(e,t,n,r,i){var a=e.selectAll("text."+r).filter(n).data(t,ye.key);a.exit().remove(),a.enter().append("text").attr("class",(function(e,t){return r+" "+i[t].classes+" "+e.id})).merge(a).attr("x",d(i,"x")).attr("y",d(i,"y")).style("text-anchor",d(i,"textAnchor")).text(Nt).each((function(e,t){p(Nt(e),i[t].height,this)}))}function g(e,t,n,r,i){function a(e,t){return i[t].hasOwnProperty("x")&&i[t].hasOwnProperty("y")}h(e,t=t.filter(a),n,r,i=i.filter(a))}function m(e,n,r,i,a){var o=e.selectAll("use."+i).filter(r).data(n,ye.key);o.exit().remove(),o.enter().append("use").attr("class","icon "+i).attr("width","17px").attr("height","17px").merge(o).attr("transform",d(a,"transform")).attr("xlink:href",(function(e){var n=ve.match(e,t.graph()),r=n&&n.icon;return r?"#"+r:""}))}function y(e,n,r){var i="debug "+r+" "+("debug-skipped"===r?"orange":"yellow"),a=[];t.getDebug("collision")&&(a=n.all().map((function(e){return{type:"Polygon",coordinates:[[[e.minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY],[e.minX,e.minY]]]}})));var o=e.selectAll("."+r).data(a);o.exit().remove(),o.enter().append("path").attr("class",i).merge(o).attr("d",Xr())}function v(r,i,s,v,w,_){var k,x,A,E,C,S=t.surface().classed("fill-wireframe"),M=Tt(e.scale()),N=[],I={};for(k=0;k<c.length;k++)N.push([]);if(_)a.clear(),o.clear(),l={};else for(k=0;k<s.length;k++){E=s[k];var D=[].concat(l[E.id]||[]).concat(l[E.id+"I"]||[]);for(x=0;x<D.length;x++)a.remove(D[x]),o.remove(D[x])}for(k=0;k<s.length;k++){if("point"===(C=(E=s[k]).geometry(i))||"vertex"===C&&V(E)){var P,O=E.directions(i,e).length;S||"point"!==C||M>=18&&O?(I[E.id]="vertex",P=0):(I[E.id]="point",P=20);var T=e(E.loc);X({minX:T[0]-10,minY:T[1]-10-P,maxX:T[0]+10,maxY:T[1]+10},E.id+"P")}"vertex"===C&&(C="point");var F="area"===C&&ve.match(E,i);if(F&&!u(F)&&F.icon||Nt(E))for(A=0;A<c.length;A++){var R=c[A][0],j=c[A][1],U=c[A][2],L=E.tags[j];if(C===R&&L&&("*"===U||U===L)){N[A].push(E);break}}}var z={point:[],line:[],area:[]},B={point:[],line:[],area:[]};for(A=0;A<N.length;A++){var $=c[A][3];for(k=0;k<N[A].length;k++){var Q=("line"===(C=(E=N[A][k]).geometry(i))?o2:Nt)(E),q=Q&&p(Q,$),G=null;if("point"===C||"vertex"===C){if(S)continue;var W=I[E.id];if("vertex"===W&&M<17)continue;G=H(E,q,$,W)}else"line"===C?G=K(E,q,$):"area"===C&&(G=Y(E,q,$));G&&("vertex"===C&&(C="point"),G.classes=C+" tag-"+c[A][1],z[C].push(G),B[C].push(E))}}function V(e){var n=t.selectedIDs();return e.hasInterestingTags()||e.isEndpoint(i)||e.isConnected(i)||-1!==n.indexOf(e.id)||i.parentWays(e).some((function(e){return-1!==n.indexOf(e.id)}))}function H(t,n,r,i){var a="point"===i?-12:0,o={ltr:[15,a,"start"],rtl:[-15,a,"end"]},s=le.textDirection(),l=e(t.loc),c=o[s],u={height:r,width:n,x:l[0]+c[0],y:l[1]+c[1],textAnchor:c[2]};if(Z(["rtl"===s?{minX:u.x-n-2,minY:u.y-r/2-2,maxX:u.x+2,maxY:u.y+r/2+2}:{minX:u.x-2,minY:u.y-r/2-2,maxX:u.x+n+2,maxY:u.y+r/2+2}],t.id,!0))return u}function K(n,r,a){var o,s=he(t.projection.clipExtent()).polygon(),l=i.childNodes(n).map((function(t){return e(t.loc)})),c=$i(l);if(!(c<r+20))for(var u=[50,45,55,40,60,35,65,30,70,25,75,20,80,15,95,10,90,5,95],d=0;d<u.length;d++){var p=u[d],f=p/100*c-r/2;if(!(f<0||f+r>c)){var h=M(l,f,f+r);if(h&&wa(s,h,!0)){S(h)&&(h=h.reverse());for(var g=[],m=(a+2)/2,y=0;y<h.length-1;y++)for(var v=h[y],b=h[y+1],w=Math.max(1,Math.floor(Qe(v,b)/m/2)),_=0;_<w;_++){var k=gt(v,b,_/w),x=k[0]-m-3,A=k[1]-m-3,E=k[0]+m+3,C=k[1]+m+3;g.push({minX:Math.min(x,E),minY:Math.min(A,C),maxX:Math.max(x,E),maxY:Math.max(A,C)})}if(Z(g,n.id,!1))return{"font-size":a+2,lineString:(o=h,"M"+o.join("L")),startOffset:p+"%"}}}}function S(e){var t=Math.atan2(e[1][1]-e[0][1],e[1][0]-e[0][0]);return!(e[0][0]<e[e.length-1][0]&&t<Math.PI/2&&t>-Math.PI/2)}function M(e,t,n){for(var r,i,a,o,s=0,l=0;l<e.length-1;l++){var c,u=e[l],d=e[l+1],p=Qe(u,d);!r&&s+p>=t&&(c=(t-s)/p,r=[u[0]+c*(d[0]-u[0]),u[1]+c*(d[1]-u[1])],a=l+1),!i&&s+p>=n&&(c=(n-s)/p,i=[u[0]+c*(d[0]-u[0]),u[1]+c*(d[1]-u[1])],o=l+1),s+=p}var f=e.slice(a,o);return f.unshift(r),f.push(i),f}}function Y(r,a,o){var s=n.centroid(r.asGeoJSON(i)),l=r.extent(i),c=e(l[1])[0]-e(l[0])[0];if(!(isNaN(s[0])||c<20)){var u=ve.match(r,t.graph()),d=u&&u.icon,p={};if(d){if(function(){var e=s[0]-8.5,t=s[1]-8.5;return!!Z([{minX:e,minY:t,maxX:e+17,maxY:t+17}],r.id+"I",!0)&&(p.transform="translate("+e+","+t+")",!0)}())return f(19),p}else if(f(0))return p}function f(e){if(a&&c>=a+20){var t=s[0],n=s[1]+e;if(Z([{minX:t-a/2-2,minY:n-o/2-2,maxX:t+a/2+2,maxY:n+o/2+2}],r.id,!0))return p.x=t,p.y=n,p.textAnchor="middle",p.height=o,!0}return!1}}function X(e,t){e.id=t;var n=l[t];n&&a.remove(n),l[t]=e,a.insert(e)}function Z(e,t,n){for(var r=!1,i=0;i<e.length;i++){var s=e[i];if(s.id=t,s.minX<0||s.minY<0||s.maxX>w[0]||s.maxY>w[1]){r=!0;break}if(a.collides(s)){r=!0;break}}return l[t]=e,r?n&&o.load(e):a.load(e),!r}var J=r.selectAll(".layer-osm.labels");J.selectAll(".labels-group").data(["halo","label","debug"]).enter().append("g").attr("class",(function(e){return"labels-group "+e}));var ee=J.selectAll(".labels-group.halo"),te=J.selectAll(".labels-group.label"),ne=J.selectAll(".labels-group.debug");h(te,B.point,v,"pointlabel",z.point),h(ee,B.point,v,"pointlabel-halo",z.point),function(e,t,n,r,i){var a=e.selectAll("path").filter(n).data(t,ye.key);a.exit().remove(),a.enter().append("path").style("stroke-width",d(i,"font-size")).attr("id",(function(e){return"ideditor-labelpath-"+e.id})).attr("class",r).merge(a).attr("d",d(i,"lineString"))}(J,B.line,v,"",z.line),f(te,B.line,v,"linelabel",z.line),f(ee,B.line,v,"linelabel-halo",z.line),g(te,B.area,v,"arealabel",z.area),g(ee,B.area,v,"arealabel-halo",z.area),m(te,B.area,v,"areaicon",z.area),m(ee,B.area,v,"areaicon-halo",z.area),y(ne,o,"debug-skipped"),y(ne,a,"debug-drawn"),J.call(b)}function b(e){var n=e.selectAll(".layer-osm.labels").selectAll(".labels-group.halo, .labels-group.label");n.selectAll(".nolabel").classed("nolabel",!1);var r,i=t.map().mouse(),o=t.graph(),s=t.selectedIDs(),l=[];if(i){20,r={minX:i[0]-20,minY:i[1]-20,maxX:i[0]+20,maxY:i[1]+20};var c=a.search(r).map((function(e){return e.id}));l.push.apply(l,c)}for(var u=0;u<s.length;u++){var d=o.hasEntity(s[u]);d&&"node"===d.type&&l.push(s[u])}n.selectAll(xn(l)).classed("nolabel",!0);var p=e.selectAll(".labels-group.debug"),f=[];t.getDebug("collision")&&(f=r?[{type:"Polygon",coordinates:[[[r.minX,r.minY],[r.maxX,r.minY],[r.maxX,r.maxY],[r.minX,r.maxY],[r.minX,r.minY]]]}]:[]);var h=p.selectAll(".debug-mouse").data(f);h.exit().remove(),h.enter().append("path").attr("class","debug debug-mouse yellow").merge(h).attr("d",Xr())}var w=dt(b,100);return v.observe=function(e){var n=function(){w(e)};e.on("mousemove.hidelabels",n),t.on("enter.hidelabels",n)},v.off=function(e){w.cancel(),e.on("mousemove.hidelabels",null),t.on("enter.hidelabels",null)},v}var b4=!1,x4;function ev(e,t,n){let r=dt(()=>n.call("change"),1e3),i=$(null),a=$(null),o=!1;function s(e,t){e.attr("class",t).attr("transform","translate(-10, -28)").attr("points","16,3 4,3 1,6 1,17 4,20 7,20 10,27 13,20 16,20 19,17.033 19,6")}function l(){return ne.improveOSM&&!x4?(x4=ne.improveOSM).on("loaded",r):!ne.improveOSM&&x4&&(x4=null),x4}function c(){o||(o=!0,a.style("display","block"))}function u(){o&&(o=!1,a.style("display","none"),a.selectAll(".qaItem.improveOSM").remove(),i.selectAll(".qaItem.improveOSM").remove())}function d(){c(),a.style("opacity",0).transition().duration(250).style("opacity",1).on("end interrupt",()=>n.call("change"))}function p(){r.cancel(),a.interrupt(),i.selectAll(".qaItem.improveOSM").remove(),a.transition().duration(250).style("opacity",0).on("end interrupt",()=>{u(),n.call("change")})}function f(n){let r=l(),d=t.surface();d&&!d.empty()&&(i=d.selectAll(".data-layer.touch .layer-touch.markers")),a=n.selectAll(".layer-improveOSM").data(r?[0]:[]),a.exit().remove(),a=a.enter().append("g").attr("class","layer-improveOSM").style("display",b4?"block":"none").merge(a),b4&&(r&&~~t.map().zoom()>=12?(c(),r.loadIssues(e),function(){if(!o||!b4)return;let n=l(),r=t.selectedErrorID(),c=n?n.getItems(e):[],u=kt(e),d=a.selectAll(".qaItem.improveOSM").data(c,e=>e.id);d.exit().remove();let p=d.enter().append("g").attr("class",e=>"qaItem ".concat(e.service," itemId-").concat(e.id," itemType-").concat(e.itemType));if(p.append("polygon").call(s,"shadow"),p.append("ellipse").attr("cx",0).attr("cy",0).attr("rx",4.5).attr("ry",2).attr("class","stroke"),p.append("polygon").attr("fill","currentColor").call(s,"qaItem-fill"),p.append("use").attr("class","icon-annotation").attr("transform","translate(-6, -22)").attr("width","12px").attr("height","12px").attr("xlink:href",e=>e.icon?"#"+e.icon:""),d.merge(p).sort(g).classed("selected",e=>e.id===r).attr("transform",u),i.empty())return;let f=t.getDebug("target")?"pink ":"nocolor ",h=i.selectAll(".qaItem.improveOSM").data(c,e=>e.id);function g(e,t){return e.id===r?1:t.id===r?-1:t.loc[1]-e.loc[1]}h.exit().remove(),h.enter().append("rect").attr("width","20px").attr("height","30px").attr("x","-10px").attr("y","-28px").merge(h).sort(g).attr("class",e=>"qaItem ".concat(e.service," target ").concat(f," itemId-").concat(e.id)).attr("transform",u)}()):u())}return f.enabled=function(e){return arguments.length?((b4=e)?d():(p(),t.selectedErrorID()&&t.enter(be(t))),n.call("change"),this):b4},f.supported=()=>!!l(),f}var w4=!1,_4;function tv(e,t,n){let r=dt(()=>n.call("change"),1e3),i=$(null),a=$(null),o=!1;function s(e,t){e.attr("class",t).attr("transform","translate(-10, -28)").attr("points","16,3 4,3 1,6 1,17 4,20 7,20 10,27 13,20 16,20 19,17.033 19,6")}function l(){return ne.osmose&&!_4?(_4=ne.osmose).on("loaded",r):!ne.osmose&&_4&&(_4=null),_4}function c(){o||(o=!0,a.style("display","block"))}function u(){o&&(o=!1,a.style("display","none"),a.selectAll(".qaItem.osmose").remove(),i.selectAll(".qaItem.osmose").remove())}function d(){c(),a.style("opacity",0).transition().duration(250).style("opacity",1).on("end interrupt",()=>n.call("change"))}function p(){r.cancel(),a.interrupt(),i.selectAll(".qaItem.osmose").remove(),a.transition().duration(250).style("opacity",0).on("end interrupt",()=>{u(),n.call("change")})}function f(n){let r=l(),d=t.surface();d&&!d.empty()&&(i=d.selectAll(".data-layer.touch .layer-touch.markers")),a=n.selectAll(".layer-osmose").data(r?[0]:[]),a.exit().remove(),a=a.enter().append("g").attr("class","layer-osmose").style("display",w4?"block":"none").merge(a),w4&&(r&&~~t.map().zoom()>=12?(c(),r.loadIssues(e),function(){if(!o||!w4)return;let n=l(),r=t.selectedErrorID(),c=n?n.getItems(e):[],u=kt(e),d=a.selectAll(".qaItem.osmose").data(c,e=>e.id);d.exit().remove();let p=d.enter().append("g").attr("class",e=>"qaItem ".concat(e.service," itemId-").concat(e.id," itemType-").concat(e.itemType));if(p.append("polygon").call(s,"shadow"),p.append("ellipse").attr("cx",0).attr("cy",0).attr("rx",4.5).attr("ry",2).attr("class","stroke"),p.append("polygon").attr("fill",e=>n.getColor(e.item)).call(s,"qaItem-fill"),p.append("use").attr("class","icon-annotation").attr("transform","translate(-6, -22)").attr("width","12px").attr("height","12px").attr("xlink:href",e=>e.icon?"#"+e.icon:""),d.merge(p).sort(g).classed("selected",e=>e.id===r).attr("transform",u),i.empty())return;let f=t.getDebug("target")?"pink":"nocolor",h=i.selectAll(".qaItem.osmose").data(c,e=>e.id);function g(e,t){return e.id===r?1:t.id===r?-1:t.loc[1]-e.loc[1]}h.exit().remove(),h.enter().append("rect").attr("width","20px").attr("height","30px").attr("x","-10px").attr("y","-28px").merge(h).sort(g).attr("class",e=>"qaItem ".concat(e.service," target ").concat(f," itemId-").concat(e.id)).attr("transform",u)}()):u())}return f.enabled=function(e){return arguments.length?((w4=e)?l().loadStrings().then(d).catch(e=>{console.log(e)}):(p(),t.selectedErrorID()&&t.enter(be(t))),n.call("change"),this):w4},f.supported=()=>!!l(),f}function pi(e,t,n){var r,i=dt((function(){n.call("change")}),1e3),a=$(null),o=0,s=null;function l(){return ne.streetside&&!r?(r=ne.streetside).event.on("viewerChanged.svgStreetside",y).on("loadedImages.svgStreetside",i):!ne.streetside&&r&&(r=null),r}function c(){!l()||(d(),a.style("opacity",0).transition().duration(250).style("opacity",1).on("end",(function(){n.call("change")})))}function u(){i.cancel(),a.transition().duration(250).style("opacity",0).on("end",p)}function d(){a.style("display","block")}function p(){a.selectAll(".viewfield-group").remove(),a.style("display","none")}function f(e,n){var r=l();!r||(n.sequenceKey!==s&&(o=0),s=n.sequenceKey,r.ensureViewerLoaded(t).then((function(){r.selectImage(t,n.key).yaw(o).showViewer(t)})),t.map().centerEase(n.loc))}function h(e,n){var r=l();r&&r.setStyles(t,n)}function g(){var e=l();e&&e.setStyles(t,null)}function m(t){var n=kt(e)(t),r=t.ca+o;return r&&(n+=" rotate("+Math.floor(r)+",0,0)"),n}function y(){var e=l();if(e){var n=e.viewer();!n||(o=n.getYaw(),!t.map().isTransformed()&&a.selectAll(".viewfield-group.currentView").attr("transform",m))}}function v(){var n=t.container().select(".photoviewer"),r=n.empty()?void 0:n.datum(),i=~~t.map().zoom(),o=i>=16,s=i>=18,c=l(),u=[],d=[];t.photos().showsPanoramic()&&(u=c?c.sequences(e):[],d=c&&o?c.bubbles(e):[],u=function(e){var n=t.photos().fromDate(),r=t.photos().toDate(),i=t.photos().usernames();if(n){var a=new Date(n).getTime();e=e.filter((function(e){return new Date(e.properties.captured_at).getTime()>=a}))}if(r){var o=new Date(r).getTime();e=e.filter((function(e){return new Date(e.properties.captured_at).getTime()<=o}))}return i&&(e=e.filter((function(e){return-1!==i.indexOf(e.properties.captured_by)}))),e}(u),d=function(e){var n=t.photos().fromDate(),r=t.photos().toDate(),i=t.photos().usernames();if(n){var a=new Date(n).getTime();e=e.filter((function(e){return new Date(e.captured_at).getTime()>=a}))}if(r){var o=new Date(r).getTime();e=e.filter((function(e){return new Date(e.captured_at).getTime()<=o}))}return i&&(e=e.filter((function(e){return-1!==i.indexOf(e.captured_by)}))),e}(d));var p=a.selectAll(".sequences").selectAll(".sequence").data(u,(function(e){return e.properties.key}));p.exit().remove(),p=p.enter().append("path").attr("class","sequence").merge(p).attr("d",Ar(e).geojson);var y=a.selectAll(".markers").selectAll(".viewfield-group").data(d,(function(e){return e.key+(e.sequenceKey?"v1":"v0")}));y.exit().remove();var v=y.enter().append("g").attr("class","viewfield-group").on("mouseenter",h).on("mouseleave",g).on("click",f);v.append("g").attr("class","viewfield-scale");var b=y.merge(v).sort((function(e,t){return e===r?1:t===r?-1:t.loc[1]-e.loc[1]})).attr("transform",m).select(".viewfield-scale");b.selectAll("circle").data([0]).enter().append("circle").attr("dx","0").attr("dy","0").attr("r","6");var w=b.selectAll(".viewfield").data(s?[0]:[]);w.exit().remove(),w.enter().insert("path","circle").attr("class","viewfield").attr("transform","scale(1.5,1.5),translate(-8, -13)").attr("d",(function(){return this.parentNode.__data__.pano?"M 8,13 m -10,0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0":"M 6,9 C 8,8.4 8,8.4 10,9 L 16,-2 C 12,-5 4,-5 0,-2 z"}))}function b(n){var r=pi.enabled,i=l();(a=n.selectAll(".layer-streetside-images").data(i?[0]:[])).exit().remove();var o=a.enter().append("g").attr("class","layer-streetside-images").style("display",r?"block":"none");o.append("g").attr("class","sequences"),o.append("g").attr("class","markers"),a=o.merge(a),r&&(i&&~~t.map().zoom()>=14?(d(),v(),i.loadBubbles(e)):p())}return b.enabled=function(e){return arguments.length?(pi.enabled=e,pi.enabled?(c(),t.photos().on("change.streetside",v)):(u(),t.photos().on("change.streetside",null)),n.call("change"),this):pi.enabled},b.supported=function(){return!!l()},pi.initialized||(pi.enabled=!1,pi.initialized=!0),b}function mi(e,t,n){let r,i=dt((function(){n.call("change")}),1e3),a=$(null);function o(){return ne.mapillary&&!r?(r=ne.mapillary,r.event.on("loadedImages",i)):!ne.mapillary&&r&&(r=null),r}function s(){!o()||(c(),a.style("opacity",0).transition().duration(250).style("opacity",1).on("end",(function(){n.call("change")})))}function l(){i.cancel(),a.transition().duration(250).style("opacity",0).on("end",u)}function c(){a.style("display","block")}function u(){a.selectAll(".viewfield-group").remove(),a.style("display","none")}function d(e,n){let r=o();!r||(r.ensureViewerLoaded(t).then((function(){r.selectImage(t,n.id).showViewer(t)})),t.map().centerEase(n.loc))}function p(e,n){let r=o();r&&r.setStyles(t,n)}function f(){let e=o();e&&e.setStyles(t,null)}function h(t){let n=kt(e)(t);return t.ca&&(n+=" rotate("+Math.floor(t.ca)+",0,0)"),n}function g(){let n=~~t.map().zoom(),r=n>=16,i=n>=18,s=o(),l=s?s.sequences(e):[],c=s&&r?s.images(e):[];c=function(e){let n=t.photos().showsPanoramic(),r=t.photos().showsFlat(),i=t.photos().fromDate(),a=t.photos().toDate();return(!n||!r)&&(e=e.filter((function(e){return e.is_pano?n:r}))),i&&(e=e.filter((function(e){return new Date(e.captured_at).getTime()>=new Date(i).getTime()}))),a&&(e=e.filter((function(e){return new Date(e.captured_at).getTime()<=new Date(a).getTime()}))),e}(c),l=function(e){let n=t.photos().showsPanoramic(),r=t.photos().showsFlat(),i=t.photos().fromDate(),a=t.photos().toDate();return(!n||!r)&&(e=e.filter((function(e){return!!e.properties.hasOwnProperty("is_pano")&&(e.properties.is_pano?n:r)}))),i&&(e=e.filter((function(e){return new Date(e.properties.captured_at).getTime()>=new Date(i).getTime().toString()}))),a&&(e=e.filter((function(e){return new Date(e.properties.captured_at).getTime()<=new Date(a).getTime().toString()}))),e}(l),s.filterViewer(t);let u=a.selectAll(".sequences").selectAll(".sequence").data(l,(function(e){return e.properties.id}));u.exit().remove(),u=u.enter().append("path").attr("class","sequence").merge(u).attr("d",Ar(e).geojson);let g=a.selectAll(".markers").selectAll(".viewfield-group").data(c,(function(e){return e.id}));g.exit().remove();let m=g.enter().append("g").attr("class","viewfield-group").on("mouseenter",p).on("mouseleave",f).on("click",d);m.append("g").attr("class","viewfield-scale");let y=g.merge(m).sort((function(e,t){return t.loc[1]-e.loc[1]})).attr("transform",h).select(".viewfield-scale");y.selectAll("circle").data([0]).enter().append("circle").attr("dx","0").attr("dy","0").attr("r","6");let v=y.selectAll(".viewfield").data(i?[0]:[]);v.exit().remove(),v.enter().insert("path","circle").attr("class","viewfield").classed("pano",(function(){return this.parentNode.__data__.is_pano})).attr("transform","scale(1.5,1.5),translate(-8, -13)").attr("d",(function(){return this.parentNode.__data__.is_pano?"M 8,13 m -10,0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0":"M 6,9 C 8,8.4 8,8.4 10,9 L 16,-2 C 12,-5 4,-5 0,-2 z"}))}function m(n){let r=mi.enabled,i=o();a=n.selectAll(".layer-mapillary").data(i?[0]:[]),a.exit().remove();let s=a.enter().append("g").attr("class","layer-mapillary").style("display",r?"block":"none");s.append("g").attr("class","sequences"),s.append("g").attr("class","markers"),a=s.merge(a),r&&(i&&~~t.map().zoom()>=12?(c(),g(),i.loadImages(e)):u())}return m.enabled=function(e){return arguments.length?(mi.enabled=e,mi.enabled?(s(),t.photos().on("change.mapillary_images",g)):(l(),t.photos().on("change.mapillary_images",null)),n.call("change"),this):mi.enabled},m.supported=function(){return!!o()},mi.initialized||(mi.enabled=!1,mi.initialized=!0),m}function Ol(e,t){let n,r,i=dt((function(){l()}),1e3),a=$(null);function o(){return ne.mapillary&&!n?(n=ne.mapillary,n.event.on("imageChanged",i),n.event.on("bearingChanged",(function(e){r=e.bearing,!t.map().isTransformed()&&a.selectAll(".viewfield-group.currentView").filter((function(e){return e.is_pano})).attr("transform",s)}))):!ne.mapillary&&n&&(n=null),n}function s(t){let n=kt(e)(t);return t.is_pano&&null!==r&&isFinite(r)?n+=" rotate("+Math.floor(r)+",0,0)":t.ca&&(n+=" rotate("+Math.floor(t.ca)+",0,0)"),n}function l(){let e=~~t.map().zoom()>=18,n=o(),r=n&&n.getActiveImage(),i=a.selectAll(".markers").selectAll(".viewfield-group").data(r?[r]:[],(function(e){return e.id}));i.exit().remove();let l=i.enter().append("g").attr("class","viewfield-group currentView highlighted");l.append("g").attr("class","viewfield-scale");let c=i.merge(l).attr("transform",s).select(".viewfield-scale");c.selectAll("circle").data([0]).enter().append("circle").attr("dx","0").attr("dy","0").attr("r","6");let u=c.selectAll(".viewfield").data(e?[0]:[]);u.exit().remove(),u.enter().insert("path","circle").attr("class","viewfield").attr("transform","scale(1.5,1.5),translate(-8, -13)").attr("d","M 6,9 C 8,8.4 8,8.4 10,9 L 16,-2 C 12,-5 4,-5 0,-2 z")}function c(e){let n=o();a=e.selectAll(".layer-mapillary-position").data(n?[0]:[]),a.exit().remove();let r=a.enter().append("g").attr("class","layer-mapillary-position");r.append("g").attr("class","markers"),a=r.merge(a),n&&~~t.map().zoom()>=12?(a.style("display","block"),l()):(a.selectAll(".viewfield-group").remove(),a.style("display","none"))}return c.enabled=function(){return l(),this},c.supported=function(){return!!o()},Ol.initialized||(Ol.initialized=!0),c}function hi(e,t,n){let r,i=dt((function(){n.call("change")}),1e3),a=$(null);function o(){return ne.mapillary&&!r?(r=ne.mapillary,r.event.on("loadedSigns",i)):!ne.mapillary&&r&&(r=null),r}function s(){let e=o();!e||(e.loadSignResources(t),c())}function l(){i.cancel(),u()}function c(){a.style("display","block")}function u(){a.selectAll(".icon-sign").remove(),a.style("display","none")}function d(e,n){let r=o();if(!r)return;t.map().centerEase(n.loc);let i=r.getActiveImage()&&r.getActiveImage().id;r.getDetections(n.id).then(e=>{if(e.length){let n=e[0].image.id;n===i?r.highlightDetection(e[0]).selectImage(t,n):r.ensureViewerLoaded(t).then((function(){r.highlightDetection(e[0]).selectImage(t,n).showViewer(t)}))}})}function p(){let n=o(),r=n?n.signs(e):[];r=function(e){var n=t.photos().fromDate(),r=t.photos().toDate();if(n){var i=new Date(n).getTime();e=e.filter((function(e){return new Date(e.last_seen_at).getTime()>=i}))}if(r){var a=new Date(r).getTime();e=e.filter((function(e){return new Date(e.first_seen_at).getTime()<=a}))}return e}(r);let i=kt(e),s=a.selectAll(".icon-sign").data(r,(function(e){return e.id}));s.exit().remove();let l=s.enter().append("g").attr("class","icon-sign icon-detected").on("click",d);l.append("use").attr("width","24px").attr("height","24px").attr("x","-12px").attr("y","-12px").attr("xlink:href",(function(e){return"#"+e.value})),l.append("rect").attr("width","24px").attr("height","24px").attr("x","-12px").attr("y","-12px"),s.merge(l).attr("transform",i)}function f(n){let r=hi.enabled,i=o();a=n.selectAll(".layer-mapillary-signs").data(i?[0]:[]),a.exit().remove(),a=a.enter().append("g").attr("class","layer-mapillary-signs layer-mapillary-detections").style("display",r?"block":"none").merge(a),r?i&&~~t.map().zoom()>=12?(c(),p(),i.loadSigns(e),i.showSignDetections(!0)):u():i&&i.showSignDetections(!1)}return f.enabled=function(e){return arguments.length?(hi.enabled=e,hi.enabled?(s(),t.photos().on("change.mapillary_signs",p)):(l(),t.photos().on("change.mapillary_signs",null)),n.call("change"),this):hi.enabled},f.supported=function(){return!!o()},hi.initialized||(hi.enabled=!1,hi.initialized=!0),f}function ia(e,t,n){let r,i=dt((function(){n.call("change")}),1e3),a=$(null);function o(){return ne.mapillary&&!r?(r=ne.mapillary,r.event.on("loadedMapFeatures",i)):!ne.mapillary&&r&&(r=null),r}function s(){let e=o();!e||(e.loadObjectResources(t),c())}function l(){i.cancel(),u()}function c(){a.style("display","block")}function u(){a.selectAll(".icon-map-feature").remove(),a.style("display","none")}function d(e,n){let r=o();if(!r)return;t.map().centerEase(n.loc);let i=r.getActiveImage()&&r.getActiveImage().id;r.getDetections(n.id).then(e=>{if(e.length){let n=e[0].image.id;n===i?r.highlightDetection(e[0]).selectImage(t,n):r.ensureViewerLoaded(t).then((function(){r.highlightDetection(e[0]).selectImage(t,n).showViewer(t)}))}})}function p(){let n=o(),r=n?n.mapFeatures(e):[];r=function(e){let n=t.photos().fromDate(),r=t.photos().toDate();return n&&(e=e.filter((function(e){return new Date(e.last_seen_at).getTime()>=new Date(n).getTime()}))),r&&(e=e.filter((function(e){return new Date(e.first_seen_at).getTime()<=new Date(r).getTime()}))),e}(r);let i=kt(e),s=a.selectAll(".icon-map-feature").data(r,(function(e){return e.id}));s.exit().remove();let l=s.enter().append("g").attr("class","icon-map-feature icon-detected").on("click",d);l.append("title").text((function(e){var t=e.value.replace(/--/g,".").replace(/-/g,"_");return C("mapillary_map_features."+t)})),l.append("use").attr("width","24px").attr("height","24px").attr("x","-12px").attr("y","-12px").attr("xlink:href",(function(e){return"object--billboard"===e.value?"#object--sign--advertisement":"#"+e.value})),l.append("rect").attr("width","24px").attr("height","24px").attr("x","-12px").attr("y","-12px"),s.merge(l).attr("transform",i)}function f(n){let r=ia.enabled,i=o();a=n.selectAll(".layer-mapillary-map-features").data(i?[0]:[]),a.exit().remove(),a=a.enter().append("g").attr("class","layer-mapillary-map-features layer-mapillary-detections").style("display",r?"block":"none").merge(a),r?i&&~~t.map().zoom()>=12?(c(),p(),i.loadMapFeatures(e),i.showFeatureDetections(!0)):u():i&&i.showFeatureDetections(!1)}return f.enabled=function(e){return arguments.length?(ia.enabled=e,ia.enabled?(s(),t.photos().on("change.mapillary_map_features",p)):(l(),t.photos().on("change.mapillary_map_features",null)),n.call("change"),this):ia.enabled},f.supported=function(){return!!o()},ia.initialized||(ia.enabled=!1,ia.initialized=!0),f}function gi(e,t,n){var r,i=dt((function(){n.call("change")}),1e3),a=$(null);function o(){return ne.kartaview&&!r?(r=ne.kartaview).event.on("loadedImages",i):!ne.kartaview&&r&&(r=null),r}function s(){!o()||(c(),a.style("opacity",0).transition().duration(250).style("opacity",1).on("end",(function(){n.call("change")})))}function l(){i.cancel(),a.transition().duration(250).style("opacity",0).on("end",u)}function c(){a.style("display","block")}function u(){a.selectAll(".viewfield-group").remove(),a.style("display","none")}function d(e,n){var r=o();!r||(r.ensureViewerLoaded(t).then((function(){r.selectImage(t,n.key).showViewer(t)})),t.map().centerEase(n.loc))}function p(e,n){var r=o();r&&r.setStyles(t,n)}function f(){var e=o();e&&e.setStyles(t,null)}function h(t){var n=kt(e)(t);return t.ca&&(n+=" rotate("+Math.floor(t.ca)+",0,0)"),n}function g(){var n=t.container().select(".photoviewer"),r=n.empty()?void 0:n.datum(),i=~~t.map().zoom(),s=i>=16,l=i>=18,c=o(),u=[],g=[];t.photos().showsFlat()&&(u=c?c.sequences(e):[],g=c&&s?c.images(e):[],u=function(e){var n=t.photos().fromDate(),r=t.photos().toDate(),i=t.photos().usernames();if(n){var a=new Date(n).getTime();e=e.filter((function(e){return new Date(e.properties.captured_at).getTime()>=a}))}if(r){var o=new Date(r).getTime();e=e.filter((function(e){return new Date(e.properties.captured_at).getTime()<=o}))}return i&&(e=e.filter((function(e){return-1!==i.indexOf(e.properties.captured_by)}))),e}(u),g=function(e){var n=t.photos().fromDate(),r=t.photos().toDate(),i=t.photos().usernames();if(n){var a=new Date(n).getTime();e=e.filter((function(e){return new Date(e.captured_at).getTime()>=a}))}if(r){var o=new Date(r).getTime();e=e.filter((function(e){return new Date(e.captured_at).getTime()<=o}))}return i&&(e=e.filter((function(e){return-1!==i.indexOf(e.captured_by)}))),e}(g));var m=a.selectAll(".sequences").selectAll(".sequence").data(u,(function(e){return e.properties.key}));m.exit().remove(),m=m.enter().append("path").attr("class","sequence").merge(m).attr("d",Ar(e).geojson);var y=a.selectAll(".markers").selectAll(".viewfield-group").data(g,(function(e){return e.key}));y.exit().remove();var v=y.enter().append("g").attr("class","viewfield-group").on("mouseenter",p).on("mouseleave",f).on("click",d);v.append("g").attr("class","viewfield-scale");var b=y.merge(v).sort((function(e,t){return e===r?1:t===r?-1:t.loc[1]-e.loc[1]})).attr("transform",h).select(".viewfield-scale");b.selectAll("circle").data([0]).enter().append("circle").attr("dx","0").attr("dy","0").attr("r","6");var w=b.selectAll(".viewfield").data(l?[0]:[]);w.exit().remove(),w.enter().insert("path","circle").attr("class","viewfield").attr("transform","scale(1.5,1.5),translate(-8, -13)").attr("d","M 6,9 C 8,8.4 8,8.4 10,9 L 16,-2 C 12,-5 4,-5 0,-2 z")}function m(n){var r=gi.enabled,i=o();(a=n.selectAll(".layer-kartaview").data(i?[0]:[])).exit().remove();var s=a.enter().append("g").attr("class","layer-kartaview").style("display",r?"block":"none");s.append("g").attr("class","sequences"),s.append("g").attr("class","markers"),a=s.merge(a),r&&(i&&~~t.map().zoom()>=12?(c(),g(),i.loadImages(e)):u())}return m.enabled=function(e){return arguments.length?(gi.enabled=e,gi.enabled?(s(),t.photos().on("change.kartaview_images",g)):(l(),t.photos().on("change.kartaview_images",null)),n.call("change"),this):gi.enabled},m.supported=function(){return!!o()},gi.initialized||(gi.enabled=!1,gi.initialized=!0),m}function Pl(e,t,n){var r=!0;function i(e){e.selectAll(".layer-osm").data(["covered","areas","lines","points","labels"]).enter().append("g").attr("class",(function(e){return"layer-osm "+e})),e.selectAll(".layer-osm.points").selectAll(".points-group").data(["points","midpoints","vertices","turns"]).enter().append("g").attr("class",(function(e){return"points-group "+e}))}function a(){var e=t.surface().selectAll(".data-layer.osm");e.interrupt(),e.classed("disabled",!1).style("opacity",0).transition().duration(250).style("opacity",1).on("end interrupt",(function(){n.call("change")}))}function o(){var e=t.surface().selectAll(".data-layer.osm");e.interrupt(),e.transition().duration(250).style("opacity",0).on("end interrupt",(function(){e.classed("disabled",!0),n.call("change")}))}return i.enabled=function(e){return arguments.length?((r=e)?a():o(),n.call("change"),this):r},i}var k4=!1,E4;function Rl(e,t,n){n||(n=se("change"));var r=dt((function(){n.call("change")}),1e3),i=$(null),a=$(null),o=!1;function s(e,t){e.attr("class",t).attr("transform","translate(-8, -22)").attr("d","m17.5,0l-15,0c-1.37,0 -2.5,1.12 -2.5,2.5l0,11.25c0,1.37 1.12,2.5 2.5,2.5l3.75,0l0,3.28c0,0.38 0.43,0.6 0.75,0.37l4.87,-3.65l5.62,0c1.37,0 2.5,-1.12 2.5,-2.5l0,-11.25c0,-1.37 -1.12,-2.5 -2.5,-2.5z")}function l(){return ne.osm&&!E4?(E4=ne.osm).on("loadedNotes",r):!ne.osm&&E4&&(E4=null),E4}function c(){o||(o=!0,a.style("display","block"))}function u(){o&&(o=!1,a.style("display","none"),a.selectAll(".note").remove(),i.selectAll(".note").remove())}function d(){c(),a.style("opacity",0).transition().duration(250).style("opacity",1).on("end interrupt",(function(){n.call("change")}))}function p(){r.cancel(),a.interrupt(),i.selectAll(".note").remove(),a.transition().duration(250).style("opacity",0).on("end interrupt",(function(){u(),n.call("change")}))}function f(n){var r=l(),d=t.surface();d&&!d.empty()&&(i=d.selectAll(".data-layer.touch .layer-touch.markers")),(a=n.selectAll(".layer-notes").data(r?[0]:[])).exit().remove(),a=a.enter().append("g").attr("class","layer-notes").style("display",k4?"block":"none").merge(a),k4&&(r&&~~t.map().zoom()>=12?(c(),r.loadNotes(e),function(){if(o&&k4){var n=l(),r=t.selectedNoteID(),c=n?n.notes(e):[],u=kt(e),d=a.selectAll(".note").data(c,(function(e){return e.status+e.id}));d.exit().remove();var p=d.enter().append("g").attr("class",(function(e){return"note note-"+e.id+" "+e.status})).classed("new",(function(e){return e.id<0}));if(p.append("ellipse").attr("cx",.5).attr("cy",1).attr("rx",6.5).attr("ry",3).attr("class","stroke"),p.append("path").call(s,"shadow"),p.append("use").attr("class","note-fill").attr("width","20px").attr("height","20px").attr("x","-8px").attr("y","-22px").attr("xlink:href","#iD-icon-note"),p.selectAll(".icon-annotation").data((function(e){return[e]})).enter().append("use").attr("class","icon-annotation").attr("width","10px").attr("height","10px").attr("x","-3px").attr("y","-19px").attr("xlink:href",(function(e){return e.id<0?"#iD-icon-plus":"open"===e.status?"#iD-icon-close":"#iD-icon-apply"})),d.merge(p).sort(g).classed("selected",(function(e){var n=t.mode();return!(n&&"drag-note"===n.id)&&e.id===r})).attr("transform",u),!i.empty()){var f=t.getDebug("target")?"pink ":"nocolor ",h=i.selectAll(".note").data(c,(function(e){return e.id}));h.exit().remove(),h.enter().append("rect").attr("width","20px").attr("height","20px").attr("x","-8px").attr("y","-22px").merge(h).sort(g).attr("class",(function(e){var t=e.id<0?"new":"";return"note target note-"+e.id+" "+f+t})).attr("transform",u)}}function g(e,t){return e.id===r?1:t.id===r?-1:t.loc[1]-e.loc[1]}}()):u())}return f.enabled=function(e){return arguments.length?((k4=e)?d():(p(),t.selectedNoteID()&&t.enter(be(t))),n.call("change"),this):k4},f}function Ll(){return function(e){e.selectAll(".layer-touch").data(["areas","lines","points","turns","markers"]).enter().append("g").attr("class",(function(e){return"layer-touch "+e}))}}function rv(e,t){var n=t.getBoundingClientRect(),r=[n.width,n.height];return e.property("__dimensions__",r),r}function Qr(e,t){if(!e||e.empty())return[0,0];var n=e.node(),r=e.property("__dimensions__");return!r||t?rv(e,n):r}function I2(e,t){if(!e||e.empty())return e;var n=e.node();return null===t?(rv(e,n),e):e.property("__dimensions__",[t[0],t[1]]).attr("width",t[0]).attr("height",t[1])}function A4(e,t){var n=se("change"),r=$(null),i=[{id:"osm",layer:Pl(e,t,n)},{id:"notes",layer:Rl(e,t,n)},{id:"data",layer:h4(e,t,n)},{id:"keepRight",layer:Tl(e,t,n)},{id:"improveOSM",layer:ev(e,t,n)},{id:"osmose",layer:tv(e,t,n)},{id:"streetside",layer:pi(e,t,n)},{id:"mapillary",layer:mi(e,t,n)},{id:"mapillary-position",layer:Ol(e,t,n)},{id:"mapillary-map-features",layer:ia(e,t,n)},{id:"mapillary-signs",layer:hi(e,t,n)},{id:"kartaview",layer:gi(e,t,n)},{id:"debug",layer:g4(e,t,n)},{id:"geolocate",layer:di(e,t,n)},{id:"touch",layer:Ll(e,t,n)}];function a(e){(r=(r=e.selectAll(".surface").data([0])).enter().append("svg").attr("class","surface").merge(r)).selectAll(".surface-defs").data([0]).enter().append("defs").attr("class","surface-defs");var t=r.selectAll(".data-layer").data(i);t.exit().remove(),t.enter().append("g").attr("class",(function(e){return"data-layer "+e.id})).merge(t).each((function(e){$(this).call(e.layer)}))}return a.all=function(){return i},a.layer=function(e){var t=i.find((function(t){return t.id===e}));return t&&t.layer},a.only=function(e){var t=[].concat(e),n=i.map((function(e){return e.id}));return a.remove(Vt(n,t))},a.remove=function(e){return[].concat(e).forEach((function(e){i=i.filter((function(t){return t.id!==e}))})),n.call("change"),this},a.add=function(e){return[].concat(e).forEach((function(e){"id"in e&&"layer"in e&&i.push(e)})),n.call("change"),this},a.dimensions=function(e){return arguments.length?(I2(r,e),this):Qr(r)},fe(a,n,"on")}var T2=je(zn());function S4(e,t){var n=Bt(),r={motorway:0,motorway_link:1,trunk:2,trunk_link:3,primary:4,primary_link:5,secondary:6,tertiary:7,unclassified:8,residential:9,service:10,footway:11};function i(n,r,i,a){var o=t.getDebug("target")?"pink ":"nocolor ",s=t.getDebug("target")?"red ":"nocolor ",l=Ar(e).geojson,c=t.activeID(),u=t.history().base(),d={targets:[],nopes:[]};i.forEach((function(e){var t=m4(e,r,c);d.targets.push.apply(d.targets,t.passive),d.nopes.push.apply(d.nopes,t.active)}));var p=d.targets.filter(l),f=n.selectAll(".line.target-allowed").filter((function(e){return a(e.properties.entity)})).data(p,(function(e){return e.id}));f.exit().remove();var h=function(e){var t=e.properties.entity.id;return!(!u.entities[t]||!(0,T2.default)(r.entities[t].nodes,u.entities[t].nodes))&&e.properties.nodes.some((function(e){return!u.entities[e.id]||!(0,T2.default)(r.entities[e.id].loc,u.entities[e.id].loc)}))};f.enter().append("path").merge(f).attr("d",l).attr("class",(function(e){return"way line target target-allowed "+o+e.id})).classed("segment-edited",h);var g=d.nopes.filter(l),m=n.selectAll(".line.target-nope").filter((function(e){return a(e.properties.entity)})).data(g,(function(e){return e.id}));m.exit().remove(),m.enter().append("path").merge(m).attr("d",l).attr("class",(function(e){return"way line target target-nope "+s+e.id})).classed("segment-edited",h)}return function(a,o,s,l){var c=t.history().base();function u(e,n){var i=t.selectedIDs(),a=-1!==i.indexOf(e.id)?20:0,o=-1!==i.indexOf(n.id)?20:0;return e.tags.highway&&(a-=r[e.tags.highway]),n.tags.highway&&(o-=r[n.tags.highway]),a-o}function d(e,n,r){var i=t.mode(),a=!(i&&/^draw/.test(i.id))&&r?"selected ":"",s=e.selectAll("path").filter(l).data(function(e){return function(){var n=this.parentNode.__data__;return(_[n]||[]).filter((function(n){return e?-1!==t.selectedIDs().indexOf(n.id):-1===t.selectedIDs().indexOf(n.id)}))}}(r),ye.key);return s.exit().remove(),s.enter().append("path").attr("class",(function(e){var t="way line";if(!e.hasInterestingTags()){var r=o.parentRelations(e),i=r.filter((function(e){return e.isMultipolygon()}));i.length>0&&r.length===i.length&&(t="relation area")}var s=y[e.id]?"old-multipolygon ":"";return t+" "+n+" "+a+s+e.id})).classed("added",(function(e){return!c.entities[e.id]})).classed("geometry-edited",(function(e){return o.entities[e.id]&&c.entities[e.id]&&!(0,T2.default)(o.entities[e.id].nodes,c.entities[e.id].nodes)})).classed("retagged",(function(e){return o.entities[e.id]&&c.entities[e.id]&&!(0,T2.default)(o.entities[e.id].tags,c.entities[e.id].tags)})).call(hn()).merge(s).sort(u).attr("d",f).call(hn().tags(Al(o))),e}function p(e,t,r,i,a){var o=e.selectAll("g."+r).data([t]),s=(o=o.enter().append("g").attr("class",r).merge(o)).selectAll("path").filter(l).data((function(){return i[this.parentNode.__data__]||[]}),(function(e){return[e.id,e.index]}));s.exit().remove(),s=s.enter().append("path").attr("class",t).merge(s).attr("marker-mid",a).attr("d",(function(e){return e.d})),n.ie&&s.each((function(){this.parentNode.insertBefore(this,this)}))}for(var f=Ar(e,o),h=[],g={},m={},y={},v=0;v<s.length;v++){var b=s[v],w=N3(b,o);w?(h.push(b.mergeTags(w.tags)),y[w.id]=!0):"line"===b.geometry(o)&&h.push(b)}var _=Ct(h=h.filter(f),(function(e){return e.layer()}));Object.keys(_).forEach((function(t){var n=_[t],r=n.filter((function(e){return e.isOneWay()})),i=F2(e,o,35,(function(e){return"-1"===e.tags.oneway}),(function(e){return"reversible"===e.tags.oneway||"alternating"===e.tags.oneway}));g[t]=Fa(r.map(i));var a=n.filter((function(e){return e.isSided()})),s=F2(e,o,30,(function(){return!1}),(function(){return!1}));m[t]=Fa(a.map(s))}));var k=a.selectAll(".layer-osm.covered"),x=a.selectAll(".layer-osm.lines"),A=a.selectAll(".layer-touch.lines");[k,x].forEach((function(e){var t=e===k?fa(-10,0):fa(0,11),n=e.selectAll("g.layergroup").data(t);(n=n.enter().append("g").attr("class",(function(e){return"layergroup layer"+String(e)})).merge(n)).selectAll("g.linegroup").data(["shadow","casing","stroke","shadow-highlighted","casing-highlighted","stroke-highlighted"]).enter().append("g").attr("class",(function(e){return"linegroup line-"+e})),n.selectAll("g.line-shadow").call(d,"shadow",!1),n.selectAll("g.line-casing").call(d,"casing",!1),n.selectAll("g.line-stroke").call(d,"stroke",!1),n.selectAll("g.line-shadow-highlighted").call(d,"shadow",!0),n.selectAll("g.line-casing-highlighted").call(d,"casing",!0),n.selectAll("g.line-stroke-highlighted").call(d,"stroke",!0),p(n,"oneway","onewaygroup",g,"url(#ideditor-oneway-marker)"),p(n,"sided","sidedgroup",m,(function(e){return"url(#ideditor-sided-marker-"+o.entity(e.id).sidednessIdentifier()+")"}))})),A.call(i,o,h,l)}}function Bl(e,t){function n(n,r,i,a){var o=t.getDebug("target")?"pink ":"nocolor ",s=kt(e).geojson,l=i.map((function(e){return{type:"Feature",id:e.id,properties:{target:!0,entity:e},geometry:{type:"Point",coordinates:e.loc}}})),c=n.selectAll(".midpoint.target").filter((function(e){return a(e.properties.entity)})).data(l,(function(e){return e.id}));c.exit().remove(),c.enter().append("circle").attr("r",8).merge(c).attr("class",(function(e){return"node midpoint target "+o+e.id})).attr("transform",s)}return function(r,i,a,o,s){var l=r.selectAll(".layer-osm.points .points-group.midpoints"),c=r.selectAll(".layer-touch.points"),u=t.mode();if(u&&"select"!==u.id||!t.map().withinEditableZoom())return l.selectAll(".midpoint").remove(),void c.selectAll(".midpoint.target").remove();for(var d=s.polygon(),p={},f=0;f<a.length;f++){var h=a[f];if("way"===h.type&&o(h)&&!(t.selectedIDs().indexOf(h.id)<0))for(var g=i.childNodes(h),m=0;m<g.length-1;m++){var y=g[m],v=g[m+1],b=[y.id,v.id].sort().join("-");if(p[b])p[b].parents.push(h);else if(Qe(e(y.loc),e(v.loc))>40){var w=gt(y.loc,v.loc,.5),_=null;if(s.intersects(w))_=w;else for(var k=0;k<4;k++)if((w=On([y.loc,v.loc],[d[k],d[k+1]]))&&Qe(e(y.loc),e(w))>20&&Qe(e(v.loc),e(w))>20){_=w;break}_&&(p[b]={type:"midpoint",id:b,loc:_,edge:[y.id,v.id],parents:[h]})}}}function x(e){if(p[e.id])return!0;for(var t=0;t<e.parents.length;t++)if(o(e.parents[t]))return!0;return!1}var A=l.selectAll(".midpoint").filter(x).data(Object.values(p),(function(e){return e.id}));A.exit().remove();var E=A.enter().insert("g",":first-child").attr("class","midpoint");E.append("polygon").attr("points","-6,8 10,0 -6,-8").attr("class","shadow"),E.append("polygon").attr("points","-3,4 5,0 -3,-4").attr("class","fill"),(A=A.merge(E).attr("transform",(function(t){var n=kt(e),r=pr(i.entity(t.edge[0]),i.entity(t.edge[1]),e)*(180/Math.PI);return n(t)+" rotate("+r+")"})).call(hn().tags((function(e){return e.parents[0].tags})))).select("polygon.shadow"),A.select("polygon.fill"),c.call(n,i,Object.values(p),x)}}var G9=je(zn());function Ul(e,t){function n(e,t){e.attr("class",t).attr("transform","translate(-8, -23)").attr("d","M 17,8 C 17,13 11,21 8.5,23.5 C 6,21 0,13 0,8 C 0,4 4,-0.5 8.5,-0.5 C 13,-0.5 17,4 17,8 z")}function r(e,t){return t.loc[1]-e.loc[1]}function i(e){var n=t.mode();return n&&/^(add|draw|drag|move|rotate)/.test(n.id)?e.id:ye.key(e)}function a(n,r,i,a){var o=t.getDebug("target")?"pink ":"nocolor ",s=kt(e).geojson,l=t.activeID(),c=[];i.forEach((function(e){l!==e.id&&c.push({type:"Feature",id:e.id,properties:{target:!0,entity:e},geometry:e.asGeoJSON()})}));var u=n.selectAll(".point.target").filter((function(e){return a(e.properties.entity)})).data(c,(function(e){return e.id}));u.exit().remove(),u.enter().append("rect").attr("x",-10).attr("y",-26).attr("width",20).attr("height",30).merge(u).attr("class",(function(e){return"node point target "+o+e.id})).attr("transform",s)}return function(o,s,l,c){var u=t.surface().classed("fill-wireframe"),d=Tt(e.scale()),p=t.history().base(),f=u?[]:l.filter((function(t){return"point"===t.geometry(s)&&!(d>=18&&t.directions(s,e).length)}));f.sort(r);var h=o.selectAll(".layer-osm.points .points-group.points"),g=o.selectAll(".layer-touch.points"),m=h.selectAll("g.point").filter(c).data(f,i);m.exit().remove();var y=m.enter().append("g").attr("class",(function(e){return"node point "+e.id})).order();y.append("path").call(n,"shadow"),y.append("ellipse").attr("cx",.5).attr("cy",1).attr("rx",6.5).attr("ry",3).attr("class","stroke"),y.append("path").call(n,"stroke"),y.append("use").attr("transform","translate(-5.5, -20)").attr("class","icon").attr("width","12px").attr("height","12px"),(m=m.merge(y).attr("transform",kt(e)).classed("added",(function(e){return!p.entities[e.id]})).classed("moved",(function(e){return p.entities[e.id]&&!(0,G9.default)(s.entities[e.id].loc,p.entities[e.id].loc)})).classed("retagged",(function(e){return p.entities[e.id]&&!(0,G9.default)(s.entities[e.id].tags,p.entities[e.id].tags)})).call(hn())).select(".shadow"),m.select(".stroke"),m.select(".icon").attr("xlink:href",(function(e){var t=ve.match(e,s),n=t&&t.icon;return n?"#"+n:""})),g.call(a,s,f,c)}}function zl(e,t){function n(e){var t=e.u?"-u":"";return e.no?"#iD-turn-no"+t:e.only?"#iD-turn-only"+t:"#iD-turn-yes"+t}return function(r,i,a){function o(t){var n=i.entity(t.to.way),r=$i(i.childNodes(n).map((function(e){return e.loc})).map(e))/2,a=i.entity(t.to.node),o=i.entity(t.to.vertex),s=pr(o,a,e),l=e(o.loc),c=t.u?0:n.__via?Math.min(r,50):50;return"translate("+(c*Math.cos(s)+l[0])+","+(c*Math.sin(s)+l[1])+") rotate("+180*s/Math.PI+")"}var s=r.selectAll(".layer-osm.points .points-group.turns"),l=r.selectAll(".layer-touch.turns"),c=s.selectAll("g.turn").data(a,(function(e){return e.key}));c.exit().remove();var u=c.enter().append("g").attr("class",(function(e){return"turn "+e.key})),d=u.filter((function(e){return!e.u}));d.append("rect").attr("transform","translate(-22, -12)").attr("width","44").attr("height","24"),d.append("use").attr("transform","translate(-22, -12)").attr("width","44").attr("height","24");var p=u.filter((function(e){return e.u}));p.append("circle").attr("r","16"),p.append("use").attr("transform","translate(-16, -16)").attr("width","32").attr("height","32"),(c=c.merge(u).attr("opacity",(function(e){return!1===e.direct?"0.7":null})).attr("transform",o)).select("use").attr("xlink:href",n),c.select("rect"),c.select("circle");var f=t.getDebug("target")?"pink ":"nocolor ";return(c=l.selectAll("g.turn").data(a,(function(e){return e.key}))).exit().remove(),(d=(u=c.enter().append("g").attr("class",(function(e){return"turn "+e.key}))).filter((function(e){return!e.u}))).append("rect").attr("class","target "+f).attr("transform","translate(-22, -12)").attr("width","44").attr("height","24"),(p=u.filter((function(e){return e.u}))).append("circle").attr("class","target "+f).attr("r","16"),(c=c.merge(u).attr("transform",o)).select("rect"),c.select("circle"),this}}var N2=je(zn());function C4(e,t){var n,r={shadow:[6,7.5,7.5,12],stroke:[2.5,3.5,3.5,8],fill:[1,1.5,1.5,1.5]},i={},a={},o={},s={},l={},c={};function u(e,t){return t.loc[1]-e.loc[1]}function d(e){var n=t.mode();return n&&/^(add|draw|drag|move|rotate)/.test(n.id)?e.id:ye.key(e)}function p(n,i,a,o,s){o=o||{selected:{},important:{},hovered:{}};var l={},p={},f=t.surface().classed("fill-wireframe"),h=Tt(e.scale()),g=h<17?0:h<18?1:2,m=t.activeID(),y=t.history().base();function v(e){var t=i.entity(e.id);return t.id in l||(l[t.id]=t.hasInterestingTags()&&ve.match(t,i).icon),l[t.id]}function b(t){if(t.id in p)return p[t.id];var n=t.directions(i,e);return p[t.id]=!!n.length&&n,n}a.sort(u);var w=n.selectAll("g.vertex").filter(s).data(a,d);w.exit().remove();var _=w.enter().append("g").attr("class",(function(e){return"node vertex "+e.id})).order();_.append("circle").attr("class","shadow"),_.append("circle").attr("class","stroke"),_.filter((function(e){return e.hasInterestingTags()})).append("circle").attr("class","fill");var k=(w=w.merge(_).attr("transform",kt(e)).classed("sibling",(function(e){return e.id in o.selected})).classed("shared",(function(e){return i.isShared(e)})).classed("endpoint",(function(e){return e.isEndpoint(i)})).classed("added",(function(e){return!y.entities[e.id]})).classed("moved",(function(e){return y.entities[e.id]&&!(0,N2.default)(i.entities[e.id].loc,y.entities[e.id].loc)})).classed("retagged",(function(e){return y.entities[e.id]&&!(0,N2.default)(i.entities[e.id].tags,y.entities[e.id].tags)})).call((function(e){["shadow","stroke","fill"].forEach((function(t){var n=r[t];e.selectAll("."+t).each((function(e){var r=g&&v(e),a=n[r?3:g];e.id!==m&&e.isEndpoint(i)&&!e.isConnected(i)&&(a+=1.5),"shadow"===t&&(c[e.id]=a),$(this).attr("r",a).attr("visibility",r&&"fill"===t?"hidden":null)}))}))}))).selectAll(".icon").data((function(e){return h>=17&&v(e)?[e]:[]}),d);k.exit().remove(),k.enter().append("use").attr("class","icon").attr("width","12px").attr("height","12px").attr("transform","translate(-6, -6)").attr("xlink:href",(function(e){var t=v(e);return t?"#"+t:""}));var x=w.selectAll(".viewfieldgroup").data((function(e){return h>=18&&b(e)?[e]:[]}),d);x.exit().remove();var A=(x=x.enter().insert("g",".shadow").attr("class","viewfieldgroup").merge(x)).selectAll(".viewfield").data(b,(function(e){return ye.key(e)}));A.exit().remove(),A.enter().append("path").attr("class","viewfield").attr("d","M0,0H0").merge(A).attr("marker-start","url(#ideditor-viewfield-marker"+(f?"-wireframe":"")+")").attr("transform",(function(e){return"rotate("+e+")"}))}function f(n,i,a,o){var s=t.getDebug("target")?"pink ":"nocolor ",l=t.getDebug("target")?"red ":"nocolor ",u=kt(e).geojson,d=t.activeID(),p={targets:[],nopes:[]};a.forEach((function(e){d!==e.id&&(0!==C2(e,i,d)?p.targets.push({type:"Feature",id:e.id,properties:{target:!0,entity:e},geometry:e.asGeoJSON()}):p.nopes.push({type:"Feature",id:e.id+"-nope",properties:{nope:!0,target:!0,entity:e},geometry:e.asGeoJSON()}))}));var f=n.selectAll(".vertex.target-allowed").filter((function(e){return o(e.properties.entity)})).data(p.targets,(function(e){return e.id}));f.exit().remove(),f.enter().append("circle").attr("r",(function(e){return c[e.id]||r.shadow[3]})).merge(f).attr("class",(function(e){return"node vertex target target-allowed "+s+e.id})).attr("transform",u);var h=n.selectAll(".vertex.target-nope").filter((function(e){return o(e.properties.entity)})).data(p.nopes,(function(e){return e.id}));h.exit().remove(),h.enter().append("circle").attr("r",(function(e){return c[e.properties.entity.id]||r.shadow[3]})).merge(h).attr("class",(function(e){return"node vertex target target-nope "+l+e.id})).attr("transform",u)}function h(t,n,r,i){var a=t.geometry(n);return"vertex"===a||"point"===a&&(r||i>=18&&t.directions(n,e).length)}function g(e,t,n){var r=t.entities[e.id],i=n.entities[e.id];return!i||!r||!(0,N2.default)(i.tags,r.tags)||!(0,N2.default)(i.loc,r.loc)}function m(e,n,r,i){var a={},o={};function s(e){if(!o[e.id]){o[e.id]=!0;var l,c=e.geometry(n);if(!t.features().isHiddenFeature(e,n,c))if("way"===e.type)for(l=0;l<e.nodes.length;l++){var u=n.hasEntity(e.nodes[l]);u&&s(u)}else if("relation"===e.type)for(l=0;l<e.members.length;l++){var d=n.hasEntity(e.members[l].id);d&&s(d)}else h(e,n,r,i)&&(a[e.id]=e)}}return e.forEach((function(e){var t=n.hasEntity(e);!t||("node"===t.type?h(t,n,r,i)&&(a[t.id]=t,n.parentWays(t).forEach((function(e){s(e)}))):s(t))})),a}function y(n,r,o,l,u,d){var m=t.surface().classed("fill-wireframe"),y=t.surface().classed("highlight-edited"),v=Tt(e.scale()),b=t.mode(),w=b&&/^(add|draw|drag|move|rotate)/.test(b.id),_=t.history().base(),k=n.selectAll(".layer-osm.points .points-group.vertices"),x=n.selectAll(".layer-touch.points");d&&(i={},c={});for(var A=0;A<o.length;A++){var E=o[A],C=E.geometry(r),S=!1;("point"===C&&h(E,r,m,v)||"vertex"===C&&(E.hasInterestingTags()||E.isEndpoint(r)||E.isConnected(r)||y&&g(E,_,r)))&&(i[E.id]=E,S=!0),!S&&!d&&delete i[E.id]}var M={persistent:i,selected:s,hovered:a},N=Object.assign({},w?a:{},s,i),I=function(e){return e.id in i||e.id in s||e.id in a||l(e)};k.call(p,r,D(N),M,I);function D(e){return Object.keys(e).map(r.hasEntity,r).filter((function(e){return e&&e.intersects(u,r)}))}x.call(f,r,D(N),(function(e){return!!w||I(e)}))}return y.drawSelected=function(n,r,i){var a=t.surface().classed("fill-wireframe"),o=Tt(e.scale());l=s||{},t.map().isInWideSelection()?(s={},t.selectedIDs().forEach((function(e){var t=r.hasEntity(e);!t||"node"===t.type&&h(t,r,a,o)&&(s[t.id]=t)}))):s=m(t.selectedIDs(),r,a,o);y(n,r,Object.values(l),(function(e){return e.id in l}),i,!1)},y.drawHover=function(r,i,s,l){if(s!==n){var c=t.surface().classed("fill-wireframe"),u=Tt(e.scale());o=a||{},n=s;var d=s&&s.properties&&s.properties.entity;a=d?m([d.id],i,c,u):{};y(r,i,Object.values(o),(function(e){return e.id in o}),l,!1)}},y}function nv(e,t,n,r){var i=t+".once";return e.on(i,(function(){e.on(i,null),n.apply(this,arguments)}),r),this}function tC(e){return!e.ctrlKey&&!e.button}function rC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function nC(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)}function iC(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function iv(){var e,t=tC,n=rC,r=iC,i=nC,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=Ps,l=se("start","zoom","end"),c=mr;function u(e){e.on("pointerdown.zoom",b).on("wheel.zoom",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)"),$(window).on("pointermove.zoompan",w).on("pointerup.zoompan pointercancel.zoompan",_)}function d(e,t){return(t=Math.max(a[0],Math.min(a[1],t)))===e.k?e:new Zr(t,e.x,e.y)}function p(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new Zr(e.k,r,i)}function f(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function h(t,n,r){return!r&&e||new g(t,n)}function g(e,t){this.that=e,this.args=t,this.active=0,this.extent=n.apply(e,t)}function m(e){if(t.apply(this,arguments)){var n=h(this,arguments),s=c,l=Math.max(a[0],Math.min(a[1],s.k*Math.pow(2,i.apply(this,arguments)))),u=er(this)(e);n.wheel?((n.mouse[0][0]!==u[0]||n.mouse[0][1]!==u[1])&&(n.mouse[1]=s.invert(n.mouse[0]=u)),clearTimeout(n.wheel)):(n.mouse=[u,s.invert(u)],ai(this),n.start(e)),e.preventDefault(),e.stopImmediatePropagation(),n.wheel=setTimeout(f,150),n.zoom(e,"mouse",r(p(d(s,l),n.mouse[0],n.mouse[1]),n.extent,o))}function f(){n.wheel=null,n.end(e)}}u.transform=function(e,t,r){var i=e.selection?e.selection():e;e!==i?function(e,t,r){e.on("start.zoom",(function(){h(this,arguments).start(null)})).on("interrupt.zoom end.zoom",(function(){h(this,arguments).end(null)})).tween("zoom",(function(){var e=this,i=arguments,a=h(e,i),o=n.apply(e,i),l=r?"function"==typeof r?r.apply(e,i):r:f(o),u=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),d=c,p="function"==typeof t?t.apply(e,i):t,g=s(d.invert(l).concat(u/d.k),p.invert(l).concat(u/p.k));return function(e){if(1===e)e=p;else{var t=g(e),n=u/t[2];e=new Zr(n,l[0]-t[0]*n,l[1]-t[1]*n)}a.zoom(null,null,e)}}))}(e,t,r):i.interrupt().each((function(){h(this,arguments).start(null).zoom(null,null,"function"==typeof t?t.apply(this,arguments):t).end(null)}))},u.scaleBy=function(e,t,n){u.scaleTo(e,(function(){var e=c.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}),n)},u.scaleTo=function(e,t,i){u.transform(e,(function(){var e=n.apply(this,arguments),a=c,s=i?"function"==typeof i?i.apply(this,arguments):i:f(e),l=a.invert(s),u="function"==typeof t?t.apply(this,arguments):t;return r(p(d(a,u),s,l),e,o)}),i)},u.translateBy=function(e,t,i){u.transform(e,(function(){return r(c.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof i?i.apply(this,arguments):i),n.apply(this,arguments),o)}))},u.translateTo=function(e,t,i,a){u.transform(e,(function(){var e=n.apply(this,arguments),s=c,l=a?"function"==typeof a?a.apply(this,arguments):a:f(e);return r(mr.translate(l[0],l[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof i?-i.apply(this,arguments):-i),e,o)}),a)},g.prototype={start:function(t){return 1===++this.active&&(e=this,l.call("start",this,t)),this},zoom:function(e,t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.pointer0&&"touch"!==t&&(this.pointer0[1]=n.invert(this.pointer0[0])),this.pointer1&&"touch"!==t&&(this.pointer1[1]=n.invert(this.pointer1[0])),c=n,l.call("zoom",this,e,t,n),this},end:function(t){return 0===--this.active&&(e=null,l.call("end",this,t)),this}};var y,v=new Set;function b(e){if(v.add(e.pointerId),t.apply(this,arguments)){var n,r=h(this,arguments,1===v.size);e.stopImmediatePropagation();var i=(y=er(this))(e),a=[i,c.invert(i),e.pointerId];r.pointer0?!r.pointer1&&r.pointer0[2]!==a[2]&&(r.pointer1=a):(r.pointer0=a,n=!0),n&&(ai(this),r.start(e))}}function w(t){if(v.has(t.pointerId)&&e&&y){var n=h(this,arguments),i=n.pointer0&&n.pointer0[2]===t.pointerId,a=!i&&n.pointer1&&n.pointer1[2]===t.pointerId;if((i||a)&&"buttons"in t&&!t.buttons)return n.pointer0&&v.delete(n.pointer0[2]),n.pointer1&&v.delete(n.pointer1[2]),void n.end(t);t.preventDefault(),t.stopImmediatePropagation();var s,l,u,f=y(t);if(i?n.pointer0[0]=f:a&&(n.pointer1[0]=f),s=c,n.pointer1){var g=n.pointer0[0],m=n.pointer0[1],b=n.pointer1[0],w=n.pointer1[1],_=(_=b[0]-g[0])*_+(_=b[1]-g[1])*_,k=(k=w[0]-m[0])*k+(k=w[1]-m[1])*k;s=d(s,Math.sqrt(_/k)),l=[(g[0]+b[0])/2,(g[1]+b[1])/2],u=[(m[0]+w[0])/2,(m[1]+w[1])/2]}else{if(!n.pointer0)return;l=n.pointer0[0],u=n.pointer0[1]}n.zoom(t,"touch",r(p(s,l,u),n.extent,o))}}function _(t){if(v.has(t.pointerId)&&(v.delete(t.pointerId),e)){var n=h(this,arguments);t.stopImmediatePropagation(),n.pointer0&&n.pointer0[2]===t.pointerId?delete n.pointer0:n.pointer1&&n.pointer1[2]===t.pointerId&&delete n.pointer1,n.pointer1&&!n.pointer0&&(n.pointer0=n.pointer1,delete n.pointer1),n.pointer0?n.pointer0[1]=c.invert(n.pointer0[0]):n.end(t)}}return u.wheelDelta=function(e){return arguments.length?(i=Je(+e),u):i},u.filter=function(e){return arguments.length?(t=Je(!!e),u):t},u.extent=function(e){return arguments.length?(n=Je([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),u):n},u.scaleExtent=function(e){return arguments.length?(a[0]=+e[0],a[1]=+e[1],u):[a[0],a[1]]},u.translateExtent=function(e){return arguments.length?(o[0][0]=+e[0][0],o[1][0]=+e[1][0],o[0][1]=+e[0][1],o[1][1]=+e[1][1],u):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},u.constrain=function(e){return arguments.length?(r=e,u):r},u.interpolate=function(e){return arguments.length?(s=e,u):s},u._transform=function(e){return arguments.length?(c=e,u):c},fe(u,l,"on")}function av(){var e,t=se("doubleUp");function n(t){return(new Date).getTime()-e.startTime<=500&&Qe(e.startLoc,t)<=20}function r(t){if(!t.ctrlKey&&2!==t.button){var r=[t.clientX,t.clientY];e&&!n(r)&&(e=void 0),e?e.pointerId=t.pointerId:e={startLoc:r,startTime:(new Date).getTime(),upCount:0,pointerId:t.pointerId}}}function i(r){if(!r.ctrlKey&&2!==r.button&&e&&e.pointerId===r.pointerId&&(e.upCount+=1,2===e.upCount)){if(n([r.clientX,r.clientY])){var i=er(this)(r);t.call("doubleUp",this,r,i)}e=void 0}}function a(e){"PointerEvent"in window?e.on("pointerdown.doubleUp",r).on("pointerup.doubleUp",i):e.on("dblclick.doubleUp",(function(e){t.call("doubleUp",this,e,er(this)(e))}))}return a.off=function(e){e.on("pointerdown.doubleUp",null).on("pointerup.doubleUp",null).on("dblclick.doubleUp",null)},fe(a,t,"on")}var F4=256,ov=2,sv=24,Po=Dr(ov,F4),Ro=Dr(sv,F4);function aa(e,t,n){return Math.max(t,Math.min(e,n))}function ql(e){var t,n,r,i,a,o,s,l,c,u,d,p,f=se("move","drawn","crossEditableZoom","hitMinZoom","changeHighlighting","changeAreaFill"),h=e.projection,g=e.curtainProjection,m=$(null),y=$(null),v=$(null),b=$(null),w=[1,1],_=!0,k=!0,x=h.transform(),A=!1,E=0,C=!1,S="PointerEvent"in window?"pointer":"mouse",M=("PointerEvent"in window?iv:Ca)().scaleExtent([Po,Ro]).interpolate(Rn).filter((function(e){if("mousedown"===e.type){for(var t=!1,n=window.__on,r=0;r<n.length;r++){var i=n[r];if("zoom"===i.name&&"mouseup"===i.type){t=!0;break}}if(t){var a=window.CustomEvent;a?a=new a("mouseup"):(a=window.document.createEvent("Event")).initEvent("mouseup",!1,!1),a.view=window,window.dispatchEvent(a)}}return 2!==e.button})).on("zoom.map",(function(t,n,r){var i=t&&t.sourceEvent||t,a=r||t&&t.transform,o=a.x,s=a.y,v=a.k;if(i&&"wheel"===i.type){if(C)return;var w,_,k,S=Bt(),N=i.deltaX,P=i.deltaY,O=o,T=s,F=v;if(1===i.deltaMode){var R=Math.abs(i.deltaY),j=i.deltaY>0?1:-1;P=j*aa(4.000244140625*Math.exp(.75*(R-1)),4.000244140625,350.000244140625),"mac"!==S.os&&(P*=5),w=A?c:x,_=u(i),k=w.invert(_),F=aa(F=w.k*Math.pow(2,-P/500),Po,Ro),O=_[0]-k[0]*F,T=_[1]-k[1]*F}else i._scale?(w=l,_=u(i),k=w.invert(_),F=aa(F=w.k*i._scale,Po,Ro),O=_[0]-k[0]*F,T=_[1]-k[1]*F):i.ctrlKey&&!Q(P)?(P*=6,w=A?c:x,_=u(i),k=w.invert(_),F=aa(F=w.k*Math.pow(2,-P/500),Po,Ro),O=_[0]-k[0]*F,T=_[1]-k[1]*F):(i.altKey||i.shiftKey)&&Q(P)?(w=A?c:x,_=u(i),k=w.invert(_),F=aa(F=w.k*Math.pow(2,-P/500),Po,Ro),O=_[0]-k[0]*F,T=_[1]-k[1]*F):"mac"===S.os&&"Firefox"!==S.browser&&!i.ctrlKey&&Q(N)&&Q(P)&&(k=h.translate(),O=k[0]-N,T=k[1]-P,F=aa(F=h.scale(),Po,Ro));(O!==o||T!==s||F!==v)&&(o=O,s=T,v=F,a=mr.translate(O,T).scale(F),M._transform?M._transform(a):m.node().__zoom=a)}if(x.x===o&&x.y===s&&x.k===v)return;if(Tt(v,F4)<E)return b.interrupt(),f.call("hitMinZoom",this,D),U(D.center(),e.minEditableZoom(),0,!0),I(),void f.call("move",this,D);h.transform(a);var L=D.withinEditableZoom();p!==L&&(void 0!==p&&f.call("crossEditableZoom",this,L),p=L);var z=v/x.k,B=(o/z-x.x)*z,$=(s/z-x.y)*z;function Q(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}e.inIntro()&&g.transform({x:o-B,y:s-$,k:v}),i&&(d=t),A=!0,c=a,wn(y,B,$,z),I(),f.call("move",this,D)})).on("start.map",(function(e){C=e&&("pointerdown"===e.type||e.sourceEvent&&"pointerdown"===e.sourceEvent.type)})).on("end.map",(function(){C=!1})),N=av(),I=dt(F,750);function D(n){m=n,e.on("change.map",R);var c=e.connection();function u(t){var n=e.mode().id;"browse"!==n&&"select"!==n||t&&D.transformEase(t)}c&&c.on("change.map",R),e.history().on("merge.map",(function(){I()})).on("change.map",R).on("undone.map",(function(e,t){u(t.transform)})).on("redone.map",(function(e){u(e.transform)})),e.background().on("change.map",R),e.features().on("redraw.map",R),t.on("change.map",(function(){e.background().updateImagery(),R()})),n.on("wheel.map mousewheel.map",(function(e){e.preventDefault()})).call(M).call(M.transform,h.transform()).on("dblclick.zoom",null),D.supersurface=y=n.append("div").attr("class","supersurface").call(wn,0,0),v=y.append("div").attr("class","layer layer-data"),D.surface=b=v.call(t).selectAll(".surface"),b.call(s.observe).call(N).on(S+"down.zoom",(function(e){d=e,2===e.button&&e.stopPropagation()}),!0).on(S+"up.zoom",(function(e){d=e,T()&&R()})).on(S+"move.map",(function(e){d=e})).on(S+"over.vertices",(function(t){if(D.editableDataEnabled()&&!A){var n=t.target.__data__;b.call(r.drawHover,e.graph(),n,D.extent()),f.call("drawn",this,{full:!1})}})).on(S+"out.vertices",(function(t){if(D.editableDataEnabled()&&!A){var n=t.relatedTarget&&t.relatedTarget.__data__;b.call(r.drawHover,e.graph(),n,D.extent()),f.call("drawn",this,{full:!1})}}));var p=Bt();"GestureEvent"in window&&!p.isMobileWebKit&&b.on("gesturestart.surface",(function(e){e.preventDefault(),l=h.transform()})).on("gesturechange.surface",O),Q(),N.on("doubleUp.map",(function(e,t){if(_&&("object"!=typeof e.target.__data__||$(e.target).classed("fill"))){var n=e.shiftKey,r=h.transform(),i=r.invert(t);(r=r.scale(n?.5:2)).x=t[0]-i[0]*r.k,r.y=t[1]-i[1]*r.k,D.transformEase(r)}})),e.on("enter.map",(function(){if(D.editableDataEnabled(!0)&&!A){var t=e.graph(),n={};e.selectedIDs().forEach((function(e){var r=t.hasEntity(e);r&&(n[r.id]=r,"node"===r.type&&t.parentWays(r).forEach((function(e){n[e.id]=e})))}));var s=Object.values(n),l=function(e){return e.id in n};s=e.features().filter(s,t),b.call(r.drawSelected,t,D.extent()).call(i,t,s,l).call(a,t,s,l).call(o,t,s,l,D.trimmedExtent()),f.call("drawn",this,{full:!1}),I()}})),D.dimensions(Qr(n))}function P(){return[w[0]/2,w[1]/2]}function O(e){var t=e;t.preventDefault();var n={deltaMode:0,deltaY:1,clientX:t.clientX,clientY:t.clientY,screenX:t.screenX,screenY:t.screenY,x:t.x,y:t.y},r=new WheelEvent("wheel",n);r._scale=t.scale,r._rotation=t.rotation,m.node().dispatchEvent(r)}function T(){return!!A&&(wn(y,0,0),A=!1,e.inIntro()&&g.transform(h.transform()),!0)}function F(l,c){if(!b.empty()&&k){T()&&(l=c=void 0);var u=D.zoom(),d=String(~~u);b.attr("data-zoom")!==d&&b.attr("data-zoom",d);var p=D.center()[1],g=h2().domain([-60,0,60]).range([17,18.5,17]).clamp(!0);return b.classed("low-zoom",u<=g(p)),l||(y.call(e.background()),v.call(t)),D.editableDataEnabled()||D.isInWideSelection()?(e.loadTiles(h),function(t,l){var c,u,d,p=e.mode(),h=e.graph(),g=e.features(),m=e.history().intersects(D.extent()),y=!1,v=!0;if(D.isInWideSelection())c=[],xo(p.selectedIDs(),e.graph()).forEach((function(t){var n=e.hasEntity(t);n&&c.push(n)})),y=!0,d=Je(!0),v=!1;else if(t){var _=t.complete(D.extent());c=Object.values(_).filter(Boolean),u=new Set(Object.keys(_)),d=function(e){return u.has(e.id)},g.clear(c)}else g.gatherStats(m,h,w)&&(l=void 0),l?(c=e.history().intersects(D.extent().intersection(l)),u=new Set(c.map((function(e){return e.id}))),d=function(e){return u.has(e.id)}):(c=m,y=!0,d=Je(!0));v?c=g.filter(c,h):e.features().resetStats(),p&&"select"===p.id&&b.call(r.drawSelected,h,D.extent()),b.call(r,h,c,d,D.extent(),y).call(i,h,c,d).call(a,h,c,d).call(o,h,c,d,D.trimmedExtent()).call(s,h,c,d,w,y).call(n,h,c,d),f.call("drawn",this,{full:!0})}(l,c)):function(){e.features().resetStats(),b.selectAll(".layer-osm *").remove(),b.selectAll(".layer-touch:not(.markers) *").remove();var t=e.mode();t&&!{browse:!0,save:!0,"select-note":!0,"select-data":!0,"select-error":!0}[t.id]&&e.enter(be(e)),f.call("drawn",this,{full:!0})}(),x=h.transform(),D}}D.init=function(){t=A4(h,e),n=Ul(h,e),r=C4(h,e),i=S4(h,e),a=Fl(h,e),o=Bl(h,e),s=Nl(h,e)};var R=function(e,t){!e&&!t&&I.cancel(),F(e,t)};function j(e,t,n){var r=h.transform();return!(!n&&e.k===r.k&&e.x===r.x&&e.y===r.y)&&(t?m.transition().duration(t).on("start",(function(){D.startEase()})).call(M.transform,mr.translate(e.x,e.y).scale(e.k)):(h.transform(e),x=e,m.call(M.transform,x)),!0)}function U(e,t,n,r){var i=D.center(),a=D.zoom();if(e[0]===i[0]&&e[1]===i[1]&&t===a&&!r)return!1;var o=Jr().transform(h.transform()),s=aa(Dr(t,F4),Po,Ro);o.scale(s);var l=o.translate(),c=o(e),u=P();return l[0]+=u[0]-c[0],l[1]+=u[1]-c[1],j(mr.translate(l[0],l[1]).scale(s),n,r)}function L(e){U(D.center(),~~D.zoom()+e,250,!0)}function z(e){U(D.center(),~~D.zoom()-e,250,!0)}function B(e,t){var n=h([e[0][0],e[1][1]]),r=h([e[1][0],e[0][1]]),i=(r[0]-n[0])/t[0],a=(r[1]-n[1])/t[1],o=Math.log(Math.abs(i))/Math.LN2,s=Math.log(Math.abs(a))/Math.LN2;return D.zoom()-Math.max(o,s)}function Q(){var e=D.activeAreaFill();D.areaFillOptions.forEach((function(t){b.classed("fill-"+t,Boolean(t===e))}))}return D.lastPointerEvent=function(){return d},D.mouse=function(e){var t=e||d;if(t){for(var n;n=t.sourceEvent;)t=n;return u(t)}return null},D.mouseCoordinates=function(){var e=D.mouse()||P();return h.invert(e)},D.dblclickZoomEnable=function(e){return arguments.length?(_=e,D):_},D.redrawEnable=function(e){return arguments.length?(k=e,D):k},D.isTransformed=function(){return A},D.pan=function(e,t){var n=h.translate(),r=h.scale();return n[0]+=e[0],n[1]+=e[1],t?m.transition().duration(t).on("start",(function(){D.startEase()})).call(M.transform,mr.translate(n[0],n[1]).scale(r)):(h.translate(n),x=h.transform(),m.call(M.transform,x),f.call("move",this,D),R()),D},D.dimensions=function(n){return arguments.length?(w=n,t.dimensions(w),e.background().dimensions(w),h.clipExtent([[0,0],w]),u=er(y.node()),I(),D):w},D.zoomIn=function(){L(1)},D.zoomInFurther=function(){L(4)},D.canZoomIn=function(){return D.zoom()<sv},D.zoomOut=function(){z(1)},D.zoomOutFurther=function(){z(4)},D.canZoomOut=function(){return D.zoom()>ov},D.center=function(e){return arguments.length?(U(e,D.zoom())&&f.call("move",this,D),I(),D):h.invert(P())},D.unobscuredCenterZoomEase=function(e,t){var n=D.unobscuredOffsetPx(),r=Jr().transform(h.transform());r.scale(Dr(t,F4));var i=r(e),a=[i[0]+n[0],i[1]+n[1]],o=r.invert(a);D.centerZoomEase(o,t)},D.unobscuredOffsetPx=function(){var t=e.container().select(".map-panes .map-pane.shown");return t.empty()?[0,0]:[t.node().offsetWidth/2,0]},D.zoom=function(t){return arguments.length?(t<E&&(b.interrupt(),f.call("hitMinZoom",this,D),t=e.minEditableZoom()),U(D.center(),t)&&f.call("move",this,D),I(),D):Math.max(Tt(h.scale(),F4),0)},D.centerZoom=function(e,t){return U(e,t)&&f.call("move",this,D),I(),D},D.zoomTo=function(t){var n=t.extent(e.graph());if(!isFinite(n.area()))return D;var r=aa(D.trimmedExtentZoom(n),0,20);return D.centerZoom(n.center(),r)},D.centerEase=function(e,t){return t=t||250,U(e,D.zoom(),t),D},D.zoomEase=function(e,t){return t=t||250,U(D.center(),e,t,!1),D},D.centerZoomEase=function(e,t,n){return U(e,t,n=n||250,!1),D},D.transformEase=function(e,t){return j(e,t=t||250,!1),D},D.zoomToEase=function(t,n){var r;if(Array.isArray(t)?t.forEach((function(t){var n=t.extent(e.graph());r=r?r.extend(n):n})):r=t.extent(e.graph()),!isFinite(r.area()))return D;var i=aa(D.trimmedExtentZoom(r),0,20);return D.centerZoomEase(r.center(),i,n)},D.startEase=function(){return nv(b,S+"down.ease",(function(){D.cancelEase()})),D},D.cancelEase=function(){return m.interrupt(),D},D.extent=function(e){if(!arguments.length)return new he(h.invert([0,w[1]]),h.invert([w[0],0]));var t=he(e);D.centerZoom(t.center(),D.extentZoom(t))},D.trimmedExtent=function(e){if(!arguments.length){var t=71,n=30,r=10;return new he(h.invert([r,w[1]-n-r]),h.invert([w[0]-r,t+r]))}var i=he(e);D.centerZoom(i.center(),D.trimmedExtentZoom(i))},D.extentZoom=function(e){return B(he(e),w)},D.trimmedExtentZoom=function(e){var t=[w[0]-40,w[1]-120];return B(he(e),t)},D.withinEditableZoom=function(){return D.zoom()>=e.minEditableZoom()},D.isInWideSelection=function(){return!D.withinEditableZoom()&&e.selectedIDs().length},D.editableDataEnabled=function(t){var n=e.layers().layer("osm");return!(!n||!n.enabled())&&(t||D.withinEditableZoom())},D.notesEditable=function(){var t=e.layers().layer("notes");return!(!t||!t.enabled())&&D.withinEditableZoom()},D.minzoom=function(e){return arguments.length?(E=e,D):E},D.toggleHighlightEdited=function(){b.classed("highlight-edited",!b.classed("highlight-edited")),D.pan([0,0]),f.call("changeHighlighting",this)},D.areaFillOptions=["wireframe","partial","full"],D.activeAreaFill=function(e){return arguments.length?(ce("area-fill",e),"wireframe"!==e&&ce("area-fill-toggle",e),Q(),D.pan([0,0]),f.call("changeAreaFill",this),D):ce("area-fill")||"partial"},D.toggleWireframe=function(){var e=D.activeAreaFill();e="wireframe"===e?ce("area-fill-toggle")||"partial":"wireframe",D.activeAreaFill(e)},D.layers=()=>t,D.doubleUpHandler=function(){return N},fe(D,f,"on")}function Vl(e){var t,n,r,i=se("change"),a=["streetside","mapillary","mapillary-map-features","mapillary-signs","kartaview"],o=["flat","panoramic"],s=o.slice(),l=["fromDate","toDate"];function c(){}function u(){if(!window.mocha){var t=Ut(window.location.hash),n=e.layers().all().filter((function(e){return-1!==a.indexOf(e.id)&&e.layer&&e.layer.supported()&&e.layer.enabled()})).map((function(e){return e.id}));n.length?t.photo_overlay=n.join(","):delete t.photo_overlay,window.location.replace("#"+$e(t,!0))}}function d(e,t){if(!window.mocha){var n=Ut(window.location.hash);if(t){if(n[e]===t)return;n[e]=t}else{if(!(e in n))return;delete n[e]}window.location.replace("#"+$e(n,!0))}}function p(t){var n=e.layers().layer(t);return n&&n.supported()&&n.enabled()}return c.overlayLayerIDs=function(){return a},c.allPhotoTypes=function(){return o},c.dateFilters=function(){return l},c.dateFilterValue=function(e){return e===l[0]?t:n},c.setDateFilter=function(e,r,a){var o,s=r&&new Date(r);(r=s&&!isNaN(s)?s.toISOString().substr(0,10):null,e===l[0]&&((t=r)&&n&&new Date(n)<new Date(t)&&(n=t)),e===l[1]&&(n=r,t&&n&&new Date(n)<new Date(t)&&(t=n)),i.call("change",this),a)&&((t||n)&&(o=(t||"")+"_"+(n||"")),d("photo_dates",o))},c.setUsernameFilter=function(e,t){var n;(e&&"string"==typeof e&&(e=e.replace(/;/g,",").split(",")),e&&((e=e.map(e=>e.trim()).filter(Boolean)).length||(e=null)),r=e,i.call("change",this),t)&&(r&&(n=r.join(",")),d("photo_username",n))},c.shouldFilterByDate=function(){return p("mapillary")||p("kartaview")||p("streetside")},c.shouldFilterByPhotoType=function(){return p("mapillary")||p("streetside")&&p("kartaview")},c.shouldFilterByUsername=function(){return!p("mapillary")&&p("kartaview")&&!p("streetside")},c.showsPhotoType=function(e){return!c.shouldFilterByPhotoType()||-1!==s.indexOf(e)},c.showsFlat=function(){return c.showsPhotoType("flat")},c.showsPanoramic=function(){return c.showsPhotoType("panoramic")},c.fromDate=function(){return t},c.toDate=function(){return n},c.togglePhotoType=function(e){var t=s.indexOf(e);return-1!==t?s.splice(t,1):s.push(e),i.call("change",this),c},c.usernames=function(){return r},c.init=function(){var t=Ut(window.location.hash);if(t.photo_dates){var n=/^(.*)[\u2013_](.*)$/g.exec(t.photo_dates.trim());this.setDateFilter("fromDate",n&&n.length>=2&&n[1],!1),this.setDateFilter("toDate",n&&n.length>=3&&n[2],!1)}(t.photo_username&&this.setUsernameFilter(t.photo_username,!1),t.photo_overlay)&&t.photo_overlay.replace(/;/g,",").split(",").forEach((function(t){"openstreetcam"===t&&(t="kartaview");var n=-1!==a.indexOf(t)&&e.layers().layer(t);n&&!n.enabled()&&n.enabled(!0)}));if(t.photo){var r=t.photo.replace(/;/g,",").split(","),i=r.length&&r[0].trim(),o=/(.*)\/(.*)/g.exec(i);if(o&&o.length>=3){var s=o[1];"openstreetcam"===s&&(s="kartaview");var l=o[2],c=ne[s];if(c&&c.ensureViewerLoaded){var d=-1!==a.indexOf(s)&&e.layers().layer(s);d&&!d.enabled()&&d.enabled(!0);var p=Date.now();c.on("loadedImages.rendererPhotos",(function(){Date.now()-p>45e3?c.on("loadedImages.rendererPhotos",null):!c.cachedImage(l)||(c.on("loadedImages.rendererPhotos",null),c.ensureViewerLoaded(e).then((function(){c.selectImage(e,l).showViewer(e)})))}))}}}e.layers().on("change.rendererPhotos",u)},fe(c,i,"on")}function jl(e){let t=e.connection();function n(e){!t||(t.authenticated()?t.userDetails((t,n)=>r(e,n)):r(e,null))}function r(e,n){let r=e.select(".userInfo"),i=e.select(".loginLogout");if(n){r.html("").classed("hide",!1);let e=r.append("a").attr("href",t.userURL(n.display_name)).attr("target","_blank");n.image_url?e.append("img").attr("class","icon pre-text user-icon").attr("src",n.image_url):e.call(re("#iD-icon-avatar","pre-text light")),e.append("span").attr("class","label").html(n.display_name),i.classed("hide",!1).select("a").text(C("logout")).on("click",e=>{e.preventDefault(),t.logout(),function(){if(!t)return;let e=t.getUrlRoot()+"/logout?referer=%2Flogin",n=600,r=550,i=[["width",n],["height",r],["left",window.screen.width/2-n/2],["top",window.screen.height/2-r/2]].map(e=>e.join("=")).join(",");window.open(e,"_blank",i)}()})}else r.html("").classed("hide",!0),i.classed("hide",!1).select("a").text(C("login")).on("click",e=>{e.preventDefault(),t.authenticate()})}return function(e){!t||(e.append("li").attr("class","userInfo").classed("hide",!0),e.append("li").attr("class","loginLogout").classed("hide",!0).append("a").attr("href","#"),t.on("change.account",()=>n(e)),n(e))}}function Ql(e){let t=$(null);function n(t,n,r){let i=t.selectAll(".".concat(r)).data([0]);i=i.enter().append("div").attr("class",r).merge(i);let a=i.selectAll(".attribution").data(n,e=>e.id);a.exit().remove(),a=a.enter().append("span").attr("class","attribution").each((e,t,n)=>{let r=$(n[t]);if(e.terms_html)return void r.html(e.terms_html);e.terms_url&&(r=r.append("a").attr("href",e.terms_url).attr("target","_blank"));let i=e.id.replace(/\./g,"<TX_DOT>"),a=C("imagery.".concat(i,".attribution.text"),{default:e.terms_text||e.id||e.name()});e.icon&&!e.overlay&&r.append("img").attr("class","source-image").attr("src",e.icon),r.append("span").attr("class","attribution-text").text(a)}).merge(a);let o=a.selectAll(".copyright-notice").data(t=>{let n=t.copyrightNotices(e.map().zoom(),e.map().extent());return n?[n]:[]});o.exit().remove(),o=o.enter().append("span").attr("class","copyright-notice").merge(o),o.text(String)}function r(){let r=e.background().baseLayerSource();t.call(n,r?[r]:[],"base-layer-attribution");let i=e.map().zoom(),a=e.background().overlayLayerSources()||[];t.call(n,a.filter(e=>e.validZoom(i)),"overlay-layer-attribution")}return function(n){t=n,e.background().on("change.attribution",r),e.map().on("move.attribution",dt(r,400,{leading:!1})),r()}}function $l(e){var t=e.connection(),n=ft((function(){a()}),1e3),r=!1,i=$(null);function a(){if(t){var n={};e.history().intersects(e.map().extent()).forEach((function(e){e&&e.user&&(n[e.user]=!0)}));var a=Object.keys(n),o=a.slice(0,a.length>4?3:4);i.html("").call(re("#iD-icon-nearby","pre-text light"));var s=$(document.createElement("span"));if(s.selectAll().data(o).enter().append("a").attr("class","user-link").attr("href",(function(e){return t.userURL(e)})).attr("target","_blank").text(String),a.length>4){var l=$(document.createElement("span")),c=a.length-4+1;l.append("a").attr("target","_blank").attr("href",(function(){return t.changesetsURL(e.map().center(),e.map().zoom())})).text(c),i.append("span").html(C.html("contributors.truncated_list",{n:c,users:{html:s.html()},count:{html:l.html()}}))}else i.append("span").html(C.html("contributors.list",{users:{html:s.html()}}));a.length?r&&i.transition().style("opacity",1):(r=!0,i.transition().style("opacity",0))}}return function(r){!t||(i=r,a(),t.on("loaded.contributors",n),e.map().on("move.contributors",n))}}var aC=0;function Gl(e){var t,n=aC++,r=$(null),i=function(e){r=e,e.each(p)},a=Je(!1),o=Je("top"),s=Je("center"),l=Je($(null)),c=Je(""),u=Je(!0),d="PointerEvent"in window?"pointer":"mouse";function p(){var t=$(this),r=a.apply(this,arguments),i=t.selectAll(".popover-"+n).data([0]),o=i.enter().append("div").attr("class","popover popover-"+n+" "+(e||"")).classed("arrowed",u.apply(this,arguments));o.append("div").attr("class","popover-arrow"),o.append("div").attr("class","popover-inner"),i=o.merge(i),r&&i.classed("fade",!0);var s,l=c.apply(this,arguments);"hover"===l?t.on(d+"enter.popover",(function(e){if(e.pointerType){if("mouse"!==e.pointerType)return void(s=e.timeStamp);if(s&&e.timeStamp-s<1500)return}0===e.buttons&&f.apply(this,arguments)})).on(d+"leave.popover",(function(){m.apply(this,arguments)})).on("focus.popover",(function(){f.apply(this,arguments)})).on("blur.popover",(function(){m.apply(this,arguments)})):"clickFocus"===l&&(t.on(d+"down.popover",(function(e){e.preventDefault(),e.stopPropagation()})).on(d+"up.popover",(function(e){e.preventDefault(),e.stopPropagation()})).on("click.popover",y),i.attr("tabindex",0).on("blur.popover",(function(){t.each((function(){m.apply(this,arguments)}))})))}function f(){var e=$(this),t=e.selectAll(".popover-"+n);t.empty()&&(e.call(i.destroy),e.each(p),t=e.selectAll(".popover-"+n)),t.classed("in",!0);var r=c.apply(this,arguments);"clickFocus"===r&&(e.classed("active",!0),t.node().focus()),e.each(h)}function h(){var e=$(this);t&&e.selectAll(".popover-"+n+" > .popover-inner").call(t.apply(this,arguments)),g.apply(this,arguments),g.apply(this,arguments),g.apply(this,arguments)}function g(){var e=$(this),t=e.selectAll(".popover-"+n),r=l&&l.apply(this,arguments),i=r&&!r.empty()&&r.node(),a=i?i.scrollLeft:0,c=i?i.scrollTop:0,u=o.apply(this,arguments);t.classed("left",!1).classed("right",!1).classed("top",!1).classed("bottom",!1).classed(u,!0);var d=s.apply(this,arguments),p=.5;"leading"===d?p=0:"trailing"===d&&(p=1);var f,h=b(e.node()),g=b(t.node());switch(u){case"top":f={x:h.x+(h.w-g.w)*p,y:h.y-g.h};break;case"bottom":f={x:h.x+(h.w-g.w)*p,y:h.y+h.h};break;case"left":f={x:h.x-g.w,y:h.y+(h.h-g.h)*p};break;case"right":f={x:h.x+h.w,y:h.y+(h.h-g.h)*p}}if(f){if(i&&("top"===u||"bottom"===u)){var m=f.x;f.x+g.w>i.offsetWidth-10?f.x=i.offsetWidth-10-g.w:f.x<10&&(f.x=10);var y=e.selectAll(".popover-"+n+" > .popover-arrow"),v=Math.min(Math.max(g.w/2-(f.x-m),10),g.w-10);y.style("left",~~v+"px")}t.style("left",~~f.x+"px").style("top",~~f.y+"px")}else t.style("left",null).style("top",null);function b(e){var t=$(e).style("position");return"absolute"===t||"static"===t?{x:e.offsetLeft-a,y:e.offsetTop-c,w:e.offsetWidth,h:e.offsetHeight}:{x:0,y:0,w:e.offsetWidth,h:e.offsetHeight}}}function m(){var e=$(this);"clickFocus"===c.apply(this,arguments)&&e.classed("active",!1),e.selectAll(".popover-"+n).classed("in",!1)}function y(){$(this).select(".popover-"+n).classed("in")?m.apply(this,arguments):f.apply(this,arguments)}return i.displayType=function(e){return arguments.length?(c=Je(e),i):c},i.hasArrow=function(e){return arguments.length?(u=Je(e),i):u},i.placement=function(e){return arguments.length?(o=Je(e),i):o},i.alignment=function(e){return arguments.length?(s=Je(e),i):s},i.scrollContainer=function(e){return arguments.length?(l=Je(e),i):l},i.content=function(e){return arguments.length?(t=e,i):t},i.isShown=function(){var e=r.select(".popover-"+n);return!e.empty()&&e.classed("in")},i.show=function(){r.each(f)},i.updateContent=function(){r.each(h)},i.hide=function(){r.each(m)},i.toggle=function(){r.each(y)},i.destroy=function(e,t){t=t||".popover-"+n,e.on(d+"enter.popover",null).on(d+"leave.popover",null).on(d+"up.popover",null).on(d+"down.popover",null).on("click.popover",null).attr("title",(function(){return this.getAttribute("data-original-title")||this.getAttribute("title")})).attr("data-original-title",null).selectAll(t).remove()},i.destroyAny=function(e){e.call(i.destroy,".popover")},i}function Ee(e){var t=Gl((e||"")+" tooltip").displayType("hover"),n=function(){var e=this.getAttribute("data-original-title");return e||(e=this.getAttribute("title"),this.removeAttribute("title"),this.setAttribute("data-original-title",e),e)},r=Je(null),i=Je(null);return t.title=function(e){return arguments.length?(n=Je(e),t):n},t.heading=function(e){return arguments.length?(r=Je(e),t):r},t.keys=function(e){return arguments.length?(i=Je(e),t):i},t.content((function(){var e=r.apply(this,arguments),t=n.apply(this,arguments),a=i.apply(this,arguments);return function(n){var r=n.selectAll(".tooltip-heading").data(e?[e]:[]);r.exit().remove(),r.enter().append("div").attr("class","tooltip-heading").merge(r).html(e);var i=n.selectAll(".tooltip-text").data(t?[t]:[]);i.exit().remove(),i.enter().append("div").attr("class","tooltip-text").merge(i).html(t);var o=n.selectAll(".keyhint-wrap").data(a&&a.length?[0]:[]);o.exit().remove();var s=o.enter().append("div").attr("class","keyhint-wrap");s.append("span").call(C.append("tooltip_keyhint")),(o=s.merge(o)).selectAll("kbd.shortcut").data(a&&a.length?a:[]).enter().append("kbd").attr("class","shortcut").html((function(e){return e}))}})),t}function Hl(e){var t,n,r=se("toggled"),i=$(null),a=[],o=[0,0],s=[0,0],l="",c=!1,u=10,d=[],p=function(o){var s=l.includes("touch")||l.includes("pen"),u=a.filter((function(e){return!s||!e.mouseOnly}));if(u.length){d=[],c=s;var h=s,g=h?32:34;n=h?52+Math.min(120,6*Math.max.apply(Math,u.map((function(e){return e.title.length})))):44,t=8+u.length*g;var m=(i=o.append("div").attr("class","edit-menu").classed("touch-menu",s).style("padding","4px 0")).selectAll(".edit-menu-item").data(u),y=m.enter().append("button").attr("class",(function(e){return"edit-menu-item edit-menu-item-"+e.id})).style("height",g+"px").on("click",(function(t,n){t.stopPropagation(),n.relatedEntityIds&&We(n.relatedEntityIds(),!1,e),n.disabled()?("touch"===v||"pen"===v)&&e.ui().flash.duration(4e3).iconName("#iD-operation-"+n.id).iconClass("operation disabled").label(n.tooltip)():(("touch"===v||"pen"===v)&&e.ui().flash.duration(2e3).iconName("#iD-operation-"+n.id).iconClass("operation").label(n.annotation()||n.title)(),n(),p.close()),v=null})).on("pointerup",(function(e){v=e.pointerType})).on("pointerdown mousedown",(function(e){e.stopPropagation()})).on("mouseenter.highlight",(function(t,n){!n.relatedEntityIds||$(this).classed("disabled")||We(n.relatedEntityIds(),!0,e)})).on("mouseleave.highlight",(function(t,n){!n.relatedEntityIds||We(n.relatedEntityIds(),!1,e)}));y.each((function(e){var t=Ee().heading(e.title).title(e.tooltip()).keys([e.keys[0]]);d.push(t),$(this).call(t).append("div").attr("class","icon-wrap").call(re(e.icon&&e.icon()||"#iD-operation-"+e.id,"operation"))})),h&&y.append("span").attr("class","label").html((function(e){return e.title})),y.merge(m).classed("disabled",(function(e){return e.disabled()})),f();var v,b=e.projection.scale();e.map().on("move.edit-menu",(function(){b!==e.projection.scale()&&p.close()})).on("drawn.edit-menu",(function(e){e.full&&f()})),r.call("toggled",this,!0)}};function f(){if(i&&!i.empty()){var r=e.projection(s),a=e.surfaceRect();if(r[0]<0||r[0]>a.width||r[1]<0||r[1]>a.height)p.close();else{var o,l=(o=a,"ltr"===le.textDirection()?r[0]+u+n>o.width-35:!(r[0]-u-n<35)),f=[0,0];f[0]=l?-1*(u+n):u,c?r[1]-t<85?f[1]=85-r[1]:f[1]=-t:r[1]+t>a.height-45?f[1]=-r[1]-t+a.height-45:f[1]=0;var h=$t(r,f);i.style("left",h[0]+"px").style("top",h[1]+"px");var g=function(e,t){return"ltr"===le.textDirection()?t||r[0]+u+n+210>e.width-35?"left":"right":!t||r[0]-u-n-210<35?"right":"left"}(a,l);d.forEach((function(e){e.placement(g)}))}}}return p.close=function(){e.map().on("move.edit-menu",null).on("drawn.edit-menu",null),i.remove(),d=[],r.call("toggled",this,!1)},p.anchorLoc=function(t){return arguments.length?(o=t,s=e.projection.invert(o),p):o},p.triggerType=function(e){return arguments.length?(l=e,p):l},p.operations=function(e){return arguments.length?(a=e,p):a},fe(p,r,"on")}function Wl(e){function t(t){var n=e.features(),r=n.stats(),i=0,a=n.hidden().map((function(e){return r[e]?(i+=r[e],C.html("inspector.title_count",{title:{html:C.html("feature."+e+".description")},count:r[e]})):null})).filter(Boolean);if(t.html(""),a.length){var o=Ee().placement("top").title((function(){return a.join("<br/>")}));t.append("a").attr("class","chip").attr("href","#").call(C.append("feature_info.hidden_warning",{count:i})).call(o).on("click",(function(t){o.hide(),t.preventDefault(),e.ui().togglePanes(e.container().select(".map-panes .map-data-pane"))}))}t.classed("hide",!a.length)}return function(n){t(n),e.features().on("change.feature_info",(function(){t(n)}))}}function Kl(e){var t,n=2e3,r="#iD-icon-no",i="disabled",a="";function o(){t&&t.stop(),e.container().select(".main-footer-wrap").classed("footer-hide",!0).classed("footer-show",!1),e.container().select(".flash-wrap").classed("footer-hide",!1).classed("footer-show",!0);var o=e.container().select(".flash-wrap").selectAll(".flash-content").data([0]),s=o.enter().append("div").attr("class","flash-content"),l=s.append("svg").attr("class","flash-icon icon").append("g").attr("transform","translate(10,10)");return l.append("circle").attr("r",9),l.append("use").attr("transform","translate(-7,-7)").attr("width","14").attr("height","14"),s.append("div").attr("class","flash-text"),(o=o.merge(s)).selectAll(".flash-icon").attr("class","icon flash-icon "+(i||"")),o.selectAll(".flash-icon use").attr("xlink:href",r),o.selectAll(".flash-text").attr("class","flash-text").html(a),t=C1((function(){t=null,e.container().select(".main-footer-wrap").classed("footer-hide",!1).classed("footer-show",!0),e.container().select(".flash-wrap").classed("footer-hide",!0).classed("footer-show",!1)}),n),o}return o.duration=function(e){return arguments.length?(n=e,o):n},o.label=function(e){return arguments.length?(a=e,o):a},o.iconName=function(e){return arguments.length?(r=e,o):r},o.iconClass=function(e){return arguments.length?(i=e,o):i},o}function Xl(e){var t=e.container().node();function n(){return t.requestFullscreen?t.requestFullscreen:t.msRequestFullscreen?t.msRequestFullscreen:t.mozRequestFullScreen?t.mozRequestFullScreen:t.webkitRequestFullscreen?t.webkitRequestFullscreen:void 0}function r(e){e.preventDefault(),document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(document.exitFullscreen?document.exitFullscreen:document.msExitFullscreen?document.msExitFullscreen:document.mozCancelFullScreen?document.mozCancelFullScreen:document.webkitExitFullscreen?document.webkitExitFullscreen:void 0).apply(document):n().apply(t)}return function(){if(n()){var t="mac"===Bt().os?[Ne("\u2303\u2318F"),"f11"]:["f11"];e.keybinding().on(t,r)}}}function Yl(e){var t,n,r,i={enableHighAccuracy:!1,timeout:6e3},a=na(e).message(C.html("geolocate.locating")).blocking(!0),o=e.layers().layer("geolocate"),s=$(null);function l(){e.inIntro()||(o.enabled()||a.isShown()?(a.close(),o.enabled(null,!1),f()):(r=setTimeout(d,1e4),e.container().call(a),navigator.geolocation.getCurrentPosition(u,d,i)))}function c(){e.enter(be(e));var r=e.map();o.enabled(t,!0),f(),r.centerZoomEase(n.center(),Math.min(20,r.extentZoom(n)))}function u(e){var r=(t=e).coords;n=he([r.longitude,r.latitude]).padByMeters(r.accuracy),c(),p()}function d(){t?c():e.ui().flash.label(C.html("geolocate.location_unavailable")).iconName("#iD-icon-geolocate")(),p()}function p(){a.close(),r&&clearTimeout(r),r=void 0}function f(){s.classed("active",o.enabled()),s.attr("aria-pressed",o.enabled())}return function(t){!navigator.geolocation||!navigator.geolocation.getCurrentPosition||(s=t.append("button").on("click",l).attr("aria-pressed",!1).call(re("#iD-icon-geolocate","light")).call(Ee().placement("rtl"===le.textDirection()?"right":"left").title(C.html("geolocate.title")).keys([C("geolocate.key")])),e.keybinding().on(C("geolocate.key"),l))}}function H9(e){var t=e.background(),n=null,r={},i=["zoom","vintage","source","description","resolution","accuracy"],a=ft(o,250);function o(a){var l=t.baseLayerSource();if(l){var c=null!==l.id.match(/^DigitalGlobe/i),u=l.label();n!==u&&(n=u,r={}),a.html("");var d=a.append("ul").attr("class","background-info");d.append("li").html(n),i.forEach((function(e){c&&"vintage"===e||d.append("li").attr("class","background-info-list-"+e).classed("hide",!r[e]).call(C.append("info_panels.background."+e,{suffix:":"})).append("span").attr("class","background-info-span-"+e).text(r[e])})),s(a);var p=e.getDebug("tile")?"hide_tiles":"show_tiles";if(a.append("a").call(C.append("info_panels.background."+p)).attr("href","#").attr("class","button button-toggle-tiles").on("click",(function(t){t.preventDefault(),e.setDebug("tile",!e.getDebug("tile")),a.call(o)})),c){var f=l.id+"-vintage",h=e.background().findSource(f),g=e.background().showsLayer(h)?"hide_vintage":"show_vintage";a.append("a").call(C.append("info_panels.background."+g)).attr("href","#").attr("class","button button-toggle-vintage").on("click",(function(t){t.preventDefault(),e.background().toggleOverlayLayer(h),a.call(o)}))}["DigitalGlobe-Premium","DigitalGlobe-Standard"].forEach((function(t){if(l.id!==t){var n=t+"-vintage",r=e.background().findSource(n);e.background().showsLayer(r)&&e.background().toggleOverlayLayer(r)}}))}}var s=ft((function(a){var o=e.container().select(".layer-background img.tile-center");if(!o.empty()){var s=n,l=o.datum(),c=l&&l.length>=3&&l[2]||Math.floor(e.map().zoom()),u=e.map().center();r.zoom=String(c),a.selectAll(".background-info-list-zoom").classed("hide",!1).selectAll(".background-info-span-zoom").text(r.zoom),l&&!(!l.length>=3)&&t.baseLayerSource().getMetadata(u,l,(function(e,t){if(!e&&n===s){var o=t.vintage;r.vintage=o&&o.range||C("info_panels.background.unknown"),a.selectAll(".background-info-list-vintage").classed("hide",!1).selectAll(".background-info-span-vintage").text(r.vintage),i.forEach((function(e){if("zoom"!==e&&"vintage"!==e){var n=t[e];r[e]=n,a.selectAll(".background-info-list-"+e).classed("hide",!n).selectAll(".background-info-span-"+e).text(n)}}))}}))}}),250);var l=function(t){t.call(o),e.map().on("drawn.info-background",(function(){t.call(a)})).on("move.info-background",(function(){t.call(s)}))};return l.off=function(){e.map().on("drawn.info-background",null).on("move.info-background",null)},l.id="background",l.label=C.html("info_panels.background.title"),l.key=C("info_panels.background.key"),l}function W9(e){var t;function n(e){if(!e)return C("info_panels.history.unknown");var t=new Date(e);return isNaN(t.getTime())?C("info_panels.history.unknown"):t.toLocaleString(le.localeCode(),{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}function r(e,n){if(n){e.append("span").attr("class","user-name").text(n);var r=e.append("div").attr("class","links");t&&r.append("a").attr("class","user-osm-link").attr("href",t.userURL(n)).attr("target","_blank").call(C.append("info_panels.history.profile_link")),r.append("a").attr("class","user-hdyc-link").attr("href","https://hdyc.neis-one.org/?"+n).attr("target","_blank").attr("tabindex",-1).text("HDYC")}else e.append("span").call(C.append("info_panels.history.unknown"))}function i(e,n){if(n){e.append("span").attr("class","changeset-id").text(n);var r=e.append("div").attr("class","links");t&&r.append("a").attr("class","changeset-osm-link").attr("href",t.changesetURL(n)).attr("target","_blank").call(C.append("info_panels.history.changeset_link")),r.append("a").attr("class","changeset-osmcha-link").attr("href","https://osmcha.org/changesets/"+n).attr("target","_blank").text("OSMCha"),r.append("a").attr("class","changeset-achavi-link").attr("href","https://overpass-api.de/achavi/?changeset="+n).attr("target","_blank").text("Achavi")}else e.append("span").call(C.append("info_panels.history.unknown"))}function a(n){var r,i,a,l=e.selectedNoteID();t=e.connection(),l&&t?(r=[C.html("note.note")+" "+l],i=t.getNote(l)):(r=e.selectedIDs().filter((function(t){return e.hasEntity(t)}))).length&&(a=e.entity(r[0]));var c=1===r.length?r[0]:null;n.html(""),c?n.append("h4").attr("class","history-heading").html(c):n.append("h4").attr("class","history-heading").call(C.append("info_panels.selected",{n:r.length})),c&&(a?n.call(s,a):i&&n.call(o,i))}function o(e,i){if(i&&!i.isNew()){var a=e.append("ul");a.append("li").call(C.append("info_panels.history.note_comments",{suffix:":"})).append("span").text(i.comments.length),i.comments.length&&(a.append("li").call(C.append("info_panels.history.note_created_date",{suffix:":"})).append("span").text(n(i.comments[0].date)),a.append("li").call(C.append("info_panels.history.note_created_user",{suffix:":"})).call(r,i.comments[0].user)),t&&e.append("a").attr("class","view-history-on-osm").attr("target","_blank").attr("href",t.noteURL(i)).call(re("#iD-icon-out-link","inline")).append("span").call(C.append("info_panels.history.note_link_text"))}else e.append("div").call(C.append("info_panels.history.note_no_history"))}function s(e,a){if(a&&!a.isNew()){var o=e.append("div").attr("class","links");t&&o.append("a").attr("class","view-history-on-osm").attr("href",t.historyURL(a)).attr("target","_blank").call(C.append("info_panels.history.history_link")),o.append("a").attr("class","pewu-history-viewer-link").attr("href","https://pewu.github.io/osm-history/#/"+a.type+"/"+a.osmId()).attr("target","_blank").attr("tabindex",-1).text("PeWu");var s=e.append("ul");s.append("li").call(C.append("info_panels.history.version",{suffix:":"})).append("span").text(a.version),s.append("li").call(C.append("info_panels.history.last_edit",{suffix:":"})).append("span").text(n(a.timestamp)),s.append("li").call(C.append("info_panels.history.edited_by",{suffix:":"})).call(r,a.user),s.append("li").call(C.append("info_panels.history.changeset",{suffix:":"})).call(i,a.changeset)}else e.append("div").call(C.append("info_panels.history.no_history"))}var l=function(t){t.call(a),e.map().on("drawn.info-history",(function(){t.call(a)})),e.on("enter.info-history",(function(){t.call(a)}))};return l.off=function(){e.map().on("drawn.info-history",null),e.on("enter.info-history",null)},l.id="history",l.label=C.html("info_panels.history.title"),l.key=C("info_panels.history.key"),l}var lv=7;function O2(e,t){var n,r=e*(t?3.28084:1);return t?r>=5280?(r/=5280,n="miles"):n="feet":r>=1e3?(r/=1e3,n="kilometers"):n="meters",C("units."+n,{quantity:r.toLocaleString(le.localeCode(),{maximumSignificantDigits:4})})}function cv(e,t){var n,r,i,a=le.localeCode(),o=e*(t?10.7639111056:1),s="",l="";return t?(o>=6969600?(n=o/27878400,s="square_miles"):(n=o,s="square_feet"),o>4356&&o<4356e4&&(r=o/43560,l="acres")):(o>=25e4?(n=o/1e6,s="square_kilometers"):(n=o,s="square_meters"),o>1e3&&o<1e7&&(r=o/1e4,l="hectares")),i=C("units."+s,{quantity:n.toLocaleString(a,{maximumSignificantDigits:4})}),r?C("units.area_pair",{area1:i,area2:C("units."+l,{quantity:r.toLocaleString(a,{maximumSignificantDigits:2})})}):i}function fv(e,t,n){var r=n-t;return((e-t)%r+r)%r+t}function dv(e,t,n){return Math.max(t,Math.min(e,n))}function uv(e,t,n){var r,i=le.localeCode(),a=60*(Math.abs(e)-Math.floor(Math.abs(e))),o=60*(a-Math.floor(a)),s=C("units.arcdegrees",{quantity:Math.floor(Math.abs(e)).toLocaleString(i)});return r=Math.floor(o)>0?s+C("units.arcminutes",{quantity:Math.floor(a).toLocaleString(i)})+C("units.arcseconds",{quantity:Math.round(o).toLocaleString(i)}):Math.floor(a)>0?s+C("units.arcminutes",{quantity:Math.round(a).toLocaleString(i)}):C("units.arcdegrees",{quantity:Math.round(Math.abs(e)).toLocaleString(i)}),0===e?r:C("units.coordinate",{coordinate:r,direction:C("units."+(e>0?t:n))})}function Ha(e){return C("units.coordinate_pair",{latitude:uv(dv(e[1],-90,90),"north","south"),longitude:uv(fv(e[0],-180,180),"east","west")})}function D4(e){return C("units.coordinate_pair",{latitude:dv(e[1],-90,90).toFixed(lv),longitude:fv(e[0],-180,180).toFixed(lv)})}function K9(e){var t="";function n(n){n.html("");var i=n.append("ul"),a=e.map().mouseCoordinates();a.some(isNaN)&&(a=e.map().center()),i.append("li").text(Ha(a)).append("li").text(D4(a)),n.append("div").attr("class","location-info").text(t||" "),r(n,a)}var r=ft((function(e,n){ne.geocoder?ne.geocoder.reverse(n,(function(n,r){t=r?r.display_name:C("info_panels.location.unknown_location"),e.selectAll(".location-info").text(t)})):(t=C("info_panels.location.unknown_location"),e.selectAll(".location-info").text(t))}),250);var i=function(t){t.call(n),e.surface().on(("PointerEvent"in window?"pointer":"mouse")+"move.info-location",(function(){t.call(n)}))};return i.off=function(){e.surface().on(".info-location",null)},i.id="location",i.label=C.html("info_panels.location.title"),i.key=C("info_panels.location.key"),i}function X9(e){function t(e){return 6371007.1809*e}function n(e){return e/(4*Math.PI)*510065621724e3}function r(e){if("LineString"===e.type)return e;var t={type:"LineString",coordinates:[]};return"Polygon"===e.type?t.coordinates=e.coordinates[0]:"MultiPolygon"===e.type&&(t.coordinates=e.coordinates[0][0]),t}var i=!le.usesMetric();function a(o){var s,l,c,u,d,p,f,h,g=e.graph(),m=e.selectedNoteID(),y=ne.osm,v=le.localeCode(),b=0,w=0;if(m&&y){var _=y.getNote(m);s=C.html("note.note")+" "+m,c=_.loc,p="note"}else{var k=e.selectedIDs().filter((function(t){return e.hasEntity(t)})),x=k.map((function(t){return e.entity(t)}));if(s=1===x.length?x[0].id:C.html("info_panels.selected",{n:x.length}),x.length){var A=he();for(var E in x){var S=x[E];if(A._extend(S.extent(g)),"line"===(p=S.geometry(g))||"area"===p)d="relation"===S.type||S.isClosed()&&!S.isDegenerate(),b+=t(a7(r(S.asGeoJSON(g)))),(!(u=(u=Xr(e.projection).centroid(S.asGeoJSON(g)))&&e.projection.invert(u))||!isFinite(u[0])||!isFinite(u[1]))&&(u=S.extent(g).center()),d&&(w+=n(S.area(g)))}x.length>1&&(p=null,d=null,u=null),2===x.length&&"node"===x[0].type&&"node"===x[1].type&&(h=rt(x[0].loc,x[1].loc)),1===x.length&&"node"===x[0].type?c=x[0].loc:f=_t(k,e.graph()).length,!c&&!u&&(l=A.center())}}o.html(""),s&&o.append("h4").attr("class","measurement-heading").html(s);var M,N=o.append("ul");if(p&&N.append("li").call(C.append("info_panels.measurement.geometry",{suffix:":"})).append("span").html(d?C.html("info_panels.measurement.closed_"+p):C.html("geometry."+p)),f&&N.append("li").call(C.append("info_panels.measurement.node_count",{suffix:":"})).append("span").text(f.toLocaleString(v)),w&&N.append("li").call(C.append("info_panels.measurement.area",{suffix:":"})).append("span").text(cv(w,i)),b&&N.append("li").call(C.append("info_panels.measurement."+(d?"perimeter":"length"),{suffix:":"})).append("span").text(O2(b,i)),"number"==typeof h&&N.append("li").call(C.append("info_panels.measurement.distance",{suffix:":"})).append("span").text(O2(h,i)),c&&((M=N.append("li").call(C.append("info_panels.measurement.location",{suffix:":"}))).append("span").text(Ha(c)),M.append("span").text(D4(c))),u&&((M=N.append("li").call(C.append("info_panels.measurement.centroid",{suffix:":"}))).append("span").text(Ha(u)),M.append("span").text(D4(u))),l&&((M=N.append("li").call(C.append("info_panels.measurement.center",{suffix:":"}))).append("span").text(Ha(l)),M.append("span").text(D4(l))),b||w||"number"==typeof h){var I=i?"imperial":"metric";o.append("a").call(C.append("info_panels.measurement."+I)).attr("href","#").attr("class","button button-toggle-units").on("click",(function(e){e.preventDefault(),i=!i,o.call(a)}))}}var o=function(t){t.call(a),e.map().on("drawn.info-measurement",(function(){t.call(a)})),e.on("enter.info-measurement",(function(){t.call(a)}))};return o.off=function(){e.map().on("drawn.info-measurement",null),e.on("enter.info-measurement",null)},o.id="measurement",o.label=C.html("info_panels.measurement.title"),o.key=C("info_panels.measurement.key"),o}var Zl={background:H9,history:W9,location:K9,measurement:X9},Lo;function Jl(e){var t=Object.keys(Zl),n=["measurement"],r={},i={};return t.forEach((function(t){r[t]||(r[t]=Zl[t](e),i[t]=!1)})),function a(o){function s(){var e=t.filter((function(e){return i[e]})).sort(),n=l.selectAll(".panel-container").data(e,(function(e){return e}));n.exit().style("opacity",1).transition().duration(200).style("opacity",0).on("end",(function(e){$(this).call(r[e].off).remove()}));var o=n.enter().append("div").attr("class",(function(e){return"fillD2 panel-container panel-container-"+e}));o.style("opacity",0).transition().duration(200).style("opacity",1);var s=o.append("div").attr("class","panel-title fillD2");s.append("h3").html((function(e){return r[e].label})),s.append("button").attr("class","close").attr("title",C("icons.close")).on("click",(function(e,t){e.stopImmediatePropagation(),e.preventDefault(),a.toggle(t)})).call(re("#iD-icon-close")),o.append("div").attr("class",(function(e){return"panel-content panel-content-"+e})),l.selectAll(".panel-content").each((function(e){$(this).call(r[e])}))}a.toggle=function(r){var a=t.filter((function(e){return i[e]}));r?(i[r]=!i[r],1===a.length&&a[0]===r&&(n=[r]),e.container().select("."+r+"-panel-toggle-item").classed("active",i[r]).select("input").property("checked",i[r])):a.length?(n=a,a.forEach((function(e){i[e]=!1}))):n.forEach((function(e){i[e]=!0})),s()};var l=o.selectAll(".info-panels").data([0]);l=l.enter().append("div").attr("class","info-panels").merge(l),s(),e.keybinding().on(Ne("\u2318"+C("info_panels.key")),(function(e){e.stopImmediatePropagation(),e.preventDefault(),a.toggle()})),t.forEach((function(t){var n=C("info_panels."+t+".key",{default:null});!n||e.keybinding().on(Ne("\u2318\u21e7"+n),(function(e){e.stopImmediatePropagation(),e.preventDefault(),a.toggle(t)}))}))}}function Gn(e,t){var n=t.surfaceRect(),r=t.curtainProjection(e);return{left:r[0]+n.left-40,top:r[1]+n.top-60,width:80,height:90}}function nt(e,t,n){var r;if(e instanceof Array){var i=n.surfaceRect(),a=n.curtainProjection(e);r={left:a[0]+i.left,top:a[1]+i.top}}else r=e;return{left:r.left-t,top:r.top-t,width:(r.width||0)+2*t,height:(r.width||0)+2*t}}function Be(e,t,n){return'<svg class="icon '+(t||"")+'"><use xlink:href="'+e+'"'+(n?' class="'+n+'"':"")+"></use></svg>"}function ae(e,t){if(!Lo)for(var n in Lo={point_icon:Be("#iD-icon-point","inline"),line_icon:Be("#iD-icon-line","inline"),area_icon:Be("#iD-icon-area","inline"),note_icon:Be("#iD-icon-note","inline add-note"),plus:Be("#iD-icon-plus","inline"),minus:Be("#iD-icon-minus","inline"),layers_icon:Be("#iD-icon-layers","inline"),data_icon:Be("#iD-icon-data","inline"),inspect:Be("#iD-icon-inspect","inline"),help_icon:Be("#iD-icon-help","inline"),undo_icon:Be("rtl"===le.textDirection()?"#iD-icon-redo":"#iD-icon-undo","inline"),redo_icon:Be("rtl"===le.textDirection()?"#iD-icon-undo":"#iD-icon-redo","inline"),save_icon:Be("#iD-icon-save","inline"),circularize_icon:Be("#iD-operation-circularize","inline operation"),continue_icon:Be("#iD-operation-continue","inline operation"),copy_icon:Be("#iD-operation-copy","inline operation"),delete_icon:Be("#iD-operation-delete","inline operation"),disconnect_icon:Be("#iD-operation-disconnect","inline operation"),downgrade_icon:Be("#iD-operation-downgrade","inline operation"),extract_icon:Be("#iD-operation-extract","inline operation"),merge_icon:Be("#iD-operation-merge","inline operation"),move_icon:Be("#iD-operation-move","inline operation"),orthogonalize_icon:Be("#iD-operation-orthogonalize","inline operation"),paste_icon:Be("#iD-operation-paste","inline operation"),reflect_long_icon:Be("#iD-operation-reflect-long","inline operation"),reflect_short_icon:Be("#iD-operation-reflect-short","inline operation"),reverse_icon:Be("#iD-operation-reverse","inline operation"),rotate_icon:Be("#iD-operation-rotate","inline operation"),split_icon:Be("#iD-operation-split","inline operation"),straighten_icon:Be("#iD-operation-straighten","inline operation"),leftclick:Be("#iD-walkthrough-mouse-left","inline operation"),rightclick:Be("#iD-walkthrough-mouse-right","inline operation"),mousewheel_icon:Be("#iD-walkthrough-mousewheel","inline operation"),tap_icon:Be("#iD-walkthrough-tap","inline operation"),doubletap_icon:Be("#iD-walkthrough-doubletap","inline operation"),longpress_icon:Be("#iD-walkthrough-longpress","inline operation"),touchdrag_icon:Be("#iD-walkthrough-touchdrag","inline operation"),pinch_icon:Be("#iD-walkthrough-pinch-apart","inline operation"),shift:Ne.display("\u21e7"),alt:Ne.display("\u2325"),return:Ne.display("\u21b5"),esc:C.html("shortcuts.key.esc"),space:C.html("shortcuts.key.space"),add_note_key:C.html("modes.add_note.key"),help_key:C.html("help.key"),shortcuts_key:C.html("shortcuts.toggle.key"),save:C.html("save.title"),undo:C.html("undo.title"),redo:C.html("redo.title"),upload:C.html("commit.save"),point:C.html("modes.add_point.title"),line:C.html("modes.add_line.title"),area:C.html("modes.add_area.title"),note:C.html("modes.add_note.label"),circularize:C.html("operations.circularize.title"),continue:C.html("operations.continue.title"),copy:C.html("operations.copy.title"),delete:C.html("operations.delete.title"),disconnect:C.html("operations.disconnect.title"),downgrade:C.html("operations.downgrade.title"),extract:C.html("operations.extract.title"),merge:C.html("operations.merge.title"),move:C.html("operations.move.title"),orthogonalize:C.html("operations.orthogonalize.title"),paste:C.html("operations.paste.title"),reflect_long:C.html("operations.reflect.title.long"),reflect_short:C.html("operations.reflect.title.short"),reverse:C.html("operations.reverse.title"),rotate:C.html("operations.rotate.title"),split:C.html("operations.split.title"),straighten:C.html("operations.straighten.title"),map_data:C.html("map_data.title"),osm_notes:C.html("map_data.layers.notes.title"),fields:C.html("inspector.fields"),tags:C.html("inspector.tags"),relations:C.html("inspector.relations"),new_relation:C.html("inspector.new_relation"),turn_restrictions:C.html("_tagging.presets.fields.restrictions.label"),background_settings:C.html("background.description"),imagery_offset:C.html("background.fix_misalignment"),start_the_walkthrough:C.html("splash.walkthrough"),help:C.html("help.title"),ok:C.html("intro.ok")})Lo[n]={html:Lo[n]};var r;return r=t?Object.assign(t,Lo):Lo,C.html(e,r).replace(/\`(.*?)\`/g,"<kbd>$1</kbd>")}function pv(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var mv={};function hv(e,t){if(void 0===C(e,{default:void 0})){if(mv.hasOwnProperty(e))return;mv[e]=t;var n=e+": "+t;typeof console<"u"&&console.log(n)}}function gv(e){var t,n=e.tags&&e.tags.name;n&&(t="intro.graph.name."+pv(n),e.tags.name=C(t,{default:n}),hv(t,n));var r=e.tags&&e.tags["addr:street"];if(r){t="intro.graph.name."+pv(r),e.tags["addr:street"]=C(t,{default:r}),hv(t,r);["block_number","city","county","district","hamlet","neighbourhood","postcode","province","quarter","state","subdistrict","suburb"].forEach((function(t){var n="intro.graph."+t,r="addr:"+t,i=e.tags&&e.tags[r],a=C(n,{default:i});a&&(null!==a.match(/^<.*>$/)?delete e.tags[r]:e.tags[r]=a)}))}return e}function vv(e){for(var t=Math.cos(75*Math.PI/180),n=Math.cos(15*Math.PI/180),r=0;r<e.length;r++){var i=e[(r-1+e.length)%e.length],a=e[r],o=x1(i,e[(r+1)%e.length],a),s=Math.abs(o);if(s>t&&s<n)return!1}return!0}function $r(e,t){return e.container().select(".edit-menu .edit-menu-item-"+t)}function on(e,t){var n=rt(e,t);return 0===n?0:n<80?500:1e3}function Ti(e,t){return function(n){n.style("opacity",e?0:1).classed("hide",!1).transition().style("opacity",e?1:0).on("end",(function(){$(this).classed("hide",!e).style("opacity",null),t&&t.apply(this)}))}}function e5(e){var t=$(null),n=$(null),r=$(null);function i(a){function o(){t.attr("width",e.clientWidth).attr("height",e.clientHeight),i.cut(r.datum())}t=a.append("svg").attr("class","curtain").style("top",0).style("left",0),r=t.append("path").attr("x",0).attr("y",0).attr("class","curtain-darkness"),$(window).on("resize.curtain",o),(n=a.append("div").attr("class","tooltip")).append("div").attr("class","popover-arrow"),n.append("div").attr("class","popover-inner"),o()}function a(e){return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}return i.reveal=function(t,r,o){if(o=o||{},"string"==typeof t&&(t=$(t).node()),t&&t.getBoundingClientRect){t=a(t.getBoundingClientRect());var s=e.getBoundingClientRect();t.top-=s.top,t.left-=s.left}var l;if(t&&o.padding&&(t.top-=o.padding,t.left-=o.padding,t.bottom+=o.padding,t.right+=o.padding,t.height+=2*o.padding,t.width+=2*o.padding),o.tooltipBox?("string"==typeof(l=o.tooltipBox)&&(l=$(l).node()),l&&l.getBoundingClientRect&&(l=a(l.getBoundingClientRect()))):l=t,l&&r){-1!==r.indexOf("**")&&(r=(r=0===r.indexOf("<span")?r.replace(/^(<span.*?>)(.+?)(\*\*)/,"$1<span>$2</span>$3"):r.replace(/^(.+?)(\*\*)/,"<span>$1</span>$2")).replace(/\*\*(.*?)\*\*/g,'<span class="instruction">$1</span>')),r=(r=r.replace(/\*(.*?)\*/g,"<em>$1</em>")).replace(/\{br\}/g,"<br/><br/>"),o.buttonText&&o.buttonCallback&&(r+='<div class="button-section"><button href="#" class="button action">'+o.buttonText+"</button></div>");var c="curtain-tooltip popover tooltip arrowed in "+(o.tooltipClass||"");if(n.classed(c,!0).selectAll(".popover-inner").html(r),o.buttonText&&o.buttonCallback)n.selectAll(".button-section .button.action").on("click",(function(e){e.preventDefault(),o.buttonCallback()}));var u,d,p=a(n.node().getBoundingClientRect()),f=e.clientWidth,h=e.clientHeight,g=200;if("intro-mouse"===o.tooltipClass&&(p.height+=80),l.top+l.height>h&&(l.height-=l.top+l.height-h),l.left+l.width>f&&(l.width-=l.left+l.width-f),l.top+l.height<100)u="bottom",d=[l.left+l.width/2-p.width/2,l.top+l.height];else if(l.top>h-140)u="top",d=[l.left+l.width/2-p.width/2,l.top-p.height];else{var m=l.top+l.height/2-p.height/2;"rtl"===le.textDirection()?l.left-g-5<70?(u="right",d=[l.left+l.width+5,m]):(u="left",d=[l.left-g-5,m]):l.left+l.width+5+g>f-70?(u="left",d=[l.left-g-5,m]):(u="right",d=[l.left+l.width+5,m])}(0!==o.duration||!n.classed(u))&&n.call(Ti(!0)),n.style("top",d[1]+"px").style("left",d[0]+"px").attr("class",c+" "+u);var y=0;("left"===u||"right"===u)&&(d[1]<60?y=60-d[1]:d[1]+p.height>h-100&&(y=h-d[1]-p.height-100)),n.selectAll(".popover-inner").style("top",y+"px")}else n.classed("in",!1).call(Ti(!1));return i.cut(t,o.duration),n},i.cut=function(t,n){r.datum(t).interrupt(),(0===n?r:r.transition().duration(n||600).ease(Qs)).attr("d",(function(t){var n=e.clientWidth,r=e.clientHeight,i="M 0,0 L 0,"+r+" L "+n+","+r+"L"+n+",0 Z";return t?i+"M"+t.left+","+t.top+"L"+t.left+","+(t.top+t.height)+"L"+(t.left+t.width)+","+(t.top+t.height)+"L"+(t.left+t.width)+","+t.top+"Z":i}))},i.remove=function(){t.remove(),n.remove(),$(window).on("resize.curtain",null)},i}function yv(e,t){var n=se("done"),r={title:"intro.welcome.title"};function i(){t(".intro-nav-wrap .chapter-welcome",ae("intro.welcome.practice"),{buttonText:C.html("intro.ok"),buttonCallback:a})}function a(){t(".intro-nav-wrap .chapter-welcome",ae("intro.welcome.words"),{buttonText:C.html("intro.ok"),buttonCallback:o})}function o(){n.call("done"),t(".intro-nav-wrap .chapter-navigation",ae("intro.welcome.chapters",{next:C("intro.navigation.title")}))}return r.enter=function(){e.map().centerZoom([-85.63591,41.94285],19),t(".intro-nav-wrap .chapter-welcome",ae("intro.welcome.welcome"),{buttonText:C.html("intro.ok"),buttonCallback:i})},r.exit=function(){e.container().select(".curtain-tooltip.intro-mouse").selectAll(".counter").remove()},r.restart=function(){r.exit(),r.enter()},fe(r,n,"on")}function bv(e,t){var n=se("done"),r=[],i="n2061",a=[-85.63591,41.94285],o="w397",s="n1834",l=[-85.63582,41.94255],c=ve.field("oneway"),u=ve.field("maxspeed"),d={title:"intro.navigation.title"};function p(e,t){r.push(window.setTimeout(e,t))}function f(e){e.stopPropagation(),e.preventDefault()}function h(){var t=e.selectedIDs();return 1===t.length&&t[0]===i}function g(){e.enter(be(e)),e.history().reset("initial");var n=on(a,e.map().center());n&&t(null,null,{duration:0}),e.map().centerZoomEase(a,19,n),p((function(){var n=e.map().center(),r="mouse"===e.lastPointerType()?"drag":"drag_touch",i=ae("intro.navigation.map_info")+"{br}"+ae("intro.navigation."+r);t(".surface",i),e.map().on("drawn.intro",(function(){t(".surface",i,{duration:0})})),e.map().on("move.intro",(function(){var t=e.map().center();(n[0]!==t[0]||n[1]!==t[1])&&(e.map().on("move.intro",null),p((function(){!function(t){e.map().on("move.intro drawn.intro",null),t()}(m)}),3e3))}))}),n+100)}function m(){var n=e.map().zoom(),r=ae("intro.navigation."+("mouse"===e.lastPointerType()?"zoom":"zoom_touch"));t(".surface",r),e.map().on("drawn.intro",(function(){t(".surface",r,{duration:0})})),e.map().on("move.intro",(function(){e.map().zoom()!==n&&(e.map().on("move.intro",null),p((function(){var t;t=y,e.map().on("move.intro drawn.intro",null),t()}),3e3))}))}function y(){var n=function(){var t;t=v,e.map().on("drawn.intro",null),t()};t(".surface",ae("intro.navigation.features"),{buttonText:C.html("intro.ok"),buttonCallback:n}),e.map().on("drawn.intro",(function(){t(".surface",ae("intro.navigation.features"),{duration:0,buttonText:C.html("intro.ok"),buttonCallback:n})}))}function v(){var n=function(){var t;t=b,e.map().on("drawn.intro",null),t()};t(".surface",ae("intro.navigation.points_lines_areas"),{buttonText:C.html("intro.ok"),buttonCallback:n}),e.map().on("drawn.intro",(function(){t(".surface",ae("intro.navigation.points_lines_areas"),{duration:0,buttonText:C.html("intro.ok"),buttonCallback:n})}))}function b(){var n=function(){var t;t=w,e.map().on("drawn.intro",null),t()};t(".surface",ae("intro.navigation.nodes_ways"),{buttonText:C.html("intro.ok"),buttonCallback:n}),e.map().on("drawn.intro",(function(){t(".surface",ae("intro.navigation.nodes_ways"),{duration:0,buttonText:C.html("intro.ok"),buttonCallback:n})}))}function w(){e.enter(be(e)),e.history().reset("initial");var n=e.hasEntity(i);function r(t){e.on("enter.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),t()}n&&(t(null,null,{duration:0}),e.map().centerZoomEase(n.loc,19,500),p((function(){var n=e.hasEntity(i);if(n){var a=Gn(n.loc,e),o="mouse"===e.lastPointerType()?"click_townhall":"tap_townhall";t(a,ae("intro.navigation."+o)),e.map().on("move.intro drawn.intro",(function(){var n=e.hasEntity(i);if(n){var r=Gn(n.loc,e);t(r,ae("intro.navigation."+o),{duration:0})}})),e.on("enter.intro",(function(){h()&&r(_)}))}}),550),e.history().on("change.intro",(function(){e.hasEntity(i)||r(w)})))}function _(){if(!h())return w();var n=e.hasEntity(i);if(!n)return w();var r=Gn(n.loc,e),a=function(){o(k)};function o(t){e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),t()}t(r,ae("intro.navigation.selected_townhall"),{buttonText:C.html("intro.ok"),buttonCallback:a}),e.map().on("move.intro drawn.intro",(function(){var n=e.hasEntity(i);if(n){var r=Gn(n.loc,e);t(r,ae("intro.navigation.selected_townhall"),{duration:0,buttonText:C.html("intro.ok"),buttonCallback:a})}})),e.history().on("change.intro",(function(){e.hasEntity(i)||o(w)}))}function k(){if(!h())return w();e.container().select(".inspector-wrap").on("wheel.intro",f);function n(t){e.on("exit.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),t()}t(".entity-editor-pane",ae("intro.navigation.editor_townhall"),{buttonText:C.html("intro.ok"),buttonCallback:function(){n(x)}}),e.on("exit.intro",(function(){n(w)})),e.history().on("change.intro",(function(){e.hasEntity(i)||n(w)}))}function x(){if(!h())return w();e.container().select(".inspector-wrap .panewrap").style("right","0%"),e.container().select(".inspector-wrap").on("wheel.intro",f);var n=e.entity(e.selectedIDs()[0]),r=ve.match(n,e.graph());function a(t){e.on("exit.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),t()}t(".entity-editor-pane .section-feature-type",ae("intro.navigation.preset_townhall",{preset:r.name()}),{buttonText:C.html("intro.ok"),buttonCallback:function(){a(A)}}),e.on("exit.intro",(function(){a(w)})),e.history().on("change.intro",(function(){e.hasEntity(i)||a(w)}))}function A(){if(!h())return w();e.container().select(".inspector-wrap .panewrap").style("right","0%"),e.container().select(".inspector-wrap").on("wheel.intro",f);function n(t){e.on("exit.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),t()}t(".entity-editor-pane .section-preset-fields",ae("intro.navigation.fields_townhall"),{buttonText:C.html("intro.ok"),buttonCallback:function(){n(E)}}),e.on("exit.intro",(function(){n(w)})),e.history().on("change.intro",(function(){e.hasEntity(i)||n(w)}))}function E(){if(!h())return w();var n=$(".entity-editor-pane button.close svg use").attr("href")||"#iD-icon-close";t(".entity-editor-pane",ae("intro.navigation.close_townhall",{button:{html:Be(n,"inline")}})),e.on("exit.intro",(function(){var t;t=S,e.on("exit.intro",null),e.history().on("change.intro",null),t()})),e.history().on("change.intro",(function(){var e=$(".entity-editor-pane button.close svg use").attr("href")||"#iD-icon-close";t(".entity-editor-pane",ae("intro.navigation.close_townhall",{button:{html:Be(e,"inline")}}),{duration:0})}))}function S(){e.enter(be(e)),e.history().reset("initial");var n=on(l,e.map().center());n&&t(null,null,{duration:0}),e.map().centerZoomEase(l,19,n),p((function(){t(".search-header input",ae("intro.navigation.search_street",{name:C("intro.graph.name.spring-street")})),e.container().select(".search-header input").on("keyup.intro",M)}),n+100)}function M(){var n=e.container().select(".feature-list-item:nth-child(0n+2)"),r=n.select(".entity-name"),i=C("intro.graph.name.spring-street");!r.empty()&&r.html()===i&&(t(n.node(),ae("intro.navigation.choose_street",{name:i}),{duration:300}),e.on("exit.intro",(function(){var t;t=N,e.on("exit.intro",null),e.container().select(".search-header input").on("keydown.intro",null).on("keyup.intro",null),t()})),e.container().select(".search-header input").on("keydown.intro",f,!0).on("keyup.intro",null))}function N(){if(!e.hasEntity(s)||!e.hasEntity(o))return S();var n=function(){i(I)},r=Gn(e.entity(s).loc,e);function i(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),e.history().on("change.intro",null),t()}r.height=500,t(r,ae("intro.navigation.selected_street",{name:C("intro.graph.name.spring-street")}),{duration:600,buttonText:C.html("intro.ok"),buttonCallback:n}),p((function(){e.map().on("move.intro drawn.intro",(function(){var r=e.hasEntity(s);if(r){var i=Gn(r.loc,e);i.height=500,t(i,ae("intro.navigation.selected_street",{name:C("intro.graph.name.spring-street")}),{duration:0,buttonText:C.html("intro.ok"),buttonCallback:n})}}))}),600),e.on("enter.intro",(function(t){if(!e.hasEntity(o))return i(S);var n=e.selectedIDs();("select"!==t.id||!n.length||n[0]!==o)&&e.enter(Ce(e,[o]))})),e.history().on("change.intro",(function(){(!e.hasEntity(s)||!e.hasEntity(o))&&p((function(){i(S)}),300)}))}function I(){var n=$(".entity-editor-pane button.close svg use").attr("href")||"#iD-icon-close";t(".entity-editor-pane",ae("intro.navigation.street_different_fields")+"{br}"+ae("intro.navigation.editor_street",{button:{html:Be(n,"inline")},field1:{html:c.label()},field2:{html:u.label()}})),e.on("exit.intro",(function(){var t;t=D,e.on("exit.intro",null),e.history().on("change.intro",null),t()})),e.history().on("change.intro",(function(){var e=$(".entity-editor-pane button.close svg use").attr("href")||"#iD-icon-close";t(".entity-editor-pane",ae("intro.navigation.street_different_fields")+"{br}"+ae("intro.navigation.editor_street",{button:{html:Be(e,"inline")},field1:{html:c.label()},field2:{html:u.label()}}),{duration:0})}))}function D(){n.call("done"),t(".ideditor",ae("intro.navigation.play",{next:C("intro.points.title")}),{tooltipBox:".intro-nav-wrap .chapter-point",buttonText:C.html("intro.ok"),buttonCallback:function(){t(".ideditor")}})}return d.enter=function(){g()},d.exit=function(){r.forEach(window.clearTimeout),e.on("enter.intro exit.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".search-header input").on("keydown.intro keyup.intro",null)},d.restart=function(){d.exit(),d.enter()},fe(d,n,"on")}function xv(e,t){var n=se("done"),r=[],i=[-85.63279,41.94394],a=[-85.632422,41.944045],o=ve.item("amenity/cafe"),s=null,l={title:"intro.points.title"};function c(e,t){r.push(window.setTimeout(e,t))}function u(e){e.stopPropagation(),e.preventDefault()}function d(){e.enter(be(e)),e.history().reset("initial");var n=on(i,e.map().center());n&&t(null,null,{duration:0}),e.map().centerZoomEase(i,19,n),c((function(){var n=t("button.add-point",ae("intro.points.points_info")+"{br}"+ae("intro.points.add_point"));s=null,n.selectAll(".popover-inner").insert("svg","span").attr("class","tooltip-illustration").append("use").attr("xlink:href","#iD-graphic-points"),e.on("enter.intro",(function(t){"add-point"===t.id&&function(t){e.on("enter.intro",null),t()}(p)}))}),n+100)}function p(){if("add-point"!==e.mode().id)return l.restart();var n=nt(a,150,e),r="mouse"===e.lastPointerType()?"place_point":"place_point_touch";t(n,ae("intro.points."+r)),e.map().on("move.intro drawn.intro",(function(){n=nt(a,150,e),t(n,ae("intro.points."+r),{duration:0})})),e.on("enter.intro",(function(t){if("select"!==t.id)return l.restart();s=e.mode().selectedIDs()[0],function(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),t()}(f)}))}function f(){if("select"!==e.mode().id||!s||!e.hasEntity(s))return d();function n(){var n=e.container().select(".preset-list-item:first-child");n.classed("preset-amenity-cafe")&&(e.container().select(".preset-search-input").on("keydown.intro",u,!0).on("keyup.intro",null),t(n.select(".preset-list-button").node(),ae("intro.points.choose_cafe",{preset:o.name()}),{duration:300}),e.history().on("change.intro",(function(){r(h)})))}function r(t){e.on("enter.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-search-input").on("keydown.intro keyup.intro",null),t()}e.container().select(".inspector-wrap").on("wheel.intro",u),e.container().select(".preset-search-input").on("keydown.intro",null).on("keyup.intro",n),t(".preset-search-input",ae("intro.points.search_cafe",{preset:o.name()})),e.on("enter.intro",(function(i){if(!s||!e.hasEntity(s))return r(d);var a=e.selectedIDs();("select"!==i.id||!a.length||a[0]!==s)&&(e.enter(Ce(e,[s])),e.container().select(".inspector-wrap").on("wheel.intro",u),e.container().select(".preset-search-input").on("keydown.intro",null).on("keyup.intro",n),t(".preset-search-input",ae("intro.points.search_cafe",{preset:o.name()})),e.history().on("change.intro",null))}))}function h(){if("select"!==e.mode().id||!s||!e.hasEntity(s))return d();function n(t){e.on("exit.intro",null),t()}c((function(){t(".entity-editor-pane",ae("intro.points.feature_editor"),{tooltipClass:"intro-points-describe",buttonText:C.html("intro.ok"),buttonCallback:function(){n(g)}})}),400),e.on("exit.intro",(function(){n(y)}))}function g(){if("select"!==e.mode().id||!s||!e.hasEntity(s))return d();e.container().select(".inspector-wrap .panewrap").style("right","0%");var n=ae("intro.points.fields_info")+"{br}"+ae("intro.points.add_name");function r(t){e.on("exit.intro",null),e.history().on("change.intro",null),t()}c((function(){e.entity(s).tags.name?t(".entity-editor-pane",n,{tooltipClass:"intro-points-describe",buttonText:C.html("intro.ok"),buttonCallback:function(){r(m)}}).select(".instruction").style("display","none"):t(".entity-editor-pane",n,{tooltipClass:"intro-points-describe"})}),400),e.history().on("change.intro",(function(){r(m)})),e.on("exit.intro",(function(){r(y)}))}function m(){e.container().select(".inspector-wrap .panewrap").style("right","0%");var n=$(".entity-editor-pane button.close svg use").attr("href")||"#iD-icon-close";e.on("exit.intro",(function(){var t;t=y,e.on("exit.intro",null),t()})),t(".entity-editor-pane",ae("intro.points.add_close",{button:{html:Be(n,"inline")}}))}function y(){if(!s)return l.restart();var n=e.hasEntity(s);if(!n)return l.restart();var r=ve.match(n,e.graph());e.replace(Ba(s,r,o)),e.enter(be(e));var i=on(n.loc,e.map().center());i&&t(null,null,{duration:0}),e.map().centerEase(n.loc,i),c((function(){var r=Gn(n.loc,e);t(r,ae("intro.points.reselect"),{duration:600}),c((function(){e.map().on("move.intro drawn.intro",(function(){var n=e.hasEntity(s);if(!n)return l.restart();var r=Gn(n.loc,e);t(r,ae("intro.points.reselect"),{duration:0})}))}),600),e.on("enter.intro",(function(t){"select"===t.id&&function(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),t()}(v)}))}),i+100)}function v(){if("select"!==e.mode().id||!s||!e.hasEntity(s))return n(y);function n(t){e.on("exit.intro",null),e.history().on("change.intro",null),t()}e.container().select(".inspector-wrap .panewrap").style("right","0%"),e.on("exit.intro",(function(){n(y)})),e.history().on("change.intro",(function(){n(b)})),c((function(){t(".entity-editor-pane",ae("intro.points.update"),{tooltipClass:"intro-points-describe"})}),400)}function b(){if("select"!==e.mode().id||!s||!e.hasEntity(s))return n(y);function n(t){e.on("exit.intro",null),t()}e.container().select(".inspector-wrap .panewrap").style("right","0%"),e.on("exit.intro",(function(){n(w)})),c((function(){t(".entity-editor-pane",ae("intro.points.update_close",{button:{html:Be("#iD-icon-close","inline")}}))}),500)}function w(){if(!s)return l.restart();var n=e.hasEntity(s);if(!n)return l.restart();e.enter(be(e));var r=Gn(n.loc,e),i="mouse"===e.lastPointerType()?"rightclick":"edit_menu_touch";t(r,ae("intro.points."+i),{duration:600}),c((function(){e.map().on("move.intro",(function(){var n=e.hasEntity(s);if(!n)return l.restart();var r=Gn(n.loc,e);t(r,ae("intro.points."+i),{duration:0})}))}),600),e.on("enter.intro",(function(t){if("select"===t.id){var n=e.selectedIDs();1!==n.length||n[0]!==s||c((function(){!$r(e,"delete").node()||function(t){e.on("enter.intro",null),e.map().on("move.intro",null),t()}(_)}),50)}}))}function _(){if(!s)return l.restart();if(!e.hasEntity(s))return l.restart();if(!$r(e,"delete").node())return n(w);function n(t){e.map().on("move.intro",null),e.history().on("change.intro",null),e.on("exit.intro",null),t()}t(".edit-menu",ae("intro.points.delete"),{padding:50}),c((function(){e.map().on("move.intro",(function(){t(".edit-menu",ae("intro.points.delete"),{duration:0,padding:50})}))}),300),e.on("exit.intro",(function(){return s?e.hasEntity(s)?n(w):void 0:l.restart()})),e.history().on("change.intro",(function(e){e.deleted().length&&n(k)}))}function k(){e.history().on("change.intro",(function(){var t;t=x,e.history().on("change.intro",null),t()})),t(".top-toolbar button.undo-button",ae("intro.points.undo"))}function x(){n.call("done"),t(".ideditor",ae("intro.points.play",{next:C("intro.areas.title")}),{tooltipBox:".intro-nav-wrap .chapter-area",buttonText:C.html("intro.ok"),buttonCallback:function(){t(".ideditor")}})}return l.enter=function(){d()},l.exit=function(){r.forEach(window.clearTimeout),e.on("enter.intro exit.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",u),e.container().select(".preset-search-input").on("keydown.intro keyup.intro",null)},l.restart=function(){l.exit(),l.enter()},fe(l,n,"on")}function wv(e,t){var n,r=se("done"),i=[-85.63552,41.94159],a=ve.item("leisure/playground"),o=ve.field("name"),s=ve.field("description"),l=[],c={title:"intro.areas.title"};function u(e,t){l.push(window.setTimeout(e,t))}function d(e){e.stopPropagation(),e.preventDefault()}function p(n,r,i){var a=nt(n,180*Math.pow(2,e.map().zoom()-19.5),e);t(a,r,i)}function f(){e.enter(be(e)),e.history().reset("initial"),n=null;var r=on(i,e.map().center());r&&t(null,null,{duration:0}),e.map().centerZoomEase(i,19,r),u((function(){t("button.add-area",ae("intro.areas.add_playground")).selectAll(".popover-inner").insert("svg","span").attr("class","tooltip-illustration").append("use").attr("xlink:href","#iD-graphic-areas"),e.on("enter.intro",(function(t){"add-area"===t.id&&function(t){e.on("enter.intro",null),t()}(h)}))}),r+100)}function h(){if("add-area"!==e.mode().id)return c.restart();n=null,e.map().zoomEase(19.5,500),u((function(){var t="mouse"===e.lastPointerType()?"starting_node_click":"starting_node_tap",n=ae("intro.areas.start_playground")+ae("intro.areas."+t);p(i,n,{duration:250}),u((function(){e.map().on("move.intro drawn.intro",(function(){p(i,n,{duration:0})})),e.on("enter.intro",(function(t){if("draw-area"!==t.id)return c.restart();!function(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),t()}(g)}))}),250)}),550)}function g(){if("draw-area"!==e.mode().id)return c.restart();function t(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),t()}n=null,p(i,ae("intro.areas.continue_playground"),{duration:250}),u((function(){e.map().on("move.intro drawn.intro",(function(){p(i,ae("intro.areas.continue_playground"),{duration:0})}))}),250),e.on("enter.intro",(function(r){if("draw-area"===r.id){var i=e.hasEntity(e.selectedIDs()[0]);return i&&i.nodes.length>=6?t(m):void 0}return"select"===r.id?(n=e.selectedIDs()[0],t(y)):c.restart()}))}function m(){if("draw-area"!==e.mode().id)return c.restart();n=null;var t=ae("intro.areas.finish_area_"+("mouse"===e.lastPointerType()?"click":"tap"))+ae("intro.areas.finish_playground");p(i,t,{duration:250}),u((function(){e.map().on("move.intro drawn.intro",(function(){p(i,t,{duration:0})}))}),250),e.on("enter.intro",(function(t){if("draw-area"!==t.id)return"select"===t.id?(n=e.selectedIDs()[0],function(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),t()}(y)):c.restart()}))}function y(){if(!n||!e.hasEntity(n))return f();var r=e.selectedIDs();function i(){var n=e.container().select(".preset-list-item:first-child");n.classed("preset-leisure-playground")&&(t(n.select(".preset-list-button").node(),ae("intro.areas.choose_playground",{preset:a.name()}),{duration:300}),e.container().select(".preset-search-input").on("keydown.intro",d,!0).on("keyup.intro",null),e.history().on("change.intro",(function(){o(v)})))}function o(t){e.container().select(".inspector-wrap").on("wheel.intro",null),e.on("enter.intro",null),e.history().on("change.intro",null),e.container().select(".preset-search-input").on("keydown.intro keyup.intro",null),t()}("select"!==e.mode().id||!r.length||r[0]!==n)&&e.enter(Ce(e,[n])),e.container().select(".inspector-wrap").on("wheel.intro",d),u((function(){e.container().select(".inspector-wrap .panewrap").style("right","-100%"),e.container().select(".preset-search-input").on("keydown.intro",null).on("keyup.intro",i),t(".preset-search-input",ae("intro.areas.search_playground",{preset:a.name()}))}),400),e.on("enter.intro",(function(r){if(!n||!e.hasEntity(n))return o(f);var s=e.selectedIDs();("select"!==r.id||!s.length||s[0]!==n)&&(e.enter(Ce(e,[n])),e.container().select(".inspector-wrap .panewrap").style("right","-100%"),e.container().select(".inspector-wrap").on("wheel.intro",d),e.container().select(".preset-search-input").on("keydown.intro",null).on("keyup.intro",i),t(".preset-search-input",ae("intro.areas.search_playground",{preset:a.name()})),e.history().on("change.intro",null))}))}function v(){if(!n||!e.hasEntity(n))return f();var r=e.selectedIDs();if("select"!==e.mode().id||!r.length||r[0]!==n)return y();if(!e.container().select(".form-field-description").empty())return i(w);function i(t){e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".more-fields .combobox-input").on("click.intro",null),e.on("exit.intro",null),t()}e.container().select(".inspector-wrap").on("wheel.intro",d),u((function(){if(e.container().select(".inspector-wrap .panewrap").style("right","0%"),e.entity(n).tags.description)return i(k);var r=e.container().select(".more-fields").node().getBoundingClientRect();if(r.top>300){var a=e.container().select(".entity-editor-pane .inspector-body"),l=a.node().scrollTop,c=l+(r.top-300);a.transition().duration(250).tween("scroll.inspector",(function(){var e=this,t=Gt(l,c);return function(n){e.scrollTop=t(n)}}))}u((function(){t(".more-fields .combobox-input",ae("intro.areas.add_field",{name:{html:o.label()},description:{html:s.label()}}),{duration:300}),e.container().select(".more-fields .combobox-input").on("click.intro",(function(){var t;t=window.setInterval((function(){e.container().select("div.combobox").empty()||(window.clearInterval(t),i(b))}),300)}))}),300)}),400),e.on("exit.intro",(function(){return i(y)}))}function b(){if(!n||!e.hasEntity(n))return f();var r,i=e.selectedIDs();if("select"!==e.mode().id||!i.length||i[0]!==n)return y();if(!e.container().select(".form-field-description").empty())return a(w);if(e.container().select("div.combobox").empty())return a(v);function a(t){r&&window.clearInterval(r),e.on("exit.intro",null),t()}r=window.setInterval((function(){e.container().select("div.combobox").empty()&&(window.clearInterval(r),u((function(){e.container().select(".form-field-description").empty()?a(_):a(w)}),300))}),300),t("div.combobox",ae("intro.areas.choose_field",{field:{html:s.label()}}),{duration:300}),e.on("exit.intro",(function(){return a(y)}))}function w(){if(!n||!e.hasEntity(n))return f();var r=e.selectedIDs();if("select"!==e.mode().id||!r.length||r[0]!==n)return y();if(e.container().select(".inspector-wrap .panewrap").style("right","0%"),e.container().select(".form-field-description").empty())return i(_);function i(t){e.on("exit.intro",null),t()}e.on("exit.intro",(function(){i(k)})),t(".entity-editor-pane",ae("intro.areas.describe_playground",{button:{html:Be("#iD-icon-close","inline")}}),{duration:300})}function _(){if(!n||!e.hasEntity(n))return f();var r=e.selectedIDs();if("select"!==e.mode().id||!r.length||r[0]!==n)return y();function i(t){e.on("exit.intro",null),t()}e.container().select(".inspector-wrap .panewrap").style("right","0%"),t(".entity-editor-pane",ae("intro.areas.retry_add_field",{field:{html:s.label()}}),{buttonText:C.html("intro.ok"),buttonCallback:function(){i(v)}}),e.on("exit.intro",(function(){return i(y)}))}function k(){r.call("done"),t(".ideditor",ae("intro.areas.play",{next:C("intro.lines.title")}),{tooltipBox:".intro-nav-wrap .chapter-line",buttonText:C.html("intro.ok"),buttonCallback:function(){t(".ideditor")}})}return c.enter=function(){f()},c.exit=function(){l.forEach(window.clearTimeout),e.on("enter.intro exit.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-search-input").on("keydown.intro keyup.intro",null),e.container().select(".more-fields .combobox-input").on("click.intro",null)},c.restart=function(){c.exit(),c.enter()},fe(c,r,"on")}function _v(e,t){var n=se("done"),r=[],i=null,a=[-85.6297754121684,41.95805253325314],o=[-85.62975395449628,41.95787501510204],s=[-85.62974496187628,41.95742515554585],l=ve.item("category-road_minor"),c=ve.item("highway/residential"),u="w525",d="n2862",p=[-85.62390110349587,41.95397111462291],f=[-85.623867390213,41.95466987786487],h=[-85.62386254803509,41.95430395953872],g="w522",m="w1",y="n3550",v=null,b=e.entity(y).loc,w=e.entity("n5").loc,_=[-85.6219395542764,41.95228033922477],k=[-85.62219310052491,41.952505413152956],x={title:"intro.lines.title"};function A(e,t){r.push(window.setTimeout(e,t))}function E(e){e.stopPropagation(),e.preventDefault()}function S(){e.enter(be(e)),e.history().reset("initial");var n=on(a,e.map().center());n&&t(null,null,{duration:0}),e.map().centerZoomEase(a,18.5,n),A((function(){t("button.add-line",ae("intro.lines.add_line")).selectAll(".popover-inner").insert("svg","span").attr("class","tooltip-illustration").append("use").attr("xlink:href","#iD-graphic-lines"),e.on("enter.intro",(function(t){"add-line"===t.id&&function(t){e.on("enter.intro",null),t()}(M)}))}),n+100)}function M(){if("add-line"!==e.mode().id)return x.restart();i=null;var n=70*Math.pow(2,e.map().zoom()-18),r=nt(a,n,e);r.height=r.height+100;var o="mouse"===e.lastPointerType()?"start_line":"start_line_tap",s=ae("intro.lines.missing_road")+"{br}"+ae("intro.lines.line_draw_info")+ae("intro.lines."+o);t(r,s),e.map().on("move.intro drawn.intro",(function(){n=70*Math.pow(2,e.map().zoom()-18),(r=nt(a,n,e)).height=r.height+100,t(r,s,{duration:0})})),e.on("enter.intro",(function(t){if("draw-line"!==t.id)return x.restart();!function(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),t()}(N)}))}function N(){if("draw-line"!==e.mode().id)return x.restart();function n(t){e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.on("enter.intro",null),t()}i=e.mode().selectedIDs()[0],e.map().centerEase(o,500),A((function(){var n=200*Math.pow(2,e.map().zoom()-18.5),r=nt(o,n,e);r.height=2*r.height,t(r,ae("intro.lines.intersect",{name:C("intro.graph.name.flower-street")})),e.map().on("move.intro drawn.intro",(function(){n=200*Math.pow(2,e.map().zoom()-18.5),(r=nt(o,n,e)).height=2*r.height,t(r,ae("intro.lines.intersect",{name:C("intro.graph.name.flower-street")}),{duration:0})}))}),550),e.history().on("change.intro",(function(){(function(){var t=i&&e.hasEntity(i);return!!t&&e.graph().childNodes(t).some((function(t){return e.graph().parentWays(t).some((function(e){return"w646"===e.id}))}))})()&&n(D)})),e.on("enter.intro",(function(e){if("draw-line"!==e.id)return"select"===e.id?void n(I):x.restart()}))}function I(){$(window).on("pointerdown.intro mousedown.intro",E,!0);var n=nt(s,80,e);t(n,ae("intro.lines.retry_intersect",{name:C("intro.graph.name.flower-street")})),A(x.restart,3e3)}function D(){if("draw-line"!==e.mode().id)return x.restart();if(!(i&&e.hasEntity(i)))return x.restart();e.map().centerEase(s,500);var n=ae("intro.lines.continue_line")+"{br}"+ae("intro.lines.finish_line_"+("mouse"===e.lastPointerType()?"click":"tap"))+ae("intro.lines.finish_road");t(".surface",n),e.on("enter.intro",(function(t){if("draw-line"!==t.id)return"select"===t.id?function(t){e.on("enter.intro",null),t()}(P):x.restart()}))}function P(){if("select"!==e.mode().id)return x.restart();e.on("exit.intro",(function(){return x.restart()}));var n=e.container().select(".preset-category-road_minor .preset-list-button");if(n.empty())return x.restart();e.container().select(".inspector-wrap").on("wheel.intro",E),A((function(){e.container().select(".inspector-wrap .panewrap").style("right","-100%"),t(n.node(),ae("intro.lines.choose_category_road",{category:l.name()})),n.on("click.intro",(function(){var t;t=O,e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-list-button").on("click.intro",null),e.on("exit.intro",null),t()}))}),400)}function O(){if("select"!==e.mode().id)return x.restart();e.on("exit.intro",(function(){return x.restart()}));var n=e.container().select(".preset-category-road_minor .subgrid");if(n.empty())return x.restart();function r(t){e.container().select(".preset-list-button").on("click.intro",null),e.on("exit.intro",null),t()}n.selectAll(":not(.preset-highway-residential) .preset-list-button").on("click.intro",(function(){r(T)})),n.selectAll(".preset-highway-residential .preset-list-button").on("click.intro",(function(){r(F)})),A((function(){t(n.node(),ae("intro.lines.choose_preset_residential",{preset:c.name()}),{tooltipBox:".preset-highway-residential .preset-list-button",duration:300})}),300)}function T(){if("select"!==e.mode().id)return x.restart();e.on("exit.intro",(function(){return x.restart()})),e.container().select(".inspector-wrap").on("wheel.intro",E),A((function(){var n=e.container().select(".entity-editor-pane .preset-list-button");t(n.node(),ae("intro.lines.retry_preset_residential",{preset:c.name()})),n.on("click.intro",(function(){!function(t){e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-list-button").on("click.intro",null),e.on("exit.intro",null),t()}(P)}))}),500)}function F(){e.on("exit.intro",(function(){var t;t=R,e.on("exit.intro",null),t()})),A((function(){t(".entity-editor-pane",ae("intro.lines.name_road",{button:{html:Be("#iD-icon-close","inline")}}),{tooltipClass:"intro-lines-name_road"})}),500)}function R(){e.history().checkpoint("doneAddLine"),A((function(){t(".surface",ae("intro.lines.did_name_road"),{buttonText:C.html("intro.ok"),buttonCallback:function(){j()}})}),500)}function j(){if(e.history().reset("doneAddLine"),!e.hasEntity(u)||!e.hasEntity(d))return x.restart();var n=on(h,e.map().center());n&&t(null,null,{duration:0}),e.map().centerZoomEase(h,19,n),A((function(){var n=250*Math.pow(2,e.map().zoom()-19),r=nt(h,n,e),i=function(){!function(t){e.map().on("move.intro drawn.intro",null),t()}(U)};t(r,ae("intro.lines.update_line"),{buttonText:C.html("intro.ok"),buttonCallback:i}),e.map().on("move.intro drawn.intro",(function(){var n=250*Math.pow(2,e.map().zoom()-19),r=nt(h,n,e);t(r,ae("intro.lines.update_line"),{duration:0,buttonText:C.html("intro.ok"),buttonCallback:i})}))}),n+100)}function U(){if(e.history().reset("doneAddLine"),!e.hasEntity(u)||!e.hasEntity(d))return x.restart();var n=40*Math.pow(2,e.map().zoom()-19),r=nt(p,n,e),i=ae("intro.lines.add_node"+("mouse"===e.lastPointerType()?"":"_touch"));function a(t){e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.on("enter.intro",null),t()}t(r,i),e.map().on("move.intro drawn.intro",(function(){var n=40*Math.pow(2,e.map().zoom()-19),r=nt(p,n,e);t(r,i,{duration:0})})),e.history().on("change.intro",(function(t){if(!e.hasEntity(u)||!e.hasEntity(d))return a(j);1===t.created().length&&A((function(){a(L)}),500)})),e.on("enter.intro",(function(e){"select"!==e.id&&a(j)}))}function L(){if(!e.hasEntity(u)||!e.hasEntity(d))return a(j);var n=100*Math.pow(2,e.map().zoom()-19),r=nt(f,n,e),i=ae("intro.lines.start_drag_endpoint"+("mouse"===e.lastPointerType()?"":"_touch"))+ae("intro.lines.drag_to_intersection");function a(t){e.map().on("move.intro drawn.intro",null),t()}t(r,i),e.map().on("move.intro drawn.intro",(function(){if(!e.hasEntity(u)||!e.hasEntity(d))return a(j);var n=100*Math.pow(2,e.map().zoom()-19),r=nt(f,n,e);t(r,i,{duration:0}),rt(e.entity(d).loc,f)<=4&&a(z)}))}function z(){if(!e.hasEntity(u)||!e.hasEntity(d))return a(j);var n=100*Math.pow(2,e.map().zoom()-19),r=nt(f,n,e),i=ae("intro.lines.spot_looks_good")+ae("intro.lines.finish_drag_endpoint"+("mouse"===e.lastPointerType()?"":"_touch"));function a(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),t()}t(r,i),e.map().on("move.intro drawn.intro",(function(){if(!e.hasEntity(u)||!e.hasEntity(d))return a(j);var n=100*Math.pow(2,e.map().zoom()-19),r=nt(f,n,e);t(r,i,{duration:0}),rt(e.entity(d).loc,f)>4&&a(L)})),e.on("enter.intro",(function(){a(B)}))}function B(){if(!e.hasEntity(u)||!e.hasEntity(d))return i(j);-1===e.selectedIDs().indexOf(u)&&e.enter(Ce(e,[u]));var n=80*Math.pow(2,e.map().zoom()-19),r=nt(h,n,e);function i(t){e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.on("enter.intro",null),t()}t(r,ae("intro.lines.start_drag_midpoint")),e.map().on("move.intro drawn.intro",(function(){if(!e.hasEntity(u)||!e.hasEntity(d))return i(j);var n=80*Math.pow(2,e.map().zoom()-19),r=nt(h,n,e);t(r,ae("intro.lines.start_drag_midpoint"),{duration:0})})),e.history().on("change.intro",(function(e){1===e.created().length&&i(Q)})),e.on("enter.intro",(function(t){"select"!==t.id&&e.enter(Ce(e,[u]))}))}function Q(){if(!e.hasEntity(u)||!e.hasEntity(d))return a(j);var n=100*Math.pow(2,e.map().zoom()-19),r=nt(f,n,e);r.height+=400;var i=function(){e.history().checkpoint("doneUpdateLine"),a(q)};function a(t){e.map().on("move.intro drawn.intro",null),t()}t(r,ae("intro.lines.continue_drag_midpoint"),{buttonText:C.html("intro.ok"),buttonCallback:i}),e.map().on("move.intro drawn.intro",(function(){if(!e.hasEntity(u)||!e.hasEntity(d))return a(j);var n=100*Math.pow(2,e.map().zoom()-19),r=nt(f,n,e);r.height+=400,t(r,ae("intro.lines.continue_drag_midpoint"),{duration:0,buttonText:C.html("intro.ok"),buttonCallback:i})}))}function q(){if(e.history().reset("doneUpdateLine"),e.enter(be(e)),!e.hasEntity(g)||!e.hasEntity(m)||!e.hasEntity(y))return x.restart();var n=on(_,e.map().center());function r(t){e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),t()}n&&t(null,null,{duration:0}),e.map().centerZoomEase(_,18,n),A((function(){var n=200*Math.pow(2,e.map().zoom()-18),i=nt(_,n,e);i.top-=200,i.height+=400;var a=function(){r(G)};t(i,ae("intro.lines.delete_lines",{street:C("intro.graph.name.12th-avenue")}),{buttonText:C.html("intro.ok"),buttonCallback:a}),e.map().on("move.intro drawn.intro",(function(){var n=200*Math.pow(2,e.map().zoom()-18),r=nt(_,n,e);r.top-=200,r.height+=400,t(r,ae("intro.lines.delete_lines",{street:C("intro.graph.name.12th-avenue")}),{duration:0,buttonText:C.html("intro.ok"),buttonCallback:a})})),e.history().on("change.intro",(function(){A((function(){r(q)}),500)}))}),n+100)}function G(){e.history().reset("doneUpdateLine"),e.enter(be(e)),e.map().centerZoomEase(b,18,500);var n=ae("intro.lines.split_street",{street1:C("intro.graph.name.11th-avenue"),street2:C("intro.graph.name.washington-street")})+ae("intro.lines."+("mouse"===e.lastPointerType()?"rightclick_intersection":"edit_menu_intersection_touch"));function r(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),e.history().on("change.intro",null),t()}A((function(){var i=60*Math.pow(2,e.map().zoom()-18),a=nt(b,i,e);t(a,n),e.map().on("move.intro drawn.intro",(function(){var r=60*Math.pow(2,e.map().zoom()-18),i=nt(b,r,e);t(i,n,{duration:0})})),e.on("enter.intro",(function(t){if("select"===t.id){var n=e.selectedIDs();1!==n.length||n[0]!==y||A((function(){!$r(e,"split").node()||r(W)}),50)}})),e.history().on("change.intro",(function(){A((function(){r(q)}),300)}))}),600)}function W(){if(!e.hasEntity(g)||!e.hasEntity(m)||!e.hasEntity(y))return r(q);if(!$r(e,"split").node())return r(G);var n=!1;function r(t){e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),t()}v=null,t(".edit-menu",ae("intro.lines.split_intersection",{street:C("intro.graph.name.washington-street")}),{padding:50}),e.map().on("move.intro drawn.intro",(function(){var i=$r(e,"split").node();if(!n&&!i)return r(G);t(".edit-menu",ae("intro.lines.split_intersection",{street:C("intro.graph.name.washington-street")}),{duration:0,padding:50})})),e.history().on("change.intro",(function(t){n=!0,A((function(){e.history().undoAnnotation()===C("operations.split.annotation.line",{n:1})?(v=t.created()[0].id,r(H)):(v=null,r(V))}),300)}))}function V(){e.enter(be(e)),e.map().centerZoomEase(b,18,500);var n=function(){var t;t=G,e.map().on("move.intro drawn.intro",null),t()},r=60*Math.pow(2,e.map().zoom()-18),i=nt(b,r,e);t(i,ae("intro.lines.retry_split"),{buttonText:C.html("intro.ok"),buttonCallback:n}),e.map().on("move.intro drawn.intro",(function(){var r=60*Math.pow(2,e.map().zoom()-18),i=nt(b,r,e);t(i,ae("intro.lines.retry_split"),{duration:0,buttonText:C.html("intro.ok"),buttonCallback:n})}))}function H(){if(!v||!e.hasEntity(v)||!e.hasEntity(g)||!e.hasEntity(m)||!e.hasEntity(y))return o(G);var n="intro.lines.did_split_"+(e.selectedIDs().length>1?"multi":"single"),r=C("intro.graph.name.washington-street"),i=200*Math.pow(2,e.map().zoom()-18),a=nt(k,i,e);function o(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),e.history().on("change.intro",null),t()}a.width=a.width/2,t(a,ae(n,{street1:r,street2:r}),{duration:500}),A((function(){e.map().centerZoomEase(k,18,500),e.map().on("move.intro drawn.intro",(function(){var i=200*Math.pow(2,e.map().zoom()-18),a=nt(k,i,e);a.width=a.width/2,t(a,ae(n,{street1:r,street2:r}),{duration:0})}))}),600),e.on("enter.intro",(function(){var t=e.selectedIDs();1===t.length&&t[0]===v&&o(K)})),e.history().on("change.intro",(function(){if(!v||!e.hasEntity(v)||!e.hasEntity(g)||!e.hasEntity(m)||!e.hasEntity(y))return o(G)}))}function K(){if(!v||!e.hasEntity(v)||!e.hasEntity(g)||!e.hasEntity(m)||!e.hasEntity(y))return a(G);var n=e.selectedIDs(),r=-1!==n.indexOf(v),i=-1!==n.indexOf(m);if(r&&i)return a(Y);if(!r&&!i)return a(H);function a(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),e.history().on("change.intro",null),t()}e.map().centerZoomEase(k,18,500),A((function(){var n,i,o,s;r?(n=C("intro.graph.name.washington-street"),i=C("intro.graph.name.12th-avenue"),o=60*Math.pow(2,e.map().zoom()-18),(s=nt(w,o,e)).width*=3):(n=C("intro.graph.name.12th-avenue"),i=C("intro.graph.name.washington-street"),o=200*Math.pow(2,e.map().zoom()-18),(s=nt(k,o,e)).width/=2),t(s,ae("intro.lines.multi_select",{selected:n,other1:i})+" "+ae("intro.lines.add_to_selection_"+("mouse"===e.lastPointerType()?"click":"touch"),{selected:n,other2:i})),e.map().on("move.intro drawn.intro",(function(){r?(n=C("intro.graph.name.washington-street"),i=C("intro.graph.name.12th-avenue"),o=60*Math.pow(2,e.map().zoom()-18),(s=nt(w,o,e)).width*=3):(n=C("intro.graph.name.12th-avenue"),i=C("intro.graph.name.washington-street"),o=200*Math.pow(2,e.map().zoom()-18),(s=nt(k,o,e)).width/=2),t(s,ae("intro.lines.multi_select",{selected:n,other1:i})+" "+ae("intro.lines.add_to_selection_"+("mouse"===e.lastPointerType()?"click":"touch"),{selected:n,other2:i}),{duration:0})})),e.on("enter.intro",(function(){a(K)})),e.history().on("change.intro",(function(){if(!v||!e.hasEntity(v)||!e.hasEntity(g)||!e.hasEntity(m)||!e.hasEntity(y))return a(G)}))}),600)}function Y(){if(!v||!e.hasEntity(v)||!e.hasEntity(g)||!e.hasEntity(m)||!e.hasEntity(y))return a(G);var n=200*Math.pow(2,e.map().zoom()-18),r=nt(k,n,e),i=ae("intro.lines.multi_select_success")+ae("intro.lines.multi_"+("mouse"===e.lastPointerType()?"rightclick":"edit_menu_touch"));function a(t){e.map().on("move.intro drawn.intro",null),e.ui().editMenu().on("toggled.intro",null),e.history().on("change.intro",null),t()}t(r,i),e.map().on("move.intro drawn.intro",(function(){var n=200*Math.pow(2,e.map().zoom()-18),r=nt(k,n,e);t(r,i,{duration:0})})),e.ui().editMenu().on("toggled.intro",(function(t){!t||A((function(){var t=e.selectedIDs();if(2!==t.length||-1===t.indexOf(m)||-1===t.indexOf(v))return 1===t.length&&-1!==t.indexOf(v)?a(K):a(H);$r(e,"delete").node()&&a(X)}),300)})),e.history().on("change.intro",(function(){if(!v||!e.hasEntity(v)||!e.hasEntity(g)||!e.hasEntity(m)||!e.hasEntity(y))return a(G)}))}function X(){if(!v||!e.hasEntity(v)||!e.hasEntity(g)||!e.hasEntity(m)||!e.hasEntity(y))return n(G);if(!$r(e,"delete").node())return n(Y);function n(t){e.map().on("move.intro drawn.intro",null),e.on("exit.intro",null),e.history().on("change.intro",null),t()}t(".edit-menu",ae("intro.lines.multi_delete"),{padding:50}),e.map().on("move.intro drawn.intro",(function(){t(".edit-menu",ae("intro.lines.multi_delete"),{duration:0,padding:50})})),e.on("exit.intro",(function(){if(e.hasEntity(v)||e.hasEntity(m))return n(K)})),e.history().on("change.intro",(function(){e.hasEntity(v)||e.hasEntity(m)?n(Z):n(J)}))}function Z(){e.enter(be(e));var n=200*Math.pow(2,e.map().zoom()-18),r=nt(k,n,e);t(r,ae("intro.lines.retry_delete"),{buttonText:C.html("intro.ok"),buttonCallback:function(){K()}})}function J(){n.call("done"),t(".ideditor",ae("intro.lines.play",{next:C("intro.buildings.title")}),{tooltipBox:".intro-nav-wrap .chapter-building",buttonText:C.html("intro.ok"),buttonCallback:function(){t(".ideditor")}})}return x.enter=function(){S()},x.exit=function(){r.forEach(window.clearTimeout),$(window).on("pointerdown.intro mousedown.intro",null,!0),e.on("enter.intro exit.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-list-button").on("click.intro",null)},x.restart=function(){x.exit(),x.enter()},fe(x,n,"on")}function kv(e,t){var n=se("done"),r=[-85.62815,41.95638],i=[-85.62732,41.95347],a=ve.item("category-building"),o=ve.item("building/house"),s=ve.item("man_made/storage_tank"),l=[],c=null,u=null,d={title:"intro.buildings.title"};function p(e,t){l.push(window.setTimeout(e,t))}function f(e){e.stopPropagation(),e.preventDefault()}function h(n,r,i){var a=nt(n,160*Math.pow(2,e.map().zoom()-20),e);t(a,r,i)}function g(n,r,i){var a=nt(n,190*Math.pow(2,e.map().zoom()-19.5),e);t(a,r,i)}function m(){e.enter(be(e)),e.history().reset("initial"),c=null;var n=on(r,e.map().center());n&&t(null,null,{duration:0}),e.map().centerZoomEase(r,19,n),p((function(){t("button.add-area",ae("intro.buildings.add_building")).selectAll(".popover-inner").insert("svg","span").attr("class","tooltip-illustration").append("use").attr("xlink:href","#iD-graphic-buildings"),e.on("enter.intro",(function(t){"add-area"===t.id&&function(t){e.on("enter.intro",null),t()}(y)}))}),n+100)}function y(){if("add-area"!==e.mode().id)return t(m);function t(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),t()}c=null,e.map().zoomEase(20,500),p((function(){var n=ae("intro.buildings.start_building")+ae("intro.buildings.building_corner_"+("mouse"===e.lastPointerType()?"click":"tap"));h(r,n),e.map().on("move.intro drawn.intro",(function(){h(r,n,{duration:0})})),e.on("enter.intro",(function(e){if("draw-area"!==e.id)return d.restart();t(v)}))}),550)}function v(){if("draw-area"!==e.mode().id)return n(m);c=null;var t=ae("intro.buildings.continue_building")+"{br}"+ae("intro.areas.finish_area_"+("mouse"===e.lastPointerType()?"click":"tap"))+ae("intro.buildings.finish_building");function n(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),t()}h(r,t),e.map().on("move.intro drawn.intro",(function(){h(r,t,{duration:0})})),e.on("enter.intro",(function(t){if("draw-area"!==t.id){if("select"===t.id){var r=e.graph(),i=e.entity(e.selectedIDs()[0]);return vv(Te(r.childNodes(i)).map((function(t){return e.projection(t.loc)})))?(c=i.id,n(w)):n(b)}return d.restart()}}))}function b(){var t=function(){var t;t=m,e.map().on("move.intro drawn.intro",null),t()};h(r,ae("intro.buildings.retry_building"),{buttonText:C.html("intro.ok"),buttonCallback:t}),e.map().on("move.intro drawn.intro",(function(){h(r,ae("intro.buildings.retry_building"),{duration:0,buttonText:C.html("intro.ok"),buttonCallback:t})}))}function w(){if(!c||!e.hasEntity(c))return m();var n=e.selectedIDs();function r(t){e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-list-button").on("click.intro",null),e.on("enter.intro",null),t()}("select"!==e.mode().id||!n.length||n[0]!==c)&&e.enter(Ce(e,[c])),e.container().select(".inspector-wrap").on("wheel.intro",f),p((function(){e.container().select(".inspector-wrap .panewrap").style("right","-100%");var n=e.container().select(".preset-category-building .preset-list-button");t(n.node(),ae("intro.buildings.choose_category_building",{category:a.name()})),n.on("click.intro",(function(){n.on("click.intro",null),r(_)}))}),400),e.on("enter.intro",(function(t){if(!c||!e.hasEntity(c))return r(m);var n=e.selectedIDs();return"select"===t.id&&n.length&&n[0]===c?void 0:r(w)}))}function _(){if(!c||!e.hasEntity(c))return m();var n=e.selectedIDs();function r(t){e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-list-button").on("click.intro",null),e.on("enter.intro",null),t()}("select"!==e.mode().id||!n.length||n[0]!==c)&&e.enter(Ce(e,[c])),e.container().select(".inspector-wrap").on("wheel.intro",f),p((function(){e.container().select(".inspector-wrap .panewrap").style("right","-100%");var n=e.container().select(".preset-building-house .preset-list-button");t(n.node(),ae("intro.buildings.choose_preset_house",{preset:o.name()}),{duration:300}),n.on("click.intro",(function(){n.on("click.intro",null),r(k)}))}),400),e.on("enter.intro",(function(t){if(!c||!e.hasEntity(c))return r(m);var n=e.selectedIDs();return"select"===t.id&&n.length&&n[0]===c?void 0:r(w)}))}function k(){if(!c||!e.hasEntity(c))return m();var n=e.selectedIDs();("select"!==e.mode().id||!n.length||n[0]!==c)&&e.enter(Ce(e,[c])),e.history().checkpoint("hasHouse"),e.on("exit.intro",(function(){var t;t=x,e.on("exit.intro",null),t()})),p((function(){t(".entity-editor-pane",ae("intro.buildings.close",{button:{html:Be("#iD-icon-close","inline")}}))}),500)}function x(){if(!c)return d.restart();e.enter(be(e)),e.history().reset("hasHouse");var t=e.map().zoom();function n(t){e.on("enter.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),t()}t<20&&(t=20),e.map().centerZoomEase(r,t,500),e.on("enter.intro",(function(t){if("select"===t.id){var r=e.selectedIDs();1!==r.length||r[0]!==c||p((function(){!$r(e,"orthogonalize").node()||n(A)}),50)}})),e.map().on("move.intro drawn.intro",(function(){var t=ae("intro.buildings."+("mouse"===e.lastPointerType()?"rightclick_building":"edit_menu_building_touch"));h(r,t,{duration:0})})),e.history().on("change.intro",(function(){n(x)}))}function A(){if(!c)return d.restart();if(!e.hasEntity(c))return r(x);if(!$r(e,"orthogonalize").node())return r(x);var n=!1;function r(t){e.on("enter.intro",null),e.map().on("move.intro",null),e.history().on("change.intro",null),t()}t(".edit-menu",ae("intro.buildings.square_building"),{padding:50}),e.on("enter.intro",(function(e){"browse"===e.id?r(x):("move"===e.id||"rotate"===e.id)&&r(E)})),e.map().on("move.intro",(function(){var i=$r(e,"orthogonalize").node();if(!n&&!i)return r(x);t(".edit-menu",ae("intro.buildings.square_building"),{duration:0,padding:50})})),e.history().on("change.intro",(function(){n=!0,e.history().on("change.intro",null),p((function(){e.history().undoAnnotation()===C("operations.orthogonalize.annotation.feature",{n:1})?r(S):r(E)}),500)}))}function E(){e.enter(be(e)),h(r,ae("intro.buildings.retry_square"),{buttonText:C.html("intro.ok"),buttonCallback:function(){x()}})}function S(){e.history().checkpoint("doneSquare"),h(r,ae("intro.buildings.done_square"),{buttonText:C.html("intro.ok"),buttonCallback:function(){M()}})}function M(){e.enter(be(e)),e.history().reset("doneSquare"),u=null;var n=on(i,e.map().center());n&&t(null,null,{duration:0}),e.map().centerZoomEase(i,19.5,n),p((function(){t("button.add-area",ae("intro.buildings.add_tank")),e.on("enter.intro",(function(t){"add-area"===t.id&&function(t){e.on("enter.intro",null),t()}(N)}))}),n+100)}function N(){if("add-area"!==e.mode().id)return t(M);function t(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),t()}u=null,p((function(){var n=ae("intro.buildings.start_tank")+ae("intro.buildings.tank_edge_"+("mouse"===e.lastPointerType()?"click":"tap"));g(i,n),e.map().on("move.intro drawn.intro",(function(){g(i,n,{duration:0})})),e.on("enter.intro",(function(e){if("draw-area"!==e.id)return d.restart();t(I)}))}),550)}function I(){if("draw-area"!==e.mode().id)return n(M);u=null;var t=ae("intro.buildings.continue_tank")+"{br}"+ae("intro.areas.finish_area_"+("mouse"===e.lastPointerType()?"click":"tap"))+ae("intro.buildings.finish_tank");function n(t){e.map().on("move.intro drawn.intro",null),e.on("enter.intro",null),t()}g(i,t),e.map().on("move.intro drawn.intro",(function(){g(i,t,{duration:0})})),e.on("enter.intro",(function(t){if("draw-area"!==t.id)return"select"===t.id?(u=e.selectedIDs()[0],n(D)):n(M)}))}function D(){if(!u||!e.hasEntity(u))return M();var n=e.selectedIDs();function r(){var n=e.container().select(".preset-list-item:first-child");n.classed("preset-man_made-storage_tank")&&(t(n.select(".preset-list-button").node(),ae("intro.buildings.choose_tank",{preset:s.name()}),{duration:300}),e.container().select(".preset-search-input").on("keydown.intro",f,!0).on("keyup.intro",null),e.history().on("change.intro",(function(){i(P)})))}function i(t){e.container().select(".inspector-wrap").on("wheel.intro",null),e.on("enter.intro",null),e.history().on("change.intro",null),e.container().select(".preset-search-input").on("keydown.intro keyup.intro",null),t()}("select"!==e.mode().id||!n.length||n[0]!==u)&&e.enter(Ce(e,[u])),e.container().select(".inspector-wrap").on("wheel.intro",f),p((function(){e.container().select(".inspector-wrap .panewrap").style("right","-100%"),e.container().select(".preset-search-input").on("keydown.intro",null).on("keyup.intro",r),t(".preset-search-input",ae("intro.buildings.search_tank",{preset:s.name()}))}),400),e.on("enter.intro",(function(n){if(!u||!e.hasEntity(u))return i(M);var a=e.selectedIDs();("select"!==n.id||!a.length||a[0]!==u)&&(e.enter(Ce(e,[u])),e.container().select(".inspector-wrap .panewrap").style("right","-100%"),e.container().select(".inspector-wrap").on("wheel.intro",f),e.container().select(".preset-search-input").on("keydown.intro",null).on("keyup.intro",r),t(".preset-search-input",ae("intro.buildings.search_tank",{preset:s.name()})),e.history().on("change.intro",null))}))}function P(){if(!u||!e.hasEntity(u))return M();var n=e.selectedIDs();("select"!==e.mode().id||!n.length||n[0]!==u)&&e.enter(Ce(e,[u])),e.history().checkpoint("hasTank"),e.on("exit.intro",(function(){var t;t=O,e.on("exit.intro",null),t()})),p((function(){t(".entity-editor-pane",ae("intro.buildings.close",{button:{html:Be("#iD-icon-close","inline")}}))}),500)}function O(){if(!u)return t(M);function t(t){e.on("enter.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),t()}e.enter(be(e)),e.history().reset("hasTank"),e.map().centerEase(i,500),p((function(){e.on("enter.intro",(function(n){if("select"===n.id){var r=e.selectedIDs();1!==r.length||r[0]!==u||p((function(){!$r(e,"circularize").node()||t(T)}),50)}}));var n=ae("intro.buildings."+("mouse"===e.lastPointerType()?"rightclick_tank":"edit_menu_tank_touch"));g(i,n),e.map().on("move.intro drawn.intro",(function(){g(i,n,{duration:0})})),e.history().on("change.intro",(function(){t(O)}))}),600)}function T(){if(!u)return d.restart();if(!e.hasEntity(u))return r(O);if(!$r(e,"circularize").node())return r(O);var n=!1;function r(t){e.on("enter.intro",null),e.map().on("move.intro",null),e.history().on("change.intro",null),t()}t(".edit-menu",ae("intro.buildings.circle_tank"),{padding:50}),e.on("enter.intro",(function(e){"browse"===e.id?r(O):("move"===e.id||"rotate"===e.id)&&r(F)})),e.map().on("move.intro",(function(){var i=$r(e,"circularize").node();if(!n&&!i)return r(O);t(".edit-menu",ae("intro.buildings.circle_tank"),{duration:0,padding:50})})),e.history().on("change.intro",(function(){n=!0,e.history().on("change.intro",null),p((function(){e.history().undoAnnotation()===C("operations.circularize.annotation.feature",{n:1})?r(R):r(F)}),500)}))}function F(){e.enter(be(e)),g(i,ae("intro.buildings.retry_circle"),{buttonText:C.html("intro.ok"),buttonCallback:function(){O()}})}function R(){n.call("done"),t(".ideditor",ae("intro.buildings.play",{next:C("intro.startediting.title")}),{tooltipBox:".intro-nav-wrap .chapter-startEditing",buttonText:C.html("intro.ok"),buttonCallback:function(){t(".ideditor")}})}return d.enter=function(){m()},d.exit=function(){l.forEach(window.clearTimeout),e.on("enter.intro exit.intro",null),e.map().on("move.intro drawn.intro",null),e.history().on("change.intro",null),e.container().select(".inspector-wrap").on("wheel.intro",null),e.container().select(".preset-search-input").on("keydown.intro keyup.intro",null),e.container().select(".more-fields .combobox-input").on("click.intro",null)},d.restart=function(){d.exit(),d.enter()},fe(d,n,"on")}function Ev(e,t){var n=se("done","startEditing"),r=$(null),i={title:"intro.startediting.title"};function a(){t(".map-control.help-control",ae("intro.startediting.help"),{buttonText:C.html("intro.ok"),buttonCallback:function(){t(".map-control.help-control",ae("intro.startediting.shortcuts"),{buttonText:C.html("intro.ok"),buttonCallback:function(){e.container().selectAll(".shaded").remove(),t(".top-toolbar button.save",ae("intro.startediting.save"),{buttonText:C.html("intro.ok"),buttonCallback:function(){!function(){e.container().selectAll(".shaded").remove(),(r=nn(e.container())).select(".modal").attr("class","modal-splash modal"),r.selectAll(".close").remove();var t=r.select(".content").attr("class","fillL").append("button").attr("class","modal-section huge-modal-button").on("click",(function(){r.remove()}));t.append("svg").attr("class","illustration").append("use").attr("xlink:href","#iD-logo-walkthrough"),t.append("h2").call(C.append("intro.startediting.start")),n.call("startEditing")}()}})}})}})}return i.enter=function(){a()},i.exit=function(){r.remove(),e.container().selectAll(".shaded").remove()},fe(i,n,"on")}var oC={welcome:yv,navigation:bv,point:xv,area:wv,line:_v,building:kv,startEditing:Ev},P2=["welcome","navigation","point","area","line","building","startEditing"],o5;function Wa(e){let t,n={};function r(r){e.enter(be(e));let i=e.connection(),a=e.history().toJSON(),o=window.location.hash,s=e.map().center(),l=e.map().zoom(),c=e.background().baseLayerSource(),u=e.background().overlayLayerSources(),d=e.container().selectAll(".main-map .layer-background").style("opacity"),p=i&&i.caches(),f=e.history().graph().base().entities;e.ui().sidebar.expand(),e.container().selectAll("button.sidebar-toggle").classed("disabled",!0),e.inIntro(!0),i&&i.toggle(!1).reset(),e.history().reset(),e.history().merge(Object.values(kr().load(n).entities)),e.history().checkpoint("initial");let h=e.background().findSource("EsriWorldImageryClarity");h?e.background().baseLayerSource(h):e.background().bing(),u.forEach(t=>e.background().toggleOverlayLayer(t)),e.layers().all().forEach(e=>{"function"==typeof e.layer.enabled&&e.layer.enabled("osm"===e.id)}),e.container().selectAll(".main-map .layer-background").style("opacity",1);let g=e5(e.container().node());r.call(g),ce("walkthrough_started","yes");let m=(ce("walkthrough_progress")||"").split(";").filter(Boolean),y=P2.map((t,n)=>{let r=oC[t](e,g.reveal).on("done",()=>{if(b.filter(e=>e.title===r.title).classed("finished",!0),n<P2.length-1){let t=P2[n+1];e.container().select("button.chapter-".concat(t)).classed("next",!0)}m.push(t),ce("walkthrough_progress",Te(m).join(";"))});return r});y[y.length-1].on("startEditing",()=>{m.push("startEditing"),ce("walkthrough_progress",Te(m).join(";")),Vt(P2,m).length||ce("walkthrough_completed","yes"),g.remove(),v.remove(),e.container().selectAll(".main-map .layer-background").style("opacity",d),e.container().selectAll("button.sidebar-toggle").classed("disabled",!1),i&&i.toggle(!0).reset().caches(p),e.history().reset().merge(Object.values(f)),e.background().baseLayerSource(c),u.forEach(t=>e.background().toggleOverlayLayer(t)),a&&e.history().fromJSON(a,!1),e.map().centerZoom(s,l),window.location.replace(o),e.inIntro(!1)});let v=r.append("div").attr("class","intro-nav-wrap fillD");v.append("svg").attr("class","intro-nav-wrap-logo").append("use").attr("xlink:href","#iD-logo-walkthrough");let b=v.append("div").attr("class","joined").selectAll("button.chapter").data(y).enter().append("button").attr("class",(e,t)=>"chapter chapter-".concat(P2[t])).on("click",w);function w(n,r){t&&t.exit(),e.enter(be(e)),t=r,t.enter(),b.classed("next",!1).classed("active",e=>e.title===t.title)}b.append("span").html(e=>C.html(e.title)),b.append("span").attr("class","status").call(re("rtl"===le.textDirection()?"#iD-icon-backward":"#iD-icon-forward","inline")),w(null,y[0])}return function(e){ze.get("intro_graph").then(t=>{for(let e in t)n[e]||(n[e]=ye(gv(t[e])));e.call(r)}).catch((function(){}))}}function t5(e){var t={id:"warnings",count:0,iconID:"iD-icon-alert",descriptionID:"issues.warnings_and_errors"},n={id:"resolved",count:0,iconID:"iD-icon-apply",descriptionID:"issues.user_resolved_issues"};function r(r){var i=[],a=e.validator().getIssues({what:ce("validate-what")||"edited",where:ce("validate-where")||"all"});if(a.length&&(t.count=a.length,i.push(t)),"all"===ce("validate-what")){var o=e.validator().getResolvedIssues();o.length&&(n.count=o.length,i.push(n))}var s=r.selectAll(".chip").data(i,(function(e){return e.id}));s.exit().remove();var l=s.enter().append("a").attr("class",(function(e){return"chip "+e.id+"-count"})).attr("href","#").each((function(t){var n=$(this),r=Ee().placement("top").title(C.html(t.descriptionID));n.call(r).on("click",(function(t){t.preventDefault(),r.hide($(this)),e.ui().togglePanes(e.container().select(".map-panes .issues-pane"))})),n.call(re("#"+t.iconID))}));l.append("span").attr("class","count"),l.merge(s).selectAll("span.count").text((function(e){return e.count.toString()}))}return function(t){r(t),e.validator().on("validated.infobox",(function(){r(t)}))}}function Bo(e){return function(t){var n,r,i,a,o,s=Ga(e),l={},c=Jr(),u=h4(c,e).showLabels(!1),d=g4(c,e),p=Ca().scaleExtent([Dr(.5),Dr(24)]).on("start",(function(){v||(i=a=c.transform(),b=null)})).on("zoom",(function(t){if(!v){var n=t.transform.x,s=t.transform.y,l=t.transform.k,u=l!==i.k,d=n!==i.x||s!==i.y;if(u||d){b||(b=u?"zoom":"pan");var p,f,y,_=c.transform();"zoom"===b?(y=l/_.k,p=(r[0]/y-r[0])*y,f=(r[1]/y-r[1])*y):(l=_.k,y=1,p=n-_.x,f=s-_.y),wn(h,p,f,y),wn(g,0,0,y),m=!0,a=mr.translate(n,s).scale(l);var x=Tt(e.projection.scale()),A=Tt(l);w=x-A,clearTimeout(o),o=setTimeout((function(){k()}),750)}}})).on("end",(function(){v||"pan"===b&&(_(),b=null,e.map().center(c.invert(r)))})),f=$(null),h=$(null),g=$(null),m=!1,y=!0,v=!1,b=null,w=6;function _(){var t=e.map().center(),o=e.projection.transform(),s=Tt(o.k),l=Dr(Math.max(s-w,.5));c.translate([o.x,o.y]).scale(l);var u=c(t),d="pan"===b?pt([a.x,a.y],[i.x,i.y]):[0,0],y=r[0]-u[0]+o.x+d[0],_=r[1]-u[1]+o.y+d[1];c.translate([y,_]).clipExtent([[0,0],n]),a=c.transform(),m&&(wn(h,0,0),wn(g,0,0),m=!1),p.scaleExtent([Dr(.5),Dr(s-3)]),v=!0,f.call(p.transform,a),v=!1}function k(){if(clearTimeout(o),!y){_();var t=Tt(c.scale());h=(h=f.selectAll(".map-in-map-tiles").data([0])).enter().append("div").attr("class","map-in-map-tiles").merge(h),s.source(e.background().baseLayerSource()).projection(c).dimensions(n);var r=h.selectAll(".map-in-map-background").data([0]);r.enter().append("div").attr("class","map-in-map-background").merge(r).call(s);for(var i=e.background().overlayLayerSources(),a=[],p=0;p<i.length;p++)i[p].validZoom(t)&&(l[p]||(l[p]=Ga(e)),a.push(l[p].source(i[p]).projection(c).dimensions(n)));var m=h.selectAll(".map-in-map-overlay").data([0]),v=(m=m.enter().append("div").attr("class","map-in-map-overlay").merge(m)).selectAll("div").data(a,(function(e){return e.source().name()}));v.exit().remove(),v=v.enter().append("div").merge(v).each((function(e){$(this).call(e)}));var w=h.selectAll(".map-in-map-data").data([0]);if(w.exit().remove(),w=w.enter().append("svg").attr("class","map-in-map-data").merge(w).call(u).call(d),"pan"!==b){var k=Xr(c),x={type:"Polygon",coordinates:[e.map().extent().polygon()]},A=(g=(g=f.selectAll(".map-in-map-viewport").data([0])).enter().append("svg").attr("class","map-in-map-viewport").merge(g)).selectAll(".map-in-map-bbox").data([x]);A.enter().append("path").attr("class","map-in-map-bbox").merge(A).attr("d",k).classed("thick",(function(e){return k.area(e)<30}))}}}function x(n){n&&n.preventDefault(),y=!y,e.container().select(".minimap-toggle-item").classed("active",!y).select("input").property("checked",!y),y?f.style("display","block").style("opacity","1").transition().duration(200).style("opacity","0").on("end",(function(){t.selectAll(".map-in-map").style("display","none")})):f.style("display","block").style("opacity","0").transition().duration(200).style("opacity","1").on("end",(function(){k()}))}Bo.toggle=x,f=(f=t.selectAll(".map-in-map").data([0])).enter().append("div").attr("class","map-in-map").style("display",y?"none":"block").call(p).on("dblclick.zoom",null).merge(f),r=bn(n=[200,150],.5),e.map().on("drawn.map-in-map",(function(e){!0===e.full&&k()})),k(),e.keybinding().on(C("background.minimap.key"),x)}}function r5(e){return function(t){var n=t.append("div").attr("class","notice");function r(){var t=e.map().zoom()>=e.minEditableZoom();n.style("display",t?"none":"block")}n.append("button").attr("class","zoom-to notice fillD").on("click",(function(){e.map().zoomEase(e.minEditableZoom())})).on("wheel",(function(t){var n=new WheelEvent(t.type,t);e.surface().node().dispatchEvent(n)})).call(re("#iD-icon-plus","pre-text")).append("span").attr("class","label").call(C.append("zoom_in_edit")),e.map().on("move.notice",ft(r,500)),r()}}function Av(e){var t=se("resize"),n="PointerEvent"in window?"pointer":"mouse";function r(r){function i(e){e.preventDefault()}function a(t,r,i,a){var o,s,l,c,u,d=!!a.resizeOnX,p=!!a.resizeOnY,f=a.minHeight||240,h=a.minWidth||320;function g(n){if(o===(n.pointerId||"mouse")){n.preventDefault(),n.stopPropagation();var a=e.map().dimensions();if(d){var g=a[0],y=m(c+n.clientX-s,h,g);t.style("width",y+"px")}if(p){var v=a[1]-90,b=m(u+l-n.clientY,f,v);t.style("height",b+"px")}i.call(r,t,Qr(t,!0))}}function m(e,t,n){return Math.max(t,Math.min(e,n))}function y(e){o===(e.pointerId||"mouse")&&(e.preventDefault(),e.stopPropagation(),$(window).on("."+r,null))}return function(e){e.preventDefault(),e.stopPropagation(),o=e.pointerId||"mouse",s=e.clientX,l=e.clientY;var i=t.node().getBoundingClientRect();c=i.width,u=i.height,$(window).on(n+"move."+r,g,!1).on(n+"up."+r,y,!1),"pointer"===n&&$(window).on("pointercancel."+r,y,!1)}}r.append("button").attr("class","thumb-hide").attr("title",C("icons.close")).on("click",(function(){ne.streetside&&ne.streetside.hideViewer(e),ne.mapillary&&ne.mapillary.hideViewer(e),ne.kartaview&&ne.kartaview.hideViewer(e)})).append("div").call(re("#iD-icon-close")),r.append("button").attr("class","resize-handle-xy").on("touchstart touchdown touchend",i).on(n+"down",a(r,"resize",t,{resizeOnX:!0,resizeOnY:!0})),r.append("button").attr("class","resize-handle-x").on("touchstart touchdown touchend",i).on(n+"down",a(r,"resize",t,{resizeOnX:!0})),r.append("button").attr("class","resize-handle-y").on("touchstart touchdown touchend",i).on(n+"down",a(r,"resize",t,{resizeOnY:!0}))}return r.onMapResize=function(){var n=e.container().select(".photoviewer"),r=Qr(e.container().select(".main-content"),!0),i=Qr(n,!0);if(i[0]>r[0]||i[1]>r[1]-90){var a=[Math.min(i[0],r[0]),Math.min(i[1],r[1]-90)];n.style("width",a[0]+"px").style("height",a[1]+"px"),t.call("resize",n,a)}},fe(r,t,"on")}function n5(e){return function(t){if(!e.history().hasRestorableChanges())return;let n=nn(t,!0);n.select(".modal").attr("class","modal fillL");let r=n.select(".content");r.append("div").attr("class","modal-section").append("h3").call(C.append("restore.heading")),r.append("div").attr("class","modal-section").append("p").call(C.append("restore.description"));let i=r.append("div").attr("class","modal-actions"),a=i.append("button").attr("class","restore").on("click",()=>{e.history().restore(),n.remove()});a.append("svg").attr("class","logo logo-restore").append("use").attr("xlink:href","#iD-logo-restore"),a.append("div").call(C.append("restore.restore"));let o=i.append("button").attr("class","reset").on("click",()=>{e.history().clearSaved(),n.remove()});o.append("svg").attr("class","logo logo-reset").append("use").attr("xlink:href","#iD-logo-reset"),o.append("div").call(C.append("restore.reset")),a.node().focus()}}function i5(e){var t=e.projection,n=!le.usesMetric();function r(r){var i=e.map().dimensions(),a=function(e,r){var i,a,o,s,l=(r[1]+e[1])/2,c=n?3.28084:1,u=lo(r[0]-e[0],l)*c,d={dist:0,px:0,text:""};for(i=n?[528e4,528e3,52800,5280,500,50,5,1]:[5e6,5e5,5e4,5e3,500,50,5,1],a=0;a<i.length;a++){if(u>=(o=i[a])){d.dist=Math.floor(u/o)*o;break}d.dist=+u.toFixed(2)}return s=xr(d.dist/c,l),d.px=Math.round(t([e[0]+s,e[1]])[0]),d.text=O2(d.dist/c,n),d}(t.invert([0,i[1]]),t.invert([180,i[1]]));r.select(".scale-path").attr("d","M0.5,0.5v8h"+a.px+"v-8"),r.select(".scale-text").style("ltr"===le.textDirection()?"left":"right",a.px+16+"px").text(a.text)}return function(t){t.append("svg").attr("class","scale").on("click",(function(){n=!n,t.call(r)})).append("g").attr("transform","translate(10,11)").append("path").attr("class","scale-path"),t.append("div").attr("class","scale-text"),t.call(r),e.map().on("move.scale",(function(){r(t)}))}}function Sv(e){var t,n,r=Bt(),i=0,a=$(null);function o(e){e.select(".modal").classed("modal-shortcuts",!0);var t=e.select(".content");t.append("div").attr("class","modal-section header").append("h2").call(C.append("shortcuts.title")),ze.get("shortcuts").then((function(e){n=e,t.call(s)})).catch((function(){}))}function s(e){if(n){var t=e.selectAll(".wrapper").data([0]),a=t.enter().append("div").attr("class","wrapper modal-section"),o=a.append("div").attr("class","tabs-bar"),l=a.append("div").attr("class","shortcuts-list");t=t.merge(a),o.selectAll(".tab").data(n).enter().append("a").attr("class","tab").attr("href","#").on("click",(function(t,r){t.preventDefault();var a=n.indexOf(r);i=a,s(e)})).append("span").html((function(e){return C.html(e.text)})),t.selectAll(".tab").classed("active",(function(e,t){return t===i}));var c=l.selectAll(".shortcut-tab").data(n).enter().append("div").attr("class",(function(e){return"shortcut-tab shortcut-tab-"+e.tab})).selectAll(".shortcut-column").data((function(e){return e.columns})).enter().append("table").attr("class","shortcut-column").selectAll(".shortcut-row").data((function(e){return e.rows})).enter().append("tr").attr("class","shortcut-row"),u=c.filter((function(e){return!e.shortcuts}));u.append("td"),u.append("td").attr("class","shortcut-section").append("h3").html((function(e){return C.html(e.text)}));var d=c.filter((function(e){return e.shortcuts})),p=d.append("td").attr("class","shortcut-keys");p.filter((function(e){return e.modifiers})).selectAll("kbd.modifier").data((function(e){return"win"===r.os&&"shortcuts.editing.commands.redo"===e.text?["\u2318"]:"mac"!==r.os&&"shortcuts.browsing.display_options.fullscreen"===e.text?[]:e.modifiers})).enter().each((function(){var e=$(this);e.append("kbd").attr("class","modifier").text((function(e){return Ne.display(e)})),e.append("span").text("+")})),p.selectAll("kbd.shortcut").data((function(e){var t=e.shortcuts;return"win"===r.os&&"shortcuts.editing.commands.redo"===e.text?t=["Y"]:"mac"!==r.os&&"shortcuts.browsing.display_options.fullscreen"===e.text&&(t=["F11"]),Te(t=t.map((function(e){return Ne.display(-1!==e.indexOf(".")?C(e):e)}))).map((function(t){return{shortcut:t,separator:e.separator,suffix:e.suffix}}))})).enter().each((function(e,t,n){var r=$(this),i=e.shortcut.toLowerCase().match(/(.*).click/);i&&i[1]?r.call(re("#iD-walkthrough-mouse-"+i[1],"operation")):"long-press"===e.shortcut.toLowerCase()?r.call(re("#iD-walkthrough-longpress","longpress operation")):"tap"===e.shortcut.toLowerCase()?r.call(re("#iD-walkthrough-tap","tap operation")):r.append("kbd").attr("class","shortcut").text((function(e){return e.shortcut})),t<n.length-1?r.append("span").html(e.separator||"\xa0"+C.html("shortcuts.or")+"\xa0"):t===n.length-1&&e.suffix&&r.append("span").text(e.suffix)})),p.filter((function(e){return e.gesture})).each((function(){var e=$(this);e.append("span").text("+"),e.append("span").attr("class","gesture").html((function(e){return C.html(e.gesture)}))})),d.append("td").attr("class","shortcut-desc").html((function(e){return e.text?C.html(e.text):"\xa0"})),t.selectAll(".shortcut-tab").style("display",(function(e,t){return t===i?"flex":"none"}))}}return function(n,r){a=n,r?(t=nn(n)).call(o):e.keybinding().on([C("shortcuts.toggle.key"),"?"],(function(){e.container().selectAll(".modal-shortcuts").size()?t&&(t.close(),t=null):(t=nn(a)).call(o)}))}}function a5(){var e;function t(t){var n=t.selectAll(".data-header").data(e?[e]:[],(function(e){return e.__featurehash__}));n.exit().remove();var r=n.enter().append("div").attr("class","data-header");r.append("div").attr("class","data-header-icon").append("div").attr("class","preset-icon-28").call(re("#iD-icon-data","note-fill")),r.append("div").attr("class","data-header-label").call(C.append("map_data.layers.custom.title"))}return t.datum=function(t){return arguments.length?(e=t,this):e},t}function lt(e,t){var n,r,i=se("accept","cancel"),a=e.container(),o=[],s=[],l={},c=null,u=!0,d=!1,p=!1,f=2,h=0,g=function(e,t){t(s.filter((function(t){var n=t.terms||[];return n.push(t.value),n.some((function(t){return-1!==t.toString().toLowerCase().indexOf(e.toLowerCase())}))})))},m=function(e,s){function m(t){if(0===t.button&&!e.classed("disabled")){if(h=+new Date,e.property("selectionStart")!==e.property("selectionEnd")){var n=Se(e);return void e.node().setSelectionRange(n.length,n.length)}e.on("mouseup.combo-input",y)}}function y(t){if((e.on("mouseup.combo-input",null),0===t.button&&!e.classed("disabled")&&e.node()===document.activeElement)&&e.property("selectionStart")===e.property("selectionEnd")){var n=a.selectAll(".combobox");if(n.empty()||n.datum()!==e.node()){var r=h;window.setTimeout((function(){r===h&&x("",(function(){v(),A()}))}),250)}else b()}}function v(){b(),a.insert("div",":first-child").datum(e.node()).attr("class","combobox"+(t?" combobox-"+t:"")).style("position","absolute").style("display","block").style("left","0px").on("mousedown.combo-container",(function(e){e.preventDefault()})),a.on("scroll.combo-scroll",A,!0)}function b(){o5&&(window.clearTimeout(o5),o5=void 0),a.selectAll(".combobox").remove(),a.on("scroll.combo-scroll",null)}function w(){x(k(),(function(){c=null;var t=e.property("value");(o.length&&(e.property("selectionEnd")===t.length&&(c=function(){if(u){var t=d?k():k().toLowerCase();if(t&&(isNaN(parseFloat(t))||!isFinite(t))){for(var n=-1,r=0;r<o.length;r++){var i=o[r].value,a=d?i:i.toLowerCase();if(a===t){n=r;break}-1===n&&0===a.indexOf(t)&&(n=r)}if(-1!==n){var s=o[n].value;return e.property("value",s),e.node().setSelectionRange(t.length,s.length),s}}}}()),c||(c=t)),t.length)?a.selectAll(".combobox").empty()&&v():b();A()}))}function _(t){if(o.length){for(var n=-1,r=0;r<o.length;r++)if(c&&o[r].value===c){n=r;break}n=Math.max(Math.min(n+t,o.length-1),0),c=o[n].value,e.property("value",c)}A(),function(){var t=a.selectAll(".combobox");if(!t.empty()){var n=a.node().getBoundingClientRect();if(t.node().getBoundingClientRect().bottom>n.bottom)(s?s.node():e.node()).scrollIntoView({behavior:"instant",block:"center"}),A();var r=t.selectAll(".combobox-option.selected").node();r&&r.scrollIntoView({behavior:"smooth",block:"nearest"})}}()}function k(){var t=e.property("value"),n=e.property("selectionStart"),r=e.property("selectionEnd");return n&&r&&(t=t.substring(0,n)),t}function x(t,n){p=!1,g.call(e,t,(function(e){p||(o=e,e.forEach((function(e){l[e.value]=e})),n&&n())}))}function A(){if(o.length<f||document.activeElement!==e.node())b();else if(!a.selectAll(".combobox").empty()){var t=a.selectAll(".combobox"),i=t.selectAll(".combobox-option").data(o,(function(e){return e.value}));i.exit().remove(),i.enter().append("a").attr("class",(function(e){return"combobox-option "+(e.klass||"")})).attr("title",(function(e){return e.title})).html((function(e){return e.display||e.value})).on("mouseenter",n).on("mouseleave",r).merge(i).classed("selected",(function(e){return e.value===c})).on("click.combo-option",E).order();var l=s?s.node():e.node(),u=a.node().getBoundingClientRect(),d=l.getBoundingClientRect();t.style("left",d.left+5-u.left+"px").style("width",d.width-10+"px").style("top",d.height+d.top-u.top+"px")}}function E(t,n){p=!0;var r=e.node();n&&(Se(e,n.value),U1(e,"change"));var a=Se(e);r.setSelectionRange(a.length,a.length),n=l[a],i.call("accept",r,n,a),b()}e&&!e.empty()&&e.classed("combobox-input",!0).on("focus.combo-input",(function(){x("")})).on("blur.combo-input",(function(){o5=window.setTimeout(b,75)})).on("keydown.combo-input",(function(t){var n=!a.selectAll(".combobox").empty(),r=e.node()?e.node().tagName.toLowerCase():"";switch(t.keyCode){case 8:case 46:t.stopPropagation(),c=null,A(),e.on("input.combo-input",(function(){var t=e.property("selectionStart");e.node().setSelectionRange(t,t),e.on("input.combo-input",w)}));break;case 9:E(t);break;case 13:t.preventDefault(),t.stopPropagation();break;case 38:if("textarea"===r&&!n)return;t.preventDefault(),"input"===r&&!n&&v(),_(-1);break;case 40:if("textarea"===r&&!n)return;t.preventDefault(),"input"===r&&!n&&v(),_(1)}})).on("keyup.combo-input",(function(t){switch(t.keyCode){case 27:!function(){p=!0;var t=e.node(),n=Se(e),r=e.property("selectionStart"),a=e.property("selectionEnd");n=n.slice(0,r)+n.slice(a),Se(e,n),t.setSelectionRange(n.length,n.length),i.call("cancel",t),b()}();break;case 13:E(t)}})).on("input.combo-input",w).on("mousedown.combo-input",m).each((function(){var t=this.parentNode,n=this.nextSibling;$(t).selectAll(".combobox-caret").filter((function(t){return t===e.node()})).data([e.node()]).enter().insert("div",(function(){return n})).attr("class","combobox-caret").on("mousedown.combo-caret",(function(t){t.preventDefault(),e.node().focus(),m(t)})).on("mouseup.combo-caret",(function(e){e.preventDefault(),y(e)}))}))};return m.canAutocomplete=function(e){return arguments.length?(u=e,m):u},m.caseSensitive=function(e){return arguments.length?(d=e,m):d},m.data=function(e){return arguments.length?(s=e,m):s},m.fetcher=function(e){return arguments.length?(g=e,m):g},m.minItems=function(e){return arguments.length?(f=e,m):f},m.itemsMouseEnter=function(e){return arguments.length?(n=e,m):n},m.itemsMouseLeave=function(e){return arguments.length?(r=e,m):r},fe(m,i,"on")}function Uo(e,t,n){var r,i=se("toggled"),a=Je(""),o=!0,s=function(){},l=function(e){if(null==r){var l=ce("disclosure."+t+".expanded");r=null===l?!!n:"true"===l}var c=e.selectAll(".hide-toggle-"+t).data([0]),u=c.enter().append("h3").append("a").attr("role","button").attr("href","#").attr("class","hide-toggle hide-toggle-"+t).call(re("","pre-text","hide-toggle-icon"));u.append("span").attr("class","hide-toggle-text"),(c=u.merge(c)).on("click",(function(e){e.preventDefault(),r=!r,o&&ce("disclosure."+t+".expanded",r),c.classed("expanded",r).attr("aria-expanded",r).attr("title",C("icons.".concat(r?"collapse":"expand"))),c.selectAll(".hide-toggle-icon").attr("xlink:href",r?"#iD-icon-down":"rtl"===le.textDirection()?"#iD-icon-backward":"#iD-icon-forward"),d.call(Ti(r)),r&&d.call(s),i.call("toggled",this,r)})).attr("title",C("icons.".concat(r?"collapse":"expand"))).attr("aria-expanded",r).classed("expanded",r),c.selectAll(".hide-toggle-text").html(a()),c.selectAll(".hide-toggle-icon").attr("xlink:href",r?"#iD-icon-down":"rtl"===le.textDirection()?"#iD-icon-backward":"#iD-icon-forward");var d=e.selectAll(".disclosure-wrap").data([0]);d=d.enter().append("div").attr("class","disclosure-wrap disclosure-wrap-"+t).merge(d).classed("hide",!r),r&&d.call(s)};return l.label=function(e){return arguments.length?(a=Je(e),l):a},l.expanded=function(e){return arguments.length?(r=e,l):r},l.updatePreference=function(e){return arguments.length?(o=e,l):o},l.content=function(e){return arguments.length?(s=e,l):s},fe(l,i,"on")}function et(e,t){var n,r,i,a,o,s,l=Je(""),c=Je(!0),u=$(null),d={id:e};function p(l){if(n){var u=n();if(l.classed("hide",!u),!u)return void l.html("")}if(o)return i||(i=Uo(t,e.replace(/-/g,"_"),c()).label(a||"").content(o)),void 0!==s&&(i.expanded(s),s=void 0),void l.call(i);r&&l.call(r)}return d.classes=function(e){return arguments.length?(l=Je(e),d):l},d.label=function(e){return arguments.length?(a=Je(e),d):a},d.expandedByDefault=function(e){return arguments.length?(c=Je(e),d):c},d.shouldDisplay=function(e){return arguments.length?(n=Je(e),d):n},d.content=function(e){return arguments.length?(r=e,d):r},d.disclosureContent=function(e){return arguments.length?(o=e,d):o},d.disclosureExpanded=function(e){return arguments.length?(s=e,d):s},d.render=function(t){var n=(u=t.selectAll(".section-"+e).data([0])).enter().append("div").attr("class","section section-"+e+" "+(l&&l()||""));(u=n.merge(u)).call(p)},d.reRender=function(){u.call(p)},d.selection=function(){return u},d.disclosure=function(){return i},d}function Ni(e){var t,n,r=e.qid?ne.wikidata:ne.osmWikibase,i={},a=$(null),o=$(null);function s(t,n){if(o.html(""),!n||!n.title)return o.append("p").attr("class","tag-reference-description").call(C.append("inspector.no_documentation_key")),void l();n.imageURL?o.append("img").attr("class","tag-reference-wiki-image").attr("alt",n.description).attr("src",n.imageURL).on("load",(function(){l()})).on("error",(function(){$(this).remove(),l()})):l();var r=o.append("p").attr("class","tag-reference-description").append("span");(r=n.description?r.attr("class","localized-text").attr("lang",n.descriptionLocaleCode||"und").text(n.description):r.call(C.append("inspector.no_documentation_key"))).append("a").attr("class","tag-reference-edit").attr("target","_blank").attr("title",C("inspector.edit_reference")).attr("href",n.editURL).call(re("#iD-icon-edit","inline")),n.wiki&&o.append("a").attr("class","tag-reference-link").attr("target","_blank").attr("href",n.wiki.url).call(re("#iD-icon-out-link","inline")).append("span").call(C.append(n.wiki.text)),"comment"===e.key&&o.append("a").attr("class","tag-reference-comment-link").attr("target","_blank").call(re("#iD-icon-out-link","inline")).attr("href",C("commit.about_changeset_comments_link")).append("span").call(C.append("commit.about_changeset_comments"))}function l(){t=!0,a.classed("tag-reference-loading",!1),o.classed("expanded",!0).transition().duration(200).style("max-height","200px").style("opacity","1"),n=!0,a.selectAll("svg.icon use").each((function(){var e=$(this);"#iD-icon-info"===e.attr("href")&&e.attr("href","#iD-icon-info-filled")}))}function c(){o.transition().duration(200).style("max-height","0px").style("opacity","0").on("end",(function(){o.classed("expanded",!1)})),n=!1,a.selectAll("svg.icon use").each((function(){var e=$(this);"#iD-icon-info-filled"===e.attr("href")&&e.attr("href","#iD-icon-info")}))}return i.button=function(i,o,u){(a=(a=i.selectAll(".tag-reference-button").data([0])).enter().append("button").attr("class","tag-reference-button "+(o||"")).attr("title",C("icons.information")).call(re("#iD-icon-"+(u||"inspect"))).merge(a)).on("click",(function(i){i.stopPropagation(),i.preventDefault(),this.blur(),n?c():t?l():!r||(a.classed("tag-reference-loading",!0),r.getDocs(e,s))}))},i.body=function(t){var r=e.qid||e.key+"-"+(e.value||"");(o=t.selectAll(".tag-reference-body").data([r],(function(e){return e}))).exit().remove(),o=o.enter().append("div").attr("class","tag-reference-body").style("max-height","0").style("opacity","0").merge(o),!1===n&&c()},i.showing=function(e){return arguments.length?(n=e,i):n},i}function s5(e,t){var n={},r=$(null),i=$(null),a=$(null),o={restrictions:[["about",["about","from_via_to","maxdist","maxvia"]],["inspecting",["about","from_shadow","allow_shadow","restrict_shadow","only_shadow","restricted","only"]],["modifying",["about","indicators","allow_turn","restrict_turn","only_turn"]],["tips",["simple","simple_example","indirect","indirect_example","indirect_noedit"]]]},s={},l={distField:{html:C.html("restriction.controls.distance")},viaField:{html:C.html("restriction.controls.via")},fromShadow:{html:Be("#iD-turn-shadow","inline shadow from")},allowShadow:{html:Be("#iD-turn-shadow","inline shadow allow")},restrictShadow:{html:Be("#iD-turn-shadow","inline shadow restrict")},onlyShadow:{html:Be("#iD-turn-shadow","inline shadow only")},allowTurn:{html:Be("#iD-turn-yes","inline turn")},restrictTurn:{html:Be("#iD-turn-no","inline turn")},onlyTurn:{html:Be("#iD-turn-only","inline turn")}},c=o[t].map((function(e){var n="help.field."+t+"."+e[0],r=e[1].reduce((function(e,t){var r=n+"."+t,i=s[r];return e+(i?Array(i+1).join("#")+" ":"")+C.html(r,l)+"\n\n"}),"");return{key:n,title:C.html(n+".title"),html:qe(r.trim())}}));function u(){(function(){var e=i.node(),t=r.node(),n=e.getBoundingClientRect(),o=t.getBoundingClientRect();a.style("top",n.top+t.scrollTop-o.top+"px")})(),a.classed("hide",!1).style("opacity","0").transition().duration(200).style("opacity","1")}function d(){a.classed("hide",!0).transition().duration(200).style("opacity","0").on("end",(function(){a.classed("hide",!0)}))}function p(n){var r=c[n],i=o[t][n][1];a.selectAll(".field-help-nav-item").classed("active",(function(e,t){return t===n}));var s=a.selectAll(".field-help-content").html(r.html);s.selectAll("p").attr("class",(function(e,t){return i[t]})),"help.field.restrictions.inspecting"===r.key?s.insert("img","p.from_shadow").attr("class","field-help-image cf").attr("src",e.imagePath("tr_inspect.gif")):"help.field.restrictions.modifying"===r.key&&s.insert("img","p.allow_turn").attr("class","field-help-image cf").attr("src",e.imagePath("tr_modify.gif"))}return n.button=function(e){if(!a.empty()){var t=e.selectAll(".field-help-button").data([0]);t.enter().append("button").attr("class","field-help-button").call(re("#iD-icon-help")).merge(t).on("click",(function(e){e.stopPropagation(),e.preventDefault(),a.classed("hide")?u():d()}))}},n.body=function(n){if(!(i=n.selectAll(".form-field-input-wrap")).empty()&&!(r=e.container().select(".sidebar .entity-editor-pane .inspector-body")).empty()){var o=(a=r.selectAll(".field-help-body").data([0])).enter().append("div").attr("class","field-help-body hide"),s=o.append("div").attr("class","field-help-title cf");s.append("h2").attr("class","rtl"===le.textDirection()?"fr":"fl").call(C.append("help.field."+t+".title")),s.append("button").attr("class","fr close").attr("title",C("icons.close")).on("click",(function(e){e.stopPropagation(),e.preventDefault(),d()})).call(re("#iD-icon-close"));var l=o.append("div").attr("class","field-help-nav cf"),u=c.map((function(e){return e.title}));l.selectAll(".field-help-nav-item").data(u).enter().append("div").attr("class","field-help-nav-item").html((function(e){return e})).on("click",(function(e,t){e.stopPropagation(),e.preventDefault(),p(u.indexOf(t))})),o.append("div").attr("class","field-help-content"),a=a.merge(o),p(0)}},n}function zo(e,t){var n,r,i,a=se("change"),o=e.options,s=[],l=[],c=$(null),u=$(null),d=$(null),p=$(null),f=[];if(o)for(var h in o){var g=o[h];s.push("undefined"===g?void 0:g),l.push(e.t.html("options."+g,{default:g}))}else s=[void 0,"yes"],l=[C.html("inspector.unknown"),C.html("inspector.check.yes")],"defaultCheck"!==e.type&&(s.push("no"),l.push(C.html("inspector.check.no")));function m(){if(r="oneway_yes"===e.id,"oneway"===e.id){var n=t.entity(f[0]);for(var i in n.tags)if(i in Jn&&n.tags[i]in Jn[i]){r=!0,l[0]=C.html("_tagging.presets.fields.oneway_yes.options.undefined");break}}}function y(){return!t.container().select("div.inspector-hover").empty()||!("yes"===i||r&&!i)}function v(e){var n=f.length&&t.hasEntity(f[0]);if(y()||!n)return e;var r=n.first()<(n.isClosed()?n.nodes[n.nodes.length-2]:n.last())?"#iD-icon-forward":"#iD-icon-backward";return e.selectAll(".reverser-span").html("").call(C.append("inspector.check.reverser")).call(re(r,"inline")),e}var b=function(r){m();var o=(d=r.selectAll(".form-field-input-wrap").data([0])).enter().append("label").attr("class","form-field-input-wrap form-field-input-check");o.append("input").property("indeterminate","defaultCheck"!==e.type).attr("type","checkbox").attr("id",e.domId),o.append("span").html(l[0]).attr("class","value"),"onewayCheck"===e.type&&o.append("button").attr("class","reverser"+(y()?" hide":"")).append("span").attr("class","reverser-span"),d=d.merge(o),c=d.selectAll("input"),u=d.selectAll("span.value"),c.on("click",(function(t){t.stopPropagation();var r={};Array.isArray(n[e.key])?-1!==s.indexOf("yes")?r[e.key]="yes":r[e.key]=s[0]:r[e.key]=s[(s.indexOf(i)+1)%s.length],("reversible"===r[e.key]||"alternating"===r[e.key])&&(r[e.key]=s[0]),a.call("change",this,r)})),"onewayCheck"===e.type&&(p=d.selectAll(".reverser")).call(v).on("click",(function(e){e.preventDefault(),e.stopPropagation(),t.perform((function(e){for(var t in f)e=Mn(f[t])(e);return e}),C("operations.reverse.annotation.line",{n:1})),t.validator().validate(),$(this).call(v)}))};return b.entityIDs=function(e){return arguments.length?(f=e,b):f},b.tags=function(t){n=t,m();var r,a=Array.isArray(t[e.key]);i=!a&&t[e.key]&&t[e.key].toLowerCase(),"onewayCheck"===e.type&&("1"===i||"-1"===i)&&(i="yes"),c.property("indeterminate",a||"defaultCheck"!==e.type&&!i).property("checked","no"!==(r=i)&&""!==r&&void 0!==r&&null!==r),u.html(a?C.html("inspector.multiple_values"):function(e){""===e&&(e=void 0);var t=s.indexOf(e);return-1!==t?l[t]:'"'+e+'"'}(i)).classed("mixed",a),d.classed("set",!!i),"onewayCheck"===e.type&&p.classed("hide",y()).call(v)},b.focus=function(){c.node().focus()},fe(b,a,"on")}function En(e,t){var n,r,i,a=se("change"),o="multiCombo"===e.type||"manyCombo"===e.type,s="networkCombo"===e.type,l="semiCombo"===e.type,c=e.options,u="manyCombo"!==e.type&&!1!==e.autoSuggestions,d="manyCombo"!==e.type&&!1!==e.customValues,p=e.snake_case||void 0===e.snake_case,f=lt(t,"combo-"+e.safeid).caseSensitive(e.caseSensitive).minItems(o||l?1:2),h=$(null),g=$(null),m=$(null),y=[],v=[],b=[],w=[];function _(e){return e.split(";").map((function(e){return e.trim()})).join(";")}function k(t){t=_(t||"");var n=y.find((function(e){return e.key&&_(e.value)===t}));return n?n.key:"typeCombo"!==e.type||t?(p?function(e){return e.replace(/\s+/g,"_").toLowerCase()}(t):t)||void 0:"yes"}function x(t){return t=t||"",e.hasTextForStringId("options."+t)?e.t("options."+t,{default:t}):"typeCombo"===e.type&&"yes"===t.toLowerCase()?"":t}function A(e,t){return e.filter((function(e){return!t.some((function(t){return!t.isMixed&&e.value===t.value}))}))}function E(t,n){d||t.attr("readonly","readonly"),u&&ne.taginfo?(t.call(f.fetcher(S),n),S("",M)):(t.call(f,n),function(t){!c||(y=c.map((function(t){return{key:t,value:e.t("options."+t,{default:t}),title:t,display:e.t.html("options."+t,{default:t}),klass:e.hasTextForStringId("options."+t)?"":"raw-option"}})),f.data(A(y,v)),t&&t(y))}(M))}function S(n,i){var a=o?"multikeys":"values",l=(o?e.key:"")+n,c=s&&r&&0===r.indexOf(n.toLowerCase());c&&(l=r+":");var u={debounce:""!==n,key:e.key,query:l};b.length&&(u.geometry=t.graph().geometry(b[0])),ne.taginfo[a](u,(function(t,n){if(!t){n=n.filter((function(t){return("typeCombo"!==e.type||"yes"!==t.value)&&(!t.count||t.count>10)}));var a=ye.deprecatedTagValuesByKey(w)[e.key];a&&(n=n.filter((function(e){return-1===a.indexOf(e.value)}))),c&&(n=n.filter((function(e){return 0===e.value.toLowerCase().indexOf(r+":")}))),h.classed("empty-combobox",0===n.length),y=A(y=n.map((function(t){var n=t.value;o&&(n=n.replace(e.key,""));var r=e.t("options."+n,{default:n});return{key:n,value:r,display:e.t.html("options."+n,{default:n}),title:t.title||r,klass:e.hasTextForStringId("options."+n)?"":"raw-option"}})),v),i&&i(y)}}))}function M(t){if(o||l)i=e.placeholder()||C("inspector.add");else{var r=t.map((function(e){return e.value})).filter((function(e){return e.length<20})),a=r.length>1?r:t.map((function(e){return e.key}));i=e.placeholder()||a.slice(0,3).join(", ")}var s;/(\u2026|\.\.\.)$/.test(i)||(i+="\u2026"),s=!o&&!l&&n&&Array.isArray(n[e.key])?C("inspector.multiple_values"):i,h.selectAll("input").attr("placeholder",s)}function N(){var r,i={};if(o||l){r=k(Se(m).replace(/,/g,";"))||"",h.classed("active",!1),Se(m,"");var s=r.split(";").filter(Boolean);if(!s.length)return;if(o)Te(s).forEach((function(r){var a=(e.key||"")+r;if(n){var o=n[a];if("string"==typeof o&&"no"!==o.toLowerCase())return}a=t.cleanTagKey(a),e.keys.push(a),i[a]="yes"}));else if(l){var c=v.map((function(e){return e.key}));c=c.concat(s),i[e.key]=t.cleanTagValue(Te(c).filter(Boolean).join(";"))}window.setTimeout((function(){m.node().focus()}),10)}else{var u=Se(m);if(!u&&Array.isArray(n[e.key]))return;r=t.cleanTagValue(k(u)),i[e.key]=r||void 0}a.call("change",this,i)}function I(t,n){t.preventDefault(),t.stopPropagation();var r={};if(o)r[n.key]=void 0;else if(l){var i=v.map((function(e){return e.key===n.key?null:e.key})).filter(Boolean);i=Te(i),r[e.key]=i.length?i.join(";"):void 0}a.call("change",this,r)}function D(n){h=n.selectAll(".form-field-input-wrap").data([0]);var i=o||l?"multicombo":"combo";if(h=h.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+i).merge(h),o||l){h=h.selectAll(".chiplist").data([0]);var a="chiplist";("destination"===e.key||"via"===e.key)&&(a+=" full-line-chips"),h=h.enter().append("ul").attr("class",a).on("click",(function(){window.setTimeout((function(){m.node().focus()}),10)})).merge(h),g=(g=h.selectAll(".input-wrap").data([0])).enter().append("li").attr("class","input-wrap").merge(g),m=g.selectAll("input").data([0])}else m=h.selectAll("input").data([0]);if(m=m.enter().append("input").attr("type","text").attr("id",e.domId).call(Ue).call(E,n).merge(m),s){var c=b&&b.length&&Ft(b,t.graph()),u=c&&Ta(c.center());r=u&&u.toLowerCase()}m.on("change",N).on("blur",N),m.on("keydown.field",(function(e){switch(e.keyCode){case 13:m.node().blur(),e.stopPropagation()}})),(o||l)&&(f.on("accept",(function(){m.node().blur(),m.node().focus()})),m.on("focus",(function(){h.classed("active",!0)})))}return ze.get("deprecated").then((function(e){w=e})).catch((function(){})),o&&e.key&&/[^:]$/.test(e.key)&&(e.key+=":"),D.tags=function(r){if(n=r,o||l){var s;if(v=[],o){for(var c in r)if((!e.key||0===c.indexOf(e.key))&&(e.key||-1!==e.keys.indexOf(c))){var u=r[c];if(u&&("string"!=typeof u||"no"!==u.toLowerCase())){var p=e.key?c.substr(e.key.length):c;v.push({key:c,value:x(p),isMixed:Array.isArray(u)})}}e.key?(e.keys=v.map((function(e){return e.key})),s=t.maxCharsForTagKey()-s2(e.key)):s=t.maxCharsForTagKey()}else if(l){var g,b=[];Array.isArray(r[e.key])?(r[e.key].forEach((function(e){var t=Te((e||"").split(";")).filter(Boolean);b=b.concat(t),g=g?g.filter(e=>t.includes(e)):t})),b=Te(b).filter(Boolean)):(b=Te((r[e.key]||"").split(";")).filter(Boolean),g=b),v=b.map((function(e){return{key:e,value:x(e),isMixed:!g.includes(e)}}));var w=s2(g.join(";"));s=t.maxCharsForTagValue()-w,w>0&&(s-=1)}s=Math.max(0,s);var _=l&&!Array.isArray(r[e.key]),k=A(y,v);f.data(k);var E=!d&&!k.length||s<=0;h.selectAll(".chiplist .input-wrap").style("display",E?"none":null);var S=h.selectAll(".chip").data(v);S.exit().remove();var M=S.enter().insert("li",".input-wrap").attr("class","chip");M.append("span"),M.append("a"),S=S.merge(M).order().classed("raw-value",(function(t){var n=t.key;return o&&(n=n.replace(e.key,"")),!e.hasTextForStringId("options."+n)})).classed("draggable",_).classed("mixed",(function(e){return e.isMixed})).attr("title",(function(e){return e.isMixed?C("inspector.unshared_value_tooltip"):null})),_&&function(t){var n,r;t.call(Ds().on("start",(function(e){n={x:e.x,y:e.y},r=null})).on("drag",(function(i){var a=i.x-n.x,o=i.y-n.y;if($(this).classed("dragging")||!(Math.sqrt(Math.pow(a,2)+Math.pow(o,2))<=5)){var s=t.nodes().indexOf(this);$(this).classed("dragging",!0),r=null;var l=null,c=$(this).node().offsetWidth;"destination"===e.key||"via"===e.key?h.selectAll(".chip").style("transform",(function(e,t){var n=$(this).node();return s===t?"translate("+a+"px, "+o+"px)":t>s&&i.y>n.offsetTop?((null===r||t>r)&&(r=t),"translateY(-100%)"):t<s&&i.y<n.offsetTop+n.offsetHeight?((null===r||t<r)&&(r=t),"translateY(100%)"):null})):h.selectAll(".chip").each((function(e,t){var n=$(this).node();s!==t&&i.x<n.offsetLeft+n.offsetWidth+5&&i.x>n.offsetLeft&&i.y<n.offsetTop+n.offsetHeight&&i.y>n.offsetTop&&(r=t,l=n.offsetTop)})).style("transform",(function(e,t){var n=$(this).node();if(s===t)return"translate("+a+"px, "+o+"px)";if(n.offsetTop===l){if(t<s&&t>=r)return"translateX("+c+"px)";if(t>s&&t<=r)return"translateX(-"+c+"px)"}return null}))}})).on("end",(function(){if($(this).classed("dragging")){var i=t.nodes().indexOf(this);if($(this).classed("dragging",!1),h.selectAll(".chip").style("transform",null),"number"==typeof r){var o=v[i];v.splice(i,1),v.splice(r,0,o);var s={};v.length?s[e.key]=v.map((function(e){return e.key})).join(";"):s[e.key]=void 0,a.call("change",this,s)}n=void 0,r=void 0}})))}(S),S.select("span").text((function(e){return e.value})),S.select("a").attr("href","#").on("click",I).attr("class","remove").text("\xd7")}else{var N=Array.isArray(r[e.key]),D=N&&r[e.key].map((function(e){return x(e)})).filter(Boolean),P=!N&&r[e.key]&&!("typeCombo"===e.type&&"yes"===r[e.key]),O=P&&!e.hasTextForStringId("options."+r[e.key]),T=P&&!O,F=!d||T;Se(m,N?"":x(r[e.key])).classed("raw-value",O).classed("known-value",T).attr("readonly",F?"readonly":void 0).attr("title",N?D.join("\n"):void 0).attr("placeholder",N?C("inspector.multiple_values"):i||"").classed("mixed",N).on("keydown.deleteCapture",(function(t){if(F&&T&&(t.keyCode===Ie.keyCodes["\u232b"]||t.keyCode===Ie.keyCodes["\u2326"])){t.preventDefault(),t.stopPropagation();var n={};n[e.key]=void 0,a.call("change",this,n)}}))}},D.focus=function(){m.node().focus()},D.entityIDs=function(e){return arguments.length?(b=e,D):b},fe(D,a,"on")}function An(e,t){var n,r=se("change"),i=$(null),a=$(null),o=$(null),s=[],l={};function c(n){!function(){var n=("brand"===e.id||"network"===e.id||"operator"===e.id||"flag"===e.id)&&s.length&&s.some((function(n){var r=t.graph().hasEntity(n);if(!r)return!1;if(r.tags.wikidata)return!0;var i=ve.match(r,t.graph()),a=i&&i.suggestion,o=e.id;return a&&!!r.tags[o]&&!!r.tags[o+":wikidata"]}));e.locked(n)}();var r=e.locked();if(o=(o=n.selectAll(".form-field-input-wrap").data([0])).enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(o),(i=(i=o.selectAll("input").data([0])).enter().append("input").attr("type","identifier"===e.type?"text":e.type).attr("id",e.domId).classed(e.type,!0).call(Ue).merge(i)).classed("disabled",!!r).attr("readonly",r||null).on("input",g(!0)).on("blur",g()).on("change",g()),"tel"===e.type)p();else if("number"===e.type){var l="rtl"===le.textDirection();i.attr("type","text");var c=e.increment,u=o.selectAll(".increment, .decrement").data(l?[c,-c]:[-c,c]);u.enter().append("button").attr("class",(function(e){return"form-field-button "+(e>0?"increment":"decrement")})).attr("title",(function(e){return C("inspector.".concat(e>0?"increment":"decrement"))})).merge(u).on("click",(function(e,t){e.preventDefault();var n=(i.node().value||"0").split(";");n=n.map((function(e){var n=parseFloat(e.trim(),10);return isFinite(n)?h(n+t):e.trim()})),i.node().value=n.join(";"),g()()}))}else"identifier"===e.type&&e.urlFormat&&e.pattern?(i.attr("type","text"),(a=o.selectAll(".foreign-id-permalink").data([0])).enter().append("button").call(re("#iD-icon-out-link")).attr("class","form-field-button foreign-id-permalink").attr("title",(function(){var t=/^https?:\/\/(.{1,}?)\//.exec(e.urlFormat);if(t.length>=2&&t[1]){var n=t[1];return C("icons.view_on",{domain:n})}return""})).on("click",(function(t){t.preventDefault();var n=f();if(n){var r=e.urlFormat.replace(/{value}/,encodeURIComponent(n));window.open(r,"_blank")}})).merge(a)):"url"===e.type?(i.attr("type","text"),(a=o.selectAll(".foreign-id-permalink").data([0])).enter().append("button").call(re("#iD-icon-out-link")).attr("class","form-field-button foreign-id-permalink").attr("title",()=>C("icons.visit_website")).on("click",(function(e){e.preventDefault();let t=f();t&&window.open(t,"_blank")})).merge(a)):e.key.split(":").includes("colour")&&(i.attr("type","text"),d())}function u(e){return!!e.match(/^(#([0-9a-fA-F]{3}){1,2}|\w+)$/)&&!(!CSS.supports("color",e)||["unset","inherit","initial","revert"].includes(e))}function d(){o.selectAll(".colour-preview").remove();let e=Se(i);if(u(e)||""===e){var t=o.selectAll(".colour-selector").data([0]);a=o.selectAll(".colour-preview").data([e]),t.enter().append("input").attr("type","color").attr("class","form-field-button colour-selector").attr("value",e).on("input",ft((function(e){e.preventDefault(),!u(this.value)||(Se(i,this.value),g()(),d())}),100)),a=a.enter().append("div").attr("class","form-field-button colour-preview").append("div").style("background-color",e=>e).attr("class","colour-box"),""===e&&(a=a.call(re("#iD-icon-edit"))),a.on("click",()=>o.select(".colour-selector").node().click()).merge(a)}}function p(){if(!i.empty()&&Object.keys(l).length){var e=s&&s.length&&Ft(s,t.graph()),n=e&&Ta(e.center()),r=n&&l[n.toLowerCase()];r&&i.attr("placeholder",r)}}function f(){let t=Se(i).trim();if("url"===e.type&&t)try{return new URL(t).href}catch{return null}return"identifier"===e.type&&e.pattern?t&&t.match(new RegExp(e.pattern))[0]:null}function h(t){return void 0!==e.minValue&&(t=Math.max(t,e.minValue)),void 0!==e.maxValue&&(t=Math.min(t,e.maxValue)),t}function g(a){return function(){var o={},s=Se(i);if(a||(s=t.cleanTagValue(s)),s||!Array.isArray(n[e.key])){if(!a){if("number"===e.type&&s){var l=s.split(";");s=(l=l.map((function(e){var t=parseFloat(e.trim(),10);return isFinite(t)?h(t):e.trim()}))).join(";")}Se(i,s)}o[e.key]=s||void 0,r.call("change",this,o,a)}}}return"tel"===e.type&&ze.get("phone_formats").then((function(e){l=e,p()})).catch((function(){})),c.entityIDs=function(e){return arguments.length?(s=e,c):s},c.tags=function(t){n=t;var r=Array.isArray(t[e.key]);if(Se(i,!r&&t[e.key]?t[e.key]:"").attr("title",r?t[e.key].filter(Boolean).join("\n"):void 0).attr("placeholder",r?C("inspector.multiple_values"):e.placeholder()||C("inspector.unknown")).classed("mixed",r),e.key.split(":").includes("colour")&&d(),a&&!a.empty()){var o=!f();a.classed("disabled",o)}},c.focus=function(){var e=i.node();e&&e.focus()},fe(c,r,"on")}function Y9(e,t){var n,r=se("change"),i=$(null);function a(n){var r=n.selectAll(".form-field-input-wrap").data([0]),s=(r=r.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(r)).selectAll("ul").data([0]);s=s.enter().append("ul").attr("class","rows").merge(s);var l=(i=s.selectAll("li").data(e.keys)).enter().append("li").attr("class",(function(e){return"labeled-input preset-access-"+e}));l.append("span").attr("class","label preset-label-access").attr("for",(function(e){return"preset-input-access-"+e})).html((function(t){return e.t.html("types."+t)})),l.append("div").attr("class","preset-input-access-wrap").append("input").attr("type","text").attr("class",(function(e){return"preset-input-access preset-input-access-"+e})).call(Ue).each((function(e){$(this).call(lt(t,"access-"+e).data(a.options(e)))})),i=i.merge(l),r.selectAll(".preset-input-access").on("change",o).on("blur",o)}function o(e,i){var a={},o=t.cleanTagValue(Se($(this)));!o&&"string"!=typeof n[i]||(a[i]=o||void 0,r.call("change",this,a))}a.options=function(t){var n=["yes","no","designated","permissive","destination","customers","private","permit","unknown"];return"access"===t&&(n=n.filter(e=>"yes"!==e&&"designated"!==e)),"bicycle"===t&&n.splice(n.length-4,0,"dismount"),n.map((function(t){return{title:e.t("options."+t+".description"),value:t}}))};var s={footway:{foot:"designated",motor_vehicle:"no"},steps:{foot:"yes",motor_vehicle:"no",bicycle:"no",horse:"no"},pedestrian:{foot:"yes",motor_vehicle:"no"},cycleway:{motor_vehicle:"no",bicycle:"designated"},bridleway:{motor_vehicle:"no",horse:"designated"},path:{foot:"yes",motor_vehicle:"no",bicycle:"yes",horse:"yes"},motorway:{foot:"no",motor_vehicle:"yes",bicycle:"no",horse:"no"},trunk:{motor_vehicle:"yes"},primary:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},secondary:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},tertiary:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},residential:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},unclassified:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},service:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},motorway_link:{foot:"no",motor_vehicle:"yes",bicycle:"no",horse:"no"},trunk_link:{motor_vehicle:"yes"},primary_link:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},secondary_link:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},tertiary_link:{foot:"yes",motor_vehicle:"yes",bicycle:"yes",horse:"yes"},construction:{access:"no"}};return a.tags=function(t){n=t,Se(i.selectAll(".preset-input-access"),(function(e){return"string"==typeof t[e]?t[e]:""})).classed("mixed",(function(e){return t[e]&&Array.isArray(t[e])})).attr("title",(function(e){return t[e]&&Array.isArray(t[e])&&t[e].filter(Boolean).join("\n")})).attr("placeholder",(function(n){if(t[n]&&Array.isArray(t[n]))return C("inspector.multiple_values");if(("bicycle"===n||"motor_vehicle"===n)&&t.vehicle&&"string"==typeof t.vehicle)return t.vehicle;if(t.access&&"string"==typeof t.access)return t.access;if(t.highway)if("string"==typeof t.highway){if(s[t.highway]&&s[t.highway][n])return s[t.highway][n]}else{var r=t.highway.filter(Boolean).map((function(e){return s[e]&&s[e][n]})).filter(Boolean);if(r.length===t.highway.length&&1===new Set(r).size)return r[0]}return"access"===n?"yes":e.placeholder()}))},a.focus=function(){i.selectAll(".preset-input-access").node().focus()},fe(a,r,"on")}function Z9(e,t){var n,r,i=se("change"),a=$(null),o=$(null),s=ve.field("address"),l=[],c=[{format:[["housenumber","street"],["city","postcode"]]}];function u(){var e=y(),n=he(e.center()).padByMeters(200);return Da(t.history().intersects(n).filter((function(e){return e.tags.highway&&e.tags.name&&"way"===e.type})).map((function(n){var r=t.projection([(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]),i=wr(t.graph().childNodes(n),r,t.projection);return{title:n.tags.name,value:n.tags.name,dist:i.distance}})).sort((function(e,t){return e.dist-t.dist})),"value")}function d(){var e=y().center(),n=he(e).padByMeters(200);return Da(t.history().intersects(n).filter((function(e){return!!(e.tags.name&&("8"===e.tags.admin_level&&"administrative"===e.tags.boundary||"city"===e.tags.border_type||"city"===e.tags.place||"town"===e.tags.place||"village"===e.tags.place)||e.tags["addr:city"])})).map((function(n){return{title:n.tags["addr:city"]||n.tags.name,value:n.tags["addr:city"]||n.tags.name,dist:rt(n.extent(t.graph()).center(),e)}})).sort((function(e,t){return e.dist-t.dist})),"value")}function p(e){var n=y().center(),r=he(n).padByMeters(200);return Da(t.history().intersects(r).filter((function(t){return-1===l.indexOf(t.id)&&t.tags[e]})).map((function(r){return{title:r.tags[e],value:r.tags[e],dist:rt(r.extent(t.graph()).center(),n)}})).sort((function(e,t){return e.dist-t.dist})),"value")}function f(i){a=i,o=(o=i.selectAll(".form-field-input-wrap").data([0])).enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(o);var s=y();if(s){var l;if(t.inIntro())l=C("intro.graph.countrycode");else l=Ta(s.center());l&&(r=l.toLowerCase(),function(){if(r){for(var e,i=0;i<c.length;i++){var a=c[i];if(a.countryCodes){if(-1!==a.countryCodes.indexOf(r)){e=a;break}}else e=a}var s=e.dropdowns||["city","county","country","district","hamlet","neighbourhood","place","postcode","province","quarter","state","street","subdistrict","suburb"],l=e.widths||{housenumber:1/3,street:2/3,city:2/3,state:1/4,postcode:1/3},f=o.selectAll(".addr-row").data(e.format,(function(e){return e.toString()}));f.exit().remove(),f.enter().append("div").attr("class","addr-row").selectAll("input").data((function(e){var t=e.reduce((function(e,t){return e+(l[t]||.5)}),0);return e.map((function(e){return{id:e,width:(l[e]||.5)/t}}))})).enter().append("input").property("type","text").call(g).attr("class",(function(e){return"addr-"+e.id})).call(Ue).each((function(e){if(-1!==s.indexOf(e.id)){var n="street"===e.id?u:"city"===e.id?d:p;$(this).call(lt(t,"address-"+e.id).minItems(1).caseSensitive(!0).fetcher((function(t,r){r(n("addr:"+e.id))})))}})).style("width",(function(e){return 100*e.width+"%"})),o.selectAll("input").on("blur",h()).on("change",h()),o.selectAll("input:not(.combobox-input)").on("input",h(!0)),n&&m(n)}}())}}function h(r){return function(){var a={};o.selectAll("input").each((function(i){var o=e.key+":"+i.id,s=this.value;r||(s=t.cleanTagValue(s)),(!Array.isArray(n[o])||s)&&(a[o]=s||void 0)})),i.call("change",this,a,r)}}function g(t){return t.attr("placeholder",(function(t){if(n&&Array.isArray(n[e.key+":"+t.id]))return C("inspector.multiple_values");if(r){var i=t.id+"!"+r,a=s.hasTextForStringId("placeholders."+i)?i:t.id;return s.t("placeholders."+a)}}))}function m(t){Se(o.selectAll("input"),(function(n){var r=t[e.key+":"+n.id];return"string"==typeof r?r:""})).attr("title",(function(n){var r=t[e.key+":"+n.id];return r&&Array.isArray(r)?r.filter(Boolean).join("\n"):void 0})).classed("mixed",(function(n){return Array.isArray(t[e.key+":"+n.id])})).call(g)}function y(){return l&&l.length&&Ft(l,t.graph())}return ze.get("address_formats").then((function(e){c=e,a.empty()||a.call(f)})).catch((function(){})),f.entityIDs=function(e){return arguments.length?(l=e,f):l},f.tags=function(e){n=e,m(e)},f.focus=function(){var e=o.selectAll("input").node();e&&e.focus()},fe(f,i,"on")}function J9(e,t){var n,r=se("change"),i=$(null),a=$(null);function o(n){function r(e){return e.replace(":","")}var l=(a=(a=n.selectAll(".form-field-input-wrap").data([0])).enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(a)).selectAll("ul").data([0]);l=l.enter().append("ul").attr("class","rows").merge(l);var c=(i=l.selectAll("li").data(["cycleway:left","cycleway:right"])).enter().append("li").attr("class",(function(e){return"labeled-input preset-cycleway-"+r(e)}));c.append("span").attr("class","label preset-label-cycleway").attr("for",(function(e){return"preset-input-cycleway-"+r(e)})).html((function(t){return e.t.html("types."+t)})),c.append("div").attr("class","preset-input-cycleway-wrap").append("input").attr("type","text").attr("class",(function(e){return"preset-input-cycleway preset-input-"+r(e)})).call(Ue).each((function(e){$(this).call(lt(t,"cycleway-"+r(e)).data(o.options(e)))})),i=i.merge(c),a.selectAll(".preset-input-cycleway").on("change",s).on("blur",s)}function s(e,i){var a=t.cleanTagValue(Se($(this)));if(a||!Array.isArray(n.cycleway)&&!Array.isArray(n[i])){("none"===a||""===a)&&(a=void 0);var o="cycleway:left"===i?"cycleway:right":"cycleway:left",s="string"==typeof n.cycleway?n.cycleway:n[o];s&&Array.isArray(s)&&(s=s[0]),("none"===s||""===s)&&(s=void 0);var l={};a===s?l={cycleway:a,"cycleway:left":void 0,"cycleway:right":void 0}:((l={cycleway:void 0})[i]=a,l[o]=s),r.call("change",this,l)}}return o.options=function(){return e.options.map((function(t){return{title:e.t("options."+t+".description"),value:t}}))},o.tags=function(t){n=t;var r="string"==typeof t.cycleway&&t.cycleway;Se(i.selectAll(".preset-input-cycleway"),(function(e){return r||(t.cycleway||"string"!=typeof t[e]?"":t[e])})).attr("title",(function(e){if(Array.isArray(t.cycleway)||Array.isArray(t[e])){var n=[];return Array.isArray(t.cycleway)&&(n=n.concat(t.cycleway)),Array.isArray(t[e])&&(n=n.concat(t[e])),n.filter(Boolean).join("\n")}return null})).attr("placeholder",(function(n){return Array.isArray(t.cycleway)||Array.isArray(t[n])?C("inspector.multiple_values"):e.placeholder()})).classed("mixed",(function(e){return Array.isArray(t.cycleway)||Array.isArray(t[e])}))},o.focus=function(){var e=a.selectAll("input").node();e&&e.focus()},fe(o,r,"on")}function l5(e,t){var n=se("change"),r=[];function i(n){var a=t.entity(r[0]).lanes();if(t.container().select(".inspector-wrap.inspector-hidden").empty()&&n.node().parentNode){var o=n.selectAll(".form-field-input-wrap").data([0]),s=(o=o.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(o)).selectAll(".surface").data([0]),l=Qr(o),c=l[0]-40*a.lanes.length*1.5+20,u=(s=s.enter().append("svg").attr("width",l[0]).attr("height",300).attr("class","surface").merge(s)).selectAll(".lanes").data([0]);(u=u.enter().append("g").attr("class","lanes").merge(u)).attr("transform",(function(){return"translate("+c/2+", 0)"}));var d=u.selectAll(".lane").data(a.lanes);d.exit().remove();var p=d.enter().append("g").attr("class","lane");p.append("g").append("rect").attr("y",50).attr("width",40).attr("height",200),p.append("g").attr("class","forward").append("text").attr("y",40).attr("x",14).text("\u25b2"),p.append("g").attr("class","bothways").append("text").attr("y",40).attr("x",14).text("\u25b2\u25bc"),p.append("g").attr("class","backward").append("text").attr("y",40).attr("x",14).text("\u25bc"),(d=d.merge(p)).attr("transform",(function(e){return"translate("+40*e.index*1.5+", 0)"})),d.select(".forward").style("visibility",(function(e){return"forward"===e.direction?"visible":"hidden"})),d.select(".bothways").style("visibility",(function(e){return"bothways"===e.direction?"visible":"hidden"})),d.select(".backward").style("visibility",(function(e){return"backward"===e.direction?"visible":"hidden"}))}else n.call(i.off)}return i.entityIDs=function(e){r=e},i.tags=function(){},i.focus=function(){},i.off=function(){},fe(i,n,"on")}lt.off=function(e,t){e.on("focus.combo-input",null).on("blur.combo-input",null).on("keydown.combo-input",null).on("keyup.combo-input",null).on("input.combo-input",null).on("mousedown.combo-input",null).on("mouseup.combo-input",null),t.container().on("scroll.combo-scroll",null)},l5.supportsMultiselection=!1;var M4=[];function e8(e,t){var n,r,i=se("change","input"),a=ne.wikipedia,o=$(null),s=$(null);ze.get("languages").then((function(e){if(0===M4.length){var t={sr:"sr-Cyrl","sr-Cyrl":!1};for(var n in e)if(!1!==t[n]){var r=n;t[n]&&(r=t[n]),M4.push({localName:le.languageName(r,{localOnly:!0}),nativeName:e[r].nativeName,code:n,label:le.languageName(r)})}}})).catch((function(){}));var l={};ze.get("territory_languages").then((function(e){l=e})).catch((function(){}));var c,u=lt(t,"localized-lang").fetcher((function(e,t){var r=e.toLowerCase(),i=[le.localeCode(),le.languageCode()];n&&l[n]&&(i=i.concat(l[n]));var a=[];i.forEach((function(e){var t=M4.find((function(t){return t.code===e}));t&&a.push(t)})),a=Te(a.concat(M4)),t(a.filter((function(e){return e.label.toLowerCase().indexOf(r)>=0||e.localName&&e.localName.toLowerCase().indexOf(r)>=0||e.nativeName&&e.nativeName.toLowerCase().indexOf(r)>=0||e.code.toLowerCase().indexOf(r)>=0})).map((function(e){return{value:e.label}})))})).minItems(0),d=$(null),p=[],f=Ee().title(C.html("translate.translate")).placement("left"),h=[];function g(t){var n=p.map((function(e){return e.lang})),r=new Set(n.filter(Boolean));for(var i in t){var a=i.match(/^(.*):([a-z]{2,3}(?:-[A-Z][a-z]{3})?(?:-[A-Z]{2})?)$/);if(a&&a[1]===e.key&&a[2]){var o={lang:a[2],value:t[i]};r.has(o.lang)?(p[n.indexOf(o.lang)].value=o.value,r.delete(o.lang)):p.push(o)}}p.forEach((function(e){e.lang&&r.has(e.lang)&&(e.value="")}))}function m(n){d=n,function(){var n="name"===e.id&&h.length&&h.some((function(e){var n=t.graph().hasEntity(e);if(!n)return!1;if(n.tags.wikidata||n.tags["name:etymology:wikidata"])return!0;var r=ve.match(n,t.graph());if(r){var i=r.suggestion,a=r.fields(),o=a.some((function(e){return"brand"===e.id})),s=a.some((function(e){return"operator"===e.id})),l=r.addTags.name,c=r.addTags["brand:wikidata"],u=r.addTags["operator:wikidata"];return i&&l&&(c&&!o||u&&!s)}return!1}));e.locked(n)}();var a=e.locked(),l=n.selectAll(".form-field-input-wrap").data([0]);l=l.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(l),(o=(o=l.selectAll(".localized-main").data([0])).enter().append("input").attr("type","text").attr("id",e.domId).attr("class","localized-main").call(Ue).merge(o)).classed("disabled",!!a).attr("readonly",a||null).on("input",u(!0)).on("blur",u()).on("change",u());var c=l.selectAll(".localized-add").data([0]);function u(n){return function(a){if(e.locked())a.preventDefault();else{var o=Se($(this));if(n||(o=t.cleanTagValue(o)),o||!Array.isArray(r[e.key])){var s={};s[e.key]=o||void 0,i.call("change",this,s,n)}}}}(c=c.enter().append("button").attr("class","localized-add form-field-button").attr("aria-label",C("icons.plus")).call(re("#iD-icon-plus")).merge(c)).classed("disabled",!!a).call(a?f.destroy:f).on("click",(function(t){if(t.preventDefault(),!e.locked()){var n=le.languageCode().toLowerCase(),r=p.find((function(e){return e.lang===n}));(n.indexOf("en")>-1||r)&&(n="",r=p.find((function(e){return e.lang===n}))),r||(p.unshift({lang:n,value:""}),s.call(w))}})),r&&!p.length&&g(r),(s=(s=n.selectAll(".localized-multilingual").data([0])).enter().append("div").attr("class","localized-multilingual").merge(s)).call(w),s.selectAll("button, input").classed("disabled",!!a).attr("readonly",a||null),n.selectAll(".combobox-caret").classed("nope",!0)}function y(t){return e.key+":"+t}function v(e,n){var r={},a=Se($(this)).toLowerCase(),o=M4.find((function(e){return e.label.toLowerCase()===a||e.localName&&e.localName.toLowerCase()===a||e.nativeName&&e.nativeName.toLowerCase()===a}));o&&(a=o.code),n.lang&&n.lang!==a&&(r[y(n.lang)]=void 0);var s=a&&t.cleanTagKey(y(a)),l=Se($(this.parentNode).selectAll(".localized-value"));s&&l?r[s]=l:s&&c&&c[n.lang]&&(r[s]=c[n.lang]),n.lang=a,i.call("change",this,r)}function b(e,n){if(n.lang){var r=t.cleanTagValue(Se($(this)))||void 0;if(r||!Array.isArray(n.value)){var a={};a[y(n.lang)]=r,n.value=r,i.call("change",this,a)}}}function w(t){var n=t.selectAll("div.entry").data(p,(function(e){return e.lang}));n.exit().style("top","0").style("max-height","240px").transition().duration(200).style("opacity","0").style("max-height","0px").remove();var a=n.enter().append("div").attr("class","entry").each((function(n,a){var o=$(this),s=mn(a),l=o.append("label").attr("class","field-label").attr("for",s),c=l.append("span").attr("class","label-text");c.append("span").attr("class","label-textvalue").call(C.append("translate.localized_translation_label")),c.append("span").attr("class","label-textannotation"),l.append("button").attr("class","remove-icon-multilingual").attr("title",C("icons.remove")).on("click",(function(n,a){if(!e.locked()){n.preventDefault(),p.splice(p.indexOf(a),1);var o=a.lang&&y(a.lang);if(o&&o in r){delete r[o];var s={};return s[o]=void 0,void i.call("change",this,s)}w(t)}})).call(re("#iD-operation-delete")),o.append("input").attr("class","localized-lang").attr("id",s).attr("type","text").attr("placeholder",C("translate.localized_translation_language")).on("blur",v).on("change",v).call(u),o.append("input").attr("type","text").attr("class","localized-value").on("blur",b).on("change",b)}));a.style("margin-top","0px").style("max-height","0px").style("opacity","0").transition().duration(200).style("margin-top","10px").style("max-height","240px").style("opacity","1").on("end",(function(){$(this).style("max-height","").style("overflow","visible")})),(n=n.merge(a)).order(),n.classed("present",!0),Se(n.select(".localized-lang"),(function(e){var t=M4.find((function(t){return t.code===e.lang}));return t?t.label:e.lang})),Se(n.select(".localized-value"),(function(e){return"string"==typeof e.value?e.value:""})).attr("title",(function(e){return Array.isArray(e.value)?e.value.filter(Boolean).join("\n"):null})).attr("placeholder",(function(e){return Array.isArray(e.value)?C("inspector.multiple_values"):C("translate.localized_translation_name")})).classed("mixed",(function(e){return Array.isArray(e.value)}))}function _(){var e=h&&h.length&&Ft(h,t.graph()),r=e&&Ta(e.center());n=r&&r.toLowerCase()}return m.tags=function(t){if(r=t,"string"==typeof t.wikipedia&&!c){c={};var n=t.wikipedia.match(/([^:]+):(.+)/);n&&n[0]&&n[1]&&a.translations(n[1],n[2],(function(e,t){e||!t||(c=t)}))}var i=Array.isArray(t[e.key]);Se(o,"string"==typeof t[e.key]?t[e.key]:"").attr("title",i?t[e.key].filter(Boolean).join("\n"):void 0).attr("placeholder",i?C("inspector.multiple_values"):e.placeholder()).classed("mixed",i),g(t),d.call(m)},m.focus=function(){o.node().focus()},m.entityIDs=function(e){return arguments.length?(h=e,p=[],_(),m):h},fe(m,i,"on")}function t8(e,t){var n,r,i=se("change"),a=$(null),o=$(null),s=$(null),l=$(null),c=[],u=[{value:"m",title:C("inspector.roadheight.meter")},{value:"ft",title:C("inspector.roadheight.foot")}],d=lt(t,"roadheight-unit").data(u);function p(n){var i=n.selectAll(".form-field-input-wrap").data([0]);i=i.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(i),(o=(o=i.selectAll("input.roadheight-number").data([0])).enter().append("input").attr("type","text").attr("class","roadheight-number").attr("id",e.domId).call(Ue).merge(o)).on("change",h).on("blur",h);var u=(c&&c.length&&Ft(c,t.graph())).center();function p(){r="ft"===Se(a),Se(a,r?"ft":"m"),f(),h()}r="ft"===jp(u),(a=(a=i.selectAll("input.roadheight-unit").data([0])).enter().append("input").attr("type","text").attr("class","roadheight-unit").call(d).merge(a)).on("blur",p).on("change",p),(s=(s=i.selectAll("input.roadheight-secondary-number").data([0])).enter().append("input").attr("type","text").attr("class","roadheight-secondary-number").call(Ue).merge(s)).on("change",h).on("blur",h),l=(l=i.selectAll("input.roadheight-secondary-unit").data([0])).enter().append("input").attr("type","text").call(Ue).classed("disabled",!0).classed("roadheight-secondary-unit",!0).attr("readonly","readonly").merge(l)}function f(){Se(a,r?"ft":"m")}function h(){var a={},l=Se(o).trim(),c=Se(s).trim();!l&&!c&&Array.isArray(n[e.key])||(l||c?isNaN(l)||isNaN(c)||!r?a[e.key]=t.cleanTagValue(l):(""!==l&&(l=t.cleanTagValue(l+"'")),""!==c&&(c=t.cleanTagValue(c+'"')),a[e.key]=l+c):a[e.key]=void 0,i.call("change",this,a))}return p.tags=function(t){n=t;var i,a=t[e.key],c=Array.isArray(a);c||(a&&(a.indexOf("'")>=0||a.indexOf('"')>=0)?(null!==(i=a.match(/(-?[\d.]+)"/))&&(i=i[1]),null!==(a=a.match(/(-?[\d.]+)'/))&&(a=a[1]),r=!0):a&&(r=!1)),f(),Se(o,"string"==typeof a?a:"").attr("title",c?a.filter(Boolean).join("\n"):null).attr("placeholder",C(c?"inspector.multiple_values":"inspector.unknown")).classed("mixed",c),Se(s,"string"==typeof i?i:"").attr("placeholder",c?C("inspector.multiple_values"):r?"0":null).classed("mixed",c).classed("disabled",!r).attr("readonly",r?null:"readonly"),l.attr("value",r?C("inspector.roadheight.inch"):null)},p.focus=function(){o.node().focus()},p.entityIDs=function(e){c=e},fe(p,i,"on")}function r8(e,t){var n,r,i=se("change"),a=$(null),o=$(null),s=[],l=lt(t,"roadspeed"),c=lt(t,"roadspeed-unit").data(["km/h","mph"].map(h)),u=[20,30,40,50,60,70,80,90,100,110,120],d=[5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80];function p(n){var i=n.selectAll(".form-field-input-wrap").data([0]);i=i.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(i),(o=(o=i.selectAll("input.roadspeed-number").data([0])).enter().append("input").attr("type","text").attr("class","roadspeed-number").attr("id",e.domId).call(Ue).call(l).merge(o)).on("change",g).on("blur",g);var u=(s&&s.length&&Ft(s,t.graph())).center();function d(){r="mph"===Se(a),Se(a,r?"mph":"km/h"),f(),g()}r="mph"===Vp(u),(a=(a=i.selectAll("input.roadspeed-unit").data([0])).enter().append("input").attr("type","text").attr("class","roadspeed-unit").attr("aria-label",C("inspector.speed_unit")).call(c).merge(a)).on("blur",d).on("change",d)}function f(){l.data((r?d:u).map(h)),Se(a,r?"mph":"km/h")}function h(e){return{value:e.toString(),title:e.toString()}}function g(){var a={},s=Se(o).trim();!s&&Array.isArray(n[e.key])||(s?isNaN(s)||!r?a[e.key]=t.cleanTagValue(s):a[e.key]=t.cleanTagValue(s+" mph"):a[e.key]=void 0,i.call("change",this,a))}return p.tags=function(t){n=t;var i=t[e.key],a=Array.isArray(i);a||(i&&i.indexOf("mph")>=0?(i=parseInt(i,10).toString(),r=!0):i&&(r=!1)),f(),Se(o,"string"==typeof i?i:"").attr("title",a?i.filter(Boolean).join("\n"):null).attr("placeholder",a?C("inspector.multiple_values"):e.placeholder()).classed("mixed",a)},p.focus=function(){o.node().focus()},p.entityIDs=function(e){s=e},fe(p,i,"on")}function R2(e,t){var n,r,i=se("change"),a=$(null),o=$(null),s=$(null),l=$(null),c=(e.options||e.keys).slice(),u={},d=[];function p(){var e=o.selectAll(".form-field-input-radio label.active input");return!e.empty()&&e.datum()}function f(t){t.classed("preset-radio",!0);var n=(o=t.selectAll(".form-field-input-wrap").data([0])).enter().append("div").attr("class","form-field-input-wrap form-field-input-radio");n.append("span").attr("class","placeholder"),o=o.merge(n),a=o.selectAll(".placeholder"),(n=(s=o.selectAll("label").data(c)).enter().append("label")).append("input").attr("type","radio").attr("name",e.id).attr("value",(function(t){return e.t("options."+t,{default:t})})).attr("checked",!1),n.append("span").html((function(t){return e.t.html("options."+t,{default:t})})),s=s.merge(n),l=s.selectAll("input").on("change",y)}function h(i,a){var o=p()||void 0!==a.layer,s=ve.field(o),l=ve.field("layer"),c="bridge"===o||"tunnel"===o||void 0!==a.layer,u=i.selectAll(".structure-extras-wrap").data(o?[0]:[]);u.exit().remove();var f=(u=u.enter().append("div").attr("class","structure-extras-wrap").merge(u)).selectAll("ul").data([0]);f=f.enter().append("ul").attr("class","rows").merge(f),s?((!n||n.id!==o)&&(n=Sn(t,s,d,{wrap:!1}).on("change",g)),n.tags(a)):n=null;var h=f.selectAll(".structure-type-item").data(n?[n]:[],(function(e){return e.id}));h.exit().remove();var y=h.enter().insert("li",":first-child").attr("class","labeled-input structure-type-item");y.append("span").attr("class","label structure-label-type").attr("for","preset-input-"+o).call(C.append("inspector.radio.structure.type")),y.append("div").attr("class","structure-input-type-wrap"),h=h.merge(y),n&&h.selectAll(".structure-input-type-wrap").call(n.render),l&&c?(r||(r=Sn(t,l,d,{wrap:!1}).on("change",m)),r.tags(a),e.keys=xt(e.keys,["layer"])):(r=null,e.keys=e.keys.filter((function(e){return"layer"!==e})));var v=f.selectAll(".structure-layer-item").data(r?[r]:[]);v.exit().remove();var b=v.enter().append("li").attr("class","labeled-input structure-layer-item");b.append("span").attr("class","label structure-label-layer").attr("for","preset-input-layer").call(C.append("inspector.radio.structure.layer")),b.append("div").attr("class","structure-input-layer-wrap"),v=v.merge(b),r&&v.selectAll(".structure-input-layer-wrap").call(r.render)}function g(t,n){var r=p();if(r){var a=t[r];"no"!==a&&(u[r]=a),"structureRadio"===e.type&&(("no"===a||"bridge"!==r&&"tunnel"!==r||"tunnel"===r&&"building_passage"===a)&&(t.layer=void 0),void 0===t.layer&&("bridge"===r&&"no"!==a&&(t.layer="1"),"tunnel"===r&&"no"!==a&&"building_passage"!==a&&(t.layer="-1"))),i.call("change",this,t,n)}}function m(e,t){"0"===e.layer&&(e.layer=void 0),i.call("change",this,e,t)}function y(){var t,n={};e.key&&(n[e.key]=void 0),l.each((function(r){var i=$(this).property("checked");if(i&&(t=r),e.key)i&&(n[e.key]=r);else{var a=u[t]||"yes";n[r]=i?a:void 0}})),"structureRadio"===e.type&&("bridge"===t?n.layer="1":"tunnel"===t&&"building_passage"!==n.tunnel?n.layer="-1":n.layer=void 0),i.call("change",this,n)}return f.tags=function(t){function n(n){return e.key?t[e.key]===n:"string"==typeof t[n]&&"no"!==t[n].toLowerCase()}function r(n){return e.key?Array.isArray(t[e.key])&&t[e.key].includes(n):Array.isArray(t[n])}l.property("checked",(function(t){return n(t)&&(e.key||1===e.options.filter(n).length)})),s.classed("active",(function(n){return e.key?Array.isArray(t[e.key])&&t[e.key].includes(n)||t[e.key]===n:Array.isArray(t[n])&&t[n].some(e=>"string"==typeof e&&"no"!==e.toLowerCase())||"string"==typeof t[n]&&"no"!==t[n].toLowerCase()})).classed("mixed",r).attr("title",(function(e){return r(e)?C("inspector.unshared_value_tooltip"):null}));var i=l.filter((function(){return this.checked}));i.empty()?(a.text(""),a.call(C.append("inspector.none"))):(a.text(i.attr("value")),u[i.datum()]=t[i.datum()]),"structureRadio"===e.type&&(!!t.waterway&&!u.tunnel&&(u.tunnel="culvert"),o.call(h,t))},f.focus=function(){l.node().focus()},f.entityIDs=function(e){return arguments.length?(d=e,u={},f):d},f.isAllowed=function(){return 1===d.length},fe(f,i,"on")}function u5(e,t){var n=se("change"),r=Vn(t);ce("turn-restriction-via-way",null);var i,a,o,s,l,c,u=ce("turn-restriction-via-way0"),d=ce("turn-restriction-distance"),p=null!==u?+u:0,f=d?+d:30,h=!1,g=$(null),m=$(null);function y(n){g=n,o&&(t.graph()!==a||!s)&&(a=t.graph(),s=L3(a,o,f));var r=s&&s.vertices.length&&s.vertices.filter((function(e){return e.id===o})).length&&s.ways.length>2&&s.ways.filter((function(e){return e.__to})).length>1;if($(n.node().parentNode).classed("hide",!r),r&&t.container().select(".inspector-wrap.inspector-hidden").empty()&&n.node().parentNode&&n.node().parentNode.parentNode){var i=n.selectAll(".form-field-input-wrap").data([0]),l=(i=i.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(i)).selectAll(".restriction-container").data([0]),c=l.enter().append("div").attr("class","restriction-container");c.append("div").attr("class","restriction-help"),m=c.merge(l).call(b);var u=i.selectAll(".restriction-controls").data([0]);u.enter().append("div").attr("class","restriction-controls-container").append("div").attr("class","restriction-controls").merge(u).call(v)}else n.call(y.off)}function v(e){var t=e.selectAll(".restriction-distance").data([0]);t.exit().remove();var n=t.enter().append("div").attr("class","restriction-control restriction-distance");n.append("span").attr("class","restriction-control-label restriction-distance-label").call(C.append("restriction.controls.distance",{suffix:":"})),n.append("input").attr("class","restriction-distance-input").attr("type","range").attr("min","20").attr("max","50").attr("step","5"),n.append("span").attr("class","restriction-distance-text"),e.selectAll(".restriction-distance-input").property("value",f).on("input",(function(){var e=$(this).property("value");f=+e,s=null,m.selectAll(".layer-osm .layer-turns *").remove(),ce("turn-restriction-distance",f),g.call(y)})),e.selectAll(".restriction-distance-text").call(function(e){return t=>{var n;le.usesMetric()?n={distance:C("units.meters",{quantity:e})}:n={distance:C("units.feet",{quantity:{20:70,25:85,30:100,35:115,40:130,45:145,50:160}[e]})};return t.html("").call(C.append("restriction.controls.distance_up_to",n))}}(f));var r=e.selectAll(".restriction-via-way").data([0]);r.exit().remove();var i=r.enter().append("div").attr("class","restriction-control restriction-via-way");i.append("span").attr("class","restriction-control-label restriction-via-way-label").call(C.append("restriction.controls.via",{suffix:":"})),i.append("input").attr("class","restriction-via-way-input").attr("type","range").attr("min","0").attr("max","2").attr("step","1"),i.append("span").attr("class","restriction-via-way-text"),e.selectAll(".restriction-via-way-input").property("value",p).on("input",(function(){var e=$(this).property("value");p=+e,m.selectAll(".layer-osm .layer-turns *").remove(),ce("turn-restriction-via-way0",p),g.call(y)})),e.selectAll(".restriction-via-way-text").call(function(e){return t=>(t=t.html(""),0===e?t.call(C.append("restriction.controls.via_node_only")):1===e?t.call(C.append("restriction.controls.via_up_to_one")):t.call(C.append("restriction.controls.via_up_to_two")))}(p))}function b(e){if(s){var n=s.graph,a=Je(!0),u=Jr(),d=Qr(t.container().select(".sidebar")),f=[d[0]-50,370],g=bn(f,.5),y=22;u.scale(Dr(y));for(var v=he(),_=0;_<s.vertices.length;_++)v._extend(s.vertices[_].extent());if(s.vertices.length>1){var k=Math.min(160,Math.max(110,.4*f[0])),x=u([v[0][0],v[1][1]]),A=u([v[1][0],v[0][1]]),E=(A[0]-x[0])/(f[0]-k),S=(A[1]-x[1])/(f[1]-160-35),M=Math.log(Math.abs(E))/Math.LN2,N=Math.log(Math.abs(S))/Math.LN2;y-=Math.max(M,N),u.scale(Dr(y))}var I=u(v.center());I[1]=I[1]-17.5,u.translate(pt(g,I)).clipExtent([[0,0],f]);var D=A4(u,t).only(["osm","touch"]).dimensions(f),P=C4(u,t),O=S4(u,t),T=zl(u,t),F=e.selectAll(".surface").empty();e.call(D);var R,j=e.selectAll(".surface").classed("tr",!0);F&&(h=!0,j.call(r)),l&&!n.hasEntity(l)&&(l=null,i=null),j.call(I2,f).call(P,n,s.vertices,a,v,y).call(O,n,s.ways,a).call(T,n,s.turns(l,p)),j.on("click.restrictions",(function(e){j.call(r.off).call(r);var a=e.target.__data__,o=a&&a.properties&&a.properties.entity;if(o&&(a=o),a instanceof Ot&&(a.__from||a.__via))l=a.id,i=null,U();else if(a instanceof qa){var c,d,p,f,h=K1(n,a,u);if(a.restrictionID&&!a.direct)return;if(a.restrictionID&&!a.only){var g={},m=JSON.parse(JSON.stringify(a));for(m.only=!0,h=h.replace(/^no/,"only"),p=s.turns(l,2),d=[],i=[],f=0;f<p.length;f++){var y=p[f];g[y.restrictionID]||y.direct&&y.path[1]===a.path[1]&&(g[p[f].restrictionID]=!0,y.restrictionType=K1(n,y,u),i.push(y),d.push(p2(y)))}c=s.actions.concat(d,[Z1(m,h),C("operations.restriction.annotation.create")])}else if(a.restrictionID){for(p=i||[],d=[],f=0;f<p.length;f++)p[f].key!==a.key&&d.push(Z1(p[f],p[f].restrictionType));i=null,c=s.actions.concat(d,[p2(a),C("operations.restriction.annotation.delete")])}else c=s.actions.concat([Z1(a,h),C("operations.restriction.annotation.create")]);t.perform.apply(t,c);var v=j.selectAll("."+a.key);z(a=v.empty()?null:v.datum())}else l=null,i=null,U()})).on("mouseover.restrictions",(function(e){z(e.target.__data__)})),j.selectAll(".selected").classed("selected",!1),j.selectAll(".related").classed("related",!1),l&&(R=n.entity(l),j.selectAll("."+l).classed("selected",!0).classed("related",!0)),document.addEventListener("resizeWindow",(function(){I2(m,null),U(1)}),!1),z(null),c=c||d[0]}function U(e){var n=-1;e&&(n=Qr(t.container().select(".sidebar"))[0]),(!e||e&&Math.abs(n-c)>=e)&&t.hasEntity(o)&&(c=n,m.call(b))}function L(e){if(j.selectAll(".related").classed("related",!1).classed("allow",!1).classed("restrict",!1).classed("only",!1),j.selectAll("."+e).classed("related",!0),e)for(var t=s.turns(e,p),n=0;n<t.length;n++){var r=t[n],i=[r.to.way],a=r.no?"restrict":r.only?"only":"allow";if(r.only||1===t.length)r.via.ways&&(i=i.concat(r.via.ways));else if(r.to.way===e)continue;j.selectAll(xn(i)).classed("related",!0).classed("allow","allow"===a).classed("restrict","restrict"===a).classed("only","only"===a)}}function z(e){var t=m.selectAll(".restriction-help").html(""),r={};["from","via","to"].forEach((function(e){r[e]={html:'<span class="qualifier">'+C("restriction.help."+e)+"</span>"}}));var i=e&&e.properties&&e.properties.entity;if(i&&(e=i),l&&(R=n.entity(l),j.selectAll("."+l).classed("selected",!0).classed("related",!0)),e instanceof Ot&&e.__from){R=e,L(l?null:R.id),j.selectAll("."+R.id).classed("related",!0);var a=!l||l!==R.id;t.append("div").html(C.html("restriction.help."+(a?"select_from_name":"from_name"),{from:r.from,fromName:w(R.id,n)}))}else if(e instanceof qa){var o,s,c,d=K1(n,e,u).replace(/^(only|no)\_/,""),p=!1===e.direct?C.html("restriction.help.indirect"):"";if(e.no?(o="restrict",s=C.html("restriction.help.turn.no_"+d,{indirect:{html:p}}),c=C.html("restriction.help.turn.only_"+d,{indirect:""})):e.only?(o="only",s=C.html("restriction.help.turn.only_"+d,{indirect:{html:p}}),c=C.html("restriction.help.turn.allowed_"+d,{indirect:""})):(o="allow",s=C.html("restriction.help.turn.allowed_"+d,{indirect:{html:p}}),c=C.html("restriction.help.turn.no_"+d,{indirect:""})),t.append("div").attr("class","qualifier "+o).html(s),t.append("div").html(C.html("restriction.help.from_name_to_name",{from:r.from,fromName:w(e.from.way,n),to:r.to,toName:w(e.to.way,n)})),e.via.ways&&e.via.ways.length){for(var f=[],h=0;h<e.via.ways.length;h++){var g=f[f.length-1],y=w(e.via.ways[h],n);(!g||y!==g)&&f.push(y)}t.append("div").html(C.html("restriction.help.via_names",{via:r.via,viaNames:f.join(", ")}))}p||t.append("div").html(C.html("restriction.help.toggle",{turn:{html:c.trim()}})),L(null);var v=e.path.slice();j.selectAll(xn(v)).classed("related",!0).classed("allow","allow"===o).classed("restrict","restrict"===o).classed("only","only"===o)}else L(null),l?t.append("div").html(C.html("restriction.help.from_name",{from:r.from,fromName:w(l,n)})):t.append("div").html(C.html("restriction.help.select_from",{from:r.from}))}}function w(e,t){var n=t.entity(e),r=Nt(n)||"",i=ve.match(n,t),a=i&&i.name()||pn(n.id);return r||a}return y.entityIDs=function(e){s=null,l=null,i=null,o=e[0]},y.tags=function(){},y.focus=function(){},y.off=function(e){!h||(e.selectAll(".surface").call(r.off).on("click.restrictions",null).on("mouseover.restrictions",null),$(window).on("resize.restrictions",null))},fe(y,n,"on")}function n8(e,t){var n,r=se("change"),i=$(null);function a(t){var n=t.selectAll(".form-field-input-wrap").data([0]);n=n.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(n),i=(i=n.selectAll("textarea").data([0])).enter().append("textarea").attr("id",e.domId).call(Ue).on("input",o(!0)).on("blur",o()).on("change",o()).merge(i)}function o(a){return function(){var o=Se(i);if(a||(o=t.cleanTagValue(o)),o||!Array.isArray(n[e.key])){var s={};s[e.key]=o||void 0,r.call("change",this,s,a)}}}return a.tags=function(t){n=t;var r=Array.isArray(t[e.key]);Se(i,!r&&t[e.key]?t[e.key]:"").attr("title",r?t[e.key].filter(Boolean).join("\n"):void 0).attr("placeholder",r?C("inspector.multiple_values"):e.placeholder()||C("inspector.unknown")).classed("mixed",r)},a.focus=function(){i.node().focus()},fe(a,r,"on")}function i8(e,t){var n=ne.wikidata,r=se("change"),i=$(null),a=$(null),o=null,s=null,l="",c=[],u=e.keys&&e.keys.find((function(e){return e.includes("wikipedia")})),d="wikidata"===e.key?"name":e.key.split(":")[0],p=lt(t,"combo-"+e.safeid).caseSensitive(!0).minItems(1);function f(s){i=s;var d=s.selectAll(".form-field-input-wrap").data([0]),f=(d=d.enter().append("div").attr("class","form-field-input-wrap form-field-input-"+e.type).merge(d)).selectAll("ul").data([0]),m=(f=f.enter().append("ul").attr("class","rows").merge(f)).selectAll("li.wikidata-search").data([0]),y=m.enter().append("li").attr("class","wikidata-search");y.append("input").attr("type","text").attr("id",e.domId).style("flex","1").call(Ue).on("focus",(function(){var e=$(this).node();e.setSelectionRange(0,e.value.length)})).on("blur",(function(){g()})).call(p.fetcher(h)),p.on("accept",(function(i){i&&(o=i.id,function(){var i={};i[e.key]=o,r.call("change",this,i);var a=t.graph(),s=c;n.entityByQID(o,(function(e,r){if(!e&&t.graph()===a&&r.sitelinks){var i,o=n.languagesToQuery();if(["labels","descriptions"].forEach((function(e){if(r[e]){var t=Object.keys(r[e]);if(0!==t.length){var n=t[0];-1===o.indexOf(n)&&o.push(n)}}})),u){var l;for(var c in o){var d=o[c],p=d.replace("-","_")+"wiki";if(r.sitelinks[p]){l=!0,i=d+":"+r.sitelinks[p].title;break}}if(!l){var f=Object.keys(r.sitelinks).filter((function(e){return e.endsWith("wiki")}));if(0===f.length)i=null;else{var h=f[0].slice(0,-4).replace("_","-"),g=r.sitelinks[f[0]].title;i=h+":"+g}}}if(i&&(i=t.cleanTagValue(i)),!(typeof i>"u")){var m=s.map((function(e){var n=t.hasEntity(e);if(!n)return null;var r=Object.assign({},n.tags);if(null===i){if(!r[u])return null;delete r[u]}else r[u]=i;return Pt(e,r)})).filter(Boolean);!m.length||t.overwrite((function(e){return m.forEach((function(t){e=t(e)})),e}),t.history().undoAnnotation())}}}))}())})).on("cancel",(function(){g()})),y.append("button").attr("class","form-field-button wiki-link").attr("title",C("icons.view_on",{domain:"wikidata.org"})).call(re("#iD-icon-out-link")).on("click",(function(e){e.preventDefault(),l&&window.open(l,"_blank")})),m=m.merge(y),a=m.select("input");var v=f.selectAll("li.labeled-input").data(["description","identifier"]).enter().append("li").attr("class",(function(e){return"labeled-input preset-wikidata-"+e}));v.append("span").attr("class","label").html((function(e){return C.html("wikidata."+e)})),v.append("input").attr("type","text").call(Ue).classed("disabled","true").attr("readonly","true"),v.append("button").attr("class","form-field-button").attr("title",C("icons.copy")).call(re("#iD-operation-copy")).on("click",(function(e){e.preventDefault(),$(this.parentNode).select("input").node().select(),document.execCommand("copy")}))}function h(e,r){if(!e&&d)for(var i in c){var a=t.hasEntity(c[i]);if(a.tags[d]){e=a.tags[d];break}}n.itemsForSearchQuery(e,(function(e,t){if(!e){for(var n in t)t[n].value=t[n].label+" ("+t[n].id+")",t[n].title=t[n].description;r&&r(t)}}))}function g(){var e="";s&&(0===(e=m(s,"labels")).length&&(e=s.id.toString())),Se(a,e)}function m(e,t){if(!e[t])return"";var r=e[t],i=Object.keys(r);if(0===i.length)return"";var a=n.languagesToQuery();for(var o in a){var s=r[a[o]];if(s&&s.value&&s.value.length>0)return s.value}return r[i[0]].value}return f.tags=function(t){var r=Array.isArray(t[e.key]);function c(){s=null,g(),i.select(".preset-wikidata-description").style("display","none"),i.select(".preset-wikidata-identifier").style("display","none"),i.select("button.wiki-link").classed("disabled",!0),l=o&&""!==o?"https://wikidata.org/wiki/Special:Search?search="+o:""}a.attr("title",r?t[e.key].filter(Boolean).join("\n"):null).attr("placeholder",r?C("inspector.multiple_values"):"").classed("mixed",r),o="string"==typeof t[e.key]&&t[e.key]||"",/^Q[0-9]*$/.test(o)?(l="https://wikidata.org/wiki/"+o,n.entityByQID(o,(function(e,t){if(e)c();else{s=t,g();var n=m(t,"descriptions");i.select("button.wiki-link").classed("disabled",!1),i.select(".preset-wikidata-description").style("display",(function(){return n.length>0?"flex":"none"})).select("input").attr("value",n),i.select(".preset-wikidata-identifier").style("display",(function(){return t.id?"flex":"none"})).select("input").attr("value",t.id)}}))):c()},f.entityIDs=function(e){return arguments.length?(c=e,f):c},f.focus=function(){a.node().focus()},fe(f,r,"on")}function c5(e,t){let n,r,i=se("change"),a=ne.wikipedia,o=ne.wikidata,s=$(null),l=$(null),c="",u=[];ze.get("wmf_sitematrix").then(e=>{u=e,r&&v(r)}).catch(()=>{});let d=lt(t,"wikipedia-lang").fetcher((e,t)=>{let n=e.toLowerCase();t(u.filter(e=>e[0].toLowerCase().indexOf(n)>=0||e[1].toLowerCase().indexOf(n)>=0||e[2].toLowerCase().indexOf(n)>=0).map(e=>({value:e[1]})))}),p=lt(t,"wikipedia-title").fetcher((e,r)=>{if(!e){e="";for(let r in n){let i=t.hasEntity(n[r]);if(i.tags.name){e=i.tags.name;break}}}(e.length>7?a.search:a.suggestions)(g()[2],e,(e,t)=>{r(t.map(e=>({value:e})))})});function f(t){let n=t.selectAll(".form-field-input-wrap").data([0]);n=n.enter().append("div").attr("class","form-field-input-wrap form-field-input-".concat(e.type)).merge(n);let r=n.selectAll(".wiki-lang-container").data([0]);r=r.enter().append("div").attr("class","wiki-lang-container").merge(r),s=r.selectAll("input.wiki-lang").data([0]),s=s.enter().append("input").attr("type","text").attr("class","wiki-lang").attr("placeholder",C("translate.localized_translation_language")).call(Ue).call(d).merge(s),s.on("blur",m).on("change",m);let i=n.selectAll(".wiki-title-container").data([0]);i=i.enter().append("div").attr("class","wiki-title-container").merge(i),l=i.selectAll("input.wiki-title").data([0]),l=l.enter().append("input").attr("type","text").attr("class","wiki-title").attr("id",e.domId).call(Ue).call(p).merge(l),l.on("blur",(function(){y(!0)})).on("change",(function(){y(!1)}));let a=i.selectAll(".wiki-link").data([0]);a=a.enter().append("button").attr("class","form-field-button wiki-link").attr("title",C("icons.view_on",{domain:"wikipedia.org"})).call(re("#iD-icon-out-link")).merge(a),a.on("click",e=>{e.preventDefault(),c&&window.open(c,"_blank")})}function h(e){let t=le.languageCode().toLowerCase();for(let n in u){let e=u[n];if(e[2]===t)return e}return e?["","",""]:["English","English","en"]}function g(e){let t=Se(s).toLowerCase();for(let n in u){let e=u[n];if(e[0].toLowerCase()===t||e[1].toLowerCase()===t||e[2]===t)return e}return h(e)}function m(){Se(s,g()[1]),y(!0)}function y(e){let r=Se(l),a=r.match(/https?:\/\/([-a-z]+)\.wikipedia\.org\/(?:wiki|\1-[-a-z]+)\/([^#]+)(?:#(.+))?/),c=a&&u.find(e=>a[1]===e[2]),d={};if(c){let e=c[1];if(r=decodeURIComponent(a[2]).replace(/_/g," "),a[3]){let e;e=decodeURIComponent(a[3]),r+="#"+e.replace(/_/g," ")}r=r.slice(0,1).toUpperCase()+r.slice(1),Se(s,e),Se(l,r)}if(d.wikipedia=r?t.cleanTagValue(g()[2]+":"+r):void 0,i.call("change",this,d),e||!r||!g()[2])return;let p=t.graph(),f=n;o.itemsByTitle(g()[2],r,(e,n)=>{if(e||!n||!Object.keys(n).length||t.graph()!==p)return;let r=Object.keys(n),i=r&&r.find(e=>e.match(/^Q\d+$/)),a=f.map(e=>{let n=t.entity(e).tags,r=Object.assign({},n);return r.wikidata!==i?(r.wikidata=i,Pt(e,r)):null}).filter(Boolean);!a.length||t.overwrite((function(e){return a.forEach((function(t){e=t(e)})),e}),t.history().undoAnnotation())})}function v(t){let n="string"==typeof t[e.key]?t[e.key]:"",r=n.match(/([^:]+):([^#]+)(?:#(.+))?/),i=r&&r[1],a=r&&r[2],o=r&&r[3],d=i&&u.find(e=>i===e[2]);if(d){let e=d[1];if(Se(s,e),Se(l,a+(o?"#"+o:"")),o)try{o=encodeURIComponent(o.replace(/ /g,"_")).replace(/%/g,".")}catch{o=o.replace(/ /g,"_")}c="https://"+i+".wikipedia.org/wiki/"+a.replace(/ /g,"_")+(o?"#"+o:"")}else if(Se(l,n),n&&""!==n)Se(s,""),c="https://".concat(h()[2],".wikipedia.org/w/index.php?fulltext=1&search=").concat(n);else{let e=g(!0);Se(s,e[1]),c=""}}return f.tags=e=>{r=e,v(e)},f.entityIDs=e=>arguments.length?(n=e,f):n,f.focus=()=>{l.node().focus()},fe(f,i,"on")}u5.supportsMultiselection=!1,c5.supportsMultiselection=!1;var f5={access:Y9,address:Z9,check:zo,combo:En,cycleway:J9,defaultCheck:zo,email:An,identifier:An,lanes:l5,localized:e8,roadheight:t8,roadspeed:r8,manyCombo:En,multiCombo:En,networkCombo:En,number:An,onewayCheck:zo,radio:R2,restrictions:u5,semiCombo:En,structureRadio:R2,tel:An,text:An,textarea:n8,typeCombo:En,url:An,wikidata:i8,wikipedia:c5};function Sn(e,t,n,r){r=Object.assign({show:!0,wrap:!0,remove:!0,revert:!0,info:!0},r);var i=se("change","revert"),a=Object.assign({},t);a.domId=mn("form-field-"+a.safeid);var o,s=r.show,l="",c={};n&&n.length&&(o=n.reduce((function(t,n){var r=e.graph().entity(n);return t.extend(r.extent(e.graph()))}),he()));var u=!1,d=Ee().title(C.html("inspector.lock.suggestion",{label:a.label})).placement("bottom");function p(){a.impl=f5[a.type](a,e).on("change",(function(e,t){i.call("change",a,e,t)})),n&&(a.entityIDs=n,a.impl.entityIDs&&a.impl.entityIDs(n))}function f(){return a.keys.some((function(e){if("multiCombo"===a.type){for(var t in c)if(0===t.indexOf(e))return!0;return!1}return void 0!==c[e]}))}function h(e,t){e.stopPropagation(),e.preventDefault(),n&&!u&&i.call("revert",t,t.keys)}function g(e,t){if(e.stopPropagation(),e.preventDefault(),!u){var n={};t.keys.forEach((function(e){n[e]=void 0})),i.call("change",t,n)}}return a.keys=a.keys||[a.key],s&&!a.impl&&p(),a.render=function(t){var i=t.selectAll(".form-field").data([a]),o=i.enter().append("div").attr("class",(function(e){return"form-field form-field-"+e.safeid})).classed("nowrap",!r.wrap);if(r.wrap){var s=o.append("label").attr("class","field-label").attr("for",(function(e){return e.domId})),m=s.append("span").attr("class","label-text");m.append("span").attr("class","label-textvalue").html((function(e){return e.label()})),m.append("span").attr("class","label-textannotation"),r.remove&&s.append("button").attr("class","remove-icon").attr("title",C("icons.remove")).call(re("#iD-operation-delete")),r.revert&&s.append("button").attr("class","modified-icon").attr("title",C("icons.undo")).call(re("rtl"===le.textDirection()?"#iD-icon-redo":"#iD-icon-undo"))}(i=i.merge(o)).select(".field-label > .remove-icon").on("click",g),i.select(".field-label > .modified-icon").on("click",h),i.each((function(t){var n,i,o=$(this);if(t.impl||p(),r.wrap&&"restrictions"===a.type&&(i=s5(e,"restrictions")),r.wrap&&r.info){var s=t.key||"";"multiCombo"===t.type&&(s=s.replace(/:$/,"")),n=Ni(t.reference||{key:s},e),"hover"===l&&n.showing(!1)}o.call(t.impl),i&&o.call(i.body).select(".field-label").call(i.button),n&&o.call(n.body).select(".field-label").call(n.button),t.impl.tags(c)})),i.classed("locked",u).classed("modified",!(!n||!n.length)&&n.some((function(t){var n=e.graph().base().entities[t],r=e.graph().entity(t);return a.keys.some((function(e){return n?r.tags[e]!==n.tags[e]:r.tags[e]}))}))).classed("present",f());var y=i.selectAll(".field-label .label-textannotation").selectAll(".icon").data(u?[0]:[]);y.exit().remove(),y.enter().append("svg").attr("class","icon").append("use").attr("xlink:href","#fas-lock"),i.call(u?d:d.destroy)},a.state=function(e){return arguments.length?(l=e,a):l},a.tags=function(e){return arguments.length?(c=e,f()&&!s&&(s=!0,a.impl||p()),a):c},a.locked=function(e){return arguments.length?(u=e,a):u},a.show=function(){if(s=!0,a.impl||p(),a.default&&a.key&&c[a.key]!==a.default){var e={};e[a.key]=a.default,i.call("change",this,e)}},a.isShown=function(){return s},a.isAllowed=function(){if(n&&n.length>1&&!1===f5[a.type].supportsMultiselection||a.geometry&&!n.every((function(t){return a.matchGeometry(e.graph().geometry(t))})))return!1;if(n&&o&&a.locationSetID&&!Ir.locationsAt(o.center())[a.locationSetID])return!1;var t=a.prerequisiteTag;return!(n&&!f()&&t&&!n.every((function(n){var r=e.graph().entity(n);if(t.key){var i=r.tags[t.key];if(!i)return!1;if(t.valueNot)return t.valueNot!==i;if(t.value)return t.value===i}else if(t.keyNot&&r.tags[t.keyNot])return!1;return!0})))},a.focus=function(){a.impl&&a.impl.focus()},fe(a,i,"on")}function I4(e){var t=lt(e,"more-fields").minItems(1),n=[],r="",i="",a="";function o(e){var s=n.filter((function(e){return e.isAllowed()})),l=s.filter((function(e){return e.isShown()})),c=s.filter((function(e){return!e.isShown()})),u=e.selectAll(".form-fields-container").data([0]),d=(u=u.enter().append("div").attr("class","form-fields-container "+(a||"")).merge(u)).selectAll(".wrap-form-field").data(l,(function(e){return e.id+(e.entityIDs?e.entityIDs.join():"")}));d.exit().remove();var p=d.enter().append("div").attr("class",(function(e){return"wrap-form-field wrap-form-field-"+e.safeid}));(d=d.merge(p)).order().each((function(e){$(this).call(e.render)}));var f=[],h=c.map((function(e){var t=e.title();f.push(t);var n=e.terms();return e.key&&n.push(e.key),e.keys&&(n=n.concat(e.keys)),{display:e.label(),value:t,title:t,field:e,terms:n}})),g=f.slice(0,3).join(", ")+(f.length>3?"\u2026":""),m=e.selectAll(".more-fields").data("hover"===i||0===h.length?[]:[0]);m.exit().remove();var y=m.enter().append("div").attr("class","more-fields").append("label");y.append("span").call(C.append("inspector.add_fields"));var v=(m=y.merge(m)).selectAll(".value").data([0]);v.exit().remove(),(v=v.enter().append("input").attr("class","value").attr("type","text").attr("placeholder",g).call(Ue).merge(v)).call(Se,"").call(t.data(h).on("accept",(function(t){if(t){var n=t.field;n.show(),e.call(o),n.focus()}}))),r!==g&&(v.attr("placeholder",g),r=g)}return o.fieldsArr=function(e){return arguments.length?(n=e||[],o):n},o.state=function(e){return arguments.length?(i=e,o):i},o.klass=function(e){return arguments.length?(a=e,o):a},o}function d5(e){var t,n,r,i=se("change"),a=I4(e),o=lt(e,"comment").caseSensitive(!0);function s(r){!function(r){var s=!1;if(!t){s=!0;var l=ve;(t=[Sn(e,l.field("comment"),null,{show:!0,revert:!1}),Sn(e,l.field("source"),null,{show:!1,revert:!1}),Sn(e,l.field("hashtags"),null,{show:!1,revert:!1})]).forEach((function(e){e.on("change",(function(t,n){i.call("change",e,void 0,t,n)}))}))}if(t.forEach((function(e){e.tags(n)})),r.call(a.fieldsArr(t)),s){var c=r.select(".form-field-comment textarea"),u=c.node();u&&(u.focus(),u.select()),U1(c,"blur");var d=e.connection();d&&d.userChangesets((function(e,t){if(!e){var n=t.map((function(e){var t=e.tags.comment;return t?{title:t,value:t}:null})).filter(Boolean);c.call(o.data(Da(n,"title")))}}))}var p=n.comment.match(/google/i),f=r.select(".form-field-comment").selectAll(".comment-warning").data(p?[0]:[]);f.exit().transition().duration(200).style("opacity",0).remove();var h=f.enter().insert("div",".tag-reference-body").attr("class","field-warning comment-warning").style("opacity",0);h.append("a").attr("target","_blank").call(re("#iD-icon-alert","inline")).attr("href",C("commit.google_warning_link")).append("span").call(C.append("commit.google_warning")),h.transition().duration(200).style("opacity",1)}(r)}return s.tags=function(e){return arguments.length?(n=e,s):n},s.changesetID=function(e){return arguments.length?(r===e||(r=e,t=null),s):r},fe(s,i,"on")}var Dv=je(zn()),Ka=new function(){var e="keyValue",t="keyAttributes",n=[],r=/^\s*$/,i=/^(?:true|false)$/i;function a(e){return r.test(e)?null:i.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):isFinite(Date.parse(e))?new Date(e):e}function o(){}function s(r,i,l,c){var u,d,p=n.length,f=r.hasChildNodes(),h=r.hasAttributes(),g=Boolean(2&i),m=0,y="",v=!g||{};if(f)for(var b,w=0;w<r.childNodes.length;w++)4===(b=r.childNodes.item(w)).nodeType?y+=b.nodeValue:3===b.nodeType?y+=b.nodeValue.trim():1===b.nodeType&&!b.prefix&&n.push(b);var _=n.length,k=a(y);!g&&(f||h)&&(v=0===i?function(e){return null===e?new o:e instanceof Object?e:new e.constructor(e)}(k):{});for(var x=p;x<_;x++)u=n[x].nodeName.toLowerCase(),d=s(n[x],i,l,c),v.hasOwnProperty(u)?(v[u].constructor!==Array&&(v[u]=[v[u]]),v[u].push(d)):(v[u]=d,m++);if(h){for(var A,E=r.attributes.length,C=c?"":"@",S=c?{}:v,M=0;M<E;m++,M++)S[C+(A=r.attributes.item(M)).name.toLowerCase()]=a(A.value.trim());c&&(l&&Object.freeze(S),v[t]=S,m-=E-1)}return 3===i||(2===i||1===i&&m>0)&&y?v[e]=k:!g&&0===m&&y&&(v=k),l&&(g||m>0)&&Object.freeze(v),n.length=p,v}o.prototype.toString=function(){return"null"},o.prototype.valueOf=function(){return null},this.build=function(e,t,n,r){var i=arguments.length>1&&"number"==typeof t?3&t:1;return s(e,i,n||!1,arguments.length>3?r:3===i)},this.unbuild=function(n){var r=document.implementation.createDocument("","",null);return function n(r,i,a){var o,s;for(var l in a instanceof String||a instanceof Number||a instanceof Boolean?i.appendChild(r.createTextNode(a.toString())):a.constructor===Date&&i.appendChild(r.createTextNode(a.toGMTString())),a)if(o=a[l],!(isFinite(l)||o instanceof Function))if(l===e)null!==o&&!0!==o&&i.appendChild(r.createTextNode(o.constructor===Date?o.toGMTString():String(o)));else if(l===t)for(var c in o)i.setAttribute(c,o[c]);else if("@"===l.charAt(0))i.setAttribute(l.slice(1),o);else if(o.constructor===Array)for(var u=0;u<o.length;u++)s=r.createElement(l),n(r,s,o[u]),i.appendChild(s);else s=r.createElement(l),o instanceof Object?n(r,s,o):null!==o&&!0!==o&&s.appendChild(r.createTextNode(o.toString())),i.appendChild(s)}(r,r,n),r},this.stringify=function(e){return(new XMLSerializer).serializeToString(Ka.unbuild(e))}};function p5(e){var t={};return ze.get("discarded").then((function(e){t=e})).catch((function(){})),et("changes-list",e).label((function(){var t=e.history().difference().summary();return C.html("inspector.title_count",{title:{html:C.html("commit.changes")},count:t.length})})).disclosureContent((function(n){var r=e.history(),i=r.difference().summary(),a=n.selectAll(".commit-section").data([0]),o=a.enter().append("div").attr("class","commit-section");o.append("ul").attr("class","changeset-list");var s=(a=o.merge(a)).select("ul").selectAll("li").data(i),l=s.enter().append("li").attr("class","change-item"),c=l.append("button").on("mouseover",(function(t){t.entity&&e.surface().selectAll(Xi([t.entity.id],e.graph())).classed("hover",!0)})).on("mouseout",(function(){e.surface().selectAll(".hover").classed("hover",!1)})).on("click",(function(t,n){if("deleted"!==n.changeType){var r=n.entity;e.map().zoomToEase(r),e.surface().selectAll(Xi([r.id],e.graph())).classed("hover",!0)}}));c.each((function(e){$(this).call(re("#iD-icon-"+e.entity.geometry(e.graph),"pre-text "+e.changeType))})),c.append("span").attr("class","change-type").html((function(e){return C.html("commit."+e.changeType)+" "})),c.append("strong").attr("class","entity-type").text((function(e){var t=ve.match(e.entity,e.graph);return t&&t.name()||pn(e.entity.id)})),c.append("span").attr("class","entity-name").text((function(e){var t=Nt(e.entity)||"",n="";return""!==t&&(n+=":"),n+" "+t})),s=l.merge(s);var u=(new kn).update({id:void 0}),d=r.changes(Ao(r.difference(),t));delete u.id;var p=Ka.stringify(u.osmChangeJXON(d)),f=new Blob([p],{type:"text/xml;charset=utf-8;"}),h=a.selectAll(".download-changes").data([0]).enter().append("a").attr("class","download-changes");h.attr("href",window.URL.createObjectURL(f)).attr("download","changes.osc"),h.call(re("#iD-icon-load","inline")).append("span").call(C.append("commit.download_changes"))}))}function m5(e){return function(t){var n=e.validator().getIssuesBySeverity({what:"edited",where:"all",includeDisabledRules:!0});for(var r in n){var i=n[r];"error"!==r&&(i=i.filter((function(e){return"help_request"!==e.type})));var a=r+"-section",o=r+"-item",s=t.selectAll("."+a).data(i.length?[0]:[]);s.exit().remove();var l=s.enter().append("div").attr("class","modal-section "+a+" fillL2");l.append("h3").html("warning"===r?C.html("commit.warnings"):C.html("commit.errors")),l.append("ul").attr("class","changeset-list");var c=(s=l.merge(s)).select("ul").selectAll("li").data(i,(function(e){return e.key}));c.exit().remove();var u=c.enter().append("li").attr("class",o),d=u.append("button").on("mouseover",(function(t,n){n.entityIds&&e.surface().selectAll(Xi(n.entityIds,e.graph())).classed("hover",!0)})).on("mouseout",(function(){e.surface().selectAll(".hover").classed("hover",!1)})).on("click",(function(t,n){e.validator().focusIssue(n)}));d.call(re("#iD-icon-alert","pre-text")),d.append("strong").attr("class","issue-message"),d.filter((function(e){return e.tooltip})).call(Ee().title((function(e){return e.tooltip})).placement("top")),(c=u.merge(c)).selectAll(".issue-message").html((function(t){return t.message(e)}))}}}var Cv=[/^changesets_count$/,/^created_by$/,/^ideditor:/,/^imagery_used$/,/^host$/,/^locale$/,/^warnings:/,/^resolved:/,/^closed:note$/,/^closed:keepright$/,/^closed:improveosm:/,/^closed:osmose:/],Fv=/(#[^\u2000-\u206F\u2E00-\u2E7F\s\\'!"#$%()*,.\/:;<=>?@\[\]^`{|}~]+)/g;function h5(e){var t,n,r=se("cancel"),i=d5(e).on("change",u),a=Xa("changeset-tag-editor",e).on("change",u).readOnlyTags(Cv),o=p5(e),s=m5(e);function l(t){n=t,e.changeset||function(){var t=+ce("commentDate")||0,n=Date.now();(t>n||n-t>1728e5)&&(ce("comment",null),ce("hashtags",null),ce("source",null)),e.defaultChangesetComment()&&(ce("comment",e.defaultChangesetComment()),ce("commentDate",Date.now())),e.defaultChangesetSource()&&(ce("source",e.defaultChangesetSource()),ce("commentDate",Date.now())),e.defaultChangesetHashtags()&&(ce("hashtags",e.defaultChangesetHashtags()),ce("commentDate",Date.now()));var r=Bt(),i={comment:ce("comment")||"",created_by:e.cleanTagValue("iD "+e.version),host:e.cleanTagValue(r.host),locale:e.cleanTagValue(le.localeCode())};d(i,!0);var a=ce("hashtags");a&&(i.hashtags=a);var o=ce("source");o&&(i.source=o);var s=e.history().photoOverlaysUsed();if(s.length){var l=(i.source||"").split(";");-1===l.indexOf("streetlevel imagery")&&l.push("streetlevel imagery"),s.forEach((function(e){-1===l.indexOf(e)&&l.push(e)})),i.source=e.cleanTagValue(l.join(";"))}e.changeset=new kn({tags:i})}(),function(){var t=e.connection();if(!t)return;var n=Object.assign({},e.changeset.tags),r=e.cleanTagValue(e.history().imageryUsed().join(";"));n.imagery_used=r||"None";var i,a=t.getClosedIDs();if(a.length&&(n["closed:note"]=e.cleanTagValue(a.join(";"))),ne.keepRight){var o=ne.keepRight.getClosedIDs();o.length&&(n["closed:keepright"]=e.cleanTagValue(o.join(";")))}if(ne.improveOSM){var s=ne.improveOSM.getClosedCounts();for(i in s)n["closed:improveosm:"+i]=e.cleanTagValue(s[i].toString())}if(ne.osmose){var l=ne.osmose.getClosedCounts();for(i in l)n["closed:osmose:"+i]=e.cleanTagValue(l[i].toString())}for(var c in n)c.match(/(^warnings:)|(^resolved:)/)&&delete n[c];function u(t,r){var i=Ct(t,"type");for(var a in i){var o=i[a];if(o[0].subtype){var s=Ct(o,"subtype");for(var l in s){var c=s[l];n[r+":"+a+":"+l]=e.cleanTagValue(c.length.toString())}}else n[r+":"+a]=e.cleanTagValue(o.length.toString())}}u(e.validator().getIssuesBySeverity({what:"edited",where:"all",includeIgnored:!0,includeDisabledRules:!0}).warning.filter((function(e){return"help_request"!==e.type})),"warnings"),u(e.validator().getResolvedIssues(),"resolved"),e.changeset=e.changeset.update({tags:n})}(),t.call(c)}function c(n){var l=e.connection();if(l){var c=n.selectAll(".header").data([0]).enter().append("div").attr("class","header fillL");c.append("div").append("h2").call(C.append("commit.title")),c.append("button").attr("class","close").attr("title",C("icons.close")).on("click",(function(){r.call("cancel",this)})).call(re("#iD-icon-close"));var u=n.selectAll(".body").data([0]),d=(u=u.enter().append("div").attr("class","body").merge(u)).selectAll(".changeset-editor").data([0]);(d=d.enter().append("div").attr("class","modal-section changeset-editor").merge(d)).call(i.changesetID(e.changeset.id).tags(e.changeset.tags)),u.call(s);var f=u.selectAll(".save-section").data([0]),h=(f=f.enter().append("div").attr("class","modal-section save-section fillL").merge(f)).selectAll(".commit-info").data([0]);h.enter().size()&&(t=null),h=h.enter().append("p").attr("class","commit-info").call(C.append("commit.upload_explanation")).merge(h),l.userDetails((function(e,n){if(!e&&t!==n){t=n;var r=$(document.createElement("div"));n.image_url&&r.append("img").attr("src",n.image_url).attr("class","icon pre-text user-icon"),r.append("a").attr("class","user-info").text(n.display_name).attr("href",l.userURL(n.display_name)).attr("target","_blank"),h.html(C.html("commit.upload_explanation_with_user",{user:{html:r.html()}}))}}));var g=f.selectAll(".request-review").data([0]),m=g.enter().append("div").attr("class","request-review"),y=mn("commit-input-request-review"),v=m.append("label").attr("for",y);v.empty()||v.call(Ee().title(C.html("commit.request_review_info")).placement("top")),v.append("input").attr("type","checkbox").attr("id",y),v.append("span").call(C.append("commit.request_review"));var b=(g=g.merge(m)).selectAll("input").property("checked",function(e){var t=e.review_requested;return void 0!==t&&!(""===(t=t.trim().toLowerCase())||"no"===t)}(e.changeset.tags)).on("change",(function(){p({review_requested:b.property("checked")?"yes":void 0}),x.call(a.tags(Object.assign({},e.changeset.tags)).render)})),w=f.selectAll(".buttons").data([0]),_=w.enter().append("div").attr("class","buttons fillL");_.append("button").attr("class","secondary-action button cancel-button").append("span").attr("class","label").call(C.append("commit.cancel")),_.append("button").attr("class","action button save-button").append("span").attr("class","label").call(C.append("commit.save"));var k=function(){var t=e.validator().getIssuesBySeverity({what:"edited",where:"all"}).error;return t.length?C("commit.outstanding_errors_message",{count:t.length}):e.changeset&&e.changeset.tags.comment&&e.changeset.tags.comment.trim().length?null:C("commit.comment_needed_message")}();(w=w.merge(_)).selectAll(".cancel-button").on("click.cancel",(function(){r.call("cancel",this)})),w.selectAll(".save-button").classed("disabled",null!==k).on("click.save",(function(){if(!$(this).classed("disabled")){for(var t in this.blur(),e.changeset.tags)t||delete e.changeset.tags[t];e.uploader().save(e.changeset)}})),Ee().destroyAny(w.selectAll(".save-button")),k&&w.selectAll(".save-button").call(Ee().title(k).placement("top"));var x=u.selectAll(".tag-section.raw-tag-editor").data([0]);(x=x.enter().append("div").attr("class","modal-section tag-section raw-tag-editor").merge(x)).call(a.tags(Object.assign({},e.changeset.tags)).render);var A=u.selectAll(".commit-changes-section").data([0]);(A=A.enter().append("div").attr("class","modal-section commit-changes-section").merge(A)).call(o.render)}}function u(e,t,r){t.hasOwnProperty("comment")&&(void 0===t.comment&&(t.comment=""),r||(ce("comment",t.comment),ce("commentDate",Date.now()))),t.hasOwnProperty("source")&&(void 0===t.source?ce("source",null):r||(ce("source",t.source),ce("commentDate",Date.now()))),p(t,r),n&&n.call(c)}function d(e,t){var n=(e.comment||"").replace(/http\S*/g,"").match(Fv)||[];n.length&&ce("hashtags",null),(!n.length||!t)&&(n=n.concat((e.hashtags||"").split(/[,;\s]+/).map((function(e){"#"!==e[0]&&(e="#"+e);var t=e.match(Fv);return t&&t[0]})).filter(Boolean)||[]));var r=new Set;return n.filter((function(e){var t=e.toLowerCase();return!r.has(t)&&(r.add(t),!0)}))}function p(n,r){var i=Object.assign({},e.changeset.tags);if(Object.keys(n).forEach((function(t){var a=n[t];t=e.cleanTagKey(t),-1===Cv.indexOf(t)&&(void 0===a?delete i[t]:i[t]=r?a:e.cleanTagValue(a))})),!r){var a=n.hasOwnProperty("comment")&&""!==n.comment,o=d(i,a);o.length?(i.hashtags=e.cleanTagValue(o.join(";")),ce("hashtags",i.hashtags)):(delete i.hashtags,ce("hashtags",null))}if(t&&void 0!==t.changesets_count){var s,l=parseInt(t.changesets_count,10)+1;if(i.changesets_count=String(l),l<=100)(s=ce("walkthrough_completed"))&&(i["ideditor:walkthrough_completed"]=s),(s=ce("walkthrough_progress"))&&(i["ideditor:walkthrough_progress"]=s),(s=ce("walkthrough_started"))&&(i["ideditor:walkthrough_started"]=s)}else delete i.changesets_count;(0,Dv.default)(e.changeset.tags,i)||(e.changeset=e.changeset.update({tags:i}))}return l.reset=function(){e.changeset=null},fe(l,r,"on")}function Ya(e){var t=nn(e);t.select(".modal").classed("modal-alert",!0);var n=t.select(".content");n.append("div").attr("class","modal-section header"),n.append("div").attr("class","modal-section message-text");var r=n.append("div").attr("class","modal-section buttons cf");return t.okButton=function(){return r.append("button").attr("class","button ok-button action").on("click.confirm",(function(){t.remove()})).call(C.append("confirm.okay")).node().focus(),t},t}function g5(e){var t,n,r,i=se("cancel","save"),a=Ie("conflicts");function o(){$(document).call(a.unbind)}function s(){o(),i.call("save")}function l(){o(),i.call("cancel")}function c(e){$(document).call(a.on("\u238b",l,!0));var r=e.selectAll(".header").data([0]).enter().append("div").attr("class","header fillL");r.append("button").attr("class","fr").attr("title",C("icons.close")).on("click",l).call(re("#iD-icon-close")),r.append("h2").call(C.append("save.conflict.header"));var i=e.selectAll(".body").data([0]).enter().append("div").attr("class","body fillL"),o=i.append("div").attr("class","conflicts-help").call(C.append("save.conflict.help")),c=new kn;delete c.id;var d=Ka.stringify(c.osmChangeJXON(t)),p=new Blob([d],{type:"text/xml;charset=utf-8;"}),f=o.selectAll(".download-changes").append("a").attr("class","download-changes");f.attr("href",window.URL.createObjectURL(p)).attr("download","changes.osc"),f.call(re("#iD-icon-load","inline")).append("span").call(C.append("save.conflict.download_changes")),i.append("div").attr("class","conflict-container fillL3").call(u,0),i.append("div").attr("class","conflicts-done").attr("opacity",0).style("display","none").call(C.append("save.conflict.done"));var h=i.append("div").attr("class","buttons col12 joined conflicts-buttons");h.append("button").attr("disabled",n.length>1).attr("class","action conflicts-button col6").call(C.append("save.title")).on("click.try_again",s),h.append("button").attr("class","secondary-action conflicts-button col6").call(C.append("confirm.cancel")).on("click.cancel",l)}function u(e,t){t=V1(t,n.length),r=t;var i=$(e.node().parentNode);t===n.length-1&&window.setTimeout((function(){i.select(".conflicts-button").attr("disabled",null),i.select(".conflicts-done").transition().attr("opacity",1).style("display","block")}),250);var a=e.selectAll(".conflict").data([n[t]]);a.exit().remove();var o=a.enter().append("div").attr("class","conflict");o.append("h4").attr("class","conflict-count").call(C.append("save.conflict.count",{num:t+1,total:n.length})),o.append("a").attr("class","conflict-description").attr("href","#").text((function(e){return e.name})).on("click",(function(e,t){e.preventDefault(),f(t.id)}));var s=o.append("div").attr("class","conflict-detail-container");s.append("ul").attr("class","conflict-detail-list").selectAll("li").data((function(e){return e.details||[]})).enter().append("li").attr("class","conflict-detail-item").html((function(e){return e})),s.append("div").attr("class","conflict-choices").call(d),s.append("div").attr("class","conflict-nav-buttons joined cf").selectAll("button").data(["previous","next"]).enter().append("button").html((function(e){return C.html("save.conflict."+e)})).attr("class","conflict-nav-button action col6").attr("disabled",(function(e,r){return 0===r&&0===t||1===r&&t===n.length-1||null})).on("click",(function(e,n){e.preventDefault();var r=i.selectAll(".conflict-container"),a="previous"===n?-1:1;r.selectAll(".conflict").remove(),r.call(u,t+a)}))}function d(e){var t=e.append("ul").attr("class","layer-list").selectAll("li").data((function(e){return e.choices||[]})),n=t.enter().append("li").attr("class","layer"),r=n.append("label");r.append("input").attr("type","radio").attr("name",(function(e){return e.id})).on("change",(function(e,t){var n=this.parentNode.parentNode.parentNode;n.__data__.chosen=t.id,p(e,n,t)})),r.append("span").text((function(e){return e.text})),n.merge(t).each((function(e){var t=this.parentNode;t.__data__.chosen===e.id&&p(null,t,e)}))}function p(t,n,r){t&&t.preventDefault(),$(n).selectAll("li").classed("active",(function(e){return e===r})).selectAll("input").property("checked",(function(e){return e===r}));var i,a=he();(i=e.graph().hasEntity(r.id))&&a._extend(i.extent(e.graph())),r.action(),(i=e.graph().hasEntity(r.id))&&a._extend(i.extent(e.graph())),f(r.id,a)}function f(t,n){e.surface().selectAll(".hover").classed("hover",!1);var r=e.graph().hasEntity(t);r&&(n?e.map().trimmedExtent(n):e.map().zoomToEase(r),e.surface().selectAll(Xi([r.id],e.graph())).classed("hover",!0))}return c.conflictList=function(e){return arguments.length?(n=e,c):n},c.origChanges=function(e){return arguments.length?(t=e,c):t},c.shownEntityIds=function(){return n&&"number"==typeof r?[n[r].id]:[]},fe(c,i,"on")}var a8=je(zn());function v5(e){var t,n=ce("entity-issues.reference.expanded"),r=null===n||"true"===n,i=[],a=[],o=et("entity-issues",e).shouldDisplay((function(){return a.length>0})).label((function(){return C.html("inspector.title_count",{title:{html:C.html("issues.list_title")},count:a.length})})).disclosureContent((function(n){n.classed("grouped-items-area",!0),t=a.length>0?a[0].id:null;var o=n.selectAll(".issue-container").data(a,(function(e){return e.key}));o.exit().remove();var s=o.enter().append("div").attr("class","issue-container"),c=s.append("div").attr("class",(function(e){return"issue severity-"+e.severity})).on("mouseover.highlight",(function(t,n){We(n.entityIds.filter((function(e){return-1===i.indexOf(e)})),!0,e)})).on("mouseout.highlight",(function(t,n){We(n.entityIds.filter((function(e){return-1===i.indexOf(e)})),!1,e)})),u=c.append("div").attr("class","issue-label"),d=u.append("button").attr("class","issue-text").on("click",(function(t,n){l(n.id);var r=n.extent(e.graph());if(r){var i=Math.max(e.map().zoom(),19);e.map().unobscuredCenterZoomEase(r.center(),i)}}));d.each((function(e){var t="#iD-icon-"+("warning"===e.severity?"alert":"error");$(this).call(re(t,"issue-icon"))})),d.append("span").attr("class","issue-message"),u.append("button").attr("class","issue-info-button").attr("title",C("icons.information")).call(re("#iD-icon-inspect")).on("click",(function(e){e.stopPropagation(),e.preventDefault(),this.blur();var t=$(this.parentNode.parentNode.parentNode).selectAll(".issue-info"),n=t.classed("expanded");ce("entity-issues.reference.expanded",r=!n),n?t.transition().duration(200).style("max-height","0px").style("opacity","0").on("end",(function(){t.classed("expanded",!1)})):t.classed("expanded",!0).transition().duration(200).style("max-height","200px").style("opacity","1").on("end",(function(){t.style("max-height",null)}))})),c.append("ul").attr("class","issue-fix-list"),s.append("div").attr("class","issue-info"+(r?" expanded":"")).style("max-height",r?null:"0").style("opacity",r?"1":"0").each((function(e){"function"==typeof e.reference?$(this).call(e.reference):$(this).call(C.append("inspector.no_documentation_key"))})),(o=o.merge(s).classed("active",(function(e){return e.id===t}))).selectAll(".issue-message").html((function(t){return t.message(e)}));var p=o.selectAll(".issue-fix-list").selectAll(".issue-fix-item").data((function(t){return t.fixes?t.fixes(e):[]}),(function(e){return e.id}));p.exit().remove();var f=p.enter().append("li").attr("class","issue-fix-item"),h=f.append("button").on("click",(function(t,n){$(this).attr("disabled")||!n.onClick||n.issue.dateLastRanFix&&new Date-n.issue.dateLastRanFix<1e3||(n.issue.dateLastRanFix=new Date,We(n.issue.entityIds.concat(n.entityIds),!1,e),new Promise((function(t,r){n.onClick(e,t,r),n.onClick.length<=1&&t()})).then((function(){e.validator().validate()})))})).on("mouseover.highlight",(function(t,n){We(n.entityIds,!0,e)})).on("mouseout.highlight",(function(t,n){We(n.entityIds,!1,e)}));h.each((function(e){var t=e.icon||"iD-icon-wrench";t.startsWith("maki")&&(t+="-15"),$(this).call(re("#"+t,"fix-icon"))})),h.append("span").attr("class","fix-message").html((function(e){return e.title})),f.merge(p).selectAll("button").classed("actionable",(function(e){return e.onClick})).attr("disabled",(function(e){return e.onClick?null:"true"})).attr("title",(function(e){return e.disabledReason?e.disabledReason:null}))}));function s(){a=e.validator().getSharedEntityIssues(i,{includeDisabledRules:!0})}function l(e){t=e,o.selection().selectAll(".issue-container").classed("active",(function(e){return e.id===t}))}return e.validator().on("validated.entity_issues",(function(){s(),o.reRender()})).on("focusedIssue.entity_issues",(function(e){l(e.id)})),o.entityIDs=function(e){return arguments.length?((!i||!e||!hr(i,e))&&(i=e,t=null,s()),o):i},o}function qo(){let e,t;function n(e){e.each(f)}function r(e,t){return e.icon?e.icon:"line"===t?"iD-other-line":"vertex"===t?e.isFallback()?"":"temaki-vertex":"maki-marker-stroked"}function i(e,t){let n=e.selectAll(".preset-icon-point-border").data(t?[0]:[]);n.exit().remove();let r=n.enter();r.append("svg").attr("class","preset-icon-fill preset-icon-point-border").attr("width",40).attr("height",40).attr("viewBox","0 0 ".concat(40," ").concat(40)).append("path").attr("transform","translate(11.5, 8)").attr("d","M 17,8 C 17,13 11,21 8.5,23.5 C 6,21 0,13 0,8 C 0,4 4,-0.5 8.5,-0.5 C 13,-0.5 17,4 17,8 z"),n=r.merge(n)}function a(e,t){let n=e.selectAll(".preset-icon-category-border").data(t?[0]:[]);n.exit().remove();let r=n.enter();r.append("svg").attr("class","preset-icon-fill preset-icon-category-border").attr("width",60).attr("height",60).attr("viewBox","0 0 ".concat(60," ").concat(60)).append("path").attr("class","area").attr("d","M9.5,7.5 L25.5,7.5 L28.5,12.5 L49.5,12.5 C51.709139,12.5 53.5,14.290861 53.5,16.5 L53.5,43.5 C53.5,45.709139 51.709139,47.5 49.5,47.5 L10.5,47.5 C8.290861,47.5 6.5,45.709139 6.5,43.5 L6.5,12.5 L9.5,7.5 Z"),n=r.merge(n),t&&n.selectAll("path").attr("class","area ".concat(t.id))}function o(e,t){let n=e.selectAll(".preset-icon-fill-vertex").data(t?[0]:[]);n.exit().remove();let r=n.enter();r.append("svg").attr("class","preset-icon-fill preset-icon-fill-vertex").attr("width",60).attr("height",60).attr("viewBox","0 0 ".concat(60," ").concat(60)).append("circle").attr("cx",30).attr("cy",30).attr("r",20),n=r.merge(n)}function s(e,t,n){let r=e.selectAll(".preset-icon-fill-area").data(t?[0]:[]);r.exit().remove();let i=r.enter(),a=10,o=a+40;i=i.append("svg").attr("class","preset-icon-fill preset-icon-fill-area").attr("width",60).attr("height",60).attr("viewBox","0 0 ".concat(60," ").concat(60)),["fill","stroke"].forEach(e=>{i.append("path").attr("d","M".concat(a," ").concat(a," L").concat(a," ").concat(o," L").concat(o," ").concat(o," L").concat(o," ").concat(a," Z")).attr("class","area ".concat(e))});[[a,a],[a,o],[o,o],[o,a]].forEach(e=>{i.append("circle").attr("class","vertex").attr("cx",e[0]).attr("cy",e[1]).attr("r",2.5)});[[a,30],[o,30],[30,a],[30,o]].forEach(e=>{i.append("circle").attr("class","midpoint").attr("cx",e[0]).attr("cy",e[1]).attr("r",1.25)}),r=i.merge(r),r.selectAll("path.stroke").attr("class","area stroke ".concat(n)),r.selectAll("path.fill").attr("class","area fill ".concat(n))}function l(e,t,n){let r=e.selectAll(".preset-icon-line").data(t?[0]:[]);r.exit().remove();let i=r.enter(),a=Math.round(60*.72),o=Math.round(36),s=(60-o)/2,l=s+o;i=i.append("svg").attr("class","preset-icon-line").attr("width",60).attr("height",60).attr("viewBox","0 0 ".concat(60," ").concat(60)),["casing","stroke"].forEach(e=>{i.append("path").attr("d","M".concat(s," ").concat(a," L").concat(l," ").concat(a)).attr("class","line ".concat(e))}),[[s-1,a],[l+1,a]].forEach(e=>{i.append("circle").attr("class","vertex").attr("cx",e[0]).attr("cy",e[1]).attr("r",2.5)}),r=i.merge(r),r.selectAll("path.stroke").attr("class","line stroke ".concat(n)),r.selectAll("path.casing").attr("class","line casing ".concat(n))}function c(e,t,n){let r=e.selectAll(".preset-icon-route").data(t?[0]:[]);r.exit().remove();let i=r.enter(),a=Math.round(48),o=Math.round(60*.68),s=Math.round(36),l=(60-s)/2,c=l+s/3,u=c+s/3,d=u+s/3;if(i=i.append("svg").attr("class","preset-icon-route").attr("width",60).attr("height",60).attr("viewBox","0 0 ".concat(60," ").concat(60)),["casing","stroke"].forEach(e=>{i.append("path").attr("d","M".concat(l," ").concat(a," L").concat(c," ").concat(o)).attr("class","segment0 line ".concat(e)),i.append("path").attr("d","M".concat(c," ").concat(o," L").concat(u," ").concat(a)).attr("class","segment1 line ".concat(e)),i.append("path").attr("d","M".concat(u," ").concat(a," L").concat(d," ").concat(o)).attr("class","segment2 line ".concat(e))}),[[l,a],[c,o],[u,a],[d,o]].forEach(e=>{i.append("circle").attr("class","vertex").attr("cx",e[0]).attr("cy",e[1]).attr("r",2)}),r=i.merge(r),t){let e="waterway"===n.tags.type?"waterway":n.tags.route,t=p[e];for(let n in t){let e=ve.item(t[n]),i=hn().getClassesString(e.tags,"");r.selectAll("path.stroke.segment".concat(n)).attr("class","segment".concat(n," line stroke ").concat(i)),r.selectAll("path.casing.segment".concat(n)).attr("class","segment".concat(n," line casing ").concat(i))}}}function u(e,t,n,r,i,a){let o=t&&/^maki-/.test(t),s=t&&/^temaki-/.test(t),l=t&&/^fa[srb]-/.test(t),c=t&&!(o||s||l),u=e.selectAll(".preset-icon").data(t?[0]:[]);u.exit().remove(),u=u.enter().append("div").attr("class","preset-icon").call(re("")).merge(u),u.attr("class","preset-icon "+(n?n+"-geom":"")).classed("category",i).classed("framed",r).classed("preset-icon-iD",c),u.selectAll("svg").attr("class","icon "+t+" "+(c||"line"===n?a:"")),u.selectAll("use").attr("href","#"+t)}function d(e,t){let n=e.selectAll("img.image-icon").data(t?[0]:[]);n.exit().remove(),n=n.enter().append("img").attr("class","image-icon").on("load",()=>e.classed("showing-img",!0)).on("error",()=>e.classed("showing-img",!1)).merge(n),n.attr("src",t)}let p={bicycle:["highway/cycleway","highway/cycleway","highway/cycleway"],bus:["highway/unclassified","highway/secondary","highway/primary"],trolleybus:["highway/unclassified","highway/secondary","highway/primary"],detour:["highway/tertiary","highway/residential","highway/unclassified"],ferry:["route/ferry","route/ferry","route/ferry"],foot:["highway/footway","highway/footway","highway/footway"],hiking:["highway/path","highway/path","highway/path"],horse:["highway/bridleway","highway/bridleway","highway/bridleway"],light_rail:["railway/light_rail","railway/light_rail","railway/light_rail"],monorail:["railway/monorail","railway/monorail","railway/monorail"],mtb:["highway/path","highway/track","highway/bridleway"],pipeline:["man_made/pipeline","man_made/pipeline","man_made/pipeline"],piste:["piste/downhill","piste/hike","piste/nordic"],power:["power/line","power/line","power/line"],road:["highway/secondary","highway/primary","highway/trunk"],subway:["railway/subway","railway/subway","railway/subway"],train:["railway/rail","railway/rail","railway/rail"],tram:["railway/tram","railway/tram","railway/tram"],waterway:["waterway/stream","waterway/stream","waterway/stream"]};function f(){let n=e.apply(this,arguments),f=t?t.apply(this,arguments):null;"relation"===f&&n.tags&&("route"===n.tags.type&&n.tags.route&&p[n.tags.route]||"waterway"===n.tags.type)&&(f="route");let h=ce("preferences.privacy.thirdpartyicons")||"true",g=n.isFallback&&n.isFallback(),m="true"===h&&n.imageURL,y=r(n,f),v=!n.setTags,b=!1,w=null!==y&&"vertex"===f&&!g,_=y&&"line"===f&&!g&&!v,k=y&&"area"===f&&!g&&!v,x=y&&"route"===f,A=w||k||_||x||v,E=v?{}:n.setTags({},f);for(let e in E)"*"===E[e]&&(E[e]="yes");let C=hn().getClassesString(E,""),S=$(this).selectAll(".preset-icon-container").data([0]);S=S.enter().append("div").attr("class","preset-icon-container").merge(S),S.classed("showing-img",!!m).classed("fallback",g),a(S,v&&n),i(S,b),o(S,w),s(S,k,C),l(S,_,C),c(S,x,n),u(S,y,f,A,v,C),d(S,m)}return n.preset=function(t){return arguments.length?(e=Je(t),n):e},n.geometry=function(e){return arguments.length?(t=Je(e),n):t},n}function y5(e){var t,n=se("choose"),r=[],i=[],a=et("feature-type",e).label(C.html("inspector.feature_type")).disclosureContent((function(a){a.classed("preset-list-item",!0),a.classed("mixed-types",i.length>1);var o=a.selectAll(".preset-list-button-wrap").data([0]).enter().append("div").attr("class","preset-list-button-wrap"),s=o.append("button").attr("class","preset-list-button preset-reset").call(Ee().title(C.html("inspector.back_tooltip")).placement("bottom"));s.append("div").attr("class","preset-icon-container"),s.append("div").attr("class","label").append("div").attr("class","label-inner"),o.append("div").attr("class","accessory-buttons");var l=a.selectAll(".tag-reference-body-wrap").data([0]);l=l.enter().append("div").attr("class","tag-reference-body-wrap").merge(l),t&&(a.selectAll(".preset-list-button-wrap .accessory-buttons").style("display",1===i.length?null:"none").call(t.button),l.style("display",1===i.length?null:"none").call(t.body)),a.selectAll(".preset-reset").on("click",(function(){n.call("choose",this,i)})).on("pointerdown pointerup mousedown mouseup",(function(e){e.preventDefault(),e.stopPropagation()}));var c=function(){var t={};for(var n in r){var i=e.graph().geometry(r[n]);t[i]||(t[i]=0),t[i]+=1}return Object.keys(t).sort((function(e,n){return t[n]-t[e]}))}();a.select(".preset-list-item button").call(qo().geometry(1===i.length?1===c.length&&c[0]:null).preset(1===i.length?i[0]:ve.item("point")));var u=1===i.length?[i[0].nameLabel(),i[0].subtitleLabel()].filter(Boolean):[C("inspector.multiple_types")],d=a.select(".label-inner").selectAll(".namepart").data(u,(function(e){return e}));d.exit().remove(),d.enter().append("div").attr("class","namepart").html((function(e){return e}))}));return a.entityIDs=function(e){return arguments.length?(r=e,a):r},a.presets=function(n){return arguments.length?(hr(n,i)||1===(i=n).length&&(t=Ni(i[0].reference(),e).showing(!1)),a):i},fe(a,n,"on")}function b5(e){var t,n,r,i,a=et("preset-fields",e).label(C.html("inspector.fields")).disclosureContent((function(a){if(!n){var c,u=e.graph(),d=Object.keys(i.reduce((function(e,t){return e[u.entity(t).geometry(u)]=!0,e}),{})),p=ve,f=[],h=[];l.forEach((function(e){var t=e.fields(),n=e.moreFields();f=xt(f,t),h=xt(h,n),c=c?c.filter((function(e){return-1!==t.indexOf(e)||-1!==n.indexOf(e)})):xt(t,n)}));var g=f.filter((function(e){return-1!==c.indexOf(e)})),m=h.filter((function(e){return-1!==c.indexOf(e)}));n=[],g.forEach((function(t){t.matchAllGeometry(d)&&n.push(Sn(e,t,i))}));var y=1===i.length&&u.hasEntity(i[0]);y&&y.isHighwayIntersection(u)&&p.field("restrictions")&&n.push(Sn(e,p.field("restrictions"),i));var v=xt(m,p.universal());v.sort((function(e,t){return e.label().localeCompare(t.label(),le.localeCode())})),v.forEach((function(t){-1===g.indexOf(t)&&t.matchAllGeometry(d)&&n.push(Sn(e,t,i,{show:!1}))})),n.forEach((function(e){e.on("change",(function(t,n){o.call("change",e,i,t,n)})).on("revert",(function(t){o.call("revert",e,t)}))}))}n.forEach((function(e){e.state(t).tags(r)})),a.call(s.fieldsArr(n).state(t).klass("grouped-items-area")),a.selectAll(".wrap-form-field input").on("keydown",(function(t){13===t.keyCode&&e.container().select(".combobox").empty()&&e.enter(be(e))}))})),o=se("change","revert"),s=I4(e),l=[];return a.presets=function(e){return arguments.length?((!l||!e||!hr(l,e))&&(l=e,n=null),a):l},a.state=function(e){return arguments.length?(t=e,a):t},a.tags=function(e){return arguments.length?(r=e,a):r},a.entityIDs=function(e){return arguments.length?((!e||!i||!hr(i,e))&&(i=e,n=null),a):i},fe(a,o,"on")}function x5(e){var t,n=et("raw-member-editor",e).shouldDisplay((function(){if(!t||1!==t.length)return!1;var n=e.hasEntity(t[0]);return n&&"relation"===n.type})).label((function(){var n=e.hasEntity(t[0]);if(!n)return"";var r=(n.members.length>i?">":"")+n.members.slice(0,i).length;return C.html("inspector.title_count",{title:{html:C.html("inspector.members")},count:r})})).disclosureContent((function(n){var u=t[0],d=[],p=e.entity(u);p.members.slice(0,i).forEach((function(t,n){d.push({index:n,id:t.id,type:t.type,role:t.role,relation:p,member:e.hasEntity(t.id),domId:mn(u+"-member-"+n)})}));var f=n.selectAll(".member-list").data([0]),h=(f=f.enter().append("ul").attr("class","member-list").merge(f)).selectAll("li").data(d,(function(e){return ye.key(e.relation)+","+e.index+","+(e.member?ye.key(e.member):"incomplete")}));h.exit().each((function(){$(this).selectAll("input.member-role").call(lt.off,e)})).remove();var g=h.enter().append("li").attr("class","member-row form-field").classed("member-incomplete",(function(e){return!e.member}));g.each((function(t){var n=$(this),r=n.append("label").attr("class","field-label").attr("for",t.domId);if(t.member){n.on("mouseover",(function(){We([t.id],!0,e)})).on("mouseout",(function(){We([t.id],!1,e)}));var i=r.append("span").attr("class","label-text").append("a").attr("href","#").on("click",s);i.append("span").attr("class","member-entity-type").text((function(t){var n=ve.match(t.member,e.graph());return n&&n.name()||pn(t.member.id)})),i.append("span").attr("class","member-entity-name").text((function(e){return Nt(e.member)})),r.append("button").attr("title",C("icons.remove")).attr("class","remove member-delete").call(re("#iD-operation-delete")),r.append("button").attr("class","member-zoom").attr("title",C("icons.zoom_to")).call(re("#iD-icon-framed-dot","monochrome")).on("click",o)}else{var l=r.append("span").attr("class","label-text");l.append("span").attr("class","member-entity-type").call(C.append("inspector."+t.type,{id:t.id})),l.append("span").attr("class","member-entity-name").call(C.append("inspector.incomplete",{id:t.id})),r.append("button").attr("class","member-download").attr("title",C("icons.download")).call(re("#iD-icon-load")).on("click",a)}}));var m,y,v=g.append("div").attr("class","form-field-input-wrap form-field-input-member");v.append("input").attr("class","member-role").attr("id",(function(e){return e.domId})).property("type","text").attr("placeholder",C("inspector.role")).call(Ue),r&&v.each((function(t){var n=$(this).selectAll("input.member-role"),i=n.property("value");n.call(lt(e,"member-role").fetcher((function(n,i){var a;a=t.member?e.graph().geometry(t.member.id):"relation"===t.type?"relation":"way"===t.type?"line":"point";var o=p.tags.type;r.roles({debounce:!0,rtype:o||"",geometry:a,query:n},(function(e,t){e||i(function(e,t){for(var n=[],r=[],i=0;i<t.length;i++)t[i].value.substring(0,e.length)===e?n.push(t[i]):r.push(t[i]);return n.concat(r)}(n,t))}))})).on("cancel",(function(){n.property("value",i)})))})),(h=h.merge(g).order()).select("input.member-role").property("value",(function(e){return e.role})).on("blur",l).on("change",l),h.select("button.member-delete").on("click",c),h.call(Ds().on("start",(function(e){m={x:e.x,y:e.y},y=null})).on("drag",(function(e){var t=e.x-m.x,r=e.y-m.y;if($(this).classed("dragging")||!(Math.sqrt(Math.pow(t,2)+Math.pow(r,2))<=5)){var i=h.nodes().indexOf(this);$(this).classed("dragging",!0),y=null,n.selectAll("li.member-row").style("transform",(function(n,a){var o=$(this).node();return i===a?"translate("+t+"px, "+r+"px)":a>i&&e.y>o.offsetTop?((null===y||a>y)&&(y=a),"translateY(-100%)"):a<i&&e.y<o.offsetTop+o.offsetHeight?((null===y||a<y)&&(y=a),"translateY(100%)"):null}))}})).on("end",(function(t,r){if($(this).classed("dragging")){var i=h.nodes().indexOf(this);$(this).classed("dragging",!1),n.selectAll("li.member-row").style("transform",null),null!==y&&(e.perform(U3(r.relation.id,i,y),C("operations.reorder_members.annotation")),e.validator().validate())}})))})),r=ne.taginfo,i=1e3;function a(t,r){t.preventDefault(),$(this.parentNode).classed("tag-reference-loading",!0),e.loadEntity(r.id,(function(){n.reRender()}))}function o(t,n){t.preventDefault();var r=e.entity(n.id);e.map().zoomToEase(r),We([n.id],!0,e)}function s(t,n){t.preventDefault(),We([n.id],!1,e);var r=e.entity(n.id),i=e.map().extent();r.intersects(i,e.graph())||e.map().zoomToEase(r),e.enter(Ce(e,[n.id]))}function l(t,n){var r=n.role,i=e.cleanRelationRole($(this).property("value"));if(r!==i){var a={id:n.id,type:n.type,role:i};e.perform(La(n.relation.id,a,n.index),C("operations.change_role.annotation",{n:1})),e.validator().validate()}}function c(t,n){We([n.id],!1,e),e.perform(za(n.relation.id,n.index),C("operations.delete_member.annotation",{n:1})),e.hasEntity(n.relation.id)?e.validator().validate():e.enter(be(e))}return n.entityIDs=function(e){return arguments.length?(t=e,n):t},n}function Mv(e,t){return function(n){for(var r in t.sort((e,t)=>t-e),t)n=za(e,t[r])(n);return n}}function w5(e){var t,n=et("raw-membership-editor",e).shouldDisplay((function(){return o&&o.length})).label((function(){var e=l(),t=(e.length>s?">":"")+e.slice(0,s).length;return C.html("inspector.title_count",{title:{html:C.html("inspector.relations")},count:t})})).disclosureContent((function(a){var f=function(){var e,t,n,r,i,a,c=[],u=l().slice(0,s),d=o.length>1;for(e=0;e<u.length;e++){for(t=u[e],n={relation:t,members:[],hash:ye.key(t)},r=0;r<t.members.length;r++)i=t.members[r],-1!==o.indexOf(i.id)&&(a=Object.assign({},i,{index:r}),n.members.push(a),n.hash+=","+r.toString(),d||(c.push(n),n={relation:t,members:[],hash:ye.key(t)}));n.members.length&&c.push(n)}return c.forEach((function(e){e.domId=mn("membership-"+e.relation.id);var t=[];e.members.forEach((function(e){-1===t.indexOf(e.role)&&t.push(e.role)})),e.role=1===t.length?t[0]:t})),c}(),h=a.selectAll(".member-list").data([0]),g=(h=h.enter().append("ul").attr("class","member-list").merge(h)).selectAll("li.member-row-normal").data(f,(function(e){return e.hash}));g.exit().each((function(){$(this).selectAll("input.member-role").call(lt.off,e)})).remove();var m=g.enter().append("li").attr("class","member-row member-row-normal form-field");m.on("mouseover",(function(t,n){We([n.relation.id],!0,e)})).on("mouseout",(function(t,n){We([n.relation.id],!1,e)}));var y=m.append("label").attr("class","field-label").attr("for",(function(e){return e.domId})),v=y.append("span").attr("class","label-text").append("a").attr("href","#").on("click",c);v.append("span").attr("class","member-entity-type").text((function(t){var n=ve.match(t.relation,e.graph());return n&&n.name()||C.html("inspector.relation")})),v.append("span").attr("class","member-entity-name").text((function(e){return Nt(e.relation)})),y.append("button").attr("class","remove member-delete").attr("title",C("icons.remove")).call(re("#iD-operation-delete")).on("click",p),y.append("button").attr("class","member-zoom").attr("title",C("icons.zoom_to")).call(re("#iD-icon-framed-dot","monochrome")).on("click",u);var b=m.append("div").attr("class","form-field-input-wrap form-field-input-member");b.append("input").attr("class","member-role").attr("id",(function(e){return e.domId})).property("type","text").property("value",(function(e){return"string"==typeof e.role?e.role:""})).attr("title",(function(e){return Array.isArray(e.role)?e.role.filter(Boolean).join("\n"):e.role})).attr("placeholder",(function(e){return Array.isArray(e.role)?C("inspector.multiple_roles"):C("inspector.role")})).classed("mixed",(function(e){return Array.isArray(e.role)})).call(Ue).on("blur",d).on("change",d),r&&b.each((function(t){var n=$(this).selectAll("input.member-role"),i=n.property("value");n.call(lt(e,"member-role").fetcher((function(n,i){var a=t.relation.tags.type;r.roles({debounce:!0,rtype:a||"",geometry:e.graph().geometry(o[0]),query:n},(function(e,t){e||i(function(e,t){for(var n=[],r=[],i=0;i<t.length;i++)t[i].value.substring(0,e.length)===e?n.push(t[i]):r.push(t[i]);return n.concat(r)}(n,t))}))})).on("cancel",(function(){n.property("value",i)})))}));var w=h.selectAll(".member-row-new").data(t?[0]:[]);w.exit().remove();var _=w.enter().append("li").attr("class","member-row member-row-new form-field"),k=_.append("label").attr("class","field-label");k.append("input").attr("placeholder",C("inspector.choose_relation")).attr("type","text").attr("class","member-entity-input").call(Ue),k.append("button").attr("class","remove member-delete").attr("title",C("icons.remove")).call(re("#iD-operation-delete")).on("click",(function(){h.selectAll(".member-row-new").remove()})),_.append("div").attr("class","form-field-input-wrap form-field-input-member").append("input").attr("class","member-role").property("type","text").attr("placeholder",C("inspector.role")).call(Ue),(w=w.merge(_)).selectAll(".member-entity-input").on("blur",S).call(i.on("accept",(function(n){if(!n)return void S();n.relation&&We([n.relation.id],!1,e);var r=e.cleanRelationRole(h.selectAll(".member-row-new .member-role").property("value"));!function(n,r){function i(e,t,n){return function(r){for(var i in t){var a={id:t[i],type:r.entity(t[i]).type,role:n};r=Eo(e,a)(r)}return r}}if(this.blur(),t=!1,n.relation)e.perform(i(n.relation.id,o,r),C("operations.add_member.annotation",{n:o.length})),e.validator().validate();else{var a=gr();e.perform(Cr(a),i(a.id,o,r),C("operations.add.annotation.relation")),e.enter(Ce(e,[a.id]).newFeature(!0))}}(n,r)})).on("cancel",S));var x=a.selectAll(".add-row").data([0]),A=x.enter().append("div").attr("class","add-row"),E=A.append("button").attr("class","add-relation").attr("aria-label",C("inspector.add_to_relation"));function S(){w.selectAll(".member-entity-input").property("value",""),e.surface().selectAll(".highlighted").classed("highlighted",!1)}E.call(re("#iD-icon-plus","light")),E.call(Ee().title(C.html("inspector.add_to_relation")).placement("ltr"===le.textDirection()?"right":"left")),A.append("div").attr("class","space-value"),A.append("div").attr("class","space-buttons"),(x=x.merge(A)).select(".add-relation").on("click",(function(){t=!0,n.reRender(),h.selectAll(".member-entity-input").node().focus()}))})),r=ne.taginfo,i=lt(e,"parent-relation").minItems(1).fetcher((function(t,n){var r={relation:null,value:C("inspector.new_relation"),display:C.html("inspector.new_relation")},i=o[0],a=[],s=e.graph();function l(e){var t=ve.match(e,s);return(t&&t.name()||C("inspector.relation"))+" "+(Nt(e)||"")}var c=t&&e.hasEntity(t.toLowerCase());if(c&&"relation"===c.type&&c.id!==i)a.push({relation:c,value:l(c)+" "+c.id});else{e.history().intersects(e.map().extent()).forEach((function(e){if("relation"===e.type&&e.id!==i){var n=l(e);t&&-1===(n+" "+e.id).toLowerCase().indexOf(t.toLowerCase())||a.push({relation:e,value:n})}})),a.sort((function(e,t){return gr.creationOrder(e.relation,t.relation)})),Object.values(Ct(a,"value")).filter((function(e){return e.length>1})).forEach((function(e){e.forEach((function(e){e.value+=" "+e.relation.id}))}))}a.forEach((function(e){e.title=e.value})),a.unshift(r),n(a)})).itemsMouseEnter((function(t,n){n.relation&&We([n.relation.id],!0,e)})).itemsMouseLeave((function(t,n){n.relation&&We([n.relation.id],!1,e)})),a=!1,o=[],s=1e3;function l(){for(var t=[],n=0;n<o.length;n++){var r=e.graph().hasEntity(o[n]);if(r&&!(t=0===n?e.graph().parentRelations(r):Xt(t,e.graph().parentRelations(r))).length)break}return t}function c(t,n){t.preventDefault(),We([n.relation.id],!1,e),e.enter(Ce(e,[n.relation.id]))}function u(t,n){t.preventDefault();var r=e.entity(n.relation.id);e.map().zoomToEase(r),We([n.relation.id],!0,e)}function d(t,n){if(0!==n&&!a){var r=e.cleanRelationRole($(this).property("value"));if(r.trim()||"string"==typeof n.role){var i=n.members.filter((function(e){return e.role!==r}));i.length&&(a=!0,e.perform((function(e){return i.forEach((function(t){var i=Object.assign({},t,{role:r});delete i.index,e=La(n.relation.id,i,t.index)(e)})),e}),C("operations.change_role.annotation",{n:i.length})),e.validator().validate()),a=!1}}}function p(t,n){if(this.blur(),0!==n){We([n.relation.id],!1,e);var r=n.members.map((function(e){return e.index}));e.perform(Mv(n.relation.id,r),C("operations.delete_member.annotation",{n:o.length})),e.validator().validate()}}return n.entityIDs=function(e){return arguments.length?(o=e,t=!1,n):o},n}function _5(e){var t=[],n=et("selected-features",e).shouldDisplay((function(){return t.length>1})).label((function(){return C.html("inspector.title_count",{title:{html:C.html("inspector.features")},count:t.length})})).disclosureContent((function(n){var a=n.selectAll(".feature-list").data([0]);a=a.enter().append("ul").attr("class","feature-list").merge(a);var o=t.map((function(t){return e.hasEntity(t)})).filter(Boolean),s=a.selectAll(".feature-list-item").data(o,ye.key);s.exit().remove();var l=s.enter().append("li").attr("class","feature-list-item").each((function(t){$(this).on("mouseover",(function(){We([t.id],!0,e)})).on("mouseout",(function(){We([t.id],!1,e)}))})),c=l.append("button").attr("class","label").on("click",r);c.append("span").attr("class","entity-geom-icon").call(re("","pre-text")),c.append("span").attr("class","entity-type"),c.append("span").attr("class","entity-name"),l.append("button").attr("class","close").attr("title",C("icons.deselect")).on("click",i).call(re("#iD-icon-close")),(s=s.merge(l)).selectAll(".entity-geom-icon use").attr("href",(function(){return"#iD-icon-"+this.parentNode.parentNode.__data__.geometry(e.graph())})),s.selectAll(".entity-type").text((function(t){return ve.match(t,e.graph()).name()})),s.selectAll(".entity-name").text((function(t){return Nt(e.entity(t.id))}))}));function r(t,n){e.enter(Ce(e,[n.id]))}function i(n,r){var i=t.slice(),a=i.indexOf(r.id);a>-1&&(i.splice(a,1),e.enter(Ce(e,i)))}return e.history().on("change.selectionList",(function(e){e&&n.reRender()})),n.entityIDs=function(e){return arguments.length?(t=e,n):t},n}function k5(e){var t,n,r,i,a=se("choose"),o="select",s=!1,l=!1,c=[];function u(r){var s=C3(n,e.graph()),h=r.selectAll(".header").data([0]),g=h.enter().append("div").attr("class","header fillL"),m="rtl"===le.textDirection()?"forward":"backward";g.append("button").attr("class","preset-reset preset-choose").attr("title",C("icons.".concat(m))).call(re("#iD-icon-".concat(m))),g.append("button").attr("class","close").attr("title",C("icons.close")).on("click",(function(){e.enter(be(e))})).call(re(l?"#iD-icon-apply":"#iD-icon-close")),g.append("h2"),(h=h.merge(g)).selectAll("h2").html(1===n.length?C.html("inspector.edit"):C.html("inspector.edit_features")),h.selectAll(".preset-reset").on("click",(function(){a.call("choose",this,c)}));var y=r.selectAll(".inspector-body").data([0]),v=y.enter().append("div").attr("class","entity-editor inspector-body sep-top");y=y.merge(v),i||(i=[_5(e),y5(e).on("choose",(function(e){a.call("choose",this,e)})),v5(e),b5(e).on("change",d).on("revert",p),Xa("raw-tag-editor",e).on("change",d),x5(e),w5(e)]),i.forEach((function(e){e.entityIDs&&e.entityIDs(n),e.presets&&e.presets(c),e.tags&&e.tags(s),e.state&&e.state(o),y.call(e.render)})),e.history().on("change.entity-editor",(function(i){if(!r.selectAll(".entity-editor").empty()&&"hide"!==o){if((!i||i.didChange.properties||i.didChange.addition||i.didChange.deletion)&&(n=n.filter(e.hasEntity)).length){var a=1===c.length&&c[0];f();var s=e.graph();u.modified(t!==s),u(r),a&&1===c.length&&a!==c[0]&&e.container().selectAll(".entity-editor button.preset-reset .label").style("background-color","#fff").transition().duration(750).style("background-color",null)}}}))}function d(t,n,r){var i=[];for(var a in t){var o=t[a],l=e.entity(o),c=Object.assign({},l.tags);for(var u in n)if(u){var d=n[u];"object"==typeof d?c[u]=c[d.oldKey]:(void 0!==d||c.hasOwnProperty(u))&&(c[u]=d)}r||(c=i2(c)),(0,a8.default)(l.tags,c)||i.push(Pt(o,c))}if(i.length){var p=function(e){return i.forEach((function(t){e=t(e)})),e},f=C("operations.change_tags.annotation");s?e.overwrite(p,f):(e.perform(p,f),s=!!r)}r||e.validator().validate()}function p(t){var r=[];for(var i in n){var a=n[i],o=e.graph().base().entities[a],l={};for(var c in t){var u=t[c];l[u]=o?o.tags[u]:void 0}var d=e.entity(a),p=Object.assign({},d.tags);for(var f in l)if(f){var h=l[f];(void 0!==h||p.hasOwnProperty(f))&&(p[f]=h)}p=i2(p),(0,a8.default)(d.tags,p)||r.push(Pt(a,p))}if(r.length){var g=function(e){return r.forEach((function(t){e=t(e)})),e},m=C("operations.change_tags.annotation");s?e.overwrite(g,m):(e.perform(g,m),s=!1)}e.validator().validate()}function f(t){var r=e.graph(),i={};for(var a in n){var o=r.hasEntity(n[a]);if(!o)return;var s=ve.match(o,r);i[s.id]||(i[s.id]=0),i[s.id]+=1}var l=Object.keys(i).sort((function(e,t){return i[t]-i[e]})).map((function(e){return ve.item(e)}));if(!t&&(1===c.length&&!c[0].isFallback()&&0===Object.keys(c[0].addTags||{}).length&&1===l.length&&l[0].isFallback()))return;u.presets(l)}return u.modified=function(e){return arguments.length?(l=e,u):l},u.state=function(e){return arguments.length?(o=e,u):o},u.entityIDs=function(r){return arguments.length?(t=e.graph(),s=!1,r&&n&&hr(n,r)?u:(n=r,f(!0),u.modified(!1))):n},u.newFeature=function(e){return arguments.length?(r=e,u):r},u.presets=function(e){return arguments.length?(hr(e,c)||(c=e),u):c},fe(u,a,"on")}var Nv=je(Tv());function E5(e){var t;return function(n){n.append("div").attr("class","header fillL").append("h2").call(C.append("inspector.feature_list"));var r=n.append("div").attr("class","search-header");r.call(re("#iD-icon-search","pre-text"));var i=r.append("input").attr("placeholder",C("inspector.search")).attr("type","search").call(Ue).on("keypress",(function(e){var t=i.property("value"),n=a.selectAll(".feature-list-item");13===e.keyCode&&t.length&&n.size()&&c(e,n.datum())})).on("keydown",(function(e){27===e.keyCode&&i.node().blur()})).on("input",(function(){t=void 0,o()})),a=n.append("div").attr("class","inspector-body").append("div").attr("class","feature-list");function o(){var n=i.property("value"),r=function(){var n=[],r=e.graph(),a=e.map().extent().center(),o=i.property("value").toLowerCase();if(!o)return n;var s=Nv.pair(o.toUpperCase())||o.match(/^(-?\d+\.?\d*)\s+(-?\d+\.?\d*)$/);if(s){var l=[parseFloat(s[0]),parseFloat(s[1])];n.push({id:-1,geometry:"point",type:C("inspector.location"),name:Ha([l[1],l[0]]),location:l})}var c=!s&&o.match(/(?:^|\W)(node|way|relation|[nwr])\W?0*([1-9]\d*)(?:\W|$)/i);if(c){var u=c[1].charAt(0),d=c[2];n.push({id:u+d,geometry:"n"===u?"point":"w"===u?"line":"relation",type:C("n"===u?"inspector.node":"w"===u?"inspector.way":"inspector.relation"),name:d})}var p=r.entities,f=[];for(var h in p){var g=p[h];if(g){var m=Nt(g)||"";if(!(m.toLowerCase().indexOf(o)<0)){var y=ve.match(g,r),v=y&&y.name()||pn(g.id),b=g.extent(r),w=b?rt(a,b.center()):0;if(f.push({id:g.id,entity:g,geometry:g.geometry(r),type:v,name:m,distance:w}),f.length>100)break}}}return f=f.sort((function(e,t){return e.distance-t.distance})),n=n.concat(f),(t||[]).forEach((function(e){if(e.osm_type&&e.osm_id){var t=ye.id.fromOSM(e.osm_type,e.osm_id),r={};r[e.class]=e.type;var i={id:t,type:e.osm_type,tags:r};"way"===e.osm_type&&(i.nodes=["a","a"]);var a=ye(i),o=kr([a]),s=ve.match(a,o),l=s&&s.name()||pn(t);n.push({id:a.id,geometry:a.geometry(o),type:l,name:e.display_name,extent:new he([parseFloat(e.boundingbox[3]),parseFloat(e.boundingbox[0])],[parseFloat(e.boundingbox[2]),parseFloat(e.boundingbox[1])])})}})),o.match(/^[0-9]+$/)&&(n.push({id:"n"+o,geometry:"point",type:C("inspector.node"),name:o}),n.push({id:"w"+o,geometry:"line",type:C("inspector.way"),name:o}),n.push({id:"r"+o,geometry:"relation",type:C("inspector.relation"),name:o})),n}();a.classed("filtered",n.length),a.selectAll(".no-results-item").data([0]).enter().append("button").property("disabled",!0).attr("class","no-results-item").call(re("#iD-icon-alert","pre-text")).append("span").attr("class","entity-name"),a.selectAll(".no-results-item .entity-name").html("").call(C.append("geocoder.no_results_worldwide")),ne.geocoder&&a.selectAll(".geocode-item").data([0]).enter().append("button").attr("class","geocode-item secondary-action").on("click",u).append("div").attr("class","label").append("span").attr("class","entity-name").call(C.append("geocoder.search")),a.selectAll(".no-results-item").style("display",n.length&&!r.length?"block":"none"),a.selectAll(".geocode-item").style("display",n&&void 0===t?"block":"none"),a.selectAll(".feature-list-item").data([-1]).remove();var o=a.selectAll(".feature-list-item").data(r,(function(e){return e.id})),d=o.enter().insert("button",".geocode-item").attr("class","feature-list-item").on("mouseover",s).on("mouseout",l).on("click",c),p=d.append("div").attr("class","label");p.each((function(e){$(this).call(re("#iD-icon-"+e.geometry,"pre-text"))})),p.append("span").attr("class","entity-type").text((function(e){return e.type})),p.append("span").attr("class","entity-name").text((function(e){return e.name})),d.style("opacity",0).transition().style("opacity",1),o.order(),o.exit().remove()}function s(t,n){-1!==n.id&&We([n.id],!0,e)}function l(t,n){-1!==n.id&&We([n.id],!1,e)}function c(t,n){t.preventDefault(),n.location?e.map().centerZoomEase([n.location[1],n.location[0]],19):n.entity?(We([n.id],!1,e),e.enter(Ce(e,[n.entity.id])),e.map().zoomToEase(n.entity)):e.zoomToEntity(n.id)}function u(){ne.geocoder.search(i.property("value"),(function(e,n){t=n||[],o()}))}e.on("exit.feature-list",(function(){i.property("value",""),o()})),e.map().on("drawn.feature-list",(function(e){e.full&&o()})),e.keybinding().on(Ne("\u2318F"),(function(t){"browse"===(e.mode()&&e.mode().id)&&(t.preventDefault(),i.node().focus())}))}}function A5(){let e;function t(t){let r=t.selectAll(".comments-container").data([0]);r=r.enter().append("div").attr("class","comments-container").merge(r),ne.improveOSM.getComments(e).then(e=>{if(!e.comments)return;let t=r.selectAll(".comment").data(e.comments).enter().append("div").attr("class","comment");t.append("div").attr("class","comment-avatar").call(re("#iD-icon-avatar","comment-avatar-icon"));let i=t.append("div").attr("class","comment-main"),a=i.append("div").attr("class","comment-metadata");a.append("div").attr("class","comment-author").each((function(e){let t=ne.osm,n=$(this);t&&e.username&&(n=n.append("a").attr("class","comment-author-link").attr("href",t.userURL(e.username)).attr("target","_blank")),n.text(e=>e.username)})),a.append("div").attr("class","comment-date").html(e=>C.html("note.status.commented",{when:n(e.timestamp)})),i.append("div").attr("class","comment-text").append("p").text(e=>e.text)}).catch(e=>{console.log(e)})}function n(e){if(!e)return null;let t=new Date(1e3*e);return isNaN(t.getTime())?null:t.toLocaleDateString(le.localeCode(),{day:"numeric",month:"short",year:"numeric"})}return t.issue=function(n){return arguments.length?(e=n,t):e},t}function S5(e){let t;function n(e){if(e.desc)return e.desc;let t=e.issueKey;return e.replacements=e.replacements||{},e.replacements.default={html:C.html("inspector.unknown")},C.html("QA.improveOSM.error_types.".concat(t,".description"),e.replacements)}function r(r){let i=r.selectAll(".error-details").data(t?[t]:[],e=>"".concat(e.id,"-").concat(e.status||0));i.exit().remove();let a=i.enter().append("div").attr("class","error-details qa-details-container").append("div").attr("class","qa-details-subsection");a.append("h4").call(C.append("QA.keepRight.detail_description")),a.append("div").attr("class","qa-details-description-text").html(n);let o=[];a.selectAll(".error_entity_link, .error_object_link").attr("href","#").each((function(){let n=$(this),r=n.classed("error_object_link"),i=r?z1(t.objectType)+t.objectId:this.textContent,a=e.hasEntity(i);if(o.push(i),n.on("mouseenter",()=>{We([i],!0,e)}).on("mouseleave",()=>{We([i],!1,e)}).on("click",n=>{n.preventDefault(),We([i],!1,e);let r=e.layers().layer("osm");r.enabled()||r.enabled(!0),e.map().centerZoom(t.loc,20),a?e.enter(Ce(e,[i])):e.loadEntity(i,(t,n)=>{t||n.data.find(e=>e.id===i)&&e.enter(Ce(e,[i]))})}),a){let t=Nt(a);if(!t&&!r){let n=ve.match(a,e.graph());t=n&&!n.isFallback()&&n.name()}t&&(this.innerText=t)}})),e.features().forceVisible(o),e.map().pan([0,0])}return r.issue=function(e){return arguments.length?(t=e,r):t},r}function C5(){let e;function t(e){let t=e.issueKey;return e.replacements=e.replacements||{},e.replacements.default={html:C.html("inspector.unknown")},C.html("QA.improveOSM.error_types.".concat(t,".title"),e.replacements)}function n(n){let r=n.selectAll(".qa-header").data(e?[e]:[],e=>"".concat(e.id,"-").concat(e.status||0));r.exit().remove();let i=r.enter().append("div").attr("class","qa-header"),a=i.append("div").attr("class","qa-header-icon").classed("new",e=>e.id<0).append("svg").attr("width","20px").attr("height","30px").attr("viewbox","0 0 20 30").attr("class",e=>"preset-icon-28 qaItem ".concat(e.service," itemId-").concat(e.id," itemType-").concat(e.itemType));a.append("polygon").attr("fill","currentColor").attr("class","qaItem-fill").attr("points","16,3 4,3 1,6 1,17 4,20 7,20 10,27 13,20 16,20 19,17.033 19,6"),a.append("use").attr("class","icon-annotation").attr("width","12px").attr("height","12px").attr("transform","translate(4, 5.5)").attr("xlink:href",e=>e.icon?"#"+e.icon:""),i.append("div").attr("class","qa-header-label").html(t)}return n.issue=function(t){return arguments.length?(e=t,n):e},n}function N4(e){let t,n=se("change"),r=S5(e),i=A5(e),a=C5(e);function o(n){let o=n.selectAll(".header").data([0]).enter().append("div").attr("class","header fillL");o.append("button").attr("class","close").attr("title",C("icons.close")).on("click",()=>e.enter(be(e))).call(re("#iD-icon-close")),o.append("h2").call(C.append("QA.improveOSM.title"));let l=n.selectAll(".body").data([0]);l=l.enter().append("div").attr("class","body").merge(l);let c=l.selectAll(".qa-editor").data([0]);c.enter().append("div").attr("class","modal-section qa-editor").merge(c).call(a.issue(t)).call(r.issue(t)).call(i.issue(t)).call(s)}function s(n){let r=t&&t.id===e.selectedErrorID(),i=t&&(r||t.newComment||t.comment),a=n.selectAll(".qa-save").data(i?[t]:[],e=>"".concat(e.id,"-").concat(e.status||0));a.exit().remove();let o=a.enter().append("div").attr("class","qa-save save-section cf");function s(){let e=$(this).property("value").trim();""===e&&(e=void 0),t=t.update({newComment:e});let n=ne.improveOSM;n&&n.replaceItem(t),a.call(l)}o.append("h4").attr("class",".qa-save-header").call(C.append("note.newComment")),o.append("textarea").attr("class","new-comment-input").attr("placeholder",C("QA.keepRight.comment_placeholder")).attr("maxlength",1e3).property("value",e=>e.newComment).call(Ue).on("input",s).on("blur",s),a=o.merge(a).call(l)}function l(r){let i=t&&t.id===e.selectedErrorID(),a=r.selectAll(".buttons").data(i?[t]:[],e=>e.status+e.id);a.exit().remove();let o=a.enter().append("div").attr("class","buttons");o.append("button").attr("class","button comment-button action").call(C.append("QA.keepRight.save_comment")),o.append("button").attr("class","button close-button action"),o.append("button").attr("class","button ignore-button action"),a=a.merge(o),a.select(".comment-button").attr("disabled",e=>!e.newComment||null).on("click.comment",(function(e,t){this.blur();let r=ne.improveOSM;r&&r.postUpdate(t,(e,t)=>n.call("change",t))})),a.select(".close-button").html(e=>{let t=e.newComment?"_comment":"";return C.html("QA.keepRight.close".concat(t))}).on("click.close",(function(e,t){this.blur();let r=ne.improveOSM;r&&(t.newStatus="SOLVED",r.postUpdate(t,(e,t)=>n.call("change",t)))})),a.select(".ignore-button").html(e=>{let t=e.newComment?"_comment":"";return C.html("QA.keepRight.ignore".concat(t))}).on("click.ignore",(function(e,t){this.blur();let r=ne.improveOSM;r&&(t.newStatus="INVALID",r.postUpdate(t,(e,t)=>n.call("change",t)))}))}return o.error=function(e){return arguments.length?(t=e,o):t},fe(o,n,"on")}function F5(e){var t,n,r,i=se("cancel","choose"),a=!1;function o(r){if(t){var o=ve.matchAllGeometry(u());r.html("");var l=r.append("div").attr("class","header fillL"),d=l.append("h2").call(C.append("inspector.choose")),p="rtl"===le.textDirection()?"backward":"forward";l.append("button").attr("class","preset-choose").attr("title",p).on("click",(function(){i.call("cancel",this)})).call(re("#iD-icon-".concat(p)));var f=r.append("div").attr("class","search-header");f.call(re("#iD-icon-search","pre-text"));var h=f.append("input").attr("class","preset-search-input").attr("placeholder",C("inspector.search")).attr("type","search").call(Ue).on("keydown",(function(n){0!==h.property("value").length||n.keyCode!==Ie.keyCodes["\u232b"]&&n.keyCode!==Ie.keyCodes["\u2326"]?0===h.property("value").length&&(n.ctrlKey||n.metaKey)&&n.keyCode===Ie.keyCodes.z?(n.preventDefault(),n.stopPropagation(),e.undo()):!n.ctrlKey&&!n.metaKey&&($(this).on("keydown",m),m.call(this,n)):(n.preventDefault(),n.stopPropagation(),Vr(e,t)())})).on("keypress",(function(e){var t=h.property("value");13===e.keyCode&&t.length&&g.selectAll(".preset-list-item:first-child").each((function(e){e.choose.call(this)}))})).on("input",ft((function(){var t,r,i=h.property("value");g.classed("filtered",i.length),i.length?(t=o.search(i,u()[0],n),r=C.html("inspector.results",{n:t.collection.length,search:i})):(t=ve.defaults(u()[0],36,!e.inIntro(),n),r=C.html("inspector.choose")),g.call(s,t),d.html(r)})));a&&(h.node().focus(),setTimeout((function(){h.node().focus()}),0));var g=r.append("div").attr("class","inspector-body").append("div").attr("class","preset-list").call(s,ve.defaults(u()[0],36,!e.inIntro(),n));e.features().on("change.preset-list",c)}function m(e){if(e.keyCode===Ie.keyCodes["\u2193"]&&h.node().selectionStart===h.property("value").length){e.preventDefault(),e.stopPropagation();var t=g.selectAll(".preset-list-button");t.empty()||t.nodes()[0].focus()}}}function s(n,a){var o=(a=a.matchAllGeometry(u())).collection.reduce((function(n,r){return r&&(r.members?r.members.collection.filter((function(e){return e.addable()})).length>1&&n.push(function(e){var t,n,r=!1;function i(r){var a=r.append("div").attr("class","preset-list-button-wrap category");function o(){var e=$(this).classed("expanded"),t=e?"rtl"===le.textDirection()?"#iD-icon-backward":"#iD-icon-forward":"#iD-icon-down";$(this).classed("expanded",!e).attr("title",C(e?"icons.expand":"icons.collapse")),$(this).selectAll("div.label-inner svg.icon use").attr("href",t),i.choose()}var s=u();a.append("button").attr("class","preset-list-button").attr("title",C("icons.expand")).classed("expanded",!1).call(qo().geometry(1===s.length&&s[0]).preset(e)).on("click",o).on("keydown",(function(e){e.keyCode===Ie.keyCodes["rtl"===le.textDirection()?"\u2190":"\u2192"]?(e.preventDefault(),e.stopPropagation(),$(this).classed("expanded")||o.call(this,e)):e.keyCode===Ie.keyCodes["rtl"===le.textDirection()?"\u2192":"\u2190"]?(e.preventDefault(),e.stopPropagation(),$(this).classed("expanded")&&o.call(this,e)):l.call(this,e)})).append("div").attr("class","label").append("div").attr("class","label-inner").append("div").attr("class","namepart").call(re("rtl"===le.textDirection()?"#iD-icon-backward":"#iD-icon-forward","inline")).append("span").html((function(){return e.nameLabel()+"&hellip;"})),(t=r.append("div").attr("class","subgrid").style("max-height","0px").style("opacity",0)).append("div").attr("class","arrow"),n=t.append("div").attr("class","preset-list fillL3")}return i.choose=function(){if(t&&n)if(r)r=!1,t.transition().duration(200).style("opacity","0").style("max-height","0px").style("padding-bottom","0px");else{r=!0;var i=e.members.matchAllGeometry(u());n.call(s,i),t.transition().duration(200).style("opacity","1").style("max-height",200+190*i.collection.length+"px").style("padding-bottom","10px")}},i.preset=e,i}(r)):r.addable()&&n.push(function(n){function r(e){var t=e.append("div").attr("class","preset-list-button-wrap"),i=u(),a=t.append("button").attr("class","preset-list-button").call(qo().geometry(1===i.length&&i[0]).preset(n)).on("click",r.choose).on("keydown",l).append("div").attr("class","label").append("div").attr("class","label-inner"),o=[n.nameLabel(),n.subtitleLabel()].filter(Boolean);a.selectAll(".namepart").data(o).enter().append("div").attr("class","namepart").html((function(e){return e})),t.call(r.reference.button),e.call(r.reference.body)}return r.choose=function(){$(this).classed("disabled")||(e.inIntro()||ve.setMostRecent(n,u()[0]),e.perform((function(e){for(var r in t){var i=t[r],a=ve.match(e.entity(i),e);e=Ba(i,a,n)(e)}return e}),C("operations.change_tags.annotation")),e.validator().validate(),i.call("choose",this,n))},r.help=function(e){e.stopPropagation(),r.reference.toggle()},r.preset=n,r.reference=Ni(n.reference(),e),r}(r))),n}),[]),d=n.selectAll(".preset-list-item").data(o,(function(e){return e.preset.id}));d.order(),d.exit().remove(),d.enter().append("div").attr("class",(function(e){return"preset-list-item preset-"+e.preset.id.replace("/","-")})).classed("current",(function(e){return-1!==r.indexOf(e.preset)})).each((function(e){$(this).call(e)})).style("opacity",0).transition().style("opacity",1),c()}function l(e){var t=$(this.closest(".preset-list-item")),n=$(t.node().parentNode.closest(".preset-list-item"));if(e.keyCode===Ie.keyCodes["\u2193"]){e.preventDefault(),e.stopPropagation();var r=$(t.node().nextElementSibling);r.empty()?n.empty()||(r=$(n.node().nextElementSibling)):$(this).classed("expanded")&&(r=t.select(".subgrid .preset-list-item:first-child")),r.empty()||r.select(".preset-list-button").node().focus()}else if(e.keyCode===Ie.keyCodes["\u2191"]){e.preventDefault(),e.stopPropagation();var i=$(t.node().previousElementSibling);if(i.empty()?n.empty()||(i=n):i.select(".preset-list-button").classed("expanded")&&(i=i.select(".subgrid .preset-list-item:last-child")),i.empty())$(this.closest(".preset-list-pane")).select(".preset-search-input").node().focus();else i.select(".preset-list-button").node().focus()}else e.keyCode===Ie.keyCodes["rtl"===le.textDirection()?"\u2192":"\u2190"]?(e.preventDefault(),e.stopPropagation(),n.empty()||n.select(".preset-list-button").node().focus()):e.keyCode===Ie.keyCodes["rtl"===le.textDirection()?"\u2190":"\u2192"]&&(e.preventDefault(),e.stopPropagation(),t.datum().choose.call($(this).node()))}function c(){if(t.every(e.hasEntity)){var n=u(),i=e.container().selectAll(".preset-list .preset-list-button");i.call(Ee().destroyAny),i.each((function(t,i){var a;for(var o in n)if(a=e.features().isHiddenPreset(t.preset,n[o]))break;var s=!e.inIntro()&&!!a&&(1!==r.length||t.preset!==r[0]);if($(this).classed("disabled",s),s){var l=e.features().autoHidden(a);$(this).call(Ee().title(C.html("inspector.hidden_preset."+(l?"zoom":"manual"),{features:{html:C.html("feature."+a+".description")}})).placement(i<2?"bottom":"top"))}}))}}function u(){var n={};for(var r in t){var i=t[r],a=e.entity(i),o=a.geometry(e.graph());"vertex"===o&&a.isOnAddressLine(e.graph())&&(o="point"),n[o]||(n[o]=0),n[o]+=1}return Object.keys(n).sort((function(e,t){return n[t]-n[e]}))}return o.autofocus=function(e){return arguments.length?(a=e,o):a},o.entityIDs=function(r){if(!arguments.length)return t;if(n=null,(t=r)&&t.length){n=t.reduce((function(t,n){var r=e.graph().entity(n);return t.extend(r.extent(e.graph()))}),he()).center();var i=t.map((function(t){return ve.match(e.entity(t),e.graph())}));o.presets(i)}return o},o.presets=function(e){return arguments.length?(r=e,o):r},fe(o,i,"on")}function O4(e){var t;function n(n){var r;t instanceof ye?r=e.connection().entityURL(t):t instanceof Rt&&(r=e.connection().noteURL(t));var i=!t||t.isNew()?[]:[t],a=n.selectAll(".view-on-osm").data(i,(function(e){return e.id}));a.exit().remove(),a.enter().append("a").attr("class","view-on-osm").attr("target","_blank").attr("href",r).call(re("#iD-icon-out-link","inline")).append("span").call(C.append("inspector.view_on_osm"))}return n.what=function(e){return arguments.length?(t=e,n):t},n}function D5(e){var t,n=F5(e),r=k5(e),i=$(null),a=$(null),o=$(null),s="select",l=!1;function c(u){n.entityIDs(t).autofocus(l).on("choose",c.setPreset).on("cancel",(function(){c.setPreset()})),r.state(s).entityIDs(t).on("choose",c.showList);var d=(i=u.selectAll(".panewrap").data([0])).enter().append("div").attr("class","panewrap");d.append("div").attr("class","preset-list-pane pane"),d.append("div").attr("class","entity-editor-pane pane"),i=i.merge(d),a=i.selectAll(".preset-list-pane"),o=i.selectAll(".entity-editor-pane"),!function(){if("select"!==s||1!==t.length)return!1;var n=t[0],r=e.hasEntity(n);return!(!r||r.hasNonGeometryTags())&&(!!l||!("vertex"!==r.geometry(e.graph())||e.graph().parentRelations(r).length||e.validator().getEntityIssues(n).length||r.isHighwayIntersection(e.graph())))}()?(i.style("right","0%"),a.classed("hide",!0),o.classed("hide",!1).call(r)):(i.style("right","-100%"),o.classed("hide",!0),a.classed("hide",!1).call(n));var p=u.selectAll(".footer").data([0]);(p=p.enter().append("div").attr("class","footer").merge(p)).call(O4(e).what(e.hasEntity(1===t.length&&t[0])))}return c.showList=function(e){a.classed("hide",!1),i.transition().styleTween("right",(function(){return Rn("0%","-100%")})).on("end",(function(){o.classed("hide",!0)})),e&&n.presets(e),a.call(n.autofocus(!0))},c.setPreset=function(e){e&&"type/multipolygon"===e.id?a.call(n.autofocus(!0)):(o.classed("hide",!1),i.transition().styleTween("right",(function(){return Rn("-100%","0%")})).on("end",(function(){a.classed("hide",!0)})),e&&r.presets([e]),o.call(r))},c.state=function(t){return arguments.length?(s=t,r.state(s),e.container().selectAll(".field-help-body").remove(),c):s},c.entityIDs=function(e){return arguments.length?(t=e,c):t},c.newFeature=function(e){return arguments.length?(l=e,c):l},c}function M5(e){let t;function n(e){let{itemType:t,parentIssueType:n}=e,r={html:C.html("inspector.unknown")},i=e.replacements||{};return i.default=r,le.hasTextForStringId("QA.keepRight.errorTypes.".concat(t,".title"))?C.html("QA.keepRight.errorTypes.".concat(t,".description"),i):C.html("QA.keepRight.errorTypes.".concat(n,".description"),i)}function r(r){let i=r.selectAll(".error-details").data(t?[t]:[],e=>"".concat(e.id,"-").concat(e.status||0));i.exit().remove();let a=i.enter().append("div").attr("class","error-details qa-details-container").append("div").attr("class","qa-details-subsection");a.append("h4").call(C.append("QA.keepRight.detail_description")),a.append("div").attr("class","qa-details-description-text").html(n);let o=[];a.selectAll(".error_entity_link, .error_object_link").attr("href","#").each((function(){let n=$(this),r=n.classed("error_object_link"),i=r?z1(t.objectType)+t.objectId:this.textContent,a=e.hasEntity(i);if(o.push(i),n.on("mouseenter",()=>{We([i],!0,e)}).on("mouseleave",()=>{We([i],!1,e)}).on("click",n=>{n.preventDefault(),We([i],!1,e);let r=e.layers().layer("osm");r.enabled()||r.enabled(!0),e.map().centerZoomEase(t.loc,20),a?e.enter(Ce(e,[i])):e.loadEntity(i,(t,n)=>{t||n.data.find(e=>e.id===i)&&e.enter(Ce(e,[i]))})}),a){let t=Nt(a);if(!t&&!r){let n=ve.match(a,e.graph());t=n&&!n.isFallback()&&n.name()}t&&(this.innerText=t)}})),e.features().forceVisible(o),e.map().pan([0,0])}return r.issue=function(e){return arguments.length?(t=e,r):t},r}function I5(){let e;function t(e){let{itemType:t,parentIssueType:n}=e,r=C.html("inspector.unknown"),i=e.replacements||{};return i.default={html:r},le.hasTextForStringId("QA.keepRight.errorTypes.".concat(t,".title"))?C.html("QA.keepRight.errorTypes.".concat(t,".title"),i):C.html("QA.keepRight.errorTypes.".concat(n,".title"),i)}function n(n){let r=n.selectAll(".qa-header").data(e?[e]:[],e=>"".concat(e.id,"-").concat(e.status||0));r.exit().remove();let i=r.enter().append("div").attr("class","qa-header");i.append("div").attr("class","qa-header-icon").classed("new",e=>e.id<0).append("div").attr("class",e=>"preset-icon-28 qaItem ".concat(e.service," itemId-").concat(e.id," itemType-").concat(e.parentIssueType)).call(re("#iD-icon-bolt","qaItem-fill")),i.append("div").attr("class","qa-header-label").html(t)}return n.issue=function(t){return arguments.length?(e=t,n):e},n}function T5(){let e;function t(t){let n;ne.keepRight&&e instanceof Et&&(n=ne.keepRight.issueURL(e));let r=t.selectAll(".view-on-keepRight").data(n?[n]:[]);r.exit().remove(),r.enter().append("a").attr("class","view-on-keepRight").attr("target","_blank").attr("rel","noopener").attr("href",e=>e).call(re("#iD-icon-out-link","inline")).append("span").call(C.append("inspector.view_on_keepRight"))}return t.what=function(n){return arguments.length?(e=n,t):e},t}function P4(e){let t,n=se("change"),r=M5(e),i=I5(e);function a(n){let a=n.selectAll(".header").data([0]).enter().append("div").attr("class","header fillL");a.append("button").attr("class","close").attr("title",C("icons.close")).on("click",()=>e.enter(be(e))).call(re("#iD-icon-close")),a.append("h2").call(C.append("QA.keepRight.title"));let s=n.selectAll(".body").data([0]);s=s.enter().append("div").attr("class","body").merge(s);let l=s.selectAll(".qa-editor").data([0]);l.enter().append("div").attr("class","modal-section qa-editor").merge(l).call(i.issue(t)).call(r.issue(t)).call(o);let c=n.selectAll(".footer").data([0]);c.enter().append("div").attr("class","footer").merge(c).call(T5(e).what(t))}function o(n){let r=t&&t.id===e.selectedErrorID(),i=t&&(r||t.newComment||t.comment),a=n.selectAll(".qa-save").data(i?[t]:[],e=>"".concat(e.id,"-").concat(e.status||0));a.exit().remove();let o=a.enter().append("div").attr("class","qa-save save-section cf");function l(){let e=$(this).property("value").trim();e===t.comment&&(e=void 0),t=t.update({newComment:e});let n=ne.keepRight;n&&n.replaceItem(t),a.call(s)}o.append("h4").attr("class",".qa-save-header").call(C.append("QA.keepRight.comment")),o.append("textarea").attr("class","new-comment-input").attr("placeholder",C("QA.keepRight.comment_placeholder")).attr("maxlength",1e3).property("value",e=>e.newComment||e.comment).call(Ue).on("input",l).on("blur",l),a=o.merge(a).call(s)}function s(r){let i=t&&t.id===e.selectedErrorID(),a=r.selectAll(".buttons").data(i?[t]:[],e=>e.status+e.id);a.exit().remove();let o=a.enter().append("div").attr("class","buttons");o.append("button").attr("class","button comment-button action").call(C.append("QA.keepRight.save_comment")),o.append("button").attr("class","button close-button action"),o.append("button").attr("class","button ignore-button action"),a=a.merge(o),a.select(".comment-button").attr("disabled",e=>!e.newComment||null).on("click.comment",(function(e,t){this.blur();let r=ne.keepRight;r&&r.postUpdate(t,(e,t)=>n.call("change",t))})),a.select(".close-button").html(e=>{let t=e.newComment?"_comment":"";return C.html("QA.keepRight.close".concat(t))}).on("click.close",(function(e,t){this.blur();let r=ne.keepRight;r&&(t.newStatus="ignore_t",r.postUpdate(t,(e,t)=>n.call("change",t)))})),a.select(".ignore-button").html(e=>{let t=e.newComment?"_comment":"";return C.html("QA.keepRight.ignore".concat(t))}).on("click.ignore",(function(e,t){this.blur();let r=ne.keepRight;r&&(t.newStatus="ignore",r.postUpdate(t,(e,t)=>n.call("change",t)))}))}return a.error=function(e){return arguments.length?(t=e,a):t},fe(a,n,"on")}function N5(e){var t,n;function r(r){e.container().classed("lasso",!0),t=r.append("g").attr("class","lasso hide"),n=t.append("path").attr("class","lasso-path"),t.call(Ti(!0))}function i(){n&&n.data([r.coordinates]).attr("d",(function(e){return"M"+e.join(" L")+" Z"}))}return r.coordinates=[],r.extent=function(){return r.coordinates.reduce((function(e,t){return e.extend(he(t))}),he())},r.p=function(e){return arguments.length&&(r.coordinates.push(e),i()),r},r.close=function(){t&&t.call(Ti(!1,(function(){$(this).remove()}))),e.container().classed("lasso",!1)},r}function O5(){var e;function t(t){if(!e.isNew()){var i=t.selectAll(".comments-container").data([0]),a=(i=i.enter().append("div").attr("class","comments-container").merge(i)).selectAll(".comment").data(e.comments).enter().append("div").attr("class","comment");a.append("div").attr("class",(function(e){return"comment-avatar user-"+e.uid})).call(re("#iD-icon-avatar","comment-avatar-icon"));var o=a.append("div").attr("class","comment-main"),s=o.append("div").attr("class","comment-metadata");s.append("div").attr("class","comment-author").each((function(e){var t=$(this),n=ne.osm;n&&e.user&&(t=t.append("a").attr("class","comment-author-link").attr("href",n.userURL(e.user)).attr("target","_blank")),e.user?t.text(e.user):t.call(C.append("note.anonymous"))})),s.append("div").attr("class","comment-date").html((function(e){return C.html("note.status."+e.action,{when:r(e.date)})})),o.append("div").attr("class","comment-text").html((function(e){return e.html})).selectAll("a").attr("rel","noopener nofollow").attr("target","_blank"),i.call(n)}}function n(t){var n=ce("preferences.privacy.thirdpartyicons")||"true",r=ne.osm;if("true"===n&&r){var i={};e.comments.forEach((function(e){e.uid&&(i[e.uid]=!0)})),Object.keys(i).forEach((function(e){r.loadUser(e,(function(n,r){!r||!r.image_url||t.selectAll(".comment-avatar.user-"+e).html("").append("img").attr("class","icon comment-avatar-icon").attr("src",r.image_url).attr("alt",r.display_name)}))}))}}function r(e){if(!e)return null;e=e.replace(/-/g,"/");var t=new Date(e);return isNaN(t.getTime())?null:t.toLocaleDateString(le.localeCode(),{day:"numeric",month:"short",year:"numeric"})}return t.note=function(n){return arguments.length?(e=n,t):e},t}function P5(){var e;function t(t){var n=t.selectAll(".note-header").data(e?[e]:[],(function(e){return e.status+e.id}));n.exit().remove();var r=n.enter().append("div").attr("class","note-header"),i=r.append("div").attr("class",(function(e){return"note-header-icon "+e.status})).classed("new",(function(e){return e.id<0}));i.append("div").attr("class","preset-icon-28").call(re("#iD-icon-note","note-fill")),i.each((function(e){var t;t=e.id<0?"#iD-icon-plus":"open"===e.status?"#iD-icon-close":"#iD-icon-apply",i.append("div").attr("class","note-icon-annotation").attr("title",C("icons.close")).call(re(t,"icon-annotation"))})),r.append("div").attr("class","note-header-label").html((function(t){return e.isNew()?C.html("note.new"):C.html("note.note")+" "+t.id+" "+("closed"===t.status?C.html("note.closed"):"")}))}return t.note=function(n){return arguments.length?(e=n,t):e},t}function R5(){var e;function t(t){var n;ne.osm&&e instanceof Rt&&!e.isNew()&&(n=ne.osm.noteReportURL(e));var r=t.selectAll(".note-report").data(n?[n]:[]);r.exit().remove(),r.enter().append("a").attr("class","note-report").attr("target","_blank").attr("href",(function(e){return e})).call(re("#iD-icon-out-link","inline")).append("span").call(C.append("note.report"))}return t.note=function(n){return arguments.length?(e=n,t):e},t}function R4(e){var t,n,r=se("change"),i=O5(e),a=P5();function o(n){var r=n.selectAll(".header").data([0]).enter().append("div").attr("class","header fillL");r.append("button").attr("class","close").attr("title",C("icons.close")).on("click",(function(){e.enter(be(e))})).call(re("#iD-icon-close")),r.append("h2").call(C.append("note.title"));var l=n.selectAll(".body").data([0]),c=(l=l.enter().append("div").attr("class","body").merge(l)).selectAll(".note-editor").data([0]);c.enter().append("div").attr("class","modal-section note-editor").merge(c).call(a.note(t)).call(i.note(t)).call(s);var u=n.selectAll(".footer").data([0]);u.enter().append("div").attr("class","footer").merge(u).call(O4(e).what(t)).call(R5(e).note(t));var d=ne.osm;d&&d.on("change.note-save",(function(){n.call(o)}))}function s(r){var i=t&&t.id===e.selectedNoteID(),a=r.selectAll(".note-save").data(i?[t]:[],(function(e){return e.status+e.id}));a.exit().remove();var o=a.enter().append("div").attr("class","note-save save-section cf");o.append("h4").attr("class",".note-save-header").html((function(){return t.isNew()?C.html("note.newDescription"):C.html("note.newComment")}));var s=o.append("textarea").attr("class","new-comment-input").attr("placeholder",C("note.inputPlaceholder")).attr("maxlength",1e3).property("value",(function(e){return e.newComment})).call(Ue).on("keydown.note-input",(function(e){if(13===e.keyCode&&e.metaKey){var n=ne.osm;if(n)!n.authenticated()||!t.newComment||(e.preventDefault(),$(this).on("keydown.note-input",null),window.setTimeout((function(){t.isNew()?(a.selectAll(".save-button").node().focus(),d(t)):(a.selectAll(".comment-button").node().focus(),f(t))}),10))}})).on("input.note-input",u).on("blur.note-input",u);function u(){var e=$(this).property("value").trim()||void 0;t=t.update({newComment:e});var n=ne.osm;n&&n.replaceNote(t),a.call(c)}!s.empty()&&n&&s.node().focus(),a=o.merge(a).call(l).call(c)}function l(e){var t=e.selectAll(".detail-section").data([0]);t=t.enter().append("div").attr("class","detail-section").merge(t);var n=ne.osm;if(n){var r=n.authenticated(),i=t.selectAll(".auth-warning").data(r?[]:[0]);i.exit().transition().duration(200).style("opacity",0).remove();var a=i.enter().insert("div",".tag-reference-body").attr("class","field-warning auth-warning").style("opacity",0);a.call(re("#iD-icon-alert","inline")),a.append("span").call(C.append("note.login")),a.append("a").attr("target","_blank").call(re("#iD-icon-out-link","inline")).append("span").call(C.append("login")).on("click.note-login",(function(e){e.preventDefault(),n.authenticate()})),a.transition().duration(200).style("opacity",1);var o=t.selectAll(".note-save-prose").data(r?[0]:[]);o.exit().remove(),o=o.enter().append("p").attr("class","note-save-prose").call(C.append("note.upload_explanation")).merge(o),n.userDetails((function(e,t){if(!e){var r=$(document.createElement("div"));t.image_url&&r.append("img").attr("src",t.image_url).attr("class","icon pre-text user-icon"),r.append("a").attr("class","user-info").text(t.display_name).attr("href",n.userURL(t.display_name)).attr("target","_blank"),o.html(C.html("note.upload_explanation_with_user",{user:{html:r.html()}}))}}))}}function c(n){var r=ne.osm,i=r&&r.authenticated(),a=t&&t.id===e.selectedNoteID(),o=n.selectAll(".buttons").data(a?[t]:[],(function(e){return e.status+e.id}));o.exit().remove();var s=o.enter().append("div").attr("class","buttons");function l(e){return!i||"open"!==e.status||!e.newComment||null}t.isNew()?(s.append("button").attr("class","button cancel-button secondary-action").call(C.append("confirm.cancel")),s.append("button").attr("class","button save-button action").call(C.append("note.save"))):(s.append("button").attr("class","button status-button action"),s.append("button").attr("class","button comment-button action").call(C.append("note.comment"))),(o=o.merge(s)).select(".cancel-button").on("click.cancel",u),o.select(".save-button").attr("disabled",l).on("click.save",d),o.select(".status-button").attr("disabled",!i||null).html((function(e){var t="open"===e.status?"close":"open",n=e.newComment?"_comment":"";return C.html("note."+t+n)})).on("click.status",p),o.select(".comment-button").attr("disabled",l).on("click.comment",f)}function u(t,n){this.blur();var i=ne.osm;i&&i.removeNote(n),e.enter(be(e)),r.call("change")}function d(e,t){this.blur();var n=ne.osm;n&&n.postNoteCreate(t,(function(e,t){r.call("change",t)}))}function p(e,t){this.blur();var n=ne.osm;if(n){var i="open"===t.status?"closed":"open";n.postNoteUpdate(t,i,(function(e,t){r.call("change",t)}))}}function f(e,t){this.blur();var n=ne.osm;n&&n.postNoteUpdate(t,t.status,(function(e,t){r.call("change",t)}))}return o.note=function(e){return arguments.length?(t=e,o):t},o.newNote=function(e){return arguments.length?(n=e,o):n},fe(o,r,"on")}function L5(e){var t;function n(n){n.preventDefault();var r=e.connection();if(r&&!e.inIntro()&&(!e.history().hasChanges()||window.confirm(C("source_switch.lose_changes")))){var i=$(this).classed("live");i=!i,e.enter(be(e)),e.history().clearSaved(),e.flush(),$(this).html(i?C.html("source_switch.live"):C.html("source_switch.dev")).classed("live",i).classed("chip",i),r.switch(i?t[0]:t[1])}}var r=function(e){e.append("a").attr("href","#").call(C.append("source_switch.live")).attr("class","live chip").on("click",n)};return r.keys=function(e){return arguments.length?(t=e,r):t},r}function B5(e){var t=e.connection();return function(n){var r=n.append("img").attr("src",e.imagePath("loader-black.gif")).style("opacity",0);t&&t.on("loading.spinner",(function(){r.transition().style("opacity",1)})).on("loaded.spinner",(function(){r.transition().style("opacity",0)}))}}function L4(e){let t=et("preferences-third-party",e).label(C.html("preferences.privacy.title")).disclosureContent((function(e){e.selectAll(".privacy-options-list").data([0]).enter().append("ul").attr("class","layer-list privacy-options-list");let t=e.select(".privacy-options-list").selectAll(".privacy-third-party-icons-item").data([ce("preferences.privacy.thirdpartyicons")||"true"]).enter().append("li").attr("class","privacy-third-party-icons-item").append("label").call(Ee().title(C.html("preferences.privacy.third_party_icons.tooltip")).placement("bottom"));t.append("input").attr("type","checkbox").on("change",(e,t)=>{e.preventDefault(),ce("preferences.privacy.thirdpartyicons","true"===t?"false":"true")}),t.append("span").call(C.append("preferences.privacy.third_party_icons.description")),e.selectAll(".privacy-third-party-icons-item").classed("active",e=>"true"===e).select("input").property("checked",e=>"true"===e),e.selectAll(".privacy-link").data([0]).enter().append("div").attr("class","privacy-link").append("a").attr("target","_blank").call(re("#iD-icon-out-link","inline")).attr("href","https://github.com/openstreetmap/iD/blob/release/PRIVACY.md").append("span").call(C.append("preferences.privacy.privacy_link"))}));return ce.onChange("preferences.privacy.thirdpartyicons",t.reRender),t}function U5(e){return t=>{if(e.history().hasRestorableChanges())return;let n="",r=ce("sawPrivacyVersion"),i=!ce("sawSplash");if(r!==e.privacyVersion&&(n=C("splash.privacy_update"),i=!0),!i)return;ce("sawSplash",!0),ce("sawPrivacyVersion",e.privacyVersion),ze.get("intro_graph");let a=nn(t);a.select(".modal").attr("class","modal-splash modal");let o=a.select(".content").append("div").attr("class","fillL");o.append("div").attr("class","modal-section").append("h3").call(C.append("splash.welcome"));let s=o.append("div").attr("class","modal-section");s.append("p").html(C.html("splash.text",{version:e.version,website:{html:'<a target="_blank" href="https://github.com/openstreetmap/iD/blob/develop/CHANGELOG.md#whats-new">'+C.html("splash.changelog")+"</a>"},github:{html:'<a target="_blank" href="https://github.com/openstreetmap/iD/issues">github.com</a>'}})),s.append("p").html(C.html("splash.privacy",{updateMessage:n,privacyLink:{html:'<a target="_blank" href="https://github.com/openstreetmap/iD/blob/release/PRIVACY.md">'+C("splash.privacy_policy")+"</a>"}})),L4(e).label(C.html("splash.privacy_settings")).render(s);let l=o.append("div").attr("class","modal-actions"),c=l.append("button").attr("class","walkthrough").on("click",()=>{e.container().call(Wa(e)),a.close()});c.append("svg").attr("class","logo logo-walkthrough").append("use").attr("xlink:href","#iD-logo-walkthrough"),c.append("div").call(C.append("splash.walkthrough"));let u=l.append("button").attr("class","start-editing").on("click",a.close);u.append("svg").attr("class","logo logo-features").append("use").attr("xlink:href","#iD-logo-features"),u.append("div").call(C.append("splash.start")),a.select("button.close").attr("class","hide")}}function z5(e){var t=e.connection();return function(n){t&&(t.on("apiStatusChange.uiStatus",(function(r,i){if(n.html(""),r){if("connectionSwitched"===i)return;if("rateLimited"===i)n.call(C.append("osm_api_status.message.rateLimit")).append("a").attr("href","#").attr("class","api-status-login").attr("target","_blank").call(re("#iD-icon-out-link","inline")).append("span").call(C.append("login")).on("click.login",(function(e){e.preventDefault(),t.authenticate()}));else{var a=dt((function(){e.loadTiles(e.projection),t.reloadApiStatus()}),2e3);n.call(C.append("osm_api_status.message.error",{suffix:" "})).append("a").attr("href","#").call(C.append("osm_api_status.retry")).on("click.retry",(function(e){e.preventDefault(),a()}))}}else"readonly"===i?n.call(C.append("osm_api_status.message.readonly")):"offline"===i&&n.call(C.append("osm_api_status.message.offline"));n.attr("class","api-status "+(r?"error":i))})),e.history().on("storage_error",()=>{n.selectAll("span.local-storage-full").remove(),n.append("span").attr("class","local-storage-full").call(C.append("osm_api_status.message.local_storage_full")),n.classed("error",!0)}),window.setInterval((function(){t.reloadApiStatus()}),9e4),t.reloadApiStatus())}}var Ov=je(f3(),1);function Pv(e){return"string"!=typeof e?"":Ov.default.remove(e.replace(/&/g,"and").replace(/\u0130/gi,"i").replace(/[\s\-=_!"#%'*{},.\/:;?\(\)\[\]@\\$\^*+<>\xab\xbb~`\u2019\u00a1\u00a7\u00b6\u00b7\u00bf\u037e\u0387\u055a-\u055f\u0589\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0af0\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f14\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1360-\u1368\u166d\u166e\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u1805\u1807-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cc0-\u1cc7\u1cd3\u200b-\u200f\u2016\u2017\u2020-\u2027\u2030-\u2038\u203b-\u203e\u2041-\u2043\u2047-\u2051\u2053\u2055-\u205e\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00\u2e01\u2e06-\u2e08\u2e0b\u2e0e-\u2e16\u2e18\u2e19\u2e1b\u2e1e\u2e1f\u2e2a-\u2e2e\u2e30-\u2e39\u3001-\u3003\u303d\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uaaf0\uaaf1\uabeb\ufe10-\ufe16\ufe19\ufe30\ufe45\ufe46\ufe49-\ufe4c\ufe50-\ufe52\ufe54-\ufe57\ufe5f-\ufe61\ufe68\ufe6a\ufe6b\ufeff\uff01-\uff03\uff05-\uff07\uff0a\uff0c\uff0e\uff0f\uff1a\uff1b\uff1f\uff20\uff3c\uff61\uff64\uff65]+/g,"").toLowerCase())}function l8(e,t,n){let r=Object.assign({},e.strings),i=Object.assign({},t[e.type]),a=new RegExp(/(\{\w+\})/,"gi");if(n){if(r.community){let e=Pv(r.community);r.community=n("_communities.".concat(e))}["name","description","extendedDescription"].forEach(t=>{i[t]&&(i[t]=n("_defaults.".concat(e.type,".").concat(t))),r[t]&&(r[t]=n("".concat(e.id,".").concat(t)))})}let o={account:e.account,community:r.community,signupUrl:r.signupUrl,url:r.url};o.signupUrl||(o.signupUrl=l(r.signupUrl||i.signupUrl)),o.url||(o.url=l(r.url||i.url));let s={name:l(r.name||i.name),url:l(r.url||i.url),signupUrl:l(r.signupUrl||i.signupUrl),description:l(r.description||i.description),extendedDescription:l(r.extendedDescription||i.extendedDescription)};return s.nameHTML=c(s.url,s.name),s.urlHTML=c(s.url),s.signupUrlHTML=c(s.signupUrl),s.descriptionHTML=l(r.description||i.description,!0),s.extendedDescriptionHTML=l(r.extendedDescription||i.extendedDescription,!0),s;function l(t,n){if(!t)return;let r=t;for(let e in o){let t="{".concat(e,"}"),i=new RegExp(t,"g");if(i.test(r)){let a=o[e];if(!a)throw new Error("Cannot resolve token: ".concat(t));n&&("signupUrl"===e||"url"===e)&&(a=c(a)),r=r.replace(i,a)}}let i=r.match(a);if(i)throw new Error("Cannot resolve tokens: ".concat(i));return n&&"reddit"===e.type&&(r=r.replace(/(\/r\/\w+\/*)/i,e=>c(s.url,e))),r}function c(e,t){if(e)return t=t||e,'<a target="_blank" href="'.concat(e,'">').concat(t,"</a>")}}var B4=null;function q5(e){let t,n,r=se("cancel");function i(){let e=ze;return Promise.all([e.get("oci_features"),e.get("oci_resources"),e.get("oci_defaults")]).then(e=>{if(B4)return B4;e[0]&&Array.isArray(e[0].features)&&Ir.mergeCustomGeoJSON(e[0]);let t=Object.values(e[1].resources);return t.length?Ir.mergeLocationSets(t).then(()=>B4={resources:t,defaults:e[2].defaults}):B4={resources:[],defaults:e[2].defaults}})}function a(a){let s=a.append("div").attr("class","header fillL");s.append("h2").call(C.append("success.just_edited")),s.append("button").attr("class","close").attr("title",C("icons.close")).on("click",()=>r.call("cancel")).call(re("#iD-icon-close"));let l=a.append("div").attr("class","body save-success fillL"),c=l.append("div").attr("class","save-summary");c.append("h3").call(C.append("success.thank_you"+(n?"_location":""),{where:n})),c.append("p").call(C.append("success.help_html")).append("a").attr("class","link-out").attr("target","_blank").attr("href",C("success.help_link_url")).call(re("#iD-icon-out-link","inline")).append("span").call(C.append("success.help_link_text"));let u=e.connection();if(!u)return;let d=u.changesetURL(t.id),p=c.append("table").attr("class","summary-table").append("tr").attr("class","summary-row");p.append("td").attr("class","cell-icon summary-icon").append("a").attr("target","_blank").attr("href",d).append("svg").attr("class","logo-small").append("use").attr("xlink:href","#iD-logo-osm");let f=p.append("td").attr("class","cell-detail summary-detail");f.append("a").attr("class","cell-detail summary-view-on-osm").attr("target","_blank").attr("href",d).call(C.append("success.view_on_osm")),f.append("div").html(C.html("success.changeset_id",{changeset_id:{html:'<a href="'.concat(d,'" target="_blank">').concat(t.id,"</a>")}})),i().then(t=>{let n=e.map().center(),r=Ir.locationsAt(n),i=[];t.resources.forEach(e=>{let n=r[e.locationSetID];if(!n)return;e.resolved=l8(e,t.defaults,e=>C.html("community.".concat(e))),i.push({area:n,order:e.order||0,resource:e})}),i.sort((e,t)=>e.area-t.area||t.order-e.order),l.call(o,i.map(e=>e.resource))})}function o(e,t){let n=e.append("div").attr("class","save-communityLinks");n.append("h3").call(C.append("success.like_osm"));let r=n.append("table").attr("class","community-table").selectAll(".community-row").data(t).enter().append("tr").attr("class","community-row");r.append("td").attr("class","cell-icon community-icon").append("a").attr("target","_blank").attr("href",e=>e.resolved.url).append("svg").attr("class","logo-small").append("use").attr("xlink:href",e=>"#community-".concat(e.type)),r.append("td").attr("class","cell-detail community-detail").each(s),n.append("div").attr("class","community-missing").call(C.append("success.missing")).append("a").attr("class","link-out").attr("target","_blank").call(re("#iD-icon-out-link","inline")).attr("href","https://github.com/osmlab/osm-community-index/issues").append("span").call(C.append("success.tell_us"))}function s(t){let n=$(this),r=t.id;n.append("div").attr("class","community-name").html(t.resolved.nameHTML),n.append("div").attr("class","community-description").html(t.resolved.descriptionHTML),(t.resolved.extendedDescriptionHTML||t.languageCodes&&t.languageCodes.length)&&n.append("div").call(Uo(e,"community-more-".concat(t.id),!1).expanded(!1).updatePreference(!1).label(C.html("success.more")).content((function(e){let n=e.selectAll(".community-more").data([0]).enter().append("div").attr("class","community-more");if(t.resolved.extendedDescriptionHTML&&n.append("div").attr("class","community-extended-description").html(t.resolved.extendedDescriptionHTML),t.languageCodes&&t.languageCodes.length){let e=t.languageCodes.map(e=>le.languageName(e)).join(", ");n.append("div").attr("class","community-languages").call(C.append("success.languages",{languages:e}))}})));let i=(t.events||[]).map(e=>(e.date=function(e){if(!e)return;let t=e.trim();if(!t)return;/Z$/.test(t)||(t+="Z");let n=new Date(t);return new Date(n.toUTCString().substr(0,25))}(e.when),e)).filter(e=>{let t=e.date.getTime(),n=(new Date).setHours(0,0,0,0);return!isNaN(t)&&t>=n}).sort((e,t)=>e.date<t.date?-1:e.date>t.date?1:0).slice(0,2);i.length&&n.append("div").call(Uo(e,"community-events-".concat(t.id),!1).expanded(!1).updatePreference(!1).label(C.html("success.events")).content((function(e){let t=e.append("div").attr("class","community-events").selectAll(".community-event").data(i).enter().append("div").attr("class","community-event");t.append("div").attr("class","community-event-name").append("a").attr("target","_blank").attr("href",e=>e.url).text(e=>{let t=e.name;return e.i18n&&e.id&&(t=C("community.".concat(r,".events.").concat(e.id,".name"),{default:t})),t}),t.append("div").attr("class","community-event-when").text(e=>{let t={weekday:"short",day:"numeric",month:"short",year:"numeric"};return(e.date.getHours()||e.date.getMinutes())&&(t.hour="numeric",t.minute="numeric"),e.date.toLocaleString(le.localeCode(),t)}),t.append("div").attr("class","community-event-where").text(e=>{let t=e.where;return e.i18n&&e.id&&(t=C("community.".concat(r,".events.").concat(e.id,".where"),{default:t})),t}),t.append("div").attr("class","community-event-description").text(e=>{let t=e.description;return e.i18n&&e.id&&(t=C("community.".concat(r,".events.").concat(e.id,".description"),{default:t})),t})}))).select(".hide-toggle").append("span").attr("class","badge-text").text(i.length)}return i(),a.changeset=function(e){return arguments.length?(t=e,a):t},a.location=function(e){return arguments.length?(n=e,a):n},fe(a,r,"on")}var Rv=null,u8=!1,c8=!1;function V5(e){var t=e.version,n=t.match(/\d+\.\d+\.\d+.*/);return null===Rv&&null!==n&&(ce("sawVersion")?(c8=!1,u8=ce("sawVersion")!==t&&-1===t.indexOf("-")):(c8=!0,u8=!0),ce("sawVersion",t),Rv=t),function(n){n.append("a").attr("target","_blank").attr("href","https://github.com/openstreetmap/iD").text(t),u8&&!c8&&n.append("a").attr("class","badge").attr("target","_blank").attr("href","https://github.com/openstreetmap/iD/blob/release/CHANGELOG.md#whats-new").call(re("#maki-gift-11")).call(Ee().title(C.html("version.whats_new",{version:t})).placement("top").scrollContainer(e.container().select(".main-footer-wrap")))}}function j5(e){var t=[{id:"zoom-in",icon:"iD-icon-plus",title:C.html("zoom.in"),action:n,disabled:function(){return!e.map().canZoomIn()},disabledTitle:C.html("zoom.disabled.in"),key:"+"},{id:"zoom-out",icon:"iD-icon-minus",title:C.html("zoom.out"),action:r,disabled:function(){return!e.map().canZoomOut()},disabledTitle:C.html("zoom.disabled.out"),key:"-"}];function n(t){t.shiftKey||(t.preventDefault(),e.map().zoomIn())}function r(t){t.shiftKey||(t.preventDefault(),e.map().zoomOut())}function i(t){t.shiftKey||(t.preventDefault(),e.map().zoomInFurther())}function a(t){t.shiftKey||(t.preventDefault(),e.map().zoomOutFurther())}return function(o){var s,l=Ee().placement("rtl"===le.textDirection()?"right":"left").title((function(e){return e.disabled()?e.disabledTitle:e.title})).keys((function(e){return[e.key]})),c=o.selectAll("button").data(t).enter().append("button").attr("class",(function(e){return e.id})).on("pointerup.editor",(function(e){s=e.pointerType})).on("click.editor",(function(t,n){n.disabled()?("touch"===s||"pen"===s)&&e.ui().flash.duration(2e3).iconName("#"+n.icon).iconClass("disabled").label(n.disabledTitle)():n.action(t),s=null})).call(l);function u(){c.classed("disabled",(function(e){return e.disabled()})).each((function(){var e=$(this);e.select(".tooltip.in").empty()||e.call(l.updateContent)}))}c.each((function(e){$(this).call(re("#"+e.icon,"light"))})),Ie.plusKeys.forEach((function(t){e.keybinding().on([t],n),e.keybinding().on([Ne("\u2325"+t)],i)})),Ie.minusKeys.forEach((function(t){e.keybinding().on([t],r),e.keybinding().on([Ne("\u2325"+t)],a)})),u(),e.map().on("move.uiZoom",u)}}function Xa(e,t){var n,r,i,a,o=et(e,t).classes("raw-tag-editor").label((function(){var e=Object.keys(i).filter((function(e){return e})).length;return C.html("inspector.title_count",{title:{html:C.html("inspector.tags")},count:e})})).expandedByDefault(!1).disclosureContent((function(e){p=p.filter((function(e){return void 0!==i[e]}));var r=Vt(Object.keys(i).sort(),p);for(var o in r)p.push(r[o]);var l=p.map((function(e,t){return{index:t,key:e,value:i[e]}}));(!l.length||f)&&(f=!1,l.push({index:l.length,key:"",value:""}));var d=e.selectAll(".raw-tag-options").data([0]);d.exit().remove(),d.enter().insert("div",":first-child").attr("class","raw-tag-options").attr("role","tablist").selectAll(".raw-tag-option").data(c,(function(e){return e.id})).enter().append("button").attr("class",(function(e){return"raw-tag-option raw-tag-option-"+e.id+(u===e.id?" selected":"")})).attr("aria-selected",(function(e){return u===e.id})).attr("role","tab").attr("title",(function(e){return C("icons."+e.id)})).on("click",(function(t,n){u=n.id,ce("raw-tag-editor-view",n.id),e.selectAll(".raw-tag-option").classed("selected",(function(e){return e===n})).attr("aria-selected",(function(e){return e===n})),e.selectAll(".tag-text").classed("hide","text"!==n.id).each(v),e.selectAll(".tag-list, .add-row").classed("hide","list"!==n.id)})).each((function(e){$(this).call(re(e.icon))}));var h=function(e){var t=e.filter((function(e){return e.key&&""!==e.key.trim()})).map((function(e){var t=e.value;"string"!=typeof t&&(t="*");var n=t?b(t):"";return b(e.key)+"="+n})).join("\n");return"hover"!==n&&t.length?t+"\n":t}(l),g=e.selectAll(".tag-text").data([0]);(g=g.enter().append("textarea").attr("class","tag-text"+("text"!==u?" hide":"")).call(Ue).attr("placeholder",C("inspector.key_value")).attr("spellcheck","false").merge(g)).call(Se,h).each(v).on("input",v).on("focus",m).on("blur",_).on("change",_);var w=e.selectAll(".tag-list").data([0]);w=w.enter().append("ul").attr("class","tag-list"+("list"!==u?" hide":"")).merge(w);var N=e.selectAll(".add-row").data([0]).enter().append("div").attr("class","add-row"+("list"!==u?" hide":""));N.append("button").attr("class","add-tag").attr("aria-label",C("inspector.add_to_tag")).call(re("#iD-icon-plus","light")).call(Ee().title(C.html("inspector.add_to_tag")).placement("ltr"===le.textDirection()?"right":"left")).on("click",M),N.append("div").attr("class","space-value"),N.append("div").attr("class","space-buttons");var I=w.selectAll(".tag-row").data(l,(function(e){return e.key}));I.exit().each(x).remove();var D=I.enter().append("li").attr("class","tag-row").classed("readonly",y),P=D.append("div").attr("class","inner-wrap");P.append("div").attr("class","key-wrap").append("input").property("type","text").attr("class","key").call(Ue).on("focus",m).on("blur",A).on("change",A),P.append("div").attr("class","value-wrap").append("input").property("type","text").attr("class","value").call(Ue).on("focus",m).on("blur",E).on("change",E).on("keydown.push-more",k),P.append("button").attr("class","form-field-button remove").attr("title",C("icons.remove")).call(re("#iD-operation-delete")),(I=I.merge(D).sort((function(e,t){return e.index-t.index}))).each((function(e){var r=$(this),o=r.select("input.key"),l=r.select("input.value");a&&s&&"hover"!==n&&function(e,n){if(y(e.datum()))return;if(Array.isArray(n.datum().value))return void n.call(lt(t,"tag-value").minItems(1).fetcher((function(t,n){var r=Se(e);i[r]&&n(i[r].filter(Boolean).map((function(e){return{value:e,title:e}})))})));var r=t.graph().geometry(a[0]);function o(e,t){for(var n=[],r=[],i=0;i<t.length;i++)t[i].value.substring(0,e.length)===e?n.push(t[i]):r.push(t[i]);return n.concat(r)}e.call(lt(t,"tag-key").fetcher((function(e,t){s.keys({debounce:!0,geometry:r,query:e},(function(n,r){if(!n){var a=r.filter((function(e){return void 0===i[e.value]}));t(o(e,a))}}))}))),n.call(lt(t,"tag-value").fetcher((function(t,n){s.values({debounce:!0,key:Se(e),geometry:r,query:t},(function(e,r){e||n(o(t,r))}))})))}(o,l);var c={key:e.key};"string"==typeof e.value&&(c.value=e.value);var u=Ni(c,t);"hover"===n&&u.showing(!1),r.select(".inner-wrap").call(u.button),r.call(u.body),r.select("button.remove")})),I.selectAll("input.key").attr("title",(function(e){return e.key})).call(Se,(function(e){return e.key})).attr("readonly",(function(e){return y(e)||null})),I.selectAll("input.value").attr("title",(function(e){return Array.isArray(e.value)?e.value.filter(Boolean).join("\n"):e.value})).classed("mixed",(function(e){return Array.isArray(e.value)})).attr("placeholder",(function(e){return"string"==typeof e.value?null:C("inspector.multiple_values")})).call(Se,(function(e){return"string"==typeof e.value?e.value:""})).attr("readonly",(function(e){return y(e)||null})),I.selectAll("button.remove").on(("PointerEvent"in window?"pointer":"mouse")+"down",S)})),s=ne.taginfo,l=se("change"),c=[{id:"list",icon:"#fas-th-list"},{id:"text",icon:"#fas-i-cursor"}],u=ce("raw-tag-editor-view")||"list",d=[],p=[],f=!1,h=null,g=!1;function m(){g=!0}function y(e){for(var t=0;t<d.length;t++)if(null!==e.key.match(d[t]))return!0;return!1}function v(){if("text"===u){var e=$(this),t=e.node().value.match(/\n/g),n=2+Number(t&&t.length);e.style("height",20*n+"px")}}function b(e){return JSON.stringify(e).slice(1,-1)}function w(e){var t="",n="";return(e.length<1||'"'!==e.charAt(0))&&(t='"'),(e.length<2||'"'!==e.charAt(e.length-1)||'"'===e.charAt(e.length-1)&&"\\"===e.charAt(e.length-2))&&(n='"'),JSON.parse(t+e+n)}function _(){var e=this.value.trim(),n={};e.split("\n").forEach((function(e){var r=e.match(/^\s*([^=]+)=(.*)$/);if(null!==r){var i=t.cleanTagKey(w(r[1].trim())),a=t.cleanTagValue(w(r[2].trim()));n[i]=a}}));var r=Oa(i,n);if(r.length){if(h=h||{},r.forEach((function(e){y({key:e.key})||"*"===e.newVal&&"string"!=typeof e.oldVal||("-"===e.type?h[e.key]=void 0:"+"===e.type&&(h[e.key]=e.newVal||""))})),0===Object.keys(h).length)return void(h=null);N()}}function k(e){9===e.keyCode&&!e.shiftKey&&o.selection().selectAll(".tag-list li:last-child input.value").node()===this&&Se($(this))&&M()}function x(){var e=$(this);e.selectAll("input.key").call(lt.off,t),e.selectAll("input.value").call(lt.off,t)}function A(e,n){if(!$(this).attr("readonly")){var r=n.key;if(!h||!h.hasOwnProperty(r)||void 0!==h[r]){var a=t.cleanTagKey(this.value.trim());if(y({key:a}))return void(this.value=r);if(a&&a!==r&&void 0!==i[a])return this.value=r,void o.selection().selectAll(".tag-list input.value").each((function(e){if(e.key===a){var t=$(this).node();t.focus(),t.select()}}));if(h=h||{},r){if(r===a)return;h[a]=h[r]||{oldKey:r},h[r]=void 0}else{let e=$(this.parentNode.parentNode).selectAll("input.value"),n=t.cleanTagValue(Se(e));h[a]=n,Se(e,n)}var s=p.indexOf(r);-1!==s&&(p[s]=a),n.key=a,this.value=a,N()}}}function E(e,n){y(n)||"string"!=typeof n.value&&!this.value||h&&h.hasOwnProperty(n.key)&&void 0===h[n.key]||((h=h||{})[n.key]=t.cleanTagValue(this.value),N())}function S(e,t){y(t)||(""===t.key?(f=!1,o.reRender()):(p=p.filter((function(e){return e!==t.key})),(h=h||{})[t.key]=void 0,N()))}function M(){window.setTimeout((function(){f=!0,o.reRender(),o.selection().selectAll(".tag-list li:last-child input.key").node().focus()}),20)}function N(){var e=a;window.setTimeout((function(){!h||(l.call("change",this,e,h),h=null)}),10)}return o.state=function(e){return arguments.length?(n!==e&&(p=[],n=e),o):n},o.presets=function(e){return arguments.length?((r=e)&&r.length&&r[0].isFallback()?o.disclosureExpanded(!0):g||o.disclosureExpanded(null),o):r},o.tags=function(e){return arguments.length?(i=e,o):i},o.entityIDs=function(e){return arguments.length?((!a||!e||!hr(a,e))&&(a=e,p=[]),o):a},o.readOnlyTags=function(e){return arguments.length?(d=e,o):d},fe(o,l,"on")}function U4(e){var t,n=a5(),r=Xa("custom-data-tag-editor",e).expandedByDefault(!0).readOnlyTags([/./]);function i(i){var a=i.selectAll(".header").data([0]).enter().append("div").attr("class","header fillL");a.append("button").attr("class","close").attr("title",C("icons.close")).on("click",(function(){e.enter(be(e))})).call(re("#iD-icon-close")),a.append("h2").call(C.append("map_data.title"));var o=i.selectAll(".body").data([0]),s=(o=o.enter().append("div").attr("class","body").merge(o)).selectAll(".data-editor").data([0]);s.enter().append("div").attr("class","modal-section data-editor").merge(s).call(n.datum(t));var l=o.selectAll(".raw-tag-editor").data([0]);l.enter().append("div").attr("class","raw-tag-editor data-editor").merge(l).call(r.tags(t&&t.properties||{}).state("hover").render).selectAll("textarea.tag-text").attr("readonly",!0).classed("readonly",!0)}return i.datum=function(e){return arguments.length?(t=e,this):t},i}function Lv(e){let t;function n(e,t){if(!e)return"";let n=ne.osmose.getStrings(e.itemType);return t in n?n[t]:""}function r(r){let i=r.selectAll(".error-details").data(t?[t]:[],e=>"".concat(e.id,"-").concat(e.status||0));i.exit().remove();let a=i.enter().append("div").attr("class","error-details qa-details-container");if(n(t,"detail")){let e=a.append("div").attr("class","qa-details-subsection");e.append("h4").call(C.append("QA.keepRight.detail_description")),e.append("p").attr("class","qa-details-description-text").html(e=>n(e,"detail")).selectAll("a").attr("rel","noopener").attr("target","_blank")}let o=a.append("div").attr("class","qa-details-subsection"),s=a.append("div").attr("class","qa-details-subsection");if(n(t,"fix")){let e=a.append("div").attr("class","qa-details-subsection");e.append("h4").call(C.append("QA.osmose.fix_title")),e.append("p").html(e=>n(e,"fix")).selectAll("a").attr("rel","noopener").attr("target","_blank")}if(n(t,"trap")){let e=a.append("div").attr("class","qa-details-subsection");e.append("h4").call(C.append("QA.osmose.trap_title")),e.append("p").html(e=>n(e,"trap")).selectAll("a").attr("rel","noopener").attr("target","_blank")}let l=t;ne.osmose.loadIssueDetail(t).then(t=>{!t.elems||0===t.elems.length||e.selectedErrorID()!==l.id&&e.container().selectAll(".qaItem.osmose.hover.itemId-".concat(l.id)).empty()||(t.detail&&(o.append("h4").call(C.append("QA.osmose.detail_title")),o.append("p").html(e=>e.detail).selectAll("a").attr("rel","noopener").attr("target","_blank")),s.append("h4").call(C.append("QA.osmose.elems_title")),s.append("ul").selectAll("li").data(t.elems).enter().append("li").append("a").attr("href","#").attr("class","error_entity_link").text(e=>e).each((function(){let n=$(this),r=this.textContent,i=e.hasEntity(r);if(n.on("mouseenter",()=>{We([r],!0,e)}).on("mouseleave",()=>{We([r],!1,e)}).on("click",n=>{n.preventDefault(),We([r],!1,e);let a=e.layers().layer("osm");a.enabled()||a.enabled(!0),e.map().centerZoom(t.loc,20),i?e.enter(Ce(e,[r])):e.loadEntity(r,(t,n)=>{t||n.data.find(e=>e.id===r)&&e.enter(Ce(e,[r]))})}),i){let t=Nt(i);if(!t){let n=ve.match(i,e.graph());t=n&&!n.isFallback()&&n.name()}t&&(this.innerText=t)}})),e.features().forceVisible(t.elems),e.map().pan([0,0]))}).catch(e=>{console.log(e)})}return r.issue=function(e){return arguments.length?(t=e,r):t},r}function Bv(){let e;function t(e){let t=C("inspector.unknown");if(!e)return t;let n=ne.osmose.getStrings(e.itemType);return"title"in n?n.title:t}function n(n){let r=n.selectAll(".qa-header").data(e?[e]:[],e=>"".concat(e.id,"-").concat(e.status||0));r.exit().remove();let i=r.enter().append("div").attr("class","qa-header"),a=i.append("div").attr("class","qa-header-icon").classed("new",e=>e.id<0).append("svg").attr("width","20px").attr("height","30px").attr("viewbox","0 0 20 30").attr("class",e=>"preset-icon-28 qaItem ".concat(e.service," itemId-").concat(e.id," itemType-").concat(e.itemType));a.append("polygon").attr("fill",e=>ne.osmose.getColor(e.item)).attr("class","qaItem-fill").attr("points","16,3 4,3 1,6 1,17 4,20 7,20 10,27 13,20 16,20 19,17.033 19,6"),a.append("use").attr("class","icon-annotation").attr("width","12px").attr("height","12px").attr("transform","translate(4, 5.5)").attr("xlink:href",e=>e.icon?"#"+e.icon:""),i.append("div").attr("class","qa-header-label").text(t)}return n.issue=function(t){return arguments.length?(e=t,n):e},n}function Uv(){let e;function t(t){let n;ne.osmose&&e instanceof Et&&(n=ne.osmose.itemURL(e));let r=t.selectAll(".view-on-osmose").data(n?[n]:[]);r.exit().remove(),r.enter().append("a").attr("class","view-on-osmose").attr("target","_blank").attr("rel","noopener").attr("href",e=>e).call(re("#iD-icon-out-link","inline")).append("span").call(C.append("inspector.view_on_osmose"))}return t.what=function(n){return arguments.length?(e=n,t):e},t}function G5(e){let t,n=se("change"),r=Lv(e),i=Bv(e);function a(n){let a=n.selectAll(".header").data([0]).enter().append("div").attr("class","header fillL");a.append("button").attr("class","close").attr("title",C("icons.close")).on("click",()=>e.enter(be(e))).call(re("#iD-icon-close")),a.append("h2").call(C.append("QA.osmose.title"));let s=n.selectAll(".body").data([0]);s=s.enter().append("div").attr("class","body").merge(s);let l=s.selectAll(".qa-editor").data([0]);l.enter().append("div").attr("class","modal-section qa-editor").merge(l).call(i.issue(t)).call(r.issue(t)).call(o);let c=n.selectAll(".footer").data([0]);c.enter().append("div").attr("class","footer").merge(c).call(Uv(e).what(t))}function o(n){let r=t&&t.id===e.selectedErrorID(),i=t&&r,a=n.selectAll(".qa-save").data(i?[t]:[],e=>"".concat(e.id,"-").concat(e.status||0));a.exit().remove(),a=a.enter().append("div").attr("class","qa-save save-section cf").merge(a).call(s)}function s(r){let i=t&&t.id===e.selectedErrorID(),a=r.selectAll(".buttons").data(i?[t]:[],e=>e.status+e.id);a.exit().remove();let o=a.enter().append("div").attr("class","buttons");o.append("button").attr("class","button close-button action"),o.append("button").attr("class","button ignore-button action"),a=a.merge(o),a.select(".close-button").call(C.append("QA.keepRight.close")).on("click.close",(function(e,t){this.blur();let r=ne.osmose;r&&(t.newStatus="done",r.postUpdate(t,(e,t)=>n.call("change",t)))})),a.select(".ignore-button").call(C.append("QA.keepRight.ignore")).on("click.ignore",(function(e,t){this.blur();let r=ne.osmose;r&&(t.newStatus="false",r.postUpdate(t,(e,t)=>n.call("change",t)))}))}return a.error=function(e){return arguments.length?(t=e,a):t},fe(a,n,"on")}function Q5(e){var t,n=D5(e),r=U4(e),i=R4(e),a=N4(e),o=P4(e),s=G5(e),l=!1,c=!1,u=!1,d="PointerEvent"in window?"pointer":"mouse";function p(f){var h,g,m,y=e.container();f.style("min-width","240px").style("max-width","400px").style("width","33.3333%");var v,b,w,_=f.append("div").attr("class","sidebar-resizer").on(d+"down.sidebar-resizer",(function(e){if(!v&&(!("button"in e)||0===e.button)){v=e.pointerId||"mouse",b=e.clientX,w=er(y.node()),m=er(_.node())(e)[0]-1,h=f.node().getBoundingClientRect().width,g=y.node().getBoundingClientRect().width;var t=h/g*100;f.style("width",t+"%").style("max-width","85%"),_.classed("dragging",!0),$(window).on("touchmove.sidebar-resizer",(function(e){e.preventDefault()}),{passive:!1}).on(d+"move.sidebar-resizer",k).on(d+"up.sidebar-resizer pointercancel.sidebar-resizer",x)}}));function k(t){if(v===(t.pointerId||"mouse")){t.preventDefault();var n=t.clientX-b;b=t.clientX;var r="rtl"===le.textDirection(),i=r?0:1,a=r?"margin-right":"margin-left",o=w(t)[0]-m;h=r?g-o:o;var s=f.classed("collapsed"),l=h<240;if(f.classed("collapsed",l),l)s||(f.style(a,"-400px").style("width","400px"),e.ui().onResize([(h-n)*i,0]));else{var c=h/g*100;f.style(a,null).style("width",c+"%"),s?e.ui().onResize([-h*i,0]):e.ui().onResize([-n*i,0])}}}function x(e){v===(e.pointerId||"mouse")&&(v=null,_.classed("dragging",!1),$(window).on("touchmove.sidebar-resizer",null).on(d+"move.sidebar-resizer",null).on(d+"up.sidebar-resizer pointercancel.sidebar-resizer",null))}var A=f.append("div").attr("class","feature-list-pane").call(E5(e)),E=f.append("div").attr("class","inspector-hidden inspector-wrap");function C(d){var h=d&&d.length&&d[0];if(h&&h.__featurehash__)l=!0,p.show(r.datum(h)),f.selectAll(".sidebar-component").classed("inspector-hover",!0);else if(h instanceof Rt){if("drag-note"===e.mode().id)return;c=!0;var g=ne.osm;g&&(h=g.getNote(h.id)),p.show(i.note(h)),f.selectAll(".sidebar-component").classed("inspector-hover",!0)}else if(h instanceof Et){u=!0;var m,y=ne[h.service];y&&(h=y.getError(h.id)),m="keepRight"===h.service?o:"osmose"===h.service?s:a,e.container().selectAll(".qaItem."+h.service).classed("hover",(function(e){return e.id===h.id})),p.show(m.error(h)),f.selectAll(".sidebar-component").classed("inspector-hover",!0)}else!t&&h instanceof ye?(A.classed("inspector-hidden",!0),E.classed("inspector-hidden",!1).classed("inspector-hover",!0),(!n.entityIDs()||!hr(n.entityIDs(),[h.id])||"hover"!==n.state())&&(n.state("hover").entityIDs([h.id]).newFeature(!1),E.call(n))):t?(l||c||u)&&(c=!1,l=!1,u=!1,e.container().selectAll(".note").classed("hover",!1),e.container().selectAll(".qaItem").classed("hover",!1),p.hide()):(A.classed("inspector-hidden",!1),E.classed("inspector-hidden",!0),n.state("hide"))}p.hoverModeSelect=dt((function(t){if(e.container().selectAll(".feature-list-item button").classed("hover",!1),e.selectedIDs().length>1&&t&&t.length){var n=e.container().selectAll(".feature-list-item button").filter((function(e){return-1!==t.indexOf(e)}));n.empty()||n.classed("hover",!0)}}),200),p.hover=dt(C,200),p.intersects=function(t){var n=f.node().getBoundingClientRect();return t.intersects([e.projection.invert([0,n.height]),e.projection.invert([n.width,0])])},p.select=function(t,r){if(p.hide(),t&&t.length){var i=1===t.length&&e.entity(t[0]);if(i&&r&&f.classed("collapsed")){var a=i.extent(e.graph());p.expand(p.intersects(a))}A.classed("inspector-hidden",!0),E.classed("inspector-hidden",!1).classed("inspector-hover",!1),n.state("select").entityIDs(t).newFeature(r),E.call(n)}else n.state("hide")},p.showPresetList=function(){n.showList()},p.show=function(e,n){A.classed("inspector-hidden",!0),E.classed("inspector-hidden",!0),t&&t.remove(),t=f.append("div").attr("class","sidebar-component").call(e,n)},p.hide=function(){A.classed("inspector-hidden",!1),E.classed("inspector-hidden",!0),t&&t.remove(),t=null},p.expand=function(e){f.classed("collapsed")&&p.toggle(e)},p.collapse=function(e){f.classed("collapsed")||p.toggle(e)},p.toggle=function(t){if(!e.inIntro()){var n,r,i,a=!f.classed("collapsed"),o="rtl"===le.textDirection(),s=o?0:1,l=o?"margin-right":"margin-left";h=f.node().getBoundingClientRect().width,f.style("width",h+"px"),a?(n=i=0,r=-h):(n=i=-h,r=0),a||f.classed("collapsed",a),f.transition().style(l,r+"px").tween("panner",(function(){var a=Gt(n,r);return function(n){var r=i-Math.round(a(n));i-=r,e.ui().onResize(t?void 0:[r*s,0])}})).on("end",(function(){if(a&&f.classed("collapsed",a),!a){var e=y.node().getBoundingClientRect().width,t=h/e*100;f.style(l,null).style("width",t+"%")}}))}},_.on("dblclick",(function(e){e.preventDefault(),e.sourceEvent&&e.sourceEvent.preventDefault(),p.toggle()})),e.map().on("crossEditableZoom.sidebar",(function(e){!e&&!f.select(".inspector-hover").empty()&&C([])}))}return p.showPresetList=function(){},p.hover=function(){},p.hover.cancel=function(){},p.intersects=function(){},p.select=function(){},p.show=function(){},p.hide=function(){},p.expand=function(){},p.collapse=function(){},p.toggle=function(){},p}function z4(e,t,n,r){var i={button:r,id:"draw-area"},a=p4(e,t,i,n).on("rejectedSelfIntersection.modeDrawArea",(function(){e.ui().flash.iconName("#iD-icon-no").label(C.html("self_intersection.error.areas"))()}));return i.wayID=t,i.enter=function(){e.install(a)},i.exit=function(){e.uninstall(a)},i.selectedIDs=function(){return[t]},i.activeID=function(){return a&&a.activeID()||[]},i}function H5(e,t){t.id="add-area";var n=q4(e).on("start",(function(n){var a=e.graph(),o=ot({loc:n}),s=Ot({tags:r});e.perform(Cr(o),Cr(s),Bn(s.id,o.id),i(s.id)),e.enter(z4(e,s.id,a,t.button))})).on("startFromWay",(function(n,a){var o=e.graph(),s=ot({loc:n}),l=Ot({tags:r});e.perform(Cr(s),Cr(l),Bn(l.id,s.id),i(l.id),tr({loc:n,edge:a},s)),e.enter(z4(e,l.id,o,t.button))})).on("startFromNode",(function(n){var a=e.graph(),o=Ot({tags:r});e.perform(Cr(o),Bn(o.id,n.id),i(o.id)),e.enter(z4(e,o.id,a,t.button))})),r={area:"yes"};function i(e){return function(t){return t.replace(t.entity(e).close())}}return t.preset&&(r=t.preset.setTags(r,"area")),t.enter=function(){e.install(n)},t.exit=function(){e.uninstall(n)},t}function W5(e,t){t.id="add-line";var n=q4(e).on("start",(function(n){var i=e.graph(),a=ot({loc:n}),o=Ot({tags:r});e.perform(Cr(a),Cr(o),Bn(o.id,a.id)),e.enter(Qn(e,o.id,i,t.button))})).on("startFromWay",(function(n,i){var a=e.graph(),o=ot({loc:n}),s=Ot({tags:r});e.perform(Cr(o),Cr(s),Bn(s.id,o.id),tr({loc:n,edge:i},o)),e.enter(Qn(e,s.id,a,t.button))})).on("startFromNode",(function(n){var i=e.graph(),a=Ot({tags:r});e.perform(Cr(a),Bn(a.id,n.id)),e.enter(Qn(e,a.id,i,t.button))})),r={};return t.preset&&(r=t.preset.setTags(r,"line")),t.enter=function(){e.install(n)},t.exit=function(){e.uninstall(n)},t}function K5(e,t){t.id="add-point";var n=Di(e).on("click",(function(t){var n=ot({loc:t,tags:r});e.perform(Cr(n),C("operations.add.annotation.point")),i(n)})).on("clickWay",(function(t,n){var a=ot({tags:r});e.perform(tr({loc:t,edge:n},a),C("operations.add.annotation.vertex")),i(a)})).on("clickNode",(function(t){if(0===Object.keys(r).length)return void i(t);var n=Object.assign({},t.tags);for(var a in r)n[a]=r[a];e.perform(Pt(t.id,n),C("operations.add.annotation.point")),i(t)})).on("cancel",a).on("finish",a),r={};function i(t){e.enter(Ce(e,[t.id]).newFeature(!0))}function a(){e.enter(be(e))}return t.preset&&(r=t.preset.setTags(r,"point")),t.enter=function(){e.install(n)},t.exit=function(){e.uninstall(n)},t}function Za(e,t){var n={id:"select-note",button:"browse"},r=Ie("select-note"),i=R4(e).on("change",(function(){e.map().pan([0,0]);var t=s();!t||e.ui().sidebar.show(i.note(t))})),a=[Vn(e),qr(e),Wn(e),Kn(e),jn(e).behavior,Hn(e).behavior],o=!1;function s(){if(ne.osm){var n=ne.osm.getNote(t);return n||e.enter(be(e)),n}}function l(n,r){if(s()){var i=e.surface().selectAll(".layer-notes .note-"+t);if(i.empty()){var a=n&&"zoom"===n.type&&n.sourceEvent;r&&a&&("pointermove"===a.type||"mousemove"===a.type||"touchmove"===a.type)&&e.enter(be(e))}else i.classed("selected",!0),e.selectedNoteID(t)}}function c(){e.container().select(".combobox").size()||e.enter(be(e))}return n.zoomToSelected=function(){if(ne.osm){var n=ne.osm.getNote(t);n&&e.map().centerZoomEase(n.loc,20)}},n.newFeature=function(e){return arguments.length?(o=e,n):o},n.enter=function(){var t=s();if(t){a.forEach(e.install),r.on(C("inspector.zoom_to.key"),n.zoomToSelected).on("\u238b",c,!0),$(document).call(r),l();var u=e.ui().sidebar;u.show(i.note(t).newNote(o)),u.expand(u.intersects(t.extent())),e.map().on("drawn.select",l)}},n.exit=function(){a.forEach(e.uninstall),$(document).call(r.unbind),e.surface().selectAll(".layer-notes .selected").classed("selected hover",!1),e.map().on("drawn.select",null),e.ui().sidebar.hide(),e.selectedNoteID(null)},n}function X5(e){var t={id:"add-note",button:"note",description:C.html("modes.add_note.description"),key:C("modes.add_note.key")},n=Di(e).on("click",(function(t){var n=ne.osm;if(n){var r=Rt({loc:t,status:"open",comments:[]});n.replaceNote(r),e.map().pan([0,0]),e.selectedNoteID(r.id).enter(Za(e,r.id).newFeature(!0))}})).on("cancel",r).on("finish",r);function r(){e.enter(be(e))}return t.enter=function(){e.install(n)},t.exit=function(){e.uninstall(n)},t}function Y5(e){var t,n,r,i={id:"save"},a=Ie("modeSave"),o=h5(e).on("cancel",l),s=e.uploader().on("saveStarted.modeSave",(function(){u()})).on("willAttemptUpload.modeSave",(function(){r=q5(e),n=null,ne.geocoder&&ne.geocoder.reverse(e.map().center(),(function(e,t){if(!e&&t&&t.address){var r=t.address,i=r&&(r.town||r.city||r.county)||"",a=r&&(r.state||r.country)||"",o=i&&a?C("success.thank_you_where.separator"):"";n=C("success.thank_you_where.format",{place:i,separator:o,region:a})}}))})).on("progressChanged.modeSave",(function(t,n){var r=e.container().select(".loading-modal .modal-section").selectAll(".progress").data([0]);r.enter().append("div").attr("class","progress").merge(r).text(C("save.conflict_progress",{num:t,total:n}))})).on("resultNoChanges.modeSave",(function(){l()})).on("resultErrors.modeSave",(function(t){c();var n=Ya(e.container());n.select(".modal-section.header").append("h3").text(C("save.error")),function(e,t){var n=e.select(".modal-section.message-text").selectAll(".error-container").data(t),r=n.enter().append("div").attr("class","error-container");r.append("a").attr("class","error-description").attr("href","#").classed("hide-toggle",!0).text((function(e){return e.msg||C("save.unknown_error_details")})).on("click",(function(e){e.preventDefault();var t=$(this),n=$(this.nextElementSibling),r=t.classed("expanded");n.style("display",r?"none":"block"),t.classed("expanded",!r)})),r.append("div").attr("class","error-detail-container").style("display","none").append("ul").attr("class","error-detail-list").selectAll("li").data((function(e){return e.details||[]})).enter().append("li").attr("class","error-detail-item").text((function(e){return e})),n.exit().remove()}(n,t),n.okButton()})).on("resultConflicts.modeSave",(function(n,r,i){var a=e.container().select(".sidebar").append("div").attr("class","sidebar-component");e.container().selectAll(".main-content").classed("active",!0).classed("inactive",!1),t=g5(e).conflictList(r).origChanges(i).on("cancel",(function(){e.container().selectAll(".main-content").classed("active",!1).classed("inactive",!0),a.remove(),c(),s.cancelConflictResolution()})).on("save",(function(){e.container().selectAll(".main-content").classed("active",!1).classed("inactive",!0),a.remove(),s.processResolvedConflicts(n)})),a.call(t)})).on("resultSuccess.modeSave",(function(t){o.reset();var i=r.changeset(t).location(n).on("cancel",(function(){e.ui().sidebar.hide()}));e.enter(be(e).sidebar(i))}));function l(){e.enter(be(e))}function c(){$(document).call(a.on("\u238b",l,!0))}function u(){$(document).call(a.unbind)}return i.selectedIDs=function(){return t?t.shownEntityIds():[]},i.enter=function(){function t(){e.ui().sidebar.show(o)}e.ui().sidebar.expand(),c(),e.container().selectAll(".main-content").classed("active",!1).classed("inactive",!0);var n=e.connection();n?n.authenticated()?t():n.authenticate((function(e){e?l():t()})):l()},i.exit=function(){u(),e.container().selectAll(".main-content").classed("active",!0).classed("inactive",!1),e.ui().sidebar.hide()},i}function Z5(e,t,n){var r,i={id:"select-error",button:"browse"},a=Ie("select-error"),o=ne[n];switch(n){case"improveOSM":r=N4(e).on("change",(function(){e.map().pan([0,0]);var t=l();!t||e.ui().sidebar.show(r.error(t))}));break;case"keepRight":r=P4(e).on("change",(function(){e.map().pan([0,0]);var t=l();!t||e.ui().sidebar.show(r.error(t))}));break;case"osmose":r=G5(e).on("change",(function(){e.map().pan([0,0]);var t=l();!t||e.ui().sidebar.show(r.error(t))}))}var s=[Vn(e),qr(e),Wn(e),Kn(e),jn(e).behavior,Hn(e).behavior];function l(){if(o){var n=o.getError(t);return n||e.enter(be(e)),n}}return i.zoomToSelected=function(){if(o){var n=o.getError(t);n&&e.map().centerZoomEase(n.loc,20)}},i.enter=function(){var o=l();o&&(s.forEach(e.install),a.on(C("inspector.zoom_to.key"),i.zoomToSelected).on("\u238b",(function(){e.container().select(".combobox").size()||e.enter(be(e))}),!0),$(document).call(a),c(),e.ui().sidebar.show(r.error(o)),e.map().on("drawn.select-error",c));function c(r,i){if(l()){var a=e.surface().selectAll(".itemId-"+t+"."+n);if(a.empty()){var o=r&&"zoom"===r.type&&r.sourceEvent;i&&o&&("pointermove"===o.type||"mousemove"===o.type||"touchmove"===o.type)&&e.enter(be(e))}else a.classed("selected",!0),e.selectedErrorID(t)}}},i.exit=function(){s.forEach(e.uninstall),$(document).call(a.unbind),e.surface().selectAll(".qaItem.selected").classed("selected hover",!1),e.map().on("drawn.select-error",null),e.ui().sidebar.hide(),e.selectedErrorID(null),e.features().forceVisible([])},i}function zv(e){var t={id:"old_modes",label:C.html("toolbar.add_feature")},n=[K5(e,{title:C.html("modes.add_point.title"),button:"point",description:C.html("modes.add_point.description"),preset:ve.item("point"),key:"1"}),W5(e,{title:C.html("modes.add_line.title"),button:"line",description:C.html("modes.add_line.description"),preset:ve.item("line"),key:"2"}),H5(e,{title:C.html("modes.add_area.title"),button:"area",description:C.html("modes.add_area.description"),preset:ve.item("area"),key:"3"})];function r(t){return e.editable()}return n.forEach((function(t){e.keybinding().on(t.key,(function(){!r()||(t.id===e.mode().id?e.enter(be(e)):e.enter(t))}))})),t.render=function(t){var i=t.append("div").attr("class","joined").style("display","flex"),a=ft(o,500,{leading:!0,trailing:!0});function o(){var t=i.selectAll("button.add-button").data(n,(function(e){return e.id}));t.exit().remove();var a=t.enter().append("button").attr("class",(function(e){return e.id+" add-button bar-button"})).on("click.mode-buttons",(function(t,n){if(r()){var i=e.mode().id;/^draw/.test(i)||(n.id===i?e.enter(be(e)):e.enter(n))}})).call(Ee().placement("bottom").title((function(e){return e.description})).keys((function(e){return[e.key]})).scrollContainer(e.container().select(".top-toolbar")));a.each((function(e){$(this).call(re("#iD-icon-"+e.button))})),a.append("span").attr("class","label").html((function(e){return e.title})),(t.enter().size()||t.exit().size())&&e.ui().checkOverflow(".top-toolbar",!0),t=t.merge(a).attr("aria-disabled",(function(e){return!r()})).classed("disabled",(function(e){return!r()})).attr("aria-pressed",(function(t){return e.mode()&&e.mode().button===t.button})).classed("active",(function(t){return e.mode()&&e.mode().button===t.button}))}e.map().on("move.modes",a).on("drawn.modes",a),e.on("enter.modes",o),o()},t}function qv(e){var t={id:"notes",label:C.html("modes.add_note.label")},n=X5(e);function r(){return i()&&function(){var t=e.mode();return e.map().notesEditable()&&t&&"save"!==t.id}()}function i(){var t=e.layers().layer("notes");return t&&t.enabled()}return e.keybinding().on(n.key,(function(){!r()||(n.id===e.mode().id?e.enter(be(e)):e.enter(n))})),t.render=function(t){var a=ft(o,500,{leading:!0,trailing:!0});function o(){var a=i()?[n]:[],o=t.selectAll("button.add-button").data(a,(function(e){return e.id}));o.exit().remove();var s=o.enter().append("button").attr("class",(function(e){return e.id+" add-button bar-button"})).on("click.notes",(function(t,n){if(r()){var i=e.mode().id;/^draw/.test(i)||(n.id===i?e.enter(be(e)):e.enter(n))}})).call(Ee().placement("bottom").title((function(e){return e.description})).keys((function(e){return[e.key]})).scrollContainer(e.container().select(".top-toolbar")));s.each((function(e){$(this).call(re(e.icon||"#iD-icon-"+e.button))})),(o.enter().size()||o.exit().size())&&e.ui().checkOverflow(".top-toolbar",!0),o=o.merge(s).classed("disabled",(function(){return!r()})).attr("aria-disabled",(function(){return!r()})).classed("active",(function(t){return e.mode()&&e.mode().button===t.button})).attr("aria-pressed",(function(t){return e.mode()&&e.mode().button===t.button}))}e.map().on("move.notes",a).on("drawn.notes",a),e.on("enter.notes",o),o()},t.uninstall=function(){e.on("enter.editor.notes",null).on("exit.editor.notes",null).on("enter.notes",null),e.map().on("move.notes",null).on("drawn.notes",null)},t}function Vv(e){var t={id:"save",label:C.html("save.title")},n=null,r=null,i=e.history(),a=Ne("\u2318S"),o=0;function s(){var t=e.mode();return t&&"save"===t.id}function l(){return 0===o||s()}function c(t){t.preventDefault(),!e.inIntro()&&!s()&&i.hasChanges()&&e.enter(Y5(e))}function u(){var e=i.difference().summary().length;e!==o&&(o=e,r&&r.title(C.html(o>0?"save.help":"save.no_changes")).keys([a]),n&&(n.classed("disabled",l()).style("background",function(e){var t;return 0===e?null:e<=50?(t=e/50,Ai("#fff","#ff8")(t)):(t=Math.min((e-50)/50,1),Ai("#ff8","#f88")(t))}(o)),n.select("span.count").text(o)))}return t.render=function(t){var i;r=Ee().placement("bottom").title(C.html("save.no_changes")).keys([a]).scrollContainer(e.container().select(".top-toolbar")),(n=t.append("button").attr("class","save disabled bar-button").on("pointerup",(function(e){i=e.pointerType})).on("click",(function(t){c(t),0===o&&("touch"===i||"pen"===i)&&e.ui().flash.duration(2e3).iconName("#iD-icon-save").iconClass("disabled").label(C.html("save.no_changes"))(),i=null})).call(r)).call(re("#iD-icon-save")),n.append("span").attr("class","count").attr("aria-hidden","true").text("0"),u(),e.keybinding().on(a,c,!0),e.history().on("change.save",u),e.on("enter.save",(function(){n&&(n.classed("disabled",l()),s()&&n.call(r.hide))}))},t.uninstall=function(){e.keybinding().off(a,!0),e.history().on("change.save",null),e.on("enter.save",null),n=null,r=null},t}function jv(e){var t={id:"sidebar_toggle",label:C.html("toolbar.inspect"),render:function(t){t.append("button").attr("class","bar-button").attr("aria-label",C("sidebar.tooltip")).on("click",(function(){e.ui().sidebar.toggle()})).call(Ee().placement("bottom").title(C.html("sidebar.tooltip")).keys([C("sidebar.key")]).scrollContainer(e.container().select(".top-toolbar"))).call(re("#iD-icon-sidebar-"+("rtl"===le.textDirection()?"right":"left")))}};return t}function Qv(e){var t={id:"undo_redo",label:C.html("toolbar.undo_redo")},n=[{id:"undo",cmd:Ne("\u2318Z"),action:function(){e.undo()},annotation:function(){return e.history().undoAnnotation()},icon:"iD-icon-"+("rtl"===le.textDirection()?"redo":"undo")},{id:"redo",cmd:Ne("\u2318\u21e7Z"),action:function(){e.redo()},annotation:function(){return e.history().redoAnnotation()},icon:"iD-icon-"+("rtl"===le.textDirection()?"undo":"redo")}];function r(){return e.mode()&&"save"!==e.mode().id&&e.map().editableDataEnabled(!0)}return t.render=function(t){var i,a=Ee().placement("bottom").title((function(e){return e.annotation()?C.html(e.id+".tooltip",{action:e.annotation()}):C.html(e.id+".nothing")})).keys((function(e){return[e.cmd]})).scrollContainer(e.container().select(".top-toolbar")),o=t.selectAll("button").data(n).enter().append("button").attr("class",(function(e){return"disabled "+e.id+"-button bar-button"})).on("pointerup",(function(e){i=e.pointerType})).on("click",(function(t,n){t.preventDefault();var a=n.annotation();if(r()&&a&&n.action(),r()&&("touch"===i||"pen"===i)){var o=a?C.html(n.id+".tooltip",{action:a}):C.html(n.id+".nothing");e.ui().flash.duration(2e3).iconName("#"+n.icon).iconClass(a?"":"disabled").label(o)()}i=null})).call(a);o.each((function(e){$(this).call(re("#"+e.icon))})),e.keybinding().on(n[0].cmd,(function(e){e.preventDefault(),r()&&n[0].action()})).on(n[1].cmd,(function(e){e.preventDefault(),r()&&n[1].action()}));var s=ft(l,500,{leading:!0,trailing:!0});function l(){o.classed("disabled",(function(e){return!r()||!e.annotation()})).each((function(){var e=$(this);e.select(".tooltip.in").empty()||e.call(a.updateContent)}))}e.map().on("move.undo_redo",s).on("drawn.undo_redo",s),e.history().on("change.undo_redo",(function(e){e&&l()})),e.on("enter.undo_redo",l)},t.uninstall=function(){e.keybinding().off(n[0].cmd).off(n[1].cmd),e.map().on("move.undo_redo",null).on("drawn.undo_redo",null),e.history().on("change.undo_redo",null),e.on("enter.undo_redo",null)},t}function $v(e){var t=jv(e),n=zv(e),r=qv(e),i=Qv(e),a=Vv(e);return function(o){o.on("wheel.topToolbar",(function(e){e.deltaX||(o.node().scrollLeft+=e.deltaY)}));var s=ft(l,500,{leading:!0,trailing:!0});function l(){var s=[t,"spacer",n];s.push("spacer"),function(){var t=e.layers().layer("notes");return t&&t.enabled()}()&&(s=s.concat([r,"spacer"])),s=s.concat([i,a]);var l=o.selectAll(".toolbar-item").data(s,(function(e){return e.id||e}));l.exit().each((function(e){e.uninstall&&e.uninstall()})).remove();var c=l.enter().append("div").attr("class",(function(e){var t="toolbar-item "+(e.id||e).replace("_","-");return e.klass&&(t+=" "+e.klass),t})).filter((function(e){return"spacer"!==e}));c.append("div").attr("class","item-content").each((function(e){$(this).call(e.render,o)})),c.append("div").attr("class","item-label").html((function(e){return e.label}))}e.layers().on("change.topToolbar",s),l()}}function Gv(e){function t(){var t=e.mode();return!t||!t.zoomToSelected}var n;function r(e){n=e.pointerType}function i(r){if(r.preventDefault(),t())("touch"===n||"pen"===n)&&e.ui().flash.duration(2e3).iconName("#iD-icon-framed-dot").iconClass("disabled").label(C.html("inspector.zoom_to.no_selection"))();else{var i=e.mode();i&&i.zoomToSelected&&i.zoomToSelected()}n=null}return function(n){var a=Ee().placement("rtl"===le.textDirection()?"right":"left").title((function(){return t()?C.html("inspector.zoom_to.no_selection"):C.html("inspector.zoom_to.title")})).keys([C("inspector.zoom_to.key")]),o=n.append("button").on("pointerup",r).on("click",i).call(re("#iD-icon-framed-dot","light")).call(a);function s(){o.classed("disabled",t()),o.select(".tooltip.in").empty()||o.call(a.updateContent)}e.on("enter.uiZoomToSelection",s),s()}}function Oi(e,t){var n,r,i,a="",o="",s="",l=$(null),c={id:e};function u(){t.ui().togglePanes()}return c.label=function(e){return arguments.length?(a=e,c):a},c.key=function(e){return arguments.length?(n=e,c):n},c.description=function(e){return arguments.length?(o=e,c):o},c.iconName=function(e){return arguments.length?(s=e,c):s},c.sections=function(e){return arguments.length?(r=e,c):r},c.selection=function(){return l},c.togglePane=function(e){e&&e.preventDefault(),i.hide(),t.ui().togglePanes(l.classed("shown")?void 0:l)},c.renderToggleButton=function(e){i||(i=Ee().placement("rtl"===le.textDirection()?"right":"left").title(o).keys([n])),e.append("button").on("click",c.togglePane).call(re("#"+s,"light")).call(i)},c.renderContent=function(e){r&&r.forEach((function(t){e.call(t.render)}))},c.renderPane=function(r){var i=(l=r.append("div").attr("class","fillL map-pane hide "+e+"-pane").attr("pane",e)).append("div").attr("class","pane-heading");i.append("h2").html(a),i.append("button").attr("title",C("icons.close")).on("click",u).call(re("#iD-icon-close")),l.append("div").attr("class","pane-content").call(c.renderContent),n&&t.keybinding().on(n,c.togglePane)},c}function e6(e){var t=et("background-display-options",e).label(C.html("background.display_options")).disclosureContent((function(t){var n=t.selectAll(".display-options-container").data([0]),o=n.enter().append("div").attr("class","display-options-container controls-list"),s=o.selectAll(".display-control").data(r).enter().append("label").attr("class",(function(e){return"display-control display-control-"+e}));s.html((function(e){return C.html("background."+e)})).append("span").attr("class",(function(e){return"display-option-value display-option-value-"+e}));var l=s.append("div").attr("class","control-wrap");l.append("input").attr("class",(function(e){return"display-option-input display-option-input-"+e})).attr("type","range").attr("min",0).attr("max",3).attr("step","0.05").on("input",(function(e,t){var n=$(this).property("value");!n&&e&&e.target&&(n=e.target.value),a(t,n)})),l.append("button").attr("title",(function(e){return"".concat(C("background.reset")," ").concat(C("background."+e))})).attr("class",(function(e){return"display-option-reset display-option-reset-"+e})).on("click",(function(e,t){0===e.button&&a(t,1)})).call(re("#iD-icon-"+("rtl"===le.textDirection()?"redo":"undo"))),o.append("a").attr("class","display-option-resetlink").attr("role","button").attr("href","#").call(C.append("background.reset_all")).on("click",(function(e){e.preventDefault();for(var t=0;t<r.length;t++)a(r[t],1)})),(n=o.merge(n)).selectAll(".display-option-input").property("value",(function(e){return i[e]})),n.selectAll(".display-option-value").text((function(e){return Math.floor(100*i[e])+"%"})),n.selectAll(".display-option-reset").classed("disabled",(function(e){return 1===i[e]})),o.size()&&1!==i.brightness&&e.background().brightness(i.brightness)})),n=ce("background-opacity"),r=["brightness","contrast","saturation","sharpness"],i={brightness:null!==n?+n:1,contrast:1,saturation:1,sharpness:1};function a(n,r){r=function(e,t,n){return Math.max(t,Math.min(e,n))}(r,0,3),i[n]=r,e.background()[n](r),"brightness"===n&&ce("background-opacity",r),t.reRender()}return t}function t6(){var e=se("change");return fe((function(t){var n={template:ce("background-custom-template")},r={template:ce("background-custom-template")},i=Ya(t).okButton();i.classed("settings-modal settings-custom-background",!0),i.select(".modal-section.header").append("h3").call(C.append("settings.custom_background.header"));var a=i.select(".modal-section.message-text"),o="".concat(C.html("settings.custom_background.instructions.info"),"\n\n#### ").concat(C.html("settings.custom_background.instructions.wms.tokens_label"),"\n* ").concat(C.html("settings.custom_background.instructions.wms.tokens.proj"),"\n* ").concat(C.html("settings.custom_background.instructions.wms.tokens.wkid"),"\n* ").concat(C.html("settings.custom_background.instructions.wms.tokens.dimensions"),"\n* ").concat(C.html("settings.custom_background.instructions.wms.tokens.bbox"),"\n\n#### ").concat(C.html("settings.custom_background.instructions.tms.tokens_label"),"\n* ").concat(C.html("settings.custom_background.instructions.tms.tokens.xyz"),"\n* ").concat(C.html("settings.custom_background.instructions.tms.tokens.flipped_y"),"\n* ").concat(C.html("settings.custom_background.instructions.tms.tokens.switch"),"\n* ").concat(C.html("settings.custom_background.instructions.tms.tokens.quadtile"),"\n* ").concat(C.html("settings.custom_background.instructions.tms.tokens.scale_factor"),"\n\n#### ").concat(C.html("settings.custom_background.instructions.example"),"\n`").concat("https://{switch:a,b,c}.tile.openstreetmap.org/{zoom}/{x}/{y}.png","`");a.append("div").attr("class","instructions-template").html(qe(o)),a.append("textarea").attr("class","field-template").attr("placeholder",C("settings.custom_background.template.placeholder")).call(Ue).property("value",r.template);var s=i.select(".modal-section.buttons");s.insert("button",".ok-button").attr("class","button cancel-button secondary-action").call(C.append("confirm.cancel")),s.select(".cancel-button").on("click.cancel",(function(){a.select(".field-template").property("value",n.template),ce("background-custom-template",n.template),this.blur(),i.close()})),s.select(".ok-button").attr("disabled",(function(){return null})).on("click.save",(function(){r.template=a.select(".field-template").property("value"),ce("background-custom-template",r.template),this.blur(),i.close(),e.call("change",this,r)}))}),e,"on")}function r6(e){var t=$(null),n=e.background().findSource("custom"),r=t6(e).on("change",(function(t){t&&t.template?(n.template(t.template),c(n)):(n.template(""),c(e.background().findSource("none")))})),i=et("background-list",e).label(C.html("background.backgrounds")).disclosureContent((function(n){var r=n.selectAll(".layer-background-list").data([0]);t=r.enter().append("ul").attr("class","layer-list layer-background-list").attr("dir","auto").merge(r);var i=n.selectAll(".bg-extras-list").data([0]).enter().append("ul").attr("class","layer-list bg-extras-list"),a=i.append("li").attr("class","minimap-toggle-item").append("label").call(Ee().title(C.html("background.minimap.tooltip")).keys([C("background.minimap.key")]).placement("top"));a.append("input").attr("type","checkbox").on("change",(function(e){e.preventDefault(),Bo.toggle()})),a.append("span").call(C.append("background.minimap.description"));var o=i.append("li").attr("class","background-panel-toggle-item").append("label").call(Ee().title(C.html("background.panel.tooltip")).keys([Ne("\u2318\u21e7"+C("info_panels.background.key"))]).placement("top"));o.append("input").attr("type","checkbox").on("change",(function(t){t.preventDefault(),e.ui().info.toggle("background")})),o.append("span").call(C.append("background.panel.description"));var l=i.append("li").attr("class","location-panel-toggle-item").append("label").call(Ee().title(C.html("background.location_panel.tooltip")).keys([Ne("\u2318\u21e7"+C("info_panels.location.key"))]).placement("top"));l.append("input").attr("type","checkbox").on("change",(function(t){t.preventDefault(),e.ui().info.toggle("location")})),l.append("span").call(C.append("background.location_panel.description")),n.selectAll(".imagery-faq").data([0]).enter().append("div").attr("class","imagery-faq").append("a").attr("target","_blank").call(re("#iD-icon-out-link","inline")).attr("href","https://github.com/openstreetmap/iD/blob/develop/FAQ.md#how-can-i-report-an-issue-with-background-imagery").append("span").call(C.append("background.imagery_problem_faq")),t.call(s,"radio",(function(e,t){c(t)}),(function(e){return!e.isHidden()&&!e.overlay}))}));function a(){return ce("background-last-used-toggle")}function o(e){e.each((function(e,t,n){var r=$(this).select("label"),i=r.select("span"),o=t<n.length/2?"bottom":"top",s=e.description(),l=i.property("clientWidth")!==i.property("scrollWidth");r.call(Ee().destroyAny),e.id===a()?r.call(Ee().placement(o).title("<div>"+C.html("background.switch")+"</div>").keys([Ne("\u2318"+C("background.key"))])):(s||l)&&r.call(Ee().placement(o).title(s||e.label()))}))}function s(t,n,r,i){var a=e.background().sources(e.map().extent(),e.map().zoom(),!0).filter(i).sort((function(e,t){return e.best()&&!t.best()?-1:t.best()&&!e.best()?1:ca(e.area(),t.area())||Wr(e.name(),t.name())||0})),o=t.selectAll("li").data(a,(function(e,t){return e.id+"---"+t}));o.exit().remove();var s=o.enter().append("li").classed("layer-custom",(function(e){return"custom"===e.id})).classed("best",(function(e){return e.best()})),c=s.append("label");c.append("input").attr("type",n).attr("name","background-layer").attr("value",(function(e){return e.id})).on("change",r),c.append("span").html((function(e){return e.label()})),s.filter((function(e){return"custom"===e.id})).append("button").attr("class","layer-browse").call(Ee().title(C.html("settings.custom_background.tooltip")).placement("rtl"===le.textDirection()?"right":"left")).on("click",(function(e){e.preventDefault(),u()})).call(re("#iD-icon-more")),s.filter((function(e){return e.best()})).append("div").attr("class","best").call(Ee().title(C.html("background.best_imagery")).placement("rtl"===le.textDirection()?"right":"left")).append("span").html("&#9733;"),t.call(l)}function l(t){function n(t){return e.background().showsLayer(t)}t.selectAll("li").classed("active",n).classed("switch",(function(e){return e.id===a()})).call(o).selectAll("input").property("checked",n)}function c(t){if("custom"===t.id&&!t.template())return u();ce("background-last-used-toggle",e.background().baseLayerSource().id),ce("background-last-used",t.id),e.background().baseLayerSource(t)}function u(){e.container().call(r)}return e.background().on("change.background_list",(function(){t.call(l)})),e.map().on("move.background_list",ft((function(){window.requestIdleCallback(i.reRender)}),1e3)),i}function n6(e){var t=et("background-offset",e).label(C.html("background.fix_misalignment")).disclosureContent((function(e){var t=e.selectAll(".nudge-container").data([0]).enter().append("div").attr("class","nudge-container");t.append("div").attr("class","nudge-instructions").call(C.append("background.offset"));var c=t.append("div").attr("class","nudge-controls-wrap");c.append("div").attr("class","nudge-outer-rect").on(n+"down",l).append("div").attr("class","nudge-inner-rect").append("input").attr("type","text").attr("aria-label",C("background.offset_label")).on("change",s),c.append("div").selectAll("button").data(r).enter().append("button").attr("title",(function(e){return C("background.nudge.".concat(e[0]))})).attr("class",(function(e){return e[0]+" nudge"})).on("click",(function(e,t){o(t[1])})),c.append("button").attr("title",C("background.reset")).attr("class","nudge-reset disabled").on("click",(function(e){e.preventDefault(),a()})).call(re("#iD-icon-"+("rtl"===le.textDirection()?"redo":"undo"))),i()})).expandedByDefault(!1),n="PointerEvent"in window?"pointer":"mouse",r=[["top",[0,-.5]],["left",[-.5,0]],["right",[.5,0]],["bottom",[0,.5]]];function i(){var t=g1(e.background().offset()),n=+t[0].toFixed(2),r=+t[1].toFixed(2);e.container().selectAll(".nudge-inner-rect").select("input").classed("error",!1).property("value",n+", "+r),e.container().selectAll(".nudge-reset").classed("disabled",(function(){return 0===n&&0===r}))}function a(){e.background().offset([0,0]),i()}function o(t){e.background().nudge(t,e.map().zoom()),i()}function s(){var t=$(this),n=t.node().value;if(""===n)return a();2===(n=n.replace(/;/g,",").split(",").map((function(e){return!isNaN(e)&&e}))).length&&n[0]&&n[1]?(e.background().offset(h1(n)),i()):t.classed("error",!0)}function l(t){if(0===t.button){var r=[t.clientX,t.clientY],i=t.pointerId||"mouse";e.container().append("div").attr("class","nudge-surface"),$(window).on(n+"move.drag-bg-offset",(function(e){if(i===(e.pointerId||"mouse")){var t=[e.clientX,e.clientY],n=[-(r[0]-t[0])/4,-(r[1]-t[1])/4];r=t,o(n)}})).on(n+"up.drag-bg-offset",a),"pointer"===n&&$(window).on("pointercancel.drag-bg-offset",a)}function a(t){i===(t.pointerId||"mouse")&&0===t.button&&(e.container().selectAll(".nudge-surface").remove(),$(window).on(".drag-bg-offset",null))}}return e.background().on("change.backgroundOffset-update",i),t}function i6(e){var t=et("overlay-list",e).label(C.html("background.overlays")).disclosureContent((function(e){var t=e.selectAll(".layer-overlay-list").data([0]);(n=t.enter().append("ul").attr("class","layer-list layer-overlay-list").attr("dir","auto").merge(t)).call(o,"checkbox",a,(function(e){return!e.isHidden()&&e.overlay}))})),n=$(null);function r(e){e.each((function(e,t,n){var r=$(this).select("label"),i=r.select("span"),a=t<n.length/2?"bottom":"top",o=e.description(),s=i.property("clientWidth")!==i.property("scrollWidth");r.call(Ee().destroyAny),(o||s)&&r.call(Ee().placement(a).title(o||e.name()))}))}function i(t){function n(t){return e.background().showsLayer(t)}t.selectAll("li").classed("active",n).call(r).selectAll("input").property("checked",n)}function a(t,r){t.preventDefault(),e.background().toggleOverlayLayer(r),n.call(i),document.activeElement.blur()}function o(t,n,r,a){var o=e.background().sources(e.map().extent(),e.map().zoom(),!0).filter(a),s=t.selectAll("li").data(o,(function(e){return e.name()}));s.exit().remove();var l=s.enter().append("li").append("label");l.append("input").attr("type",n).attr("name","layers").on("change",r),l.append("span").html((function(e){return e.label()})),t.selectAll("li").sort((function(e,t){return e.best()&&!t.best()?-1:t.best()&&!e.best()?1:ca(e.area(),t.area())||Wr(e.name(),t.name())||0})),t.call(i)}return e.map().on("move.overlay_list",ft((function(){window.requestIdleCallback(t.reRender)}),1e3)),t}function a6(e){return Oi("background",e).key(C("background.key")).label(C.html("background.title")).description(C.html("background.description")).iconName("iD-icon-layers").sections([r6(e),i6(e),e6(e),n6(e)])}function o6(e){var t={"help.help.open_data_h":3,"help.help.before_start_h":3,"help.help.open_source_h":3,"help.overview.navigation_h":3,"help.overview.features_h":3,"help.editing.select_h":3,"help.editing.multiselect_h":3,"help.editing.undo_redo_h":3,"help.editing.save_h":3,"help.editing.upload_h":3,"help.editing.backups_h":3,"help.editing.keyboard_h":3,"help.feature_editor.type_h":3,"help.feature_editor.fields_h":3,"help.feature_editor.tags_h":3,"help.points.add_point_h":3,"help.points.move_point_h":3,"help.points.delete_point_h":3,"help.lines.add_line_h":3,"help.lines.modify_line_h":3,"help.lines.connect_line_h":3,"help.lines.disconnect_line_h":3,"help.lines.move_line_h":3,"help.lines.delete_line_h":3,"help.areas.point_or_area_h":3,"help.areas.add_area_h":3,"help.areas.square_area_h":3,"help.areas.modify_area_h":3,"help.areas.delete_area_h":3,"help.relations.edit_relation_h":3,"help.relations.maintain_relation_h":3,"help.relations.relation_types_h":2,"help.relations.multipolygon_h":3,"help.relations.turn_restriction_h":3,"help.relations.route_h":3,"help.relations.boundary_h":3,"help.notes.add_note_h":3,"help.notes.update_note_h":3,"help.notes.save_note_h":3,"help.imagery.sources_h":3,"help.imagery.offsets_h":3,"help.streetlevel.using_h":3,"help.gps.using_h":3,"help.qa.tools_h":3,"help.qa.issues_h":3},n=[["help",["welcome","open_data_h","open_data","before_start_h","before_start","open_source_h","open_source","open_source_help"]],["overview",["navigation_h","navigation_drag","navigation_zoom","features_h","features","nodes_ways"]],["editing",["select_h","select_left_click","select_right_click","select_space","multiselect_h","multiselect","multiselect_shift_click","multiselect_lasso","undo_redo_h","undo_redo","save_h","save","save_validation","upload_h","upload","backups_h","backups","keyboard_h","keyboard"]],["feature_editor",["intro","definitions","type_h","type","type_picker","fields_h","fields_all_fields","fields_example","fields_add_field","tags_h","tags_all_tags","tags_resources"]],["points",["intro","add_point_h","add_point","add_point_finish","move_point_h","move_point","delete_point_h","delete_point","delete_point_command"]],["lines",["intro","add_line_h","add_line","add_line_draw","add_line_continue","add_line_finish","modify_line_h","modify_line_dragnode","modify_line_addnode","connect_line_h","connect_line","connect_line_display","connect_line_drag","connect_line_tag","disconnect_line_h","disconnect_line_command","move_line_h","move_line_command","move_line_connected","delete_line_h","delete_line","delete_line_command"]],["areas",["intro","point_or_area_h","point_or_area","add_area_h","add_area_command","add_area_draw","add_area_continue","add_area_finish","square_area_h","square_area_command","modify_area_h","modify_area_dragnode","modify_area_addnode","delete_area_h","delete_area","delete_area_command"]],["relations",["intro","edit_relation_h","edit_relation","edit_relation_add","edit_relation_delete","maintain_relation_h","maintain_relation","relation_types_h","multipolygon_h","multipolygon","multipolygon_create","multipolygon_merge","turn_restriction_h","turn_restriction","turn_restriction_field","turn_restriction_editing","route_h","route","route_add","boundary_h","boundary","boundary_add"]],["operations",["intro","intro_2","straighten","orthogonalize","circularize","move","rotate","reflect","continue","reverse","disconnect","split","extract","merge","delete","downgrade","copy_paste"]],["notes",["intro","add_note_h","add_note","place_note","move_note","update_note_h","update_note","save_note_h","save_note"]],["imagery",["intro","sources_h","choosing","sources","offsets_h","offset","offset_change"]],["streetlevel",["intro","using_h","using","photos","viewer"]],["gps",["intro","survey","using_h","using","tracing","upload"]],["qa",["intro","tools_h","tools","issues_h","issues"]]].map((function(n){var r="help."+n[0],i={version:e.version},a=n[1].reduce((function(e,n){var a=r+"."+n,o=t[a];return e+(o?Array(o+1).join("#")+" ":"")+ae(a,i)+"\n\n"}),"");return{title:C.html(r+".title"),content:qe(a.trim()).replace(/<code>/g,"<kbd>").replace(/<\/code>/g,"</kbd>")}})),r=Oi("help",e).key(C("help.key")).label(C.html("help.title")).description(C.html("help.title")).iconName("iD-icon-help");return r.renderContent=function(t){function i(e,a){var s="rtl"===le.textDirection();function l(e){a<n.length-1&&e.append("a").attr("href","#").attr("class","next").on("click",(function(e){e.preventDefault(),i(n[a+1],a+1)})).append("span").html(n[a+1].title).call(re(s?"#iD-icon-backward":"#iD-icon-forward","inline"))}function d(e){a>0&&e.append("a").attr("href","#").attr("class","previous").on("click",(function(e){e.preventDefault(),i(n[a-1],a-1)})).call(re(s?"#iD-icon-forward":"#iD-icon-backward","inline")).append("span").html(n[a-1].title)}t.property("scrollTop",0),r.selection().select(".pane-heading h2").html(e.title),c.html(e.content),c.selectAll("a").attr("target","_blank"),o.classed("selected",(function(t){return t.title===e.title})),u.html(""),s?u.call(l).call(d):u.call(d).call(l)}var a=t.append("ul").attr("class","toc"),o=a.selectAll("li").data(n).enter().append("li").append("a").attr("role","button").attr("href","#").html((function(e){return e.title})).on("click",(function(e,t){e.preventDefault(),i(t,n.indexOf(t))}));a.append("li").attr("class","shortcuts").call(Ee().title(C.html("shortcuts.tooltip")).keys(["?"]).placement("top")).append("a").attr("href","#").on("click",(function(t){t.preventDefault(),e.container().call(e.ui().shortcuts,!0)})).append("div").call(C.append("shortcuts.title"));var s=a.append("li").attr("class","walkthrough").append("a").attr("href","#").on("click",(function(t){t.preventDefault(),!e.inIntro()&&(e.container().call(Wa(e)),e.ui().togglePanes())}));s.append("svg").attr("class","logo logo-walkthrough").append("use").attr("xlink:href","#iD-logo-walkthrough"),s.append("div").call(C.append("splash.walkthrough"));var l=t.append("div").attr("class","left-content"),c=l.append("div").attr("class","body"),u=l.append("div").attr("class","nav");i(n[0],0)},r}function L2(e,t,n){var r=[],i=et(e,n).label((function(){if(!r)return"";var e=r.length>1e3?"1000+":String(r.length);return C.html("inspector.title_count",{title:{html:C.html("issues."+t+"s.list_title")},count:e})})).disclosureContent((function(e){var t=n.map().center(),i=n.graph(),a=r.map((function(e){var n=e.extent(i),r=n?rt(t,n.center()):0;return Object.assign(e,{dist:r})})).sort((function(e,t){return e.dist-t.dist}));a=a.slice(0,1e3),e.call(s,a)})).shouldDisplay((function(){return r&&r.length}));function a(){return{what:ce("validate-what")||"edited",where:ce("validate-where")||"all"}}function o(){r=n.validator().getIssuesBySeverity(a())[t]}function s(e,r){var i=e.selectAll(".issues-list").data([0]),a=(i=i.enter().append("ul").attr("class","layer-list issues-list "+t+"s-list").merge(i)).selectAll("li").data(r,(function(e){return e.key}));a.exit().remove();var o=a.enter().append("li").attr("class",(function(e){return"issue severity-"+e.severity})),s=o.append("button").attr("class","issue-label").on("click",(function(e,t){n.validator().focusIssue(t)})).on("mouseover",(function(e,t){We(t.entityIds,!0,n)})).on("mouseout",(function(e,t){We(t.entityIds,!1,n)})).append("span").attr("class","issue-text");s.append("span").attr("class","issue-icon").each((function(e){var t="#iD-icon-"+("warning"===e.severity?"alert":"error");$(this).call(re(t))})),s.append("span").attr("class","issue-message"),(a=a.merge(o).order()).selectAll(".issue-message").html((function(e){return e.message(n)}))}return n.validator().on("validated.uiSectionValidationIssues"+e,(function(){window.requestIdleCallback((function(){o(),i.reRender()}))})),n.map().on("move.uiSectionValidationIssues"+e,ft((function(){window.requestIdleCallback((function(){"visible"===a().where&&o(),i.reRender()}))}),1e3)),i}function s6(e){return et("issues-options",e).content((function(t){var n=t.selectAll(".issues-options-container").data([0]);n=n.enter().append("div").attr("class","issues-options-container").merge(n);var r=n.selectAll(".issues-option").data([{key:"what",values:["edited","all"]},{key:"where",values:["visible","all"]}],(function(e){return e.key})).enter().append("div").attr("class",(function(e){return"issues-option issues-option-"+e.key}));r.append("div").attr("class","issues-option-title").html((function(e){return C.html("issues.options."+e.key+".title")}));var i=r.selectAll("label").data((function(e){return e.values.map((function(t){return{value:t,key:e.key}}))})).enter().append("label");i.append("input").attr("type","radio").attr("name",(function(e){return"issues-option-"+e.key})).attr("value",(function(e){return e.value})).property("checked",(function(e){return{what:ce("validate-what")||"edited",where:ce("validate-where")||"all"}[e.key]===e.value})).on("change",(function(t,n){!function(t,n,r){!r&&t&&t.target&&(r=t.target.value),ce("validate-"+n,r),e.validator().validate()}(t,n.key,n.value)})),i.append("span").html((function(e){return C.html("issues.options."+e.key+"."+e.value)}))}))}function l6(e){var t=et("issues-rules",e).disclosureContent((function(t){var i=t.selectAll(".issues-rulelist-container").data([0]),s=i.enter().append("div").attr("class","issues-rulelist-container");s.append("ul").attr("class","layer-list issue-rules-list");var l=s.append("div").attr("class","issue-rules-links section-footer");l.append("a").attr("class","issue-rules-link").attr("role","button").attr("href","#").call(C.append("issues.disable_all")).on("click",(function(t){t.preventDefault(),e.validator().disableRules(n)})),l.append("a").attr("class","issue-rules-link").attr("role","button").attr("href","#").call(C.append("issues.enable_all")).on("click",(function(t){t.preventDefault(),e.validator().disableRules([])})),(i=i.merge(s)).selectAll(".issue-rules-list").call(r,n,"checkbox","rule",o,a)})).label(C.html("issues.rules.title")),n=e.validator().getRuleKeys().filter((function(e){return"maprules"!==e})).sort((function(e,t){return C("issues."+e+".title")<C("issues."+t+".title")?-1:1}));function r(e,t,n,r,a,o){var s=e.selectAll("li").data(t);s.exit().remove();var l=s.enter().append("li");"rule"===r&&l.call(Ee().title((function(e){return C.html("issues."+e+".tip")})).placement("top"));var c=l.append("label");c.append("input").attr("type",n).attr("name",r).on("change",a),c.append("span").html((function(e){var t={};return"unsquare_way"===e&&(t.val={html:'<span class="square-degrees"></span>'}),C.html("issues."+e+".title",t)})),(s=s.merge(l)).classed("active",o).selectAll("input").property("checked",o).property("indeterminate",!1);var u=ce("validate-square-degrees");null===u&&(u=5..toString());var d=s.selectAll(".square-degrees").selectAll(".square-degrees-input").data([0]);d.enter().append("input").attr("type","number").attr("min",(0).toString()).attr("max",20..toString()).attr("step","0.5").attr("class","square-degrees-input").call(Ue).on("click",(function(e){e.preventDefault(),e.stopPropagation(),this.select()})).on("keyup",(function(e){13===e.keyCode&&(this.blur(),this.select())})).on("blur",i).merge(d).property("value",u)}function i(){var t=$(this),n=Se(t).trim(),r=parseFloat(n,10);isFinite(r)?r>20?r=20:r<0&&(r=0):r=5,n=(r=Math.round(10*r)/10).toString(),t.property("value",n),ce("validate-square-degrees",n),e.validator().revalidateUnsquare()}function a(t){return e.validator().isRuleEnabled(t)}function o(t,n){e.validator().toggleRule(n)}return e.validator().on("validated.uiSectionValidationRules",(function(){window.requestIdleCallback(t.reRender)})),t}function u6(e){var t=et("issues-status",e).content((function(t){var r=t.selectAll(".box").data([0]).enter().append("div").attr("class","box");r.append("div").call(re("#iD-icon-apply","pre-text"));var i=r.append("span");i.append("strong").attr("class","message"),i.append("br"),i.append("span").attr("class","details"),function(t){var n=e.validator().getIssues({what:"all",where:"all",includeDisabledRules:!0,includeIgnored:"only"}),r=t.selectAll(".reset-ignored").data(n.length?[0]:[]);r.exit().remove();var i=r.enter().append("div").attr("class","reset-ignored section-footer");i.append("a").attr("href","#"),(r=r.merge(i)).select("a").html(C.html("inspector.title_count",{title:{html:C.html("issues.reset_ignored")},count:n.length})),r.on("click",(function(t){t.preventDefault(),e.validator().resetIgnoredIssues()}))}(t),function(t){var r,i=n();function a(n){for(var r in n){var i=n[r],a=e.validator().getIssues(i);if(a.length)return void t.select(".box .details").html("").call(C.append("issues.no_issues.hidden_issues."+r,{count:a.length.toString()}))}t.select(".box .details").html("").call(C.append("issues.no_issues.hidden_issues.none"))}"edited"===i.what&&"visible"===i.where?(r="edits_in_view",a({elsewhere:{what:"edited",where:"all"},everything_else:{what:"all",where:"visible"},disabled_rules:{what:"edited",where:"visible",includeDisabledRules:"only"},everything_else_elsewhere:{what:"all",where:"all"},disabled_rules_elsewhere:{what:"edited",where:"all",includeDisabledRules:"only"},ignored_issues:{what:"edited",where:"visible",includeIgnored:"only"},ignored_issues_elsewhere:{what:"edited",where:"all",includeIgnored:"only"}})):"edited"===i.what&&"all"===i.where?(r="edits",a({everything_else:{what:"all",where:"all"},disabled_rules:{what:"edited",where:"all",includeDisabledRules:"only"},ignored_issues:{what:"edited",where:"all",includeIgnored:"only"}})):"all"===i.what&&"visible"===i.where?(r="everything_in_view",a({elsewhere:{what:"all",where:"all"},disabled_rules:{what:"all",where:"visible",includeDisabledRules:"only"},disabled_rules_elsewhere:{what:"all",where:"all",includeDisabledRules:"only"},ignored_issues:{what:"all",where:"visible",includeIgnored:"only"},ignored_issues_elsewhere:{what:"all",where:"all",includeIgnored:"only"}})):"all"===i.what&&"all"===i.where&&(r="everything",a({disabled_rules:{what:"all",where:"all",includeDisabledRules:"only"},ignored_issues:{what:"all",where:"all",includeIgnored:"only"}})),"edited"===i.what&&0===e.history().difference().summary().length&&(r="no_edits"),t.select(".box .message").html("").call(C.append("issues.no_issues.message."+r))}(t)})).shouldDisplay((function(){return 0===e.validator().getIssues(n()).length}));function n(){return{what:ce("validate-what")||"edited",where:ce("validate-where")||"all"}}return e.validator().on("validated.uiSectionValidationStatus",(function(){window.requestIdleCallback(t.reRender)})),e.map().on("move.uiSectionValidationStatus",ft((function(){window.requestIdleCallback(t.reRender)}),1e3)),t}function c6(e){return Oi("issues",e).key(C("issues.key")).label(C.html("issues.title")).description(C.html("issues.title")).iconName("iD-icon-alert").sections([s6(e),u6(e),L2("issues-errors","error",e),L2("issues-warnings","warning",e),l6(e)])}function f6(e){var t=se("change");return fe((function(n){var r=e.layers().layer("data"),i={fileList:r&&r.fileList()||null,url:ce("settings-custom-data-url")},a={fileList:r&&r.fileList()||null,url:ce("settings-custom-data-url")},o=Ya(n).okButton();o.classed("settings-modal settings-custom-data",!0),o.select(".modal-section.header").append("h3").call(C.append("settings.custom_data.header"));var s=o.select(".modal-section.message-text");s.append("pre").attr("class","instructions-file").call(C.append("settings.custom_data.file.instructions")),s.append("input").attr("class","field-file").attr("type","file").attr("accept",".gpx,.kml,.geojson,.json,application/gpx+xml,application/vnd.google-earth.kml+xml,application/geo+json,application/json").property("files",a.fileList).on("change",(function(e){var t=e.target.files;t&&t.length?(a.url="",s.select(".field-url").property("value",""),a.fileList=t):a.fileList=null})),s.append("h4").call(C.append("settings.custom_data.or")),s.append("pre").attr("class","instructions-url").call(C.append("settings.custom_data.url.instructions")),s.append("textarea").attr("class","field-url").attr("placeholder",C("settings.custom_data.url.placeholder")).call(Ue).property("value",a.url);var l=o.select(".modal-section.buttons");l.insert("button",".ok-button").attr("class","button cancel-button secondary-action").call(C.append("confirm.cancel")),l.select(".cancel-button").on("click.cancel",(function(){s.select(".field-url").property("value",i.url),ce("settings-custom-data-url",i.url),this.blur(),o.close()})),l.select(".ok-button").attr("disabled",(function(){return null})).on("click.save",(function(){a.url=s.select(".field-url").property("value").trim(),a.url&&(a.fileList=null),a.fileList&&(a.url=""),ce("settings-custom-data-url",a.url),this.blur(),o.close(),t.call("change",this,a)}))}),t,"on")}function d6(e){var t=f6(e).on("change",(function(e){var t=n.layer("data");e&&e.url?t.url(e.url):e&&e.fileList&&t.fileList(e.fileList)})),n=e.layers(),r=et("data-layers",e).label(C.html("map_data.data_layers")).disclosureContent((function(e){var t=e.selectAll(".data-layer-container").data([0]);t.enter().append("div").attr("class","data-layer-container").merge(t).call(a).call(o).call(l).call(s).call(c)}));function i(t){!function(t,r){var i=e.mode();if(!i||!/^draw/.test(i.id)){var a=n.layer(t);a&&(a.enabled(r),!r&&("osm"===t||"notes"===t)&&e.enter(be(e)))}}(t,!function(e){var t=n.layer(e);return!!t&&t.enabled()}(t))}function a(e){var t=["osm","notes"],r=n.all().filter((function(e){return-1!==t.indexOf(e.id)})),a=e.selectAll(".layer-list-osm").data([0]),o=(a=a.enter().append("ul").attr("class","layer-list layer-list-osm").merge(a)).selectAll(".list-item").data(r);o.exit().remove();var s=o.enter().append("li").attr("class",(function(e){return"list-item list-item-"+e.id})),l=s.append("label").each((function(e){"osm"===e.id?$(this).call(Ee().title(C.html("map_data.layers."+e.id+".tooltip")).keys([Ne("\u2325"+C("area_fill.wireframe.key"))]).placement("bottom")):$(this).call(Ee().title(C.html("map_data.layers."+e.id+".tooltip")).placement("bottom"))}));l.append("input").attr("type","checkbox").on("change",(function(e,t){i(t.id)})),l.append("span").html((function(e){return C.html("map_data.layers."+e.id+".title")})),o.merge(s).classed("active",(function(e){return e.layer.enabled()})).selectAll("input").property("checked",(function(e){return e.layer.enabled()}))}function o(e){var t=["keepRight","improveOSM","osmose"],r=n.all().filter((function(e){return-1!==t.indexOf(e.id)})),a=e.selectAll(".layer-list-qa").data([0]),o=(a=a.enter().append("ul").attr("class","layer-list layer-list-qa").merge(a)).selectAll(".list-item").data(r);o.exit().remove();var s=o.enter().append("li").attr("class",(function(e){return"list-item list-item-"+e.id})),l=s.append("label").each((function(e){$(this).call(Ee().title(C.html("map_data.layers."+e.id+".tooltip")).placement("bottom"))}));l.append("input").attr("type","checkbox").on("change",(function(e,t){i(t.id)})),l.append("span").html((function(e){return C.html("map_data.layers."+e.id+".title")})),o.merge(s).classed("active",(function(e){return e.layer.enabled()})).selectAll("input").property("checked",(function(e){return e.layer.enabled()}))}function s(t){var r=n.layer("data"),i=he([-83.5,42.1],[-82.8,42.5]),a=e.map().zoom()>9&&i.contains(e.map().center()),o=t.selectAll(".vectortile-container").data(a?[0]:[]);o.exit().remove();var s=o.enter().append("div").attr("class","vectortile-container");s.append("h4").attr("class","vectortile-header").text("Detroit Vector Tiles (Beta)"),s.append("ul").attr("class","layer-list layer-list-vectortile"),s.append("div").attr("class","vectortile-footer").append("a").attr("target","_blank").call(re("#iD-icon-out-link","inline")).attr("href","https://github.com/osmus/detroit-mapping-challenge").append("span").text("About these layers");var l=(o=o.merge(s)).selectAll(".layer-list-vectortile").selectAll(".list-item").data([{name:"Detroit Neighborhoods/Parks",src:"neighborhoods-parks",tooltip:"Neighborhood boundaries and parks as compiled by City of Detroit in concert with community groups.",template:"https://{switch:a,b,c,d}.tiles.mapbox.com/v4/jonahadkins.cjksmur6x34562qp9iv1u3ksf-54hev,jonahadkins.cjksmqxdx33jj2wp90xd9x2md-4e5y2/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1Ijoiam9uYWhhZGtpbnMiLCJhIjoiRlVVVkx3VSJ9.9sdVEK_B_VkEXPjssU5MqA"},{name:"Detroit Composite POIs",src:"composite-poi",tooltip:"Fire Inspections, Business Licenses, and other public location data collated from the City of Detroit.",template:"https://{switch:a,b,c,d}.tiles.mapbox.com/v4/jonahadkins.cjksmm6a02sli31myxhsr7zf3-2sw8h/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1Ijoiam9uYWhhZGtpbnMiLCJhIjoiRlVVVkx3VSJ9.9sdVEK_B_VkEXPjssU5MqA"},{name:"Detroit All-The-Places POIs",src:"alltheplaces-poi",tooltip:"Public domain business location data created by web scrapers.",template:"https://{switch:a,b,c,d}.tiles.mapbox.com/v4/jonahadkins.cjksmswgk340g2vo06p1w9w0j-8fjjc/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1Ijoiam9uYWhhZGtpbnMiLCJhIjoiRlVVVkx3VSJ9.9sdVEK_B_VkEXPjssU5MqA"}]);l.exit().remove();var c=l.enter().append("li").attr("class",(function(e){return"list-item list-item-"+e.src})),u=c.append("label").each((function(e){$(this).call(Ee().title(e.tooltip).placement("top"))}));function d(e){return r&&r.template()===e.template}u.append("input").attr("type","radio").attr("name","vectortile").on("change",(function(e,t){ce("settings-custom-data-url",t.template),r&&(r.template(t.template,t.src),r.enabled(!0))})),u.append("span").text((function(e){return e.name})),l.merge(c).classed("active",d).selectAll("input").property("checked",d)}function l(r){var a=n.layer("data"),o=a&&a.hasData(),s=o&&a.enabled(),l=r.selectAll(".layer-list-data").data(a?[0]:[]);l.exit().remove();var c=l.enter().append("ul").attr("class","layer-list layer-list-data"),u=c.append("li").attr("class","list-item-data"),d=u.append("label").call(Ee().title(C.html("map_data.layers.custom.tooltip")).placement("top"));d.append("input").attr("type","checkbox").on("change",(function(){i("data")})),d.append("span").call(C.append("map_data.layers.custom.title")),u.append("button").attr("class","open-data-options").call(Ee().title(C.html("settings.custom_data.tooltip")).placement("rtl"===le.textDirection()?"right":"left")).on("click",(function(n){n.preventDefault(),e.container().call(t)})).call(re("#iD-icon-more")),u.append("button").attr("class","zoom-to-data").call(Ee().title(C.html("map_data.layers.custom.zoom")).placement("rtl"===le.textDirection()?"right":"left")).on("click",(function(e){$(this).classed("disabled")||(e.preventDefault(),e.stopPropagation(),a.fitZoom())})).call(re("#iD-icon-framed-dot","monochrome")),(l=l.merge(c)).selectAll(".list-item-data").classed("active",s).selectAll("label").classed("deemphasize",!o).selectAll("input").property("disabled",!o).property("checked",s),l.selectAll("button.zoom-to-data").classed("disabled",!o)}function c(t){var n=t.selectAll(".md-extras-list").data([0]).enter().append("ul").attr("class","layer-list md-extras-list"),r=n.append("li").attr("class","history-panel-toggle-item").append("label").call(Ee().title(C.html("map_data.history_panel.tooltip")).keys([Ne("\u2318\u21e7"+C("info_panels.history.key"))]).placement("top"));r.append("input").attr("type","checkbox").on("change",(function(t){t.preventDefault(),e.ui().info.toggle("history")})),r.append("span").call(C.append("map_data.history_panel.title"));var i=n.append("li").attr("class","measurement-panel-toggle-item").append("label").call(Ee().title(C.html("map_data.measurement_panel.tooltip")).keys([Ne("\u2318\u21e7"+C("info_panels.measurement.key"))]).placement("top"));i.append("input").attr("type","checkbox").on("change",(function(t){t.preventDefault(),e.ui().info.toggle("measurement")})),i.append("span").call(C.append("map_data.measurement_panel.title"))}return e.layers().on("change.uiSectionDataLayers",r.reRender),e.map().on("move.uiSectionDataLayers",ft((function(){window.requestIdleCallback(r.reRender)}),1e3)),r}function p6(e){var t=e.features().keys(),n=et("map-features",e).label(C.html("map_data.map_features")).disclosureContent((function(n){var i=n.selectAll(".layer-feature-list-container").data([0]),s=i.enter().append("div").attr("class","layer-feature-list-container");s.append("ul").attr("class","layer-list layer-feature-list");var l=s.append("div").attr("class","feature-list-links section-footer");l.append("a").attr("class","feature-list-link").attr("role","button").attr("href","#").call(C.append("issues.disable_all")).on("click",(function(t){t.preventDefault(),e.features().disableAll()})),l.append("a").attr("class","feature-list-link").attr("role","button").attr("href","#").call(C.append("issues.enable_all")).on("click",(function(t){t.preventDefault(),e.features().enableAll()})),(i=i.merge(s)).selectAll(".layer-feature-list").call(r,t,"checkbox","feature",o,a)})).expandedByDefault(!1);function r(t,n,r,a,o,s){var l=t.selectAll("li").data(n);l.exit().remove();var c=l.enter().append("li").call(Ee().title((function(t){var n=C.html(a+"."+t+".tooltip");i(t)&&(n+="<div>"+(function(t){var n=e.layers().layer(t);return n&&n.enabled()}("osm")?C.html("map_data.autohidden"):C.html("map_data.osmhidden"))+"</div>");return n})).placement("top")),u=c.append("label");u.append("input").attr("type",r).attr("name",a).on("change",o),u.append("span").html((function(e){return C.html(a+"."+e+".description")})),(l=l.merge(c)).classed("active",s).selectAll("input").property("checked",s).property("indeterminate",i)}function i(t){return e.features().autoHidden(t)}function a(t){return e.features().enabled(t)}function o(t,n){e.features().toggle(n)}return e.features().on("change.map_features",n.reRender),n}function m6(e){var t=et("fill-area",e).label(C.html("map_data.style_options")).disclosureContent((function(t){var o=t.selectAll(".layer-fill-list").data([0]);o.enter().append("ul").attr("class","layer-list layer-fill-list").merge(o).call(n,e.map().areaFillOptions,"radio","area_fill",a,r);var s=t.selectAll(".layer-visual-diff-list").data([0]);s.enter().append("ul").attr("class","layer-list layer-visual-diff-list").merge(s).call(n,["highlight_edits"],"checkbox","visual_diff",i,(function(){return e.surface().classed("highlight-edited")}))})).expandedByDefault(!1);function n(e,t,n,r,i,a){var o=e.selectAll("li").data(t);o.exit().remove();var s=o.enter().append("li").call(Ee().title((function(e){return C.html(r+"."+e+".tooltip")})).keys((function(e){var t="wireframe"===e?C("area_fill.wireframe.key"):null;return"highlight_edits"===e&&(t=C("map_data.highlight_edits.key")),t?[t]:null})).placement("top")),l=s.append("label");l.append("input").attr("type",n).attr("name",r).on("change",i),l.append("span").html((function(e){return C.html(r+"."+e+".description")})),(o=o.merge(s)).classed("active",a).selectAll("input").property("checked",a).property("indeterminate",!1)}function r(t){return e.map().activeAreaFill()===t}function i(t){t.preventDefault(),e.map().toggleHighlightEdited()}function a(t,n){e.map().activeAreaFill(n)}return e.map().on("changeHighlighting.ui_style, changeAreaFill.ui_style",t.reRender),t}function h6(e){var t=e.layers(),n=et("photo-overlays",e).label(C.html("photo_overlays.title")).disclosureContent((function(e){var t=e.selectAll(".photo-overlay-container").data([0]);t.enter().append("div").attr("class","photo-overlay-container").merge(t).call(r).call(i).call(a).call(o)})).expandedByDefault(!1);function r(n){var r=e.photos().overlayLayerIDs(),i=t.all().filter((function(e){return-1!==r.indexOf(e.id)})).filter((function(e){return e.layer.supported()}));function a(e){return function(e){return e.layer&&e.layer.supported()}(e)&&e.layer.enabled()}var o=n.selectAll(".layer-list-photos").data([0]),s=(o=o.enter().append("ul").attr("class","layer-list layer-list-photos").merge(o)).selectAll(".list-item-photos").data(i);s.exit().remove();var l=s.enter().append("li").attr("class",(function(e){var t="list-item-photos list-item-"+e.id;return("mapillary-signs"===e.id||"mapillary-map-features"===e.id)&&(t+=" indented"),t})),c=l.append("label").each((function(e){var t;t="mapillary-signs"===e.id?"mapillary.signs.tooltip":"mapillary"===e.id?"mapillary_images.tooltip":"kartaview"===e.id?"kartaview_images.tooltip":e.id.replace(/-/g,"_")+".tooltip",$(this).call(Ee().title(C.html(t)).placement("top"))}));c.append("input").attr("type","checkbox").on("change",(function(e,n){!function(e){!function(e,n){var r=t.layer(e);r&&r.enabled(n)}(e,!function(e){var n=t.layer(e);return!!n&&n.enabled()}(e))}(n.id)})),c.append("span").html((function(e){var t=e.id;return"mapillary-signs"===t&&(t="photo_overlays.traffic_signs"),C.html(t.replace(/-/g,"_")+".title")})),s.merge(l).classed("active",a).selectAll("input").property("checked",a)}function i(t){var n=e.photos().allPhotoTypes();function r(t){return e.photos().showsPhotoType(t)}var i=t.selectAll(".layer-list-photo-types").data([0]);i.exit().remove();var a=(i=i.enter().append("ul").attr("class","layer-list layer-list-photo-types").merge(i)).selectAll(".list-item-photo-types").data(e.photos().shouldFilterByPhotoType()?n:[]);a.exit().remove();var o=a.enter().append("li").attr("class",(function(e){return"list-item-photo-types list-item-"+e})),s=o.append("label").each((function(e){$(this).call(Ee().title(C.html("photo_overlays.photo_type."+e+".tooltip")).placement("top"))}));s.append("input").attr("type","checkbox").on("change",(function(t,n){e.photos().togglePhotoType(n)})),s.append("span").html((function(e){return C.html("photo_overlays.photo_type."+e+".title")})),a.merge(o).classed("active",r).selectAll("input").property("checked",r)}function a(t){var n=e.photos().dateFilters();var r=t.selectAll(".layer-list-date-filter").data([0]);r.exit().remove();var i=(r=r.enter().append("ul").attr("class","layer-list layer-list-date-filter").merge(r)).selectAll(".list-item-date-filter").data(e.photos().shouldFilterByDate()?n:[]);i.exit().remove();var a=i.enter().append("li").attr("class","list-item-date-filter"),o=a.append("label").each((function(e){$(this).call(Ee().title(C.html("photo_overlays.date_filter."+e+".tooltip")).placement("top"))}));o.append("span").html((function(e){return C.html("photo_overlays.date_filter."+e+".title")})),o.append("input").attr("type","date").attr("class","list-item-input").attr("placeholder",C("units.year_month_day")).call(Ue).each((function(t){Se($(this),e.photos().dateFilterValue(t)||"")})).on("change",(function(t,n){var r=Se($(this)).trim();e.photos().setDateFilter(n,r,!0),i.selectAll("input").each((function(t){Se($(this),e.photos().dateFilterValue(t)||"")}))})),i=i.merge(a).classed("active",(function(t){return e.photos().dateFilterValue(t)}))}function o(t){var n=t.selectAll(".layer-list-username-filter").data([0]);n.exit().remove();var r=(n=n.enter().append("ul").attr("class","layer-list layer-list-username-filter").merge(n)).selectAll(".list-item-username-filter").data(e.photos().shouldFilterByUsername()?["username-filter"]:[]);r.exit().remove();var i=r.enter().append("li").attr("class","list-item-username-filter"),a=i.append("label").each((function(){$(this).call(Ee().title(C.html("photo_overlays.username_filter.tooltip")).placement("top"))}));function o(){var t=e.photos().usernames();return t&&t.join("; ")}a.append("span").call(C.append("photo_overlays.username_filter.title")),a.append("input").attr("type","text").attr("class","list-item-input").call(Ue).property("value",o).on("change",(function(){var t=$(this).property("value");e.photos().setUsernameFilter(t,!0),$(this).property("value",o)})),r.merge(i).classed("active",(function(){return e.photos().usernames()}))}return e.layers().on("change.uiSectionPhotoOverlays",n.reRender),e.photos().on("change.uiSectionPhotoOverlays",n.reRender),n}function g6(e){return Oi("map-data",e).key(C("map_data.key")).label(C.html("map_data.title")).description(C.html("map_data.description")).iconName("iD-icon-data").sections([d6(e),h6(e),m6(e),p6(e)])}function v6(e){return Oi("preferences",e).key(C("preferences.key")).label(C.html("preferences.title")).description(C.html("preferences.description")).iconName("fas-user-cog").sections([L4(e)])}function $5(e){var t,n=0,r={};let i,a={};a.ensureLoaded=()=>i||(i=Promise.all([le.ensureLoaded(),ve.ensureLoaded()]).then(()=>{e.container().empty()||function(r){r.on("click.ui",(function(e){0===e.button&&e.composedPath&&(e.composedPath().some((function(e){return 1===e.nodeType&&("INPUT"===e.nodeName||"LABEL"===e.nodeName||"A"===e.nodeName)}))||e.preventDefault())}));var i=Bt();"GestureEvent"in window&&!i.isMobileWebKit&&r.on("gesturestart.ui gesturechange.ui gestureend.ui",(function(e){e.preventDefault()})),"PointerEvent"in window?$(window).on("pointerdown.ui pointerup.ui",(function(e){var n=e.pointerType||"mouse";t!==n&&(t=n,r.attr("pointer",n))}),!0):(t="mouse",r.attr("pointer","mouse")),r.attr("lang",le.localeCode()).attr("dir",le.textDirection()),r.call(Xl(e));var o=e.map();o.redrawEnable(!1),o.on("hitMinZoom.ui",(function(){a.flash.iconName("#iD-icon-no").label(C.html("cannot_zoom"))()})),r.append("svg").attr("id","ideditor-defs").call(a.svgDefs),r.append("div").attr("class","sidebar").call(a.sidebar);var s=r.append("div").attr("class","main-content active");s.append("div").attr("class","top-toolbar-wrap").append("div").attr("class","top-toolbar fillD").call($v(e)),s.append("div").attr("class","main-map").attr("dir","ltr").call(o);var l=s.append("div").attr("class","over-map");l.append("div").attr("class","select-trap").text("t"),l.call(Bo(e)).call(r5(e)),l.append("div").attr("class","spinner").call(B5(e));var c=l.append("div").attr("class","map-controls-wrap"),u=c.append("div").attr("class","map-controls");u.append("div").attr("class","map-control zoombuttons").call(j5(e)),u.append("div").attr("class","map-control zoom-to-selection-control").call(Gv(e)),u.append("div").attr("class","map-control geolocate-control").call(Yl(e)),c.on("wheel.mapControls",(function(e){e.deltaX||(c.node().scrollTop+=e.deltaY)}));var d=l.append("div").attr("class","map-panes");[a6(e),g6(e),c6(e),v6(e),o6(e)].forEach((function(e){u.append("div").attr("class","map-control map-pane-control "+e.id+"-control").call(e.renderToggleButton),d.call(e.renderPane)})),a.info=Jl(e),l.call(a.info),l.append("div").attr("class","photoviewer").classed("al",!0).classed("hide",!0).call(a.photoviewer),l.append("div").attr("class","attribution-wrap").attr("dir","ltr").call(Ql(e));var p=s.append("div").attr("class","map-footer");p.append("div").attr("class","api-status").call(z5(e));var f=p.append("div").attr("class","map-footer-bar fillD");f.append("div").attr("class","flash-wrap footer-hide");var h=f.append("div").attr("class","main-footer-wrap footer-show");h.append("div").attr("class","scale-block").call(i5(e));var g=h.append("div").attr("class","info-block").append("ul").attr("class","map-footer-list");g.append("li").attr("class","user-list").call($l(e));var m=e.apiConnections();m&&m.length>1&&g.append("li").attr("class","source-switch").call(L5(e).keys(m)),g.append("li").attr("class","issues-info").call(t5(e)),g.append("li").attr("class","feature-warning").call(Wl(e));var y=g.append("li");y.append("a").attr("target","_blank").attr("href","https://github.com/openstreetmap/iD/issues").attr("aria-label",C("report_a_bug")).call(re("#iD-icon-bug","light")).call(Ee().title(C.html("report_a_bug")).placement("top")),y.append("a").attr("target","_blank").attr("href","https://github.com/openstreetmap/iD/blob/develop/CONTRIBUTING.md#translating").attr("aria-label",C("help_translate")).call(re("#iD-icon-translate","light")).call(Ee().title(C.html("help_translate")).placement("top")),g.append("li").attr("class","version").call(V5(e)),e.embed()||g.call(jl(e)),a.onResize(),o.redrawEnable(!0),a.hash=y6(e),a.hash(),a.hash.hadHash||o.centerZoom([0,0],2),window.onbeforeunload=function(){return e.save()},window.onunload=function(){e.history().unlock()},$(window).on("resize.editor",(function(){a.onResize()})),e.keybinding().on("\u232b",(function(e){e.preventDefault()})).on([C("sidebar.key"),"`","\xb2","@"],a.sidebar.toggle).on("\u2190",w([80,0])).on("\u2191",w([0,80])).on("\u2192",w([-80,0])).on("\u2193",w([0,-80])).on(Ne("\u2325\u2190"),w([o.dimensions()[0],0])).on(Ne("\u2325\u2191"),w([0,o.dimensions()[1]])).on(Ne("\u2325\u2192"),w([-o.dimensions()[0],0])).on(Ne("\u2325\u2193"),w([0,-o.dimensions()[1]])).on(Ne("\u2318"+C("background.key")),(function(t){t&&(t.stopImmediatePropagation(),t.preventDefault());var n=e.background().findSource(ce("background-last-used-toggle"));n&&(ce("background-last-used-toggle",e.background().baseLayerSource().id),ce("background-last-used",n.id),e.background().baseLayerSource(n))})).on(C("area_fill.wireframe.key"),(function(t){t.preventDefault(),t.stopPropagation(),e.map().toggleWireframe()})).on(Ne("\u2325"+C("area_fill.wireframe.key")),(function(t){t.preventDefault(),t.stopPropagation();var n=e.mode();if(!n||!/^draw/.test(n.id)){var r=e.layers().layer("osm");r&&(r.enabled(!r.enabled()),r.enabled()||e.enter(be(e)))}})).on(C("map_data.highlight_edits.key"),(function(t){t.preventDefault(),e.map().toggleHighlightEdited()})),e.on("enter.editor",(function(e){r.classed("mode-"+e.id,!0)})).on("exit.editor",(function(e){r.classed("mode-"+e.id,!1)})),e.enter(be(e)),n++||(a.hash.startWalkthrough||e.container().call(U5(e)).call(n5(e)),e.container().call(a.shortcuts));var v=e.connection(),b=na(e).message(C.html("loading_auth")).blocking(!0);function w(t){return function(n){n.shiftKey||e.container().select(".combobox").size()||(n.preventDefault(),e.map().pan(t,100))}}v&&b&&v.on("authLoading.ui",(function(){e.container().call(b)})).on("authDone.ui",(function(){b.close()})),n++,a.hash.startWalkthrough&&(a.hash.startWalkthrough=!1,e.container().call(Wa(e)))}(e.container())}).catch(e=>console.error(e))),a.restart=function(){e.keybinding().clear(),i=null,e.container().selectAll("*").remove(),a.ensureLoaded()},a.lastPointerType=function(){return t},a.svgDefs=Il(e),a.flash=Kl(e),a.sidebar=Q5(e),a.photoviewer=Av(e),a.shortcuts=Sv(e),a.onResize=function(t){var n=e.map(),r=Qr(e.container().select(".main-content"),!0);Qr(e.container().select(".sidebar"),!0),void 0!==t&&(n.redrawEnable(!1),n.pan(t),n.redrawEnable(!0)),n.dimensions(r),a.photoviewer.onMapResize(),a.checkOverflow(".top-toolbar"),a.checkOverflow(".map-footer-bar");var i=document.createEvent("Event");i.initEvent("resizeWindow",!0,!0),document.dispatchEvent(i)},a.checkOverflow=function(t,n){n&&delete r[t];var i=e.container().select(t);if(!i.empty()){var a=i.property("scrollWidth"),o=i.property("clientWidth"),s=r[t]||a;a>o?(i.classed("narrow",!0),r[t]||(r[t]=a)):a>=s&&i.classed("narrow",!1)}},a.togglePanes=function(t){var n=e.container().selectAll(".map-pane.shown"),r="ltr"===le.textDirection()?"right":"left";n.classed("shown",!1).classed("hide",!0),e.container().selectAll(".map-pane-control button").classed("active",!1),t?(n.classed("shown",!1).classed("hide",!0).style(r,"-500px"),e.container().selectAll("."+t.attr("pane")+"-control button").classed("active",!0),t.classed("shown",!0).classed("hide",!1),n.empty()?t.style(r,"-500px").transition().duration(200).style(r,"0px"):t.style(r,"0px")):n.classed("shown",!0).classed("hide",!1).style(r,"0px").transition().duration(200).style(r,"-500px").on("end",(function(){$(this).classed("shown",!1).classed("hide",!0)}))};var o=Hl(e);a.editMenu=function(){return o},a.showEditMenu=function(t,n,r){if(a.closeEditMenu(),!r&&e.mode().operations&&(r=e.mode().operations()),r&&r.length&&e.map().editableDataEnabled()){var i=e.surface().node();i.focus&&i.focus(),r.forEach((function(e){e.point&&e.point(t)})),o.anchorLoc(t).triggerType(n).operations(r),e.map().supersurface.call(o)}},a.closeEditMenu=function(){e.map().supersurface.select(".edit-menu").remove()};var s=$(null);return e.uploader().on("saveStarted.ui",(function(){s=na(e).message(C.html("save.uploading")).blocking(!0),e.container().call(s)})).on("saveEnded.ui",(function(){s.close(),s=$(null)})),a}function Hv(){let e=se("enter","exit","change"),t=fe({},e,"on"),n=new Set;t.version="2.21.1",t.privacyVersion="20201202",t.initialHashParams=window.location.hash?Ut(window.location.hash):{},t.changeset=null;let r=t.initialHashParams.comment,i=t.initialHashParams.source,a=t.initialHashParams.hashtags;t.defaultChangesetComment=function(e){return arguments.length?(r=e,t):r},t.defaultChangesetSource=function(e){return arguments.length?(i=e,t):i},t.defaultChangesetHashtags=function(e){return arguments.length?(a=e,t):a};let o=!0;t.setsDocumentTitle=function(e){return arguments.length?(o=e,t):o};let s,l=document.title;t.documentTitleBase=function(e){return arguments.length?(l=e,t):l},t.ui=()=>s,t.lastPointerType=()=>s.lastPointerType();let c=Ie("context");t.keybinding=()=>c,$(document).call(c);let u,d,p,f,h=ne.osm;function g(e,t){return(n,r)=>n?((400===n.status||401===n.status||403===n.status)&&h&&h.logout(),void("function"==typeof t&&t(n))):h&&h.getConnectionId()!==e?void("function"==typeof t&&t({message:"Connection Switched",status:-1})):(u.merge(r.data,r.extent),void("function"==typeof t&&t(n,r)))}t.connection=()=>h,t.history=()=>u,t.validator=()=>d,t.uploader=()=>p,t.preauth=e=>(h&&h.switch(e),t),t.apiConnections=function(e){return arguments.length?(f=e,t):f},t.locale=function(e){return arguments.length?(le.preferredLocaleCodes(e),t):le.localeCode()},t.loadTiles=(e,r)=>{let i=window.requestIdleCallback(()=>{if(n.delete(i),h&&t.editableDataEnabled()){let t=h.getConnectionId();h.loadTiles(e,g(t,r))}});n.add(i)},t.loadTileAtLoc=(e,r)=>{let i=window.requestIdleCallback(()=>{if(n.delete(i),h&&t.editableDataEnabled()){let t=h.getConnectionId();h.loadTileAtLoc(e,g(t,r))}});n.add(i)},t.loadEntity=(e,t)=>{if(h){let n=h.getConnectionId();h.loadEntity(e,g(n,t)),h.loadEntityRelations(e,g(n,t))}},t.zoomToEntity=(e,n)=>{t.loadEntity(e,(t,r)=>{if(!t&&!1!==n){let t=r.data.find(t=>t.id===e);t&&N.zoomTo(t)}}),N.on("drawn.zoomToEntity",()=>{!t.hasEntity(e)||(N.on("drawn.zoomToEntity",null),t.on("enter.zoomToEntity",null),t.enter(Ce(t,[e])))}),t.on("enter.zoomToEntity",()=>{"browse"!==v.id&&(N.on("drawn.zoomToEntity",null),t.on("enter.zoomToEntity",null))})};let m=16;function y(e,t){return(e=(e=null==e?"":e.toString()).trim()).normalize&&(e=e.normalize("NFC")),j1(e,t)}t.minEditableZoom=function(e){return arguments.length?(m=e,h&&h.tileZoom(e),t):m},t.maxCharsForTagKey=()=>255,t.maxCharsForTagValue=()=>255,t.maxCharsForRelationRole=()=>255,t.cleanTagKey=e=>y(e,t.maxCharsForTagKey()),t.cleanTagValue=e=>y(e,t.maxCharsForTagValue()),t.cleanRelationRole=e=>y(e,t.maxCharsForRelationRole());let v,b,w,_,k=!1;function x(e){return function(){let n=e.apply(u,arguments);return t.debouncedSave(),n}}t.inIntro=function(e){return arguments.length?(k=e,t):k},t.save=()=>{if(k||t.container().select(".modal").size())return;let e;if(v&&"save"===v.id){if(e=!1,ne.osm&&ne.osm.isChangesetInflight())return void u.clearSaved()}else e=t.selectedIDs().every(e=>{let n=t.hasEntity(e);return n&&!n.isDegenerate()});return e&&u.save(),u.hasChanges()?C("save.unsaved_changes"):void 0},t.debouncedSave=ft(t.save,350),t.hasEntity=e=>u.graph().hasEntity(e),t.entity=e=>u.graph().entity(e),t.mode=()=>v,t.enter=t=>{v&&(v.exit(),e.call("exit",this,v)),v=t,v.enter(),e.call("enter",this,v)},t.selectedIDs=()=>v&&v.selectedIDs&&v.selectedIDs()||[],t.activeID=()=>v&&v.activeID&&v.activeID(),t.selectedNoteID=function(e){return arguments.length?(b=e,t):b},t.selectedErrorID=function(e){return arguments.length?(w=e,t):w},t.install=e=>t.surface().call(e),t.uninstall=e=>t.surface().call(e.off),t.copyGraph=()=>_;let A,E,S,M,N,I=[];t.copyIDs=function(e){return arguments.length?(I=e,_=u.graph(),t):I},t.copyLonLat=function(e){return arguments.length?(A=e,t):A},t.background=()=>E,t.features=()=>S,t.hasHiddenConnections=e=>{let t=u.graph(),n=t.entity(e);return S.hasHiddenConnections(n,t)},t.photos=()=>M,t.map=()=>N,t.layers=()=>N.layers(),t.surface=()=>N.surface,t.editableDataEnabled=()=>N.editableDataEnabled(),t.surfaceRect=()=>N.surface.node().getBoundingClientRect(),t.editable=()=>{let e=t.mode();return!(!e||"save"===e.id)&&N.editableDataEnabled()};let D={tile:!1,collision:!1,imagery:!1,target:!1,downloaded:!1};t.debugFlags=()=>D,t.getDebug=e=>e&&D[e],t.setDebug=function(n,r){return 1===arguments.length&&(r=!0),D[n]=r,e.call("change"),t};let P,O=$(null);t.container=function(e){return arguments.length?(O=e,O.classed("ideditor",!0),t):O},t.containerNode=function(e){return arguments.length?(t.container($(e)),t):t.container().node()},t.embed=function(e){return arguments.length?(P=e,t):P};let T="";t.assetPath=function(e){return arguments.length?(T=e,ze.assetPath(e),t):T};let F={};return t.assetMap=function(e){return arguments.length?(F=e,ze.assetMap(e),t):F},t.asset=e=>{if(/^http(s)?:\/\//i.test(e))return e;let t=T+e;return F[t]||t},t.imagePath=e=>t.asset("img/".concat(e)),t.reset=t.flush=()=>(t.debouncedSave.cancel(),Array.from(n).forEach(e=>{window.cancelIdleCallback(e),n.delete(e)}),Object.values(ne).forEach(e=>{e&&"function"==typeof e.reset&&e.reset(t)}),t.changeset=null,d.reset(),S.reset(),u.reset(),p.reset(),t.container().select(".inspector-wrap *").remove(),t),t.projection=Jr(),t.curtainProjection=Jr(),t.init=()=>(u=vl(t),t.graph=u.graph,t.pauseChangeDispatch=u.pauseChangeDispatch,t.resumeChangeDispatch=u.resumeChangeDispatch,t.perform=x(u.perform),t.replace=x(u.replace),t.pop=x(u.pop),t.overwrite=x(u.overwrite),t.undo=x(u.undo),t.redo=x(u.redo),d=bl(t),p=xl(t),E=kl(t),S=El(t),N=ql(t),M=Vl(t),s=$5(t),t.initialHashParams.presets&&ve.addablePresetIDs(new Set(t.initialHashParams.presets.split(","))),t.initialHashParams.locale&&le.preferredLocaleCodes(t.initialHashParams.locale),le.ensureLoaded(),E.ensureLoaded(),ve.ensureLoaded(),Object.values(ne).forEach(e=>{e&&"function"==typeof e.init&&e.init()}),N.init(),d.init(),S.init(),ne.maprules&&t.initialHashParams.maprules&&mt(t.initialHashParams.maprules).then(e=>{ne.maprules.init(),e.forEach(e=>ne.maprules.addRule(e))}).catch(()=>{}),t.container().empty()||s.ensureLoaded().then(()=>{M.init()}),t),t}var f8="loading",zt={},fC={"building/commercial":!0,"building/government":!0,"building/hotel":!0,"building/retail":!0,"building/office":!0,"building/supermarket":!0,"building/yes":!0},dC=/:(colou?r|type|forward|backward|left|right|etymology|pronunciation|wikipedia)$/i,pC=/(coop|express|wireless|factory|outlet)/i;function mC(){let e=O1.dependencies["name-suggestion-index"]||O1.devDependencies["name-suggestion-index"],t=(0,Kv.default)(e),n="".concat(t.major,".").concat(t.minor),r={nsi_data:"https://cdn.jsdelivr.net/npm/name-suggestion-index@".concat(n,"/dist/nsi.min.json"),nsi_dissolved:"https://cdn.jsdelivr.net/npm/name-suggestion-index@".concat(n,"/dist/dissolved.min.json"),nsi_features:"https://cdn.jsdelivr.net/npm/name-suggestion-index@".concat(n,"/dist/featureCollection.min.json"),nsi_generics:"https://cdn.jsdelivr.net/npm/name-suggestion-index@".concat(n,"/dist/genericWords.min.json"),nsi_presets:"https://cdn.jsdelivr.net/npm/name-suggestion-index@".concat(n,"/dist/presets/nsi-id-presets.min.json"),nsi_replacements:"https://cdn.jsdelivr.net/npm/name-suggestion-index@".concat(n,"/dist/replacements.min.json"),nsi_trees:"https://cdn.jsdelivr.net/npm/name-suggestion-index@".concat(n,"/dist/trees.min.json")},i=ze.fileMap();for(let a in r)i[a]||(i[a]=r[a])}function hC(){return Promise.all([ze.get("nsi_presets"),ze.get("nsi_features")]).then(e=>{Object.values(e[0].presets).forEach(e=>e.suggestion=!0),ve.merge({presets:e[0].presets,featureCollection:e[1]})})}function gC(){return Promise.all([ze.get("nsi_data"),ze.get("nsi_dissolved"),ze.get("nsi_replacements"),ze.get("nsi_trees")]).then(e=>{(zt={data:e[0].nsi,dissolved:e[1].dissolved,replacements:e[2].replacements,trees:e[3].trees,kvt:new Map,qids:new Map,ids:new Map}).matcher=new E2,zt.matcher.buildMatchIndex(zt.data),zt.matcher.buildLocationIndex(zt.data,Ir.loco()),Object.keys(zt.data).forEach(e=>{let t=zt.data[e],n=e.split("/",3),r=n[0],i=n[1],a=n[2],o=zt.kvt.get(i);o||(o=new Map,zt.kvt.set(i,o)),o.set(a,r);let s=zt.trees[r].mainTag;(t.items||[]).forEach(t=>{t.tkv=e,t.mainTag=s,zt.ids.set(t.id,t);let n=t.tags[s],r=t.tags[s.replace("wikidata","wikipedia")];n&&zt.qids.set(n,n),r&&n&&zt.qids.set(r,n)})})})}function Xv(e){let t=new Set,n=new Set;Object.keys(e).forEach(r=>{let i=e[r];if(!i)return;"route_master"===r&&(r="route");let a=zt.kvt.get(r);!a||(a.get(i)?t.add("".concat(r,"/").concat(i)):"yes"===i&&n.add("".concat(r,"/").concat(i)))});let r=ve.matchTags(e,"area");return fC[r.id]&&n.add("building/yes"),{primary:t,alternate:n}}function vC(e){let t,n;return Object.keys(e).forEach(r=>{if(n)return;let i=e[r];if(!i)return;"route_master"===r&&(r="route");let a=zt.kvt.get(r);!a||("yes"===i?t="unknown":n=a.get(i))}),n||t||null}function Wv(e){let t,n={primary:new Set,alternate:new Set},r=new Set,i=new Set,a=!1,o=!1,s=vC(e);if(!s)return n;if("transit"===s?t={primary:/^network$/i,alternate:/^(operator|operator:\w+|network:\w+|\w+_name|\w+_name:\w+)$/i}:"flags"===s?t={primary:/^(flag:name|flag:name:\w+)$/i,alternate:/^(flag|flag:\w+|subject|subject:\w+)$/i}:"brands"===s?(o=!0,t={primary:/^(name|name:\w+)$/i,alternate:/^(brand|brand:\w+|operator|operator:\w+|\w+_name|\w+_name:\w+)/i}):"operators"===s?(o=!0,t={primary:/^(name|name:\w+|operator|operator:\w+)$/i,alternate:/^(brand|brand:\w+|\w+_name|\w+_name:\w+)/i}):(o=!0,t={primary:/^(name|name:\w+)$/i,alternate:/^(brand|brand:\w+|network|network:\w+|operator|operator:\w+|\w+_name|\w+_name:\w+)/i}),e.name&&o){let t=e.name.split(/[\s\-\/,.]/);for(let e=t.length;e>0;e--){let n=t.slice(0,e).join(" ");r.add(n)}}if(Object.keys(e).forEach(t=>{let n=e[t];!n||(l(t,"primary")?/;/.test(n)?a=!0:(r.add(n),i.delete(n)):!r.has(n)&&l(t,"alternate")&&(/;/.test(n)?a=!0:i.add(n)))}),"flagpole"===e.man_made&&!r.size&&!i.size&&e.country){let t=e.country;/;/.test(t)?a=!0:i.add(t)}return a?n:{primary:r,alternate:i};function l(e,n){return"old_name"!==e&&(t[n].test(e)&&!dC.test(e))}}function Yv(e,t){let n=[];return["primary","alternate"].forEach(r=>{Array.from(t[r]).sort((e,t)=>t.length-e.length).forEach(t=>{["primary","alternate"].forEach(r=>{e[r].forEach(e=>{let r=e.split("/",2),i=r[0],a=r[1];n.push({k:i,v:a,n:t})})})})}),n}function yC(e,t){let n=Object.assign({},e),r=!1;Object.keys(n).forEach(e=>{let t=e.match(/^(\w+:)?wikidata$/);if(t){let i=t[1]||"",a=n[e],o=zt.replacements[a];if(o&&void 0!==o.wikidata&&(r=!0,o.wikidata?n[e]=o.wikidata:delete n[e]),o&&void 0!==o.wikipedia){r=!0;let e="".concat(i,"wikipedia");o.wikipedia?n[e]=o.wikipedia:delete n[e]}}});let i="route_master"===e.type,a=Xv(e);if(!a.primary.size&&!a.alternate.size)return r?{newTags:n,matched:null}:null;let o=Wv(e),s=zt.qids.get(e.wikidata)||zt.qids.get(e.wikipedia);if(s&&o.primary.add(s),!o.primary.size&&!o.alternate.size)return r?{newTags:n,matched:null}:null;let l,c=Yv(a,o),u=!1;for(let d=0;d<c.length&&!u;d++){let e=c[d],r=zt.matcher.match(e.k,e.v,e.n,t);if(r&&r.length){if("primary"!==r[0].match&&"alternate"!==r[0].match)break;for(let e=0;e<r.length;e++){let t=r[e],i="primary"===r[e].match,a=t.itemID;if(zt.dissolved[a])continue;let o=zt.ids.get(a);if(!o)continue;let s=o.mainTag,c=o.tags[s],d=n["not:".concat(s)];if(c&&c!==d&&(!n.office||o.tags.office)&&(!l||i)){l=o,i&&(u=!0);break}}}}if(l){let r=l.id,a=JSON.parse(JSON.stringify(l)),o=a.tkv,c=o.split("/",3),u=c[1],d=c[2],p=zt.data[o].properties||{},f=a.preserveTags||p.preserveTags||[];["building","emergency","internet_access","takeaway"].forEach(e=>{u!==e&&f.push("^".concat(e,"$"))});let h=f.map(e=>new RegExp(e,"i")),g={};Object.keys(n).forEach(e=>{h.some(t=>t.test(e))&&(g[e]=n[e])}),zt.kvt.forEach((e,t)=>{"yes"===n[t]&&delete n[t]}),s&&(delete n.wikipedia,delete n.wikidata),Object.assign(n,a.tags,g),i&&(n.route_master=n.route,delete n.route);let m=e.name,y=n.name;if(y&&m&&y!==m&&!n.branch){let e=Wv(n);if(!new Set([...e.primary,...e.alternate]).has(m)){let e=m.split(/[\s\-\/,.]/);for(let i=e.length;i>0;i--){let a=e.slice(0,i).join(" "),o=e.slice(i).join(" "),s=zt.matcher.match(u,d,a,t);if(s&&s.length&&s.some(e=>e.itemID===r)){if(o)if(pC.test(o))n.name=m;else{let e=zt.matcher.match(u,d,o,t);if(e&&e.length){if("primary"===e[0].match||"alternate"===e[0].match)return null}else n.branch=o}break}}}}return{newTags:n,matched:a}}return r?{newTags:n,matched:null}:null}function bC(e){let t=e.name;if(!t)return!1;let n={primary:new Set([t]),alternate:new Set},r=Xv(e);if(!r.primary.size&&!r.alternate.size)return!1;let i=Yv(r,n);for(let a=0;a<i.length;a++){let e=i[a],t=zt.matcher.match(e.k,e.v,e.n);if(t&&t.length&&"excludeGeneric"===t[0].match)return!0}return!1}var d8={init:()=>{mC(),ve.ensureLoaded().then(()=>hC()).then(()=>{return e=100,new Promise(t=>{window.setTimeout(t,e)});var e}).then(()=>Ir.mergeLocationSets([])).then(()=>gC()).then(()=>f8="ok").catch(()=>f8="failed")},reset:()=>{},status:()=>f8,isGenericName:e=>bC(e),upgradeTags:(e,t)=>yC(e,t),cache:()=>zt},ty=je(si()),Zv="https://kartaview.org",Jv=1e3,ey=14,xC=Jt().zoomExtent([ey,ey]).skipNullIsland(!0),ry=se("loadedImages"),b6=Ca().extent([[0,0],[320,240]]).translateExtent([[0,0],[320,240]]).scaleExtent([1,15]),Sr,oa,x6;function ny(e){e.abort()}function wC(e){return e<15?2:15===e?5:16===e?10:17===e?20:18===e?40:e>18?80:void 0}function _C(e,t,n){var r=Math.floor(Tt(n.scale())),i=xC.getTiles(n),a=Sr[e];Object.keys(a.inflight).forEach((function(e){i.find((function(t){return 0===e.indexOf(t.id+",")}))||(ny(a.inflight[e]),delete a.inflight[e])})),i.forEach((function(n){iy(e,r,t,n)}))}function iy(e,t,n,r){var i=Sr[e],a=r.extent.bbox(),o=wC(t),s=i.nextPage[r.id]||1,l=$e({ipp:Jv,page:s,bbTopLeft:[a.maxY,a.minX].join(","),bbBottomRight:[a.minY,a.maxX].join(",")},!0);if(!(s>o)){var c=r.id+","+String(s);if(!i.loaded[c]&&!i.inflight[c]){var u=new AbortController;i.inflight[c]=u;var d={method:"POST",signal:u.signal,body:l,headers:{"Content-Type":"application/x-www-form-urlencoded"}};mt(n,d).then((function(a){if(i.loaded[c]=!0,delete i.inflight[c],!a||!a.currentPageItems||!a.currentPageItems.length)throw new Error("No Data");var o=a.currentPageItems.map((function(t){var n,r=[+t.lng,+t.lat];if("images"===e){n={loc:r,key:t.id,ca:+t.heading,captured_at:t.shot_date||t.date_added,captured_by:t.username,imagePath:t.lth_name,sequence_id:t.sequence_id,sequence_index:+t.sequence_index};var i=Sr.sequences[n.sequence_id];i||(i={rotation:0,images:[]},Sr.sequences[n.sequence_id]=i),i.images[n.sequence_index]=n,Sr.images.forImageKey[n.key]=n}return{minX:r[0],minY:r[1],maxX:r[0],maxY:r[1],data:n}}));i.rtree.load(o),a.currentPageItems.length===Jv?(i.nextPage[r.id]=s+1,iy(e,t,n,r)):i.nextPage[r.id]=1/0,"images"===e&&ry.call("loadedImages")})).catch((function(){i.loaded[c]=!0,delete i.inflight[c]}))}}}function kC(e){var t=Tt(e.scale()),n=Math.ceil(2*t)/2+2.5;return Jt().zoomExtent([n,n]).getTiles(e).map((function(e){return e.extent}))}function EC(e,t,n){return e=e||5,kC(t).reduce((function(t,r){var i=n.search(r.bbox()).slice(0,e).map((function(e){return e.data}));return i.length?t.concat(i):t}),[])}var p8={init:function(){Sr||this.reset(),this.event=fe(this,ry,"on")},reset:function(){Sr&&Object.values(Sr.images.inflight).forEach(ny),Sr={images:{inflight:{},loaded:{},nextPage:{},rtree:new ty.default,forImageKey:{}},sequences:{}},oa=null},images:function(e){return EC(5,e,Sr.images.rtree)},sequences:function(e){var t=e.clipExtent(),n=[t[0][0],t[1][1]],r=[t[1][0],t[0][1]],i=he(e.invert(n),e.invert(r)).bbox(),a={};Sr.images.rtree.search(i).forEach((function(e){a[e.data.sequence_id]=!0}));var o=[];return Object.keys(a).forEach((function(e){var t=Sr.sequences[e],n=t&&t.images;n&&o.push({type:"LineString",coordinates:n.map((function(e){return e.loc})).filter(Boolean),properties:{captured_at:n[0]?n[0].captured_at:null,captured_by:n[0]?n[0].captured_by:null,key:e}})})),o},cachedImage:function(e){return Sr.images.forImageKey[e]},loadImages:function(e){_C("images",Zv+"/1.0/list/nearby-photos/",e)},ensureViewerLoaded:function(e){if(x6)return x6;var t=e.container().select(".photoviewer").selectAll(".kartaview-wrapper").data([0]),n=this,r=t.enter().append("div").attr("class","photo-wrapper kartaview-wrapper").classed("hide",!0).call(b6.on("zoom",a)).on("dblclick.zoom",null);r.append("div").attr("class","photo-attribution fillD");var i=r.append("div").attr("class","photo-controls-wrap").append("div").attr("class","photo-controls");function a(t){var n=t.transform;e.container().select(".photoviewer .kartaview-image-wrap").call(wn,n.x,n.y,n.k)}function o(t){return function(){if(oa){var n=oa.sequence_id,r=Sr.sequences[n];if(r){var i=r.rotation||0;(i+=t)>180&&(i-=360),i<-180&&(i+=360),r.rotation=i;var a=e.container().select(".photoviewer .kartaview-wrapper");a.transition().duration(100).call(b6.transform,mr),a.selectAll(".kartaview-image").transition().duration(100).style("transform","rotate("+i+"deg)")}}}}function s(t){return function(){if(oa){var r=oa.sequence_id,i=Sr.sequences[r];if(i){var a=oa.sequence_index+t,o=i.images[a];!o||(e.map().centerEase(o.loc),n.selectImage(e,o.key))}}}}return i.append("button").on("click.back",s(-1)).text("\u25c4"),i.append("button").on("click.rotate-ccw",o(-90)).text("\u293f"),i.append("button").on("click.rotate-cw",o(90)).text("\u293e"),i.append("button").on("click.forward",s(1)).text("\u25ba"),r.append("div").attr("class","kartaview-image-wrap"),e.ui().photoviewer.on("resize.kartaview",(function(e){b6=Ca().extent([[0,0],e]).translateExtent([[0,0],e]).scaleExtent([1,15]).on("zoom",a)})),x6=Promise.resolve()},showViewer:function(e){var t=e.container().select(".photoviewer").classed("hide",!1);return t.selectAll(".photo-wrapper.kartaview-wrapper.hide").size()&&(t.selectAll(".photo-wrapper:not(.kartaview-wrapper)").classed("hide",!0),t.selectAll(".photo-wrapper.kartaview-wrapper").classed("hide",!1)),this},hideViewer:function(e){oa=null,this.updateUrlImage(null);var t=e.container().select(".photoviewer");return t.empty()||t.datum(null),t.classed("hide",!0).selectAll(".photo-wrapper").classed("hide",!0),e.container().selectAll(".viewfield-group, .sequence, .icon-sign").classed("currentView",!1),this.setStyles(e,null,!0)},selectImage:function(e,t){var n=this.cachedImage(t);oa=n,this.updateUrlImage(t);var r=e.container().select(".photoviewer");if(r.empty()||r.datum(n),this.setStyles(e,null,!0),e.container().selectAll(".icon-sign").classed("currentView",!1),!n)return this;var i=e.container().select(".photoviewer .kartaview-wrapper"),a=i.selectAll(".kartaview-image-wrap"),o=i.selectAll(".photo-attribution").text("");if(i.transition().duration(100).call(b6.transform,mr),a.selectAll(".kartaview-image").remove(),n){var s=Sr.sequences[n.sequence_id],l=s&&s.rotation||0;a.append("img").attr("class","kartaview-image").attr("src",Zv+"/"+n.imagePath).style("transform","rotate("+l+"deg)"),n.captured_by&&(o.append("a").attr("class","captured_by").attr("target","_blank").attr("href","https://kartaview.org/user/"+encodeURIComponent(n.captured_by)).text("@"+n.captured_by),o.append("span").text("|")),n.captured_at&&(o.append("span").attr("class","captured_at").text(function(e){if(!e)return null;var t=new Date(e);return isNaN(t.getTime())?null:t.toLocaleDateString(le.localeCode(),{day:"numeric",month:"short",year:"numeric"})}(n.captured_at)),o.append("span").text("|")),o.append("a").attr("class","image-link").attr("target","_blank").attr("href","https://kartaview.org/details/"+n.sequence_id+"/"+n.sequence_index).text("kartaview.org")}return this},getSelectedImage:function(){return oa},getSequenceKeyForImage:function(e){return e&&e.sequence_id},setStyles:function(e,t,n){n&&(e.container().selectAll(".viewfield-group").classed("highlighted",!1).classed("hovered",!1).classed("currentView",!1),e.container().selectAll(".sequence").classed("highlighted",!1).classed("currentView",!1));var r=t&&t.key,i=this.getSequenceKeyForImage(t),a=i&&Sr.sequences[i],o=a&&a.images.map((function(e){return e.key}))||[],s=e.container().select(".photoviewer"),l=s.empty()?void 0:s.datum(),c=l&&l.key,u=this.getSequenceKeyForImage(l),d=u&&Sr.sequences[u],p=xt(o,d&&d.images.map((function(e){return e.key}))||[]);return e.container().selectAll(".layer-kartaview .viewfield-group").classed("highlighted",(function(e){return-1!==p.indexOf(e.key)})).classed("hovered",(function(e){return e.key===r})).classed("currentView",(function(e){return e.key===c})),e.container().selectAll(".layer-kartaview .sequence").classed("highlighted",(function(e){return e.properties.key===i})).classed("currentView",(function(e){return e.properties.key===u})),e.container().selectAll(".layer-kartaview .viewfield-group .viewfield").attr("d",(function(){var e=this.parentNode.__data__;return e.pano&&e.key!==c?"M 8,13 m -10,0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0":"M 6,9 C 8,8.4 8,8.4 10,9 L 16,-2 C 12,-5 4,-5 0,-2 z"})),this},updateUrlImage:function(e){if(!window.mocha){var t=Ut(window.location.hash);e?t.photo="kartaview/"+e:delete t.photo,window.location.replace("#"+$e(t,!0))}},cache:function(){return Sr}},w6=je(Py(),1);function Ry(e){var t,n={};if(n.authenticated=function(){return!!t("oauth2_access_token")},n.logout=function(){return t("oauth2_access_token",""),t("oauth_token",""),t("oauth_token_secret",""),t("oauth_request_token_secret",""),n},n.authenticate=function(r){if(n.authenticated())r(null,n);else{n.logout();var i=e.url+"/oauth2/authorize?"+k8({client_id:e.client_id,redirect_uri:e.redirect_uri,response_type:"code",scope:e.scope});if(!e.singlepage){var a=600,o=550,s=[["width",a],["height",o],["left",screen.width/2-a/2],["top",screen.height/2-o/2]].map((function(e){return e.join("=")})).join(","),l=window.open("about:blank","oauth_window",s);if(n.popupWindow=l,l.location=i,!l){var c=new Error("Popup was blocked");throw c.status="popup-blocked",c}}window.authComplete=function(t){(function(t){var r=e.url+"/oauth2/token?"+k8({client_id:e.client_id,grant_type:"authorization_code",code:t,redirect_uri:e.redirect_uri,client_secret:e.client_secret});n.rawxhr("POST",r,null,null,null,u),e.loading()})(FF(t.split("?")[1]).code),delete window.authComplete}}function u(i,a){if(e.done(),i)r(i);else{var o=JSON.parse(a.response);t("oauth2_access_token",o.access_token),r(null,n)}}},n.bringPopupWindowToFront=function(){var e=!1;try{n.popupWindow&&!n.popupWindow.closed&&(n.popupWindow.focus(),e=!0)}catch{}return e},n.bootstrapToken=function(r,i){function a(r,a){if(e.done(),r)i(r);else{var o=JSON.parse(a.response);t("oauth2_access_token",o.access_token),i(null,n)}}!function(t){var r=e.url+"/oauth2/token?"+k8({client_id:e.client_id,grant_type:"authorization_code",code:t,redirect_uri:e.redirect_uri,client_secret:e.client_secret});n.rawxhr("POST",r,null,null,null,a),e.loading()}(r)},n.xhr=function(r,i){return n.authenticated()?a():e.auto?void n.authenticate(a):void i("not authenticated",null);function a(){var i=!1!==r.prefix?e.url+r.path:r.path;return n.rawxhr(r.method,i,t("oauth2_access_token"),r.content,r.headers,o)}function o(e,t){e?i(e):t.responseXML?i(e,t.responseXML):i(e,t.response)}},n.rawxhr=function(e,t,n,r,i,a){i=i||{"Content-Type":"application/x-www-form-urlencoded"},n&&(i.Authorization="Bearer "+n);var o=new XMLHttpRequest;for(var s in o.onreadystatechange=function(){4===o.readyState&&0!==o.status&&(/^20\d$/.test(o.status)?a(null,o):a(o,null))},o.onerror=function(e){a(e,null)},o.open(e,t,!0),i)o.setRequestHeader(s,i[s]);return o.send(r),o},n.preauth=function(e){return e&&e.access_token&&t("oauth2_access_token",e.access_token),n},n.options=function(t){return arguments.length?((e=t).url=e.url||"https://www.openstreetmap.org",e.auto=e.auto||!1,e.singlepage=e.singlepage||!1,e.loading=e.loading||function(){},e.done=e.done||function(){},n.preauth(e)):e},w6.default.enabled)t=function(t,n){return 1===arguments.length?w6.default.get(e.url+t):2===arguments.length?w6.default.set(e.url+t,n):void 0};else{var r={};t=function(t,n){return 1===arguments.length?r[e.url+t]:2===arguments.length?r[e.url+t]=n:void 0}}return n.options(e),n}function k8(e){return Object.keys(e).sort().map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function FF(e){for(var t=0;t<e.length&&("?"===e[t]||"#"===e[t]);)t++;return(e=e.slice(t)).split("&").reduce((function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0]]=decodeURIComponent(n[1])),e}),{})}var G4=je(si()),E8=Jt(),Yn=se("apiStatusChange","authLoading","authDone","change","loading","loaded","loadedNotes"),Xn="https://www.openstreetmap.org",DF=window.location.origin+window.location.pathname,sn=Ry({url:Xn,client_id:"0tmNTmd0Jo1dQp4AUmMBLtGiD9YpMuXzHefitcuVStc",client_secret:"BTlNrNxIPitHdL4sP2clHw5KLoee9aKkA7dQbc0Bj7Q",scope:"read_prefs write_prefs write_api read_gpx write_notes",redirect_uri:DF+"land.html",loading:MF,done:IF}),Ly=[/.*\.google(apis)?\..*\/(vt|kh)[\?\/].*([xyz]=.*){3}.*/],qt={toLoad:{},loaded:{},inflight:{},seen:{},rtree:new G4.default},St={toLoad:{},loaded:{},inflight:{},inflightPost:{},note:{},closed:{},rtree:new G4.default},fr={toLoad:{},user:{}},V2,Cn={},eo=new Set,Fn=1,$o=16,By=12,$4,Go,Ho,_6,Uy=2e3;function MF(){Yn.call("authLoading")}function IF(){Yn.call("authDone")}function j2(e){e&&e.abort()}function k6(e){return Object.keys(e.inflight).length}function zy(e,t){Object.keys(e.inflight).forEach((function(n){e.toLoad[n]||t.find((function(e){return n===e.id}))||(j2(e.inflight[n]),delete e.inflight[n])}))}function qy(e){var t=e.lon&&e.lon.value,n=e.lat&&e.lat.value;return[parseFloat(t),parseFloat(n)]}function TF(e){for(var t=e.getElementsByTagName("nd"),n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]="n"+t[r].attributes.ref.value;return n}function NF(e){for(var t=e.nodes,n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]="n"+t[r];return n}function E6(e){for(var t=e.getElementsByTagName("tag"),n={},r=0,i=t.length;r<i;r++){var a=t[r].attributes;n[a.k.value]=a.v.value}return n}function OF(e){for(var t=e.getElementsByTagName("member"),n=new Array(t.length),r=0,i=t.length;r<i;r++){var a=t[r].attributes;n[r]={id:a.type.value[0]+a.ref.value,type:a.type.value,role:a.role.value}}return n}function PF(e){for(var t=e.members,n=new Array(t.length),r=0,i=t.length;r<i;r++){var a=t[r];n[r]={id:a.type[0]+a.ref,type:a.type,role:a.role}}return n}function A8(e){return!e.visible||"false"!==e.visible.value}function RF(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if("comment"===r.nodeName){for(var i=r.childNodes,a={},o=0;o<i.length;o++){var s=i[o],l=s.nodeName;if("#text"!==l&&(a[l]=s.textContent,"uid"===l)){var c=s.textContent;c&&!fr.user[c]&&(fr.toLoad[c]=!0)}}a&&t.push(a)}}return t}function F8(e){return{minX:e.loc[0],minY:e.loc[1],maxX:e.loc[0],maxY:e.loc[1],data:e}}var jy={node:function(e,t){return new ot({id:t,visible:"boolean"!=typeof e.visible||e.visible,version:e.version&&e.version.toString(),changeset:e.changeset&&e.changeset.toString(),timestamp:e.timestamp,user:e.user,uid:e.uid&&e.uid.toString(),loc:[parseFloat(e.lon),parseFloat(e.lat)],tags:e.tags})},way:function(e,t){return new Ot({id:t,visible:"boolean"!=typeof e.visible||e.visible,version:e.version&&e.version.toString(),changeset:e.changeset&&e.changeset.toString(),timestamp:e.timestamp,user:e.user,uid:e.uid&&e.uid.toString(),tags:e.tags,nodes:NF(e)})},relation:function(e,t){return new gr({id:t,visible:"boolean"!=typeof e.visible||e.visible,version:e.version&&e.version.toString(),changeset:e.changeset&&e.changeset.toString(),timestamp:e.timestamp,user:e.user,uid:e.uid&&e.uid.toString(),tags:e.tags,members:PF(e)})},user:function(e,t){return{id:t,display_name:e.display_name,account_created:e.account_created,image_url:e.img&&e.img.href,changesets_count:e.changesets&&e.changesets.count&&e.changesets.count.toString()||"0",active_blocks:e.blocks&&e.blocks.received&&e.blocks.received.active&&e.blocks.received.active.toString()||"0"}}};function LF(e,t,n){if(n=Object.assign({skipSeen:!0},n),!e)return t({message:"No JSON",status:-1});var r=e;if("object"!=typeof r&&(r=JSON.parse(e)),!r.elements)return t({message:"No JSON",status:-1});var i=r.elements,a=window.requestIdleCallback((function(){eo.delete(a);for(var e,n=[],r=0;r<i.length;r++)(e=o(i[r]))&&n.push(e);t(null,n)}));function o(e){var t,r=jy[e.type];if(!r)return null;if(t=ye.id.fromOSM(e.type,e.id),n.skipSeen){if(qt.seen[t])return null;qt.seen[t]=!0}return r(e,t)}eo.add(a)}function S8(e,t,n){if(n=Object.assign({skipSeen:!0},n),!e)return t({message:"No JSON",status:-1});var r=e;if("object"!=typeof r&&(r=JSON.parse(e)),!r.users&&!r.user)return t({message:"No JSON",status:-1});var i=r.users||[r],a=window.requestIdleCallback((function(){eo.delete(a);for(var e,n=[],r=0;r<i.length;r++)(e=o(i[r]))&&n.push(e);t(null,n)}));function o(e){var t=e.user.id&&e.user.id.toString();if(n.skipSeen&&fr.user[t])return delete fr.toLoad[t],null;var r=jy.user(e.user,t);return fr.user[t]=r,delete fr.toLoad[t],r}eo.add(a)}var BF={node:function(e,t){var n=e.attributes;return new ot({id:t,visible:A8(n),version:n.version.value,changeset:n.changeset&&n.changeset.value,timestamp:n.timestamp&&n.timestamp.value,user:n.user&&n.user.value,uid:n.uid&&n.uid.value,loc:qy(n),tags:E6(e)})},way:function(e,t){var n=e.attributes;return new Ot({id:t,visible:A8(n),version:n.version.value,changeset:n.changeset&&n.changeset.value,timestamp:n.timestamp&&n.timestamp.value,user:n.user&&n.user.value,uid:n.uid&&n.uid.value,tags:E6(e),nodes:TF(e)})},relation:function(e,t){var n=e.attributes;return new gr({id:t,visible:A8(n),version:n.version.value,changeset:n.changeset&&n.changeset.value,timestamp:n.timestamp&&n.timestamp.value,user:n.user&&n.user.value,uid:n.uid&&n.uid.value,tags:E6(e),members:OF(e)})},note:function(e,t){var n=e.attributes,r=e.childNodes,i={};i.id=t,i.loc=qy(n);var a=!1,o=1e-5;do{a&&(i.loc=$t(i.loc,[o,o]));var s=he(i.loc).bbox();a=St.rtree.search(s).length}while(a);for(var l=0;l<r.length;l++){var c=r[l],u=c.nodeName;"#text"!==u&&(i[u]="comments"===u?RF(c.childNodes):c.textContent)}var d=new Rt(i),p=F8(d);return St.note[d.id]=d,St.rtree.insert(p),d},user:function(e,t){var n=e.attributes,r={id:t,display_name:n.display_name&&n.display_name.value,account_created:n.account_created&&n.account_created.value,changesets_count:"0",active_blocks:"0"},i=e.getElementsByTagName("img");i&&i[0]&&i[0].getAttribute("href")&&(r.image_url=i[0].getAttribute("href"));var a=e.getElementsByTagName("changesets");a&&a[0]&&a[0].getAttribute("count")&&(r.changesets_count=a[0].getAttribute("count"));var o=e.getElementsByTagName("blocks");if(o&&o[0]){var s=o[0].getElementsByTagName("received");s&&s[0]&&s[0].getAttribute("active")&&(r.active_blocks=s[0].getAttribute("active"))}return fr.user[t]=r,delete fr.toLoad[t],r}};function C8(e,t,n){if(n=Object.assign({skipSeen:!0},n),!e||!e.childNodes)return t({message:"No XML",status:-1});var r=e.childNodes[0].childNodes,i=window.requestIdleCallback((function(){eo.delete(i);for(var e,n=[],o=0;o<r.length;o++)(e=a(r[o]))&&n.push(e);t(null,n)}));function a(e){var t,r=BF[e.nodeName];if(!r)return null;if("user"===e.nodeName){if(t=e.attributes.id.value,n.skipSeen&&fr.user[t])return delete fr.toLoad[t],null}else if("note"===e.nodeName)t=e.getElementsByTagName("id")[0].textContent;else if(t=ye.id.fromOSM(e.nodeName,e.attributes.id.value),n.skipSeen){if(qt.seen[t])return null;qt.seen[t]=!0}return r(e,t)}eo.add(i)}function Vy(e,t){St.rtree.remove(e,(function(e,t){return e.data.id===t.data.id})),t&&St.rtree.insert(e)}function Pi(e,t,n){return function(r,i){return r?((400===r.status||401===r.status||403===r.status)&&e.logout(),t.call(e,r)):e.getConnectionId()!==n?t.call(e,{message:"Connection Switched",status:-1}):t.call(e,r,i)}}var n4={init:function(){fe(this,Yn,"on")},reset:function(){return Array.from(eo).forEach((function(e){window.cancelIdleCallback(e),eo.delete(e)})),Fn++,Go=void 0,Ho=void 0,$4=void 0,Object.values(qt.inflight).forEach(j2),Object.values(St.inflight).forEach(j2),Object.values(St.inflightPost).forEach(j2),Cn.inflight&&j2(Cn.inflight),qt={toLoad:{},loaded:{},inflight:{},seen:{},rtree:new G4.default},St={toLoad:{},loaded:{},inflight:{},inflightPost:{},note:{},closed:{},rtree:new G4.default},fr={toLoad:{},user:{}},V2=void 0,Cn={},this},getConnectionId:function(){return Fn},getUrlRoot:function(){return Xn},changesetURL:function(e){return Xn+"/changeset/"+e},changesetsURL:function(e,t){var n=Math.max(0,Math.ceil(Math.log(t)/Math.LN2));return Xn+"/history#map="+Math.floor(t)+"/"+e[1].toFixed(n)+"/"+e[0].toFixed(n)},entityURL:function(e){return Xn+"/"+e.type+"/"+e.osmId()},historyURL:function(e){return Xn+"/"+e.type+"/"+e.osmId()+"/history"},userURL:function(e){return Xn+"/user/"+encodeURIComponent(e)},noteURL:function(e){return Xn+"/note/"+e.id},noteReportURL:function(e){return Xn+"/reports/new?reportable_type=Note&reportable_id="+e.id},loadFromAPI:function(e,t,n){n=Object.assign({skipSeen:!0},n);var r=this,i=Fn;function a(a,o){if(r.getConnectionId()===i){var s=r.authenticated();if(s&&a&&a.status&&(400===a.status||401===a.status||403===a.status))r.logout(),r.loadFromAPI(e,t,n);else if(s||$4||!a||!a.status||509!==a.status&&429!==a.status?(a&&"online"===V2||!a&&"online"!==V2)&&r.reloadApiStatus():($4=a,Yn.call("change"),r.reloadApiStatus()),t)return a?t(a):-1!==e.indexOf(".json")?LF(o,t,n):C8(o,t,n)}else t&&t({message:"Connection Switched",status:-1})}if(this.authenticated())return sn.xhr({method:"GET",path:e},a);var o=Xn+e,s=new AbortController;return(-1!==e.indexOf(".json")?mt:Z3)(o,{signal:s.signal}).then((function(e){a(null,e)})).catch((function(e){if("AbortError"!==e.name){var t=e.message.match(/^\d{3}/);a(t?{status:+t[0],statusText:e.message}:e.message)}})),s},loadEntity:function(e,t){var n=ye.id.type(e),r=ye.id.toOSM(e);this.loadFromAPI("/api/0.6/"+n+"/"+r+("node"!==n?"/full":"")+".json",(function(e,n){t&&t(e,{data:n})}),{skipSeen:!1})},loadEntityVersion:function(e,t,n){var r=ye.id.type(e),i=ye.id.toOSM(e);this.loadFromAPI("/api/0.6/"+r+"/"+i+"/"+t+".json",(function(e,t){n&&n(e,{data:t})}),{skipSeen:!1})},loadEntityRelations:function(e,t){var n=ye.id.type(e),r=ye.id.toOSM(e);this.loadFromAPI("/api/0.6/"+n+"/"+r+"/relations.json",(function(e,n){t&&t(e,{data:n})}),{skipSeen:!1})},loadMultiple:function(e,t){var n=this,r=Ct(Te(e),ye.id.type);Object.keys(r).forEach((function(e){var i=e+"s",a=r[e].map((function(e){return ye.id.toOSM(e)})),o={skipSeen:!1};Wi(a,150).forEach((function(e){n.loadFromAPI("/api/0.6/"+i+".json?"+i+"="+e.join(),(function(e,n){t&&t(e,{data:n})}),o)}))}))},putChangeset:function(e,t,n){var r=Fn;if(Cn.inflight)return n({message:"Changeset already inflight",status:-2},e);if(Cn.open)return a.call(this,null,Cn.open);var i={method:"PUT",path:"/api/0.6/changeset/create",headers:{"Content-Type":"text/xml"},content:Ka.stringify(e.asJXON())};function a(i,a){if(Cn.inflight=null,i)return n(i,e);Cn.open=a,e=e.update({id:a});var s={method:"POST",path:"/api/0.6/changeset/"+a+"/upload",headers:{"Content-Type":"text/xml"},content:Ka.stringify(e.osmChangeJXON(t))};Cn.inflight=sn.xhr(s,Pi(this,o,r))}function o(t){if(Cn.inflight=null,t)return n(t,e);window.setTimeout((function(){n(null,e)}),2500),Cn.open=null,this.getConnectionId()===r&&sn.xhr({method:"PUT",path:"/api/0.6/changeset/"+e.id+"/close",headers:{"Content-Type":"text/xml"}},(function(){return!0}))}Cn.inflight=sn.xhr(i,Pi(this,a,r))},loadUsers:function(e,t){var n=[],r=[];function i(e,n){if(e)return t(e);return S8(n,(function(e,n){return e?t(e):t(void 0,n)}),{skipSeen:!0})}Te(e).forEach((function(e){fr.user[e]?(delete fr.toLoad[e],r.push(fr.user[e])):n.push(e)})),(!r.length&&this.authenticated()||(t(void 0,r),this.authenticated()))&&Wi(n,150).forEach(function(e){sn.xhr({method:"GET",path:"/api/0.6/users.json?users="+e.join()},Pi(this,i,Fn))}.bind(this))},loadUser:function(e,t){if(fr.user[e]||!this.authenticated())return delete fr.toLoad[e],t(void 0,fr.user[e]);sn.xhr({method:"GET",path:"/api/0.6/user/"+e+".json"},Pi(this,(function(e,n){return e?t(e):S8(n,(function(e,n){return e?t(e):t(void 0,n[0])}),{skipSeen:!0})}),Fn))},userDetails:function(e){if(Ho)return e(void 0,Ho);sn.xhr({method:"GET",path:"/api/0.6/user/details.json"},Pi(this,(function(t,n){return t?e(t):S8(n,(function(t,n){return t?e(t):(Ho=n[0],e(void 0,Ho))}),{skipSeen:!1})}),Fn))},userChangesets:function(e){if(Go)return e(void 0,Go);function t(t,n){return t?e(t):(Go=Array.prototype.map.call(n.getElementsByTagName("changeset"),(function(e){return{tags:E6(e)}})).filter((function(e){var t=e.tags.comment;return t&&""!==t})),e(void 0,Go))}this.userDetails(Pi(this,(function(n,r){if(n)return e(n);sn.xhr({method:"GET",path:"/api/0.6/changesets?user="+r.id},Pi(this,t,Fn))}),Fn))},status:function(e){var t=Xn+"/api/capabilities",n=Pi(this,(function(t,n){if(t)return e(t,null);for(var r=n.getElementsByTagName("blacklist"),i=[],a=0;a<r.length;a++){var o=r[a].getAttribute("regex");if(o)try{var s=new RegExp(o);i.push(s)}catch{}}if(i.length&&(Ly=i),$4)return e($4,"rateLimited");var l=n.getElementsByTagName("waynodes"),c=l.length&&parseInt(l[0].getAttribute("maximum"),10);c&&isFinite(c)&&(Uy=c);var u=n.getElementsByTagName("status")[0].getAttribute("api");return e(void 0,u)}),Fn);Z3(t).then((function(e){n(null,e)})).catch((function(e){n(e.message)}))},reloadApiStatus:function(){if(!this.throttledReloadApiStatus){var e=this;this.throttledReloadApiStatus=dt((function(){e.status((function(t,n){n!==V2&&(V2=n,Yn.call("apiStatusChange",e,t,n))}))}),500)}this.throttledReloadApiStatus()},maxWayNodes:function(){return Uy},loadTiles:function(e,t){if(!_6){var n=E8.zoomExtent([$o,$o]).getTiles(e),r=k6(qt);zy(qt,n),r&&!k6(qt)&&Yn.call("loaded"),n.forEach((function(e){this.loadTile(e,t)}),this)}},loadTile:function(e,t){if(!(_6||qt.loaded[e.id]||qt.inflight[e.id])){k6(qt)||Yn.call("loading");qt.inflight[e.id]=this.loadFromAPI("/api/0.6/map.json?bbox="+e.extent.toParam(),(function(n,r){if(delete qt.inflight[e.id],!n){delete qt.toLoad[e.id],qt.loaded[e.id]=!0;var i=e.extent.bbox();i.id=e.id,qt.rtree.insert(i)}t&&t(n,Object.assign({data:r},e)),k6(qt)||Yn.call("loaded")}),{skipSeen:!0})}},isDataLoaded:function(e){var t={minX:e[0],minY:e[1],maxX:e[0],maxY:e[1]};return qt.rtree.collides(t)},loadTileAtLoc:function(e,t){if(!(Object.keys(qt.toLoad).length>50)){var n=Dr($o+1),r=Jr().scale(n)(e),i=Jr().transform({k:n,x:-r[0],y:-r[1]});E8.zoomExtent([$o,$o]).getTiles(i).forEach((function(e){qt.toLoad[e.id]||qt.loaded[e.id]||qt.inflight[e.id]||(qt.toLoad[e.id]=!0,this.loadTile(e,t))}),this)}},loadNotes:function(e,t){if(t=Object.assign({limit:1e4,closed:7},t),!_6){var n=this,r="/api/0.6/notes?limit="+t.limit+"&closed="+t.closed+"&bbox=",i=dt((function(){var e=Object.keys(fr.toLoad);!e.length||n.loadUsers(e,(function(){}))}),750),a=E8.zoomExtent([By,By]).getTiles(e);zy(St,a),a.forEach((function(e){if(!St.loaded[e.id]&&!St.inflight[e.id]){St.inflight[e.id]=n.loadFromAPI(r+e.extent.toParam(),(function(t){delete St.inflight[e.id],t||(St.loaded[e.id]=!0),i(),Yn.call("loadedNotes")}),{skipSeen:!1})}}))}},postNoteCreate:function(e,t){if(!this.authenticated())return t({message:"Not Authenticated",status:-3},e);if(St.inflightPost[e.id])return t({message:"Note update already inflight",status:-2},e);if(e.loc[0]&&e.loc[1]&&e.newComment){var n=e.newComment;e.newCategory&&"None"!==e.newCategory&&(n+=" #"+e.newCategory);var r="/api/0.6/notes?"+$e({lon:e.loc[0],lat:e.loc[1],text:n});St.inflightPost[e.id]=sn.xhr({method:"POST",path:r},Pi(this,(function(n,r){return delete St.inflightPost[e.id],n?t(n):(this.removeNote(e),C8(r,(function(e,n){return e?t(e):t(void 0,n[0])}),{skipSeen:!1}))}),Fn))}},postNoteUpdate:function(e,t,n){if(!this.authenticated())return n({message:"Not Authenticated",status:-3},e);if(St.inflightPost[e.id])return n({message:"Note update already inflight",status:-2},e);var r;if("closed"!==e.status&&"closed"===t)r="close";else if("open"!==e.status&&"open"===t)r="reopen";else if(r="comment",!e.newComment)return;var i="/api/0.6/notes/"+e.id+"/"+r;e.newComment&&(i+="?"+$e({text:e.newComment})),St.inflightPost[e.id]=sn.xhr({method:"POST",path:i},Pi(this,(function(t,i){return delete St.inflightPost[e.id],t?n(t):(this.removeNote(e),"close"===r?St.closed[e.id]=!0:"reopen"===r&&delete St.closed[e.id],C8(i,(function(e,t){return e?n(e):n(void 0,t[0])}),{skipSeen:!1}))}),Fn))},switch:function(e){Xn=e.url;var t=Mr(sn.options(),"access_token");return sn.options(Object.assign(t,e)),this.reset(),this.userChangesets((function(){})),Yn.call("change"),this},toggle:function(e){return _6=!e,this},isChangesetInflight:function(){return!!Cn.inflight},caches:function(e){function t(e){var t={};return Object.keys(e).forEach((function(n){"rtree"===n?t.rtree=(new G4.default).fromJSON(e.rtree.toJSON()):"note"===n?(t.note={},Object.keys(e.note).forEach((function(n){t.note[n]=Rt(e.note[n])}))):t[n]=JSON.parse(JSON.stringify(e[n]))})),t}return arguments.length?"get"===e?{tile:qt,note:St,user:fr}:(e.tile&&((qt=e.tile).inflight={}),e.note&&((St=e.note).inflight={},St.inflightPost={}),e.user&&(fr=e.user),this):{tile:t(qt),note:t(St),user:t(fr)}},logout:function(){return Go=void 0,Ho=void 0,sn.logout(),Yn.call("change"),this},authenticated:function(){return sn.authenticated()},authenticate:function(e){var t=this,n=Fn;Go=void 0,Ho=void 0,sn.authenticate((function(r,i){r?e&&e(r):t.getConnectionId()===n?($4=void 0,Yn.call("change"),e&&e(r,i),t.userChangesets((function(){}))):e&&e({message:"Connection Switched",status:-1})}))},imageryBlocklists:function(){return Ly},tileZoom:function(e){return arguments.length?($o=e,this):$o},notes:function(e){var t=e.clipExtent(),n=[t[0][0],t[1][1]],r=[t[1][0],t[0][1]],i=he(e.invert(n),e.invert(r)).bbox();return St.rtree.search(i).map((function(e){return e.data}))},getNote:function(e){return St.note[e]},removeNote:function(e){!(e instanceof Rt)||!e.id||(delete St.note[e.id],Vy(F8(e),!1))},replaceNote:function(e){if(e instanceof Rt&&e.id)return St.note[e.id]=e,Vy(F8(e),!0),e},getClosedIDs:function(){return Object.keys(St.closed).sort()}},D8="https://wiki.openstreetmap.org/w/api.php",Wo={},Ri={},A6={en:!1},UF=ft(Qy,500,{leading:!1});function Qy(e,t){if(!Wo[e]){var n=new AbortController;Wo[e]=n,mt(e,{signal:n.signal}).then((function(n){delete Wo[e],t&&t(null,n)})).catch((function(n){delete Wo[e],"AbortError"!==n.name&&t&&t(n.message)}))}}var M8={init:function(){Wo={},Ri={},A6={}},reset:function(){Object.values(Wo).forEach((function(e){e.abort()})),Wo={}},claimToValue:function(e,t,n){if(e.claims[t]){var r,i,a=A6[n];e.claims[t].forEach((function(e){!r&&"preferred"===e.rank&&(r=e),a&&e.qualifiers&&e.qualifiers.P26&&e.qualifiers.P26[0].datavalue.value.id===a&&(i=e)}));var o=i||r;if(o){var s=o.mainsnak.datavalue;return"wikibase-entityid"===s.type?s.value.id:s.value}}else;},monolingualClaimToValueObj:function(e,t){if(e&&e.claims[t])return e.claims[t].reduce((function(e,t){var n=t.mainsnak.datavalue.value;return e[n.language]=n.text,e}),{})},toSitelink:function(e,t){return(t?"Tag:"+e+"="+t:"Key:"+e).replace(/_/g," ").trim()},getEntity:function(e,t){var n,r=e.debounce?UF:Qy,i=this,a=[],o={},s=!("type"!==e.key||!e.value)&&("Relation:"+e.value).replace(/_/g," ").trim(),l=!!e.key&&this.toSitelink(e.key),c=!(!e.key||!e.value)&&this.toSitelink(e.key,e.value);if(e.langCodes&&e.langCodes.forEach((function(e){void 0===A6[e]&&(n=("Locale:"+e).replace(/_/g," ").trim(),a.push(n))})),s&&(Ri[s]?o.rtype=Ri[s]:a.push(s)),l&&(Ri[l]?o.key=Ri[l]:a.push(l)),c&&(Ri[c]?o.tag=Ri[c]:a.push(c)),!a.length)return t(null,o);var u={action:"wbgetentities",sites:"wiki",titles:a.join("|"),languages:e.langCodes.join("|"),languagefallback:1,origin:"*",format:"json"};r(D8+"?"+$e(u),(function(r,a){if(r)t(r);else if(!a.success||a.error)t(a.error.messages.map((function(e){return e.html["*"]})).join("<br>"));else{var u=!1;Object.values(a.entities).forEach((function(e){if(""!==e.missing){var t=e.sitelinks.wiki.title;t===s?(Ri[s]=e,o.rtype=e):t===l?(Ri[l]=e,o.key=e):t===c?(Ri[c]=e,o.tag=e):t===n?u=e.id:console.log("Unexpected title "+t)}})),n&&i.addLocale(e.langCodes[0],u),t(null,o)}}))},getDocs:function(e,t){var n=this,r=le.localeCodes().map((function(e){return e.toLowerCase()}));e.langCodes=r,this.getEntity(e,(function(e,i){if(e)t(e);else{var a=i.rtype||i.tag||i.key;if(a){var o,s;for(o in r){let e=r[o];if(a.descriptions[e]&&a.descriptions[e].language===e){s=a.descriptions[e];break}}!s&&Object.values(a.descriptions).length&&(s=Object.values(a.descriptions)[0]);var l={title:a.title,description:s?s.value:"",descriptionLocaleCode:s?s.language:"",editURL:"https://wiki.openstreetmap.org/wiki/"+a.title};if(a.claims){var c,u=n.claimToValue(a,"P4",r[0]);u?c="https://commons.wikimedia.org/w/index.php":(u=n.claimToValue(a,"P28",r[0]))&&(c="https://wiki.openstreetmap.org/w/index.php"),c&&u&&(l.imageURL=c+"?"+$e({title:"Special:Redirect/file/"+u,width:400}))}var d=[n.monolingualClaimToValueObj(i.rtype,"P31"),n.monolingualClaimToValueObj(i.tag,"P31"),n.monolingualClaimToValueObj(i.key,"P31")];for(o in d){var p=d[o];for(var f in r){var h=r[f],g="en"!==r[0].split("-")[0]&&"en"===h.split("-")[0]?"inspector.wiki_en_reference":"inspector.wiki_reference",m=y(p,h,g);if(m){l.wiki=m;break}}if(l.wiki)break}t(null,l)}else t("No entity")}function y(e,t,n){if(e&&e[t])return{title:e[t],text:n,url:"https://wiki.openstreetmap.org/wiki/"+e[t]}}}))},addLocale:function(e,t){A6[e]=t},apibase:function(e){return arguments.length?(D8=e,this):D8}},Wy=je(si()),S6={};function $y(e,t){var n={abort:function(){}};if(window.JSONP_FIX){if(0===window.JSONP_DELAY)t(window.JSONP_FIX);else{var r=window.setTimeout((function(){t(window.JSONP_FIX)}),window.JSONP_DELAY||0);n.abort=function(){window.clearTimeout(r)}}return n}var i=function(e){var r=e.match(/callback=(\w+)/),i=r?r[1]:function(){for(var e="",t=-1;++t<15;)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return e}();function o(){delete S6[i],a.remove()}return S6[i]=function(e){S6[i]&&t(e),o()},n.abort=o,"jsonpCache."+i}(e),a=$("head").append("script").attr("type","text/javascript").attr("src",e.replace(/(\{|%7B)callback(\}|%7D)/,i));return n}window.jsonpCache=S6;var zF="https://dev.virtualearth.net/mapcontrol/HumanScaleServices/GetBubbles.ashx?",qF="https://t.ssl.ak.tiles.virtualearth.net/tiles/",VF="AuftgJsO0Xs8Ts4M1xZUQJQXJNsvmh3IV8DkNieCiy3tCwCUMq76-WpkrBtNAuEm",jF="pannellum-streetside/pannellum.css",QF="pannellum-streetside/pannellum.js",$F=2e3,Gy=16.5,GF=Jt().zoomExtent([Gy,Gy]).skipNullIsland(!0),F6=se("loadedImages","viewerChanged"),HF=10,WF=90,KF=45,C6=!1,D6=512,H4=0,Gr,Zn,Ko={showFullscreenCtrl:!1,autoLoad:!0,compass:!0,yaw:0,minHfov:HF,maxHfov:WF,hfov:KF,type:"cubemap",cubeMap:[]},Q2;function Ky(e){e.abort()}function XF(e){if(!e)return null;let t=new Date(e);return isNaN(t.getTime())?null:t.toLocaleString(le.localeCode(),{day:"numeric",month:"short",year:"numeric"})}function YF(e,t,n,r){let i=GF.margin(r).getTiles(n),a=Gr[e];Object.keys(a.inflight).forEach(e=>{i.find(t=>0===e.indexOf(t.id+","))||(Ky(a.inflight[e]),delete a.inflight[e])}),i.forEach(n=>ZF(e,t,n))}function ZF(e,t,n){let r=Gr[e],i=r.nextPage[n.id]||0,a=n.id+","+String(i);r.loaded[a]||r.inflight[a]||(r.inflight[a]=eD(t,n,t=>{if(r.loaded[a]=!0,delete r.inflight[a],!t)return;t.shift();let n=t.map(e=>{if(r.points[e.id])return null;let t=[e.lo,e.la],n={loc:t,key:e.id,ca:e.he,captured_at:e.cd,captured_by:"microsoft",pr:e.pr,ne:e.ne,pano:!0,sequenceKey:null};return r.points[e.id]=n,void 0===e.pr&&r.leaders.push(e.id),{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1],data:n}}).filter(Boolean);r.rtree.load(n),JF(),"bubbles"===e&&F6.call("loadedImages")}))}function JF(){let e=Gr.bubbles,t=[];for(let n=0;n<e.leaders.length;n++){let r=e.points[e.leaders[n]],i={},a={key:r.key,bubbles:[]},o=!1;do{a.bubbles.push(r),i[r.key]=!0,void 0===r.ne?o=!0:r=e.points[r.ne]}while(r&&!i[r.key]&&!o);if(o){Gr.sequences[a.key]=a;for(let e=0;e<a.bubbles.length;e++)a.bubbles[e].sequenceKey=a.key;a.geojson={type:"LineString",properties:{captured_at:a.bubbles[0]?a.bubbles[0].captured_at:null,captured_by:a.bubbles[0]?a.bubbles[0].captured_by:null,key:a.key},coordinates:a.bubbles.map(e=>e.loc)}}else t.push(e.leaders[n])}e.leaders=t}function eD(e,t,n){let r=t.extent.rectangle();return $y(e+$e({n:r[3],s:r[1],e:r[2],w:r[0],c:$F,appkey:VF,jsCallback:"{callback}"}),e=>{!e||e.error?n(null):n(e)})}function tD(e){let t=Tt(e.scale()),n=Math.ceil(2*t)/2+2.5;return Jt().zoomExtent([n,n]).getTiles(e).map(e=>e.extent)}function rD(e,t,n){return e=e||5,tD(t).reduce((t,r)=>{let i=n.search(r.bbox()).slice(0,e).map(e=>e.data);return i.length?t.concat(i):t},[])}function nD(e){return new Promise(t=>{let n=new Image;n.onload=()=>{document.getElementById("ideditor-canvas"+e.face).getContext("2d").drawImage(n,e.x,e.y),t({imgInfo:e,status:"ok"})},n.onerror=()=>{t({data:e,status:"error"})},n.setAttribute("crossorigin",""),n.src=e.url})}function iD(e){return Promise.all(e.map(nD)).then(e=>{let t=document.getElementById("ideditor-canvas"+e[0].imgInfo.face),n=e[0].imgInfo.face;return Ko.cubeMap[{"01":0,"02":1,"03":2,10:3,11:4,12:5}[n]]=t.toDataURL("image/jpeg",1),{status:"loadCanvas for face "+e[0].imgInfo.face+"ok"}})}function aD(e){return Promise.all(e.map(iD)).then(()=>({status:"loadFaces done"}))}function Hy(e,t){t&&e.selectAll("#ideditor-stitcher-canvases").remove(),e.selectAll("#ideditor-stitcher-canvases").data([0]).enter().append("div").attr("id","ideditor-stitcher-canvases").attr("display","none").selectAll("canvas").data(["canvas01","canvas02","canvas03","canvas10","canvas11","canvas12"]).enter().append("canvas").attr("id",e=>"ideditor-"+e).attr("width",D6).attr("height",D6)}function oD(e){let t=0,n=0,r=256;for(let i=e.length;i>0;i--){let a=e[i-1];t+=+("1"===a||"3"===a)*r,n+=+("2"===a||"3"===a)*r,r*=2}return[t,n]}function sD(){let e,t=D6/256;return e=16===t?["0000","0001","0010","0011","0100","0101","0110","0111","1000","1001","1010","1011","1100","1101","1110","1111","0002","0003","0012","0013","0102","0103","0112","0113","1002","1003","1012","1013","1102","1103","1112","1113","0020","0021","0030","0031","0120","0121","0130","0131","1020","1021","1030","1031","1120","1121","1130","1131","0022","0023","0032","0033","0122","0123","0132","0133","1022","1023","1032","1033","1122","1123","1132","1133","0200","0201","0210","0211","0300","0301","0310","0311","1200","1201","1210","1211","1300","1301","1310","1311","0202","0203","0212","0213","0302","0303","0312","0313","1202","1203","1212","1213","1302","1303","1312","1313","0220","0221","0230","0231","0320","0321","0330","0331","1220","1221","1230","1231","1320","1321","1330","1331","0222","0223","0232","0233","0322","0323","0332","0333","1222","1223","1232","1233","1322","1323","1332","1333","2000","2001","2010","2011","2100","2101","2110","2111","3000","3001","3010","3011","3100","3101","3110","3111","2002","2003","2012","2013","2102","2103","2112","2113","3002","3003","3012","3013","3102","3103","3112","3113","2020","2021","2030","2031","2120","2121","2130","2131","3020","3021","3030","3031","3120","3121","3130","3131","2022","2023","2032","2033","2122","2123","2132","2133","3022","3023","3032","3033","3122","3123","3132","3133","2200","2201","2210","2211","2300","2301","2310","2311","3200","3201","3210","3211","3300","3301","3310","3311","2202","2203","2212","2213","2302","2303","2312","2313","3202","3203","3212","3213","3302","3303","3312","3313","2220","2221","2230","2231","2320","2321","2330","2331","3220","3221","3230","3231","3320","3321","3330","3331","2222","2223","2232","2233","2322","2323","2332","2333","3222","3223","3232","3233","3322","3323","3332","3333"]:8===t?["000","001","010","011","100","101","110","111","002","003","012","013","102","103","112","113","020","021","030","031","120","121","130","131","022","023","032","033","122","123","132","133","200","201","210","211","300","301","310","311","202","203","212","213","302","303","312","313","220","221","230","231","320","321","330","331","222","223","232","233","322","323","332","333"]:4===t?["00","01","10","11","02","03","12","13","20","21","30","31","22","23","32","33"]:["0","1","2","3"],e}var I8={init:function(){Gr||this.reset(),this.event=fe(this,F6,"on")},reset:function(){Gr&&Object.values(Gr.bubbles.inflight).forEach(Ky),Gr={bubbles:{inflight:{},loaded:{},nextPage:{},rtree:new Wy.default,points:{},leaders:[]},sequences:{}}},bubbles:function(e){return rD(5,e,Gr.bubbles.rtree)},cachedImage:function(e){return Gr.bubbles.points[e]},sequences:function(e){let t=e.clipExtent(),n=[t[0][0],t[1][1]],r=[t[1][0],t[0][1]],i=he(e.invert(n),e.invert(r)).bbox(),a={},o=[];return Gr.bubbles.rtree.search(i).forEach(e=>{let t=e.data.sequenceKey;t&&!a[t]&&(a[t]=!0,o.push(Gr.sequences[t].geojson))}),o},loadBubbles:function(e,t){void 0===t&&(t=2),YF("bubbles",zF,e,t)},viewer:function(){return Zn},initViewer:function(){if(!window.pannellum||Zn)return;let e=(H4+=1).toString(),t={default:{firstScene:e},scenes:{}};t.scenes[e]=Ko,Zn=window.pannellum.viewer("ideditor-viewer-streetside",t)},ensureViewerLoaded:function(e){if(Q2)return Q2;let t=e.container().select(".photoviewer").selectAll(".ms-wrapper").data([0]),n=t.enter().append("div").attr("class","photo-wrapper ms-wrapper").classed("hide",!0),r=this,i="PointerEvent"in window?"pointer":"mouse";n.append("div").attr("id","ideditor-viewer-streetside").on(i+"down.streetside",()=>{$(window).on(i+"move.streetside",()=>{F6.call("viewerChanged")},!0)}).on(i+"up.streetside pointercancel.streetside",()=>{$(window).on(i+"move.streetside",null);let e=Aa(t=>{F6.call("viewerChanged"),t>2e3&&e.stop()})}).append("div").attr("class","photo-attribution fillD");let a=n.append("div").attr("class","photo-controls-wrap").append("div").attr("class","photo-controls");return a.append("button").on("click.back",o(-1)).text("\u25c4"),a.append("button").on("click.forward",o(1)).text("\u25ba"),t=t.merge(n).call(Hy,!0),e.ui().photoviewer.on("resize.streetside",()=>{Zn&&Zn.resize()}),Q2=new Promise((t,n)=>{let r=0;function i(){r+=1,2===r&&t()}let a=$("head");a.selectAll("#ideditor-streetside-viewercss").data([0]).enter().append("link").attr("id","ideditor-streetside-viewercss").attr("rel","stylesheet").attr("crossorigin","anonymous").attr("href",e.asset(jF)).on("load.serviceStreetside",i).on("error.serviceStreetside",(function(){n()})),a.selectAll("#ideditor-streetside-viewerjs").data([0]).enter().append("script").attr("id","ideditor-streetside-viewerjs").attr("crossorigin","anonymous").attr("src",e.asset(QF)).on("load.serviceStreetside",i).on("error.serviceStreetside",(function(){n()}))}).catch((function(){Q2=null}));function o(t){return()=>{let n=e.container().select(".photoviewer"),i=n.empty()?void 0:n.datum();if(!i)return;let a=1===t?i.ne:i.pr,o=Zn.getYaw(),s=i.ca+o,l=i.loc,c=35,u=[l[0]+xr(7,l[1]),l[1]],d=[u,[l[0]+xr(17.5,l[1]),l[1]+Pr(c)],[l[0]-xr(17.5,l[1]),l[1]+Pr(c)],[l[0]-xr(7,l[1]),l[1]],u],p=(1===t?s:s+180)*(Math.PI/180);d=xa(d,-p,l);let f=d.reduce((e,t)=>e.extend(he(t)),he()),h=1/0;Gr.bubbles.rtree.search(f.bbox()).forEach(e=>{if(e.data.key===i.key||!ki(e.data.loc,d))return;let t=Qe(e.data.loc,i.loc),n=i.ca-e.data.ca;Math.min(Math.abs(n),360-Math.abs(n))>20&&(t+=5),t<h&&(a=e.data.key,h=t)});let g=a&&r.cachedImage(a);!g||(e.map().centerEase(g.loc),r.selectImage(e,g.key).yaw(o).showViewer(e))}}},yaw:function(e){return"number"!=typeof e?e:(Ko.yaw=e,this)},showViewer:function(e){let t=e.container().select(".photoviewer").classed("hide",!1);return t.selectAll(".photo-wrapper.ms-wrapper.hide").size()&&(t.selectAll(".photo-wrapper:not(.ms-wrapper)").classed("hide",!0),t.selectAll(".photo-wrapper.ms-wrapper").classed("hide",!1)),this},hideViewer:function(e){let t=e.container().select(".photoviewer");return t.empty()||t.datum(null),t.classed("hide",!0).selectAll(".photo-wrapper").classed("hide",!0),e.container().selectAll(".viewfield-group, .sequence, .icon-sign").classed("currentView",!1),this.updateUrlImage(null),this.setStyles(e,null,!0)},selectImage:function(e,t){let n=this,r=this.cachedImage(t),i=e.container().select(".photoviewer");i.empty()||i.datum(r),this.setStyles(e,null,!0);let a=e.container().select(".photoviewer .ms-wrapper"),o=a.selectAll(".photo-attribution").html("");if(a.selectAll(".pnlm-load-box").style("display","block"),!r)return this;this.updateUrlImage(t),Ko.northOffset=r.ca;let s=o.append("div").attr("class","attribution-row"),l=mn("streetside-hires"),c=s.append("label").attr("for",l).attr("class","streetside-hires");c.append("input").attr("type","checkbox").attr("id",l).property("checked",C6).on("click",t=>{t.stopPropagation(),D6=(C6=!C6)?1024:512,a.call(Hy,!0);let i={yaw:Zn.getYaw(),pitch:Zn.getPitch(),hfov:Zn.getHfov()};Ko=Object.assign(Ko,i),n.selectImage(e,r.key).showViewer(e)}),c.append("span").call(C.append("streetside.hires"));let u=s.append("div").attr("class","attribution-capture-info");if(r.captured_by){let e=(new Date).getFullYear();u.append("a").attr("class","captured_by").attr("target","_blank").attr("href","https://www.microsoft.com/en-us/maps/streetside").text("\xa9"+e+" Microsoft"),u.append("span").text("|")}r.captured_at&&u.append("span").attr("class","captured_at").text(XF(r.captured_at));let d=o.append("div").attr("class","attribution-row");d.append("a").attr("class","image-view-link").attr("target","_blank").attr("href","https://www.bing.com/maps?cp="+r.loc[1]+"~"+r.loc[0]+"&lvl=17&dir="+r.ca+"&style=x&v=2&sV=1").call(C.append("streetside.view_on_bing")),d.append("a").attr("class","image-report-link").attr("target","_blank").attr("href","https://www.bing.com/maps/privacyreport/streetsideprivacyreport?bubbleid="+encodeURIComponent(r.key)+"&focus=photo&lat="+r.loc[1]+"&lng="+r.loc[0]+"&z=17").call(C.append("streetside.report"));let p=r.key.toString(4),f=16-p.length;for(let m=0;m<f;m++)p="0"+p;let h=qF+"hs"+p,g=sD();return aD(["01","02","03","10","11","12"].map(e=>g.map(t=>{let n=oD(t);return{face:e,url:h+e+t+".jpg?g=6338&n=z",x:n[0],y:n[1]}}))).then((function(){if(Zn){let e=(H4+=1).toString();Zn.addScene(e,Ko).loadScene(e),H4>2&&(e=(H4-1).toString(),Zn.removeScene(e))}else n.initViewer()})),this},getSequenceKeyForBubble:function(e){return e&&e.sequenceKey},setStyles:function(e,t,n){n&&(e.container().selectAll(".viewfield-group").classed("highlighted",!1).classed("hovered",!1).classed("currentView",!1),e.container().selectAll(".sequence").classed("highlighted",!1).classed("currentView",!1));let r=t&&t.key,i=this.getSequenceKeyForBubble(t),a=i&&Gr.sequences[i],o=a&&a.bubbles.map(e=>e.key)||[],s=e.container().select(".photoviewer"),l=s.empty()?void 0:s.datum(),c=l&&l.key,u=this.getSequenceKeyForBubble(l),d=u&&Gr.sequences[u],p=xt(o,d&&d.bubbles.map(e=>e.key)||[]);return e.container().selectAll(".layer-streetside-images .viewfield-group").classed("highlighted",e=>-1!==p.indexOf(e.key)).classed("hovered",e=>e.key===r).classed("currentView",e=>e.key===c),e.container().selectAll(".layer-streetside-images .sequence").classed("highlighted",e=>e.properties.key===i).classed("currentView",e=>e.properties.key===u),e.container().selectAll(".layer-streetside-images .viewfield-group .viewfield").attr("d",(function(){let e=this.parentNode.__data__;return e.pano&&e.key!==c?"M 8,13 m -10,0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0":"M 6,9 C 8,8.4 8,8.4 10,9 L 16,-2 C 12,-5 4,-5 0,-2 z"})),this},updateUrlImage:function(e){if(!window.mocha){var t=Ut(window.location.hash);e?t.photo="streetside/"+e:delete t.photo,window.location.replace("#"+$e(t,!0))}},cache:function(){return Gr}},Xo="https://taginfo.openstreetmap.org/api/4/",Zo={},T8={},Yo={},lD={point:"count_nodes",vertex:"count_nodes",area:"count_ways",line:"count_ways"},uD={point:"count_node_members",vertex:"count_node_members",area:"count_way_members",line:"count_way_members",relation:"count_relation_members"},cD={point:"nodes",vertex:"nodes",area:"ways",line:"ways"},fD={point:"count_node_members_fraction",vertex:"count_node_members_fraction",area:"count_way_members_fraction",line:"count_way_members_fraction",relation:"count_relation_members_fraction"};function N8(e,t,n){return e.geometry&&n[e.geometry]&&(e[t]=n[e.geometry]),e}function dD(e){return N8(e,"filter",cD)}function M6(e){return N8(e,"sortname",lD)}function pD(e){return N8(e,"sortname",uD)}function $2(e){return Mr(e,["geometry","debounce"])}function mD(e){var t=e?"count_"+e:"count_all";return function(e){return parseFloat(e[t])>2500||e.in_wiki}}function hD(e){return function(t){var n=new RegExp("^"+e+"(.*)$"),r=t.key.match(n)||[];return 2===r.length&&-1===r[1].indexOf(":")}}function gD(e){return function(t){return!(null!==t.value.match(/[;,]/)||!e&&null!==t.value.match(/[A-Z*]/))&&parseFloat(t.fraction)>0}}function vD(e){return function(t){return""!==t.role&&null===t.role.match(/[A-Z*;,]/)&&parseFloat(t[fD[e]])>0}}function Xy(e){return{value:e.key,title:e.key}}function yD(e){var t={value:e.value,title:e.description||e.value};return e.count&&(t.count=e.count),t}function bD(e){return{value:e.role,title:e.role}}function xD(e,t){return-1===e.key.indexOf(":")&&-1!==t.key.indexOf(":")?-1:-1!==e.key.indexOf(":")&&-1===t.key.indexOf(":")?1:0}var G2=ft(W4,300,{leading:!1});function W4(e,t,n,r,i){if(!Zo[e]&&!wD(e,t,n,r)){var a=new AbortController;Zo[e]=a,mt(e,{signal:a.signal}).then((function(t){delete Zo[e],i&&i(null,t)})).catch((function(t){delete Zo[e],"AbortError"!==t.name&&i&&i(t.message)}))}}function wD(e,t,n,r){var i=t.rp||25,a=t.query||"",o=e;do{var s=Yo[o];if(s&&(e===o||s.length<i))return r(null,s),!0;if(n||!a.length)return!1;a=a.slice(0,-1),o=e.replace(/&query=(.*?)&/,"&query="+a+"&")}while(a.length>=0);return!1}var O8={init:function(){Zo={},Yo={},T8={postal_code:!0,full_name:!0,loc_name:!0,reg_name:!0,short_name:!0,sorting_name:!0,artist_name:!0,nat_name:!0,long_name:!0,"bridge:name":!0};var e={rp:100,sortname:"values_all",sortorder:"desc",page:1,debounce:!1,lang:le.languageCode()};this.keys(e,(function(e,t){e||t.forEach((function(e){"opening_hours"!==e.value&&(T8[e.value]=!0)}))}))},reset:function(){Object.values(Zo).forEach((function(e){e.abort()})),Zo={}},keys:function(e,t){var n=e.debounce?G2:W4;e=$2(M6(e)),e=Object.assign({rp:10,sortname:"count_all",sortorder:"desc",page:1,lang:le.languageCode()},e);var r=Xo+"keys/all?"+$e(e);n(r,e,!1,t,(function(n,i){if(n)t(n);else{var a=mD(e.filter),o=i.data.filter(a).sort(xD).map(Xy);Yo[r]=o,t(null,o)}}))},multikeys:function(e,t){var n=e.debounce?G2:W4;e=$2(M6(e));var r=(e=Object.assign({rp:25,sortname:"count_all",sortorder:"desc",page:1,lang:le.languageCode()},e)).query,i=Xo+"keys/all?"+$e(e);n(i,e,!0,t,(function(e,n){if(e)t(e);else{var a=hD(r),o=n.data.filter(a).map(Xy);Yo[i]=o,t(null,o)}}))},values:function(e,t){var n=e.key;if(n&&T8[n])t(null,[]);else{var r=e.debounce?G2:W4;e=$2(M6(dD(e))),e=Object.assign({rp:25,sortname:"count_all",sortorder:"desc",page:1,lang:le.languageCode()},e);var i=Xo+"key/values?"+$e(e);r(i,e,!1,t,(function(n,r){if(n)t(n);else{var a=gD(/network|taxon|genus|species|brand|grape_variety|royal_cypher|listed_status|booth|rating|stars|:output|_hours|_times|_ref|manufacturer|country|target|brewery|cai_scale/.test(e.key)),o=r.data.filter(a).map(yD);Yo[i]=o,t(null,o)}}))}},roles:function(e,t){var n=e.debounce?G2:W4,r=e.geometry;e=$2(pD(e)),e=Object.assign({rp:25,sortname:"count_all_members",sortorder:"desc",page:1,lang:le.languageCode()},e);var i=Xo+"relation/roles?"+$e(e);n(i,e,!0,t,(function(e,n){if(e)t(e);else{var a=vD(r),o=n.data.filter(a).map(bD);Yo[i]=o,t(null,o)}}))},docs:function(e,t){var n=e.debounce?G2:W4,r="key/wiki_pages?";(e=$2(M6(e))).value?r="tag/wiki_pages?":e.rtype&&(r="relation/wiki_pages?");var i=Xo+r+$e(e);n(i,e,!0,t,(function(e,n){e?t(e):(Yo[i]=n.data,t(null,n.data))}))},apibase:function(e){return arguments.length?(Xo=e,this):Xo}},sb=je(zn()),ln=6371008.8,wbe={centimeters:100*ln,centimetres:100*ln,degrees:ln/111325,feet:3.28084*ln,inches:39.37*ln,kilometers:ln/1e3,kilometres:ln/1e3,meters:ln,metres:ln,miles:ln/1609.344,millimeters:1e3*ln,millimetres:1e3*ln,nauticalmiles:ln/1852,radians:1,yards:1.0936*ln},_be={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/ln,yards:1.0936133};function I6(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function Yy(e,t,n){void 0===n&&(n={});for(var r=0,i=e;r<i.length;r++){var a=i[r];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}return I6({type:"Polygon",coordinates:e},t,n)}function Zy(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return I6({type:"LineString",coordinates:e},t,n)}function Jy(e,t,n){return void 0===n&&(n={}),I6({type:"MultiLineString",coordinates:e},t,n)}function eb(e,t,n){return void 0===n&&(n={}),I6({type:"MultiPolygon",coordinates:e},t,n)}function tb(e){return"Feature"===e.type?e.geometry:e}function rb(e,t,n){var r,i,a,o,s,l=e.length,c=K4(e[0],t),u=[];for(n||(n=[]),r=1;r<l;r++){for(o=e[r-1],i=a=K4(s=e[r],t);;){if(!(c|i)){u.push(o),i!==a?(u.push(s),r<l-1&&(n.push(u),u=[])):r===l-1&&u.push(s);break}if(c&i)break;c?c=K4(o=P8(o,s,c,t),t):i=K4(s=P8(o,s,i,t),t)}c=a}return u.length&&n.push(u),n}function nb(e,t){var n,r,i,a,o,s,l;for(r=1;r<=8;r*=2){for(n=[],a=!(K4(i=e[e.length-1],t)&r),o=0;o<e.length;o++)(l=!(K4(s=e[o],t)&r))!==a&&n.push(P8(i,s,r,t)),l&&n.push(s),i=s,a=l;if(!(e=n).length)break}return n}function P8(e,t,n,r){return 8&n?[e[0]+(t[0]-e[0])*(r[3]-e[1])/(t[1]-e[1]),r[3]]:4&n?[e[0]+(t[0]-e[0])*(r[1]-e[1])/(t[1]-e[1]),r[1]]:2&n?[r[2],e[1]+(t[1]-e[1])*(r[2]-e[0])/(t[0]-e[0])]:1&n?[r[0],e[1]+(t[1]-e[1])*(r[0]-e[0])/(t[0]-e[0])]:null}function K4(e,t){var n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}function R8(e,t){var n=tb(e),r=n.type,i="Feature"===e.type?e.properties:{},a=n.coordinates;switch(r){case"LineString":case"MultiLineString":var o=[];return"LineString"===r&&(a=[a]),a.forEach((function(e){rb(e,t,o)})),1===o.length?Zy(o[0],i):Jy(o,i);case"Polygon":return Yy(ib(a,t),i);case"MultiPolygon":return eb(a.map((function(e){return ib(e,t)})),i);default:throw new Error("geometry "+r+" not supported")}}function ib(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var a=nb(i[r],t);a.length>0&&((a[0][0]!==a[a.length-1][0]||a[0][1]!==a[a.length-1][1])&&a.push(a[0]),a.length>=4&&n.push(a))}return n}var L8=je(Q9()),lb=je(wu()),ub=je(u9()),cb=je(d9()),ab=Jt().tileSize(512).margin(1),fb=se("loadedData"),sa;function ob(e){e.abort()}function _D(e,t,n){var r=new cb.default.VectorTile(new ub.default(e)),i=Object.keys(r.layers);Array.isArray(i)||(i=[i]);var a=[];return i.forEach((function(e){var i=r.layers[e];if(i)for(var o=0;o<i.length;o++){var s=i.feature(o).toGeoJSON(t.xyz[0],t.xyz[1],t.xyz[2]),l=s.geometry;"Polygon"===l.type&&(l.type="MultiPolygon",l.coordinates=[l.coordinates]);var c=!1;if("MultiPolygon"===l.type){var u=R8(s,t.extent.rectangle());if((0,sb.default)(s.geometry,u.geometry)||(c=!0),!s.geometry.coordinates.length||!s.geometry.coordinates[0].length)continue}var d=Yi((0,L8.default)(s)),p=Yi((0,L8.default)(s.properties||{}));if(s.__layerID__=e.replace(/[^_a-zA-Z0-9\-]/g,"_"),s.__featurehash__=d,s.__propertyhash__=p,a.push(s),c&&"MultiPolygon"===l.type){var f=n[p];if(f&&f.length){var h=f[0],g=lb.default.union(s.geometry.coordinates,h.geometry.coordinates);if(!g||!g.length)continue;f.push(s);for(var m=0;m<f.length;m++)f[m].geometry.coordinates=g,f[m].__featurehash__=d}else n[p]=[s]}}})),a}function kD(e,t){if(!e.loaded[t.id]&&!e.inflight[t.id]){var n=e.template.replace("{x}",t.xyz[0]).replace("{y}",t.xyz[1]).replace(/\{[t-]y\}/,Math.pow(2,t.xyz[2])-t.xyz[1]-1).replace(/\{z(oom)?\}/,t.xyz[2]).replace(/\{switch:([^}]+)\}/,(function(e,n){var r=n.split(",");return r[(t.xyz[0]+t.xyz[1])%r.length]})),r=new AbortController;e.inflight[t.id]=r,fetch(n,{signal:r.signal}).then((function(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return e.loaded[t.id]=[],delete e.inflight[t.id],n.arrayBuffer()})).then((function(n){if(!n)throw new Error("No Data");var r=t.xyz[2];e.canMerge[r]||(e.canMerge[r]={}),e.loaded[t.id]=_D(n,t,e.canMerge[r]),fb.call("loadedData")})).catch((function(){e.loaded[t.id]=[],delete e.inflight[t.id]}))}}var B8={init:function(){sa||this.reset(),this.event=fe(this,fb,"on")},reset:function(){for(var e in sa){var t=sa[e];t&&t.inflight&&Object.values(t.inflight).forEach(ob)}sa={}},addSource:function(e,t){return sa[e]={template:t,inflight:{},loaded:{},canMerge:{}},sa[e]},data:function(e,t){var n=sa[e];if(!n)return[];for(var r=ab.getTiles(t),i={},a=[],o=0;o<r.length;o++){var s=n.loaded[r[o].id];if(s&&s.length)for(var l=0;l<s.length;l++){var c=s[l],u=c.__featurehash__;i[u]||(i[u]=!0,a.push(Object.assign({},c)))}}return a},loadTiles:function(e,t,n){var r=sa[e];r||(r=this.addSource(e,t));var i=ab.getTiles(n);Object.keys(r.inflight).forEach((function(e){i.find((function(t){return e===t.id}))||(ob(r.inflight[e]),delete r.inflight[e])})),i.forEach((function(e){kD(r,e)}))},cache:function(){return sa}},U8="https://www.wikidata.org/w/api.php?",z8={},q8={init:function(){},reset:function(){z8={}},itemsForSearchQuery:function(e,t){if(e){var n=this.languagesToQuery()[0];mt(U8+$e({action:"wbsearchentities",format:"json",formatversion:2,search:e,type:"item",language:n,uselang:n,limit:10,origin:"*"})).then((function(e){if(e&&e.error)throw new Error(e.error);t&&t(null,e.search||{})})).catch((function(e){t&&t(e.message,{})}))}else t&&t("No query",{})},itemsByTitle:function(e,t,n){t?mt(U8+$e({action:"wbgetentities",format:"json",formatversion:2,sites:(e=e||"en").replace(/-/g,"_")+"wiki",titles:t,languages:"en",origin:"*"})).then((function(e){if(e&&e.error)throw new Error(e.error);n&&n(null,e.entities||{})})).catch((function(e){n&&n(e.message,{})})):n&&n("No title",{})},languagesToQuery:function(){return le.localeCodes().map((function(e){return e.toLowerCase()})).filter((function(e){return"en-us"!==e}))},entityByQID:function(e,t){if(e)if(z8[e])t&&t(null,z8[e]);else{var n=this.languagesToQuery();mt(U8+$e({action:"wbgetentities",format:"json",formatversion:2,ids:e,props:"labels|descriptions|claims|sitelinks",sitefilter:n.map((function(e){return e+"wiki"})).join("|"),languages:n.join("|"),languagefallback:1,origin:"*"})).then((function(n){if(n&&n.error)throw new Error(n.error);t&&t(null,n.entities[e]||{})})).catch((function(e){t&&t(e.message,{})}))}else t("No qid",{})},getDocs:function(e,t){var n=this.languagesToQuery();this.entityByQID(e.qid,(function(e,r){if(!e&&r){var i,a;for(i in n){let e=n[i];if(r.descriptions[e]&&r.descriptions[e].language===e){a=r.descriptions[e];break}}!a&&Object.values(r.descriptions).length&&(a=Object.values(r.descriptions)[0]);var o={title:r.id,description:a?a.value:"",descriptionLocaleCode:a?a.language:"",editURL:"https://www.wikidata.org/wiki/"+r.id};if(r.claims){var s,l,c=["P154","P18"];for(i=0;i<c.length;i++)if((s=r.claims[c[i]])&&Object.keys(s).length>0&&(l=s[Object.keys(s)[0]].mainsnak.datavalue.value)){o.imageURL="https://commons.wikimedia.org/w/index.php?"+$e({title:"Special:Redirect/file/"+l,width:400});break}}if(r.sitelinks){var u="en"===le.languageCode().toLowerCase();for(i=0;i<n.length;i++){var d=n[i]+"wiki";if(r.sitelinks[d]){var p=r.sitelinks[d].title,f="inspector.wiki_reference";!u&&"en"===n[i]&&(f="inspector.wiki_en_reference"),o.wiki={title:p,text:f,url:"https://"+n[i]+".wikipedia.org/wiki/"+p.replace(/ /g,"_")};break}}}t(null,o)}else t(e||"No entity")}))}},V8="https://en.wikipedia.org/w/api.php?",j8={init:function(){},reset:function(){},search:function(e,t,n){t?(e=e||"en",mt(V8.replace("en",e)+$e({action:"query",list:"search",srlimit:"10",srinfo:"suggestion",format:"json",origin:"*",srsearch:t})).then((function(e){if(e&&e.error)throw new Error(e.error);if(!e||!e.query||!e.query.search)throw new Error("No Results");if(n){var t=e.query.search.map((function(e){return e.title}));n(null,t)}})).catch((function(e){n&&n(e,[])}))):n&&n("No Query",[])},suggestions:function(e,t,n){t?(e=e||"en",mt(V8.replace("en",e)+$e({action:"opensearch",namespace:0,suggest:"",format:"json",origin:"*",search:t})).then((function(e){if(e&&e.error)throw new Error(e.error);if(!e||e.length<2)throw new Error("No Results");n&&n(null,e[1]||[])})).catch((function(e){n&&n(e.message,[])}))):n&&n("",[])},translations:function(e,t,n){t?mt(V8.replace("en",e)+$e({action:"query",prop:"langlinks",format:"json",origin:"*",lllimit:500,titles:t})).then((function(e){if(e&&e.error)throw new Error(e.error);if(!e||!e.query||!e.query.pages)throw new Error("No Results");if(n){var t=e.query.pages[Object.keys(e.query.pages)[0]],r={};t&&t.langlinks&&t.langlinks.forEach((function(e){r[e.lang]=e["*"]})),n(null,r)}})).catch((function(e){n&&n(e.message)})):n&&n("No Title")}},ne={geocoder:k9,keepRight:r9,improveOSM:i9,osmose:o9,mapillary:x9,nsi:d8,kartaview:p8,osm:n4,osmWikibase:M8,maprules:w9,streetside:I8,taginfo:O8,vectorTile:B8,wikidata:q8,wikipedia:j8};function Hn(e){var t,n,r,i={id:"drag-note",button:"browse"},a=qn(e);function o(){t&&(window.clearInterval(t),t=null)}function s(t,i){i=i||[0,0];var a=pt(t&&t.point||e.projection(n),i),o=e.projection.invert(a);r=r.move(o);var s=ne.osm;s&&s.replaceNote(r),e.replace(Er())}var l=r4().selector(".layer-touch.markers .target.note.new").surface(e.container().select(".main-map").node()).origin((function(t){return e.projection(t.loc)})).on("start",(function(t,n){r=n;var a=ne.osm;a&&(r=a.getNote(r.id)),e.surface().selectAll(".note-"+r.id).classed("active",!0),e.perform(Er()),e.enter(i),e.selectedNoteID(r.id)})).on("move",(function(r,i,a){r.stopPropagation(),n=e.projection.invert(a),s(r);var l=_a(a,e.map().dimensions());l?function(n,r){t&&window.clearInterval(t),t=window.setInterval((function(){e.map().pan(r),s(n,r)}),50)}(r,l):o()})).on("end",(function(){e.replace(Er()),e.selectedNoteID(r.id).enter(Za(e,r.id))}));return i.enter=function(){e.install(a)},i.exit=function(){e.ui().sidebar.hover.cancel(),e.uninstall(a),e.surface().selectAll(".active").classed("active",!1),o()},i.behavior=l,i}function J5(e,t){var n={id:"select-data",button:"browse"},r=Ie("select-data"),i=U4(e),a=[Vn(e),qr(e),Wn(e),Kn(e),jn(e).behavior,Hn(e).behavior];function o(n,r){var i=e.surface().selectAll(".layer-mapdata .data"+t.__featurehash__);if(i.empty()){var a=n&&"zoom"===n.type&&n.sourceEvent;r&&a&&("pointermove"===a.type||"mousemove"===a.type||"touchmove"===a.type)&&e.enter(be(e))}else i.classed("selected",!0)}function s(){e.container().select(".combobox").size()||e.enter(be(e))}return n.zoomToSelected=function(){var n=he(l1(t));e.map().centerZoomEase(n.center(),e.map().trimmedExtentZoom(n))},n.enter=function(){a.forEach(e.install),r.on(C("inspector.zoom_to.key"),n.zoomToSelected).on("\u238b",s,!0),$(document).call(r),o();var l=e.ui().sidebar;l.show(i.datum(t));var c=he(l1(t));l.expand(l.intersects(c)),e.map().on("drawn.select-data",o)},n.exit=function(){a.forEach(e.uninstall),$(document).call(r.unbind),e.surface().selectAll(".layer-mapdata .selected").classed("selected hover",!1),e.map().on("drawn.select-data",null),e.ui().sidebar.hide()},n}function Wn(e){var t=null,n=!1,r={},i=null,a=null,o=null,s="PointerEvent"in window?"pointer":"mouse";function l(n){if(32===n.keyCode){var a=document.activeElement;if(a&&new Set(["INPUT","TEXTAREA"]).has(a.nodeName))return}(93===n.keyCode||32===n.keyCode)&&n.preventDefault(),!n.repeat&&(y(),n.shiftKey&&e.surface().classed("behavior-multiselect",!0),32===n.keyCode&&!r.spacebar&&t&&(y(),i=window.setTimeout(d,500,"spacebar","spacebar"),r.spacebar={firstEvent:t,lastEvent:t}))}function c(t){if(y(),t.shiftKey||e.surface().classed("behavior-multiselect",!1),93===t.keyCode)t.preventDefault(),a="menukey",g(t);else if(32===t.keyCode){var n=r.spacebar;if(n){if(delete r.spacebar,n.done)return;t.preventDefault(),a="spacebar",m(n.firstEvent,n.lastEvent,"spacebar")}}}function u(t){var n=(t.pointerId||"mouse").toString();y(),(!t.buttons||1===t.buttons)&&(e.ui().closeEditMenu(),i=window.setTimeout(d,500,n,"longdown-"+(t.pointerType||"mouse")),r[n]={firstEvent:t,lastEvent:t})}function d(e,t){var o=r[e];if(o){for(var s in r)r[s].done=!0;i=null,a=t,n=!0,m(o.firstEvent,o.lastEvent,e)}}function p(e){var n=(e.pointerId||"mouse").toString();r[n]&&(r[n].lastEvent=e),(!e.pointerType||"mouse"===e.pointerType)&&(t=e,r.spacebar&&(r.spacebar.lastEvent=e))}function f(e){var t=(e.pointerId||"mouse").toString(),n=r[t];!n||(delete r[t],o===t&&(o=null),!n.done&&m(n.firstEvent,e,t))}function h(e){var t=(e.pointerId||"mouse").toString();!r[t]||(delete r[t],o===t&&(o=null))}function g(e){if(e.preventDefault(),+e.clientX||+e.clientY)t=e,a="rightclick";else{if(!t)return;e.sourceEvent=t}n=!0,m(e,e)}function m(t,i,s){y();var l=e.container().select(".main-map").node(),c=er(l),u=c(t),d=c(i);if(Qe(u,d)>4||!function(e){var t=l.getBoundingClientRect();return e.clientX>=t.left&&e.clientX<=t.right&&e.clientY>=t.top&&e.clientY<=t.bottom}(i))v();else{var p,f=i.target.__data__;if(!o){var h=function(t){var n=e.mode(),i="select"===n.id?n.selectedIDs():[];for(var a in r)if("spacebar"!==a&&a!==t){var o=r[a],s=c(o.firstEvent),l=c(o.lastEvent);if(!(Qe(s,l)>4)){var u=o.firstEvent.target.__data__,d=u&&u.properties&&u.properties.entity||u;if(e.graph().hasEntity(d.id))return{pointerId:a,entityId:d.id,selected:-1!==i.indexOf(d.id)}}}return null}(s);h&&(o=h.pointerId,p=!h.selected&&h.entityId,r[h.pointerId].done=!0)}!function(t,r,i,o){var s,l=e.mode(),c=n,u=a,d=t&&t.properties&&t.properties.entity;if(d&&(t=d),t&&"midpoint"===t.type&&(t=t.parents[0]),t instanceof ye){var p=e.selectedIDs();e.selectedNoteID(null),e.selectedErrorID(null),r?-1!==p.indexOf(t.id)?c||(p=p.filter((function(e){return e!==t.id})),s=p.length?l.selectedIDs(p):be(e).selectBehavior(b),e.enter(s)):(p=p.concat([t.id]),s=l.selectedIDs(p),e.enter(s)):(!c||p.length<=1||-1===p.indexOf(t.id))&&(o===t.id&&(o=null),p=(o?[o]:[]).concat([t.id]),s="select"===l.id?l.selectedIDs(p):Ce(e,p).selectBehavior(b),e.enter(s))}else t&&t.__featurehash__&&!r?e.selectedNoteID(null).enter(J5(e,t)):t instanceof Rt&&!r?e.selectedNoteID(t.id).enter(Za(e,t.id)):t instanceof Et&&!r?e.selectedErrorID(t.id).enter(Z5(e,t.id,t.service)):(e.selectedNoteID(null),e.selectedErrorID(null),!r&&"browse"!==l.id&&e.enter(be(e)));e.ui().closeEditMenu(),c&&e.ui().showEditMenu(i,u),v()}(f,"select"===e.mode().id&&(i&&i.shiftKey||e.surface().select(".lasso").node()||o&&!p),d,p)}}function y(){i&&window.clearTimeout(i),i=null}function v(){y(),n=!1,a=null}function b(n){v(),t=e.map().lastPointerEvent(),$(window).on("keydown.select",l).on("keyup.select",c).on(s+"move.select",p,!0).on(s+"up.select",f,!0).on("pointercancel.select",h,!0).on("contextmenu.select-window",(function(e){var t=e;0==+t.clientX&&0==+t.clientY&&e.preventDefault()})),n.on(s+"down.select",u).on("contextmenu.select",g)}return b.off=function(t){y(),$(window).on("keydown.select",null).on("keyup.select",null).on("contextmenu.select-window",null).on(s+"move.select",null,!0).on(s+"up.select",null,!0).on("pointercancel.select",null,!0),t.on(s+"down.select",null).on("contextmenu.select",null),e.surface().classed("behavior-multiselect",!1)},b}var Y8={};function Q8(e,t){var n=t.map((function(t){return e.graph().entity(t)})),r=Object.assign({line:[],vertex:[]},Ct(n,(function(t){return t.geometry(e.graph())}))),i=r.vertex.length&&r.vertex[0];var a=i?e.graph().parentWays(i).filter((function(t){return"line"===t.geometry(e.graph())&&!t.isClosed()&&t.affix(i.id)&&(0===r.line.length||r.line[0]===t)})):[],o=function(){var t=a[0];e.enter(Qn(e,t.id,e.graph(),"line",t.affix(i.id),!0))};return o.relatedEntityIds=function(){return a.length?[a[0].id]:[]},o.available=function(){return 1===r.vertex.length&&r.line.length<=1&&!e.features().hasHiddenConnections(i,e.graph())},o.disabled=function(){return 0===a.length?"not_eligible":a.length>1&&"multiple"},o.tooltip=function(){var e=o.disabled();return C(e?"operations.continue."+e:"operations.continue.description")},o.annotation=function(){return C("operations.continue.annotation.line")},o.id="continue",o.keys=[C("operations.continue.key")],o.title=C("operations.continue.title"),o.behavior=At(e).which(o),o}function H2(e,t){function n(){return t.filter((function(t){var n=e.graph().hasEntity(t);return n.hasInterestingTags()||"vertex"!==n.geometry(e.graph())}))}var r,i=function(){var t,i,o=e.graph(),s=function(e,t){var n=e.map((function(e){return t.entity(e)}));return Object.assign({relation:[],way:[],node:[]},Ct(n,"type"))}(n(),o),l=[],c={};for(i=0;i<s.relation.length;i++)!c[(t=s.relation[i]).id]&&t.isComplete(o)&&(l.push(t.id),c=a(t.id,o,c));for(i=0;i<s.way.length;i++)c[(t=s.way[i]).id]||(l.push(t.id),c=a(t.id,o,c));for(i=0;i<s.node.length;i++)c[(t=s.node[i]).id]||l.push(t.id);e.copyIDs(l),!r||1===l.length&&"node"===o.entity(l[0]).type?e.copyLonLat(null):e.copyLonLat(e.projection.invert(r))};function a(e,t,n){var r,i=t.entity(e);n=n||{},r="relation"===i.type?i.members.map((function(e){return e.id})):"way"===i.type?i.nodes:[];for(var o=0;o<r.length;o++)n[r[o]]||(n[r[o]]=!0,n=a(r[o],t,n));return n}return i.available=function(){return n().length>0},i.disabled=function(){return Ft(n(),e.graph()).percentContainedIn(e.map().extent())<.8&&"too_large"},i.availableForKeypress=function(){var e=window.getSelection&&window.getSelection();return!e||!e.toString()},i.tooltip=function(){var e=i.disabled();return C(e?"operations.copy."+e:"operations.copy.description",{n:t.length})},i.annotation=function(){return C("operations.copy.annotation",{n:t.length})},i.point=function(e){return r=e,i},i.id="copy",i.keys=[Ne("\u2318C")],i.title=C("operations.copy.title"),i.behavior=At(e).which(i),i}function $8(e,t){var n=[],r=[],i=[],a=[];t.forEach((function(t){var a=e.entity(t);"way"===a.type?r.push(t):"vertex"===a.geometry(e.graph())?n.push(t):i.push(t)}));var o,s="",l="features",c=[],u=[];if(n.length>0)c=n,n.forEach((function(t){var n=f2(t);if(r.length>0){var i=r.filter((function(n){return-1!==e.entity(n).nodes.indexOf(t)}));n.limitWays(i)}a.push(n),u=u.concat(e.graph().parentWays(e.graph().entity(t)).map(e=>e.id))})),u=Te(u).filter((function(e){return-1===r.indexOf(e)})),s+=1===a.length?"single_point.":"multiple_points.",1===r.length?s+="single_way."+e.graph().geometry(r[0]):s+=0===r.length?"no_ways":"multiple_ways";else if(r.length>0){var d=r.map((function(t){return e.entity(t)})),p=_t(r,e.graph());o=p.map((function(e){return e.loc}));var f=[],h=[],g=[],m=[];p.forEach((function(t){var n=f2(t.id).limitWays(r);if("not_connected"!==n.disabled(e.graph())){var i=0;for(var a in d){if(-1!==d[a].nodes.indexOf(t.id)&&(i+=1),i>1)break}i>1?(f.push(n),h.push(t)):(g.push(n),m.push(t))}})),s+="no_points.",s+=1===r.length?"single_way.":"multiple_ways.",f.length?(a=f,c=h.map(e=>e.id),s+="conjoined",l="from_each_other"):(a=g,c=m.map(e=>e.id),1===r.length?s+=e.graph().geometry(r[0]):s+="separate")}var y=Ft(c,e.graph()),v=function(){e.perform((function(e){return a.reduce((function(e,t){return t(e)}),e)}),v.annotation()),e.validator().validate()};return v.relatedEntityIds=function(){return n.length?u:c},v.available=function(){return!(0===a.length||0!==i.length||0!==n.length&&0!==r.length&&!r.every((function(t){return n.some((function(n){return-1!==e.entity(t).nodes.indexOf(n)}))})))},v.disabled=function(){var i;for(var s in a)if(i=a[s].disabled(e.graph()))return i;return y&&y.percentContainedIn(e.map().extent())<.8?"too_large."+(1===(n.length?n:r).length?"single":"multiple"):o&&function(){if(e.inIntro())return!1;var t=e.connection();if(t){var n=o.filter((function(e){return!t.isDataLoaded(e)}));if(n.length)return n.forEach((function(t){e.loadTileAtLoc(t)})),!0}return!1}()?"not_downloaded":!!t.some(e.hasHiddenConnections)&&"connected_to_hidden"},v.tooltip=function(){var e=v.disabled();return C(e?"operations.disconnect."+e:"operations.disconnect.description."+s)},v.annotation=function(){return C("operations.disconnect.annotation."+l)},v.id="disconnect",v.keys=[C("operations.disconnect.key")],v.title=C("operations.disconnect.title"),v.behavior=At(e).which(v),v}function W2(e,t){var n=0,r=function(e){var t;for(var r in n=0,e){var i=a(e[r]);i&&(n+=1,t=t&&i!==t?"generic"!==t&&"generic"!==i?"building_address":"generic":i)}return t}(t),i=1===n?"single":"multiple";function a(t){var n=e.graph(),r=n.entity(t),i=ve.match(r,n);if(!i||i.isFallback())return null;if("node"===r.type&&"address"!==i.id&&Object.keys(r.tags).some((function(e){return e.match(/^addr:.{1,}/)})))return"address";var a=r.geometry(n);return"area"===a&&r.tags.building&&!i.tags.building?"building":"vertex"===a&&Object.keys(r.tags).length?"generic":null}var o=["architect","building","height","layer","source","type","wheelchair"],s=["source"],l=function(){e.perform((function(e){for(var n in t){var r=t[n],i=a(r);if(i){var l=Object.assign({},e.entity(r).tags);for(var c in l)"address"===i&&-1!==s.indexOf(c)||"building"===i&&(-1!==o.indexOf(c)||c.match(/^building:.{1,}/)||c.match(/^roof:.{1,}/))||"generic"!==i&&(c.match(/^addr:.{1,}/)||c.match(/^source:.{1,}/))||delete l[c];e=Pt(r,l)(e)}}return e}),l.annotation()),e.validator().validate(),e.enter(Ce(e,t))};return l.available=function(){return r},l.disabled=function(){return!!t.some((function(t){var n=e.entity(t);return n.tags.wikidata&&n.tags.wikidata.trim().length>0}))&&"has_wikidata_tag"},l.tooltip=function(){var e=l.disabled();return C(e?"operations.downgrade."+e+"."+i:"operations.downgrade.description."+r)},l.annotation=function(){return C("operations.downgrade.annotation."+("building_address"===r?"generic":r),{n:n})},l.id="downgrade",l.keys=[Ne("\u232b")],l.title=C("operations.downgrade.title"),l.behavior=At(e).which(l),l}function G8(e,t){var n,r=1===t.length?"single":"multiple",i=Te(t.map((function(t){return e.graph().hasEntity(t)&&e.graph().geometry(t)})).filter(Boolean)),a=1===i.length?i[0]:"feature",o=t.map((function(t){var r=e.graph(),i=r.hasEntity(t);if(!i||!i.hasInterestingTags()||"node"===i.type&&0===r.parentWays(i).length)return null;if("node"!==i.type&&-1===ve.match(i,r).geometry.indexOf("point"))return null;return n=n?n.extend(i.extent(r)):i.extent(r),W1(t,e.projection)})).filter(Boolean),s=function(){e.perform((function(e){return o.forEach((function(t){e=t(e)})),e}),s.annotation());var t=o.map((function(e){return e.getExtractedNodeID()}));e.enter(Ce(e,t))};return s.available=function(){return o.length&&t.length===o.length},s.disabled=function(){return n&&n.percentContainedIn(e.map().extent())<.8?"too_large":!!t.some((function(t){return"vertex"===e.graph().geometry(t)&&e.hasHiddenConnections(t)}))&&"connected_to_hidden"},s.tooltip=function(){var e=s.disabled();return C(e?"operations.extract."+e+"."+r:"operations.extract.description."+a+"."+r)},s.annotation=function(){return C("operations.extract.annotation",{n:t.length})},s.id="extract",s.keys=[C("operations.extract.key")],s.title=C("operations.extract.title"),s.behavior=At(e).which(s),s}function H8(e,t){var n=function(){var n=P3(t);if(!n.disabled(e.graph()))return n;var r=R3(t);if(!r.disabled(e.graph()))return r;var i=B3(t);if(!i.disabled(e.graph()))return i;var a=_n(t);return a.disabled(e.graph())?"not_eligible"!==n.disabled(e.graph())?n:"not_eligible"!==r.disabled(e.graph())?r:"not_eligible"!==i.disabled(e.graph())?i:a:a}();var r=function(){if(!r.disabled()){e.perform(n,r.annotation()),e.validator().validate();var i=t.filter(e.hasEntity);if(i.length>1){var a=i.filter((function(t){return e.entity(t).hasInterestingTags()}));a.length&&(i=a)}e.enter(Ce(e,i))}};return r.available=function(){return t.length>=2},r.disabled=function(){var t=n.disabled(e.graph());if(t)return t;var r=e.connection();return!!(r&&n.resultingWayNodesLength&&n.resultingWayNodesLength(e.graph())>r.maxWayNodes())&&"too_many_vertices"},r.tooltip=function(){var e=r.disabled();return e?"conflicting_relations"===e?C("operations.merge.conflicting_relations"):"restriction"===e||"connectivity"===e?C("operations.merge.damage_relation",{relation:ve.item("type/"+e).name()}):C("operations.merge."+e):C("operations.merge.description")},r.annotation=function(){return C("operations.merge.annotation",{n:t.length})},r.id="merge",r.keys=[C("operations.merge.key")],r.title=C("operations.merge.title"),r.behavior=At(e).which(r),r}function K2(e){var t,n=function(){if(t){var r=e.copyIDs();if(r.length){var i=e.projection,a=he(),o=e.copyGraph(),s=[],l=H1(r,o);e.perform(l);var c=l.copies(),u=new Set;for(var d in Object.values(c).forEach((function(e){u.add(e.id)})),c){var p=o.entity(d),f=c[d];a._extend(p.extent(o)),e.graph().parentWays(f).some((function(e){return u.has(e.id)}))||s.push(f.id)}var h=e.copyLonLat()&&i(e.copyLonLat())||i(a.center()),g=pt(t,h);e.replace(Fi(s,g,i),n.annotation()),e.enter(Ce(e,s))}}};return n.point=function(e){return t=e,n},n.available=function(){return"browse"===e.mode().id},n.disabled=function(){return!e.copyIDs().length},n.tooltip=function(){var t=e.copyGraph(),n=e.copyIDs();return n.length?C("operations.paste.description",{feature:Ke(t.entity(n[0]),t),n:n.length}):C("operations.paste.nothing_copied")},n.annotation=function(){var t=e.copyIDs();return C("operations.paste.annotation",{n:t.length})},n.id="paste",n.keys=[Ne("\u2318V")],n.title=C("operations.paste.title"),n}function W8(e,t){var n=function(){e.perform((function(e){return r().forEach((function(t){e=t(e)})),e}),n.annotation()),e.validator().validate()};function r(n){return t.map((function(t){var r=e.hasEntity(t);if(!r||"toolbar"===n&&"way"===r.type&&!r.isOneWay()&&!r.isSided())return null;var i=r.geometry(e.graph());if("node"!==r.type&&"line"!==i)return null;var a=Mn(t);return a.disabled(e.graph())?null:a})).filter(Boolean)}function i(){var t=r(),n=t.filter((function(t){var n=e.hasEntity(t.entityID());return n&&"node"===n.type})).length;return 0===n?"line":n===t.length?"point":"feature"}return n.available=function(e){return r(e).length>0},n.disabled=function(){return!1},n.tooltip=function(){return C("operations.reverse.description."+i())},n.annotation=function(){var e=r();return C("operations.reverse.annotation."+i(),{n:e.length})},n.id="reverse",n.keys=[C("operations.reverse.key")],n.title=C("operations.reverse.title"),n.behavior=At(e).which(n),n}function K8(e,t){var n=t.filter((function(t){return"vertex"===e.graph().geometry(t)})),r=t.filter((function(t){var n=e.graph().hasEntity(t);return n&&"way"===n.type})),i=n.length>0&&n.length+r.length===t.length,a=ea(n),o=[],s="feature",l="single",c=1===n.length?"single":"multiple";if(i){r.length&&a.limitWays(r),o=a.ways(e.graph());var u={};o.forEach((function(t){u[t.geometry(e.graph())]=!0})),1===Object.keys(u).length&&(s=Object.keys(u)[0]),l=1===o.length?"single":"multiple"}var d=function(){var t=e.perform(a,d.annotation()),r=n.concat(t.extantIDs().filter((function(t){return"way"===e.entity(t).type})));e.enter(Ce(e,r))};return d.relatedEntityIds=function(){return r.length?[]:o.map(e=>e.id)},d.available=function(){return i},d.disabled=function(){return a.disabled(e.graph())||!!t.some(e.hasHiddenConnections)&&"connected_to_hidden"},d.tooltip=function(){var e=d.disabled();return C(e?"operations.split."+e:"operations.split.description."+s+"."+l+"."+c+"_node")},d.annotation=function(){return C("operations.split.annotation."+s,{n:o.length})},d.icon=function(){return"multiple"===l?"#iD-operation-split-multiple":"#iD-operation-split"},d.id="split",d.keys=[C("operations.split.key")],d.title=C("operations.split.title"),d.behavior=At(e).which(d),d}function X8(e,t){var n,r=t.filter((function(e){return"w"===e.charAt(0)})),i=t.filter((function(e){return"n"===e.charAt(0)})),a=1===(r.length?r:i).length?"single":"multiple",o=_t(t,e.graph()).map((function(e){return e.loc})),s=Ft(t,e.graph()),l=function(){if(0===r.length&&i.length>2)return n="point",V3(i,e.projection);if(r.length>0&&(0===i.length||2===i.length)){for(var a=[],o=[],l=0;l<t.length;l++){var c=e.entity(t[l]);if("node"!==c.type){if("way"!==c.type||c.isClosed())return null;a.push(c.first()),o.push(c.last())}}if(a=a.filter((function(e){return a.indexOf(e)===a.lastIndexOf(e)})),o=o.filter((function(e){return o.indexOf(e)===o.lastIndexOf(e)})),Vt(a,o).length+Vt(o,a).length!==2)return null;var u=_t(r,e.graph()).map((function(e){return e.id}));return u.length<=2||2===i.length&&(-1===u.indexOf(i[0])||-1===u.indexOf(i[1]))?null:(i.length&&(s=Ft(i,e.graph())),n="line",j3(t,e.projection))}return null}();function c(){!l||(e.perform(l,c.annotation()),window.setTimeout((function(){e.validator().validate()}),300))}return c.available=function(){return Boolean(l)},c.disabled=function(){var n=l.disabled(e.graph());return n||(s.percentContainedIn(e.map().extent())<.8?"too_large":function(){if(e.inIntro())return!1;var t=e.connection();if(t){var n=o.filter((function(e){return!t.isDataLoaded(e)}));if(n.length)return n.forEach((function(t){e.loadTileAtLoc(t)})),!0}return!1}()?"not_downloaded":!!t.some(e.hasHiddenConnections)&&"connected_to_hidden")},c.tooltip=function(){var e=c.disabled();return C(e?"operations.straighten."+e+"."+a:"operations.straighten.description."+n+(1===r.length?"":"s"))},c.annotation=function(){return C("operations.straighten.annotation."+n,{n:r.length?r.length:i.length})},c.id="straighten",c.keys=[C("operations.straighten.key")],c.title=C("operations.straighten.title"),c.behavior=At(e).which(c),c}function Ce(e,t){var n,r,i,a={id:"select",button:"browse"},o=Ie("select"),s=Vn(e),l=jn(e),c=[],u=[],d=!1,p=!1;function f(){if(t&&1===t.length)return e.hasEntity(t[0])}function h(){var n=[];return Array.isArray(t)&&(n=t.filter((function(t){return e.hasEntity(t)}))),n.length?t.length>1&&1===n.length||1===t.length&&n.length>1?(e.enter(Ce(e,n)),!1):(t=n,!0):(e.enter(be(e)),!1)}function g(n){for(var r=e.graph(),i=[],a=0;a<t.length;a++){var o=e.hasEntity(t[a]);if(!o||"vertex"!==o.geometry(r))return[];var s=r.parentWays(o).map((function(e){return e.id}));if(i.length){if(!(i=(n?Xt:xt)(i,s)).length)return[]}else i=s}return i}function m(){var e=g(!0);return r&&-1!==e.indexOf(r)?r:e.length?e[0]:null}function y(){u.forEach((function(t){t.behavior&&e.uninstall(t.behavior)})),(u=Object.values(Y8).map((function(n){return n(e,t)})).filter((function(e){return"delete"!==e.id&&"downgrade"!==e.id&&"copy"!==e.id})).concat([H2(e,t),W2(e,t),Vr(e,t)]).filter((function(e){return e.available()}))).forEach((function(t){t.behavior&&e.install(t.behavior)})),e.ui().closeEditMenu()}return a.selectedIDs=function(e){return arguments.length?(t=e,a):t},a.zoomToSelected=function(){e.map().zoomToEase(t.map((function(t){return e.hasEntity(t)})).filter(Boolean))},a.newFeature=function(e){return arguments.length?(d=e,a):d},a.selectBehavior=function(e){return arguments.length?(n=e,a):n},a.follow=function(e){return arguments.length?(p=e,a):p},a.operations=function(){return u},a.enter=function(){if(h()&&(e.features().forceVisible(t),l.restoreSelectedIDs(t),y(),c.length||(n||(n=Wn(e)),c=[t4(e),s,qr(e).on("hover",e.ui().sidebar.hoverModeSelect),n,Kn(e),l.behavior,Hn(e).behavior]),c.forEach(e.install),o.on(C("inspector.zoom_to.key"),a.zoomToSelected).on(["[","pgup"],(function(n){n.preventDefault();var i=m();if(r=i,i){var o=e.entity(i),s=o.nodes.length,l=o.nodes.indexOf(t[0]),c=-1;l>0?c=l-1:o.isClosed()&&(c=s-2),-1!==c&&e.enter(a.selectedIDs([o.nodes[c]]).follow(!0))}})).on(["]","pgdown"],(function(n){n.preventDefault();var i=m();if(r=i,i){var o=e.entity(i),s=o.nodes.length,l=o.nodes.indexOf(t[0]),c=-1;l<s-1?c=l+1:o.isClosed()&&(c=0),-1!==c&&e.enter(a.selectedIDs([o.nodes[c]]).follow(!0))}})).on(["{",Ne("\u2318["),"home"],(function(t){t.preventDefault();var n,i=f(),o=m();i&&"way"===i.type?n=i:o&&(n=e.entity(o)),r=n&&n.id,n&&e.enter(a.selectedIDs([n.first()]).follow(!0))})).on(["}",Ne("\u2318]"),"end"],(function(t){t.preventDefault();var n,i=f(),o=m();i&&"way"===i.type?n=i:o&&(n=e.entity(o)),r=n&&n.id,n&&e.enter(a.selectedIDs([n.last()]).follow(!0))})).on(Ne("\u21e7\u2190"),w([-10,0])).on(Ne("\u21e7\u2191"),w([0,-10])).on(Ne("\u21e7\u2192"),w([10,0])).on(Ne("\u21e7\u2193"),w([0,10])).on(Ne("\u21e7\u2325\u2190"),w([-100,0])).on(Ne("\u21e7\u2325\u2191"),w([0,-100])).on(Ne("\u21e7\u2325\u2192"),w([100,0])).on(Ne("\u21e7\u2325\u2193"),w([0,100])).on(Ie.plusKeys.map(e=>Ne("\u21e7"+e)),_(1.05)).on(Ie.plusKeys.map(e=>Ne("\u21e7\u2325"+e)),_(Math.pow(1.05,5))).on(Ie.minusKeys.map(e=>Ne("\u21e7"+e)),_(1/1.05)).on(Ie.minusKeys.map(e=>Ne("\u21e7\u2325"+e)),_(1/Math.pow(1.05,5))).on(["\\","pause"],(function(t){t.preventDefault();var n=g(!0);if(n&&!(n.length<2)){var i=n.indexOf(r);r=i<0||i>n.length-2?n[0]:n[i+1];var a=e.surface();a.selectAll(".related").classed("related",!1),r&&a.selectAll(xn([r])).classed("related",!0)}})).on(Ne("\u2318\u2191"),(function(t){t.preventDefault();var n=a.selectedIDs(),o=r?[r]:g(!1);!o.length||(e.enter(a.selectedIDs(o)),i=n)})).on(Ne("\u2318\u2193"),(function(n){n.preventDefault();var o=a.selectedIDs(),s=i?i.filter(t=>e.hasEntity(t)):function(n){for(var r=e.graph(),i=[],a=0;a<t.length;a++){var o=e.hasEntity(t[a]);if(!o||!["area","line"].includes(o.geometry(r)))return[];var s=r.childNodes(o).map((function(e){return e.id}));if(i.length){if(!(i=(n?Xt:xt)(i,s)).length)return[]}else i=s}return i}(!0);!s||!s.length||(1===o.length&&(r=o[0]),e.enter(a.selectedIDs(s)))})).on("\u238b",(function(){e.container().select(".combobox").size()||e.enter(be(e))}),!0),$(document).call(o),e.ui().sidebar.select(t,d),e.history().on("change.select",(function(){y(),k()})).on("undone.select",h).on("redone.select",h),e.map().on("drawn.select",k).on("crossEditableZoom.select",(function(){k(),s.restartIfNeeded(e.surface())})),e.map().doubleUpHandler().on("doubleUp.modeSelect",(function(t,n){if(e.map().withinEditableZoom()){var r=$(t.target),i=r.datum(),a=i&&i.properties&&i.properties.entity;if(a)if(a instanceof Ot&&r.classed("target")){var o=wr(e.graph().childNodes(a),n,e.projection),s=a.nodes[o.index-1],l=a.nodes[o.index];e.perform(tr({loc:o.loc,edge:[s,l]},ot()),C("operations.add.annotation.vertex")),e.validator().validate()}else"midpoint"===a.type&&(e.perform(tr({loc:a.loc,edge:a.edge},ot()),C("operations.add.annotation.vertex")),e.validator().validate())}})),k(),p)){var u=he(),v=e.graph();t.forEach((function(t){var n=e.entity(t);u._extend(n.extent(v))}));var b=u.center();e.map().centerEase(b),p=!1}function w(n){return function(){if(e.map().withinEditableZoom()){var r=Io(e,t);r.disabled()?e.ui().flash.duration(4e3).iconName("#iD-operation-"+r.id).iconClass("operation disabled").label(r.tooltip)():(e.perform(Fi(t,n,e.projection),r.annotation()),e.validator().validate())}}}function _(n){return function(){if(!e.map().withinEditableZoom())return;let r=_t(t,e.graph()),i=n>1;if(r.length<=1)return;let a=Ft(t,e.graph());let o=function(){if(i)return!1;let e=Math.abs(a[1][0]-a[0][0]),t=Math.abs(a[1][1]-a[0][1]);return e<xr(1,a[1][1])&&t<Pr(1)}()?"too_small":a.percentContainedIn(e.map().extent())<.8?"too_large":function(){if(e.inIntro())return!1;let t=e.connection();if(t){let n=r.filter((function(e){return!t.isDataLoaded(e.loc)}));if(n.length)return n.forEach((function(t){e.loadTileAtLoc(t)})),!0}return!1}()||t.some((function(t){let n=e.entity(t);return"relation"===n.type&&!n.isComplete(e.graph())}))?"not_downloaded":!!t.some(e.hasHiddenConnections)&&"connected_to_hidden";if(o){let n=1===t.length?"single":"multiple";e.ui().flash.duration(4e3).iconName("#iD-icon-no").iconClass("operation disabled").label(C.html("operations.scale."+o+"."+n))()}else{let r=e.projection(a.center()),o=C("operations.scale.annotation."+(i?"up":"down")+".feature",{n:t.length});e.perform(q3(t,r,n,e.projection),o),e.validator().validate()}}}function k(){if(h()){var n=e.surface();n.selectAll(".selected-member").classed("selected-member",!1),n.selectAll(".selected").classed("selected",!1),n.selectAll(".related").classed("related",!1),r&&-1===g(!0).indexOf(r)&&(r=null),r&&n.selectAll(xn([r])).classed("related",!0),e.map().withinEditableZoom()&&(n.selectAll(S3(t,e.graph(),!0)).classed("selected-member",!0),n.selectAll(a2(t,e.graph())).classed("selected",!0))}}},a.exit=function(){d=!1,i=null,u.forEach((function(t){t.behavior&&e.uninstall(t.behavior)})),u=[],c.forEach(e.uninstall),$(document).call(o.unbind),e.ui().closeEditMenu(),e.history().on("change.select",null).on("undone.select",null).on("redone.select",null);var t=e.surface();t.selectAll(".selected-member").classed("selected-member",!1),t.selectAll(".selected").classed("selected",!1),t.selectAll(".highlighted").classed("highlighted",!1),t.selectAll(".related").classed("related",!1),e.map().on("drawn.select",null),e.ui().sidebar.hide(),e.features().forceVisible([]);var n=f();if(d&&n&&"relation"===n.type&&0===Object.keys(n.tags).length&&0===e.graph().parentRelations(n).length&&(0===n.members.length||1===n.members.length&&!n.members[0].role)){var r=cr(n.id,!0);e.perform(r,C("operations.delete.annotation.relation")),e.validator().validate()}},a}function Kn(e){var t="PointerEvent"in window?"pointer":"mouse",n=function(n){var r;function i(){r||(r=N5(e),e.surface().call(r)),r.p(e.map().mouse())}function a(){if(!r)return[];var t,n=e.graph();if(e.map().editableDataEnabled(!0)&&e.map().isInWideSelection())t=new Set(_t(e.selectedIDs(),n));else if(!e.map().editableDataEnabled())return[];var i=r.extent().map(e.projection.invert),a=he(function(e,t){return[[Math.min(e[0],t[0]),Math.min(e[1],t[1])],[Math.max(e[0],t[0]),Math.max(e[1],t[1])]]}(i[0],i[1])),o=e.history().intersects(a).filter((function(i){return"node"===i.type&&(!t||t.has(i))&&ki(e.projection(i.loc),r.coordinates)&&!e.features().isHidden(i,n,i.geometry(n))}));return o.sort((function(e,t){var r=n.parentWays(e),i=n.parentWays(t);if(r.length&&i.length){var a=Xt(r,i);if(a.length){var o=a[0].nodes;return o.indexOf(e.id)-o.indexOf(t.id)}return parseFloat(r[0].id.slice(1))-parseFloat(i[0].id.slice(1))}return r.length||i.length?r.length-i.length:e.loc[0]-t.loc[0]})),o.map((function(e){return e.id}))}function o(){if($(window).on(t+"move.lasso",null).on(t+"up.lasso",null),r){var n=a();r.close(),n.length&&e.enter(Ce(e,n))}}n.on(t+"down.lasso",(function(e){0===e.button&&!0===e.shiftKey&&(r=null,$(window).on(t+"move.lasso",i).on(t+"up.lasso",o),e.stopPropagation())}))};return n.off=function(e){e.on(t+"down.lasso",null)},n}function be(e){var t,n,r={button:"browse",id:"browse",title:C("modes.browse.title"),description:C("modes.browse.description")},i=[];return r.selectBehavior=function(e){return arguments.length?(n=e,r):n},r.enter=function(){i.length||(n||(n=Wn(e)),i=[t4(e),qr(e).on("hover",e.ui().sidebar.hover),n,Kn(e),jn(e).behavior,Hn(e).behavior]),i.forEach(e.install),document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),t?e.ui().sidebar.show(t):e.ui().sidebar.select(null)},r.exit=function(){e.ui().sidebar.hover.cancel(),i.forEach(e.uninstall),t&&e.ui().sidebar.hide()},r.sidebar=function(e){return arguments.length?(t=e,r):t},r.operations=function(){return[K2(e)]},r}function q4(e){var t=se("start","startFromWay","startFromNode"),n=Di(e);function r(i){n.on("click",(function(){t.apply("start",this,arguments)})).on("clickWay",(function(){t.apply("startFromWay",this,arguments)})).on("clickNode",(function(){t.apply("startFromNode",this,arguments)})).on("cancel",r.cancel).on("finish",r.cancel),e.map().dblclickZoomEnable(!1),i.call(n)}return r.off=function(e){e.call(n.off)},r.cancel=function(){window.setTimeout((function(){e.map().dblclickZoomEnable(!0)}),1e3),e.enter(be(e))},fe(r,t,"on")}function y6(e){var t=null,n=90-1e-8;function r(){return"#"+$e(function(){var t=e.map(),n=t.center(),r=t.zoom(),i=Math.max(0,Math.ceil(Math.log(r)/Math.LN2)),a=Mr(Ut(window.location.hash),["comment","source","hashtags","walkthrough"]),o={};delete a.id;var s=e.selectedIDs().filter((function(t){return e.hasEntity(t)}));return s.length&&(o.id=s.join(",")),o.map=r.toFixed(2)+"/"+n[1].toFixed(i)+"/"+n[0].toFixed(i),Object.assign(a,o)}(),!0)}function i(t){var n,r,i,a=e.documentTitleBase()||"iD",o=e.selectedIDs().filter((function(t){return e.hasEntity(t)}));if(o.length){var s=Ke(e.entity(o[0]),e.graph());n=o.length>1?C("title.labeled_and_more",{labeled:s,count:o.length-1}):s,i="context"}return t&&((r=e.history().difference().summary().length)>0&&(i=n?"changes_context":"changes")),i?C("title.format."+i,{changes:r,base:a,context:n}):a}function a(t){if(e.setsDocumentTitle()){var n=i(t);document.title!==n&&(document.title=n)}}function o(){if(!e.inIntro()){var n=r();t!==n&&(t=n,window.history.replaceState(null,i(!1),n),a(!0))}}var s=dt(o,500),l=dt((function(){a(!0)}),500);function c(){if(window.location.hash!==t){var i=Ut(t=window.location.hash),a=(i.map||"").split("/").map(Number);if(a.length<3||a.some(isNaN))o();else{if(t===r())return;var s=e.mode();if(e.map().centerZoom([a[2],Math.min(n,Math.max(-n,a[1]))],a[0]),i.id&&s){var l=i.id.split(",").filter((function(t){return e.hasEntity(t)}));if(l.length&&("browse"===s.id||"select"===s.id&&!hr(s.selectedIDs(),l)))return void e.enter(Ce(e,l))}var c=rt(e.map().center(),[a[2],a[1]]);if(s&&null!==s.id.match(/^draw/)&&c>500)return void e.enter(be(e))}}}function u(){if(e.map().on("move.behaviorHash",s),e.history().on("change.behaviorHash",l),e.on("enter.behaviorHash",s),$(window).on("hashchange.behaviorHash",c),window.location.hash){var t=Ut(window.location.hash);t.id&&e.zoomToEntity(t.id.split(",")[0],!t.map),"true"===t.walkthrough&&(u.startWalkthrough=!0),t.map&&(u.hadHash=!0),c(),a(!1)}}return u.off=function(){s.cancel(),l.cancel(),e.map().on("move.behaviorHash",null),e.on("enter.behaviorHash",null),$(window).on("hashchange.behaviorHash",null),window.location.hash=""},u}L6(Y8,{operationCircularize:()=>Co,operationContinue:()=>Q8,operationCopy:()=>H2,operationDelete:()=>Vr,operationDisconnect:()=>$8,operationDowngrade:()=>W2,operationExtract:()=>G8,operationMerge:()=>H8,operationMove:()=>Io,operationOrthogonalize:()=>Fo,operationPaste:()=>K2,operationReflectLong:()=>Mo,operationReflectShort:()=>Do,operationReverse:()=>W8,operationRotate:()=>v2,operationSplit:()=>K8,operationStraighten:()=>X8});var{abs:nEe,max:iEe,min:aEe}=Math;function db(e){return[+e[0],+e[1]]}function ED(e){return[db(e[0]),db(e[1])]}var oEe={name:"x",handles:["w","e"].map(Z8),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},sEe={name:"y",handles:["n","s"].map(Z8),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},lEe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Z8),input:function(e){return null==e?null:ED(e)},output:function(e){return e}};function Z8(e){return{type:e}}var c2=!1,SD={dispatch:se,geoMercator:k7,geoProjection:m1,polygonArea:y1,polygonCentroid:_i,select:$,selectAll:C7,timerFlush:J0};window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return window.requestAnimationFrame((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}))},window.cancelIdleCallback=window.cancelIdleCallback||function(e){window.cancelAnimationFrame(e)},window.iD=J8})()}).call(this,__webpack_require__(162),__webpack_require__(71))},646:function(e,t,n){}}]);
//# sourceMappingURL=5.aa45d027.chunk.js.map