(this["webpackJsonpTaskingManager-frontend"]=this["webpackJsonpTaskingManager-frontend"]||[]).push([[799,826],{1914:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var s=a(30),r=a(13),n=a(62),c=a(0);const i=e=>{let{type:t="info",compact:a=!1,inline:s=!1,iconClassName:n,children:i}=e;const o={info:r.I,success:r.g,warning:r.a,error:r.c}[t];return Object(c.jsxs)("div",{className:"".concat(s?"di":"db"," blue-dark bl bw2 br2 ").concat(a?"pa2":"pa3"," ").concat({info:"b--blue bg-lightest-blue",success:"b--dark-green bg-washed-green",warning:"b--gold bg-washed-yellow",error:"b--dark-red bg-washed-red"}[t]),children:[Object(c.jsx)(o,{className:"h1 w1 v-top mr2 ".concat({info:"blue",success:"dark-green",warning:"gold",error:"dark-red"}[t]," ").concat(n||"")}),i]})};function o(e){let{entity:t,action:a="creation"}=e;const r="updation"===a?"entityInfoUpdationFailure":"entityCreationFailure";return Object(c.jsx)(i,{type:"error",children:Object(c.jsx)(s.a,{...n.a[r],values:{entity:t}})})}},1917:function(e,t,a){"use strict";var s=a(20);t.a=Object(s.b)({unsavedChanges:{id:"project.tasks.unsaved_map_changes.title",defaultMessage:"You have some unsaved map changes"},unsavedChangesToSplit:{id:"project.tasks.unsaved_map_changes.split",defaultMessage:"Save or undo it to be able to split the task"},unsavedChangesToUnlock:{id:"project.tasks.unsaved_map_changes.unlock",defaultMessage:"Save or undo it to be able to select another task"},unsavedChangesToReloadEditor:{id:"project.tasks.unsaved_map_changes.reload_editor",defaultMessage:"Save or undo it to be able to switch editors"},unsavedChangesTooltip:{id:"project.tasks.unsaved_map_changes.tooltip",defaultMessage:"You have unsaved edits. Save or undo them to submit this task."},closeModal:{id:"project.tasks.unsaved_map_changes.actions.close_modal",defaultMessage:"Close"},deselectAndValidate:{id:"project.tasks.validation.cannot_validate_mapped_tasks.deselect_and_validate",defaultMessage:"Deselect and validate"},cantValidateMappedTask:{id:"project.tasks.select.cantValidateMappedTask",defaultMessage:"This task was mapped by you"},priorityAreasLoadingError:{id:"project.tasks.selection.map.priorityAreas.loading.error",defaultMessage:"An error occured while loading the priority areas for the project"},noMappedTasksSelectedError:{id:"project.tasks.no_mapped_tasks_selected",defaultMessage:"No mapped tasks selected"},noMappedTasksSelectedErrorDescription:{id:"project.tasks.no_mapped_tasks_selected.description",defaultMessage:"It was not possible to lock the selected tasks, as none of them are on the mapped status."},InvalidTaskStateError:{id:"project.tasks.invalid_task_state_errortitle",defaultMessage:"Invalid Task State"},InvalidTaskStateErrorDescription:{id:"project.tasks.invalid_task_state_error.description",defaultMessage:"Task in invalid state for mapping"},UserNotAllowedError:{id:"project.tasks.user_not_allowed_error.title",defaultMessage:"User Not Allowed Error"},UserNotAllowedErrorDescription:{id:"project.tasks.user_not_allowed_error.description",defaultMessage:"Mapping not allowed because user not on allowed list"},ProjectNotPublishedError:{id:"project.tasks.project_not_published_error.title",defaultMessage:"Project Not Published"},ProjectNotPublishedErrorDescription:{id:"project.tasks.project_not_published_error.description",defaultMessage:"Mapping not allowed because project not published"},TaskNotOwnedError:{id:"project.tasks.task_not_owned_error.title",defaultMessage:"Task Not Owned"},TaskNotOwnedErrorDescription:{id:"project.tasks.task_not_owned_error.description",defaultMessage:"Attempting to unlock a task owned by another user"},NotReadyForValidationError:{id:"project.tasks.not_ready_for_validation_error.title",defaultMessage:"Not Ready for Validation"},NotReadyForValidationErrorDescription:{id:"project.tasks.not_ready_for_validation_error.description",defaultMessage:"Task is not MAPPED, BADIMAGERY or INVALIDATED"},CannotValidateMappedTaskError:{id:"project.tasks.cannot_validate_mapped_task_error.title",defaultMessage:"Cannot Validate Mapped Task"},CannotValidateMappedTaskErrorDescription:{id:"project.tasks.cannot_validate_mapped_task_error.description",defaultMessage:"Tasks cannot be validated by the same user who marked task as mapped or badimagery"},JOSMError:{id:"project.tasks.josm_error",defaultMessage:"Connection with JOSM failed"},JOSMErrorDescription:{id:"project.tasks.josm_error.description",defaultMessage:"Please verify if JOSM is running on your computer and the remote control is enabled."},lockError:{id:"project.tasks.lock_error.generic",defaultMessage:"It wasn't possible to lock this task for you..."},lockErrorDescription:{id:"project.tasks.lock_error.generic.description",defaultMessage:"Some error occurred when trying to lock this task. Check if your user matches the level, role and permissions required by this project."},lockErrorLicense:{id:"project.tasks.lock_error.license.title",defaultMessage:"This project has a required license."},lockErrorLicenseDescription:{id:"project.tasks.lock_error.license.description",defaultMessage:"Please accept this license in order to collaborate in this project. "},acceptLicense:{id:"project.tasks.lock_error.license.accept",defaultMessage:"Accept"},cancel:{id:"project.tasks.lock_error.cancel",defaultMessage:"Cancel"},anotherLockedTask:{id:"project.tasks.lock_error.another_project",defaultMessage:"We found another mapping task already locked by you"},anotherProjectLockTextSingular:{id:"project.tasks.lock_error.another_project.description.singular",defaultMessage:"It is on the Project #{project}. You will need to update the status of that task before you can map another task."},anotherProjectLockTextPlural:{id:"project.tasks.lock_error.another_project.description.plural",defaultMessage:"It is on the Project #{project}. You will need to update the status of that task before you can map another task."},currentProjectLockTextSingular:{id:"project.tasks.lock_error.current_project.description.singular",defaultMessage:"The task #{taskId} was previously locked by you. You will need to update the status of that task before you can map another task."},currentProjectLockTextPlural:{id:"project.tasks.lock_error.current_project.description.plural",defaultMessage:"Some tasks were previously locked by you on this project. You will need to update the status of those tasks before you can map another task."},goToProject:{id:"project.tasks.lock_error.go_to_project.button",defaultMessage:"Go to Project #{project}"},workOnTasksSingular:{id:"project.tasks.lock_error.work_on_tasks.singular.button",defaultMessage:"{mapOrValidate} that task"},workOnTasksPlural:{id:"project.tasks.lock_error.work_on_tasks.plural.button",defaultMessage:"{mapOrValidate} those tasks"},legend:{id:"project.tasks.map.legend",defaultMessage:"Legend"},typesOfMapping:{id:"project.typesOfMapping",defaultMessage:"Types of Mapping"},editor:{id:"project.editor",defaultMessage:"Editor"},selectEditor:{id:"project.editor.select",defaultMessage:"Select editor"},filterPlaceholder:{id:"project.input.placeholders.filter",defaultMessage:"Filter tasks by id or username"},reloadEditor:{id:"project.editor.reload_editor",defaultMessage:"Reload editor"},openEditor:{id:"project.editor.open_editor",defaultMessage:"Open editor"},showSidebar:{id:"project.sidebar.show",defaultMessage:"Show sidebar"},sessionAboutToExpireTitle:{id:"project.sidebar.lockTimeAboutToExpire.title",defaultMessage:"Extend session for this task"},sessionAboutToExpireDescription:{id:"project.sidebar.lockTimeAboutToExpire.description",defaultMessage:"Your session of two hours is about to expire. Do you want to extend your time for this session to continue working on this task?"},extendTime:{id:"project.sidebar.extendTime",defaultMessage:"Extend session"},sessionExtended:{id:"project.sidebar.sessionExtended",defaultMessage:"Your session has been extended"},sessionExtensionError:{id:"project.sidebar.sessionExtensionError",defaultMessage:"An error occurred while extending your session."},sessionExpiredTitle:{id:"project.sidebar.sessionExpired.title",defaultMessage:"Your session has expired"},sessionExpiredDescription:{id:"project.sidebar.sessionExpired.description",defaultMessage:"Do you want to relock the tasks to extend the session so that you can update the status of the {count, plural, =1 {task} other{tasks}}?"},relockTask:{id:"project.sidebar.relockTask",defaultMessage:"Relock {count, plural, =1 {task} other{tasks}}"},taskRelocked:{id:"project.sidebar.taskRelocked",defaultMessage:"Your {count, plural, =1 {task has} other{tasks have}} been relocked."},taskRelockError:{id:"project.sidebar.taskRelockError",defaultMessage:"An error occurred while relocking your {count, plural, =1 {task} other{tasks}}."},hideSidebar:{id:"project.sidebar.hide",defaultMessage:"Hide sidebar"},timeToUnlock:{id:"project.sidebar.timeToUnlock",defaultMessage:"Time available for you to complete work on this task"},task:{id:"project.task",defaultMessage:"Task"},tasks:{id:"project.tasks",defaultMessage:"Tasks"},taskId:{id:"project.taskId",defaultMessage:"Task #{id}"},instructions:{id:"project.instructions",defaultMessage:"Instructions"},projectIsArchived:{id:"project.isArchived",defaultMessage:"This project is archived and read-only. You can view the project, but you cannot update tasks."},enforcedRandomTaskSelection:{id:"project.enforcedRandomTaskSelection",defaultMessage:"This project has enforced random task selection for mapping. When you click the 'Map a task' button, a random task will be presented for mapping."},changesetComment:{id:"project.changesetComment",defaultMessage:"Changeset comment"},contributions:{id:"project.contributions",defaultMessage:"contributions"},registered:{id:"project.contributions.registered",defaultMessage:"Registered on"},imagery:{id:"project.imagery",defaultMessage:"Imagery"},customTMSLayer:{id:"project.imagery.tms",defaultMessage:"Custom TMS Layer"},customWMSLayer:{id:"project.imagery.wms",defaultMessage:"Custom WMS Layer"},customWMTSLayer:{id:"project.imagery.wmts",defaultMessage:"Custom WMTS Layer"},customLayer:{id:"project.imagery.customLayer",defaultMessage:"Custom Layer"},noImageryDefined:{id:"project.imagery.noDefined",defaultMessage:"Any available source"},copyImageryURL:{id:"project.imagery.copy",defaultMessage:"Copy imagery URL"},mapATask:{id:"project.selectTask.footer.button.mapRandomTask",defaultMessage:"Map a task"},mapSelectedTask:{id:"project.selectTask.footer.button.mapSelectedTask",defaultMessage:"Map selected task"},mapAnotherTask:{id:"project.selectTask.footer.button.mapAnotherTask",defaultMessage:"Map another task"},validateATask:{id:"project.selectTask.footer.button.validateRandomTask",defaultMessage:"Validate a task"},validateSelectedTask:{id:"project.selectTask.footer.button.validateSelectedTask",defaultMessage:"{number, plural, one {Validate selected task} other {Validate # selected tasks}}"},validateAnotherTask:{id:"project.selectTask.footer.button.validateAnotherTask",defaultMessage:"Validate another task"},selectAnotherProject:{id:"project.selectTask.footer.button.selectAnotherProject",defaultMessage:"Select another project"},resumeMapping:{id:"project.selectTask.footer.button.resumeMapping",defaultMessage:"Resume mapping"},resumeValidation:{id:"project.selectTask.footer.button.resumeValidation",defaultMessage:"Resume validation"},taskLastUpdate:{id:"project.tasks.list.lastUpdate",defaultMessage:"Last updated by {user}"},seeTaskHistory:{id:"project.tasks.list.details",defaultMessage:"See task history"},zoomToTask:{id:"project.tasks.list.zoom",defaultMessage:"Zoom map to task"},copyTaskLink:{id:"project.tasks.list.copyLink",defaultMessage:"Copy task link"},taskLinkCopied:{id:"project.tasks.list.linkCopied",defaultMessage:"Task link copied to the clipboard"},taskStatus_PRIORITY_AREAS:{id:"project.tasks.priority_areas",defaultMessage:"Priority areas"},taskStatus_READY:{id:"project.tasks.status.ready",defaultMessage:"Available for mapping"},taskStatus_MAPPED:{id:"project.tasks.status.mapped",defaultMessage:"Ready for validation"},taskStatus_LOCKED:{id:"project.tasks.status.locked",defaultMessage:"Locked"},taskStatus_LOCKED_FOR_MAPPING:{id:"project.tasks.status.lockedForMapping",defaultMessage:"Locked for mapping"},taskStatus_LOCKED_FOR_VALIDATION:{id:"project.tasks.status.lockedForValidation",defaultMessage:"Locked for validation"},taskStatus_VALIDATED:{id:"project.tasks.status.validated",defaultMessage:"Finished"},taskStatus_INVALIDATED:{id:"project.tasks.status.invalidated",defaultMessage:"More mapping needed"},taskStatus_BADIMAGERY:{id:"project.tasks.status.badImagery",defaultMessage:"Unavailable"},taskStatus_SPLIT:{id:"project.tasks.status.split",defaultMessage:"Split"},sortById:{id:"project.tasks.sorting.id",defaultMessage:"Sort by task number"},sortByMostRecentlyUpdate:{id:"project.tasks.sorting.date",defaultMessage:"Most recently updated"},sortByLeastRecentlyUpdate:{id:"project.tasks.sorting.date.reverse",defaultMessage:"Least recently updated"},filterAll:{id:"project.tasks.filter.all",defaultMessage:"All"},filterReadyToValidate:{id:"project.tasks.filter.readyToValidate",defaultMessage:"Ready for validation"},filterReadyToMap:{id:"project.tasks.filter.readyToMap",defaultMessage:"Available for mapping"},noTasksFound:{id:"project.tasks.filter.noTasksFound",defaultMessage:"No tasks were found."},readTaskComments:{id:"project.tasks.readComments",defaultMessage:"Please check the history tab for relevant comments."},completion:{id:"project.tasks.action.completion",defaultMessage:"Completion"},history:{id:"project.tasks.action.history",defaultMessage:"History"},taskHistoryComments:{id:"project.tasks.history.comments",defaultMessage:"Comments"},taskHistoryActivities:{id:"project.tasks.history.activities",defaultMessage:"Activities"},taskHistoryAll:{id:"project.tasks.history.all",defaultMessage:"All"},copyComment:{id:"project.tasks.action.comments.copy",defaultMessage:"Copy comment"},copyCommentToAll:{id:"project.tasks.action.comments.copy_to_all",defaultMessage:"To all tasks"},copyCommentToINVALIDATED:{id:"project.tasks.action.comments.copy_to_invalidated",defaultMessage:'To tasks marked as "No"'},copyCommentToVALIDATED:{id:"project.tasks.action.comments.copy_to_validated",defaultMessage:'To tasks marked as "Yes"'},resources:{id:"project.tasks.action.resources",defaultMessage:"Resources"},finishMappingTitle:{id:"project.tasks.action.finish_mapping.title",defaultMessage:"Once you have finished mapping"},instructionsSelect:{id:"project.tasks.action.instructions.select_task",defaultMessage:"Select one of the options below that matches your edit status"},writeComment:{id:"project.input.placeholder.write_comment",defaultMessage:"Write a comment"},instructionsComment:{id:"project.tasks.action.instructions.leave_comment",defaultMessage:"Leave a comment (optional)"},instructionsSubmit:{id:"project.tasks.action.instructions.submit_task",defaultMessage:"Submit your work"},comment:{id:"project.tasks.action.comment.title",defaultMessage:"Comment"},redirectToPreviousProject:{id:"project.tasks.action.redirectToPreviousProject",defaultMessage:"Redirect to previous project #{projectId}"},commentPlaceholder:{id:"project.tasks.action.comment.input.placeholder",defaultMessage:"Write a comment on this task"},editStatus:{id:"project.tasks.action.selection.title",defaultMessage:"Task status"},revertVALIDATED:{id:"project.tasks.action.invalidate",defaultMessage:"Request revalidation"},confirmRevertVALIDATED:{id:"project.tasks.action.invalidate.confirmation",defaultMessage:'Task status will be changed to "Ready for validation".'},revertBADIMAGERY:{id:"project.tasks.action.set_as_ready",defaultMessage:"Request mapping"},confirmRevertBADIMAGERY:{id:"project.tasks.action.set_as_ready.confirmation",defaultMessage:'Task status will be changed to "Available for mapping".'},proceed:{id:"project.tasks.action.proceed.confirmation",defaultMessage:"Do want to proceed?"},yes:{id:"project.tasks.action.confirmation.yes",defaultMessage:"Yes"},no:{id:"project.tasks.action.confirmation.no",defaultMessage:"No"},mappedQuestion:{id:"project.tasks.action.options.mapped_question",defaultMessage:"Is this task completely mapped?"},validatedQuestion:{id:"project.tasks.action.options.validated_question",defaultMessage:"{number, plural, one {Is this task well mapped?} other {Are these tasks well mapped?}}"},complete:{id:"project.tasks.action.options.complete",defaultMessage:"Yes"},incomplete:{id:"project.tasks.action.options.incomplete",defaultMessage:"No"},badImagery:{id:"project.tasks.action.options.bad_imagery",defaultMessage:"The imagery is bad"},splitTask:{id:"project.tasks.action.split_task",defaultMessage:"Split task"},splitTaskError:{id:"project.tasks.action.split_task.error",defaultMessage:"It was not possible to split the task"},splitTaskErrorDescription:{id:"project.tasks.action.split_task.error.description",defaultMessage:"This task is already too small and can not be split."},splitTaskGenericError:{id:"project.tasks.action.split_task.error.generic",defaultMessage:"An error occured while splitting the task."},selectAnotherTask:{id:"project.tasks.action.select_another_task",defaultMessage:"Select another task"},stopMappingError:{id:"project.tasks.action.stop_mapping.error",defaultMessage:"An error occured while stopping mapping."},stopValidation:{id:"project.tasks.action.stop_validation",defaultMessage:"Stop validation"},stopValidationError:{id:"project.tasks.action.stop_validation.error",defaultMessage:"An error occured while stopping validation."},tasksMap:{id:"project.tasks.action.tasks_map",defaultMessage:"Tasks map"},submitTask:{id:"project.tasks.action.submit_task",defaultMessage:"Submit task"},submitTasks:{id:"project.tasks.action.submit_tasks",defaultMessage:"Submit tasks"},submitTaskError:{id:"project.tasks.action.submit_task.error",defaultMessage:"An error occured while submitting your {numTasks, plural, =1 {task} other {tasks}}."},taskActivity:{id:"project.tasks.history.title",defaultMessage:"Task {n}"},taskUnavailable:{id:"project.tasks.history.unavailable",defaultMessage:"Task unavailable"},taskSplitDescription:{id:"project.tasks.history.split.description",defaultMessage:"The task {id} was split and its history is not available anymore"},taskData:{id:"project.tasks.activity.data.links",defaultMessage:"Task data"},projectId:{id:"project.tasks.activity.project_id",defaultMessage:"Project #{id}"},overpassDownload:{id:"project.tasks.activity.overpass.download",defaultMessage:"Download from Overpass"},overpassVisualization:{id:"project.tasks.activity.overpass.visualization",defaultMessage:"Visualize with Overpass"},projectData:{id:"project.resources.data",defaultMessage:"Project's data"},changesets:{id:"project.resources.changesets",defaultMessage:"Changesets"},selectTask:{id:"project.resources.changesets.select_task",defaultMessage:"Select task"},entireProject:{id:"project.resources.changesets.entire_project",defaultMessage:"Entire project"},seeTaskChangesets:{id:"project.resources.changesets.task",defaultMessage:"See task's changesets"},taskOnOSMCha:{id:"project.tasks.activity.osmcha",defaultMessage:"View changesets in OSMCha"},taskHistoryComment:{id:"project.tasks.history.comment",defaultMessage:"commented"},taskDetailFetchError:{id:"project.tasks.history.taskDetailFetchError",defaultMessage:"An error occured while fetching the task details."},noCommentsYet:{id:"project.tasks.history.noCommentsYet",defaultMessage:"No comments have been made on the task yet."},noActivitiesToDisplay:{id:"project.tasks.history.nothingToDisplay",defaultMessage:"No comments/activities have been made on this task yet."},taskHistoryLockedMapping:{id:"project.tasks.history.lockedmapping",defaultMessage:"locked for mapping"},taskHistoryLockedValidation:{id:"project.tasks.history.lockedvalidation",defaultMessage:"locked for validation"},taskHistoryAutoUnlockedMapping:{id:"project.tasks.history.autounlockedmapping",defaultMessage:"automatically unlocked for mapping"},taskHistoryAutoUnlockedValidation:{id:"project.tasks.history.autounlockedvalidation",defaultMessage:"automatically unlocked for validation"},taskHistoryExtendedForMapping:{id:"project.tasks.history.extendedForMapping",defaultMessage:"extended the lock session for mapping"},taskHistoryExtendedForValidation:{id:"project.tasks.history.extendedForValidation",defaultMessage:"extended the lock session for validation"},taskHistoryBadImagery:{id:"project.tasks.history.badimagery",defaultMessage:"marked as unavailable"},taskHistoryMapped:{id:"project.tasks.history.mapped",defaultMessage:"marked as mapped"},taskHistoryValidated:{id:"project.tasks.history.validated",defaultMessage:"marked as validated"},taskHistoryInvalidated:{id:"project.tasks.history.invalidated",defaultMessage:"marked as more mapping needed"},taskHistorySplit:{id:"project.tasks.history.split",defaultMessage:"split a task"},taskHistoryReady:{id:"project.tasks.history.ready",defaultMessage:"marked as ready for mapping"},map:{id:"project.tasks.action.map",defaultMessage:"Map"},mapped:{id:"project.tasks.action.mapped",defaultMessage:"Mapped"},validate:{id:"project.tasks.action.validate",defaultMessage:"Validate"},validated:{id:"project.tasks.action.validated",defaultMessage:"Validated"},total:{id:"project.tasks.number.total",defaultMessage:"Total"},lockedBy:{id:"project.tasks.locked_by_user",defaultMessage:"{lockStatus} by {user}"},taskExtraInfo:{id:"project.tasks.extra_information.title",defaultMessage:"Specific task information"},userFilterDefaultLabel:{id:"project.users.all",defaultMessage:"All users"},mappingLevelALL:{id:"project.level.all",defaultMessage:"All levels"},mappingLevelADVANCED:{id:"project.level.advanced",defaultMessage:"Advanced"},mappingLevelINTERMEDIATE:{id:"project.level.intermediate",defaultMessage:"Intermediate"},mappingLevelBEGINNER:{id:"project.level.beginner",defaultMessage:"Beginner"},mappingLevelNEWUSER:{id:"project.level.new_users",defaultMessage:"New users"},statistics:{id:"project.contributions.stats",defaultMessage:"Statistics"},mappedByUser:{id:"project.contributions.user.select.mapped",defaultMessage:"Select tasks mapped by {username}"},validatedByUser:{id:"project.contributions.user.select.validated",defaultMessage:"Select tasks validated by {username}"},allUserTasks:{id:"project.contributions.user.select.all",defaultMessage:"Select all tasks mapped or validated by {username}"},permissionErrorTitle:{id:"project.permissions.error.title",defaultMessage:"You are not ready to work on this project..."},permissionError_userLevelToValidate:{id:"project.permissions.error.userLevelToValidate",defaultMessage:"Only users with intermediate or advanced experience level can validate this project."},permissionError_userLevelToMap:{id:"project.permissions.error.userLevelToMap",defaultMessage:"Only users with intermediate or advanced experience level can map this project."},permissionError_userIsNotValidationTeamMember:{id:"project.permissions.error.userIsNotValidationTeamMember",defaultMessage:"You need to be member of one of the validation teams to be able to validate this project."},permissionError_userIsNotMappingTeamMember:{id:"project.permissions.error.userIsNotMappingTeamMember",defaultMessage:"You need to be member of one of the mapping teams to be able to map this project."}})},1919:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return i}));var s=a(1),r=a(10);function n(e){const t=Object(r.d)((e=>e.auth.userDetails)),a=Object(r.d)((e=>e.auth.organisations)),n=Object(r.d)((e=>e.auth.pmTeams)),[c,i]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{"ADMIN"===t.role&&i(!0),e&&e.author&&t.username===e.author&&i(!0),a&&a.includes(e.organisation)&&i(!0);const s=e.teams?e.teams.filter((e=>"PROJECT_MANAGER"===e.role)).map((e=>e.teamId)):[];n&&n.some((e=>s.includes(e)))&&i(!0)}),[n,t.role,t.username,a,e]),[c]}function c(e){const t=Object(r.d)((e=>e.auth.userDetails)),a=Object(r.d)((e=>e.auth.organisations)),n=Object(r.d)((e=>e.auth.pmTeams)),[c,i]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{if("ADMIN"===t.role&&i(!0),a&&a.includes(e.organisation_id)&&i(!0),n&&n.includes(e.teamId)&&i(!0),e.members){const a=e.members.filter((e=>e.active&&"MANAGER"===e.function)).map((e=>e.username));t.username&&a.includes(t.username)&&i(!0)}}),[n,t.role,t.username,a,e]),[c]}function i(e){const t=Object(r.d)((e=>e.auth.userDetails)),a=Object(r.d)((e=>e.auth.organisations)),[n,c]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{"ADMIN"===t.role&&c(!0),e&&e.organisationId&&a&&a.includes(e.organisationId)&&c(!0),e&&e.managers&&e.managers.map((e=>e.username)).includes(t.username)&&c(!0)}),[e,a,t.username,t.role]),[n]}},1920:function(e,t,a){"use strict";var s=a(20);t.a=Object(s.b)({imageUploadFailed:{id:"comment.input.imageUpload.error",defaultMessage:"The image upload failed."},imageUploadOnProgress:{id:"comment.input.imageUpload.progress",defaultMessage:"Uploading file..."},sendingMessage:{id:"comment.input.sending.progress",defaultMessage:"Sending message..."},messageSent:{id:"comment.input.sending.success",defaultMessage:"Message sent."},messageError:{id:"comment.input.sending.error",defaultMessage:"An error occurred while sending message."},managersHashtagTip:{id:"comment.hashtags.help.managers",defaultMessage:'Add "{hashtag}" to notify the project managers about your comment.'},authorHashtagTip:{id:"comment.hashtags.help.author",defaultMessage:'Add "{hashtag}" to notify the project author about your comment.'},contributorsHashtagTip:{id:"comment.hashtags.help.contributors",defaultMessage:'Add "{hashtag}" to notify the task contributors about your comment.'},nothingToPreview:{id:"comment.preview.nothingToPreview",defaultMessage:"Nothing to preview"},leaveAComment:{id:"comment.preview.leaveAComment",defaultMessage:"Leave a comment..."},write:{id:"textarea.write",defaultMessage:"Write"},preview:{id:"textarea.preview",defaultMessage:"Preview"},attachImage:{id:"comment.write.attachImage",defaultMessage:"Attach image by dragging and dropping"},markdownSupported:{id:"comment.write.markdownSupported",defaultMessage:"Markdown supported"}})},1923:function(e,t,a){"use strict";var s=a(20);t.a=Object(s.b)({loading:{id:"users.detail.loading",defaultMessage:"loading"},contributionTimelineTitle:{id:"users.detail.contributionTimelineTitle",defaultMessage:"Contribution Timeline"},projectsTitle:{id:"users.detail.projectsTitle",defaultMessage:"Projects"},countries:{id:"users.detail.countries",defaultMessage:"Countries"},timeSpentMapping:{id:"users.detail.timeSpentMapping",defaultMessage:"Time spent mapping"},buildingsMapped:{id:"users.detail.buildingsMapped",defaultMessage:"Buildings mapped"},roadMapped:{id:"users.detail.roadMapped",defaultMessage:"Km road mapped"},poiMapped:{id:"users.detail.poiMapped",defaultMessage:"Points of interests mapped"},waterwaysMapped:{id:"users.detail.waterwaysMapped",defaultMessage:"Km waterways mapped"},userMapped:{id:"users.detail.tasksMapped",defaultMessage:"{user} mapped"},you:{id:"users.detail.you",defaultMessage:"You"},userValidated:{id:"users.detail.tasksValidated",defaultMessage:"{user} validated"},invalidated:{id:"users.detail.invalidated",defaultMessage:"Needed more mapping"},validated:{id:"users.detail.validated",defaultMessage:"Validated"},finished:{id:"users.detail.finished",defaultMessage:"Finished"},topProjectsMappedTitle:{id:"users.detail.topProjectsMappedTitle",defaultMessage:"Top 5 projects contributed"},noTopProjectsData:{id:"users.detail.topProjectsMapped.error",defaultMessage:"No projects mapped until now."},topCausesTitle:{id:"users.detail.topCausesTitle",defaultMessage:"Top causes contributed to"},others:{id:"users.detail.others",defaultMessage:"Others"},noProjectsData:{id:"users.detail.projects.noData",defaultMessage:"Information is not available because no projects were mapped until now."},editsTitle:{id:"users.detail.editsTitle",defaultMessage:"Edits by numbers"},noEditsData:{id:"users.detail.edits.error",defaultMessage:"No data to show yet. OpenStreetMap edits stats are updated with a delay of one hour."},topCountriesTitle:{id:"users.detail.topCountriesTitle",defaultMessage:"Top 5 countries most mapped"},tasks:{id:"users.detail.tasks",defaultMessage:"tasks"},heatmapNoContribution:{id:"users.detail.heatmapNoContribution",defaultMessage:"No contribution"},heatmapContribution:{id:"users.detail.heatmapContribution",defaultMessage:"contribution"},heatmapContributions:{id:"users.detail.heatmapContributions",defaultMessage:"contributions"},heatmapLegendMore:{id:"users.detail.heatmapLegendMore",defaultMessage:"more"},heatmapLegendLess:{id:"users.detail.heatmapLegendLess",defaultMessage:"less"},teams:{id:"users.detail.teams",defaultMessage:"Teams"},userOrganisationsError:{id:"users.header.organisations.error",defaultMessage:"Couldn't load organisations at this time"}})},1924:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i}));a(1);var s=a(30),r=a(55),n=a(0);const c=e=>{const{level:t,...a}=e,c=["ALL","BEGINNER","INTERMEDIATE","ADVANCED"].includes(t)?Object(n.jsx)(s.a,{...r.a["mappingLevel".concat(t)]}):t;return Object(n.jsx)("span",{...a,children:c})},i=e=>{const{level:t,...a}=e,c=["ALL","EASY","MODERATE","CHALLENGING"].includes(t)?Object(n.jsx)(s.a,{...r.a["difficulty".concat(t)]}):t;return Object(n.jsx)("span",{...a,children:c})}},1928:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a(1);var s=a(1914),r=a(30),n=a(55),c=a(0);function i(e){let{className:t}=e;return Object(c.jsx)("div",{className:t,children:Object(c.jsxs)(s.a,{type:"warning",iconClassName:"h2 w2",children:[Object(c.jsx)("h3",{className:"barlow-condensed f3 fw6 mv0 dib",children:Object(c.jsx)(r.a,{...n.a.webglUnsupportedTitle})}),Object(c.jsx)("div",{className:"mv4 lh-title",children:Object(c.jsx)(r.a,{...n.a.webglUnsupportedDescription,values:{a:e=>Object(c.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://get.webgl.org/",children:e})}})})]})})}},1932:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c}));a(1);var s=a(20),r=a(0);const n=e=>{let{icon:t,description:a,value:n,className:i,invertColors:o=!1}=e;return Object(r.jsxs)("div",{className:"cf pt3 pb3 ph3 br1 ".concat(o?"bg-red white":"bg-white red shadow-6"," flex items-center ").concat(i||""),children:[Object(r.jsx)("div",{className:"w-30 fl ml2",children:t}),Object(r.jsx)(c,{value:Number(n)||0===n?Object(r.jsx)(s.a,{value:Math.trunc(n)}):n,label:a,className:"w-70 pt3-m mb1 fl",invertColors:o})]})},c=e=>{let{value:t,label:a,className:s,invertColors:n=!1}=e;return Object(r.jsxs)("div",{className:s,children:[Object(r.jsx)("h3",{className:"ma0 mb1 barlow-condensed f2 fw5 ".concat(n?"white":"red"),children:t}),Object(r.jsx)("span",{className:"ma0 h2 f7 fw5 ".concat(n?"white":"blue-grey"),children:a})]})}},1934:function(e,t,a){"use strict";a.d(t,"l",(function(){return l})),a.d(t,"i",(function(){return d})),a.d(t,"j",(function(){return u})),a.d(t,"h",(function(){return p})),a.d(t,"f",(function(){return j})),a.d(t,"n",(function(){return m})),a.d(t,"g",(function(){return b})),a.d(t,"k",(function(){return h})),a.d(t,"m",(function(){return g})),a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return O})),a.d(t,"d",(function(){return v})),a.d(t,"c",(function(){return x})),a.d(t,"e",(function(){return k}));var s=a(2116),r=a(2109),n=a(246),c=a(10),i=a(122),o=a(138);const l=(e,t)=>{const a=Object(c.d)((e=>e.auth.token)),l=Object(c.d)((e=>e.preferences.locale));return Object(n.a)({queryKey:["projects",e,t],queryFn:e=>{let{signal:t,queryKey:n}=e;return((e,t)=>{const[,n,c]=t,d=Object(i.a)(n,y);return void 0===d.action&&c&&(d.action=c),d.lastUpdatedTo&&(d.lastUpdatedTo=Object(s.default)(Object(r.default)(Date.now(),6),"yyyy-MM-dd")),Object(o.a)(a,l).get("projects/",{signal:e,params:d}).then((e=>e.data))})(t,n)},keepPreviousData:!0})},d=e=>{const t=Object(c.d)((e=>e.auth.token)),a=Object(c.d)((e=>e.preferences.locale));return Object(n.a)({queryKey:["project",e],queryFn:s=>{let{signal:r}=s;return Object(o.a)(t,a).get("projects/".concat(e,"/"),{signal:r})}})},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)({queryKey:["project-summary",e],queryFn:t=>{let{signal:a}=t;return Object(o.a)().get("projects/".concat(e,"/queries/summary/"),{signal:a})},select:e=>e.data,...t})},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)({queryKey:["project-contributions",e],queryFn:t=>{let{signal:a}=t;return Object(o.a)().get("projects/".concat(e,"/contributions/"),{signal:a})},select:e=>e.data.userContributions,...t})},j=e=>Object(n.a)({queryKey:["project-activities",e],queryFn:t=>{let{signal:a}=t;return Object(o.a)().get("projects/".concat(e,"/activities/latest/"),{signal:a})},select:e=>e.data,refetchIntervalInBackground:!1,refetchInterval:6e4,refetchOnWindowFocus:!0,useErrorBoundary:!0}),m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)({queryKey:["project-tasks",e],queryFn:t=>{let{signal:a}=t;return Object(o.a)().get("projects/".concat(e,"/tasks/"),{signal:a})},select:e=>e.data,...t})},b=e=>Object(n.a)({queryKey:["project-priority-area",e],queryFn:t=>{let{signal:a}=t;return(t=>Object(o.a)().get("projects/".concat(e,"/queries/priority-areas/"),{signal:t}))(a)},select:e=>e.data}),h=e=>Object(n.a)({queryKey:["project-timeline",e],queryFn:t=>{let{signal:a}=t;return(t=>Object(o.a)().get("projects/".concat(e,"/contributions/queries/day/"),{signal:t}))(a)},select:e=>e.data.stats}),g=(e,t,a)=>{const s=Object(c.d)((e=>e.auth.token));return Object(n.a)({queryKey:["task-detail",e,t],queryFn:a=>{let{signal:r}=a;return Object(o.a)(s).get("projects/".concat(e,"/tasks/").concat(t,"/"),{signal:r})},select:e=>e.data,enabled:!(!e||!t),refetchInterval:!!a&&6e4})},f=function(e,t,a,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"en";return Object(o.a)(s,r).post("projects/".concat(e,"/tasks/actions/stop-mapping/").concat(t,"/"),{comment:a})},O=(e,t,a,s)=>Object(o.a)(a,s).post("projects/".concat(e,"/tasks/actions/split/").concat(t,"/")),v=(e,t,a,s)=>Object(o.a)(a,s).post(e,t),x=function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"en";return Object(o.a)(a,s).post("projects/".concat(e,"/tasks/actions/stop-validation/"),t)},k=(e,t,a,s)=>Object(o.a)(a,s).post("projects/".concat(e,"/tasks/actions/unlock-after-validation/"),t),y={difficulty:"difficulty",campaign:"campaign",team:"teamId",organisation:"organisationName",location:"country",types:"mappingTypes",exactTypes:"mappingTypesExact",interests:"interests",text:"textSearch",page:"page",orderBy:"orderBy",orderByType:"orderByType",createdByMe:"createdByMe",managedByMe:"managedByMe",favoritedByMe:"favoritedByMe",mappedByMe:"mappedByMe",status:"projectStatuses",action:"action",stale:"lastUpdatedTo",createdFrom:"createdFrom",basedOnMyInterests:"basedOnMyInterests"}},1935:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var s=a(1),r=a(10),n=a(1951),c=a(2052),i=a.n(c),o=a(30),l=a(1965),d=(a(2053),a(1947)),u=a(29),p=a(50),j=a(1920),m=a(0);function b(e){let{text:t,setFn:a,hashtag:s,className:r}=e;const n=Object(p.a)();return Object(m.jsx)("span",{className:"bb pointer ".concat(r),style:{borderBottomStyle:"dashed"},onClick:()=>a(t?"".concat(t," ").concat(s):"".concat(s," ")),title:n.formatMessage(j.a["".concat(s.replace("#",""),"HashtagTip")],{hashtag:s}),children:s})}var h=e=>{let{files:t}=e;return Object(m.jsx)("ul",{children:t.map((e=>{let{file:t,errors:a}=e;return Object(m.jsxs)("li",{className:"red",children:[t.path," (",a.map((e=>Object(m.jsxs)("span",{className:"dib pr2",children:[e.message,","]},e.code))),")"]},t.path)}))})};var g=e=>{let{uploadError:t,uploading:a}=e;return Object(m.jsxs)(m.Fragment,{children:[t&&Object(m.jsx)("span",{className:"red f6 pt3 db",children:Object(m.jsx)(o.a,{...j.a.imageUploadFailed})}),a&&Object(m.jsx)("span",{className:"blue-grey f6 pt3 db",children:Object(m.jsx)(o.a,{...j.a.imageUploadOnProgress})})]})},f=a(9),O=a(167);const v=14,x={bold:{...n.a.bold,icon:Object(m.jsx)("svg",{role:"img",width:v,height:v,viewBox:"0 0 384 512",children:Object(m.jsx)("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})})},italic:{...n.a.italic,icon:Object(m.jsx)("svg",{"data-name":"italic",width:v,height:v,role:"img",viewBox:"0 0 320 512",children:Object(m.jsx)("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})})},quote:{...n.a.quote,icon:Object(m.jsx)("svg",{width:v,height:v,viewBox:"0 0 520 520",children:Object(m.jsx)("path",{fill:"currentColor",d:"M520,95.75 L520,225.75 C520,364.908906 457.127578,437.050625 325.040469,472.443125 C309.577578,476.586875 294.396016,464.889922 294.396016,448.881641 L294.396016,414.457031 C294.396016,404.242891 300.721328,395.025078 310.328125,391.554687 C377.356328,367.342187 414.375,349.711094 414.375,274.5 L341.25,274.5 C314.325781,274.5 292.5,252.674219 292.5,225.75 L292.5,95.75 C292.5,68.8257812 314.325781,47 341.25,47 L471.25,47 C498.174219,47 520,68.8257812 520,95.75 Z M178.75,47 L48.75,47 C21.8257813,47 0,68.8257812 0,95.75 L0,225.75 C0,252.674219 21.8257813,274.5 48.75,274.5 L121.875,274.5 C121.875,349.711094 84.8563281,367.342187 17.828125,391.554687 C8.22132813,395.025078 1.89601563,404.242891 1.89601563,414.457031 L1.89601563,448.881641 C1.89601563,464.889922 17.0775781,476.586875 32.5404687,472.443125 C164.627578,437.050625 227.5,364.908906 227.5,225.75 L227.5,95.75 C227.5,68.8257812 205.674219,47 178.75,47 Z"})})},link:{...n.a.link,icon:Object(m.jsx)("svg",{"data-name":"italic",width:v,height:v,role:"img",viewBox:"0 0 520 520",children:Object(m.jsx)("path",{fill:"currentColor",d:"M331.751196,182.121107 C392.438214,241.974735 391.605313,337.935283 332.11686,396.871226 C332.005129,396.991316 331.873084,397.121413 331.751196,397.241503 L263.493918,464.491645 C203.291404,523.80587 105.345257,523.797864 45.151885,464.491645 C-15.0506283,405.187427 -15.0506283,308.675467 45.151885,249.371249 L82.8416853,212.237562 C92.836501,202.39022 110.049118,208.9351 110.56511,222.851476 C111.223305,240.5867 114.451306,258.404985 120.407566,275.611815 C122.424812,281.438159 120.983487,287.882964 116.565047,292.23621 L103.272145,305.332975 C74.8052033,333.379887 73.9123737,379.047937 102.098973,407.369054 C130.563883,435.969378 177.350591,436.139505 206.033884,407.879434 L274.291163,340.6393 C302.9257,312.427264 302.805844,266.827265 274.291163,238.733318 C270.531934,235.036561 266.74528,232.16442 263.787465,230.157924 C259.544542,227.2873 256.928256,222.609848 256.731165,217.542518 C256.328935,206.967633 260.13184,196.070508 268.613213,187.714278 L289.998463,166.643567 C295.606326,161.118448 304.403592,160.439942 310.906317,164.911276 C318.353355,170.034591 325.328531,175.793397 331.751196,182.121107 Z M240.704978,55.4828366 L172.447607,122.733236 C172.325719,122.853326 172.193674,122.983423 172.081943,123.103513 C117.703294,179.334654 129.953294,261.569283 185.365841,328.828764 C191.044403,335.721376 198.762988,340.914712 206.209732,346.037661 C212.712465,350.509012 221.510759,349.829503 227.117615,344.305363 L248.502893,323.234572 C256.984277,314.87831 260.787188,303.981143 260.384957,293.406218 C260.187865,288.338869 257.571576,283.661398 253.328648,280.790763 C250.370829,278.78426 246.58417,275.912107 242.824936,272.215337 C214.310216,244.121282 206.209732,204.825874 229.906702,179.334654 L298.164073,112.094263 C326.847404,83.8340838 373.633159,84.0042113 402.099123,112.604645 C430.285761,140.92587 429.393946,186.594095 400.92595,214.641114 L387.63303,227.737929 C383.214584,232.091191 381.773257,238.536021 383.790506,244.362388 C389.746774,261.569283 392.974779,279.387637 393.632975,297.122928 C394.149984,311.039357 411.361608,317.584262 421.356437,307.736882 L459.046288,270.603053 C519.249898,211.29961 519.249898,114.787281 459.047304,55.4828366 C398.853851,-3.82360914 300.907572,-3.83161514 240.704978,55.4828366 Z"})})},unorderedListCommand:{...n.a.unorderedListCommand,icon:Object(m.jsx)("svg",{"data-name":"unordered-list",width:v,height:v,viewBox:"0 0 512 512",children:Object(m.jsx)("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})})},orderedListCommand:{...n.a.orderedListCommand,icon:Object(m.jsx)("svg",{"data-name":"ordered-list",width:v,height:v,role:"img",viewBox:"0 0 512 512",children:Object(m.jsx)("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})})},mention:{name:"mention",keyCommand:"mention",value:"@",buttonProps:{"aria-label":"Mention user",title:"Mention user"},icon:Object(m.jsxs)("svg",{width:v,height:v,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(m.jsx)("circle",{cx:"12",cy:"12",r:"4"}),Object(m.jsx)("path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"})]}),execute:(e,t)=>{const a=Object(n.c)({text:e.text,selection:e.selection}),s=t.setSelectionRange(a),r=t.replaceSelection("@".concat(s.selectedText));t.setSelectionRange({start:r.selection.end-s.selectedText.length,end:r.selection.end})}},upload:{name:"upload",keyCommand:"upload",buttonProps:{"aria-label":"Upload user",title:"Upload image"},icon:Object(m.jsx)("svg",{width:v,height:v,x:"0",y:"0",viewBox:"0 0 24 24",className:"",children:Object(m.jsx)("g",{children:Object(m.jsx)("path",{id:"image-upload",d:"m21.75 11v6a3.383 3.383 0 0 1 -3.75 3.75h-12a3.383 3.383 0 0 1 -3.75-3.75v-10a3.383 3.383 0 0 1 3.75-3.75h8a.75.75 0 0 1 0 1.5h-8c-1.577 0-2.25.673-2.25 2.25v9.25l2.54-2.54a1.008 1.008 0 0 1 1.42 0l.94.94a.5.5 0 0 0 .7 0l4.94-4.94a1.008 1.008 0 0 1 1.42 0l4.54 4.54v-3.25a.75.75 0 0 1 1.5 0zm-13.757-3.25a1.253 1.253 0 1 0 .007 0zm10.537-2.72.22-.219v2.189a.75.75 0 0 0 1.5 0v-2.189l.22.219a.75.75 0 0 0 1.06-1.06l-1.5-1.5a.751.751 0 0 0 -1.06 0l-1.5 1.5a.75.75 0 0 0 1.06 1.06z",fill:"#000000","data-original":"#000000",className:""})})}),execute:()=>{document.getElementById("image_picker").click()}}};var k=a(106);const y=e=>{let{comment:t,setComment:a,contributors:c,enableHashtagPaste:p=!1,isShowTabNavs:v=!1,isShowFooter:y=!1,enableContributorsHashtag:w=!1,isShowUserPicture:M=!1,placeholderMsg:N=j.a.leaveAComment,markdownTextareaProps:A={}}=e;const C=Object(r.d)((e=>e.auth.token)),T=Object(s.useRef)(),I=Object(s.useRef)(!1),[E,S]=Object(s.useState)(!1),L=e=>a("".concat(t,"\n![image](").concat(e,")\n")),[D,R,P]=Object(d.a)(L),{fileRejections:B,getRootProps:F,getInputProps:z}=Object(l.a)({onDrop:P,...f.f}),[V,U,H]=Object(d.b)(),_=new i.a({trigger:"@",values:async(e,t)=>{try{if(!e)return t(c.map((e=>({username:e}))));t((await Object(u.b)("users/queries/filter/".concat(e,"/"),C)).usernames.map((e=>({username:e}))))}catch(a){return[]}},lookup:"username",fillAttr:"username",selectTemplate:e=>"@[".concat(e.original.username,"]"),itemClass:"w-100 pv2 ph3 bg-tan hover-bg-blue-grey blue-grey hover-white pointer base-font",requireLeadingSpace:!0,noMatchTemplate:null,allowSpaces:!0,searchOpts:{skip:!0}});Object(s.useEffect)((()=>{T.current.textarea&&!I.current&&Array.isArray(c)&&(I.current=!0,_.attach(T.current.textarea),T.current.textarea.addEventListener("tribute-replaced",(e=>{a(e.target.value)})))}),[T.current,c]);return Object(m.jsxs)("div",{...F(),children:[v&&Object(m.jsxs)("div",{className:"flex items-center gap-1 ".concat(M?"mb3":""),children:[M&&Object(m.jsx)(k.a,{className:"w3 h3"}),Object(m.jsxs)("div",{className:"pv3-ns ph3 ph3-m bg-grey-light dib",children:[Object(m.jsx)("span",{role:"button",className:"pointer db dib-ns pb1 bb bw1 ".concat(E?"b--grey-light":"b--blue-dark"),onClick:()=>S(!1),children:Object(m.jsx)(o.a,{...j.a.write})}),Object(m.jsx)("span",{role:"button",className:"pointer ml3 db dib-ns pb1 bb bw1 ".concat(E?"b--blue-dark":"b--grey-light"),onClick:()=>S(!0),children:Object(m.jsx)(o.a,{...j.a.preview})})]})]}),Object(m.jsxs)("div",{className:"".concat(E?"dn":""," bg-white"),"data-color-mode":"light",children:[Object(m.jsx)(o.a,{...N,children:e=>Object(m.jsx)(n.b,{ref:T,preview:"edit",commands:Object.keys(x).map((e=>x[e])),extraCommands:[],height:200,value:t,onChange:a,textareaProps:{...z(),spellCheck:"true",placeholder:e,...A},defaultTabEnable:!0})}),Object(m.jsx)("input",{type:"file",id:"image_picker",className:"dn",accept:"image/*",onChange:async e=>await H(e.target.files[0],L,C)}),y&&Object(m.jsxs)("div",{className:"dn flex-ns justify-between ba bt-0 w-100 ph2 pv1 relative b--blue-grey textareaDetail",children:[Object(m.jsx)("span",{className:"f7 lh-copy gray",children:Object(m.jsx)(o.a,{...j.a.attachImage})}),Object(m.jsx)("span",{className:"f7 lh-copy gray",children:Object(m.jsx)(o.a,{...j.a.markdownSupported})})]})]}),E&&Object(m.jsxs)("div",{className:"db ba ph3",style:{minHeight:200,borderColor:"#F0EEEE"},children:[t&&Object(m.jsx)("div",{style:{wordWrap:"break-word"},className:"blue-grey f5 lh-title markdown-content",dangerouslySetInnerHTML:Object(O.b)(Object(O.a)(t))}),!t&&Object(m.jsx)("span",{className:"db mt3",children:Object(m.jsx)(o.a,{...j.a.nothingToPreview})})]}),p&&!E&&Object(m.jsxs)("span",{className:"db blue-grey f6 pt2",children:[Object(m.jsx)(b,{text:t,setFn:a,hashtag:"#managers"}),Object(m.jsx)("span",{children:", "}),Object(m.jsx)(b,{text:t,setFn:a,hashtag:"#author"}),w&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{children:", "}),Object(m.jsx)(b,{text:t,setFn:a,hashtag:"#contributors"})]})]}),Object(m.jsx)(g,{uploading:R||U,uploadError:D||V}),Object(m.jsx)(h,{files:B})]})}},1936:function(e,t,a){"use strict";a.d(t,"g",(function(){return y})),a.d(t,"e",(function(){return w})),a.d(t,"c",(function(){return N})),a.d(t,"b",(function(){return A})),a.d(t,"d",(function(){return C})),a.d(t,"f",(function(){return T})),a.d(t,"a",(function(){return I}));var s=a(1),r=a(10),n=a(23),c=a(30),i=a(50),o=a(92),l=a.n(o),d=a(57),u=a(81),p=a(70),j=a(13),m=a(1919),b=a(106),h=a(119),g=a(80),f=a(32),O=a(118),v=a(0);const x=e=>[...Array(e).keys()].map(((e,t)=>Object(v.jsxs)("article",{className:"base-font blue-dark h-100 bg-white ph3 pb3 ba br1 b--card shadow-hover h-100 flex flex-column justify-between",children:[Object(v.jsxs)("div",{className:"mt3",children:[Object(v.jsx)(O.TextRow,{className:"show-loading-animation mb3",color:"#CCC",style:{width:200,height:24}}),Object(v.jsx)(O.RectShape,{className:"show-loading-animation mb4",style:{width:80,height:50},color:"#DDD"}),[...Array(2)].map(((e,t)=>Object(v.jsxs)(s.Fragment,{children:[Object(v.jsx)(O.TextRow,{className:"show-loading-animation",color:"#CCC",style:{width:"45%"}}),[...Array(2)].map(((e,t)=>Object(v.jsx)(O.RoundShape,{className:"show-loading-animation dib mt1",style:{width:25,height:25},color:"#DDD"},t)))]},t)))]}),Object(v.jsx)(O.TextBlock,{rows:2,className:"show-loading-animation mt2",color:"#CCC",style:{width:80,height:50}})]},t)));var k=a(1914);function y(e){let{teams:t,userDetails:a,managementView:s,userTeamsOnly:n,setUserTeamsOnly:i,teamsStatus:o,query:d,setQuery:u}=e;const j=Object(r.d)((e=>e.auth.organisations&&e.auth.organisations.length>0));return Object(v.jsxs)(h.d,{title:s?Object(v.jsx)(c.a,{...p.a.manage,values:{entity:Object(v.jsx)(c.a,{...p.a.teams})}}):Object(v.jsx)(c.a,{...p.a.myTeams}),isAdmin:"ADMIN"===a.role&&s,showAddButton:("ADMIN"===a.role||j)&&s,managementView:s,userOnly:n,setUserOnly:i,userOnlyLabel:Object(v.jsx)(c.a,{...p.a.myTeams}),children:[Object(v.jsx)("div",{className:"w-20-l w-25-m",children:Object(v.jsx)(g.i,{value:d.searchQuery||"",placeholderMsg:p.a.searchTeams,onChange:e=>u({...d,searchQuery:e.target.value||void 0,page:1},"pushIn"),onCloseIconClick:()=>u({...d,searchQuery:void 0,page:1},"pushIn")})}),Object(v.jsxs)("div",{className:"".concat("error"!==o?"cards-container":""," mt2"),children:["loading"===o&&Object(v.jsx)(l.a,{showLoadingAnimation:!0,customPlaceholder:x(4),delay:10,ready:!1}),"error"===o&&Object(v.jsx)(k.a,{type:"error",children:Object(v.jsx)(c.a,{...p.a.errorLoadingTeams})}),"success"===o&&Object(v.jsx)(v.Fragment,{children:null!==t&&void 0!==t&&t.length?t.map((e=>Object(v.jsx)(M,{team:e},e.teamId))):Object(v.jsx)("div",{className:"pb3 pt2",children:Object(v.jsx)(c.a,{...p.a.noTeams})})})]})]})}function w(e){let{teams:t,viewAllQuery:a,showAddButton:s=!1,isReady:r,border:i=!0}=e;return Object(v.jsx)("div",{className:"bg-white ".concat(i?"b--grey-light ba pa4":""),children:Object(v.jsxs)("div",{className:"cf db",children:[Object(v.jsx)("h3",{className:"f3 barlow-condensed ttu blue-dark mv0 fw6 dib v-mid",children:Object(v.jsx)(c.a,{...p.a.teams})}),s&&Object(v.jsx)(n.a,{to:"/manage/teams/new/",className:"dib ml4",children:Object(v.jsx)(h.a,{})}),a&&Object(v.jsx)(h.e,{link:"/manage/teams/".concat(a||"")}),Object(v.jsx)("div",{className:"cards-container pt4",children:Object(v.jsxs)(l.a,{customPlaceholder:x(4),delay:10,ready:r,children:[null===t||void 0===t?void 0:t.slice(0,6).map((e=>Object(v.jsx)(M,{team:e},e.teamId))),0===(null===t||void 0===t?void 0:t.length)&&Object(v.jsx)("span",{className:"blue-grey",children:Object(v.jsx)(c.a,{...p.a.noTeamsFound})})]})})]})})}function M(e){let{team:t}=e;return Object(v.jsx)(n.a,{to:"/teams/".concat(t.teamId,"/membership/"),className:"no-underline",children:Object(v.jsxs)("article",{className:"base-font blue-dark h-100 bg-white ph3 pb3 ba br1 shadow-hover h-100 flex flex-column justify-between b--card",children:[Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("h3",{className:"f4 fw6 h3 lh-title mt3 mb2 overflow-y-hidden",title:t.name,children:t.name}),Object(v.jsx)("div",{className:"db h2",title:t.organisation,children:Object(v.jsx)("img",{src:t.logo,alt:t.organisation,className:"h2"})}),Object(v.jsx)("h4",{className:"f6 fw5 mb2 mt3 ttu blue-light",children:Object(v.jsx)(c.a,{...p.a.managers})}),Object(v.jsx)("div",{className:"db h2",children:Object(v.jsx)(b.c,{size:"small",textColor:"white",users:t.members.filter((e=>"MANAGER"===e.function&&e.active)),maxLength:8,totalCount:t.managersCount})}),Object(v.jsx)("h4",{className:"f6 fw5 mv2 ttu blue-light",children:Object(v.jsx)(c.a,{...p.a.teamMembers})}),Object(v.jsx)("div",{className:"db h2",children:Object(v.jsx)(b.c,{size:"small",textColor:"white",users:t.members.filter((e=>"MANAGER"!==e.function&&e.active)),maxLength:8,totalCount:t.membersCount})})]}),Object(v.jsxs)("div",{className:"pt3",children:[Object(v.jsx)(h.f,{visibility:t.visibility,extraClasses:"pv1 ph2 dib"}),Object(v.jsx)("div",{className:"pt2 h2",children:Object(v.jsx)(h.c,{className:"pv1 ph2 dib",joinMethod:t.joinMethod})})]})]})})}function N(e){const t=Object(i.a)(),a="db pt3 pb2",s="blue-grey w-100 pv3 ph2 input-reset ba b--grey-light bg-transparent",r=Object(d.c)(),n={ANY:"anyoneCanJoin",BY_REQUEST:"byRequest",BY_INVITE:"byInvite"};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"cf",children:[Object(v.jsx)("label",{className:a,children:Object(v.jsx)(c.a,{...p.a.name})}),Object(v.jsx)(d.a,{name:"name",component:"input",type:"text",className:s,required:!0})]}),Object(v.jsxs)("div",{className:"cf",children:[Object(v.jsx)("label",{className:a,children:Object(v.jsx)(c.a,{...p.a.description})}),Object(v.jsx)(d.a,{name:"description",component:"textarea",type:"text",className:s})]}),Object(v.jsxs)("div",{className:"cf",children:[Object(v.jsx)("label",{className:a,children:Object(v.jsx)(c.a,{...p.a.organisation})}),Object(v.jsx)(g.e,{name:"organisation_id"})]}),Object(v.jsxs)("div",{className:"cf pt1",children:[Object(v.jsx)("label",{className:a,children:Object(v.jsx)(c.a,{...p.a.joinMethod})}),Object.keys(n).map((e=>Object(v.jsxs)("div",{className:"pv2",children:[Object(v.jsx)(g.f,{name:"joinMethod",value:e,required:!0}),Object(v.jsx)("span",{className:"f5",children:Object(v.jsx)(c.a,{...p.a[n[e]]})}),Object(v.jsx)(j.I,{width:12,height:12,className:"blue-grey v-mid pb1 ml2","data-tip":t.formatMessage(p.a["".concat(n[e],"Description")])}),Object(v.jsx)(u.a,{place:"bottom",className:"mw6",effect:"solid"})]},e)))]}),"BY_INVITE"===r.values.joinMethod&&Object(v.jsxs)("div",{className:"cf pt1",children:[Object(v.jsx)("label",{className:a,children:Object(v.jsx)(c.a,{...p.a.visibility})}),Object(v.jsxs)("div",{className:"pv2",children:[Object(v.jsx)(g.f,{name:"visibility",value:"PUBLIC"}),Object(v.jsx)("span",{className:" f5",children:Object(v.jsx)(c.a,{...p.a.public})}),Object(v.jsx)(j.I,{width:12,height:12,className:"blue-grey v-mid pb1 ml2","data-tip":t.formatMessage(p.a.publicDescription)})]}),Object(v.jsxs)("div",{className:"pv2",children:[Object(v.jsx)(g.f,{name:"visibility",value:"PRIVATE"}),Object(v.jsx)("span",{className:"f5",children:Object(v.jsx)(c.a,{...p.a.private})}),Object(v.jsx)(j.I,{width:12,height:12,className:"blue-grey v-mid pb1 ml2","data-tip":t.formatMessage(p.a.privateDescription)}),Object(v.jsx)(u.a,{place:"bottom",className:"mw6",effect:"solid"})]})]})]})}function A(e){return Object(v.jsx)(d.b,{onSubmit:t=>e.updateTeam(t),initialValues:e.team,mutators:{setValue:[]},render:t=>{let{handleSubmit:a,dirty:s,submitSucceeded:r,dirtySinceLastSubmit:n,form:i,submitting:o,values:l}=t;const d=r?n&&s:s;return Object(v.jsxs)("div",{className:"blue-grey mb3",children:[Object(v.jsxs)("div",{className:"bg-white b--grey-light pa4 ".concat(d?"bt bl br":"ba"),children:[Object(v.jsx)("h3",{className:"f3 fw6 dib blue-dark mv0",children:Object(v.jsx)(c.a,{...p.a.teamInfo})}),Object(v.jsx)("form",{id:"team-form",onSubmit:a,children:Object(v.jsx)("fieldset",{className:"bn pa0",disabled:o,children:Object(v.jsx)(N,{joinMethod:e.team.joinMethod})})})]}),d&&Object(v.jsxs)("div",{className:"cf pt0 h3",children:[Object(v.jsx)("div",{className:"w-70-l w-50 fl tr dib bg-grey-light",children:Object(v.jsx)(f.b,{className:"blue-dark bg-grey-light h3",onClick:()=>i.restart(),children:Object(v.jsx)(c.a,{...p.a.cancel})})}),Object(v.jsx)("div",{className:"w-30-l w-50 h-100 fr dib",children:Object(v.jsx)(f.b,{onClick:()=>a(),className:"w-100 h-100 bg-red white",disabledClassName:"bg-red o-50 white w-100 h-100",children:Object(v.jsx)(c.a,{...p.a.save})})})]})]})}})}function C(e){let{team:t,members:a,managers:r,requestedToJoin:i}=e;const[o]=Object(m.c)(t),[d,u]=Object(s.useState)("");return Object(v.jsxs)(l.a,{showLoadingAnimation:!0,type:"media",rows:20,ready:"number"===typeof t.teamId,children:[Object(v.jsxs)("div",{className:"cf pb2",children:[Object(v.jsx)("div",{className:"w-20 pv2 dib fl",children:Object(v.jsxs)("span",{className:"blue-grey v-mid",children:[Object(v.jsx)(c.a,{...p.a.team})," #",t.teamId]})}),Object(v.jsxs)("div",{className:"w-80 dib fr tr",children:[o&&Object(v.jsx)(f.d,{url:"/manage/teams/".concat(t.teamId),children:Object(v.jsx)(c.a,{...p.a.editTeam})}),Object(v.jsx)(h.c,{className:"pv2 ph3 mh1 mv1 dib",joinMethod:t.joinMethod}),Object(v.jsx)(h.f,{visibility:t.visibility,extraClasses:"pv2 ph3 mh1 mv1 dib"})]})]}),Object(v.jsx)("h3",{className:"f2 ttu blue-dark fw7 barlow-condensed v-mid ma0 dib ttu",children:t.name}),Object(v.jsx)("p",{className:"blue-grey",children:t.description}),Object(v.jsxs)("div",{className:"cf",children:[Object(v.jsxs)("div",{className:"w-100 w-50-m fl",children:[Object(v.jsx)("h4",{children:Object(v.jsx)(c.a,{...p.a.organisation})}),Object(v.jsxs)(n.a,{className:"link blue-dark fw5 mr2 underline dib",to:"/organisations/".concat(t.organisationSlug),children:[Object(v.jsx)("p",{children:"string"===typeof t.logo&&Object(v.jsx)("img",{src:t.logo,alt:"organisation logo",className:"mw4"})}),t.organisation]})]}),Object(v.jsxs)("div",{className:"w-100 w-50-m fl",children:[Object(v.jsx)("h4",{children:Object(v.jsx)(c.a,{...p.a.managers})}),0===r.length?Object(v.jsx)("span",{className:"f6 blue-grey",children:Object(v.jsx)(c.a,{...p.a.noManagers})}):Object(v.jsx)("div",{className:"cf db mt3",children:r.map((e=>Object(v.jsx)(b.b,{username:e.username,picture:e.pictureUrl,size:"large",colorClasses:"white bg-blue-grey mv1"},e.username)))}),Object(v.jsx)("h4",{children:Object(v.jsx)(c.a,{...p.a.members})}),0===a.length?Object(v.jsx)("span",{className:"f6 blue-grey",children:Object(v.jsx)(c.a,{...p.a.noMembers})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"cf db mt3",children:[Object(v.jsx)("div",{className:"mb3 w5",children:Object(v.jsx)(g.i,{value:d,placeholderMsg:p.a.searchMembers,onChange:e=>{let{target:{value:t}}=e;return u(t)},onCloseIconClick:()=>u("")})}),(""!==d?a.filter((e=>e.username.toLowerCase().includes(d.toLowerCase()))):a).map((e=>Object(v.jsx)(b.b,{username:e.username,picture:e.pictureUrl,colorClasses:"white bg-blue-grey mv1"},e.username)))]})}),Object(v.jsx)("div",{className:"cf db mt3",children:i&&Object(v.jsx)("span",{className:"red pr5-ns",children:Object(v.jsx)(c.a,{...p.a.waitingApproval})})})]})]})]})}function T(e){let{teams:t}=e;const a=t.filter((e=>"MAPPER"===e.role)),s=t.filter((e=>"VALIDATOR"===e.role));return Object(v.jsxs)("div",{className:"flex flex-column flex-row-l gap-1",children:[a.length>0&&Object(v.jsxs)("div",{className:"w-100 w-30-l",children:[Object(v.jsx)("h4",{className:"mb1 fw6 mt0",children:Object(v.jsx)(c.a,{...p.a.mappingTeams})}),Object(v.jsx)("div",{children:a.map((e=>Object(v.jsx)(I,{team:e,className:"dib pv2 ph3 mt2 ba f6 tc"},e.teamId)))})]}),s.length>0&&Object(v.jsxs)("div",{className:"w-100 w-30-l",children:[Object(v.jsx)("h4",{className:"mb1 fw6 mt0",children:Object(v.jsx)(c.a,{...p.a.validationTeams})}),s.map((e=>Object(v.jsx)(I,{team:e,className:"dib pv2 ph3 mt2 ba f6 tc"},e.teamId)))]})]})}const I=e=>{let{team:t,className:a}=e;return Object(v.jsx)(n.a,{className:"link blue-grey mr2",to:"/teams/".concat(t.teamId,"/membership/"),children:Object(v.jsxs)("div",{className:"br1 ".concat(a),children:[t.logo&&Object(v.jsx)("img",{alt:t.organisation,src:t.logo,className:"object-fit-contain h2 pr2 v-mid"}),t.name]})})}},1941:function(e,t,a){"use strict";function s(e){const t="https://osmcha.org/";if(e.osmchaFilterId)return"".concat(t,"?aoi=").concat(encodeURIComponent(e.osmchaFilterId));let a={};return e.aoiBBOX&&(a.in_bbox=r("string"===typeof e.aoiBBOX?e.aoiBBOX:e.aoiBBOX.join(",")),e.usernames||(a.area_lt=r(2))),"string"===typeof e.created&&(a.date__gte=r(e.created.split("T")[0])),e.mappingTeams&&(a.mapping_teams=r(e.mappingTeams)),e.changesetComment&&(a.comment=r(e.changesetComment)),"object"===typeof e.usernames&&(a.users=r(e.usernames)),"".concat(t,"?filters=").concat(encodeURIComponent(JSON.stringify(a)))}function r(e){return(Array.isArray(e)?e:[e]).map((e=>{return{label:t=e,value:t};var t}))}a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}));const n=e=>e.startsWith("https://osmcha.org/")&&-1!==e.search("aoi=")?e.split("aoi=")[1]:e},1947:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l}));var s=a(1),r=a(10),n=a(29),c=a(1987),i=a.n(c);const o=()=>{const[e,t]=Object(s.useState)(!1),[a,r]=Object(s.useState)(null);return[a,e,Object(s.useCallback)(((e,a,s)=>{if(e&&a&&s){new Promise(((t,a)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>{s.result?t(s.result):a(Error("Failed converting to base64"))}})).then((c=>{const o=JSON.stringify({mime:e.type,data:c.split("base64,")[1],filename:(l=e.name,d=e.type,-1===l.lastIndexOf(".")&&(l="".concat(l,".").concat(d.split("/")[1])),"".concat(i()(l.substr(0,l.lastIndexOf(".")))).concat(l.substr(l.lastIndexOf("."))))});var l,d;t(!0),Object(n.d)("system/image-upload/",o,s).then((e=>{a(e.url),t(!1),r(null)})).catch((e=>{r(e),t(!1)}))}),(e=>{r(e)}))}}),[])]},l=e=>{const t=Object(r.d)((e=>e.auth.token)),[a,n,c]=o();return[a,n,Object(s.useCallback)((a=>{a.forEach((async a=>await c(a,e,t)))}),[t,c,e])]}},1966:function(e,t,a){"use strict";var s=a(1),r=a(50),n=a(81),c=a(29),i=a(9),o=a(13),l=a(20),d=Object(l.b)({generic:{id:"stats.ohsome.timestamp.generic",defaultMessage:"These statistics come from ohsomeNow Stats and were last updated at {formattedDate} ({timeZone}). Missing fields will be made available soon!"},project:{id:"stats.ohsome.timestamp.project",defaultMessage:"These stats were retrieved using the default changeset comment of the project and were last updated at {formattedDate} ({timeZone})."}}),u=a(0);t.a=function(e){let{messageType:t}=e;const a=Object(r.a)(),[l,p]=Object(s.useState)(null);return Object(s.useEffect)((()=>{Object(c.a)("".concat(i.w,"/metadata")).then((e=>{p(e.result.max_timestamp)})).catch((e=>console.error(e)))}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(o.I,{className:"blue-grey h1 w1 v-mid ml2 pointer","data-tip":a.formatMessage(d[t],{formattedDate:a.formatDate(l,{year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"numeric"}),timeZone:a.timeZone}),"data-for":"ohsome-timestamp"}),Object(u.jsx)(n.a,{id:"ohsome-timestamp",place:"top",className:"mw6",effect:"solid"})]})}},1974:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(30),r=a(1920),n=a(1914),c=a(0);const i=e=>{let{status:t,comment:a}=e;return"success"!==t||a?"error"===t?Object(c.jsx)(n.a,{type:"error",inline:!0,compact:!0,children:Object(c.jsx)(s.a,{...r.a.messageError})}):null:Object(c.jsx)(n.a,{type:"success",inline:!0,compact:!0,children:Object(c.jsx)(s.a,{...r.a.messageSent})})}},1975:function(e,t,a){"use strict";function s(e,t){return e.properties.taskId>t.properties.taskId?1:t.properties.taskId>e.properties.taskId?-1:0}function r(e,t){return new Date(t.properties.actionDate)-new Date(e.properties.actionDate)}function n(e,t){return new Date(t.actionDate)-new Date(e.actionDate)}function c(e,t,a){return e[a]>t[a]?-1:t[a]>e[a]?1:0}a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}))},1977:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}));a(1);var s=a(23),r=a(30),n=a(1923),c=a(0);const i=e=>{let{percent:t}=e;return Object(c.jsx)("div",{className:"w-100 relative mt2",children:Object(c.jsx)("div",{style:{height:"0.5em",width:"".concat(100*t,"%")},className:"bg-red br-pill absolute"})})},o=e=>{let{name:t,link:a,percentValue:r,number:n,numberUnit:o}=e;return Object(c.jsxs)("li",{className:"w-100 cf list pv3",children:[Object(c.jsxs)("div",{className:"w-100 cf mr4",children:[Object(c.jsx)("div",{className:"di ma0 f7 b fl",children:a?Object(c.jsx)(s.a,{className:"link blue-dark",to:a,children:t}):t}),Object(c.jsxs)("div",{className:"di ma0 f7 fr",children:[Object(c.jsx)("span",{className:"b mr1",children:n}),o&&Object(c.jsx)("span",{className:"blue-grey",children:o})]})]}),Object(c.jsx)("div",{className:"w-100 cf",children:Object(c.jsx)(i,{percent:r})})]})},l=e=>{let{data:t,valueField:a,nameField:s,linkBase:i,linkField:l}=e;return Object(c.jsx)("ol",{className:"pa0 mt1 mb0",children:t.map(((e,t)=>Object(c.jsx)(o,{name:e[s],link:i?"".concat(i).concat(e[l]):null,percentValue:e.percent,number:e[a],numberUnit:Object(c.jsx)(r.a,{...n.a.tasks})},t)))})}},1988:function(e,t,a){!function(e){"use strict";const t=Math.PI/180,a=180/Math.PI,s={};class r{constructor(){let{size:e=256,antimeridian:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.size=e,this.expansion=!0===t?2:1,!s[this.size]){let e=this.size,t={Bc:[],Cc:[],zc:[],Ac:[]};s[this.size]=t;for(let a=0;a<30;a++)t.Bc.push(e/360),t.Cc.push(e/(2*Math.PI)),t.zc.push(e/2),t.Ac.push(e),e*=2}this.Bc=s[this.size].Bc,this.Cc=s[this.size].Cc,this.zc=s[this.size].zc,this.Ac=s[this.size].Ac}px(e,a){if(Number.isInteger(a)){let s=this.zc[a],r=Math.min(Math.max(Math.sin(t*e[1]),-.9999),.9999),n=Math.round(s+e[0]*this.Bc[a]),c=Math.round(s+.5*Math.log((1+r)/(1-r))*-this.Cc[a]);return n>this.Ac[a]*this.expansion&&(n=this.Ac[a]*this.expansion),c>this.Ac[a]&&(c=this.Ac[a]),[n,c]}{let s=this.size*Math.pow(2,a),r=s/2,n=s/360,c=s/(2*Math.PI),i=s,o=Math.min(Math.max(Math.sin(t*e[1]),-.9999),.9999),l=r+e[0]*n,d=r+.5*Math.log((1+o)/(1-o))*-c;return l>i*this.expansion&&(l=i*this.expansion),d>i&&(d=i),[l,d]}}ll(e,t){if(Number.isInteger(t)){let s=(e[1]-this.zc[t])/-this.Cc[t];return[(e[0]-this.zc[t])/this.Bc[t],a*(2*Math.atan(Math.exp(s))-.5*Math.PI)]}{let s=this.size*Math.pow(2,t),r=s/360,n=s/(2*Math.PI),c=s/2,i=(e[1]-c)/-n;return[(e[0]-c)/r,a*(2*Math.atan(Math.exp(i))-.5*Math.PI)]}}}e.bounds=function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:256;Array.isArray(e)||(e=[e.lon,e.lat]);const n=new r({size:s}),c=n.px(e,t),i=n.ll([c[0]-a[0]/2,c[1]-a[1]/2],t),o=n.ll([c[0]+a[0]/2,c[1]+a[1]/2],t);return[i[0],o[1],o[0],i[1]]},e.viewport=function(e,t){let{minzoom:a=0,maxzoom:s=20,tileSize:n=256,allowFloat:c=!1,allowAntiMeridian:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new r({size:n,antimeridian:i}),l=s,d=o.px([e[0],e[1]],l),u=o.px([e[2],e[3]],l),p=u[0]-d[0],j=d[1]-u[1],m=d[0]+p/2,b=u[1]+j/2,h=function(e,t,a){const s=Math.min(e-Math.log(t[0])/Math.log(2),e-Math.log(t[1])/Math.log(2));return a?s:Math.floor(s)}(l,[p/t[0],j/t[1]],c);return{center:o.ll([m,b],l),zoom:Math.max(a,Math.min(s,h))}}}(t)},1989:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return d}));a(1);var s=a(20),r=a(30),n=a(42),c=a(172),i=a(0);function o(e){let{completeness:t}=e;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"cf db pt1 flex items-center",children:[Object(i.jsxs)("div",{className:"w-90 pr3 fl relative",children:[Object(i.jsx)("div",{className:"absolute bg-red br-pill hhalf hide-child",style:{width:"".concat(100*t.toPrecision(3),"%")}}),Object(i.jsx)("div",{className:"bg-tan br-pill hhalf hide-child overflow-y-hidden"})]}),Object(i.jsx)("div",{className:"w-10 fl pl1 fw7",children:Object(i.jsx)(s.a,{value:t,maximumFractionDigits:0,style:"percent"})})]})})}function l(e){return c.a.filter((t=>e[t])).length/c.a.length}function d(e){let{userDetails:t}=e;const a=l(t);return Object(i.jsxs)("div",{className:"bg-white ph3 pv3 mr4",children:[Object(i.jsx)("h3",{className:"blue-dark f4 ma0 fw7",children:Object(i.jsx)(r.a,{...n.a.completenessTitle})}),Object(i.jsxs)("p",{className:"blue-grey mt2",children:[0===a&&Object(i.jsx)(r.a,{...n.a.completenessLead0}),a>0&&a<1&&Object(i.jsx)(r.a,{...n.a.completenessLead1}),1===a&&Object(i.jsx)(r.a,{...n.a.completenessLead2})]}),Object(i.jsx)(o,{completeness:a})]})}},2033:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var s=a(246),r=a(10),n=a(138);const c=(e,t)=>{const a=Object(r.d)((e=>e.auth.token)),c=Object(r.d)((e=>e.preferences.locale));return Object(s.a)({queryKey:["questions-and-comments",e,t],queryFn:s=>{let{signal:r}=s;return Object(n.a)(a,c).get("projects/".concat(e,"/comments/"),{signal:r,params:{perPage:5,page:t}})},select:e=>e.data})},i=function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"en";return Object(n.a)(a,s).post("projects/".concat(e,"/comments/"),{message:t})},o=function(e,t,a,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"en";return Object(n.a)(s,r).post("projects/".concat(e,"/comments/tasks/").concat(t,"/"),{comment:a})}},2035:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s=(e,t)=>e.reduce(((e,a)=>(e.includes(a.actionBy)||a.actionBy===t||e.push(a.actionBy),e.sort())),[])},2036:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s=a(10),r=a(246),n=a(138);const c=(e,t)=>{const a=Object(s.d)((e=>e.auth.token));return Object(r.a)({queryKey:["user-teams",e],queryFn:t=>{let{signal:s}=t;return Object(n.a)(a).get("teams/",{signal:s,params:e})},select:e=>e.data,...t})}},2038:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return h}));a(1);var s=a(10),r=a(20),n=a(30),c=a(92),i=a.n(c),o=a(118),l=a(42),d=a(106),u=a(1989),p=a(1924),j=a(9),m=a(0);function b(e){let t,a,{changesetsCount:s}=e;return s=Number(s),s<j.p?(t=Object(m.jsx)(r.a,{value:j.p}),a=Object(m.jsx)(p.b,{level:"INTERMEDIATE",className:"ttl "})):s<j.a&&(t=Object(m.jsx)(r.a,{value:j.a}),a=Object(m.jsx)(p.b,{level:"ADVANCED",className:"ttl"})),a?Object(m.jsx)("span",{className:"blue-grey",children:Object(m.jsx)(n.a,{...l.a.nextLevel,className:"blue-grey",values:{changesets:Object(m.jsx)("span",{className:"blue-dark f4 fw6",children:Object(m.jsx)(r.a,{value:s})}),nextLevelThreshold:Object(m.jsx)("span",{className:"blue-dark f4",children:t}),level:a}})}):""}function h(){const e=Object(s.d)((e=>e.auth.userDetails)),t=Object(s.d)((e=>e.auth.osm)),a=Object(m.jsxs)("div",{className:"pl2 dib",children:[Object(m.jsx)(o.TextRow,{style:{width:150,height:"2.3em"},color:"#eee"}),Object(m.jsx)(o.TextRow,{style:{width:150,height:"1em"},color:"#eee"}),Object(m.jsx)(o.TextRow,{style:{width:150,height:"1em"},color:"#eee"})]});return Object(m.jsxs)("div",{className:"cf ph4 pv4 mb2",children:[Object(m.jsxs)("div",{className:"w-100 w-75-l fl flex flex-column flex-row-ns items-center tc tl-ns",children:[Object(m.jsx)("div",{className:"fl dib mr3",children:Object(m.jsx)(d.a,{className:"h4 w4 br-100 pa1 ba b--grey-light bw3 red"})}),Object(m.jsx)(i.a,{showLoadingAnimation:!0,customPlaceholder:a,delay:500,ready:void 0!==e&&void 0!==t,children:Object(m.jsxs)("div",{className:"pl2 dib lh-solid mt3 mt0-ns",children:[Object(m.jsx)("h3",{className:"ttu fw5 mv0 barlow-condensed username-heading",children:e.name||e.username}),Object(m.jsx)("p",{className:"f4 blue-dark mv3 fw5",children:Object(m.jsx)(p.b,{level:e.mappingLevel})}),Object(m.jsx)(b,{changesetsCount:t?t.changesetCount:0})]})})]}),Object(m.jsx)("div",{className:"w-100 w-25-l fl dn db-ns",children:Object(m.jsx)(u.a,{userDetails:e})})]})}},2042:function(e,t,a){"use strict";a.d(t,"b",(function(){return D})),a.d(t,"a",(function(){return P}));var s=a(1),r=a(10),n=a(1988),c=a(30),i=a(2146),o=a(179),l=a(92),d=a.n(l),u=a(1917),p=a(1975);var j=e=>{const[t,a]=Object(s.useState)(null);return Object(s.useEffect)((()=>{if(e&&e.taskHistory&&e.taskHistory.length){const t=e.taskHistory.sort(p.b)[e.taskHistory.length-1];t.actionDate&&a(t.actionDate)}}),[e]),t};var m=e=>Object(s.useCallback)((()=>e&&e.taskHistory&&e.taskHistory.length?e.taskHistory.reduce(((e,t)=>(e.includes(t.actionBy)||e.push(t.actionBy),e)),[]):[]),[e]),b=a(139),h=a(1941),g=a(167),f=a(2035),O=a(2045);function v(e,t){let a="https://overpass-turbo.eu/map.html?Q=",s="json";arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(a="https://overpass-api.de/api/interpreter?data=",s="xml");const r=[t[1],t[0],t[3],t[2]],n=e.map((e=>function(e,t){return'node(user:"'.concat(e,'")(').concat(t,');way(user:"').concat(e,'")(').concat(t,');relation(user:"').concat(e,'")(').concat(t,");")}(e,r))).join(""),c="[out:".concat(s,"][timeout:250];(").concat(n,");out body;>;out skel qt;");return"".concat(a).concat(encodeURIComponent(c))}var x=a(29),k=a(106),y=a(13),w=a(9),M=a(32),N=a(121),A=a(1935),C=a(1934),T=a(1914),I=a(1974),E=a(2033),S=(a(2066),a(0));const L=e=>{let{projectId:t,taskId:a,contributors:n,setCommentPayload:o}=e;const l=Object(r.d)((e=>e.auth.token)),d=Object(r.d)((e=>e.preferences.locale)),[p,j]=Object(s.useState)(""),m=Object(i.a)({mutationFn:()=>Object(E.b)(t,a,p,l,d),onSuccess:e=>{o(e.data),j("")}});return Object(S.jsxs)("div",{className:"w-100 pt3 ph3-ns ph1 flex flex-column",children:[Object(S.jsx)(A.a,{comment:p,setComment:j,enableHashtagPaste:!0,contributors:n,enableContributorsHashtag:!0,isShowUserPicture:!0,isShowTabNavs:!0}),Object(S.jsxs)("div",{className:"ml-auto mb5 flex flex-column gap-1 items-end",children:[Object(S.jsx)(M.b,{onClick:()=>{p&&m.mutate({message:p})},className:"bg-red white f6",loading:m.isLoading,disabled:!p,children:Object(S.jsx)(c.a,{...u.a.comment})}),Object(S.jsx)(I.a,{status:m.status,comment:p})]})]})},D=e=>{var t;let{projectId:a,taskId:r}=e;const[n,i]=Object(s.useState)("Comments"),{data:o,status:l}=Object(C.m)(a,r),p=null===o||void 0===o?void 0:o.taskHistory,j=null===o||void 0===o?void 0:o.taskHistory.filter((e=>"COMMENT"===e.action)),m=null===o||void 0===o?void 0:o.taskHistory.filter((e=>"COMMENT"!==e.action));let h;h="Comments"===n?j:"Activities"===n?m:p;return"loading"===l?Object(S.jsx)("div",{className:"ma4",children:Object(S.jsx)(d.a,{type:"media",showLoadingAnimation:!0,delay:300})}):"error"===l?Object(S.jsx)("div",{className:"ma4 gray",children:Object(S.jsx)(T.a,{type:"error",children:Object(S.jsx)(c.a,{...u.a.taskDetailFetchError})})}):0===p.length?Object(S.jsx)("div",{className:"ma4 dark-gray tc",children:Object(S.jsx)(c.a,{...u.a.noActivitiesToDisplay})}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"ml3 pl1 pv2 blue-dark flex flex-wrap","aria-label":"view task history options",children:[{value:"Comments",label:"Comments"},{value:"Activities",label:"Activities"},{value:"All",label:"All"}].map((e=>Object(S.jsxs)("label",{className:"pt1 pr3 fl w-15",children:[Object(S.jsx)("input",{value:e.value,checked:n===e.value,onChange:()=>i(e.value),type:"radio",className:"radio-input input-reset pointer v-mid dib h2 w2 mr2 br-100 ba b--blue-light"}),Object(S.jsx)(c.a,{...u.a["taskHistory".concat(e.label)]})]},e.value)))}),Object(S.jsx)("div",{className:"timeline-container",children:0===h.length?Object(S.jsx)("div",{className:"ma4 dark-gray tc",children:Object(S.jsx)(c.a,{...u.a.noCommentsYet})}):null===(t=(()=>{if(0===h.length)return;let e=[],t=h[0].actionBy;return h.forEach((a=>{a.actionBy===t?0===e.length?e.push([a]):e[e.length-1].push(a):(t=a.actionBy,e.push([a]))})),e})())||void 0===t?void 0:t.map(((e,t)=>Object(S.jsx)("div",{className:"grouped-ctr session ph3 mt4 bb b--grey-light",children:e.map(((t,a)=>Object(S.jsxs)("div",{className:"flex activity relative",children:[Object(S.jsx)("div",{className:"flex justify-center",children:0===a?Object(S.jsx)(k.b,{username:e[0].actionBy,picture:e[0].pictureUrl,colorClasses:"white bg-blue-grey z-1 relative"}):Object(S.jsx)("div",{className:"oval z-1"})}),Object(S.jsxs)("div",{className:"mh2 f6 blue-dark",style:{marginTop:"-2px"},children:[Object(S.jsxs)("p",{className:"ma0 blue-grey",children:[0===a&&Object(S.jsxs)("div",{className:"mt2 dib",children:[Object(S.jsx)("a",{href:"/users/"+t.actionBy,className:"blue-dark b no-underline underline-hover",children:t.actionBy}),"\xa0"]}),z(t.action,t.actionText)," ",Object(S.jsx)(b.a,{date:t.actionDate})]}),"COMMENT"===t.action&&Object(S.jsx)("div",{className:"ma0 comment",dangerouslySetInnerHTML:Object(g.b)(Object(g.a)(t.actionText))})]})]},t.historyId)))},e[0].historyId)))})]})},R=e=>{var t;let{history:a,changesetComment:r,bbox:n}=e;const i=j(a),o=m(a),l=Object(s.useMemo)((()=>Object(h.a)({aoiBBOX:n,created:i,usernames:o(),changesetComment:r})),[n,i,o,r]);return(null===a||void 0===a||null===(t=a.taskHistory)||void 0===t?void 0:t.length)>0?Object(S.jsx)(N.a,{value:null,options:[{label:Object(S.jsx)(c.a,{...u.a.taskOnOSMCha}),href:l},{label:Object(S.jsx)(c.a,{...u.a.overpassVisualization}),href:v(o(),n)},{label:Object(S.jsx)(c.a,{...u.a.overpassDownload}),href:v(o(),n,!0)}],display:Object(S.jsx)(c.a,{...u.a.taskData}),className:"blue-dark bg-white v-mid pv2 ph2 ba b--grey-light link"}):Object(S.jsx)(S.Fragment,{})},P=e=>{var t;let{taskId:a,status:n,project:i,bbox:l,close:d,updateActivities:p,userCanValidate:j}=e;const m=Object(r.d)((e=>e.auth.token)),b=Object(r.d)((e=>e.auth.userDetails)),[h,g]=Object(s.useState)(!1),O=Object(o.b)(),{data:v}=Object(C.m)(i.projectId,a,!0),k=(null===v||void 0===v?void 0:v.taskHistory)&&Object(f.a)(v.taskHistory,b.username),w=e=>{O.setQueryData(["task-detail",i.projectId,a],{data:e})};return Object(S.jsxs)("div",{className:"h-100 bg-white",children:[Object(S.jsxs)("div",{className:"w-100 pt2 pb3 pl4 pr2 blue-dark bg-tan relative",children:[Object(S.jsx)(y.n,{className:"h1 w1 fr pointer",onClick:()=>d()}),Object(S.jsxs)("div",{className:"f5 pa0 ma0 cf",children:[Object(S.jsxs)("div",{className:"w-40-l w-100 fl pt2",children:[Object(S.jsx)("p",{className:"ttu f3 pa0 ma0 barlow-condensed b mb2",children:Object(S.jsx)(c.a,{...u.a.taskActivity,values:{n:a}})}),null!==(t=i.projectInfo)&&void 0!==t&&t.name?Object(S.jsxs)("span",{children:[Object(S.jsxs)("b",{children:["#",i.projectId]}),": ",i.projectInfo.name]}):Object(S.jsx)(c.a,{...u.a.projectId,values:{id:i.projectId}})]}),Object(S.jsxs)("div",{className:"w-60-l w-100 fl tr pr3 pt2",children:[j&&Object(S.jsx)("div",{className:"ph1 dib",children:["VALIDATED","BADIMAGERY"].includes(n)&&Object(S.jsx)(B,{bbox:l,taskId:a,project:i})}),Object(S.jsx)("div",{className:"ph1 dib",children:l&&i.changesetComment&&Object(S.jsx)(R,{history:v,bbox:l,changesetComment:i.changesetComment})})]}),Object(S.jsx)("div",{className:"fl tr w-100 pt2 pr3",children:j&&["VALIDATED","BADIMAGERY"].includes(n)&&!h&&Object(S.jsx)(F,{resetFn:()=>{Object(x.d)("projects/".concat(i.projectId,"/tasks/actions/undo-last-action/").concat(a,"/"),{},m).then((e=>{w(e),void 0!==p&&p(i.projectId),g(!0)}))},status:n})})]})]}),Object(S.jsx)("div",{className:"blue-dark overflow-y-auto vh-50",children:Object(S.jsx)(D,{projectId:i.projectId,taskId:a})}),Object(S.jsx)(L,{projectId:i.projectId,taskId:a,setCommentPayload:w,contributors:k})]})};function B(e){let{project:t,taskId:a,bbox:s}=e;return Object(S.jsx)(N.a,{options:[{label:"iD Editor",value:"ID"},{label:"JOSM",value:"JOSM"}],value:[],display:Object(S.jsx)(c.a,{...u.a.openEditor}),className:"bg-white b--grey-light ba pa2 dib v-mid",onChange:e=>{if("ID"===e[0].value){let e=window.open("","iD-".concat(t.projectId,"-").concat(a));const{center:r,zoom:c}=Object(n.viewport)(s,[window.innerWidth,window.innerHeight]);e.location.href=Object(O.c)(t,r,c,[a],w.n)}"JOSM"===e[0].value&&Object(O.f)(t,{},[a],[window.innerWidth,window.innerHeight],s)}})}function F(e){let{status:t,resetFn:a}=e;const[r,n]=Object(s.useState)(!1);return Object(S.jsx)(S.Fragment,{children:r?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("span",{className:"dib pb2",children:[Object(S.jsx)(c.a,{...u.a["confirmRevert".concat(t)]}),Object(S.jsxs)("span",{className:"fw6",children:[" ",Object(S.jsx)(c.a,{...u.a.proceed})]})]}),Object(S.jsx)(M.c,{className:"mh1 dib link ph3 f6 pv2 bg-white blue-dark ba b--white",onClick:()=>n(!1),children:Object(S.jsx)(c.a,{...u.a.no})}),Object(S.jsx)(M.c,{className:"mh1 dib link ph3 f6 pv2 bg-red white ba b--red",onClick:()=>{a(),n(!1)},children:Object(S.jsx)(c.a,{...u.a.yes})})]}):Object(S.jsx)(M.c,{className:"mh1 link ph3 f6 pv2 bg-red white ba b--red",onClick:()=>n(!0),children:Object(S.jsx)(c.a,{...u.a["revert".concat(t)]})})})}const z=(e,t)=>{let a="";switch(e){case"COMMENT":a=u.a.taskHistoryComment;break;case"LOCKED_FOR_MAPPING":a=u.a.taskHistoryLockedMapping;break;case"LOCKED_FOR_VALIDATION":a=u.a.taskHistoryLockedValidation;break;case"AUTO_UNLOCKED_FOR_MAPPING":a=u.a.taskHistoryAutoUnlockedMapping;break;case"AUTO_UNLOCKED_FOR_VALIDATION":a=u.a.taskHistoryAutoUnlockedValidation;break;case"EXTENDED_FOR_MAPPING":a=u.a.taskHistoryExtendedForMapping;break;case"EXTENDED_FOR_VALIDATION":a=u.a.taskHistoryExtendedForValidation;break;case"STATE_CHANGE":switch(t){case"BADIMAGERY":a=u.a.taskHistoryBadImagery;break;case"MAPPED":a=u.a.taskHistoryMapped;break;case"VALIDATED":a=u.a.taskHistoryValidated;break;case"INVALIDATED":a=u.a.taskHistoryInvalidated;break;case"SPLIT":a=u.a.taskHistorySplit;break;case"READY":a=u.a.taskHistoryReady}}if(a)return Object(S.jsx)(c.a,{...a})}},2045:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"f",(function(){return m})),a.d(t,"b",(function(){return b}));var s=a(9),r=a(1922),n=a(1930),c=a(1988);function i(e,t){const a=t?Object(r.e)(e.features.filter((e=>t.includes(e.properties.taskId)))):e;return Object(n.a)(a)}function o(e,t,a,r,n,o){if("JOSM"===e)return m(t,a,r,n),"?editor=JOSM";const{center:l,zoom:d}=function(e,t,a){return Object(c.viewport)(i(e,t),a)}(a,r,n);if(["ID","RAPID"].includes(e))return p(t,l,d,r,"?editor="+e);if((null==o||o.closed)&&(o=window.open("","iD-".concat(t,"-").concat(r))),"POTLATCH_2"===e)return o.location.href=(u=l,j=d,"".concat(s.N,"#map=").concat([j,h(u[1],5),h(u[0],5)].join("/"))),"?editor=POTLATCH_2";var u,j;if("FIELD_PAPERS"===e)return o.location.href=function(e,t){return"http://fieldpapers.org/compose#".concat([t,h(e[1],5),h(e[0],5)].join("/"))}(l,d),"?editor=FIELD_PAPERS";if("CUSTOM"===e){const e=t.customEditor.url;return o.location.href=p(t,l,d,r,e),"?editor=CUSTOM"}}function l(e){if(e)return e.substring(e.indexOf("http")).replace("zoom","z")}function d(e,t){return new URL("projects/".concat(e,"/tasks/queries/gpx/?tasks=").concat(t.join(",")),s.b).href}function u(e,t){return new URL("projects/".concat(e,"/tasks/queries/xml/?tasks=").concat(t.join(",")),s.b)}function p(e,t,a,r,n){const c=n?function(e){return e.includes("?")?e:"".concat(e,"?")}(n):"".concat(s.n);let i=c+"#map="+[a,t[1],t[0]].join("/");if(e.extraIdParams){let t=j(e.extraIdParams);t.startsWith("&")||(t="&".concat(t)),i+=t}return["?editor=ID","?editor=RAPID"].includes(n)||(e.changesetComment&&(i+="&comment="+encodeURIComponent(e.changesetComment)),e.imagery&&(e.imagery.includes("http")?i+="&background=custom:"+encodeURIComponent(l(e.imagery)):i+="&background="+encodeURIComponent(l(e.imagery))),e.projectId&&r&&(i+="&gpx="+encodeURIComponent(d(e.projectId,r))),e.idPresets&&(i+="&presets="+encodeURIComponent(e.idPresets.join(",")))),i}const j=e=>{let t="";return e.split("&").filter((e=>e)).forEach((e=>{const[a,s]=e.split("=");t+="&".concat(a,"=").concat(encodeURIComponent(s))})),t},m=async(e,t,a,s,r)=>(await function(e,t){const a="Boundary for task".concat(t.length>1?"s:":":"," ").concat(t.join(",")," of TM Project #").concat(e.projectId," - Do not edit or upload"),s={new_layer:!0,layer_name:a,layer_locked:!0,download_policy:"never",upload_policy:"never",url:u(e.projectId,t).href};return f(b("import",s))}(e,a),await function(e){if(e.imagery){if(e.imagery.includes("http")){const[t,a,s]=function(e){const t="wms"===e.toLowerCase().substr(0,3)?"wms":"tms",a=e.substr(e.indexOf("[")+1,e.indexOf("]")-e.indexOf("[")-1),[s,r]=a.length?-1!==a.indexOf(":")?a.split(":"):[null,a]:[null,null];return[t,""!==s&&null!==s?Number(s):null,""!==r&&null!==r?Number(r):null]}(e.imagery),r={title:e.imagery,type:t};return a&&(r.min_zoom=a),s&&(r.max_zoom=s),r.url=e.imagery.substr(e.imagery.indexOf("http")),f(b("imagery",r))}return f(b("imagery",{id:e.imagery}))}}(e),await a.map((async(a,s)=>await function(e,t,a){const s={left:t[0],bottom:t[1],right:t[2],top:t[3],changeset_comment:e.changesetComment,changeset_source:e.imagery?e.imagery:"",new_layer:a,layer_name:"OSM Data"};return f(b("load_and_zoom",s))}(e,r||i(t,[a]),0===s))),!0);function b(e,t){return new URL(function(e){const t=Object.keys(e).map((t=>"".concat(t,"=").concat(encodeURIComponent(e[t])))).join("&");return"?".concat(t)}(t),"http://127.0.0.1:8111/".concat(e))}function h(e,t){const a=Math.pow(10,t);return Math.round(e*a)/a}let g=null;const f=function(e){return window.safari?new Promise(((t,a)=>{g&&!g.closed&&g.close(),g=window.open(e),setTimeout((()=>{g&&!g.closed&&g.close(),t(!0)}),1e3)})):fetch(e).then((e=>200===e.status)).catch((e=>(console.log(e),!1)))}},2059:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return h}));var s=a(1),r=a.n(s),n=a(10),c=a(1943),i=a.n(c),o=(a(1972),a(1954)),l=a.n(o),d=a(1928),u=a(9),p=a(0);let j=new Image(17,20);j.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACuSURBVCiRldE9igIxGAbgB4v1B8QTiJ0grpV32MZ6sfZMVjYW2ggexj2CoFdwQQTdwhlwZhIz+0IIhPeBLwnVTLDFGfds32Ac6BYyxxWPwLriOwYH+I3AfF3Qz0HjBS/QTkzWyXoVPE3ASu8Vf9TEzRA+1MQ/ocNPz69592D3rBfMPoH370Ya4haBN4xSd1pF8DIFoYdTCR7RrYNhpvhIX3VhnrV/jFtOBzu0YoU/z51CYvMRYc0AAAAASUVORK5CYII=",i.a.accessToken=u.r;try{i.a.setRTLTextPlugin(u.q)}catch{console.log("RTLTextPlugin is loaded")}const m=u.r?["DIN Offc Pro Medium","Arial Unicode MS Bold"]:["Open Sans Semibold"],b=function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addImage("mapMarker",j,{width:15,height:15,data:j}),e.addSource("projects",{type:"geojson",data:t,cluster:!0,clusterRadius:35}),e.addLayer({id:"projectsClusters",filter:["has","point_count"],type:"circle",source:"projects",layout:{},paint:{"circle-color":"rgba(104,112,127,0.5)","circle-radius":["step",["get","point_count"],14,10,22,50,30,500,37]}}),e.addLayer({id:"cluster-count",type:"symbol",source:"projects",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":m,"text-size":16},paint:{"text-color":"#FFF","text-halo-width":10,"text-halo-blur":1}}),e.addLayer({id:"projects-unclustered-points",type:"symbol",source:"projects",filter:["!",["has","point_count"]],layout:{"icon-image":"mapMarker","text-field":"#{projectId}","text-font":m,"text-offset":[0,.6],"text-anchor":"top"},paint:{"text-color":"#2c3038","text-halo-width":1,"text-halo-color":"#fff"}}),e.on("mouseenter","projects-unclustered-points",(function(t){s||(e.getCanvas().style.cursor="pointer")})),e.on("mouseleave","projects-unclustered-points",(function(t){e.getCanvas().style.cursor=""})),e.on("click","projects-unclustered-points",(e=>{const t=e.features&&e.features[0].properties&&e.features[0].properties.projectId;a(t)}))},h=e=>{let{mapResults:t,fullProjectsQuery:a,setQuery:c,className:o}=e;const j=r.a.createRef(),m=Object(n.d)((e=>e.preferences.locale)),[h,g]=Object(s.useState)(null),f=Object(s.useCallback)((e=>c({...a,page:void 0,text:["#",e].join("")},"pushIn")),[a,c]);return Object(s.useLayoutEffect)((()=>(i.a.supported()&&g(new i.a.Map({container:j.current,style:u.s,center:[0,0],zoom:.5,attributionControl:!1}).addControl(new i.a.AttributionControl({compact:!1})).addControl(new l.a({defaultLanguage:m.substr(0,2)||"en"}))),()=>{h&&h.remove()})),[]),Object(s.useLayoutEffect)((()=>{const e=t&&t.features&&t.features.length>0,a=null!==h&&h.isStyleLoaded()&&void 0===h.getSource("projects")&&e,s=null!==h&&!h.isStyleLoaded()&&void 0===h.getSource("projects")&&e;a?b(h,t,f):s&&h.on("load",(()=>b(h,t,f))),null!==h&&void 0!==h.getSource("projects")&&e&&h.getSource("projects").setData(t)}),[h,t,f]),i.a.supported()?Object(p.jsx)("div",{id:"map",className:"h-100 w-100 ".concat(o||""),ref:j}):Object(p.jsx)(d.a,{className:"h-100 w-100  ".concat(o||"")})}},2066:function(e,t,a){},2068:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"a",(function(){return j}));a(1);var s=a(1955),r=a.n(s),n=a(30),c=a(1923),i=a(13),o=a(1932),l=a(1966),d=a(0);const u=e=>{let{userStats:t,username:a}=e;const{tasksMapped:s,tasksValidatedByOthers:r,tasksInvalidatedByOthers:o,tasksValidated:l,tasksInvalidated:u}=t,p=[{icon:Object(d.jsx)(i.Q,{className:"v-mid h-100 w-50-ns w-25"}),title:c.a.userMapped,items:[{label:c.a.tasks,value:s},{label:c.a.validated,value:r},{label:c.a.invalidated,value:o}]},{icon:Object(d.jsx)(i.qb,{className:"v-mid h-100 w-30-ns w-25"}),title:c.a.userValidated,items:[{label:c.a.tasks,value:l+u||0},{label:c.a.finished,value:l},{label:c.a.invalidated,value:u}]}];return Object(d.jsx)("div",{className:"relative base-font blue-grey task-stats-ctr",children:p.map(((e,t)=>Object(d.jsxs)("article",{className:"shadow-6 pv3 ph2 bg-white flex flex-column flex-row-ns items-center",children:[Object(d.jsx)("div",{className:"w-75 w-25-ns h-100 pa2 pa0-m red tc",children:e.icon}),Object(d.jsxs)("div",{className:"w-75 mt3 tc f6 b",children:[Object(d.jsxs)("div",{className:" w-100",children:[Object(d.jsx)("p",{className:"mb1 mt3 mt1-ns f3 fw6",style:{letterSpacing:"1.25px"},children:Object(d.jsx)(n.a,{...e.title,values:{user:a||Object(d.jsx)(n.a,{...c.a.you})}})}),Object(d.jsx)("hr",{className:"w-50"})]}),Object(d.jsx)("div",{className:"w-100 pt4 flex",children:e.items.map(((e,t)=>Object(d.jsxs)("div",{className:" w-33 tc",children:[Object(d.jsx)("p",{className:"ma0 mb0 barlow-condensed f2 fw5 red",children:e.value}),Object(d.jsx)("p",{className:"mb3 ttl fw6",children:Object(d.jsx)(n.a,{...e.label})})]},t)))})]})]},t)))})},p=r.a.humanizer({language:"shortEn",languages:{shortEn:{y:()=>"y",mo:()=>"mo",w:()=>"w",d:()=>"d",h:()=>"h",m:()=>"m",s:()=>"s",ms:()=>"ms"}}}),j=e=>{let{userStats:t,osmStats:a}=e;const s=p(1e3*t.timeSpentMapping,{round:!0,delimiter:" ",units:["h","m"],spacer:""}),r="h-50 w-50",u={height:"45px"};return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"w-100 relative stats-cards-container",children:[Object(d.jsx)(o.a,{invertColors:!0,icon:Object(d.jsx)(i.m,{className:r,style:u}),description:Object(d.jsx)(n.a,{...c.a.timeSpentMapping}),value:s}),Object(d.jsx)(o.a,{icon:Object(d.jsx)(i.G,{className:r,style:u}),description:Object(d.jsx)(n.a,{...c.a.buildingsMapped}),value:a.buildings||0}),Object(d.jsx)(o.a,{icon:Object(d.jsx)(i.eb,{className:r,style:u}),description:Object(d.jsx)(n.a,{...c.a.roadMapped}),value:a.roads||0}),Object(d.jsx)(o.a,{icon:Object(d.jsx)(i.T,{className:r,style:u}),description:Object(d.jsx)(n.a,{...c.a.poiMapped}),value:a.total_poi_count_add||"-"}),Object(d.jsx)(o.a,{icon:Object(d.jsx)(i.tb,{className:r,style:u}),description:Object(d.jsx)(n.a,{...c.a.waterwaysMapped}),value:a.total_waterway_km_add||"-"})]}),Object(d.jsx)("div",{className:"cf w-100 relative tr pt3 pr3",children:Object(d.jsx)(l.a,{messageType:"generic"})})]})}},2070:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(1);var s=a(6),r=a(23),n=a(0);function c(e){let{items:t}=e;const a=Object(s.n)(),c="link mh2 blue-dark ttc";return Object(n.jsx)("div",{className:"cf mb2 pb3 pt3-ns ph4 ph2-m bg-grey-light dib",children:t.map((e=>{return Object(n.jsx)(r.a,{to:e.url,className:(t=e.url,a.pathname===t.split("?")[0]?"".concat(c," bb b--blue-dark bw1 pb1"):c),children:Object(n.jsx)("span",{className:"db dib-ns",children:e.label})},e.url);var t}))})}},2103:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return j}));a(1);var s=a(30),r=a(1936),n=a(246),c=a(10),i=a(138);var o=a(2036),l=a(1914),d=a(1923),u=a(0);const p=e=>{let{userId:t}=e;const{data:a}=Object(o.a)({member:t,omitMemberList:!0});return Object(u.jsx)("div",{className:"cf db",children:a&&a.hasOwnProperty("teams")&&a.teams.map(((e,t)=>Object(u.jsx)("div",{className:"w-third-l w-50-m w-100 dib fl mv1 ph2",children:Object(u.jsx)(r.a,{team:e,className:"f5 fw6 pv3 ph3 truncate shadow-4 bg-white blue-dark"})},t)))})},j=e=>{let{userId:t}=e;const{data:a,status:r}=(e=>{const t=Object(c.d)((e=>e.auth.token));return Object(n.a)({queryKey:["user-organisations",e],queryFn:a=>{let{signal:s}=a;return Object(i.a)(t).get("organisations/",{signal:s,params:{manager_user_id:e,omitManagerList:!0}})},select:e=>e.data})})(t);return Object(u.jsxs)(u.Fragment,{children:["success"===r&&a.organisations.map((e=>Object(u.jsx)("div",{title:e.name,className:"cf ph2 pv1 tc dib",children:e.logo?Object(u.jsx)("img",{alt:e.name,src:e.logo,className:"object-fit-contain h2 v-mid"}):Object(u.jsx)("span",{className:"bg-red-light red truncate",children:e.name})},e.organisationId))),"error"===r&&Object(u.jsx)(l.a,{type:"error",compact:!0,inline:!0,children:Object(u.jsx)(s.a,{...d.a.userOrganisationsError})})]})}},2115:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var s=a(1),r=a(10),n=a(50),c=a(30),i=a(42),o=a(13),l=a(1924),d=a(2038),u=a(2103),p=a(2070),j=a.p+"static/media/osm_logo.85cd0e72.png",m=a(9),b=a(0);const h=e=>{let{data:t}=e;const a=Object(n.a)(),s=e=>{const t={width:"1.4em",height:"1.4em"};switch(e){case"twitterId":return Object(b.jsx)(o.nb,{style:t,className:"light-blue v-mid"});case"facebookId":return Object(b.jsx)(o.w,{style:t,className:"dark-blue v-mid"});case"linkedinId":return Object(b.jsx)(o.L,{style:t,className:"blue v-mid"});default:return null}},r=(e,t)=>{const a={twitterId:"https://www.twitter.com/".concat(t),facebookId:"https://www.facebook.com/".concat(t),linkedinId:"https://www.linkedin.com/in/".concat(t),osm:"".concat(m.M,"/user/").concat(t),missingmaps:"https://www.missingmaps.org/users/#/".concat(t),osmcha:'https://osmcha.org/?filters={"users":[{"label":"'.concat(t,'","value":"').concat(t,'"}]}'),hdycNeisOne:"https://hdyc.neis-one.org/?".concat(t)};return Object(b.jsx)("a",{className:"blue-grey no-underline",rel:"noopener noreferrer",target:"_blank",href:a[e],children:t})};return Object(b.jsxs)("ul",{className:"list pa0 ma0 mt3",children:[Object(b.jsx)("li",{className:"dib mr4-ns mr2 cf f7",children:Object(b.jsxs)("div",{className:"mr2 h2",children:[Object(b.jsx)("img",{className:"h1 v-mid",src:j,alt:"OpenStreetMap"})," ",r("osm",t.username)]})}),Object(b.jsx)("li",{className:"dib mr4-ns mr2 cf f7",title:a.formatMessage(i.a.osmChaUsername),children:Object(b.jsxs)("div",{className:"mr2 h2",children:[Object(b.jsx)("img",{className:"h1 v-mid",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABmJLR0QA/wD/AP+gvaeTAAAFZ0lEQVRogc2aaWwVVRTHf30tS5HiglZQi4CoiFiQagwaFE1AIgYMiYlbYlRiEBNU4hcSo19cYowm+sElxiBo/IAmGiGCuKUaUzFKcEkVxQp1K320gCwibd/zw+nY6XDfvXdmzkz5Jyfte/Pu+Z//zJ27nHuqgfsR/AWUyQ71wHigFjiQIY8TGxChu4GXgPnAMAW/E4H7gHeAP/s5ykAJuF3Bf2KsDAUTWBewGlgIjIjhaxrwCLDN4DNsNynFnggzKwQV2D5gLbAYqIu0LQCNwMPAdw4/gX1DvJuojgJQxC/YXuAHoBn4GrkZPu0C2w9cmI8sO9YRL/Akdhi4Ki9BLiwjW7H/AtfmpsaCmv6/H2XIUQbuBt6P0eZUYA7QAIxFZo0i0AF8CfyiEdhOsnm6Kz35TwQeBL5Fpi6bz9+AZ4BzE6sFXlUUGdiLHry1wBPA3wn8l4C3gAlJBN+hLLYNGO3gvBj4WYHrELAiruBJimL7gCsdfPNI9lRttgYYGUf0LiViV1duAg4qiw1sMzDcV/BaBcKjyDq6Ek5jYKOSlb3mK3ipAtlqB8cbGYsNbKmP4CYFoukW/5fnJLaMjA9nuwSPSkmyw+F/AzpifO1ll2CQIT4pwbMWv2fhXlBo21Eic3QhElQ1MYf1CDZari0BqlL4ToJhwM3hL6KCZxi+i4NWy7WrU/hNg8W2i0+TrvtUW3zvTOE7jfVRIeEwFkmuZTFg1ZD/+xu284NAwt13Be61rw2HLddOIv/3N4yG4J9A8AnAvSmd2gY7jSxoGvQG/wSClyFdOg1sgvcgXWuo8E/4QxXQTvr3ZL+DtFuBI6nVB0EUkCzi/308BcY4/PykwJEEbUBn8KEAnKHovNFy7UNFnjj4NPyhgHQ1LcywXPtAkScOXol+UYukUTXeFdtTrML/dELLWqkwHX6sRNCDfbS/LWfBN1QKZLkiyZ0WwTXAlpzEvm2Jg3HI5KxB9J6NCDgH/eRd1DqR7agVnyiR9SEZUBsWoTduRO0AcKlLLMjSUov0cQ++hcgKSFvsfB+xIN26T4m4iF8i4SLkvFiDczv2fJoRnyuRl4FbPTlrgUeRpWkSnoPAYyTc6ZnKH5La5pjcJwOrgK2e/n9EbtS4OCTRSXkKctaTFt3IUcrWhO0nAJchp4MNDOzqOpHFxDakEkEFu0n3ZLuAWVrB5IEWkovdi+eUkBNqkdmnGTn0NyYoky4zfZ7sFeRX1HILg+vDyoRyW2G0ko3Yeci8WwI2ITUfWeS5LkB2ZqY4z4z+uI74S0yfbnwNkuSLtv0euIt0yf8A9cBzSLrYFGcRww1eVOHHaZ7sXNzHN13A88BsU1AW1CClUK8DRxwc7wYNwrgxBtk+YAH2qWcOcoA2yuHrFOCefutGFkBfILm2duSGgRx0T0I2IE3IacYYz3iP2dQMR7qnz5MtIvUZNswm+12Rr5Uw7J6u92zcgayBXWKTLhWzsC2mINd4NNyFuzZqFkObkjXZA9EgR+IuFP0VmOwQewn+r0Ve1odhOlriaNQCnO4QO5OBE4bjydabgn3T0mAdskRzie06DsSZ7LposKMxz5O9SOG3a15sxL/eOm/7zBS/KXW6A7/a5unIlm2ohZlsL7LMPAbrQz9qAx7Cb6k3DZmihlqYyTqQjYoappKsmq6HdFVCLjsEvED6o99BOA/4I2YgzcjCJqiBnAo8ic4UdgTZfS1H0kSqmAL87hlICclrzbX4q0PyaL4+y8huqAWpsV5AujINKybjd3C+HXgKeYq+GIFUIZj24p3IOLMKKUl2bUSs8N2KTUS6ZbiqrQfJKLQjZftfIbuctEnA8ciZdbnf956U/gbhP/6k2jgH7g1nAAAAAElFTkSuQmCC",alt:"OSM Cha Logo"})," ",r("osmcha",t.username)]})}),Object(b.jsx)("li",{className:"dib mr4-ns mr2 cf f7",children:Object(b.jsxs)("div",{className:"mr2 h2",children:[Object(b.jsx)("img",{className:"h1 v-mid",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADJWlDQ1BJQ0MgUHJvZmlsZQAAeAGFlE1IFGEYx/+zjQSxBtGXCMXQwSRUJgtSAtP1K1O2ZdVMCWKdfXedHGenmd0tRSKE6Jh1jC5WRIeITuGhQ6c6RASZdYmgo0UQBV4itv87k7tjVL4wM795nv/7fL3DAFWPUo5jRTRgys67yd6Ydnp0TNv8GlWoRhRcKcNzOhKJAZ+plc/1a/UtFGlZapSx1vs2fKt2mRBQNCp3ZAM+LHk84OOSL+SdPDVnJBsTqTTZITe4Q8lO8i3y1myIx0OcFp4BVLVTkzMcl3EiO8gtRSMrYz4g63batMnvpT3tGVPUsN/INzkL2rjy/UDbHmDTi4ptzAMe3AN211Vs9TXAzhFg8VDF9j3pz0fZ9crLHGr2wynRGGv6UCp9rwM23wB+Xi+VftwulX7eYQ7W8dQyCm7R17Iw5SUQ1BvsZvzkGv2Lg558VQuwwDmObAH6rwA3PwL7HwLbHwOJamCoFZHLbDe48uIi5wJ05pxp18xO5LVmXT+idfBohdZnG00NWsqyNN/laa7whFsU6SZMWQXO2V/beI8Ke3iQT/YXuSS87t+szKVTXZwlmtjWp7To6iY3kO9nzJ4+cj2v9xm3Zzhg5YCZ7xsKOHLKtuI8F6mJ1Njj8ZNkxldUJx+T85A85xUHZUzffi51IkGupT05meuXml3c2z4zMcQzkqxYMxOd8d/8xi0kZd591Nx1LP+bZ22RZxiFBQETNu82NCTRixga4cBFDhl6TCpMWqVf0GrCw+RflRYS5V0WFb1Y4Z4Vf895FLhbxj+FWBxzDeUImv5O/6Iv6wv6Xf3zfG2hvuKZc8+axqtrXxlXZpbVyLhBjTK+rCmIb7DaDnotZGmd4hX05JX1jeHqMvZ8bdmjyRzianw11KUIZWrEOOPJrmX3RbLFN+HnW8v2r+lR+3z2SU0l17K6eGYp+nw2XA1r/7OrYNKyq/DkjZAuPGuh7lUPqn1qi9oKTT2mtqttahffjqoD5R3DnJWJC6zbZfUp9mBjmt7KSVdmi+Dfwi+G/6VeYQvXNDT5D024uYxpCd8R3DZwh5T/w1+zAw3eoYKLCAAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAAdlJREFUWAntlL0rxVEYx6/3yBVKZJGFhQxeShJlspHBf2CwmWRitFhtBossFrKIhZgYZEIiihCJvL9+vrdzfvc43evKIOX3rY/znOf3nHOe+zzniERChRUIKxBW4L9XIMMrQAHzBiiDY6iGXqiBM7iB76qOwG5ohmw4hJRqJeIdFNwHOlBzcQBKJJWyCBiDB7Br37CnIApfyiagxS+wA1tgN5rETqUhAmz8BfaJM59ItdgmoA3mIB/yYBnk2wS/bbgClWKpVYpdggooAR0sn36UWpxUbgKdTtQItjbYhRwohiYP3R/1XHFP0AhWSsImNmydGjPdiWNrk1NnfmvsNMZH6IJp47NDB0almeiwbfuB8RzUTiWiix0oPbA+G7o0z45Lc1eJ2iCfLqCkJN318t3rD9KLCJSsAgpQFRJJBx3BvPdRFbs0viJGtcQeqjV62pKqE+irBIIgz9AvWDF4n4JnpgR6YNwEtDPa0q8ZX2z4SQLuet9ex7EB9TAKehXXMABqzz74lcMVVxumSi9q4+7IoPGp9LmOP5HZglPv3+5jR11k92XF1qo3rtS3KtiDGbgCqRz09PRPaRZeIZmU5AIUQhTuYBX6YRF+VUpAiYQKKxBWIKzA363AB0+yaatSuh0sAAAAAElFTkSuQmCC",alt:"HDYC Neis One Favicon"})," ",r("hdycNeisOne",t.username)]})}),t.slackId&&Object(b.jsx)("li",{className:"dib mr4-ns mr2 cf f7",title:a.formatMessage(i.a.slackUsername,{org:m.y}),children:Object(b.jsxs)("div",{className:"mr2 h2 blue-grey",children:[Object(b.jsx)("img",{className:"h1 v-mid",src:"data:image/png;base64,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",alt:"Slack"})," ",t.slackId]})}),["twitterId","facebookId","linkedinId"].map((e=>t[e]?Object(b.jsx)("li",{className:"dib mr4-ns mr2 cf f7",children:Object(b.jsxs)("div",{className:"mr2 h2",children:[s(e)," ",r(e,t[e])]})},e):null))]})},g=e=>{let{username:t,authUser:a}=e;const s=[{url:"/contributions",label:Object(b.jsx)(c.a,{...i.a.myStats})},{url:"/contributions/projects/?mappedByMe=1&action=any",label:Object(b.jsx)(c.a,{...i.a.myProjects})},{url:"/contributions/tasks",label:Object(b.jsx)(c.a,{...i.a.myTasks})},{url:"/contributions/teams",label:Object(b.jsx)(c.a,{...i.a.myTeams})}];return Object(b.jsx)("div",{className:"fl ph5-l ph2",children:Object(b.jsx)(p.a,{items:s})})},f=e=>{let{userDetails:t,changesets:a,selfProfile:n}=e;const c=Object(r.d)((e=>e.auth.userDetails)),[i,p]=Object(s.useState)({});return Object(s.useEffect)((()=>{n&&c&&p(c)}),[n,c,c.username]),Object(s.useEffect)((()=>{t&&t.id&&p(t)}),[t]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"w-100 h-100 cf pv4 pl5-l ph2 bg-white blue-dark flex flex-column flex-row-ns items-center",children:[Object(b.jsx)("div",{className:"fl dib pr3",children:i.pictureUrl?Object(b.jsx)("img",{className:"h4 w4 br-100 pa1 ba b--grey-light bw3 red",src:i.pictureUrl,alt:i.username}):Object(b.jsx)(o.ab,{className:"red"})}),Object(b.jsxs)("div",{className:"w-70-ns w-100 fl dib tc tl-ns",children:[Object(b.jsxs)("div",{className:"pl2 dib w-50-l fl w-100",children:[Object(b.jsx)("p",{className:"barlow-condensed f2 ttu fw5 ma0 mb3",style:{letterSpacing:"1.25px"},children:i.name||i.username}),Object(b.jsx)("p",{className:"f125 ma0 mb2 fw5",children:Object(b.jsx)(l.b,{level:i.mappingLevel})}),Object(b.jsx)(d.a,{changesetsCount:a}),Object(b.jsx)(h,{data:i})]}),Object(b.jsx)("div",{className:"pt1 dib fl w-50-l w-100 v-btm",children:Object(b.jsx)(u.a,{userId:i.id})})]})]}),i.username===c.username&&Object(b.jsx)(g,{username:i.username})]})}},2117:function(e,t,a){"use strict";a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return N}));var s=a(1),r=a(6),n=a(82),c=a(46),i=a(92),o=a.n(i),l=a(1930),d=a(30),u=a(151),p=a(1917),j=a(2042),m=a(1975),b=a(35),h=a(125),g=a(9),f=a(13),O=a(171),v=a(121),x=a(80);var k=a(0);function y(e){let{status:t,lockHolder:a}=e;const s=["READY","LOCKED_FOR_MAPPING"].includes(t),r=s?"0.875rem":"1rem",n=["LOCKED_FOR_VALIDATION","LOCKED_FOR_MAPPING"].includes(t);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"".concat(s?"ba bw1 b--grey-light":""," dib v-mid"),style:{height:r,width:r,backgroundColor:g.S[t]}}),n&&Object(k.jsx)(f.O,{style:{paddingTop:"1px"},className:"v-mid pl1 h1 w1"}),Object(k.jsx)("span",{className:"pl2 v-mid",children:n&&a?Object(k.jsx)(d.a,{...p.a.lockedBy,values:{user:a,lockStatus:Object(k.jsx)(d.a,{...p.a["taskStatus_".concat(t)]})}}):Object(k.jsx)(d.a,{...p.a["taskStatus_".concat(t)]})})]})}function w(e){let{data:t,project:a,setZoomedTaskId:c,selectTask:i,tasks:o,updateActivities:l,userCanValidate:j,selected:m=[]}=e;const[b,g]=Object(s.useState)(!1),O=Object(r.n)(),{value:v,unit:x}=Object(h.a)(new Date(t.actionDate)),w=function(){const[e,t]=Object(s.useState)(!0);return Object(s.useEffect)((()=>{function e(e){null==e.target.querySelector(".popup-content")&&t(!1)}function a(){setTimeout((()=>t(!0)))}return window.document.addEventListener("mousedown",e),window.document.addEventListener("mouseup",a),()=>{window.document.removeEventListener("mousedown",e),window.document.removeEventListener("mouseup",a)}}),[t]),e}(),M=()=>navigator.clipboard.writeText("".concat(window.location.origin).concat(O.pathname,"?search=").concat(t.taskId)).then((()=>g(!0)));return Object(k.jsxs)("div",{className:"cf db br1 mt2 task-list ".concat(m.includes(t.taskId)?"ba b--blue-dark bw1":"shadow-2 bw1"),children:[Object(k.jsxs)("div",{className:"w-80 pv3 fl cf pointer",role:"button",onClick:()=>i(t.taskId,t.taskStatus),children:[Object(k.jsxs)("div",{className:"w-70-l w-40 fl dib truncate",children:[Object(k.jsx)("span",{className:"pl3 blue-dark fw7",children:Object(k.jsx)(d.a,{...p.a.taskId,values:{id:t.taskId}})}),Object(k.jsx)(u.a,{value:v,unit:x,children:e=>Object(k.jsx)(k.Fragment,{children:t.actionDate&&Object(k.jsxs)("div",{title:"".concat(t.actionBy,", ").concat(e),className:"dn di-l",children:[Object(k.jsx)("span",{className:"ph2 blue-grey",children:"\xb7"}),Object(k.jsxs)("span",{className:"blue-grey",children:[Object(k.jsx)(d.a,{...p.a.taskLastUpdate,values:{user:Object(k.jsx)("span",{className:"b blue-dark fw5",children:t.actionBy})}})," ",e]})]})})})]}),Object(k.jsx)("div",{className:"w-30-l w-60 fl blue-dark dib truncate",children:Object(k.jsx)(y,{status:t.taskStatus})})]}),Object(k.jsxs)("div",{className:"w-20 pv3 fr tr dib blue-light truncate overflow-empty",children:[Object(k.jsx)(d.a,{...p.a.seeTaskHistory,children:e=>Object(k.jsx)(n.a,{modal:!0,nested:!0,trigger:Object(k.jsx)("div",{className:"pr2 dib v-mid",title:e,children:Object(k.jsx)(f.M,{width:"18px",height:"18px",className:"pointer hover-blue-grey"})}),closeOnDocumentClick:w,children:e=>Object(k.jsx)(A,{close:e,project:a,tasks:o,taskId:t.taskId,updateActivities:l,userCanValidate:j})})}),Object(k.jsx)(d.a,{...p.a.zoomToTask,children:e=>Object(k.jsx)("div",{className:"pl2 pr1 dib v-mid",title:e,children:Object(k.jsx)(f.wb,{width:"18px",height:"18px",className:"pointer hover-blue-grey",role:"button",onClick:()=>c(t.taskId)})})}),Object(k.jsx)(d.a,{...p.a[b?"taskLinkCopied":"copyTaskLink"],children:e=>Object(k.jsx)("div",{className:"ph2 dib v-mid ".concat(b?"grey-light":""),title:e,children:Object(k.jsx)(f.K,{role:"button",width:"18px",height:"18px",className:"pointer ".concat(b?"":"hover-blue-grey"),onClick:M})})})]})]})}function M(e){let{userCanValidate:t,statusFilter:a,setStatusFn:s}=e;const r=[{label:Object(k.jsx)(d.a,{...p.a.filterAll}),value:"ALL"},{label:Object(k.jsx)(d.a,{...p.a.filterReadyToMap}),value:"READY"},...t?[{label:Object(k.jsx)(d.a,{...p.a.filterReadyToValidate}),value:"MAPPED"}]:[],{label:Object(k.jsx)(d.a,{...p.a.taskStatus_INVALIDATED}),value:"INVALIDATED"},{label:Object(k.jsx)(d.a,{...p.a.taskStatus_VALIDATED}),value:"VALIDATED"},{label:Object(k.jsx)(d.a,{...p.a.taskStatus_BADIMAGERY}),value:"BADIMAGERY"},{label:Object(k.jsx)(d.a,{...p.a.taskStatus_LOCKED}),value:"LOCKED"}];return Object(k.jsx)(v.a,{onChange:e=>s(e[0].value),value:a||"ALL",options:r,display:a||Object(k.jsx)(d.a,{...p.a.filterAll}),className:"blue-dark bg-white pv2 ph3 ba b--card"})}function N(e){let{project:t,tasks:a,userCanValidate:r,activeFilter:n,selectTask:i,setZoomedTaskId:l,selected:u,userContributions:j,updateActivities:h,textSearch:g,setTextSearch:f}=e;const[O,y]=Object(s.useState)([]),[N,A]=Object(c.useQueryParam)("sortBy",c.StringParam),[T,I]=Object(c.useQueryParam)("filter",c.StringParam),E=Object(s.useCallback)((e=>"id"===e?O.sort(m.d):"-date"===e?O.sort(m.c).reverse():O.sort(m.c)),[O]);Object(s.useEffect)((()=>{const e=Object(b.a)("tasksSortOrder");e&&A(e)}),[]);Object(s.useEffect)((()=>{if(a&&a.features){let e=a.features;if(e=((e,t)=>{switch(t){case"ALL":return e;case"LOCKED":return e.filter((e=>["LOCKED_FOR_MAPPING","LOCKED_FOR_VALIDATION"].includes(e.properties.taskStatus)));default:return e.filter((e=>e.properties.taskStatus===t))}})(e,T||"ALL"),g)if(Number(g))e=e.filter((e=>e.properties.taskId===Number(g)||e.properties.actionBy&&e.properties.actionBy.includes(g)));else{const t=j.filter((e=>e.username.toLowerCase().includes(g.toLowerCase()))).map((e=>e.taskIds)).flat();e=e.filter((e=>t.includes(e.properties.taskId)||e.properties.actionBy&&e.properties.actionBy.toLowerCase().includes(g.toLowerCase())))}y(e)}}),[g,T,a,j]);const S=[{label:Object(k.jsx)(d.a,{...p.a.sortById}),value:"id"},{label:Object(k.jsx)(d.a,{...p.a.sortByMostRecentlyUpdate}),value:"date"},{label:Object(k.jsx)(d.a,{...p.a.sortByLeastRecentlyUpdate}),value:"-date"}];return Object(k.jsxs)("div",{className:"cf",children:[Object(k.jsxs)("div",{className:"flex items-center flex-wrap mb3",style:{gap:"1rem"},children:[Object(k.jsx)("div",{style:{flexGrow:1},children:Object(k.jsx)(x.i,{placeholderMsg:p.a.filterPlaceholder,className:"pa2 w-100 b--card",value:g||"",onChange:e=>f(e.target.value),onCloseIconClick:()=>f("")})}),Object(k.jsx)(M,{userCanValidate:r,statusFilter:T,setStatusFn:I}),Object(k.jsx)(v.a,{onChange:function(e){e&&(A(e[0].value),Object(b.c)("tasksSortOrder",e[0].value))},value:N||"date",options:S,display:N||Object(k.jsx)(d.a,{...p.a.sortById}),className:"blue-dark bg-white pv2 ph3 ba b--card"})]}),Object(k.jsx)(o.a,{showLoadingAnimation:!0,rows:6,delay:50,ready:a&&a.features&&a.features.length,children:O&&Object(k.jsx)(C,{pageSize:6,items:E(N),ItemComponent:w,setZoomedTaskId:l,selected:u,selectTask:i,project:t,tasks:O,updateActivities:h,userCanValidate:r})})]})}function A(e){let{taskId:t,tasks:a,project:r,updateActivities:n,userCanValidate:c,close:i}=e;const[o,u]=Object(s.useState)();return Object(s.useEffect)((()=>{const e=a.filter((e=>e.properties.taskId===t));u(e.length?e[0]:null)}),[a,t]),Object(k.jsx)(k.Fragment,{children:o?Object(k.jsx)(j.a,{taskId:t,project:r,status:o?o.properties.taskStatus:"READY",bbox:o?Object(l.a)(o.geometry):"",close:i,updateActivities:n,userCanValidate:c}):Object(k.jsxs)("div",{className:"w-100 pa4 blue-dark bg-white",children:[Object(k.jsx)(f.n,{className:"h1 w1 fr pointer",onClick:i}),Object(k.jsx)("h3",{className:"ttu f3 pa0 ma0 barlow-condensed b mb4",children:Object(k.jsx)(d.a,{...p.a.taskUnavailable})}),Object(k.jsx)("p",{className:"pb0",children:Object(k.jsx)(d.a,{...p.a.taskSplitDescription,values:{id:Object(k.jsxs)("b",{children:["#",t]})}})})]})})}function C(e){let{items:t,ItemComponent:a,pageSize:r,project:n,setZoomedTaskId:i,selectTask:o,selected:l,tasks:u,updateActivities:j,userCanValidate:m}=e;const[b,h]=Object(c.useQueryParam)("page",c.NumberParam),g=Object(O.b)(t.length,r);Object(s.useEffect)((()=>{t&&b>1&&b>g&&h(1)}),[t,b,g,h]);const f=Object(s.useRef)(t);return Object(s.useEffect)((()=>{f.current=t})),Object(s.useEffect)((()=>{if(1===l.length){const e=(f.current.findIndex((e=>e.properties.taskId===l[0]))+1)/r;e&&h(Math.ceil(e))}}),[l,f,h,r]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{children:[(!t||!t.length)&&Object(k.jsx)("div",{className:"tc mt5 mb3",children:Object(k.jsx)(d.a,{...p.a.noTasksFound})}),t.slice(r*((b||1)-1),r*(b||1)).map((e=>Object(k.jsx)(a,{data:e.properties,project:n,selectTask:o,selected:l,setZoomedTaskId:i,tasks:u,updateActivities:j,userCanValidate:m},e.properties.taskId)))]}),Object(k.jsx)("div",{className:"fr",children:Object(k.jsx)(O.a,{activePage:b||1,setPageFn:h,lastPage:g,className:"flex items-center pt2"})})]})}},2129:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(1);var s=a(171),r=a(0);const n=e=>{let{status:t,pagination:a,fullProjectsQuery:n,setQueryParam:c}=e;const i="success"===t;if(!i||null===a||void 0===a||!a.total)return null;const o=i&&(null===a||void 0===a?void 0:a.page)||1,l=i&&(null===a||void 0===a?void 0:a.pages)||1;return Object(r.jsx)(s.a,{activePage:o,setPageFn:e=>{i&&c({...n,page:e},"pushIn")},lastPage:l,className:"flex items-center justify-center pa4"})}},2136:function(e,t,a){"use strict";var s=a(1);t.a=()=>{const[e,t]=Object(s.useState)(Object.create(null));return[e,Object(s.useCallback)((()=>{t(Object.create(null))}),[t])]}},2137:function(e,t,a){e.exports=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function s(e,t,s){return t&&a(e.prototype,t),s&&a(e,s),e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n.apply(this,arguments)}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?l(e):t}function u(e,t){return p(e)||j(e,t)||m()}function p(e){if(Array.isArray(e))return e}function j(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],s=!0,r=!1,n=void 0;try{for(var c,i=e[Symbol.iterator]();!(s=(c=i.next()).done)&&(a.push(c.value),!t||a.length!==t);s=!0);}catch(o){r=!0,n=o}finally{try{s||null==i.return||i.return()}finally{if(r)throw n}}return a}}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function b(e,t){return e(t={exports:{}},t.exports),t.exports}e=e&&e.hasOwnProperty("default")?e.default:e;var h="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function g(){}function f(){}f.resetWarningCache=g;var O=function(){function e(e,t,a,s,r,n){if(n!==h){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:f,resetWarningCache:g};return a.PropTypes=a,a},v=b((function(e){e.exports=O()}));function x(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}function k(e,t){var a;void 0===t&&(t=x);var s,r=[],n=!1;function c(){for(var c=[],i=0;i<arguments.length;i++)c[i]=arguments[i];return n&&a===this&&t(c,r)||(s=e.apply(this,c),n=!0,a=this,r=c),s}return c}var y=864e5,w=7,M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N=["","Mon","","Wed","","Fri",""];function A(e,t){var a=new Date(e);return a.setDate(a.getDate()+t),a}function C(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function T(e){return e instanceof Date?e:new Date(e)}function I(e){return A(new Date,-e)}function E(e){for(var t=[],a=0;a<e;a+=1)t.push(a);return t}var S=10,L=4,D="react-calendar-heatmap-",R=function(a){function o(){var e,a;t(this,o);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return r(l(a=d(this,(e=i(o)).call.apply(e,[this].concat(n)))),"getValueCache",k((function(e){return e.values.reduce((function(e,t){var s=T(t.date);return e[Math.floor((s-a.getStartDateWithEmptyDays())/y)]={value:t,className:a.props.classForValue(t),title:a.props.titleForValue?a.props.titleForValue(t):null,tooltipDataAttrs:a.getTooltipDataAttrsForValue(t)},e}),{})}))),a}return c(o,a),s(o,[{key:"getDateDifferenceInDays",value:function(){var e=this.props,t=e.startDate,a=e.numDays;if(a)return console.warn("numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead."),a;var s=this.getEndDate()-T(t);return Math.ceil(s/y)}},{key:"getSquareSizeWithGutter",value:function(){return S+this.props.gutterSize}},{key:"getMonthLabelSize",value:function(){return this.props.showMonthLabels?this.props.horizontal?S+L:2*(S+L):0}},{key:"getWeekdayLabelSize",value:function(){return this.props.showWeekdayLabels?this.props.horizontal?30:1.5*S:0}},{key:"getStartDate",value:function(){return A(this.getEndDate(),1-this.getDateDifferenceInDays())}},{key:"getEndDate",value:function(){return C(T(this.props.endDate))}},{key:"getStartDateWithEmptyDays",value:function(){return A(this.getStartDate(),-this.getNumEmptyDaysAtStart())}},{key:"getNumEmptyDaysAtStart",value:function(){return this.getStartDate().getDay()}},{key:"getNumEmptyDaysAtEnd",value:function(){return w-1-this.getEndDate().getDay()}},{key:"getWeekCount",value:function(){var e=this.getDateDifferenceInDays()+this.getNumEmptyDaysAtStart()+this.getNumEmptyDaysAtEnd();return Math.ceil(e/w)}},{key:"getWeekWidth",value:function(){return w*this.getSquareSizeWithGutter()}},{key:"getWidth",value:function(){return this.getWeekCount()*this.getSquareSizeWithGutter()-(this.props.gutterSize-this.getWeekdayLabelSize())}},{key:"getHeight",value:function(){return this.getWeekWidth()+(this.getMonthLabelSize()-this.props.gutterSize)+this.getWeekdayLabelSize()}},{key:"getValueForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].value:null}},{key:"getClassNameForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].className:this.props.classForValue(null)}},{key:"getTitleForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].title:this.props.titleForValue?this.props.titleForValue(null):null}},{key:"getTooltipDataAttrsForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].tooltipDataAttrs:this.getTooltipDataAttrsForValue({date:null,count:null})}},{key:"getTooltipDataAttrsForValue",value:function(e){var t=this.props.tooltipDataAttrs;return"function"===typeof t?t(e):t}},{key:"getTransformForWeek",value:function(e){return this.props.horizontal?"translate(".concat(e*this.getSquareSizeWithGutter(),", 0)"):"translate(0, ".concat(e*this.getSquareSizeWithGutter(),")")}},{key:"getTransformForWeekdayLabels",value:function(){return this.props.horizontal?"translate(".concat(S,", ").concat(this.getMonthLabelSize(),")"):null}},{key:"getTransformForMonthLabels",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", 0)"):"translate(".concat(this.getWeekWidth()+L,", ").concat(this.getWeekdayLabelSize(),")")}},{key:"getTransformForAllWeeks",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", ").concat(this.getMonthLabelSize(),")"):"translate(0, ".concat(this.getWeekdayLabelSize(),")")}},{key:"getViewBox",value:function(){return this.props.horizontal?"0 0 ".concat(this.getWidth()," ").concat(this.getHeight()):"0 0 ".concat(this.getHeight()," ").concat(this.getWidth())}},{key:"getSquareCoordinates",value:function(e){return this.props.horizontal?[0,e*this.getSquareSizeWithGutter()]:[e*this.getSquareSizeWithGutter(),0]}},{key:"getWeekdayLabelCoordinates",value:function(e){return this.props.horizontal?[0,(e+1)*S+e*this.props.gutterSize]:[e*S+e*this.props.gutterSize,S]}},{key:"getMonthLabelCoordinates",value:function(e){if(this.props.horizontal)return[e*this.getSquareSizeWithGutter(),this.getMonthLabelSize()-L];var t=-2;return[0,(e+1)*this.getSquareSizeWithGutter()+t]}},{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"handleMouseOver",value:function(e,t){this.props.onMouseOver&&this.props.onMouseOver(e,t)}},{key:"handleMouseLeave",value:function(e,t){this.props.onMouseLeave&&this.props.onMouseLeave(e,t)}},{key:"renderSquare",value:function(t,a){var s=this;if((a<this.getNumEmptyDaysAtStart()||a>=this.getNumEmptyDaysAtStart()+this.getDateDifferenceInDays())&&!this.props.showOutOfRangeDays)return null;var r=u(this.getSquareCoordinates(t),2),c=r[0],i=r[1],o=this.getValueForIndex(a),l=e.createElement("rect",n({key:a,width:S,height:S,x:c,y:i,className:this.getClassNameForIndex(a),onClick:function(){return s.handleClick(o)},onMouseOver:function(e){return s.handleMouseOver(e,o)},onMouseLeave:function(e){return s.handleMouseLeave(e,o)}},this.getTooltipDataAttrsForIndex(a)),e.createElement("title",null,this.getTitleForIndex(a))),d=this.props.transformDayElement;return d?d(l,o,a):l}},{key:"renderWeek",value:function(t){var a=this;return e.createElement("g",{key:t,transform:this.getTransformForWeek(t),className:"".concat(D,"week")},E(w).map((function(e){return a.renderSquare(e,t*w+e)})))}},{key:"renderAllWeeks",value:function(){var e=this;return E(this.getWeekCount()).map((function(t){return e.renderWeek(t)}))}},{key:"renderMonthLabels",value:function(){var t=this;return this.props.showMonthLabels?E(this.getWeekCount()-1).map((function(a){var s=A(t.getStartDateWithEmptyDays(),(a+1)*w),r=u(t.getMonthLabelCoordinates(a),2),n=r[0],c=r[1];return s.getDate()>=1&&s.getDate()<=w?e.createElement("text",{key:a,x:n,y:c,className:"".concat(D,"month-label")},t.props.monthLabels[s.getMonth()]):null})):null}},{key:"renderWeekdayLabels",value:function(){var t=this;return this.props.showWeekdayLabels?this.props.weekdayLabels.map((function(a,s){var r=u(t.getWeekdayLabelCoordinates(s),2),n=r[0],c=r[1],i="".concat(t.props.horizontal?"":"".concat(D,"small-text")," ").concat(D,"weekday-label");return 1&s?e.createElement("text",{key:"".concat(n).concat(c),x:n,y:c,className:i},a):null})):null}},{key:"render",value:function(){return this.valueCache=this.getValueCache(this.props),e.createElement("svg",{className:"react-calendar-heatmap",viewBox:this.getViewBox()},e.createElement("g",{transform:this.getTransformForMonthLabels(),className:"".concat(D,"month-labels")},this.renderMonthLabels()),e.createElement("g",{transform:this.getTransformForAllWeeks(),className:"".concat(D,"all-weeks")},this.renderAllWeeks()),e.createElement("g",{transform:this.getTransformForWeekdayLabels(),className:"".concat(D,"weekday-labels")},this.renderWeekdayLabels()))}}]),o}(e.Component);return R.propTypes={values:v.arrayOf(v.shape({date:v.oneOfType([v.string,v.number,v.instanceOf(Date)]).isRequired}).isRequired).isRequired,numDays:v.number,startDate:v.oneOfType([v.string,v.number,v.instanceOf(Date)]),endDate:v.oneOfType([v.string,v.number,v.instanceOf(Date)]),gutterSize:v.number,horizontal:v.bool,showMonthLabels:v.bool,showWeekdayLabels:v.bool,showOutOfRangeDays:v.bool,tooltipDataAttrs:v.oneOfType([v.object,v.func]),titleForValue:v.func,classForValue:v.func,monthLabels:v.arrayOf(v.string),weekdayLabels:v.arrayOf(v.string),onClick:v.func,onMouseOver:v.func,onMouseLeave:v.func,transformDayElement:v.func},R.defaultProps={numDays:null,startDate:I(200),endDate:new Date,gutterSize:1,horizontal:!0,showMonthLabels:!0,showWeekdayLabels:!1,showOutOfRangeDays:!1,tooltipDataAttrs:null,titleForValue:null,classForValue:function(e){return e?"color-filled":"color-empty"},monthLabels:M,weekdayLabels:N,onClick:null,onMouseOver:null,onMouseLeave:null,transformDayElement:null},R}(a(1))},2146:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var s=a(1),r=a(8),n=a(182),c=a(37),i=a(63);class o extends i.a{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const a=this.options;this.options=this.client.defaultMutationOptions(e),Object(r.p)(a,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.currentMutation)||e.removeObserver(this))}onMutationUpdate(e){this.updateResult();const t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:"undefined"!==typeof e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:Object(n.b)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){c.a.batch((()=>{var t,a,s,r;if(this.mutateOptions&&this.hasListeners())if(e.onSuccess)null==(t=(a=this.mutateOptions).onSuccess)||t.call(a,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(s=(r=this.mutateOptions).onSettled)||s.call(r,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(e.onError){var n,c,i,o;null==(n=(c=this.mutateOptions).onError)||n.call(c,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(i=(o=this.mutateOptions).onSettled)||i.call(o,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}e.listeners&&this.listeners.forEach((e=>{let{listener:t}=e;t(this.currentResult)}))}))}}var l=a(181),d=a(179),u=a(180);function p(e,t,a){const n=Object(r.k)(e,t,a),i=Object(d.b)({context:n.context}),[p]=s.useState((()=>new o(i,n)));s.useEffect((()=>{p.setOptions(n)}),[p,n]);const m=Object(l.a)(s.useCallback((e=>p.subscribe(c.a.batchCalls(e))),[p]),(()=>p.getCurrentResult()),(()=>p.getCurrentResult())),b=s.useCallback(((e,t)=>{p.mutate(e,t).catch(j)}),[p]);if(m.error&&Object(u.a)(p.options.useErrorBoundary,[m.error]))throw m.error;return{...m,mutate:b,mutateAsync:m.mutate}}function j(){}},2168:function(e,t,a){"use strict";a.r(t),a.d(t,"UserDetail",(function(){return F}));var s=a(1),r=a.n(s),n=a(6),c=a(10),i=a(30),o=a(92),l=a.n(o),d=a(1923),u=a(2115),p=a(2068),j=a(2103),m=a(1943),b=a.n(m),h=a(1954),g=a.n(h),f=a(9),O=a(2059),v=a(1977),x=a(1928),k=a(0);b.a.accessToken=f.r;try{b.a.setRTLTextPlugin(f.q)}catch{console.log("RTLTextPlugin is loaded")}const y=e=>{let{projects:t}=e;const a=Object(n.q)(),i=Object(c.d)((e=>e.preferences.locale)),[o,l]=Object(s.useState)(null),d=r.a.createRef();return Object(s.useLayoutEffect)((()=>(b.a.supported()&&l(new b.a.Map({container:d.current,style:f.s,center:[0,0],zoom:.5,attributionControl:!1}).addControl(new b.a.AttributionControl({compact:!1})).addControl(new g.a({defaultLanguage:i.substr(0,2)||"en"}))),()=>{o&&o.remove()})),[]),Object(s.useLayoutEffect)((()=>{if(o&&t.mappedProjects){const e={type:"FeatureCollection",features:t.mappedProjects.map((e=>({type:"Feature",geometry:e.centroid,properties:{projectId:e.projectId}})))};o.resize(),o.on("load",(()=>Object(O.b)(o,e,(e=>a("/projects/".concat(e,"/"))))))}}),[o,a,t.mappedProjects]),b.a.supported()?Object(k.jsx)("div",{id:"map",className:"w-two-thirds-l w-100 h-100 fl",ref:d}):Object(k.jsx)(x.a,{className:"w-two-thirds-l w-100 h-100 fl"})},w=e=>{let{projects:t,userStats:a}=e;const s=a.countriesContributed.countries.slice(0,5),r=s.map((e=>e.total)),n=Math.max(...r),c=s.map((e=>({...e,percent:e.total/n})));return Object(k.jsxs)("div",{className:"bg-white blue-dark shadow-4 w-100 cf",style:{height:"23rem"},children:[Object(k.jsxs)("div",{className:"w-third-l w-100 fl pt2 ph3",children:[Object(k.jsx)("h3",{className:"f4 mt0 fw6 pt3",children:Object(k.jsx)(i.a,{...d.a.topCountriesTitle})}),c.length>0?Object(k.jsx)(v.b,{data:c,valueField:"total",nameField:"name",linkBase:"/explore/?location=",linkField:"name"}):Object(k.jsx)("div",{className:"h-100 tc pv5 blue-grey",children:Object(k.jsx)(i.a,{...d.a.noProjectsData})})]}),Object(k.jsx)(y,{projects:t})]})},M=e=>{let{projects:t}=e;const a=t.mappedProjects.map((e=>({id:e.projectId,name:e.name,mapped:e.tasksMapped,validated:e.tasksValidated,total:e.tasksMapped+e.tasksValidated}))).sort(((e,t)=>e.total<t.total?1:e.total>t.total?-1:0)).slice(0,5),s=a.map((e=>e.total)),r=Math.max(...s),n=a.map((e=>({...e,percent:e.total/r})));return Object(k.jsx)("div",{className:"pv2 ph3 bg-white blue-dark shadow-6 h-100",children:Object(k.jsxs)("div",{className:"ml2 mt1 mb4",children:[Object(k.jsx)("h3",{className:"f125 mv0 fw6 pt3",children:Object(k.jsx)(i.a,{...d.a.topProjectsMappedTitle})}),a.length>0?Object(k.jsx)(v.b,{data:n,valueField:"total",nameField:"name",linkBase:"/projects/",linkField:"id"}):Object(k.jsx)("div",{className:"h-100 tc pv5 mt3 blue-grey",children:Object(k.jsx)(i.a,{...d.a.noTopProjectsData})})]})})};var N=a(2137),A=a.n(N),C=a(81),T=a(50);const I=()=>{const e="ph2 f7 blue-grey ttc";return Object(k.jsxs)("div",{className:"nt4-ns w-100 tr fr flex items-center justify-end",children:[Object(k.jsx)("span",{className:e,children:Object(k.jsx)(i.a,{...d.a.heatmapLegendLess})}),Object(k.jsx)("div",{className:"dib h1 w1 bg-tan"}),[30,50,70,100].map((e=>Object(k.jsx)("div",{className:"dib h1 w1 bg-red o-".concat(e)},e))),Object(k.jsx)("span",{className:e,children:Object(k.jsx)(i.a,{...d.a.heatmapLegendMore})})]})},E=e=>{let{userStats:t}=e;const a=Object(T.a)(),s=new Date,r=t.contributionsByDay.map((e=>e.count)),n=Math.max(...r);return Object(k.jsxs)("div",{className:"w-100 cf bg-white pv3 pr3 shadow-6",children:[Object(k.jsxs)("div",{className:"w-100 fl cf center",children:[Object(k.jsx)(A.a,{startDate:((e,t)=>{const a=new Date(e);return a.setDate(a.getDate()+t),a})(s,-365),endDate:s,values:t.contributionsByDay,classForValue:e=>e?(e=>{const t=e.count/n;return 0<=t&&t<.25?"fill-red o-30":.25<=t&&t<.5?"fill-red o-50":.5<=t&&t<.75?"fill-red o-70":.75<=t&&t<=1?"fill-red o-100":void 0})(e):"fill-tan",showWeekdayLabels:!0,tooltipDataAttrs:e=>{let t=a.formatMessage(d.a.heatmapNoContribution);return null!==e.count&&(t="".concat(e.count," ").concat(e.count>1?a.formatMessage(d.a.heatmapContributions):a.formatMessage(d.a.heatmapContribution))),{"data-tip":t}}}),Object(k.jsx)(C.a,{})]}),Object(k.jsx)(I,{})]})};var S=a(177),L=a(29),D=a(120),R=a(164);const P=r.a.lazy((()=>Promise.all([a.e(3),a.e(825)]).then(a.bind(null,2345)))),B=r.a.lazy((()=>Promise.all([a.e(3),a.e(800)]).then(a.bind(null,2346)))),F=e=>{var t;let{withHeader:a=!0}=e;const r=Object(n.q)(),o=Object(c.d)((e=>e.auth.userDetails.username)),{username:m}=Object(n.s)(),b=m||o;Object(R.b)(b);const h=Object(c.d)((e=>e.auth.token)),g=Object(c.d)((e=>e.auth.userDetails)),[O,v]=Object(s.useState)({}),[x,y]=Object(s.useState)({}),[N,A,C]=Object(D.a)("users/queries/".concat(b,"/"),void 0!==b),[T,I,F]=Object(D.a)("users/".concat(b,"/statistics/"),void 0!==b),[z,V,U]=Object(D.a)("projects/queries/".concat(b,"/touched/"),void 0!==b);Object(s.useEffect)((()=>{h||r("/login")}),[r,h]),Object(s.useEffect)((()=>{C.id&&(Object(L.a)("".concat(f.M,"/api/0.6/user/").concat(C.id,".json"),!1).then((e=>y(null===e||void 0===e?void 0:e.user))).catch((e=>console.log(e))),Object(L.a)("".concat(f.w,"/hot-tm-user?userId=").concat(C.id),!0).then((e=>v(e.result))).catch((e=>console.log(e))))}),[C.id]);const H="contributions-titles fw5 ttu barlow-condensed blue-dark mt0";return N?Object(k.jsx)(S.a,{}):Object(k.jsxs)("div",{className:"w-100",children:[a&&Object(k.jsx)("div",{className:"w-100 cf pb3",children:Object(k.jsx)(l.a,{type:"media",showLoadingAnimation:!0,rows:5,ready:!N&&!A,children:Object(k.jsx)(u.a,{userDetails:C,changesets:null===x||void 0===x||null===(t=x.changesets)||void 0===t?void 0:t.count})})}),Object(k.jsxs)("div",{className:a?"w-100 ph4-l ph2 cf pb3 bg-washed-blue":"",children:[Object(k.jsx)("div",{className:"mt4",children:Object(k.jsx)(p.a,{userStats:F,osmStats:O})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("h3",{className:H,children:Object(k.jsx)(i.a,{...d.a.contributionTimelineTitle})}),Object(k.jsx)(l.a,{type:"rect",showLoadingAnimation:!0,style:{height:"20em"},ready:!T&&!I,children:Object(k.jsx)(E,{userStats:F})})]}),Object(k.jsxs)("div",{className:"mv4",children:[Object(k.jsx)("h3",{className:H,children:Object(k.jsx)(i.a,{...d.a.projectsTitle})}),Object(k.jsxs)("div",{className:"user-projects-ctr",children:[Object(k.jsx)("div",{children:Object(k.jsx)(l.a,{type:"rect",showLoadingAnimation:!0,style:{height:"24em"},ready:!z&&!V,children:Object(k.jsx)(M,{projects:U})})}),Object(k.jsx)("div",{children:Object(k.jsx)(l.a,{type:"rect",showLoadingAnimation:!0,style:{height:"24em"},ready:!T&&!I,children:Object(k.jsx)(s.Suspense,{fallback:Object(k.jsx)("div",{}),children:Object(k.jsx)(P,{userStats:F})})})}),Object(k.jsx)("div",{children:Object(k.jsx)(s.Suspense,{fallback:Object(k.jsx)("div",{}),children:Object(k.jsx)(B,{osmStats:O})})})]})]}),Object(k.jsxs)("div",{className:"mv4",children:[Object(k.jsx)("h3",{className:H,children:Object(k.jsx)(i.a,{...d.a.tasks})}),Object(k.jsx)(p.b,{userStats:F,username:g.username!==b?b:null})]}),Object(k.jsxs)("div",{className:"mv4",children:[Object(k.jsx)("h3",{className:H,children:Object(k.jsx)(i.a,{...d.a.countries})}),Object(k.jsx)(l.a,{type:"rect",showLoadingAnimation:!0,style:{height:"24em"},ready:!T&&!I&&!z&&!V,children:Object(k.jsx)(w,{projects:U,userStats:F})})]}),g.username!==b&&Object(k.jsxs)("div",{className:"mv4",children:[Object(k.jsx)("h3",{className:H,children:Object(k.jsx)(i.a,{...d.a.teams})}),Object(k.jsx)(l.a,{type:"rect",showLoadingAnimation:!0,style:{height:"10em"},ready:!T&&!I,children:Object(k.jsx)(j.b,{userId:C.id})})]})]})]})}},2354:function(e,t,a){"use strict";a.r(t),a.d(t,"ContributionsPage",(function(){return Q})),a.d(t,"ContributionsPageIndex",(function(){return K})),a.d(t,"UserStats",(function(){return Z}));var s=a(1),r=a(6),n=a(10),c=a(2136),i=a(158),o=a(46),l=a(174),d=a(175),u=a(123),p=a(122),j=a(9);const m={status:d.a,minDate:o.StringParam,maxDate:o.StringParam,projectStatus:o.StringParam,page:o.StringParam,orderBy:o.StringParam,projectId:o.NumberParam},b=()=>Object(o.useQueryParams)(m),h={status:"status",minDate:"min_action_date",maxDate:"max_action_date",projectStatus:"project_status",orderBy:"sort_by",projectId:"project_id"},g=(e,t)=>{switch(t.type){case"FETCH_INIT":case"FETCH_MISSINGUSER":return{...e,isLoading:!0,isError:!1};case"FETCH_SUCCESS":return{...e,isLoading:!1,isError:!1,tasks:t.payload.tasks,pagination:t.payload.pagination};case"FETCH_FAILURE":return{...e,isLoading:!1,isError:!0};default:throw console.log(t),new Error}},f={tasks:[],pagination:{hasNext:!1,hasPrev:!1,nextNum:null,page:1,pages:1,prevNum:null,perPage:100,total:0}},O=l.stringify;var v=a(23),x=a(30),k=a(176),y=a(121),w=a(0);function M(e){let{className:t,setQuery:a,allQueryParams:s}=e;const r=[{label:Object(w.jsx)(x.a,{...k.a.recentlyEdited}),value:"-action_date"},{label:Object(w.jsx)(x.a,{...k.a.projectId}),value:"-project_id"}];return Object(w.jsx)(y.a,{onChange:e=>a({...s,page:void 0,orderBy:e[0].value},"pushIn"),options:r,value:"".concat(s.orderBy)||[],display:Object(w.jsx)(x.a,{...k.a.sortBy}),className:"ba b--grey-light bg-white mr1 v-mid pv2 ".concat(t||"")})}var N=a(107),A=a(120);function C(e){var t;let{className:a,setQuery:s,allQueryParams:r}=e;const c=Object(n.d)((e=>e.auth.userDetails.username)),[,,i]=Object(A.a)("projects/queries/".concat(c,"/touched/")),o=null===(t=i.mappedProjects)||void 0===t?void 0:t.map((e=>{let{projectId:t}=e;return{label:t,value:t}}));return Object(w.jsx)("div",{className:"w5 mr1 ".concat(a),children:Object(w.jsx)(N.a,{classNamePrefix:"react-select",getOptionLabel:e=>{let{label:t}=e;return"#".concat(t)},noOptionsMessage:()=>Object(w.jsx)(x.a,{...k.a.noMatchingProjectId}),onChange:e=>{return t=e.value,void s({...r,page:void 0,projectId:t},"pushIn");var t},options:o,placeholder:Object(w.jsx)(x.a,{...k.a.searchProject}),value:(null===o||void 0===o?void 0:o.find((e=>{let{value:t}=e;return t===r.projectId})))||null})})}const T=(e,t)=>{let a=!1;try{t.status.includes(e)&&(a=!0)}catch{t.projectStatus===e&&(a=!0),"All"!==e||t.projectStatus||t.status||(a=!0)}return a?"bg-blue-grey white fw5":"bg-white blue-grey"},I=e=>{const[t,a]=b(),s="dib mh1 mb2 link ph3 f6 pv2 ba b--grey-light",r=!O(t);return Object(w.jsxs)("header",{className:"w-100",children:[Object(w.jsx)("div",{className:"cf",children:Object(w.jsx)("div",{className:"w-75-l w-60 fl mt4",children:Object(w.jsx)("h3",{className:"barlow-condensed blue-dark f2 ma0 v-mid dib ttu pl2 pl0-l",children:Object(w.jsx)(x.a,{...k.a.myTasks})})})}),Object(w.jsx)("div",{className:"mt2 mb1 dib lh-copy w-100 cf",children:Object(w.jsx)("div",{className:"w-100 fl dib",children:Object(w.jsxs)("div",{className:"dib",children:[Object(w.jsx)(C,{className:"fl f5 mt1 mt2-ns",setQuery:a,allQueryParams:t}),Object(w.jsx)(M,{className:"fl f5 mt1 mt2-ns",setQuery:a,allQueryParams:t}),!r&&Object(w.jsx)(v.a,{to:"./",className:"red link ph3 f6 v-mid dib pv2 mh1 mt1 mt2-ns fr",children:Object(w.jsx)(x.a,{...k.a.clearFilters})})]})})}),Object(w.jsxs)("div",{className:"mv2",children:[Object(w.jsx)(v.a,{to:"",className:"".concat(T("All",t)," ").concat(s),children:Object(w.jsx)(x.a,{...k.a.all})}),Object(w.jsx)(v.a,{to:"?status=MAPPED",className:"".concat(T("MAPPED",t),"  ").concat(s),children:Object(w.jsx)(x.a,{...k.a.mapped})}),Object(w.jsx)(v.a,{to:"?status=VALIDATED",className:"".concat(T("VALIDATED",t),"  ").concat(s),children:Object(w.jsx)(x.a,{...k.a.validated})}),Object(w.jsx)(v.a,{to:"?status=INVALIDATED",className:"".concat(T("INVALIDATED",t),"  ").concat(s),children:Object(w.jsx)(x.a,{...k.a.invalidated})}),Object(w.jsx)(v.a,{to:"?projectStatus=ARCHIVED",className:"".concat(T("ARCHIVED",t),"  ").concat(s),children:Object(w.jsx)(x.a,{...k.a.archived})})]})]})};var E=a(20),S=a(92),L=a.n(S),D=(a(170),a(82)),R=a(50),P=a(139),B=a(13),F=a(2117),z=a(2042);function V(e){let{taskId:t,projectId:a,taskStatus:r,lockHolder:n,title:c,taskHistory:i,taskAnnotation:o,isUndoable:l,autoUnlockSeconds:d,lastUpdated:u,lastUpdatedBy:p,numberOfComments:j}=e;const[m,b]=Object(s.useState)(!1),h="/projects/".concat(a,"/tasks?search=").concat(t),g=Object(R.a)(),f=u&&d&&n&&new Date(+new Date(u)+1e3*d);return Object(w.jsx)("article",{className:"db base-font bg-white w-75-l w-100 mb1 mh2 blue-dark mw8 ".concat(m?"shadow-4":""),onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:Object(w.jsxs)("div",{className:"pv3 ph3 ba br1 b--grey-light cf",children:[Object(w.jsxs)("div",{className:"w-third-ns w-100 fl",children:[Object(w.jsx)(v.a,{to:h,className:"no-underline link blue-dark dib",children:Object(w.jsx)("h4",{className:"mv0 fw6 f5",children:Object(w.jsx)(x.a,{...k.a.projectTask,values:{task:t,project:a}})})}),Object(w.jsx)("div",{className:"pt2 blue-grey f6",title:u,children:Object(w.jsx)("span",{children:Object(w.jsx)(x.a,{...k.a.lastUpdatedByUser,values:{time:Object(w.jsx)(P.a,{date:u})}})})})]}),Object(w.jsx)("div",{className:"w-third-ns w-100 fl",children:Object(w.jsxs)("div",{className:n?"":"pv2 mv1",children:[Object(w.jsx)("div",{className:"db",children:Object(w.jsx)(F.b,{status:r,lockHolder:n})}),n&&Object(w.jsxs)("div",{className:"dn dib-ns mv1 blue-grey bg-grey-light f7 pv1 ph2",title:f,children:[Object(w.jsx)(B.m,{className:"pr2 v-mid",height:"19px",width:"13px"}),Object(w.jsx)("span",{className:"v-mid",children:Object(w.jsx)(x.a,{...k.a.unlock,values:{time:Object(w.jsx)(P.a,{date:f})}})})]})]})}),Object(w.jsxs)("div",{className:"w-third-ns w-100 fr",children:[j?Object(w.jsxs)("span",{className:"w-auto tr fl mv1 pv2 f6 blue-grey",title:g.formatMessage(k.a.commentsNumber,{number:j}),children:[Object(w.jsx)(B.o,{className:"pr2 v-mid",height:"19px",width:"13px"}),j]}):"",Object(w.jsx)(D.a,{trigger:Object(w.jsx)(B.M,{className:"pointer fr h1 w1 mv1 pv2 v-mid pr3 blue-light hover-blue-grey"}),modal:!0,closeOnDocumentClick:!0,nested:!0,children:e=>Object(w.jsx)(z.a,{taskId:t,project:{projectId:a},close:e})}),m&&["READY","LOCKED_FOR_MAPPING","LOCKED_FOR_VALIDATION","INVALIDATED"].includes(r)&&Object(w.jsx)(v.a,{to:h,children:Object(w.jsxs)("div",{className:"dn dib-l link pv2 ph3 mh3 mv1 bg-red white f7 fr",children:[Object(w.jsx)(B.db,{className:"ph1 dib-l dn"}),Object(w.jsx)(x.a,{...k.a.resumeTask})]})})]})]})})}const U=e=>{const t=e.state;return Object(w.jsxs)("div",{className:e.className,children:[!t.isLoading&&!t.isError&&Object(w.jsx)("p",{className:"blue-grey ml3 pt2 f7",children:Object(w.jsx)(x.a,{...k.a.paginationCount,values:{number:t.tasks&&t.tasks.length,total:Object(w.jsx)(E.a,{value:t.pagination&&t.pagination.total})}})}),t.isError&&Object(w.jsxs)("div",{className:"bg-tan pa4 mt3",children:[Object(w.jsx)(x.a,{...k.a.errorLoadingTasks}),Object(w.jsx)("div",{className:"pa2",children:Object(w.jsx)("button",{className:"pa1",onClick:()=>e.retryFn(),children:Object(w.jsx)(x.a,{...k.a.retry})})})]}),Object(w.jsx)("div",{className:"cf db",children:Object(w.jsx)(L.a,{showLoadingAnimation:!0,ready:!t.isLoading,type:"media",rows:10,children:Object(w.jsx)(H,{pageOfCards:t.tasks})})})]})},H=e=>{let{pageOfCards:t}=e;return 0===(null===t||void 0===t?void 0:t.length)?Object(w.jsx)("div",{className:"mb3 blue-grey",children:Object(w.jsx)(x.a,{...k.a.noContributed})}):null===t||void 0===t?void 0:t.map((e=>Object(s.createElement)(V,{...e,key:"".concat(e.projectId).concat(e.taskId)})))};var _=a(2129),W=a(2115),q=a(2168),Y=a(164);const Q=()=>{Object(Y.b)("My tasks");const e=Object(r.q)(),t=Object(r.n)(),a=Object(n.d)((e=>e.auth.token)),[o,l]=b(),[d,m]=Object(c.a)(),[O]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=Object(u.b)(t,1500),c=Object(n.d)((e=>e.auth.token)),o=Object(n.d)((e=>e.auth.userDetails&&e.auth.userDetails.id)),[l,d]=Object(s.useReducer)(g,{isLoading:!0,isError:!1,tasks:e.results,pagination:e.pagination,queryParamsState:t[0]});return Object(s.useEffect)((()=>{let e,t=!1;return(async()=>{const a=i.a.CancelToken;d({type:"FETCH_INIT"});try{c&&o||(d({type:"FETCH_MISSINGUSER"}),t=!0);const s=Object(p.a)(r,h),n=await Object(i.a)({url:"".concat(j.b,"users/").concat(o,"/tasks/"),method:"get",params:s,headers:{Authorization:"Token ".concat(c)},cancelToken:new a((function(t){e={end:t,params:r}}))});t?e.end():n&&n.headers&&-1!==n.headers["content-type"].indexOf("json")?d({type:"FETCH_SUCCESS",payload:n.data}):(console.error("Invalid return type for contribution search"),d({type:"FETCH_FAILURE"}))}catch(s){if(!t&&s&&s.response&&s.response.data&&"No messages found"===s.response.data.Error){const e=Object.assign(f,{pagination:{total:0}});d({type:"FETCH_SUCCESS",payload:e})}else if(!t&&s.response){const e=Object.assign(f,{error:s.response});console.log("Res failure",s.response.data,s.response.status,s.response.headers,e),d({type:"FETCH_FAILURE",payload:e})}else if(!t&&s.request){const e=Object.assign(f,{error:s.request});console.log("req failure",s.request,e),d({type:"FETCH_FAILURE",payload:e})}else t?e&&e.end():d({type:"FETCH_FAILURE"})}})(),()=>{t=!0,e&&e.end()}}),[r,a,c,o]),[l,d]}({mapResults:{features:[],type:"FeatureCollection"},results:[],pagination:{hasNext:!1,hasPrev:!1,page:1}},o,d);return Object(s.useEffect)((()=>{a||e("/login",{replace:!0,state:{from:t.pathname}})}),[t.pathname,e,a]),Object(w.jsxs)("section",{className:"pb5 pt180 pull-center",children:[Object(w.jsx)(I,{}),Object(w.jsx)(U,{retryFn:m,state:O}),Object(w.jsx)(_.a,{projectAPIstate:O,status:O.isLoading?"pending":"success",pagination:null===O||void 0===O?void 0:O.pagination,setQueryParam:l})]})},K=e=>Object(w.jsxs)("div",{className:"bg-blue-light 0-10 w-100 cf",style:{background:"rgba(146, 157, 179,0.1)"},children:[Object(w.jsx)("div",{className:"w-100 cf",children:Object(w.jsx)(W.a,{selfProfile:!0})}),Object(w.jsx)("div",{className:"w-100 ph5-l ph2 cf pb6",children:Object(w.jsx)(r.a,{})})]}),Z=()=>{Object(Y.b)("My stats");const e=Object(n.d)((e=>e.auth.userDetails));return Object(w.jsx)(q.UserDetail,{username:e.username,withHeader:!1})}}}]);
//# sourceMappingURL=contributions.0e4f2917.chunk.js.map