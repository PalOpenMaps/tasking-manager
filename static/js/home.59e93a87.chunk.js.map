{"version":3,"sources":["components/alert/index.js","components/statsTimestamp/messages.js","components/statsTimestamp/index.js","components/homepage/messages.js","api/stats.js","../node_modules/short-number/index.js","assets/img/testimonials/ifrc.jpg","../node_modules/react-error-boundary/dist/react-error-boundary.esm.js","assets/img/banner_2500.jpg","assets/img/banner_824.jpg","components/homepage/jumbotron.js","components/homepage/stats.js","components/homepage/mappingFlow.js","components/homepage/whoIsMapping.js","components/homepage/testimonials.js","views/home.js"],"names":["Alert","_ref","type","compact","inline","iconClassName","children","Icon","info","InfoIcon","success","CheckIcon","warning","AlertIcon","error","BanIcon","_jsxs","className","concat","_jsx","EntityError","_ref2","entity","action","messageType","FormattedMessage","messages","values","defineMessages","generic","id","defaultMessage","project","StatsTimestamp","intl","useIntl","lastUpdated","setLastUpdated","useState","useEffect","fetchExternalJSONAPI","OHSOME_STATS_BASE_URL","then","res","result","max_timestamp","catch","console","formatMessage","formattedDate","formatDate","year","month","day","hour","minute","timeZone","ReactTooltip","place","effect","jumbotronTitle","jumbotronHeadLine","secJumbotronTitle","secJumbotronHeadLine","secJumbotronHeadLine2","featuredProjects","howItWorks","startButton","joinButton","buildingsStats","roadsStats","editsStats","communityStats","mappersStats","statsLoadingError","mappingFlowTitle","mappingFlowHeadline","mappingCardTitle","validationCardTitle","usingDataCardTitle","mappingCardDescription","validationCardDescription","usingDataCardDescription","whoIsMappingTitle","whoIsMappingHeadline","organizationContactTitle","organizationContactButton","errorLoadingTheX","contacterTitle","contacterName","contacterEmail","contacterMessage","contacterHeaderText","contacterSend","serviceDesk","contactServiceDesk","testimonialsTitle","ifrcCitation","ifrcBio","useSystemStatisticsQuery","useQuery","queryKey","queryFn","signal","api","get","useErrorBoundary","useProjectStatisticsQuery","projectId","select","data","useOsmStatsQuery","_ref3","useOsmHashtagStatsQuery","defaultComment","_ref4","replace","enabled","Boolean","module","exports","num","TypeError","RangeError","Math","abs","shortNumber","exponent","size","sign","suffixes","suffix","floor","toString","length","round","pow","factory","ErrorBoundaryContext","createContext","initialState","didCatch","ErrorBoundary","Component","constructor","props","super","this","resetErrorBoundary","bind","state","getDerivedStateFromError","_this$props$onReset","_this$props","_len","arguments","args","Array","_key","onReset","call","reason","setState","componentDidCatch","_this$props$onError","_this$props2","onError","componentDidUpdate","prevProps","prevState","resetKeys","_this$props$onReset2","_this$props3","a","undefined","b","some","item","index","Object","is","hasArrayChanged","next","prev","render","fallbackRender","FallbackComponent","fallback","childToRender","createElement","isValidElement","Provider","value","JumbotronButtons","token","useSelector","auth","Link","to","Button","Popup","trigger","modal","closeOnDocumentClick","close","SignUp","closeModal","Jumbotron","width","height","setSize","useLayoutEffect","updateSize","window","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","HOMEPAGE_VIDEO_URL","style","zIndex","muted","loop","autoPlay","src","srcSet","HOMEPAGE_IMG_LOW","bannerLR","HOMEPAGE_IMG_HIGH","bannerHR","sizes","alt","SecondaryJumbotron","link","StatsNumber","FormattedNumber","Number","substr","StatsColumn","label","_Fragment","StatsSection","tmStatsData","isSuccess","hasTmStatsLoaded","osmStatsData","hasOsmStatsLoaded","hasStatsLoaded","buildings","roads","edits","totalMappers","mappersOnline","MappingCard","image","title","description","MappingFlow","imageHeight","cards","MappingIcon","ValidationIcon","DataUseIcon","number","map","card","n","_createElement","key","organizations","url","code","name","ContactCard","navigate","useNavigate","onClick","WhoIsMapping","org","href","Testimonials","testimonials","bio","citation","cssCode","person","require","default","Home","homeMessages","class"],"mappings":"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","file":"static/js/home.59e93a87.chunk.js","sourcesContent":["import { FormattedMessage } from 'react-intl';\n\nimport { BanIcon, CheckIcon, InfoIcon, AlertIcon } from '../svgIcons';\nimport messages from '../../views/messages';\n\nexport const Alert = ({\n  type = 'info',\n  compact = false,\n  inline = false,\n  iconClassName,\n  children,\n}) => {\n  const icons = {\n    info: InfoIcon,\n    success: CheckIcon,\n    warning: AlertIcon,\n    error: BanIcon,\n  };\n  const Icon = icons[type];\n\n  const color = {\n    info: 'b--blue bg-lightest-blue',\n    success: 'b--dark-green bg-washed-green',\n    warning: 'b--gold bg-washed-yellow',\n    error: 'b--dark-red bg-washed-red',\n  };\n  const iconColor = {\n    info: 'blue',\n    success: 'dark-green',\n    warning: 'gold',\n    error: 'dark-red',\n  };\n\n  return (\n    <div\n      className={`${inline ? 'di' : 'db'} blue-dark bl bw2 br2 ${compact ? 'pa2' : 'pa3'} ${\n        color[type]\n      }`}\n    >\n      <Icon className={`h1 w1 v-top mr2 ${iconColor[type]} ${iconClassName || ''}`} />\n      {children}\n    </div>\n  );\n};\n\nexport function EntityError({ entity, action = 'creation' }) {\n  const messageType = action === 'updation' ? 'entityInfoUpdationFailure' : 'entityCreationFailure';\n\n  return (\n    <Alert type=\"error\">\n      <FormattedMessage\n        {...messages[messageType]}\n        values={{\n          entity: entity,\n        }}\n      />\n    </Alert>\n  );\n}\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  generic: {\n    id: 'stats.ohsome.timestamp.generic',\n    defaultMessage:\n      'These statistics come from ohsomeNow Stats and were last updated at {formattedDate} ({timeZone}). Missing fields will be made available soon!',\n  },\n  project: {\n    id: 'stats.ohsome.timestamp.project',\n    defaultMessage:\n      'These stats were retrieved using the default changeset comment of the project and were last updated at {formattedDate} ({timeZone}).',\n  },\n});\n","import { useState, useEffect } from 'react';\nimport { useIntl } from 'react-intl';\nimport ReactTooltip from 'react-tooltip';\n\nimport { fetchExternalJSONAPI } from '../../network/genericJSONRequest';\nimport { OHSOME_STATS_BASE_URL } from '../../config';\nimport { InfoIcon } from '../svgIcons';\nimport messages from './messages';\n\nfunction StatsTimestamp({ messageType }) {\n  const intl = useIntl();\n  const [lastUpdated, setLastUpdated] = useState(null);\n\n  useEffect(() => {\n    fetchExternalJSONAPI(`${OHSOME_STATS_BASE_URL}/metadata`)\n      .then((res) => {\n        setLastUpdated(res.result.max_timestamp);\n      })\n      .catch((error) => console.error(error));\n  }, []);\n\n  const dateOptions = {\n    year: 'numeric',\n    month: 'short',\n    day: '2-digit',\n    hour: 'numeric',\n    minute: 'numeric',\n  };\n\n  return (\n    <div>\n      <InfoIcon\n        className=\"blue-grey h1 w1 v-mid ml2 pointer\"\n        data-tip={intl.formatMessage(messages[messageType], {\n          formattedDate: intl.formatDate(lastUpdated, dateOptions),\n          timeZone: intl.timeZone,\n        })}\n        data-for=\"ohsome-timestamp\"\n      />\n      <ReactTooltip id=\"ohsome-timestamp\" place=\"top\" className=\"mw6\" effect=\"solid\" />\n    </div>\n  );\n}\n\nexport default StatsTimestamp;\n","import { defineMessages } from 'react-intl';\n\n/**\n * Internationalized messages for use on homepage.\n */\nexport default defineMessages({\n  jumbotronTitle: {\n    id: 'home.mainSection.title',\n    defaultMessage: 'Map for people in need',\n  },\n  jumbotronHeadLine: {\n    id: 'home.mainSection.lead',\n    defaultMessage:\n      'Join a global community that is mapping the places most vulnerable to disaster and poverty in order to support humanitarian aid and sustainable development across the world.',\n  },\n  secJumbotronTitle: {\n    id: 'home.callToAction.title',\n    defaultMessage: \"We can't do it without you\",\n  },\n  secJumbotronHeadLine: {\n    id: 'home.callToAction.firstLeadLine',\n    defaultMessage:\n      'Anyone can contribute to the map. If you have never mapped before and would like to get started, visit our {link} page.',\n  },\n  secJumbotronHeadLine2: {\n    id: 'home.callToAction.secondLeadLine',\n    defaultMessage:\n      'Are you an experienced mapper? Click below to see what projects are available for mapping.',\n  },\n  featuredProjects: {\n    id: 'home.featuredProjects.title',\n    defaultMessage: 'Featured Projects',\n  },\n  howItWorks: {\n    id: 'home.callToAction.learnLink',\n    defaultMessage: 'How it works',\n  },\n  startButton: {\n    id: 'home.mainSection.button.start',\n    defaultMessage: 'Start mapping',\n  },\n  joinButton: {\n    id: 'home.mainSection.button.join',\n    defaultMessage: 'Join the community',\n  },\n  buildingsStats: {\n    id: 'home.stats.buildings',\n    defaultMessage: 'Buildings Mapped',\n  },\n  roadsStats: {\n    id: 'home.stats.roads',\n    defaultMessage: 'Mapped Roads (Km)',\n  },\n  editsStats: {\n    id: 'home.stats.edits',\n    defaultMessage: 'Total Map Edits',\n  },\n  communityStats: {\n    id: 'home.stats.community',\n    defaultMessage: 'Total Mappers',\n  },\n  mappersStats: {\n    id: 'home.stats.mappers',\n    defaultMessage: 'Mappers Online',\n  },\n  statsLoadingError: {\n    id: 'home.stats.loading.error',\n    defaultMessage: 'An error occured while loading the stats',\n  },\n  mappingFlowTitle: {\n    id: 'home.mappingFlow.title',\n    defaultMessage:\n      'Each year, disasters around the world kill nearly {number} and affect or displace 200 million people. Mapping can help change this.',\n  },\n  mappingFlowHeadline: {\n    id: 'home.mappingFlow.headLine',\n    defaultMessage:\n      'Organizations use Tasking Manager to create mapping projects for areas around the world where data is needed to help save or improve lives.',\n  },\n  mappingCardTitle: {\n    id: 'home.mappingFlow.cards.mapping.title',\n    defaultMessage: 'Mapping',\n  },\n  validationCardTitle: {\n    id: 'home.mappingFlow.cards.validation.title',\n    defaultMessage: 'Validation',\n  },\n  usingDataCardTitle: {\n    id: 'home.mappingFlow.cards.usingData.title',\n    defaultMessage: 'Using the data',\n  },\n  mappingCardDescription: {\n    id: 'home.mappingFlow.cards.mapping.description',\n    defaultMessage:\n      'Volunteers use satellite imagery from OpenStreetMap to trace buildings, roadways, and other features.',\n  },\n  validationCardDescription: {\n    id: 'home.mappingFlow.cards.validation.description',\n    defaultMessage: 'Experienced volunteers check the map data to ensure it is high quality.',\n  },\n  usingDataCardDescription: {\n    id: 'home.mappingFlow.cards.usingData.description',\n    defaultMessage:\n      'Humanitarian organizations use the map data to plan for disaster response and other life saving activities.',\n  },\n  whoIsMappingTitle: {\n    id: 'home.whoIsMapping.title',\n    defaultMessage: 'Who uses the maps?',\n  },\n  whoIsMappingHeadline: {\n    id: 'home.whoIsMapping.headline',\n    defaultMessage:\n      'Trusted global organizations use Tasking Manager to get the map data they need to reach those in need.',\n  },\n  organizationContactTitle: {\n    id: 'home.whoIsMapping.contact.title',\n    defaultMessage: 'Does your organization want to work with us?',\n  },\n  organizationContactButton: {\n    id: 'home.whoIsMapping.contact.button',\n    defaultMessage: 'Contact us',\n  },\n  errorLoadingTheX: {\n    id: 'home.featuredProjects.error',\n    defaultMessage: 'Error loading the {xWord}',\n  },\n  contacterTitle: {\n    id: 'home.contact.contacterTitle',\n    defaultMessage: 'Send us a message',\n  },\n  contacterName: {\n    id: 'home.contact.contacterName',\n    defaultMessage: 'Name',\n  },\n  contacterEmail: {\n    id: 'home.contact.contacterEmail',\n    defaultMessage: 'Email',\n  },\n  contacterMessage: {\n    id: 'home.contact.contacterMessage',\n    defaultMessage: 'Message',\n  },\n  contacterHeaderText: {\n    id: 'home.contact.contacterHeadText',\n    defaultMessage:\n      'Want to discuss working with us? Or, have a question or feedback that you would like to share? Fill out the form below to contact our team.',\n  },\n  contacterSend: {\n    id: 'home.contact.submit',\n    defaultMessage: 'Send',\n  },\n  serviceDesk: {\n    id: 'home.contact.serviceDesk',\n    defaultMessage: 'Service Desk',\n  },\n  contactServiceDesk: {\n    id: 'home.contact.serviceDesk.description',\n    defaultMessage: 'You can also contact us through our <b>{link}</b>.',\n  },\n  testimonialsTitle: {\n    id: 'home.testimonials.title',\n    defaultMessage: 'You can make a difference',\n  },\n  ifrcCitation: {\n    id: 'home.testimonials.ifrc.citation',\n    defaultMessage:\n      'In the early days of the Cyclone Idai response, IFRC was looking for detailed maps to get a sense of the scale of the flooding, which were also used for search and rescue operations. Later on, we had requests to identify where certain buildings, such as health centres or hospitals, were located so our health team could assess the damage and medical needs of patients.',\n  },\n  ifrcBio: {\n    id: 'home.testimonials.ifrc.bio',\n    defaultMessage: 'Remote Coordinator for the IFRC Information Management Team for Cyclone Idai',\n  },\n});\n","import { useQuery } from '@tanstack/react-query';\n\nimport api from './apiClient';\nimport { OHSOME_STATS_BASE_URL } from '../config';\n\nexport const useSystemStatisticsQuery = () => {\n  const fetchSystemStats = ({ signal }) => {\n    return api().get(`system/statistics/`, {\n      signal,\n    });\n  };\n\n  return useQuery({\n    queryKey: ['tm-stats'],\n    queryFn: fetchSystemStats,\n    useErrorBoundary: true,\n  });\n};\n\nexport const useProjectStatisticsQuery = (projectId) => {\n  const fetchProjectStats = ({ signal }) => {\n    return api().get(`projects/${projectId}/statistics/`, {\n      signal,\n    });\n  };\n\n  return useQuery({\n    queryKey: ['project-stats'],\n    queryFn: fetchProjectStats,\n    select: (data) => data.data,\n  });\n};\n\nexport const useOsmStatsQuery = () => {\n  const fetchOsmStats = ({ signal }) => {\n    return api().get(`${OHSOME_STATS_BASE_URL}/stats/hotosm-project-%2A`, {\n      signal,\n    });\n  };\n\n  return useQuery({\n    queryKey: ['osm-stats'],\n    queryFn: fetchOsmStats,\n    useErrorBoundary: true,\n    select: (data) => data.data.result\n  });\n};\n\nexport const useOsmHashtagStatsQuery = (defaultComment) => {\n  const fetchOsmStats = ({ signal }) => {\n    return api().get(`${OHSOME_STATS_BASE_URL}/stats/${defaultComment[0].replace('#', '')}`, {\n      signal,\n    });\n  };\n\n  return useQuery({\n    queryKey: ['osm-hashtag-stats'],\n    queryFn: fetchOsmStats,\n    useErrorBoundary: true,\n    enabled: Boolean(defaultComment?.[0]),\n    select: (data) => data.data.result,\n  });\n};\n","(function (global, factory) {\r\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n    typeof define === 'function' && define.amd ? define(factory) :\r\n    global.shortNumber = factory();\r\n}(this, function (num) {\r\n    'use strict';\r\n\r\n    return function (num) {\r\n        if(typeof num !== 'number') {\r\n            throw new TypeError('Expected a number');\r\n        }\r\n\r\n        if(num > 1e19) {\r\n            throw new RangeError('Input expected to be < 1e19');\r\n        }\r\n\r\n        if(num < -1e19) {\r\n            throw new RangeError('Input expected to be > 1e19');\r\n        }\r\n\r\n        if(Math.abs(num) < 1000) {\r\n            return num;\r\n        }\r\n\r\n        var shortNumber;\r\n        var exponent;\r\n        var size;\r\n        var sign = num < 0 ? '-' : '';\r\n        var suffixes = {\r\n            'K': 6,\r\n            'M': 9,\r\n            'B': 12,\r\n            'T': 16\r\n        };\r\n\r\n        num = Math.abs(num);\r\n        size = Math.floor(num).toString().length;\r\n\r\n        exponent = size % 3 === 0 ? size - 3 : size - (size % 3);\r\n        shortNumber = Math.round(10 * (num / Math.pow(10, exponent))) / 10;\r\n\r\n        for(var suffix in suffixes) {\r\n            if(exponent < suffixes[suffix]) {\r\n                shortNumber += suffix;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return sign + shortNumber;\r\n    };\r\n}));\r\n","export default __webpack_public_path__ + \"static/media/ifrc.ecfc8756.jpg\";","'use client';\nimport { createContext, Component, createElement, isValidElement, useContext, useState, useMemo, forwardRef } from 'react';\n\nconst ErrorBoundaryContext = createContext(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: \"imperative-api\"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we'd end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: \"keys\"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if (typeof fallbackRender === \"function\") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = createElement(FallbackComponent, props);\n      } else if (fallback === null || isValidElement(fallback)) {\n        childToRender = fallback;\n      } else {\n        throw error;\n      }\n    }\n    return createElement(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n    throw new Error(\"ErrorBoundaryContext not found\");\n  }\n}\n\nfunction useErrorBoundary() {\n  const context = useContext(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = useState({\n    error: null,\n    hasError: false\n  });\n  const memoized = useMemo(() => ({\n    resetBoundary: () => {\n      context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = forwardRef((props, ref) => createElement(ErrorBoundary, errorBoundaryProps, createElement(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || \"Unknown\";\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n  return Wrapped;\n}\n\nexport { ErrorBoundary, ErrorBoundaryContext, useErrorBoundary, withErrorBoundary };\n","export default __webpack_public_path__ + \"static/media/banner_2500.9d7aaf45.jpg\";","export default __webpack_public_path__ + \"static/media/banner_824.c8f996a9.jpg\";","import React, { useLayoutEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Popup from 'reactjs-popup';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\nimport { Button } from '../button';\nimport { SignUp } from '../header/signUp';\nimport bannerHR from '../../assets/img/banner_2500.jpg';\nimport bannerLR from '../../assets/img/banner_824.jpg';\nimport { HOMEPAGE_VIDEO_URL, HOMEPAGE_IMG_HIGH, HOMEPAGE_IMG_LOW } from '../../config';\n\nfunction JumbotronButtons() {\n  const token = useSelector((state) => state.auth.token);\n  return (\n    <div className=\"buttons\">\n      <Link to={'explore'}>\n        <Button className=\"bg-red white mr3\">\n          <FormattedMessage {...messages.startButton} />\n        </Button>\n      </Link>\n      {!token && (\n        <Popup\n          trigger={\n            <Button className=\"bg-white blue-dark mt3 mt0-ns\">\n              <FormattedMessage {...messages.joinButton} />\n            </Button>\n          }\n          modal\n          closeOnDocumentClick\n        >\n          {(close) => <SignUp closeModal={close} />}\n        </Popup>\n      )}\n    </div>\n  );\n}\n\nfunction useWindowSize() {\n  const [size, setSize] = useState([0, 0]);\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize([window.innerWidth, window.innerHeight]);\n    }\n    window.addEventListener('resize', updateSize);\n    updateSize();\n    return () => window.removeEventListener('resize', updateSize);\n  }, []);\n  return size;\n}\n\nexport function Jumbotron() {\n  /* eslint-disable-next-line */\n  const [width, height] = useWindowSize();\n\n  return (\n    <div id=\"jumbotron\" className=\"white relative jumbotron-primary\">\n      <div className=\"truncate relative h-100\">\n        {HOMEPAGE_VIDEO_URL && width > 824 ? (\n          <video className=\"w-100 h-100 object-fit-cover\" style={{ zIndex: 0 }} muted loop autoPlay>\n            <source src={HOMEPAGE_VIDEO_URL} type=\"video/mp4\"></source>\n          </video>\n        ) : (\n          <img\n            className=\"w-100 h-100 object-fit-cover\"\n            srcSet={`${HOMEPAGE_IMG_LOW || bannerLR} 824w, ${HOMEPAGE_IMG_HIGH || bannerHR} 2500w`}\n            sizes=\"(max-width: 825px) 824w, 2500w\"\n            alt=\"banner background\"\n          />\n        )}\n      </div>\n      <div className=\"absolute top-0 pl6-l pl4 pv5-ns pv3 z-1 h-100\">\n        <div className=\"flex flex-column justify-center h-100\">\n          <h3 className=\"f-4rem-l f2 ttu barlow-condensed fw8 ma0\">\n            <FormattedMessage {...messages.jumbotronTitle} />\n          </h3>\n          <p className=\"pr2 f5 f3-ns mb4\">\n            <FormattedMessage {...messages.jumbotronHeadLine} />\n          </p>\n          <JumbotronButtons />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function SecondaryJumbotron() {\n  return (\n    <div className=\"cover bg-sec-jumbotron white jumbotron-sec\">\n      <div className=\"pl6-l pl4 pv5-ns pv2\">\n        <h3 className=\"mb4 mw6 f2 ttu barlow-condensed fw5\">\n          <FormattedMessage {...messages.secJumbotronTitle} />\n        </h3>\n        <p className=\"pr2 f125 f4-ns mw6\">\n          <FormattedMessage\n            {...messages.secJumbotronHeadLine}\n            values={{\n              link: (\n                <Link to={'learn'} className=\"link white\">\n                  <FormattedMessage {...messages.howItWorks} />\n                </Link>\n              ),\n            }}\n          />\n        </p>\n        <p className=\"pr2 f125 f4-ns mw6 mb0\">\n          <FormattedMessage {...messages.secJumbotronHeadLine2} />\n        </p>\n        <JumbotronButtons />\n      </div>\n    </div>\n  );\n}\n","import { FormattedMessage, FormattedNumber } from 'react-intl';\nimport shortNumber from 'short-number';\n\nimport messages from './messages';\nimport { useOsmStatsQuery, useSystemStatisticsQuery } from '../../api/stats';\n\nexport const StatsNumber = (props) => {\n  const value = shortNumber(props.value);\n  if (typeof value === 'number') {\n    return <FormattedNumber value={value} />;\n  }\n  return (\n    <span>\n      <FormattedNumber value={Number(value.substr(0, value.length - 1))} />\n      {value.substr(-1)}\n    </span>\n  );\n};\n\nexport const StatsColumn = ({ label, value }: Object) => {\n  return (\n    <div className={`tc`}>\n      <div className=\"fw5 red barlow-condensed stat-number\">\n        {value !== undefined ? <StatsNumber value={value} /> : <>&#8211;</>}\n      </div>\n      <div className=\"db blue-grey f6 fw7\">\n        <FormattedMessage {...label} />\n      </div>\n    </div>\n  );\n};\n\nexport const StatsSection = () => {\n  const { data: tmStatsData, isSuccess: hasTmStatsLoaded } = useSystemStatisticsQuery();\n  const { data: osmStatsData, isSuccess: hasOsmStatsLoaded } = useOsmStatsQuery();\n\n  // Mount all stats simultaneously\n  const hasStatsLoaded = hasTmStatsLoaded && hasOsmStatsLoaded;\n\n  return (\n    <>\n      <div className=\"pt5 pb2 ph6-l ph4 flex justify-around flex-wrap flex-nowrap-ns stats-container\">\n        <StatsColumn\n          label={messages.buildingsStats}\n          value={hasStatsLoaded ? osmStatsData?.buildings : undefined}\n        />\n        <StatsColumn\n          label={messages.roadsStats}\n          value={hasStatsLoaded ? osmStatsData?.roads : undefined}\n        />\n        <StatsColumn\n          label={messages.editsStats}\n          value={hasStatsLoaded ? osmStatsData?.edits : undefined}\n        />\n        <StatsColumn\n          label={messages.communityStats}\n          value={hasStatsLoaded ? tmStatsData?.data.totalMappers : undefined}\n        />\n        <StatsColumn\n          label={messages.mappersStats}\n          value={hasStatsLoaded ? tmStatsData.data.mappersOnline : undefined}\n        />\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport { FormattedMessage, FormattedNumber } from 'react-intl';\n\nimport messages from './messages';\nimport { MappingIcon, ValidationIcon, DataUseIcon } from '../svgIcons';\nimport './styles.scss';\n\nfunction MappingCard({ image, title, description }: Object) {\n  return (\n    <div className=\"w-100 w-third-l pv3 card bg-white\">\n      <div className=\"pa4 ph3-m\">\n        <div className=\"red dib\">{image}</div>\n        <h4 className=\"blue-dark b f125\">\n          <FormattedMessage {...title} />\n        </h4>\n        <p className=\"blue-grey f125\">\n          <FormattedMessage {...description} />\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport function MappingFlow() {\n  const imageHeight = '5rem';\n  const cards = [\n    {\n      image: <MappingIcon style={{ height: imageHeight }} />,\n      title: messages.mappingCardTitle,\n      description: messages.mappingCardDescription,\n    },\n    {\n      image: <ValidationIcon style={{ height: imageHeight }} />,\n      title: messages.validationCardTitle,\n      description: messages.validationCardDescription,\n    },\n    {\n      image: <DataUseIcon style={{ height: imageHeight }} />,\n      title: messages.usingDataCardTitle,\n      description: messages.usingDataCardDescription,\n    },\n  ];\n\n  return (\n    <div className=\"blue-dark ph6-l ph4 pv3 mapping-flow-container\">\n      <h3 className=\"mb3 mb4-ns lh-copy fw5 fw7-ns fw5-m\">\n        <FormattedMessage\n          {...messages.mappingFlowTitle}\n          values={{ number: <FormattedNumber value={100000} /> }}\n        />\n      </h3>\n      <p className=\"pr2 f125 f4-ns blue-dark lh-title mw7 mb4 mappingFlowHeadline\">\n        <FormattedMessage {...messages.mappingFlowHeadline} />\n      </p>\n      <div className=\"flow-cards-container-parent\">\n        <div className=\"flex flex-column flex-row-l flow-cards-container\">\n          {cards.map((card, n) => (\n            <MappingCard {...card} key={n} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\nimport { Button } from '../button';\n\nconst organizations = [\n  { url: 'https://www.redcross.org/', code: 'redcross', name: 'American Red Cross' },\n  { url: 'https://www.redcross.org.uk/', code: 'brc', name: 'British Red Cross' },\n  { url: 'https://www.msf.org/', code: 'msf', name: 'Medecins Sans Frontieres' },\n  { url: 'https://www.worldbank.org/', code: 'wb', name: 'World Bank' },\n  { url: 'https://www.usaid.gov/', code: 'usaid', name: 'USAID' },\n  { url: 'https://www.bing.com/', code: 'bing', name: 'Bing' },\n];\n\nfunction ContactCard() {\n  const navigate = useNavigate();\n  return (\n    <div className=\"blue-dark bg-white contact-card br1\">\n      <h4 className=\"f3 fw5 ttu barlow-condensed ma0\">\n        <FormattedMessage {...messages.organizationContactTitle} />\n      </h4>\n      <div className=\"w-100 w-auto-ns\">\n        <Button\n          className=\"w-100 tc bg-red white mt5-ns nowrap mt0-m\"\n          onClick={() => navigate('/contact')}\n        >\n          <FormattedMessage {...messages.organizationContactButton} />\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport function WhoIsMapping() {\n  return (\n    <div className=\"bg-blue-dark who-is-mapping mb5-m\">\n      <div className=\"ph6-l ph4 white\">\n        <div className=\"w-100\">\n          <h3 className=\"bg-red dib fw5 tc lh-copy white ttu barlow-condensed ma0\">\n            <FormattedMessage {...messages.whoIsMappingTitle} />\n          </h3>\n        </div>\n        <div className=\"w-75-l w-100\">\n          <p className=\"mb4 f5 f3-ns lh-title mw6 mt4\">\n            <FormattedMessage {...messages.whoIsMappingHeadline} />\n          </p>\n          <div className=\"pb4 pb2-l flex flex-wrap logo-ctr organizations\">\n            {organizations.map((org, n) => (\n              <div key={n} className=\"org w-50\">\n                <a href={org.url}>\n                  <div className={`contain  org-${org.code} w-auto h3`} aria-label={org.name}></div>\n                </a>\n              </div>\n            ))}\n          </div>\n        </div>\n        <ContactCard />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\n// import {RightIcon, LeftIcon} from '../../svgIcons';\n\nexport function Testimonials() {\n  const testimonials = [\n    {\n      name: 'Lauren Bateman',\n      bio: messages.ifrcBio,\n      citation: messages.ifrcCitation,\n      cssCode: 'ifrc',\n      image: '.../../images/ifrc.png',\n    },\n  ];\n\n  return (\n    <div className=\"pt5-l pb5 pl6-l pb6-l pl4 testimonials\">\n      <h3 className=\"barlow-condensed blue-dark f2 fw5 ttu\">\n        <FormattedMessage {...messages.testimonialsTitle} />\n      </h3>\n      {\n        // enable it when we have the carousel ready\n        // <div className=\"red cf tr pb4\">\n        //   <LeftIcon className=\"pr2\" /> <RightIcon />\n        // </div>\n      }\n      {testimonials.map((person, n) => (\n        <div className=\"testimony relative\" key={person.name}>\n          {/* <div key={n} className={`blue-dark testimonial-${person.cssCode} relative`} /> */}\n          <div className=\"testimonial-image-parent\">\n            <img\n              className=\"testimonial-image\"\n              src={require('../../assets/img/testimonials/ifrc.jpg').default}\n              alt={person.name}\n            />\n          </div>\n          <div className=\"citation-ctr\">\n            <p className=\"bg-red white pv2 pl3 pr1 citation ma0 relative\">\n              <FormattedMessage {...person.citation} />\n              <span className=\"quotes-icon red ma0\">&ldquo;</span>\n            </p>\n            <div className=\"w-70-l w-50-m mh3 mh0-ns\">\n              <h4 className=\"f5 fw7 mb1 tl-m witness\">{person.name},</h4>\n              <p className=\"f6 tl-m ma0 bio\">\n                <FormattedMessage {...person.bio} />\n              </p>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import React from 'react';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { FormattedMessage } from 'react-intl';\n\nimport { Jumbotron, SecondaryJumbotron } from '../components/homepage/jumbotron';\nimport { StatsSection } from '../components/homepage/stats';\nimport { MappingFlow } from '../components/homepage/mappingFlow';\nimport { WhoIsMapping } from '../components/homepage/whoIsMapping';\nimport { Testimonials } from '../components/homepage/testimonials';\nimport { Alert } from '../components/alert';\nimport homeMessages from '../components/homepage/messages';\nimport StatsTimestamp from '../components/statsTimestamp/';\n\nexport function Home() {\n  return (\n    <div className=\"pull-center\">\n      <Jumbotron />\n      <ErrorBoundary\n        fallback={\n          <div className=\"pt5 pb2 ph6-l ph4\">\n            <Alert type=\"error\">\n              <FormattedMessage {...homeMessages.statsLoadingError} />\n            </Alert>\n          </div>\n        }\n      >\n        <StatsSection />\n        <div class=\"cf w-100 relative tr pt3 pr3\">\n          <StatsTimestamp messageType=\"generic\" />\n        </div>\n      </ErrorBoundary>\n      <MappingFlow />\n      <WhoIsMapping />\n      <Testimonials />\n      <SecondaryJumbotron />\n    </div>\n  );\n}\n"],"sourceRoot":""}