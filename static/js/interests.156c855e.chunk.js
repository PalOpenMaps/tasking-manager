(this["webpackJsonpTaskingManager-frontend"]=this["webpackJsonpTaskingManager-frontend"]||[]).push([[802],{2367:function(e,t,s){"use strict";s.r(t),s.d(t,"CreateInterest",(function(){return M})),s.d(t,"ListInterests",(function(){return E})),s.d(t,"EditInterest",(function(){return T}));var a=s(1),c=s(10),i=s(120),n=s(6),r=s(23),l=s(57),b=s(30),j=s(165),d=s.n(j),o=s(62),h=s(92),m=s.n(h),O=s(70),u=s(119),x=s(13),g=s(32),w=s(2162),v=s(80),f=s(0);const p=e=>{let{interest:t}=e;return Object(f.jsx)(r.a,{to:"".concat(t.id,"/"),className:"w-50-ns w-100 fl pr3",children:Object(f.jsxs)("div",{className:"cf bg-white blue-dark br1 mv2 pv4 ph3 ba br1 b--grey-light shadow-hover",children:[Object(f.jsx)("div",{className:"dib v-mid pr3",children:Object(f.jsx)("div",{className:"z-1 fl br-100 tc h2 w2 bg-blue-light white",children:Object(f.jsx)("span",{className:"relative w-50 dib",children:Object(f.jsx)(x.F,{style:{paddingTop:"0.4175rem"}})})})}),Object(f.jsx)("h3",{className:"f3 mv0 dib v-mid",children:t.name})]})})},N=e=>{let{interests:t,_userDetails:s,isInterestsFetched:c}=e;const[i,n]=Object(a.useState)(""),r=null===t||void 0===t?void 0:t.filter((e=>e.name.toLowerCase().includes(i.toLowerCase())));return Object(f.jsx)(u.d,{title:Object(f.jsx)(b.a,{...O.a.manage,values:{entity:Object(f.jsx)(b.a,{...O.a.categories})}}),showAddButton:!0,managementView:!0,children:Object(f.jsxs)(m.a,{showLoadingAnimation:!0,customPlaceholder:Object(w.a)(4),delay:10,ready:c,children:[Object(f.jsx)("div",{className:"w-20-l w-25-m",children:Object(f.jsx)(v.i,{value:i,placeholderMsg:O.a.searchCategories,onChange:e=>n(e.target.value),onCloseIconClick:()=>n("")})}),null!==r&&void 0!==r&&r.length?r.map(((e,t)=>Object(f.jsx)(p,{interest:e},t))):Object(f.jsx)("div",{children:Object(f.jsx)(b.a,{...O.a.noCategories})})]})})},y=e=>Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"cf",children:[Object(f.jsx)("label",{className:"db pt3 pb2",children:Object(f.jsx)(b.a,{...O.a.name})}),Object(f.jsx)(l.a,{name:"name",component:"input",type:"text",className:"blue-grey w-100 pv3 ph2 input-reset ba b--grey-light bg-transparent",required:!0})]})}),C=e=>Object(f.jsx)(l.b,{onSubmit:t=>e.updateInterest(t),initialValues:e.interest,render:e=>{let{handleSubmit:t,dirty:s,submitSucceeded:a,dirtySinceLastSubmit:c,form:i,submitting:n,values:r}=e;const l=a?c&&s:s;return Object(f.jsxs)("div",{className:"blue-grey mb3",children:[Object(f.jsxs)("div",{className:"bg-white b--grey-light pa4 ".concat(l?"bt bl br":"ba"),children:[Object(f.jsx)("h3",{className:"f3 fw6 dib blue-dark mv0",children:Object(f.jsx)(b.a,{...O.a.categoryInfo})}),Object(f.jsx)("form",{id:"interest-form",onSubmit:t,children:Object(f.jsx)("fieldset",{className:"bn pa0",disabled:n,children:Object(f.jsx)(y,{})})})]}),l&&Object(f.jsxs)("div",{className:"cf pt0 h3",children:[Object(f.jsx)("div",{className:"w-70-l w-50 fl tr dib bg-grey-light",children:Object(f.jsx)(g.b,{className:"blue-dark bg-grey-light h3",onClick:()=>i.restart(),children:Object(f.jsx)(b.a,{...O.a.cancel})})}),Object(f.jsx)("div",{className:"w-30-l w-50 h-100 fr dib",children:Object(f.jsx)(g.b,{onClick:()=>t(),className:"w-100 h-100 bg-red white",disabledClassName:"bg-red o-50 white w-100 h-100",children:Object(f.jsx)(b.a,{...O.a.save})})})]})]})}});var k=s(1962),S=s(1944),I=s(29),D=s(164),F=s(1993),L=s(1914);const M=()=>{Object(D.b)("Create new category");const e=Object(n.q)(),t=Object(c.d)((e=>e.auth.token)),[s,i]=Object(a.useState)(!1);return Object(f.jsx)(l.b,{onSubmit:s=>{return a=s,i(!1),void Object(I.d)("interests/",JSON.stringify(a),t,"POST").then((t=>{d.a.success(Object(f.jsx)(b.a,{...o.a.entityCreationSuccess,values:{entity:"category"}})),e("/manage/categories/".concat(t.id))})).catch((()=>{i(!0)}));var a},render:e=>{let{handleSubmit:t,pristine:a,form:c,submitting:i,values:n}=e;return Object(f.jsxs)("form",{onSubmit:t,className:"blue-grey",children:[Object(f.jsxs)("div",{className:"cf vh-100",children:[Object(f.jsx)("h3",{className:"f2 mb3 ttu blue-dark fw7 barlow-condensed",children:Object(f.jsx)(b.a,{...o.a.newCategory})}),Object(f.jsxs)("div",{className:"w-40-l w-100 fl",children:[Object(f.jsxs)("div",{className:"bg-white b--grey-light ba pa4 mb3",children:[Object(f.jsx)("h3",{className:"f3 blue-dark mv0 fw6",children:Object(f.jsx)(b.a,{...o.a.categoryInfo})}),Object(f.jsx)(y,{})]}),s&&Object(f.jsx)(L.b,{entity:"category"})]}),Object(f.jsx)("div",{className:"w-40-l w-100 fl pl5-l pl0 "})]}),Object(f.jsxs)("div",{className:"fixed left-0 bottom-0 cf bg-white h3 w-100",children:[Object(f.jsx)("div",{className:"w-80-ns w-60-m w-50 h-100 fl tr",children:Object(f.jsx)(r.a,{to:"../",children:Object(f.jsx)(g.c,{className:"bg-white mr5 pr2 h-100 bn bg-white blue-dark",children:Object(f.jsx)(b.a,{...o.a.cancel})})})}),Object(f.jsx)("div",{className:"w-20-l w-40-m w-50 h-100 fr",children:Object(f.jsx)(g.e,{disabled:i||a,className:"w-100 h-100 bg-red white",disabledClassName:"bg-red o-50 white w-100 h-100",children:Object(f.jsx)(b.a,{...o.a.createCategory})})})]})]})}})},E=()=>{Object(D.b)("Manage categories");const e=Object(c.d)((e=>e.auth.userDetails)),[t,s,a]=Object(i.a)("interests/"),n=!s&&!t;return Object(f.jsx)(N,{interests:a.interests,userDetails:e,isInterestsFetched:n})},T=()=>{const{id:e}=Object(n.s)(),t=Object(c.d)((e=>e.auth.userDetails)),s=Object(c.d)((e=>e.auth.token)),[r,l]=Object(a.useState)(!1),[j,d,h]=Object(i.a)("interests/".concat(e,"/"));Object(D.b)("Edit ".concat(h.name));const[m,O,u]=Object(i.a)("projects/?interests=".concat(e,"&omitMapResults=true"),e),x=()=>l(!0);return Object(f.jsxs)("div",{className:"cf pv4 bg-tan",children:[Object(f.jsxs)("div",{className:"cf",children:[Object(f.jsx)("h3",{className:"f2 ttu blue-dark fw7 barlow-condensed v-mid ma0 dib ttu",children:Object(f.jsx)(b.a,{...o.a.manageCategory})}),Object(f.jsx)(S.a,{id:h.id,name:h.name,type:"interests"})]}),Object(f.jsxs)("div",{className:"w-40-l w-100 mt4 fl",children:[Object(f.jsx)(C,{userDetails:t,interest:{name:h.name},updateInterest:t=>Object(F.a)("interests/".concat(e,"/"),"category",t,s,null,x),disabledForm:j||d}),r&&Object(f.jsx)(L.b,{entity:"category",action:"updation"})]}),Object(f.jsx)("div",{className:"w-60-l w-100 mt4 pl5-l pl0 fr",children:Object(f.jsx)(k.a,{projects:!O&&!m&&u,viewAllEndpoint:"/manage/projects/?interests=".concat(e),ownerEntity:"category"})})]})}}}]);
//# sourceMappingURL=interests.156c855e.chunk.js.map