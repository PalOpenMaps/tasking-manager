(this["webpackJsonpTaskingManager-frontend"]=this["webpackJsonpTaskingManager-frontend"]||[]).push([[6],{640:function(e,a){},653:function(e,a,t){"use strict";t.r(a),t.d(a,"addLayer",(function(){return H}));var r=t(0),s=t.n(r),n=t(1),l=t(2),c=t(23),o=t(43),m=t(3),i=Object(m.b)({createProject:{id:"management.projects.create.title",defaultMessage:"Create project"},cloneProject:{id:"management.projects.clone.message",defaultMessage:"The new project will be a clone of the project #{id} ({name})."},clone:{id:"management.projects.create.clone",defaultMessage:"Clone"},areaSize:{id:"management.projects.create.area_size",defaultMessage:"Area size: {area} km{sq}"},areaOverLimitError:{id:"management.projects.create.area_error",defaultMessage:"Project area is higher than {n} squared kilometers."},taskNumber:{id:"management.projects.create.tasks",defaultMessage:"Number of tasks: {n}"},step1:{id:"management.projects.create.steps.1",defaultMessage:"Step 1: define area"},step2:{id:"management.projects.create.steps.2",defaultMessage:"Step 2: set tasks sizes"},step3:{id:"management.projects.create.steps.3",defaultMessage:"Step 3: trim task grid"},step4:{id:"management.projects.create.steps.4",defaultMessage:"Step 4: review"},name:{id:"management.projects.create.review_tasks.name",defaultMessage:"Name"},creationFailed:{id:"management.projects.create.review_tasks.failure.message",defaultMessage:"It was not possible to save your project due to an error: {error}"},create:{id:"management.projects.create.review_tasks.button.create",defaultMessage:"Create"},reviewTaskNumberMessage:{id:"management.projects.create.review_tasks.number",defaultMessage:"Your project will be created with {n} tasks."},task:{id:"management.projects.create.review_tasks.task",defaultMessage:"task"},tasks:{id:"management.projects.create.review_tasks.tasks",defaultMessage:"tasks"},trimTasksDescriptionLine1:{id:"management.projects.create.trim_tasks.description.1",defaultMessage:"Trim the task grid to the area of interest (optional)."},trimTasksDescriptionLine2:{id:"management.projects.create.trim_tasks.description.2",defaultMessage:"You can keep the current tasks or trim the area for your project. This can take some time to execute."},trimToAOI:{id:"management.projects.create.trim_tasks.trim_to_aoi",defaultMessage:"Trim the tasks to define the exact Area of Interest for mapping."},taskSizes:{id:"management.projects.create.task_sizes.description",defaultMessage:"General task size"},smaller:{id:"management.projects.create.task_sizes.smaller",defaultMessage:"Smaller"},larger:{id:"management.projects.create.task_sizes.larger",defaultMessage:"Larger"},invalidFile:{id:"management.projects.create.errors.invalid",defaultMessage:"It was not possible to read the geometries on the file. Verify it and upload again."},unsupportedGeom:{id:"management.projects.create.errors.unsupported_geom",defaultMessage:"Unsupported geometry type {geometry}"},noFeatureCollection:{id:"management.projects.create.errors.no_featurecollection",defaultMessage:"type field is not FeatureCollection"},closedLinestring:{id:"management.projects.create.errors.closed_linestring",defaultMessage:"Points do not form a closed linestring"},fileSize:{id:"management.projects.create.errors.fileSize",defaultMessage:"We only accept files up to {fileSize} MB. Please reduce the size of your file and try again."},splitTaskDescription:{id:"management.projects.create.split_task.description",defaultMessage:"Make tasks smaller by clicking on specific tasks or drawing an area on the map."},reset:{id:"management.projects.create.reset.button",defaultMessage:"Reset"},taskNumberMessage:{id:"management.projects.create.split.tasks.number",defaultMessage:"A new project will be created with {n} tasks."},taskAreaMessage:{id:"management.projects.create.split.tasks.area",defaultMessage:"The size of each task is approximately {area} km{sq}."},splitByDrawing:{id:"management.projects.create.split_task.draw.button",defaultMessage:"Draw area to split"},splitByClicking:{id:"management.projects.create.split_task.click.button",defaultMessage:"Click to split"},uploadError:{id:"management.projects.create.upload_file.error",defaultMessage:"Error when importing geometry. Verify if the file you uploaded is correct."},backToPrevious:{id:"management.projects.create.button.back",defaultMessage:"Back to previous"},next:{id:"management.projects.create.button.next",defaultMessage:"Next"},trim:{id:"management.projects.create.button.trim",defaultMessage:"Trim"},draw:{id:"management.projects.create.button.draw",defaultMessage:"Draw"},uploadFile:{id:"management.projects.create.button.upload_file",defaultMessage:"Upload file"},deleteArea:{id:"management.projects.create.button.delete_area",defaultMessage:"Delete area"},arbitraryTasks:{id:"management.projects.create.arbitrary_tasks",defaultMessage:"Set tasks using uploaded polygons"},drawDescription:{id:"management.projects.create.draw.description",defaultMessage:"Draw the Area of Interest on the map."},importDescription:{id:"management.projects.create.upload.description",defaultMessage:"Import a GeoJSON, KML, OSM or zipped SHP file."},option1:{id:"management.projects.create.options.1",defaultMessage:"Option 1"},option2:{id:"management.projects.create.options.2",defaultMessage:"Option 2"}}),d=t(578),p=t(84),u=t(49),g=t(649),f=t(5),b=t(36),k=t(595),j=t(648),E=t(597);const h=(e,a)=>{const t=20037508.34*e/180;let r=Math.log(Math.tan((90+a)*Math.PI/360))/(Math.PI/180);return r=20037508.34*r/180,[t,r]},w=(e,a)=>[180*e/20037508.34,360*Math.atan(Math.exp(a*Math.PI/20037508.34))/Math.PI-90],y=(e,a,t,r)=>{const s=(a+1)*e-20037508.3392,n=(t+1)*e-20037508.3392,l=w(a*e-20037508.3392,t*e-20037508.3392),c=w(s,n),o={x:a,y:t,zoom:r,isSquare:!0},m=[l[0],l[1],c[0],c[1]],i=Object(E.a)(m);return Object(u.f)([i.geometry.coordinates],o)},M=(e,a,t)=>{let r=Object(p.a)(e);const s=h(r[0],r[1]),n=h(r[2],r[3]);r=[s[0],s[1],n[0],n[1]];return((e,a)=>{const t=Math.ceil(e[0]),r=Math.ceil(e[1]),s=Math.floor(e[2]),n=Math.floor(e[3]),l=20037508.3392/Math.pow(2,a-1),c=parseInt(Math.floor((t+20037508.3392)/l)),o=parseInt(Math.ceil((s+20037508.3392)/l)),m=parseInt(Math.floor((r+20037508.3392)/l)),i=parseInt(Math.ceil((n+20037508.3392)/l));let d=[];for(let p=c;p<o;p++)for(let e=m;e<i;e++){let t=y(l,p,e,a);d.push(t)}return Object(u.b)(d)})(r,a)},v=(e,a)=>{let t=[];return e.features.forEach(e=>{let r=Object(u.h)(e.geometry.coordinates[0]);if(null===Object(k.a)(a,r))t.push(e);else{M(e,e.properties.zoom+1).features.forEach(e=>{t.push(e)})}}),t};function O(e){let{metadata:a,mapObj:t,updateMetadata:n}=e;const l=Object(r.useCallback)(e=>{const r=t.map.getSource("grid")._data;null===a.tempTaskGrid&&n({...a,tempTaskGrid:r});const s=Object(j.a)(e.features[0].geometry,.5),l=v(r,s);n({...a,taskGrid:Object(u.b)(l),tasksNo:Object(u.b)(l).features.length})},[n,a,t.map]),c=Object(r.useCallback)(()=>{const e=a.zoomLevel+1,t=M(a.geom,e);n({...a,zoomLevel:e,tempTaskGrid:t,taskGrid:t,tasksNo:t.features.length})},[a,n]),m=Object(r.useCallback)(()=>{const e=a.zoomLevel-1,t=M(a.geom,e);e>0&&n({...a,zoomLevel:e,tempTaskGrid:t,taskGrid:t,tasksNo:t.features.length})},[a,n]);Object(r.useLayoutEffect)(()=>(H("grid",a.taskGrid,t.map),()=>{t.map.off("click","grid",l)}),[a,t,c,m,l]);const p="white bg-blue-dark";return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:"f3 fw6 mt2 mb3 barlow-condensed blue-dark"},s.a.createElement(o.a,i.step2)),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement(o.a,i.taskSizes)),s.a.createElement("div",{role:"group"},s.a.createElement(f.a,{onClick:c,className:"".concat(p," mr2")},s.a.createElement(o.a,i.smaller)),s.a.createElement(f.a,{onClick:m,className:p},s.a.createElement(o.a,i.larger)))),s.a.createElement("div",{className:"pt3"},s.a.createElement("p",null,s.a.createElement(o.a,i.splitTaskDescription)),s.a.createElement("div",{role:"group"},s.a.createElement(f.a,{className:"".concat(p," mr2"),onClick:()=>{t.map.on("mouseenter","grid",e=>{t.map.getCanvas().style.cursor="pointer"}),t.map.on("mouseleave","grid",e=>{t.map.getCanvas().style.cursor=""}),t.map.on("click","grid",l)}},s.a.createElement(o.a,i.splitByClicking)),s.a.createElement(f.a,{className:p,onClick:()=>{t.map.on("mouseenter","grid",e=>{t.map.getCanvas().style.cursor="crosshair"}),t.map.on("mouseleave","grid",e=>{t.map.getCanvas().style.cursor=""}),t.map.once("draw.create",e=>{const r=t.map.getSource("grid")._data;null===a.tempTaskGrid&&n({...a,tempTaskGrid:r});const s=e.features[0].id;t.draw.delete(s);const l=e.features[0].geometry,c=v(r,l,a.zoomLevel);n({...a,taskGrid:Object(u.b)(c),tasksNo:Object(u.b)(c).features.length})}),t.draw.changeMode("draw_polygon")}},s.a.createElement(o.a,i.splitByDrawing)),s.a.createElement(f.a,{className:"bg-red white db mt2",onClick:()=>{n({...a,taskGrid:a.tempTaskGrid})}},s.a.createElement(o.a,i.reset)))),s.a.createElement("p",null,s.a.createElement(o.a,Object.assign({},i.taskNumberMessage,{values:{n:a.tasksNo||0}}))),s.a.createElement("p",null,s.a.createElement(o.a,Object.assign({},i.taskAreaMessage,{values:{area:(Object(d.a)(a.taskGrid.features[0])/1e6).toFixed(2)||0,sq:s.a.createElement("sup",null,"2")}})))))}var N=t(8),S=t(598),T=t(603),C=t(608);function x(e){let{mapObj:a,metadata:t,updateMetadata:n,setErr:l}=e;const{containsMultiplePolygons:c}=function(e){const[a,t]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{e&&e.features&&e.features.length&&(e.features.length>1&&t(!0),1===e.features.length&&"MultiPolygon"===e.features[0].geometry.type&&t(!0)),(null===e||e.features&&0===e.features.length)&&t(!1)},[t,e]),{containsMultiplePolygons:a}}(t.geom),m=(e,r)=>{a.map.fitBounds(Object(p.a)(e),{padding:20});const s=Object(d.a)(e)/1e6,l=M(e,11);n({...t,geom:e,area:s.toFixed(2),zoomLevel:11,taskGrid:l,tempTaskGrid:l}),!0===r&&H("aoi",e,a.map)},k=e=>{let a={code:403,message:null};try{if("FeatureCollection"!==e.type)throw a.message=s.a.createElement(o.a,i.noFeatureCollection),a;const t=["Polygon","MultiPolygon","LineString"],r=e.features.map(e=>((e,a,t)=>{if(!1===a.includes(e.geometry.type))throw t.message=s.a.createElement(o.a,Object.assign({},i.unsupportedGeom,{values:{geometry:e.geometry.type}})),t;if("LineString"===e.geometry.type){const a=e.geometry.coordinates;if(JSON.stringify(a[0])!==JSON.stringify(a[a.length-1]))throw t.message=s.a.createElement(o.a,i.closedLinestring),t;return Object(g.a)(e)}return e})(e,t,a));e.features=r,m(e,!0)}catch(t){j(),l({error:!0,message:t.message})}},j=()=>{const e=a.draw.getAll();if(e.features.length>0){const t=e.features[0].id;a.draw.delete(t)}a.map.getLayer("aoi")&&a.map.removeLayer("aoi"),a.map.getSource("aoi")&&a.map.removeSource("aoi"),n({...t,area:0,geom:null})};return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:"f3 fw6 mt2 mb3 ttu barlow-condensed blue-dark"},s.a.createElement(o.a,i.step1)),s.a.createElement("div",{className:"pb4"},s.a.createElement("h3",null,s.a.createElement(o.a,i.option1),":"),s.a.createElement("p",null,s.a.createElement(o.a,i.drawDescription)),s.a.createElement(f.a,{className:"bg-blue-dark white",onClick:()=>{const e=e=>{const t=a.draw.getAll();if(t.features.length>1){const e=t.features[0].id;a.draw.delete(e)}const r=Object(u.b)(e.features);m(r,!1)};a.map.on("draw.update",e),a.map.once("draw.create",e),a.draw.changeMode("draw_polygon")}},s.a.createElement(o.a,i.draw))),s.a.createElement("div",{className:"pb4"},s.a.createElement("h3",null,s.a.createElement(o.a,i.option2),":"),s.a.createElement("p",null,s.a.createElement(o.a,i.importDescription)),s.a.createElement("div",{className:"pt3"},s.a.createElement("label",{for:"file-upload",className:"bg-blue-dark white br1 f5 bn pointer",style:{padding:".75rem 1.5rem"}},s.a.createElement(o.a,i.uploadFile)),s.a.createElement("input",{onChange:e=>{let a=e.target.files[0];if(!a)return null;if(a.size>=N.s)return l({error:!0,message:s.a.createElement(o.a,Object.assign({},i.fileSize,{values:{fileSize:N.s/1e6}}))}),null;const t=a.name.split(".")[1].toLowerCase();let r=new FileReader;r.onload=e=>{try{(e=>{let a=null;switch(t){case"json":case"geojson":a=JSON.parse(e.target.result);break;case"kml":let t=(new DOMParser).parseFromString(e.target.result,"text/xml");a=S.kml(t);break;case"osm":let r=(new DOMParser).parseFromString(e.target.result,"text/xml");a=T(r);break;case"xml":let s=(new DOMParser).parseFromString(e.target.result,"text/xml");a=T(s);break;case"zip":C(e.target.result).then((function(e){k(e)}))}"zip"!==t&&k(a)})(e)}catch(a){l({error:!0,message:s.a.createElement(o.a,i.invalidFile)})}},"zip"===t?r.readAsArrayBuffer(a):r.readAsText(a)},style:{display:"none"},id:"file-upload",type:"file"}))),s.a.createElement("div",{className:"pb2"},c&&s.a.createElement(b.f,{label:s.a.createElement(o.a,i.arbitraryTasks),labelPosition:"right",isChecked:t.arbitraryTasks,onChange:()=>n({...t,arbitraryTasks:!t.arbitraryTasks})})),t.geom&&s.a.createElement("div",{className:"pt4"},s.a.createElement(f.a,{className:"bg-red white",onClick:j},s.a.createElement(o.a,i.deleteArea))))}var L=t(44),z=t.n(L),G=(t(163),t(86)),_=t.n(G);z.a.accessToken=N.o;try{z.a.setRTLTextPlugin(N.n)}catch{console.log("RTLTextPlugin is loaded")}const P=e=>{let{map:a}=e,t=N.c;N.o||(t=N.c.filter(e=>"object"===typeof e.value));const[n,l]=Object(r.useState)(t[0].label);return s.a.createElement("div",{className:"bg-white blue-dark flex mt2 ml2 f7 br1 shadow-1"},t.map(e=>s.a.createElement("div",{onClick:()=>(e=>{let t=e.value;"string"===typeof e.value&&(t="mapbox://styles/mapbox/"+e.value),a.setStyle(t),l(e.label)})(e),className:"ttc pv2 ph3 pointer link + ".concat(n===e.label?"bg-grey-light fw6":"")},e.label)))},D=e=>{let{mapObj:a,setMapObj:t,metadata:l,updateMetadata:c,step:o}=e;const m=s.a.createRef(),i=Object(n.d)(e=>e.preferences.locale);return Object(r.useLayoutEffect)(()=>(t({...a,map:new z.a.Map({container:m.current,style:N.p,center:[0,0],zoom:1,attributionControl:!1}).addControl(new z.a.AttributionControl({compact:!1})).addControl(new _.a({defaultLanguage:i.substr(0,2)||"en"})).addControl(new z.a.ScaleControl({unit:"metric"}))}),()=>{a.map&&a.map.remove()}),[]),Object(r.useLayoutEffect)(()=>{null!==a.map&&(a.map.on("load",()=>{a.map.addControl(new z.a.NavigationControl),a.map.addControl(a.draw)}),a.map.on("draw.delete",e=>{c({...l,geom:null,area:0})}),a.map.on("style.load",e=>{if(!N.o)return;0===a.draw.getAll().features.length&&H("aoi",l.geom,a.map),l.taskGrid&&1!==o?H("grid",l.taskGrid,a.map):a.map.removeLayer("grid")}))},[a,l,c,o]),s.a.createElement("div",{className:"w-100 h-100-l relative"},s.a.createElement("div",{className:"absolute top-0 left-0 z-5"},s.a.createElement(P,{map:a.map})),s.a.createElement("div",{id:"map",className:"vh-50 h-100-l w-100",ref:m}))};var F=t(11);function A(e){let{metadata:a,mapObj:t,updateMetadata:l}=e;Object(r.useEffect)(()=>{H("grid",a.taskGrid,t.map)},[a,t]);const c=Object(n.d)(e=>e.auth.get("token")),[m,d]=Object(r.useState)(!1);return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:"f3 fw6 mt2 mb3 barlow-condensed blue-dark"},s.a.createElement(o.a,i.step3)),s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement(o.a,i.trimTasksDescriptionLine1)),s.a.createElement("p",null,s.a.createElement(o.a,i.trimTasksDescriptionLine2)),s.a.createElement("input",{type:"checkbox",className:"v-mid",defaultChecked:m,onChange:()=>d(!m)}),s.a.createElement("span",{className:"pl2 v-mid"},s.a.createElement(o.a,i.trimToAOI)),s.a.createElement("div",{className:"pt2"},s.a.createElement(f.a,{onClick:()=>((e,a,t,r,s)=>{const n=JSON.stringify({areaOfInterest:a.geom,clipToAoi:e,grid:a.tempTaskGrid});Object(F.c)("projects/actions/intersecting-tiles/",n,s).then(e=>{r({...a,tasksNo:e.features.length,taskGrid:e})})})(m,a,t.map,l,c),className:"white bg-blue-dark"},s.a.createElement(o.a,i.trim)))))}var I=e=>s.a.createElement("div",{className:"pt3"},1===e.index?null:s.a.createElement(f.a,{onClick:()=>(e=>{switch(e.index){case 2:e.mapObj.map.removeLayer("grid"),e.updateMetadata({...e.metadata,tasksNo:0});break;case 3:e.updateMetadata({...e.metadata,taskGrid:e.metadata.tempTaskGrid})}let a=e.index-1;!0===e.metadata.arbitraryTasks&&(a=1),e.setStep(a)})(e),className:"white bg-red mr3"},s.a.createElement(o.a,i.backToPrevious)),4===e.index?null:s.a.createElement(f.a,{onClick:a=>{const t=(e=>{switch(e.index){case 1:if(e.metadata.area>=e.maxArea){return{error:!0,message:"Project AOI is higher than 5000 squared kilometers"}}if(0===e.metadata.area){return{error:!0,message:"Project geometry not set"}}{const a=e.metadata.geom.features[0].id;e.mapObj.draw.delete(a),H("aoi",e.metadata.geom,e.mapObj.map),e.updateMetadata({...e.metadata,tasksNo:e.metadata.taskGrid.features.length})}break;case 2:const a=e.mapObj.map.getSource("grid")._data;e.updateMetadata({...e.metadata,taskGrid:a,tempTaskGrid:a});break;case 3:break;default:return}let a=e.index+1;return!0===e.metadata.arbitraryTasks&&(a=4),e.setStep(a),{error:!1,message:""}})(e);e.setErr(t)},className:"white bg-blue-dark"},s.a.createElement(o.a,i.next))),B=t(180),J=t(116);function q(e){let{metadata:a,updateMetadata:t,token:n,projectId:c,cloneProjectData:m}=e;const[d,p]=Object(r.useState)(null),u=a.projectName;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:"f3 fw6 mt2 mb3 barlow-condensed blue-dark"},s.a.createElement(o.a,i.step4)),s.a.createElement("p",{className:"pt2"},s.a.createElement(o.a,Object.assign({},i.reviewTaskNumberMessage,{values:{n:a.tasksNo}}))),null===m.name?s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{for:"name",className:"f4 b db mb2 pt3"},s.a.createElement(o.a,i.name)),s.a.createElement("input",{onChange:e=>{e.preventDefault(),t({...a,projectName:e.target.value})},id:"name",className:"input-reset ba b--black-20 pa2 mb2 db w-50",type:"text"})):null,s.a.createElement("div",{className:"mt3"},s.a.createElement(f.a,{onClick:()=>((e,a,t,r,s,n)=>{if(!e.geom)return void n("Area of interest not provided");a({...e,projectName:t}),J.a.dispatch(Object(B.a)(e));let c={areaOfInterest:e.geom,projectName:e.projectName,tasks:e.taskGrid,arbitraryTasks:e.arbitraryTasks};null!==s.name&&(c.projectName="",c.cloneFromProjectId=s.id),Object(F.c)("projects/",JSON.stringify(c),r).then(e=>Object(l.e)("/manage/projects/".concat(e.projectId))).catch(e=>n(e))})(a,t,u,n,m,p),className:"white bg-blue-dark"},null===m.name?s.a.createElement(o.a,i.create):s.a.createElement(o.a,i.clone))),s.a.createElement("div",{className:"mt2"},d&&s.a.createElement("span",null,s.a.createElement(o.a,Object.assign({},i.creationFailed,{values:{error:d}})))))}var R=t(4);t(644);const U=t(324),V={"fill-color":"#00004d","fill-opacity":.3},Y={"fill-color":"#fff","fill-outline-color":"#00f","fill-opacity":.5},H=(e,a,t)=>{t.getLayer(e)&&t.removeLayer(e),t.getSource(e)&&t.removeSource(e);let r=V;"grid"===e&&(r=Y),t.addLayer({id:e,type:"fill",source:{type:"geojson",data:a},paint:r})},K=e=>{let{err:a}=e;return!0===a.error?s.a.createElement("p",{className:"w-80 pv2 tc f6 fw6 red ba b--red br1 lh-copy"},s.a.createElement("span",{className:"ph1"},s.a.createElement(R.a,{className:"red mr2",height:"15px",width:"15px"}),a.message)):null};a.default=e=>{const a=Object(n.d)(e=>e.auth.get("token")),[t,d]=Object(c.h)("cloneFrom",c.b),[p,u]=Object(r.useState)(1),[g,f]=Object(r.useState)(null),[b,k]=Object(r.useState)({error:!1,message:null}),j=Object(r.useCallback)(async e=>{const t=await Object(F.b)("projects/".concat(e,"/"),a);f(t.projectInfo.name)},[f,a]);Object(r.useLayoutEffect)(()=>{t&&!isNaN(Number(t))&&j(t)},[t,j]);let E={id:t,name:g};const[h,w]=Object(r.useState)({geom:null,area:0,tasksNo:0,taskGrid:null,projectName:"",zoomLevel:9,tempTaskGrid:null,arbitraryTasks:!1});Object(r.useLayoutEffect)(()=>{let e={error:!1,message:null};h.area>N.r&&(e={error:!0,message:s.a.createElement(o.a,Object.assign({},i.areaOverLimitError,{values:{n:N.r}}))}),k(e)},[h]);const[y,M]=Object(r.useState)({map:null,draw:new U({displayControlsDefault:!1})});if(!a)return s.a.createElement(l.b,{to:"/login",noThrow:!0});return s.a.createElement("div",{className:"cf vh-minus-122-ns h-100 pr0-l"},s.a.createElement("div",{className:"fl pt3 w-30-l cf w-100"},s.a.createElement("h2",{className:"f2 fw6 mt2 mb3 ttu barlow-condensed blue-dark"},s.a.createElement(o.a,i.createProject)),t&&s.a.createElement("p",{className:"fw6 pv2 blue-grey"},s.a.createElement(o.a,Object.assign({},i.cloneProject,{values:{id:t,name:g}}))),(()=>{switch(p){case 1:return s.a.createElement(x,{mapObj:y,metadata:h,updateMetadata:w,setErr:k});case 2:return s.a.createElement(O,{mapObj:y,metadata:h,updateMetadata:w});case 3:return s.a.createElement(A,{mapObj:y,metadata:h,updateMetadata:w});case 4:return s.a.createElement(q,{metadata:h,updateMetadata:w,token:a,cloneProjectData:E});default:return}})(),s.a.createElement(K,{err:b}),s.a.createElement(I,{index:p,setStep:u,metadata:h,mapObj:y,updateMetadata:w,maxArea:N.r,setErr:k})),s.a.createElement("div",{className:"w-70-l w-100 h-100-l h-50 pt3 pt0-l fr relative"},s.a.createElement(D,{metadata:h,updateMetadata:w,mapObj:y,setMapObj:M,step:p}),s.a.createElement("div",{className:"cf absolute",style:{bottom:"3.5rem",left:"0.6rem"}},s.a.createElement("p",{className:"fl mr2 pa1 f7-ns white ".concat(h.area>N.r||0===h.area?"bg-red":"bg-green")},s.a.createElement(o.a,Object.assign({},i.areaSize,{values:{area:s.a.createElement(m.a,{value:h.area,unit:"kilometer"}),sq:s.a.createElement("sup",null,"2")}}))),s.a.createElement("p",{className:"fl bg-blue-light white mr2 pa1 f7-ns"},s.a.createElement(o.a,Object.assign({},i.taskNumber,{values:{n:s.a.createElement(m.a,{value:h.tasksNo})}}))))))}}}]);
//# sourceMappingURL=6.147b61c6.chunk.js.map