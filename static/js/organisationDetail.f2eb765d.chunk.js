(this["webpackJsonpTaskingManager-frontend"]=this["webpackJsonpTaskingManager-frontend"]||[]).push([[808],{1914:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o}));var s=a(30),i=a(13),c=a(62),r=a(0);const n=e=>{let{type:t="info",compact:a=!1,inline:s=!1,iconClassName:c,children:n}=e;const o={info:i.I,success:i.g,warning:i.a,error:i.c}[t];return Object(r.jsxs)("div",{className:"".concat(s?"di":"db"," blue-dark bl bw2 br2 ").concat(a?"pa2":"pa3"," ").concat({info:"b--blue bg-lightest-blue",success:"b--dark-green bg-washed-green",warning:"b--gold bg-washed-yellow",error:"b--dark-red bg-washed-red"}[t]),children:[Object(r.jsx)(o,{className:"h1 w1 v-top mr2 ".concat({info:"blue",success:"dark-green",warning:"gold",error:"dark-red"}[t]," ").concat(c||"")}),n]})};function o(e){let{entity:t,action:a="creation"}=e;const i="updation"===a?"entityInfoUpdationFailure":"entityCreationFailure";return Object(r.jsx)(n,{type:"error",children:Object(r.jsx)(s.a,{...c.a[i],values:{entity:t}})})}},1915:function(e,t,a){"use strict";var s=a(20);t.a=Object(s.b)({noProjectTeams:{id:"project.detail.teams.empty",defaultMessage:"This project doesn't have any teams associated with."},coordination:{id:"project.detail.coordination",defaultMessage:"Coordination"},projectCoordination:{id:"project.detail.coordination.description",defaultMessage:"This project is coordinated by {organisation} and was created by {user}."},createdBy:{id:"project.detail.createdBy",defaultMessage:"Project created by {user}."},noProjectContributors:{id:"project.detail.contributorCount.zero",defaultMessage:"No contributors yet"},projectTotalContributors:{id:"project.detail.contributorCount",defaultMessage:"{number, plural, one {<b>#</b> contributor} other {<b>#</b> contributors}}"},projectLastContribution:{id:"project.detail.lastContribution",defaultMessage:"Last contribution"},percentMapped:{id:"project.detail.percentMapped",defaultMessage:"Mapped"},percentValidated:{id:"project.detail.percentValidated",defaultMessage:"Validated"},projectPriorityURGENT:{id:"project.detail.projectPriorityUrgent",defaultMessage:"Urgent"},projectPriorityHIGH:{id:"project.detail.projectPriorityHigh",defaultMessage:"High"},projectPriorityMEDIUM:{id:"project.detail.projectPriorityMedium",defaultMessage:"Medium"},projectPriorityLOW:{id:"project.detail.projectPriorityLow",defaultMessage:"Low"},dueDateRelativeRemainingDays:{id:"project.detail.dueDateLeft",defaultMessage:"{daysLeftHumanize} left"},typesOfMapping:{id:"project.detail.typesOfMapping",defaultMessage:"Types of Mapping"},private:{id:"project.detail.private",defaultMessage:"Private"},editProject:{id:"project.detail.editProject",defaultMessage:"Edit project"},editor:{id:"project.detail.editor",defaultMessage:"Editor"},selectEditor:{id:"project.detail.editor.select",defaultMessage:"Select editor"},tasks:{id:"project.detail.tasks",defaultMessage:"Tasks"},instructions:{id:"project.detail.instructions",defaultMessage:"Instructions"},imagery:{id:"project.detail.imagery",defaultMessage:"Imagery"},customTMSLayer:{id:"project.detail.imagery.tms",defaultMessage:"Custom TMS Layer"},customWMSLayer:{id:"project.detail.imagery.wms",defaultMessage:"Custom WMS Layer"},customWMTSLayer:{id:"project.detail.imagery.wmts",defaultMessage:"Custom WMTS Layer"},contribute:{id:"project.selectTask.footer.button.contribute",defaultMessage:"Contribute"},readMore:{id:"project.readMoreButton",defaultMessage:"Read more"},readLess:{id:"project.readLessButton",defaultMessage:"Read less"},addToFavorites:{id:"project.detail.addToFavorites",defaultMessage:"Add to Favorites"},removeFromFavorites:{id:"project.detail.removeFromFavorites",defaultMessage:"Remove from Favorites"},noComments:{id:"project.detail.questionsAndComments.none",defaultMessage:"There are currently no questions or comments on this project. Be the first to post one!"},loginTocomment:{id:"project.detail.questionsAndComments.login",defaultMessage:"Log in to be able to post comments."},errorLoadingComments:{id:"project.detail.questionsAndComments.fetching.error",defaultMessage:"An error occured while loading questions and comments."},post:{id:"project.detail.questionsAndComments.button",defaultMessage:"Post"},share:{id:"project.detail.share",defaultMessage:"Share"},team:{id:"project.detail.team",defaultMessage:"Team"},validationTeam:{id:"project.detail.validation_team",defaultMessage:"Validation team"},teamsAndPermissions:{id:"project.detail.teams_permissions",defaultMessage:"Teams & Permissions"},author:{id:"project.detail.author",defaultMessage:"Author"},whoCanMap:{id:"project.detail.mapping_permissions",defaultMessage:"Who can map?"},whoCanValidate:{id:"project.detail.validation_permissions",defaultMessage:"Who can validate?"},zoomToTasks:{id:"project.detail.zoomToTasks",defaultMessage:"Zoom to tasks"},selectATaskCardTitle:{id:"project.detail.cards.selectATask.title",defaultMessage:"1. Select a task"},mapThroughOSMCardTitle:{id:"project.detail.cards.mapthroughosm.title",defaultMessage:"2. Map with OpenStreetMap"},submitYourWorkCardTitle:{id:"project.detail.cards.submityourwork.title",defaultMessage:"3. Submit your work"},selectATaskCardDescription:{id:"project.detail.cards.selectATask.description",defaultMessage:"Projects are divided into sets of smaller tasks and adapted to fit your skill level."},mapThroughOSMCardDescription:{id:"project.detail.cards.mapthroughosm.description",defaultMessage:"If you are new to mapping, we recommend checking the Learn page for instructions before you begin."},submitYourWorkCardDescription:{id:"project.detail.cards.submityourwork.description",defaultMessage:"Submitting your work is crucial to make sure your data is saved."},overview:{id:"project.detail.sections.overview",defaultMessage:"Overview"},dueDateTooltip:{id:"project.detail.sections.overview.dueDate",defaultMessage:"Ideal date to complete the project"},description:{id:"project.detail.sections.description",defaultMessage:"Description"},questionsAndComments:{id:"project.detail.sections.questionsAndComments",defaultMessage:"Questions and comments"},contributions:{id:"project.detail.sections.contributions",defaultMessage:"Contributions"},contributionsTimeline:{id:"project.detail.sections.contributionsTimeline",defaultMessage:"Contributions timeline"},downloadOsmData:{id:"project.detail.sections.downloadOsmData",defaultMessage:"Download OSM Data"},errorDownloadOsmData:{id:"project.detail.sections.errorDownloadOsmData",defaultMessage:"Data Extraction Unavailable"},errorDownloadOsmDataDescription:{id:"project.detail.sections.errorDownloadOsmDataDescription",defaultMessage:"The data extract you are attempting to download is currently inactive or unavailable. Please ensure that the extract is active and try again later."},viewInOsmcha:{id:"project.detail.sections.contributions.osmcha",defaultMessage:"Changesets in OSMCha"},changesets:{id:"project.detail.sections.contributions.changesets",defaultMessage:"Changesets"},contributors:{id:"project.detail.sections.contributors",defaultMessage:"Contributors"},similarProjects:{id:"project.detail.sections.similarProjects",defaultMessage:"Similar projects"},contributorsError:{id:"project.detail.sections.contributors.error",defaultMessage:"An error occured while loading contributors"},timelineNotAvailable:{id:"project.detail.sections.contributions.timelineError",defaultMessage:"A timeline is going to be available after the first task has been mapped."},status_DRAFT:{id:"project.status.draft",defaultMessage:"Draft"},status_ARCHIVED:{id:"project.status.archived",defaultMessage:"Archived"},status_PUBLISHED:{id:"project.status.published",defaultMessage:"Published"},permissions_ANY:{id:"project.permissions.any",defaultMessage:"All users"},permissions_LEVEL:{id:"project.permissions.level",defaultMessage:"Users with intermediate or advanced level"},permissions_TEAMS:{id:"project.permissions.teams",defaultMessage:"{team} members"},permissions_TEAMS_LEVEL:{id:"project.permissions.teamsAndLevel",defaultMessage:"Intermediate and advanced {team} members"},downloadProjectAOI:{id:"projects.data.download.aoi",defaultMessage:"Download AOI"},downloadTaskGrid:{id:"projects.data.download.taskGrid",defaultMessage:"Download Tasks Grid"},moreStats:{id:"projects.link.stats",defaultMessage:"More statistics"},mappedTasks:{id:"projects.stats.mapped",defaultMessage:"Mapped tasks"},validatedTasks:{id:"projects.stats.validated",defaultMessage:"Validated tasks"},shareMessage:{id:"project.share.twitter",defaultMessage:"Contribute mapping the project #{id} on {site}"},postOnFacebook:{id:"project.share.facebook",defaultMessage:"Post on Facebook"},shareOnLinkedIn:{id:"project.share.linkedin",defaultMessage:"Share on LinkedIn"},inaccessibleProjectTitle:{id:"project.inaccessible.title",defaultMessage:"You don't have permission to access this project"},inaccessibleProjectDescription:{id:"project.inaccessible.description",defaultMessage:"Please contact the project manager to request access."},exploreOtherProjects:{id:"project.inaccessible.exploreOtherProjects",defaultMessage:"Explore other projects"},noSimilarProjectsFound:{id:"project.noSimilarProjectsFound",defaultMessage:"Could not find any similar projects for this project"}})},1916:function(e,t,a){"use strict";var s=a(20);t.a=Object(s.b)({projectTotalContributors:{id:"project.card.contributorCount",defaultMessage:"{number} total contributors"},projectLastContribution:{id:"project.card.lastContribution",defaultMessage:"Last contribution"},percentMapped:{id:"project.card.percentMapped",defaultMessage:"{n}% mapped"},percentValidated:{id:"project.card.percentValidated",defaultMessage:"{n}% validated"},percentBadImagery:{id:"project.card.percentBadImagery",defaultMessage:"{n}% bad imagery"},projectPriorityURGENT:{id:"project.card.projectPriorityUrgent",defaultMessage:"Urgent"},projectPriorityHIGH:{id:"project.card.projectPriorityHigh",defaultMessage:"High"},projectPriorityMEDIUM:{id:"project.card.projectPriorityMedium",defaultMessage:"Medium"},projectPriorityLOW:{id:"project.card.projectPriorityLow",defaultMessage:"Low"},priorityDescriptionURGENT:{id:"project.card.projectPriorityUrgent.description",defaultMessage:"Urgent priority"},priorityDescriptionHIGH:{id:"project.card.projectPriorityHigh.description",defaultMessage:"High priority"},priorityDescriptionMEDIUM:{id:"project.card.projectPriorityMedium.description",defaultMessage:"Medium priority"},priorityDescriptionLOW:{id:"project.card.projectPriorityLow.description",defaultMessage:"Low priority"},dueDateRelativeRemainingDays:{id:"project.card.dueDateLeft",defaultMessage:"{daysLeftHumanize} left"},editProject:{id:"project.card.edit_project.button",defaultMessage:"Edit"},projectPage:{id:"project.card.project_page.button",defaultMessage:"Project Page"},projectTasks:{id:"project.card.project_tasks.button",defaultMessage:"Tasks"},noDueDate:{id:"project.detail.noDueDate",defaultMessage:"No due date specified"},dueDateExpired:{id:"project.detail.dueDateExpired",defaultMessage:"Due date expired"}})},1919:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}));var s=a(1),i=a(10);function c(e){const t=Object(i.d)((e=>e.auth.userDetails)),a=Object(i.d)((e=>e.auth.organisations)),c=Object(i.d)((e=>e.auth.pmTeams)),[r,n]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{"ADMIN"===t.role&&n(!0),e&&e.author&&t.username===e.author&&n(!0),a&&a.includes(e.organisation)&&n(!0);const s=e.teams?e.teams.filter((e=>"PROJECT_MANAGER"===e.role)).map((e=>e.teamId)):[];c&&c.some((e=>s.includes(e)))&&n(!0)}),[c,t.role,t.username,a,e]),[r]}function r(e){const t=Object(i.d)((e=>e.auth.userDetails)),a=Object(i.d)((e=>e.auth.organisations)),c=Object(i.d)((e=>e.auth.pmTeams)),[r,n]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{if("ADMIN"===t.role&&n(!0),a&&a.includes(e.organisation_id)&&n(!0),c&&c.includes(e.teamId)&&n(!0),e.members){const a=e.members.filter((e=>e.active&&"MANAGER"===e.function)).map((e=>e.username));t.username&&a.includes(t.username)&&n(!0)}}),[c,t.role,t.username,a,e]),[r]}function n(e){const t=Object(i.d)((e=>e.auth.userDetails)),a=Object(i.d)((e=>e.auth.organisations)),[c,r]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{"ADMIN"===t.role&&r(!0),e&&e.organisationId&&a&&a.includes(e.organisationId)&&r(!0),e&&e.managers&&e.managers.map((e=>e.username)).includes(t.username)&&r(!0)}),[e,a,t.username,t.role]),[c]}},1924:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}));a(1);var s=a(30),i=a(55),c=a(0);const r=e=>{const{level:t,...a}=e,r=["ALL","BEGINNER","INTERMEDIATE","ADVANCED"].includes(t)?Object(c.jsx)(s.a,{...i.a["mappingLevel".concat(t)]}):t;return Object(c.jsx)("span",{...a,children:r})},n=e=>{const{level:t,...a}=e,r=["ALL","EASY","MODERATE","CHALLENGING"].includes(t)?Object(c.jsx)(s.a,{...i.a["difficulty".concat(t)]}):t;return Object(c.jsx)("span",{...a,children:r})}},1925:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(1);var s=a(30),i=a(1916),c=a(13),r=a(0);function n(e){let{priority:t,extraClasses:a,showIcon:n}=e,o="blue-grey b--blue-grey";return"URGENT"===t&&(o="red b--red"),"HIGH"===t&&(o="orange b--orange"),Object(r.jsx)(s.a,{...i.a["priorityDescription".concat(t)],children:e=>Object(r.jsxs)("div",{className:"tc br1 f8 ttu ba ".concat(o," ").concat(a),title:e,children:[n&&Object(r.jsx)(c.m,{className:"".concat(o," v-mid mr1"),style:{height:"13px"}}),t?Object(r.jsx)("span",{className:"v-mid fw5",children:Object(r.jsx)(s.a,{...i.a["projectPriority".concat(t)]})}):""]})})}},1926:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a(1);var s=a(30),i=a(1915),c=a(0);const r=e=>{let{status:t,className:a}=e;const r="DRAFT"===t?"orange":"blue-grey";return Object(c.jsx)("div",{className:"tc br1 f7 ttu ba b--".concat(r," ").concat(r," ").concat(a),children:Object(c.jsx)(s.a,{...i.a["status_".concat(t)]})})}},1929:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s=a(1);var i=a(0);const c=e=>{let{className:t,small:a,height:c,firstBarValue:r,secondBarValue:n=0,children:o}=e;const[l,d,j]=function(){const[e,t]=Object(s.useState)(!1),[a,i]=Object(s.useState)({x:0,y:0}),c=Object(s.useCallback)((e=>{i({x:e.clientX-n.current.offsetLeft-35,y:e.clientY}),t(!0)}),[]),r=Object(s.useCallback)((()=>t(!1)),[]),n=Object(s.useRef)();return[Object(s.useCallback)((e=>{n.current&&(n.current.removeEventListener("mouseover",c),n.current.removeEventListener("mouseout",r)),n.current=e,n.current&&(n.current.addEventListener("mouseover",c),n.current.addEventListener("mouseout",r))}),[c,r]),e,a]}(),b="h".concat(c);return Object(i.jsx)("div",{className:"cf db ".concat(t||""),children:Object(i.jsxs)("div",{className:"relative",ref:l,children:[Object(i.jsx)("div",{className:"absolute bg-blue-grey br-pill ".concat(a?b:"h-pill"," hide-child"),style:{width:"".concat(r>100?100:r,"%")},role:"progressbar","aria-valuenow":r,"aria-valuemin":"0","aria-valuemax":"100"}),Object(i.jsx)("div",{className:"absolute bg-red br-pill ".concat(a?b:"h-pill"," hide-child"),style:{width:"".concat(n>100?100:n,"%")},role:"progressbar","aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100"}),Object(i.jsx)("div",{className:"bg-tan br-pill ".concat(a?b:"h-pill"," overflow-y-hidden")}),d&&Object(i.jsxs)("span",{className:"db absolute z-1 dib bg-blue-dark ba br2 b--blue-dark pa2 shadow-5 bottom-".concat("half"===c?"2":c),style:{left:j.x},children:[o,Object(i.jsx)("span",{className:"absolute left-2 nt2 w1 h1 bg-blue-dark bl bt b--blue-dark rotate-45",style:{bottom:"-0.5rem",left:"calc(50% - 10px)"}})]})]})})}},1931:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(1);var s=a(30),i=a(1916),c=a(1929),r=a(0);function n(e){let{percentMapped:t,percentValidated:a,percentBadImagery:n,className:o,small:l=!0}=e;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(c.a,{className:o,firstBarValue:t,secondBarValue:a,height:"half",small:l,children:[Object(r.jsx)("p",{className:"f6 lh-copy ma0 white f7 fw4",children:Object(r.jsx)(s.a,{...i.a.percentMapped,values:{n:Object(r.jsx)("span",{className:"fw8",children:t})}})}),Object(r.jsx)("p",{className:"f6 lh-copy ma0 white f7 fw4",children:Object(r.jsx)(s.a,{...i.a.percentValidated,values:{n:Object(r.jsx)("span",{className:"fw8",children:a})}})}),![null,void 0].includes(n)&&Object(r.jsx)("p",{className:"f6 lh-copy ma0 white f7 fw4",children:Object(r.jsx)(s.a,{...i.a.percentBadImagery,values:{n:Object(r.jsx)("span",{className:"fw8",children:n})}})})]})})}},1933:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var s=a(1),i=a.n(s),c=a(50),r=a(30),n=a(1955),o=a.n(n),l=a(81),d=a(13),j=a(1916),b=a(0);class u extends i.a.PureComponent{render(){return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",fill:"none",viewBox:"0 0 10 12",role:"img",...this.props,children:[Object(b.jsx)("title",{children:"Timer"}),Object(b.jsx)("path",{fill:"#68707F",fillRule:"evenodd",d:"M5.77 1.013v.932C8.164 2.32 10 4.419 10 6.942 10 9.732 7.757 12 5 12S0 9.731 0 6.942c0-2.524 1.837-4.621 4.23-4.997v-.932h-.421a.504.504 0 01-.501-.507c0-.28.224-.506.5-.506h2.383c.277 0 .501.227.501.506 0 .28-.224.507-.5.507H5.77zm3.306 5.909a.344.344 0 00.09-.264c-.182-1.99-1.783-3.58-3.787-3.76A.344.344 0 005 3.24V6.69c0 .19.155.344.347.344H8.82c.098 0 .191-.04.257-.112z",clipRule:"evenodd"})]})}}function m(e){let{dueDate:t,intervalMili:a,tooltipMsg:i,isTaskStatusPage:n=!1,isProjectDetailPage:m=!1}=e;const p=Object(c.a)(),[h,g]=Object(s.useState)(Date.now());if(Object(s.useEffect)((()=>{let e;return a&&(e=setInterval((()=>{g(Date.now())}),a)),()=>{clearInterval(e)}}),[a]),void 0===t||void 0===new Date(t))return null;let f={language:p.locale.slice(0,2),fallbacks:["en"],largest:1};void 0!==a&&(f={units:["h","m"],round:!0});const O=new Date(t)-h;return O>0?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("span",{className:"inline-flex items-center lh-solid f8 br1 ph2 link ".concat(O<12e5&&void 0!==a?"bg-red white":"bg-tan blue-grey"," ").concat(a?"":"mw4"),"data-tip":i,style:{paddingTop:"0.375rem",paddingBottom:"0.375rem"},children:[n?Object(b.jsx)(u,{height:"12px",width:"12px"}):Object(b.jsx)(d.m,{height:"12px",width:"12px"}),Object(b.jsx)("span",{className:"pl1",children:Object(b.jsx)(r.a,{className:"indent",...j.a.dueDateRelativeRemainingDays,values:{daysLeftHumanize:o()(O,f)}})})]}),i&&Object(b.jsx)(l.a,{place:"bottom"})]}):m&&Object(b.jsxs)("span",{className:"inline-flex items-center lh-solid f8 br1 ph2 link bg-tan blue-grey",style:{paddingTop:"0.375rem",paddingBottom:"0.375rem"},children:[Object(b.jsx)(d.m,{height:"12px",width:"12px"}),Object(b.jsx)("span",{className:"pl1",children:t?Object(b.jsx)(r.a,{...j.a.dueDateExpired}):Object(b.jsx)(r.a,{...j.a.noDueDate})})]})}},1936:function(e,t,a){"use strict";a.d(t,"g",(function(){return y})),a.d(t,"e",(function(){return N})),a.d(t,"c",(function(){return C})),a.d(t,"b",(function(){return D})),a.d(t,"d",(function(){return T})),a.d(t,"f",(function(){return k})),a.d(t,"a",(function(){return I}));var s=a(1),i=a(10),c=a(23),r=a(30),n=a(50),o=a(92),l=a.n(o),d=a(57),j=a(81),b=a(70),u=a(13),m=a(1919),p=a(106),h=a(119),g=a(80),f=a(32),O=a(118),x=a(0);const v=e=>[...Array(e).keys()].map(((e,t)=>Object(x.jsxs)("article",{className:"base-font blue-dark h-100 bg-white ph3 pb3 ba br1 b--card shadow-hover h-100 flex flex-column justify-between",children:[Object(x.jsxs)("div",{className:"mt3",children:[Object(x.jsx)(O.TextRow,{className:"show-loading-animation mb3",color:"#CCC",style:{width:200,height:24}}),Object(x.jsx)(O.RectShape,{className:"show-loading-animation mb4",style:{width:80,height:50},color:"#DDD"}),[...Array(2)].map(((e,t)=>Object(x.jsxs)(s.Fragment,{children:[Object(x.jsx)(O.TextRow,{className:"show-loading-animation",color:"#CCC",style:{width:"45%"}}),[...Array(2)].map(((e,t)=>Object(x.jsx)(O.RoundShape,{className:"show-loading-animation dib mt1",style:{width:25,height:25},color:"#DDD"},t)))]},t)))]}),Object(x.jsx)(O.TextBlock,{rows:2,className:"show-loading-animation mt2",color:"#CCC",style:{width:80,height:50}})]},t)));var w=a(1914);function y(e){let{teams:t,userDetails:a,managementView:s,userTeamsOnly:c,setUserTeamsOnly:n,teamsStatus:o,query:d,setQuery:j}=e;const u=Object(i.d)((e=>e.auth.organisations&&e.auth.organisations.length>0));return Object(x.jsxs)(h.d,{title:s?Object(x.jsx)(r.a,{...b.a.manage,values:{entity:Object(x.jsx)(r.a,{...b.a.teams})}}):Object(x.jsx)(r.a,{...b.a.myTeams}),isAdmin:"ADMIN"===a.role&&s,showAddButton:("ADMIN"===a.role||u)&&s,managementView:s,userOnly:c,setUserOnly:n,userOnlyLabel:Object(x.jsx)(r.a,{...b.a.myTeams}),children:[Object(x.jsx)("div",{className:"w-20-l w-25-m",children:Object(x.jsx)(g.i,{value:d.searchQuery||"",placeholderMsg:b.a.searchTeams,onChange:e=>j({...d,searchQuery:e.target.value||void 0,page:1},"pushIn"),onCloseIconClick:()=>j({...d,searchQuery:void 0,page:1},"pushIn")})}),Object(x.jsxs)("div",{className:"".concat("error"!==o?"cards-container":""," mt2"),children:["loading"===o&&Object(x.jsx)(l.a,{showLoadingAnimation:!0,customPlaceholder:v(4),delay:10,ready:!1}),"error"===o&&Object(x.jsx)(w.a,{type:"error",children:Object(x.jsx)(r.a,{...b.a.errorLoadingTeams})}),"success"===o&&Object(x.jsx)(x.Fragment,{children:null!==t&&void 0!==t&&t.length?t.map((e=>Object(x.jsx)(M,{team:e},e.teamId))):Object(x.jsx)("div",{className:"pb3 pt2",children:Object(x.jsx)(r.a,{...b.a.noTeams})})})]})]})}function N(e){let{teams:t,viewAllQuery:a,showAddButton:s=!1,isReady:i,border:n=!0}=e;return Object(x.jsx)("div",{className:"bg-white ".concat(n?"b--grey-light ba pa4":""),children:Object(x.jsxs)("div",{className:"cf db",children:[Object(x.jsx)("h3",{className:"f3 barlow-condensed ttu blue-dark mv0 fw6 dib v-mid",children:Object(x.jsx)(r.a,{...b.a.teams})}),s&&Object(x.jsx)(c.a,{to:"/manage/teams/new/",className:"dib ml4",children:Object(x.jsx)(h.a,{})}),a&&Object(x.jsx)(h.e,{link:"/manage/teams/".concat(a||"")}),Object(x.jsx)("div",{className:"cards-container pt4",children:Object(x.jsxs)(l.a,{customPlaceholder:v(4),delay:10,ready:i,children:[null===t||void 0===t?void 0:t.slice(0,6).map((e=>Object(x.jsx)(M,{team:e},e.teamId))),0===(null===t||void 0===t?void 0:t.length)&&Object(x.jsx)("span",{className:"blue-grey",children:Object(x.jsx)(r.a,{...b.a.noTeamsFound})})]})})]})})}function M(e){let{team:t}=e;return Object(x.jsx)(c.a,{to:"/teams/".concat(t.teamId,"/membership/"),className:"no-underline",children:Object(x.jsxs)("article",{className:"base-font blue-dark h-100 bg-white ph3 pb3 ba br1 shadow-hover h-100 flex flex-column justify-between b--card",children:[Object(x.jsxs)("div",{className:"",children:[Object(x.jsx)("h3",{className:"f4 fw6 h3 lh-title mt3 mb2 overflow-y-hidden",title:t.name,children:t.name}),Object(x.jsx)("div",{className:"db h2",title:t.organisation,children:Object(x.jsx)("img",{src:t.logo,alt:t.organisation,className:"h2"})}),Object(x.jsx)("h4",{className:"f6 fw5 mb2 mt3 ttu blue-light",children:Object(x.jsx)(r.a,{...b.a.managers})}),Object(x.jsx)("div",{className:"db h2",children:Object(x.jsx)(p.c,{size:"small",textColor:"white",users:t.members.filter((e=>"MANAGER"===e.function&&e.active)),maxLength:8,totalCount:t.managersCount})}),Object(x.jsx)("h4",{className:"f6 fw5 mv2 ttu blue-light",children:Object(x.jsx)(r.a,{...b.a.teamMembers})}),Object(x.jsx)("div",{className:"db h2",children:Object(x.jsx)(p.c,{size:"small",textColor:"white",users:t.members.filter((e=>"MANAGER"!==e.function&&e.active)),maxLength:8,totalCount:t.membersCount})})]}),Object(x.jsxs)("div",{className:"pt3",children:[Object(x.jsx)(h.f,{visibility:t.visibility,extraClasses:"pv1 ph2 dib"}),Object(x.jsx)("div",{className:"pt2 h2",children:Object(x.jsx)(h.c,{className:"pv1 ph2 dib",joinMethod:t.joinMethod})})]})]})})}function C(e){const t=Object(n.a)(),a="db pt3 pb2",s="blue-grey w-100 pv3 ph2 input-reset ba b--grey-light bg-transparent",i=Object(d.c)(),c={ANY:"anyoneCanJoin",BY_REQUEST:"byRequest",BY_INVITE:"byInvite"};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"cf",children:[Object(x.jsx)("label",{className:a,children:Object(x.jsx)(r.a,{...b.a.name})}),Object(x.jsx)(d.a,{name:"name",component:"input",type:"text",className:s,required:!0})]}),Object(x.jsxs)("div",{className:"cf",children:[Object(x.jsx)("label",{className:a,children:Object(x.jsx)(r.a,{...b.a.description})}),Object(x.jsx)(d.a,{name:"description",component:"textarea",type:"text",className:s})]}),Object(x.jsxs)("div",{className:"cf",children:[Object(x.jsx)("label",{className:a,children:Object(x.jsx)(r.a,{...b.a.organisation})}),Object(x.jsx)(g.e,{name:"organisation_id"})]}),Object(x.jsxs)("div",{className:"cf pt1",children:[Object(x.jsx)("label",{className:a,children:Object(x.jsx)(r.a,{...b.a.joinMethod})}),Object.keys(c).map((e=>Object(x.jsxs)("div",{className:"pv2",children:[Object(x.jsx)(g.f,{name:"joinMethod",value:e,required:!0}),Object(x.jsx)("span",{className:"f5",children:Object(x.jsx)(r.a,{...b.a[c[e]]})}),Object(x.jsx)(u.I,{width:12,height:12,className:"blue-grey v-mid pb1 ml2","data-tip":t.formatMessage(b.a["".concat(c[e],"Description")])}),Object(x.jsx)(j.a,{place:"bottom",className:"mw6",effect:"solid"})]},e)))]}),"BY_INVITE"===i.values.joinMethod&&Object(x.jsxs)("div",{className:"cf pt1",children:[Object(x.jsx)("label",{className:a,children:Object(x.jsx)(r.a,{...b.a.visibility})}),Object(x.jsxs)("div",{className:"pv2",children:[Object(x.jsx)(g.f,{name:"visibility",value:"PUBLIC"}),Object(x.jsx)("span",{className:" f5",children:Object(x.jsx)(r.a,{...b.a.public})}),Object(x.jsx)(u.I,{width:12,height:12,className:"blue-grey v-mid pb1 ml2","data-tip":t.formatMessage(b.a.publicDescription)})]}),Object(x.jsxs)("div",{className:"pv2",children:[Object(x.jsx)(g.f,{name:"visibility",value:"PRIVATE"}),Object(x.jsx)("span",{className:"f5",children:Object(x.jsx)(r.a,{...b.a.private})}),Object(x.jsx)(u.I,{width:12,height:12,className:"blue-grey v-mid pb1 ml2","data-tip":t.formatMessage(b.a.privateDescription)}),Object(x.jsx)(j.a,{place:"bottom",className:"mw6",effect:"solid"})]})]})]})}function D(e){return Object(x.jsx)(d.b,{onSubmit:t=>e.updateTeam(t),initialValues:e.team,mutators:{setValue:[]},render:t=>{let{handleSubmit:a,dirty:s,submitSucceeded:i,dirtySinceLastSubmit:c,form:n,submitting:o,values:l}=t;const d=i?c&&s:s;return Object(x.jsxs)("div",{className:"blue-grey mb3",children:[Object(x.jsxs)("div",{className:"bg-white b--grey-light pa4 ".concat(d?"bt bl br":"ba"),children:[Object(x.jsx)("h3",{className:"f3 fw6 dib blue-dark mv0",children:Object(x.jsx)(r.a,{...b.a.teamInfo})}),Object(x.jsx)("form",{id:"team-form",onSubmit:a,children:Object(x.jsx)("fieldset",{className:"bn pa0",disabled:o,children:Object(x.jsx)(C,{joinMethod:e.team.joinMethod})})})]}),d&&Object(x.jsxs)("div",{className:"cf pt0 h3",children:[Object(x.jsx)("div",{className:"w-70-l w-50 fl tr dib bg-grey-light",children:Object(x.jsx)(f.b,{className:"blue-dark bg-grey-light h3",onClick:()=>n.restart(),children:Object(x.jsx)(r.a,{...b.a.cancel})})}),Object(x.jsx)("div",{className:"w-30-l w-50 h-100 fr dib",children:Object(x.jsx)(f.b,{onClick:()=>a(),className:"w-100 h-100 bg-red white",disabledClassName:"bg-red o-50 white w-100 h-100",children:Object(x.jsx)(r.a,{...b.a.save})})})]})]})}})}function T(e){let{team:t,members:a,managers:i,requestedToJoin:n}=e;const[o]=Object(m.c)(t),[d,j]=Object(s.useState)("");return Object(x.jsxs)(l.a,{showLoadingAnimation:!0,type:"media",rows:20,ready:"number"===typeof t.teamId,children:[Object(x.jsxs)("div",{className:"cf pb2",children:[Object(x.jsx)("div",{className:"w-20 pv2 dib fl",children:Object(x.jsxs)("span",{className:"blue-grey v-mid",children:[Object(x.jsx)(r.a,{...b.a.team})," #",t.teamId]})}),Object(x.jsxs)("div",{className:"w-80 dib fr tr",children:[o&&Object(x.jsx)(f.d,{url:"/manage/teams/".concat(t.teamId),children:Object(x.jsx)(r.a,{...b.a.editTeam})}),Object(x.jsx)(h.c,{className:"pv2 ph3 mh1 mv1 dib",joinMethod:t.joinMethod}),Object(x.jsx)(h.f,{visibility:t.visibility,extraClasses:"pv2 ph3 mh1 mv1 dib"})]})]}),Object(x.jsx)("h3",{className:"f2 ttu blue-dark fw7 barlow-condensed v-mid ma0 dib ttu",children:t.name}),Object(x.jsx)("p",{className:"blue-grey",children:t.description}),Object(x.jsxs)("div",{className:"cf",children:[Object(x.jsxs)("div",{className:"w-100 w-50-m fl",children:[Object(x.jsx)("h4",{children:Object(x.jsx)(r.a,{...b.a.organisation})}),Object(x.jsxs)(c.a,{className:"link blue-dark fw5 mr2 underline dib",to:"/organisations/".concat(t.organisationSlug),children:[Object(x.jsx)("p",{children:"string"===typeof t.logo&&Object(x.jsx)("img",{src:t.logo,alt:"organisation logo",className:"mw4"})}),t.organisation]})]}),Object(x.jsxs)("div",{className:"w-100 w-50-m fl",children:[Object(x.jsx)("h4",{children:Object(x.jsx)(r.a,{...b.a.managers})}),0===i.length?Object(x.jsx)("span",{className:"f6 blue-grey",children:Object(x.jsx)(r.a,{...b.a.noManagers})}):Object(x.jsx)("div",{className:"cf db mt3",children:i.map((e=>Object(x.jsx)(p.b,{username:e.username,picture:e.pictureUrl,size:"large",colorClasses:"white bg-blue-grey mv1"},e.username)))}),Object(x.jsx)("h4",{children:Object(x.jsx)(r.a,{...b.a.members})}),0===a.length?Object(x.jsx)("span",{className:"f6 blue-grey",children:Object(x.jsx)(r.a,{...b.a.noMembers})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"cf db mt3",children:[Object(x.jsx)("div",{className:"mb3 w5",children:Object(x.jsx)(g.i,{value:d,placeholderMsg:b.a.searchMembers,onChange:e=>{let{target:{value:t}}=e;return j(t)},onCloseIconClick:()=>j("")})}),(""!==d?a.filter((e=>e.username.toLowerCase().includes(d.toLowerCase()))):a).map((e=>Object(x.jsx)(p.b,{username:e.username,picture:e.pictureUrl,colorClasses:"white bg-blue-grey mv1"},e.username)))]})}),Object(x.jsx)("div",{className:"cf db mt3",children:n&&Object(x.jsx)("span",{className:"red pr5-ns",children:Object(x.jsx)(r.a,{...b.a.waitingApproval})})})]})]})]})}function k(e){let{teams:t}=e;const a=t.filter((e=>"MAPPER"===e.role)),s=t.filter((e=>"VALIDATOR"===e.role));return Object(x.jsxs)("div",{className:"flex flex-column flex-row-l gap-1",children:[a.length>0&&Object(x.jsxs)("div",{className:"w-100 w-30-l",children:[Object(x.jsx)("h4",{className:"mb1 fw6 mt0",children:Object(x.jsx)(r.a,{...b.a.mappingTeams})}),Object(x.jsx)("div",{children:a.map((e=>Object(x.jsx)(I,{team:e,className:"dib pv2 ph3 mt2 ba f6 tc"},e.teamId)))})]}),s.length>0&&Object(x.jsxs)("div",{className:"w-100 w-30-l",children:[Object(x.jsx)("h4",{className:"mb1 fw6 mt0",children:Object(x.jsx)(r.a,{...b.a.validationTeams})}),s.map((e=>Object(x.jsx)(I,{team:e,className:"dib pv2 ph3 mt2 ba f6 tc"},e.teamId)))]})]})}const I=e=>{let{team:t,className:a}=e;return Object(x.jsx)(c.a,{className:"link blue-grey mr2",to:"/teams/".concat(t.teamId,"/membership/"),children:Object(x.jsxs)("div",{className:"br1 ".concat(a),children:[t.logo&&Object(x.jsx)("img",{alt:t.organisation,src:t.logo,className:"object-fit-contain h2 pr2 v-mid"}),t.name]})})}},1939:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var s=a(1),i=a(30),c=a(23),r=a(1916),n=a(139),o=a(1931),l=a(1924),d=a(1926),j=a(9),b=a(1925),u=a(1933),m=(a(1945),a(0));function p(e){let{lastUpdated:t,totalContributors:a,className:s,littleFont:c="f7",bigFont:o="f6"}=e;const l="f6 tl blue-grey truncate mb2";return a<j.O?Object(m.jsx)("div",{title:t,className:"".concat(l," ").concat(s||""),children:Object(m.jsxs)("span",{className:c,children:[Object(m.jsx)(i.a,{...r.a.projectLastContribution})," ",Object(m.jsx)(n.a,{date:t})]})}):Object(m.jsx)("div",{title:t,className:"".concat(l," ").concat(s||""),children:Object(m.jsx)("span",{className:"".concat(c),children:Object(m.jsx)(i.a,{...r.a.projectTotalContributors,values:{number:Object(m.jsx)("span",{className:"blue-grey b ".concat(o),children:a||0})}})})})}function h(e){let{projectId:t,name:a,shortDescription:n,organisationName:j,organisationLogo:h,lastUpdated:g,dueDate:f,priority:O,status:x,difficulty:v,campaignTag:w,percentMapped:y,percentValidated:N,totalContributors:M,showBottomButtons:C=!1}=e;const[D,T]=Object(s.useState)(!1),k="link pa2 f6 ba b--grey-light di w-50 truncate tc",I=!0===C&&D,A=C?"pt3 pb4":"pv3",L=C?"project-card-with-btn":"project-card",P=Object(m.jsxs)("div",{className:"absolute bottom-0 w-100",children:[Object(m.jsx)(c.a,{to:"/manage/projects/".concat(t),className:"fl bg-grey-light blue-grey bn ".concat(k),children:Object(m.jsx)(i.a,{...r.a.editProject})}),Object(m.jsx)(c.a,{to:"/projects/".concat(t,"/tasks"),className:"fr bg-red white bn ".concat(k),children:Object(m.jsx)(i.a,{...r.a.projectTasks})})]});return Object(m.jsxs)("article",{onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),className:"relative blue-dark",children:[Object(m.jsx)(c.a,{className:"no-underline color-inherit",to:"/projects/".concat(t),children:Object(m.jsxs)("div",{className:"".concat(A," ba br1 bg-white shadow-hover h-100 flex flex-column justify-between b--card ").concat(L),children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"flex justify-between items-center",children:[Object(m.jsx)("div",{className:"red",children:Object(m.jsx)("img",{className:"h2",src:h,alt:h?j:""})}),Object(m.jsx)("div",{className:"",children:["DRAFT","ARCHIVED"].includes(x)?Object(m.jsx)(d.a,{status:x,className:"pv1 ph1 dib"}):Object(m.jsx)(b.a,{priority:O,extraClasses:"pv1 ph2 dib",showIcon:!["URGENT","MEDIUM"].includes(O)})})]}),Object(m.jsxs)("div",{className:"mt4 w-100",children:[Object(m.jsxs)("div",{className:"f7 blue-grey",children:["#",t]}),Object(m.jsx)("h3",{title:a,className:"mt3 f125 fw7 lh-title overflow-y-hidden pr4 project-title",children:a}),Object(m.jsx)("div",{className:"tc f6",children:Object(m.jsxs)("div",{className:"w-100 tl pr2 f7 blue-grey dib mb2 project-desc",children:[n," ",w?" \xb7 "+w:""]})})]})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)(p,{totalContributors:M,lastUpdated:g}),Object(m.jsx)(o.a,{percentMapped:y,percentValidated:N}),Object(m.jsxs)("div",{className:"pt2 truncate flex justify-between items-center",children:[Object(m.jsx)(l.a,{level:v,className:"fl f7 pv2 ttc fw5 blue-grey truncate"}),Object(m.jsx)(u.a,{dueDate:f})]})]})]})}),I&&P]})}},1940:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(1);var s=a(118),i=a(0);const c=e=>[...Array(e).keys()].map(((e,t)=>Object(i.jsxs)("div",{className:"ph3 ba br1 b--grey-light bg-white shadow-hover h-100 flex flex-column justify-between project-card",children:[Object(i.jsxs)("div",{className:"",children:[Object(i.jsxs)("div",{className:"flex justify-between items-center mb4",children:[Object(i.jsx)(s.RoundShape,{className:"show-loading-animation",color:"#DDD",style:{width:50,height:50}}),Object(i.jsx)(s.TextBlock,{rows:1,className:"show-loading-animation",color:"#CCC",style:{width:60}})]}),Object(i.jsx)(s.TextBlock,{rows:3,className:"show-loading-animation mb4",color:"#CCC"}),Object(i.jsx)(s.TextBlock,{rows:2,className:"show-loading-animation",color:"#CCC",style:{height:35}})]}),Object(i.jsx)(s.TextBlock,{rows:2,className:"show-loading-animation mb4",color:"#CCC"})]},t)))},1945:function(e,t,a){},1962:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));a(1);var s=a(23),i=a(30),c=a(92),r=a.n(c),n=a(70),o=a(1939),l=a(119),d=a(1940),j=a(0);function b(e){var t,a;let{projects:c,viewAllEndpoint:b,ownerEntity:u,showAddButton:m=!1,showManageButtons:p=!0,border:h=!0}=e;return Object(j.jsxs)("div",{className:"bg-white mb3 ".concat(h?"b--grey-light ba pa4":""),children:[Object(j.jsx)("h3",{className:"f3 barlow-condensed ttu blue-dark mv0 fw6 dib v-mid",children:Object(j.jsx)(i.a,{...n.a.projects})}),m&&Object(j.jsx)(s.a,{to:"/manage/projects/new/",className:"dib ml4",children:Object(j.jsx)(l.a,{})}),Object(j.jsx)(l.e,{link:b}),Object(j.jsx)("div",{className:"pt4 cards-container",children:Object(j.jsxs)(r.a,{customPlaceholder:Object(d.a)(4),showLoadingAnimation:!0,delay:10,ready:null===c||void 0===c?void 0:c.results,children:[null===c||void 0===c||null===(t=c.results)||void 0===t?void 0:t.slice(0,6).map((e=>Object(j.jsx)(o.a,{showBottomButtons:p,...e},e.projectId))),0===(null===c||void 0===c||null===(a=c.results)||void 0===a?void 0:a.length)&&Object(j.jsx)("span",{className:"blue-grey",children:Object(j.jsx)(i.a,{...n.a.noProjectsFound,values:{entity:Object(j.jsx)("span",{className:"ttl",children:Object(j.jsx)(i.a,{...n.a[u]})})}})})]})})]})}},2331:function(e,t,a){"use strict";a.r(t),a.d(t,"OrganisationDetail",(function(){return f}));a(1);var s=a(92),i=a.n(s),c=a(30),r=a(6),n=a(46),o=a(174),l=a(62),d=a(120),j=a(1919),b=a(1936),u=a(1962),m=a(106),p=a(32),h=a(164),g=a(0);function f(){const{slug:e}=Object(r.s)(),[t,a,s]=Object(d.a)("organisations/".concat(e,"/"),e),[f]=Object(j.a)(s),[O,x,v]=Object(d.a)("projects/?organisationId=".concat(s.organisationId,"&omitMapResults=true"),void 0!==s.organisationId);return Object(h.b)("".concat(s.name)),Object(g.jsx)(i.a,{showLoadingAnimation:!0,type:"media",rows:26,delay:100,ready:!t&&!1===a&&"object"===typeof s,children:Object(g.jsxs)("div",{className:"w-100 cf pv3 ph2 ph4-ns bg-white blue-dark",children:[Object(g.jsxs)("div",{className:"cf pt4 w-100",children:[Object(g.jsxs)("div",{className:"w-auto fl",children:[s.logo&&Object(g.jsx)("img",{src:s.logo,className:"w3 dib v-mid mr3",alt:s.name}),Object(g.jsx)("h3",{className:"f2 fw6 mv2 ttu barlow-condensed blue-dark dib v-mid",children:s.name})]}),f&&Object(g.jsx)("div",{className:"w-auto fr pt2",children:Object(g.jsx)(p.d,{url:"/manage/organisations/".concat(s.organisationId),children:Object(g.jsx)(c.a,{...l.a.editOrganisation})})})]}),Object(g.jsx)("div",{className:"cf w-50-l w-100 base-font",children:Object(g.jsxs)("div",{className:"w-auto fl",children:[Object(g.jsx)("p",{className:"f5 fw5",children:s.description}),Object(g.jsx)("p",{className:"f5 fw5",children:s.url&&Object(g.jsx)("a",{href:s.url,className:"link red",children:s.url})})]})}),Object(g.jsxs)("div",{className:"w-100 mt4",children:[Object(g.jsx)(u.a,{projects:v,viewAllEndpoint:"/explore/?".concat(Object(o.stringify)(Object(n.encodeQueryParams)({organisation:n.StringParam},{organisation:s.name}))),ownerEntity:"organisation",showManageButtons:!1,border:!1}),Object(g.jsx)(b.e,{teams:s.teams,isReady:!t&&!a,border:!1}),Object(g.jsxs)("div",{className:"cf w-100 pv3",children:[Object(g.jsx)("h3",{className:"f3 barlow-condensed ttu blue-dark mt2 mb3 fw6 dib v-mid",children:Object(g.jsx)(c.a,{...l.a.managers})}),Object(g.jsx)("div",{className:"db",children:Object(g.jsx)(m.c,{size:"large",textColor:"white",users:s.managers})})]})]})]})})}}}]);
//# sourceMappingURL=organisationDetail.f2eb765d.chunk.js.map