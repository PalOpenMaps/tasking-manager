(this["webpackJsonpTaskingManager-frontend"]=this["webpackJsonpTaskingManager-frontend"]||[]).push([[804],{1914:function(e,s,c){"use strict";c.d(s,"a",(function(){return l})),c.d(s,"b",(function(){return r}));var t=c(30),a=c(13),n=c(62),i=c(0);const l=e=>{let{type:s="info",compact:c=!1,inline:t=!1,iconClassName:n,children:l}=e;const r={info:a.I,success:a.g,warning:a.a,error:a.c}[s];return Object(i.jsxs)("div",{className:"".concat(t?"di":"db"," blue-dark bl bw2 br2 ").concat(c?"pa2":"pa3"," ").concat({info:"b--blue bg-lightest-blue",success:"b--dark-green bg-washed-green",warning:"b--gold bg-washed-yellow",error:"b--dark-red bg-washed-red"}[s]),children:[Object(i.jsx)(r,{className:"h1 w1 v-top mr2 ".concat({info:"blue",success:"dark-green",warning:"gold",error:"dark-red"}[s]," ").concat(n||"")}),l]})};function r(e){let{entity:s,action:c="creation"}=e;const a="updation"===c?"entityInfoUpdationFailure":"entityCreationFailure";return Object(i.jsx)(l,{type:"error",children:Object(i.jsx)(t.a,{...n.a[a],values:{entity:s}})})}},1944:function(e,s,c){"use strict";c.d(s,"a",(function(){return m}));var t=c(1),a=c(10),n=c(6),i=c(30),l=c(82),r=c(173),b=c(29),d=c(119),j=c(32),o=c(13),h=c(0);function m(e){let{id:s,name:c,type:m,className:u,endpointURL:O,onDelete:x}=e;const g=Object(n.q)(),w=Object(t.useRef)(),f=Object(a.d)((e=>e.auth.token)),[v,p]=Object(t.useState)(null),[N,y]=Object(t.useState)(null),k=O||"".concat(m,"/").concat(s,"/");return Object(h.jsx)(l.a,{ref:w,trigger:Object(h.jsx)(d.b,{className:"".concat(u||""," dib ml3"),showText:"comments"!==m}),modal:!0,closeOnDocumentClick:!0,nested:!0,onClose:()=>{p(null),y(null)},children:e=>Object(h.jsxs)("div",{className:"pv4",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:[Object(h.jsx)("div",{className:"cf tc red",children:Object(h.jsx)(o.a,{height:"50px",width:"50px"})}),Object(h.jsxs)("div",{className:"cf blue-dark tc",children:[!v&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{className:"barlow-condensed f3",children:Object(h.jsx)(i.a,{...r.a["confirmDeleteTitle_".concat(m)]})}),Object(h.jsxs)("div",{className:"pt3",children:[Object(h.jsx)(j.b,{className:"bg-white blue-dark mr3",onClick:()=>{p(!1),e()},children:Object(h.jsx)(i.a,{...r.a.cancel})}),Object(h.jsx)(j.b,{className:"bg-red white",onClick:()=>(p("started"),void Object(b.b)(k,f,"DELETE").then((e=>{if(p("success"),"notifications"===m)setTimeout((()=>g("/inbox")),750);else{if("comments"===m)return void setTimeout((()=>{x(),w.current.close()}),750);setTimeout((()=>g("/manage/".concat("interests"!==m?m:"categories"))),750)}})).catch((e=>{p("failure"),y(e.message)}))),children:Object(h.jsx)(i.a,{...r.a.delete})})]})]}),v&&Object(h.jsxs)("h3",{className:"barlow-condensed f3",children:["started"===v&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(i.a,{...r.a.processing}),"\u2026"]}),"success"===v&&Object(h.jsx)(i.a,{...r.a["success_".concat(m)]}),"failure"===v&&Object(h.jsx)(i.a,{...r.a["failure_".concat(m)]})]}),"failure"===v&&Object(h.jsx)("p",{children:N&&r.a["".concat(N,"Error")]&&Object(h.jsx)(i.a,{...r.a["".concat(N,"Error")]})||N})]})]})})}},1993:function(e,s,c){"use strict";c.d(s,"a",(function(){return b}));var t=c(29),a=c(165),n=c.n(a),i=c(30),l=c(62),r=c(0);const b=(e,s,c,a,b,d)=>Object(t.d)(e,JSON.stringify(c),a,"PATCH").then((()=>{n.a.success(Object(r.jsx)(i.a,{...l.a.entityInfoUpdationSuccess,values:{entity:s}})),null===b||void 0===b||b()})).catch((e=>{null===d||void 0===d||d(e)}))},2362:function(e,s,c){"use strict";c.r(s),c.d(s,"EditLicense",(function(){return I})),c.d(s,"ListLicenses",(function(){return E})),c.d(s,"CreateLicense",(function(){return q}));var t=c(1),a=c(10),n=c(120),i=c(164),l=c(6),r=c(23),b=c(57),d=c(30),j=c(165),o=c.n(j),h=c(62),m=c(92),u=c.n(m),O=c(70),x=c(119),g=c(13),w=c(32),f=c(118),v=c(0);const p=e=>[...Array(e).keys()].map(((e,s)=>Object(v.jsx)("div",{className:"w-50-ns w-100 fl pr3",children:Object(v.jsxs)("div",{className:"cf bg-white blue-dark br1 mv2 pv4 ph3 ba br1 b--grey-light shadow-hover",children:[Object(v.jsx)("div",{className:"dib v-mid pr3",children:Object(v.jsx)("div",{className:"z-1 fl br-100 tc h2 w2 bg-blue-light white",children:Object(v.jsx)("span",{className:"relative w-50 dib",children:Object(v.jsx)(g.p,{style:{paddingTop:"0.475rem"}})})})}),Object(v.jsx)(f.TextRow,{className:"show-loading-animation f3 mv0 dib v-mid",color:"#CCC",style:{width:"55%",marginTop:0}})]})},s)));var N=c(80);const y=e=>{let{license:s}=e;return Object(v.jsx)(r.a,{to:"".concat(s.licenseId,"/"),className:"w-50-ns w-100 fl pr3",children:Object(v.jsxs)("div",{className:"cf bg-white blue-dark br1 mv2 pv4 ph3 ba br1 b--grey-light shadow-hover",children:[Object(v.jsx)("div",{className:"dib v-mid pr3",children:Object(v.jsx)("div",{className:"z-1 fl br-100 tc h2 w2 bg-blue-light white",children:Object(v.jsx)("span",{className:"relative w-50 dib",children:Object(v.jsx)(g.p,{style:{paddingTop:"0.475rem"}})})})}),Object(v.jsx)("h3",{className:"f3 mv0 dib v-mid",children:s.name})]})})},k=e=>{let{licenses:s,userDetails:c,isLicensesFetched:a}=e;const[n,i]=Object(t.useState)(""),l=null===s||void 0===s?void 0:s.filter((e=>e.name.toLowerCase().includes(n.toLowerCase())));return Object(v.jsx)(x.d,{title:Object(v.jsx)(d.a,{...O.a.manage,values:{entity:Object(v.jsx)(d.a,{...O.a.licenses})}}),showAddButton:!0,managementView:!0,children:Object(v.jsxs)(u.a,{showLoadingAnimation:!0,customPlaceholder:p(4),delay:10,ready:a,children:[Object(v.jsx)("div",{className:"w-20-l w-25-m",children:Object(v.jsx)(N.i,{value:n,placeholderMsg:O.a.searchLicenses,onChange:e=>i(e.target.value),onCloseIconClick:()=>i("")})}),null!==l&&void 0!==l&&l.length?l.map(((e,s)=>Object(v.jsx)(y,{license:e},s))):Object(v.jsx)("div",{className:"pv3",children:Object(v.jsx)(d.a,{...O.a.noLicenses})})]})})},C=()=>{const e="db pt3 pb2",s="blue-grey w-100 pv3 ph2 input-reset ba b--grey-light bg-transparent";return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"cf",children:[Object(v.jsx)("label",{className:e,children:Object(v.jsx)(d.a,{...O.a.name})}),Object(v.jsx)(b.a,{name:"name",component:"input",type:"text",className:s,required:!0}),Object(v.jsx)("label",{className:e,children:Object(v.jsx)(d.a,{...O.a.description})}),Object(v.jsx)(b.a,{name:"description",component:"textarea",rows:7,className:s,required:!0}),Object(v.jsx)("label",{className:e,children:Object(v.jsx)(d.a,{...O.a.plainText})}),Object(v.jsx)(b.a,{name:"plainText",component:"textarea",rows:7,className:s,required:!0})]})})},L=e=>{let{license:s,updateLicense:c,disabledForm:t}=e;return Object(v.jsx)(b.b,{onSubmit:e=>c(e),initialValues:s,render:e=>{let{handleSubmit:s,dirty:c,submitSucceeded:t,dirtySinceLastSubmit:a,form:n,submitting:i,values:l}=e;const r=t?a&&c:c;return Object(v.jsxs)("div",{className:"blue-grey mb3",children:[Object(v.jsxs)("div",{className:"bg-white b--grey-light pa4 ".concat(r?"bt bl br":"ba"),children:[Object(v.jsx)("h3",{className:"f3 fw6 dib blue-dark mv0",children:Object(v.jsx)(d.a,{...O.a.licenseInfo})}),Object(v.jsx)("form",{id:"license-form",onSubmit:s,children:Object(v.jsx)("fieldset",{className:"bn pa0",disabled:i,children:Object(v.jsx)(C,{})})})]}),r&&Object(v.jsxs)("div",{className:"cf pt0 h3",children:[Object(v.jsx)("div",{className:"w-70-l w-50 fl tr dib bg-grey-light",children:Object(v.jsx)(w.b,{className:"blue-dark bg-grey-light h3",onClick:()=>n.restart(),children:Object(v.jsx)(d.a,{...O.a.cancel})})}),Object(v.jsx)("div",{className:"w-30-l w-50 h-100 fr dib",children:Object(v.jsx)(w.b,{onClick:()=>s(),className:"w-100 h-100 bg-red white",disabledClassName:"bg-red o-50 white w-100 h-100",children:Object(v.jsx)(d.a,{...O.a.save})})})]})]})}})};var S=c(1944),T=c(29),D=c(1993),F=c(1914);const I=()=>{const{id:e}=Object(l.s)(),s=Object(a.d)((e=>e.auth.userDetails)),c=Object(a.d)((e=>e.auth.token)),[r,b,j]=Object(n.a)("licenses/".concat(e,"/")),[o,m]=Object(t.useState)(!1);Object(i.b)("Edit ".concat(j.name));const u=()=>m(!0);return Object(v.jsxs)("div",{className:"cf pv4 bg-tan",children:[Object(v.jsxs)("div",{className:"cf",children:[Object(v.jsx)("h3",{className:"f2 ttu blue-dark fw7 barlow-condensed v-mid ma0 dib",children:Object(v.jsx)(d.a,{...h.a.manageLicense})}),Object(v.jsx)(S.a,{id:j.licenseId,name:j.name,type:"licenses"})]}),Object(v.jsxs)("div",{className:"w-40-l w-100 mt4 fl",children:[Object(v.jsx)(L,{userDetails:s,license:j,updateLicense:s=>{m(!1),Object(D.a)("licenses/".concat(e,"/"),"license",s,c,null,u)},disabledForm:r||b}),o&&Object(v.jsx)(F.b,{entity:"license",action:"updation"})]})]})},E=()=>{Object(i.b)("Manage licenses");const e=Object(a.d)((e=>e.auth.userDetails)),[s,c,t]=Object(n.a)("licenses/"),l=!c&&!s;return Object(v.jsx)(k,{licenses:t.licenses,userDetails:e,isLicensesFetched:l})},q=()=>{Object(i.b)("Create new license");const e=Object(l.q)(),s=Object(a.d)((e=>e.auth.token)),[c,n]=Object(t.useState)(!1);return Object(v.jsx)(b.b,{onSubmit:c=>{return t=c,n(!1),Object(T.d)("licenses/",JSON.stringify(t),s,"POST").then((s=>{o.a.success(Object(v.jsx)(d.a,{...h.a.entityCreationSuccess,values:{entity:"license"}})),e("/manage/licenses/".concat(s.licenseId))})).catch((()=>n(!0)));var t},render:e=>{let{handleSubmit:s,pristine:t,form:a,submitting:n,values:i}=e;return Object(v.jsxs)("form",{onSubmit:s,className:"blue-grey",children:[Object(v.jsxs)("div",{className:"cf vh-100",children:[Object(v.jsx)("h3",{className:"f2 mb3 ttu blue-dark fw7 barlow-condensed",children:Object(v.jsx)(d.a,{...h.a.newLicense})}),Object(v.jsxs)("div",{className:"w-40-l w-100 fl",children:[Object(v.jsxs)("div",{className:"bg-white b--grey-light ba pa4 mb3",children:[Object(v.jsx)("h3",{className:"f3 blue-dark mv0 fw6",children:Object(v.jsx)(d.a,{...h.a.licenseInfo})}),Object(v.jsx)(C,{})]}),c&&Object(v.jsx)(F.b,{entity:"license"})]}),Object(v.jsx)("div",{className:"w-40-l w-100 fl pl5-l pl0 "})]}),Object(v.jsxs)("div",{className:"fixed left-0 bottom-0 cf bg-white h3 w-100",children:[Object(v.jsx)("div",{className:"w-80-ns w-60-m w-50 h-100 fl tr",children:Object(v.jsx)(r.a,{to:"../",children:Object(v.jsx)(w.c,{className:"bg-white mr5 pr2 h-100 bn bg-white blue-dark",children:Object(v.jsx)(d.a,{...h.a.cancel})})})}),Object(v.jsx)("div",{className:"w-20-l w-40-m w-50 h-100 fr",children:Object(v.jsx)(w.e,{disabled:n||t,className:"w-100 h-100 bg-red white",disabledClassName:"bg-red o-50 white w-100 h-100",children:Object(v.jsx)(d.a,{...h.a.createLicense})})})]})]})}})}}}]);
//# sourceMappingURL=licenses.baaecbb7.chunk.js.map