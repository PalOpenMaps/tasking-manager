{"version":3,"sources":["components/alert/index.js","components/projectDetail/messages.js","components/projectCard/messages.js","hooks/UsePermissions.js","components/mappingLevel.js","components/projectCard/priorityBox.js","components/projectDetail/statusBox.js","components/progressBar.js","hooks/UseHover.js","components/projectCard/projectProgressBar.js","components/svgIcons/timer.js","components/projectCard/dueDateBox.js","components/teamsAndOrgs/teamsPlaceholder.js","components/teamsAndOrgs/teams.js","components/projectCard/projectCard.js","components/projectCard/nCardPlaceholder.js","components/teamsAndOrgs/projects.js","components/menu.js","components/teamsAndOrgs/menu.js","views/management.js"],"names":["Alert","_ref","type","compact","inline","iconClassName","children","Icon","info","InfoIcon","success","CheckIcon","warning","AlertIcon","error","BanIcon","_jsxs","className","concat","_jsx","EntityError","_ref2","entity","action","messageType","FormattedMessage","messages","values","defineMessages","noProjectTeams","id","defaultMessage","coordination","projectCoordination","createdBy","noProjectContributors","projectTotalContributors","projectLastContribution","percentMapped","percentValidated","projectPriorityURGENT","projectPriorityHIGH","projectPriorityMEDIUM","projectPriorityLOW","dueDateRelativeRemainingDays","typesOfMapping","private","editProject","editor","selectEditor","tasks","instructions","imagery","customTMSLayer","customWMSLayer","customWMTSLayer","contribute","readMore","readLess","addToFavorites","removeFromFavorites","noComments","loginTocomment","errorLoadingComments","post","share","team","validationTeam","teamsAndPermissions","author","whoCanMap","whoCanValidate","zoomToTasks","selectATaskCardTitle","mapThroughOSMCardTitle","submitYourWorkCardTitle","selectATaskCardDescription","mapThroughOSMCardDescription","submitYourWorkCardDescription","overview","dueDateTooltip","description","questionsAndComments","contributions","contributionsTimeline","downloadOsmData","errorDownloadOsmData","errorDownloadOsmDataDescription","viewInOsmcha","changesets","contributors","similarProjects","contributorsError","timelineNotAvailable","status_DRAFT","status_ARCHIVED","status_PUBLISHED","permissions_ANY","permissions_LEVEL","permissions_TEAMS","permissions_TEAMS_LEVEL","downloadProjectAOI","downloadTaskGrid","moreStats","mappedTasks","validatedTasks","shareMessage","postOnFacebook","shareOnLinkedIn","inaccessibleProjectTitle","inaccessibleProjectDescription","exploreOtherProjects","noSimilarProjectsFound","percentBadImagery","priorityDescriptionURGENT","priorityDescriptionHIGH","priorityDescriptionMEDIUM","priorityDescriptionLOW","projectPage","projectTasks","noDueDate","dueDateExpired","useEditProjectAllowed","project","userDetails","useSelector","state","auth","organisations","pmTeams","isAllowed","setIsAllowed","useState","useEffect","role","username","includes","organisation","teams","filter","map","teamId","some","item","useEditTeamAllowed","organisation_id","members","managers","member","active","function","useEditOrgAllowed","org","organisationId","i","MappingLevelMessage","props","level","otherProps","message","DifficultyMessage","PriorityBox","priority","extraClasses","showIcon","color","msg","title","ClockIcon","style","height","ProjectStatusBox","status","colour","ProgressBar","small","firstBarValue","secondBarValue","hoverRef","isHovered","position","value","setValue","setPosition","x","y","handleMouseOver","useCallback","e","clientX","ref","current","offsetLeft","clientY","handleMouseOut","useRef","node","removeEventListener","addEventListener","useHover","heightClassname","width","left","bottom","ProjectProgressBar","_Fragment","n","undefined","TimerIcon","React","PureComponent","render","xmlns","fill","viewBox","this","fillRule","d","clipRule","DueDateBox","dueDate","intervalMili","tooltipMsg","isTaskStatusPage","isProjectDetailPage","intl","useIntl","timer","setTimer","Date","now","interval","setInterval","clearInterval","options","language","locale","slice","fallbacks","largest","units","round","milliDifference","paddingTop","paddingBottom","daysLeftHumanize","humanizeDuration","ReactTooltip","place","nCardPlaceholders","N","Array","keys","_n","TextRow","RectShape","_","Fragment","RoundShape","TextBlock","rows","TeamsManagement","managementView","userTeamsOnly","setUserTeamsOnly","teamsStatus","query","setQuery","isOrgManager","length","Management","manage","myTeams","isAdmin","showAddButton","userOnly","setUserOnly","userOnlyLabel","TextField","searchQuery","placeholderMsg","searchTeams","onChange","target","page","onCloseIconClick","clearSearchQuery","ReactPlaceholder","showLoadingAnimation","customPlaceholder","delay","ready","errorLoadingTeams","TeamCard","noTeams","Teams","viewAllQuery","isReady","border","Link","to","AddButton","ViewAllLink","link","noTeamsFound","_ref3","name","src","logo","alt","UserAvatarList","size","textColor","users","user","maxLength","totalCount","managersCount","teamMembers","membersCount","VisibilityBox","visibility","JoinMethodBox","joinMethod","TeamInformation","labelClasses","fieldClasses","formState","useFormState","joinMethods","ANY","BY_REQUEST","BY_INVITE","Field","component","required","OrganisationSelectInput","Object","method","RadioField","formatMessage","effect","public","TeamForm","Form","onSubmit","updateTeam","initialValues","mutators","_ref4","handleSubmit","dirty","submitSucceeded","dirtySinceLastSubmit","form","submitting","dirtyForm","teamInfo","disabled","Button","onClick","restart","cancel","disabledClassName","save","TeamSideBar","_ref5","requestedToJoin","isUserTeamManager","setSearchQuery","EditButton","url","editTeam","organisationSlug","noManagers","UserAvatar","picture","pictureUrl","colorClasses","noMembers","searchMembers","_ref6","toLowerCase","waitingApproval","TeamsBoxList","_ref7","mappingTeams","validationTeams","TeamBox","_ref8","ProjectTeaser","lastUpdated","totalContributors","littleFont","bigFont","outerDivStyles","PROJECTCARD_CONTRIBUTION_SHOWN_THRESHOLD","RelativeTimeWithUnit","date","number","ProjectCard","projectId","shortDescription","organisationName","organisationLogo","difficulty","campaignTag","showBottomButtons","setHovered","linkCombo","showBottomButtonsHovered","bottomButtonSpacer","bottomButtonMargin","bottomButtons","onMouseEnter","onMouseLeave","Projects","_projects$results","_projects$results2","projects","viewAllEndpoint","ownerEntity","showManageButtons","results","card","noProjectsFound","SectionMenu","items","location","useLocation","href","pathname","split","label","ManagementMenu","links","push","statistics","unshift","ManagementPageIndex","useSetTitleTag","projectsError","projectsLoading","useFetch","teamsError","teamsLoading","ManagementSection","navigate","useNavigate","token","from","startsWith","Outlet","sectionNotAllowed"],"mappings":"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","file":"static/js/management.8ce44eb6.chunk.js","sourcesContent":["import { FormattedMessage } from 'react-intl';\n\nimport { BanIcon, CheckIcon, InfoIcon, AlertIcon } from '../svgIcons';\nimport messages from '../../views/messages';\n\nexport const Alert = ({\n  type = 'info',\n  compact = false,\n  inline = false,\n  iconClassName,\n  children,\n}) => {\n  const icons = {\n    info: InfoIcon,\n    success: CheckIcon,\n    warning: AlertIcon,\n    error: BanIcon,\n  };\n  const Icon = icons[type];\n\n  const color = {\n    info: 'b--blue bg-lightest-blue',\n    success: 'b--dark-green bg-washed-green',\n    warning: 'b--gold bg-washed-yellow',\n    error: 'b--dark-red bg-washed-red',\n  };\n  const iconColor = {\n    info: 'blue',\n    success: 'dark-green',\n    warning: 'gold',\n    error: 'dark-red',\n  };\n\n  return (\n    <div\n      className={`${inline ? 'di' : 'db'} blue-dark bl bw2 br2 ${compact ? 'pa2' : 'pa3'} ${\n        color[type]\n      }`}\n    >\n      <Icon className={`h1 w1 v-top mr2 ${iconColor[type]} ${iconClassName || ''}`} />\n      {children}\n    </div>\n  );\n};\n\nexport function EntityError({ entity, action = 'creation' }) {\n  const messageType = action === 'updation' ? 'entityInfoUpdationFailure' : 'entityCreationFailure';\n\n  return (\n    <Alert type=\"error\">\n      <FormattedMessage\n        {...messages[messageType]}\n        values={{\n          entity: entity,\n        }}\n      />\n    </Alert>\n  );\n}\n","import { defineMessages } from 'react-intl';\n\n/**\n * Internationalized messages for use on project cards.\n */\nexport default defineMessages({\n  noProjectTeams: {\n    id: 'project.detail.teams.empty',\n    defaultMessage: \"This project doesn't have any teams associated with.\",\n  },\n  coordination: {\n    id: 'project.detail.coordination',\n    defaultMessage: 'Coordination',\n  },\n  projectCoordination: {\n    id: 'project.detail.coordination.description',\n    defaultMessage: 'This project is coordinated by {organisation} and was created by {user}.',\n  },\n  createdBy: {\n    id: 'project.detail.createdBy',\n    defaultMessage: 'Project created by {user}.',\n  },\n  noProjectContributors: {\n    id: 'project.detail.contributorCount.zero',\n    defaultMessage: 'No contributors yet',\n  },\n  projectTotalContributors: {\n    id: 'project.detail.contributorCount',\n    defaultMessage: '{number, plural, one {<b>#</b> contributor} other {<b>#</b> contributors}}',\n  },\n  projectLastContribution: {\n    id: 'project.detail.lastContribution',\n    defaultMessage: 'Last contribution',\n  },\n  percentMapped: {\n    id: 'project.detail.percentMapped',\n    defaultMessage: 'Mapped',\n  },\n  percentValidated: {\n    id: 'project.detail.percentValidated',\n    defaultMessage: 'Validated',\n  },\n  projectPriorityURGENT: {\n    id: 'project.detail.projectPriorityUrgent',\n    defaultMessage: 'Urgent',\n  },\n  projectPriorityHIGH: {\n    id: 'project.detail.projectPriorityHigh',\n    defaultMessage: 'High',\n  },\n  projectPriorityMEDIUM: {\n    id: 'project.detail.projectPriorityMedium',\n    defaultMessage: 'Medium',\n  },\n  projectPriorityLOW: {\n    id: 'project.detail.projectPriorityLow',\n    defaultMessage: 'Low',\n  },\n  dueDateRelativeRemainingDays: {\n    id: 'project.detail.dueDateLeft',\n    defaultMessage: '{daysLeftHumanize} left',\n  },\n  typesOfMapping: {\n    id: 'project.detail.typesOfMapping',\n    defaultMessage: 'Types of Mapping',\n  },\n  private: {\n    id: 'project.detail.private',\n    defaultMessage: 'Private',\n  },\n  editProject: {\n    id: 'project.detail.editProject',\n    defaultMessage: 'Edit project',\n  },\n  editor: {\n    id: 'project.detail.editor',\n    defaultMessage: 'Editor',\n  },\n  selectEditor: {\n    id: 'project.detail.editor.select',\n    defaultMessage: 'Select editor',\n  },\n  tasks: {\n    id: 'project.detail.tasks',\n    defaultMessage: 'Tasks',\n  },\n  instructions: {\n    id: 'project.detail.instructions',\n    defaultMessage: 'Instructions',\n  },\n  imagery: {\n    id: 'project.detail.imagery',\n    defaultMessage: 'Imagery',\n  },\n  customTMSLayer: {\n    id: 'project.detail.imagery.tms',\n    defaultMessage: 'Custom TMS Layer',\n  },\n  customWMSLayer: {\n    id: 'project.detail.imagery.wms',\n    defaultMessage: 'Custom WMS Layer',\n  },\n  customWMTSLayer: {\n    id: 'project.detail.imagery.wmts',\n    defaultMessage: 'Custom WMTS Layer',\n  },\n  contribute: {\n    id: 'project.selectTask.footer.button.contribute',\n    defaultMessage: 'Contribute',\n  },\n  readMore: {\n    id: 'project.readMoreButton',\n    defaultMessage: 'Read more',\n  },\n  readLess: {\n    id: 'project.readLessButton',\n    defaultMessage: 'Read less',\n  },\n  addToFavorites: {\n    id: 'project.detail.addToFavorites',\n    defaultMessage: 'Add to Favorites',\n  },\n  removeFromFavorites: {\n    id: 'project.detail.removeFromFavorites',\n    defaultMessage: 'Remove from Favorites',\n  },\n  noComments: {\n    id: 'project.detail.questionsAndComments.none',\n    defaultMessage:\n      'There are currently no questions or comments on this project. Be the first to post one!',\n  },\n  loginTocomment: {\n    id: 'project.detail.questionsAndComments.login',\n    defaultMessage: 'Log in to be able to post comments.',\n  },\n  errorLoadingComments: {\n    id: 'project.detail.questionsAndComments.fetching.error',\n    defaultMessage: 'An error occured while loading questions and comments.',\n  },\n  post: {\n    id: 'project.detail.questionsAndComments.button',\n    defaultMessage: 'Post',\n  },\n  share: {\n    id: 'project.detail.share',\n    defaultMessage: 'Share',\n  },\n  team: {\n    id: 'project.detail.team',\n    defaultMessage: 'Team',\n  },\n  validationTeam: {\n    id: 'project.detail.validation_team',\n    defaultMessage: 'Validation team',\n  },\n  teamsAndPermissions: {\n    id: 'project.detail.teams_permissions',\n    defaultMessage: 'Teams & Permissions',\n  },\n  author: {\n    id: 'project.detail.author',\n    defaultMessage: 'Author',\n  },\n  whoCanMap: {\n    id: 'project.detail.mapping_permissions',\n    defaultMessage: 'Who can map?',\n  },\n  whoCanValidate: {\n    id: 'project.detail.validation_permissions',\n    defaultMessage: 'Who can validate?',\n  },\n  zoomToTasks: {\n    id: 'project.detail.zoomToTasks',\n    defaultMessage: 'Zoom to tasks',\n  },\n  selectATaskCardTitle: {\n    id: 'project.detail.cards.selectATask.title',\n    defaultMessage: '1. Select a task',\n  },\n  mapThroughOSMCardTitle: {\n    id: 'project.detail.cards.mapthroughosm.title',\n    defaultMessage: '2. Map with OpenStreetMap',\n  },\n  submitYourWorkCardTitle: {\n    id: 'project.detail.cards.submityourwork.title',\n    defaultMessage: '3. Submit your work',\n  },\n  selectATaskCardDescription: {\n    id: 'project.detail.cards.selectATask.description',\n    defaultMessage:\n      'Projects are divided into sets of smaller tasks and adapted to fit your skill level.',\n  },\n  mapThroughOSMCardDescription: {\n    id: 'project.detail.cards.mapthroughosm.description',\n    defaultMessage:\n      'If you are new to mapping, we recommend checking the Learn page for instructions before you begin.',\n  },\n  submitYourWorkCardDescription: {\n    id: 'project.detail.cards.submityourwork.description',\n    defaultMessage: 'Submitting your work is crucial to make sure your data is saved.',\n  },\n  overview: {\n    id: 'project.detail.sections.overview',\n    defaultMessage: 'Overview',\n  },\n  dueDateTooltip: {\n    id: 'project.detail.sections.overview.dueDate',\n    defaultMessage: 'Ideal date to complete the project',\n  },\n  description: {\n    id: 'project.detail.sections.description',\n    defaultMessage: 'Description',\n  },\n  questionsAndComments: {\n    id: 'project.detail.sections.questionsAndComments',\n    defaultMessage: 'Questions and comments',\n  },\n  contributions: {\n    id: 'project.detail.sections.contributions',\n    defaultMessage: 'Contributions',\n  },\n  contributionsTimeline: {\n    id: 'project.detail.sections.contributionsTimeline',\n    defaultMessage: 'Contributions timeline',\n  },\n  downloadOsmData: {\n    id: 'project.detail.sections.downloadOsmData',\n    defaultMessage: 'Download OSM Data',\n  },\n  errorDownloadOsmData: {\n    id: 'project.detail.sections.errorDownloadOsmData',\n    defaultMessage: 'Data Extraction Unavailable',\n  },\n  errorDownloadOsmDataDescription: {\n    id: 'project.detail.sections.errorDownloadOsmDataDescription',\n    defaultMessage:\n      'The data extract you are attempting to download is currently inactive or unavailable. Please ensure that the extract is active and try again later.',\n  },\n  viewInOsmcha: {\n    id: 'project.detail.sections.contributions.osmcha',\n    defaultMessage: 'Changesets in OSMCha',\n  },\n  changesets: {\n    id: 'project.detail.sections.contributions.changesets',\n    defaultMessage: 'Changesets',\n  },\n  contributors: {\n    id: 'project.detail.sections.contributors',\n    defaultMessage: 'Contributors',\n  },\n  similarProjects: {\n    id: 'project.detail.sections.similarProjects',\n    defaultMessage: 'Similar projects',\n  },\n  contributorsError: {\n    id: 'project.detail.sections.contributors.error',\n    defaultMessage: 'An error occured while loading contributors',\n  },\n  timelineNotAvailable: {\n    id: 'project.detail.sections.contributions.timelineError',\n    defaultMessage: 'A timeline is going to be available after the first task has been mapped.',\n  },\n  status_DRAFT: {\n    id: 'project.status.draft',\n    defaultMessage: 'Draft',\n  },\n  status_ARCHIVED: {\n    id: 'project.status.archived',\n    defaultMessage: 'Archived',\n  },\n  status_PUBLISHED: {\n    id: 'project.status.published',\n    defaultMessage: 'Published',\n  },\n  permissions_ANY: {\n    id: 'project.permissions.any',\n    defaultMessage: 'All users',\n  },\n  permissions_LEVEL: {\n    id: 'project.permissions.level',\n    defaultMessage: 'Users with intermediate or advanced level',\n  },\n  permissions_TEAMS: {\n    id: 'project.permissions.teams',\n    defaultMessage: '{team} members',\n  },\n  permissions_TEAMS_LEVEL: {\n    id: 'project.permissions.teamsAndLevel',\n    defaultMessage: 'Intermediate and advanced {team} members',\n  },\n  downloadProjectAOI: {\n    id: 'projects.data.download.aoi',\n    defaultMessage: 'Download AOI',\n  },\n  downloadTaskGrid: {\n    id: 'projects.data.download.taskGrid',\n    defaultMessage: 'Download Tasks Grid',\n  },\n  moreStats: {\n    id: 'projects.link.stats',\n    defaultMessage: 'More statistics',\n  },\n  mappedTasks: {\n    id: 'projects.stats.mapped',\n    defaultMessage: 'Mapped tasks',\n  },\n  validatedTasks: {\n    id: 'projects.stats.validated',\n    defaultMessage: 'Validated tasks',\n  },\n  shareMessage: {\n    id: 'project.share.twitter',\n    defaultMessage: 'Contribute mapping the project #{id} on {site}',\n  },\n  postOnFacebook: {\n    id: 'project.share.facebook',\n    defaultMessage: 'Post on Facebook',\n  },\n  shareOnLinkedIn: {\n    id: 'project.share.linkedin',\n    defaultMessage: 'Share on LinkedIn',\n  },\n  inaccessibleProjectTitle: {\n    id: 'project.inaccessible.title',\n    defaultMessage: \"You don't have permission to access this project\",\n  },\n  inaccessibleProjectDescription: {\n    id: 'project.inaccessible.description',\n    defaultMessage: 'Please contact the project manager to request access.',\n  },\n  exploreOtherProjects: {\n    id: 'project.inaccessible.exploreOtherProjects',\n    defaultMessage: 'Explore other projects',\n  },\n  noSimilarProjectsFound: {\n    id: 'project.noSimilarProjectsFound',\n    defaultMessage: 'Could not find any similar projects for this project',\n  },\n});\n","import { defineMessages } from 'react-intl';\n\n/**\n * Internationalized messages for use on project cards.\n */\nexport default defineMessages({\n  projectTotalContributors: {\n    id: 'project.card.contributorCount',\n    defaultMessage: '{number} total contributors',\n  },\n  projectLastContribution: {\n    id: 'project.card.lastContribution',\n    defaultMessage: 'Last contribution',\n  },\n  percentMapped: {\n    id: 'project.card.percentMapped',\n    defaultMessage: '{n}% mapped',\n  },\n  percentValidated: {\n    id: 'project.card.percentValidated',\n    defaultMessage: '{n}% validated',\n  },\n  percentBadImagery: {\n    id: 'project.card.percentBadImagery',\n    defaultMessage: '{n}% bad imagery',\n  },\n  projectPriorityURGENT: {\n    id: 'project.card.projectPriorityUrgent',\n    defaultMessage: 'Urgent',\n  },\n  projectPriorityHIGH: {\n    id: 'project.card.projectPriorityHigh',\n    defaultMessage: 'High',\n  },\n  projectPriorityMEDIUM: {\n    id: 'project.card.projectPriorityMedium',\n    defaultMessage: 'Medium',\n  },\n  projectPriorityLOW: {\n    id: 'project.card.projectPriorityLow',\n    defaultMessage: 'Low',\n  },\n  priorityDescriptionURGENT: {\n    id: 'project.card.projectPriorityUrgent.description',\n    defaultMessage: 'Urgent priority',\n  },\n  priorityDescriptionHIGH: {\n    id: 'project.card.projectPriorityHigh.description',\n    defaultMessage: 'High priority',\n  },\n  priorityDescriptionMEDIUM: {\n    id: 'project.card.projectPriorityMedium.description',\n    defaultMessage: 'Medium priority',\n  },\n  priorityDescriptionLOW: {\n    id: 'project.card.projectPriorityLow.description',\n    defaultMessage: 'Low priority',\n  },\n  dueDateRelativeRemainingDays: {\n    id: 'project.card.dueDateLeft',\n    defaultMessage: '{daysLeftHumanize} left',\n  },\n  editProject: {\n    id: 'project.card.edit_project.button',\n    defaultMessage: 'Edit',\n  },\n  projectPage: {\n    id: 'project.card.project_page.button',\n    defaultMessage: 'Project Page',\n  },\n  projectTasks: {\n    id: 'project.card.project_tasks.button',\n    defaultMessage: 'Tasks',\n  },\n  noDueDate: {\n    id: 'project.detail.noDueDate',\n    defaultMessage: 'No due date specified',\n  },\n  dueDateExpired: {\n    id: 'project.detail.dueDateExpired',\n    defaultMessage: 'Due date expired',\n  },\n});\n","import { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nexport function useEditProjectAllowed(project) {\n  const userDetails = useSelector((state) => state.auth.userDetails);\n  const organisations = useSelector((state) => state.auth.organisations);\n  const pmTeams = useSelector((state) => state.auth.pmTeams);\n  const [isAllowed, setIsAllowed] = useState(false);\n\n  useEffect(() => {\n    // admin users can edit any project\n    if (userDetails.role === 'ADMIN') setIsAllowed(true);\n    // owners can edit their projects\n    // project and project.author check are needed to avoid `null === null` case while data is loading\n    if (project && project.author && userDetails.username === project.author) setIsAllowed(true);\n    // managers of the organisation related to the project can edit it\n    if (organisations && organisations.includes(project.organisation)) setIsAllowed(true);\n    // users that are member of a PROJECT_MANAGER team associated with the project can edit it\n    const teams = project.teams\n      ? project.teams.filter((team) => team.role === 'PROJECT_MANAGER').map((team) => team.teamId)\n      : [];\n    if (pmTeams && pmTeams.some((item) => teams.includes(item))) {\n      setIsAllowed(true);\n    }\n  }, [pmTeams, userDetails.role, userDetails.username, organisations, project]);\n  return [isAllowed];\n}\n\nexport function useEditTeamAllowed(team) {\n  const userDetails = useSelector((state) => state.auth.userDetails);\n  const organisations = useSelector((state) => state.auth.organisations);\n  const pmTeams = useSelector((state) => state.auth.pmTeams);\n  const [isAllowed, setIsAllowed] = useState(false);\n\n  useEffect(() => {\n    // admin users can edit any team\n    if (userDetails.role === 'ADMIN') setIsAllowed(true);\n    // managers of the organisation related to the team can edit it\n    if (organisations && organisations.includes(team.organisation_id)) setIsAllowed(true);\n    // team managers can edit it\n    // verify from the redux store\n    if (pmTeams && pmTeams.includes(team.teamId)) setIsAllowed(true);\n    // and verify based on the team members list\n    if (team.members) {\n      const managers = team.members\n        .filter((member) => member.active && member.function === 'MANAGER')\n        .map((member) => member.username);\n      if (userDetails.username && managers.includes(userDetails.username)) {\n        setIsAllowed(true);\n      }\n    }\n  }, [pmTeams, userDetails.role, userDetails.username, organisations, team]);\n  return [isAllowed];\n}\n\nexport function useEditOrgAllowed(org) {\n  const userDetails = useSelector((state) => state.auth.userDetails);\n  const organisations = useSelector((state) => state.auth.organisations);\n  const [isAllowed, setIsAllowed] = useState(false);\n\n  useEffect(() => {\n    // admin users can edit any organisation\n    if (userDetails.role === 'ADMIN') setIsAllowed(true);\n    // check if user is a organisation manager\n    // based on the redux store data\n    if (org && org.organisationId && organisations && organisations.includes(org.organisationId)) {\n      setIsAllowed(true);\n    }\n    // and based on the organisation data\n    if (org && org.managers && org.managers.map((i) => i.username).includes(userDetails.username)) {\n      setIsAllowed(true);\n    }\n  }, [org, organisations, userDetails.username, userDetails.role]);\n  return [isAllowed];\n}\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\n\nexport const MappingLevelMessage = (props) => {\n  const { level, ...otherProps } = props;\n  const message = ['ALL', 'BEGINNER', 'INTERMEDIATE', 'ADVANCED'].includes(level) ? (\n    <FormattedMessage {...messages[`mappingLevel${level}`]} />\n  ) : (\n    level\n  );\n  return <span {...otherProps}>{message}</span>;\n};\n\nexport const DifficultyMessage = (props) => {\n  const { level, ...otherProps } = props;\n  const message = ['ALL', 'EASY', 'MODERATE', 'CHALLENGING'].includes(level) ? (\n    <FormattedMessage {...messages[`difficulty${level}`]} />\n  ) : (\n    level\n  );\n  return <span {...otherProps}>{message}</span>;\n};\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\nimport { ClockIcon } from '../svgIcons';\n\nexport function PriorityBox({ priority, extraClasses, showIcon }: Object) {\n  let color = 'blue-grey b--blue-grey';\n  if (priority === 'URGENT') color = 'red b--red';\n  if (priority === 'HIGH') color = 'orange b--orange';\n\n  return (\n    <FormattedMessage {...messages[`priorityDescription${priority}`]}>\n      {(msg) => (\n        <div className={`tc br1 f8 ttu ba ${color} ${extraClasses}`} title={msg}>\n          {showIcon && <ClockIcon className={`${color} v-mid mr1`} style={{ height: '13px' }} />}\n          {priority ? (\n            <span className=\"v-mid fw5\">\n              <FormattedMessage {...messages[`projectPriority${priority}`]} />\n            </span>\n          ) : (\n            ''\n          )}\n        </div>\n      )}\n    </FormattedMessage>\n  );\n}\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\n\nexport const ProjectStatusBox = ({ status, className }: Object) => {\n  const colour = status === 'DRAFT' ? 'orange' : 'blue-grey';\n  return (\n    <div className={`tc br1 f7 ttu ba b--${colour} ${colour} ${className}`}>\n      <FormattedMessage {...messages[`status_${status}`]} />\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { useHover } from '../hooks/UseHover';\n\nexport const ProgressBar = ({\n  className,\n  small,\n  height,\n  firstBarValue,\n  secondBarValue = 0,\n  children,\n}) => {\n  const [hoverRef, isHovered, position] = useHover();\n  const heightClassname = `h${height}`;\n\n  /* tooltip component credit: https://codepen.io/syndicatefx/pen/QVPbJg */\n  return (\n    <div className={`cf db ${className || ''}`}>\n      <div className=\"relative\" ref={hoverRef}>\n        <div\n          className={`absolute bg-blue-grey br-pill ${\n            small ? heightClassname : 'h-pill'\n          } hide-child`}\n          style={{ width: `${firstBarValue > 100 ? 100 : firstBarValue}%` }}\n          role=\"progressbar\"\n          aria-valuenow={firstBarValue}\n          aria-valuemin=\"0\"\n          aria-valuemax=\"100\"\n        />\n        <div\n          className={`absolute bg-red br-pill ${small ? heightClassname : 'h-pill'} hide-child`}\n          style={{ width: `${secondBarValue > 100 ? 100 : secondBarValue}%` }}\n          role=\"progressbar\"\n          aria-valuenow={secondBarValue}\n          aria-valuemin=\"0\"\n          aria-valuemax=\"100\"\n        />\n        <div className={`bg-tan br-pill ${small ? heightClassname : 'h-pill'} overflow-y-hidden`} />\n        {isHovered && (\n          <span\n            className={`db absolute z-1 dib bg-blue-dark ba br2 b--blue-dark pa2 shadow-5 bottom-${\n              height === 'half' ? '2' : height\n            }`}\n            style={{ left: position.x }}\n          >\n            {children}\n            <span\n              className=\"absolute left-2 nt2 w1 h1 bg-blue-dark bl bt b--blue-dark rotate-45\"\n              style={{ bottom: '-0.5rem', left: 'calc(50% - 10px)' }}\n            />\n          </span>\n        )}\n      </div>\n    </div>\n  );\n};\n","import { useState, useCallback, useRef } from 'react';\n\nexport function useHover() {\n  const [value, setValue] = useState(false);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n\n  // Wrap in useCallback so we can use in dependencies below\n  const handleMouseOver = useCallback((e) => {\n    setPosition({ x: e.clientX - ref.current.offsetLeft - 35, y: e.clientY });\n    setValue(true);\n  }, []);\n  const handleMouseOut = useCallback(() => setValue(false), []);\n\n  // Keep track of the last node passed to callbackRef\n  // so we can remove its event listeners.\n  const ref = useRef();\n\n  // Use a callback ref instead of useEffect so that event listeners\n  // get changed in the case that the returned ref gets added to\n  // a different element later. With useEffect, changes to ref.current\n  // wouldn't cause a rerender and thus the effect would run again.\n  const callbackRef = useCallback(\n    (node) => {\n      if (ref.current) {\n        ref.current.removeEventListener('mouseover', handleMouseOver);\n        ref.current.removeEventListener('mouseout', handleMouseOut);\n      }\n\n      ref.current = node;\n\n      if (ref.current) {\n        ref.current.addEventListener('mouseover', handleMouseOver);\n        ref.current.addEventListener('mouseout', handleMouseOut);\n      }\n    },\n    [handleMouseOver, handleMouseOut],\n  );\n\n  return [callbackRef, value, position];\n}\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\nimport { ProgressBar } from '../progressBar';\n\nexport default function ProjectProgressBar({\n  percentMapped,\n  percentValidated,\n  percentBadImagery,\n  className,\n  small = true,\n}: Object) {\n  return (\n    <>\n      <ProgressBar\n        className={className}\n        firstBarValue={percentMapped}\n        secondBarValue={percentValidated}\n        height=\"half\"\n        small={small}\n      >\n        <p className=\"f6 lh-copy ma0 white f7 fw4\">\n          <FormattedMessage\n            {...messages['percentMapped']}\n            values={{ n: <span className=\"fw8\">{percentMapped}</span> }}\n          />\n        </p>\n        <p className=\"f6 lh-copy ma0 white f7 fw4\">\n          <FormattedMessage\n            {...messages['percentValidated']}\n            values={{ n: <span className=\"fw8\">{percentValidated}</span> }}\n          />\n        </p>\n        {![null, undefined].includes(percentBadImagery) && (\n          <p className=\"f6 lh-copy ma0 white f7 fw4\">\n            <FormattedMessage\n              {...messages['percentBadImagery']}\n              values={{ n: <span className=\"fw8\">{percentBadImagery}</span> }}\n            />\n          </p>\n        )}\n      </ProgressBar>\n    </>\n  );\n}\n","import React from 'react';\n\nexport class TimerIcon extends React.PureComponent {\n  render() {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"10\"\n        height=\"12\"\n        fill=\"none\"\n        viewBox=\"0 0 10 12\"\n        role=\"img\"\n        {...this.props}\n      >\n        <title>Timer</title>\n        <path\n          fill=\"#68707F\"\n          fillRule=\"evenodd\"\n          d=\"M5.77 1.013v.932C8.164 2.32 10 4.419 10 6.942 10 9.732 7.757 12 5 12S0 9.731 0 6.942c0-2.524 1.837-4.621 4.23-4.997v-.932h-.421a.504.504 0 01-.501-.507c0-.28.224-.506.5-.506h2.383c.277 0 .501.227.501.506 0 .28-.224.507-.5.507H5.77zm3.306 5.909a.344.344 0 00.09-.264c-.182-1.99-1.783-3.58-3.787-3.76A.344.344 0 005 3.24V6.69c0 .19.155.344.347.344H8.82c.098 0 .191-.04.257-.112z\"\n          clipRule=\"evenodd\"\n        ></path>\n      </svg>\n    );\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport humanizeDuration from 'humanize-duration';\nimport ReactTooltip from 'react-tooltip';\n\nimport { ClockIcon } from '../svgIcons';\nimport messages from './messages';\nimport { TimerIcon } from '../svgIcons/timer';\n\nexport function DueDateBox({\n  dueDate,\n  intervalMili,\n  tooltipMsg,\n  isTaskStatusPage = false,\n  isProjectDetailPage = false,\n}: Object) {\n  const intl = useIntl();\n  const [timer, setTimer] = useState(Date.now());\n  useEffect(() => {\n    let interval;\n    if (intervalMili) {\n      interval = setInterval(() => {\n        setTimer(Date.now());\n      }, intervalMili); // 1 minute\n    }\n    return () => {\n      clearInterval(interval);\n    };\n  }, [intervalMili]);\n\n  if (dueDate === undefined || new Date(dueDate) === undefined) {\n    return null;\n  }\n\n  let options = { language: intl.locale.slice(0, 2), fallbacks: ['en'], largest: 1 };\n\n  if (intervalMili !== undefined) {\n    options = { units: ['h', 'm'], round: true };\n  }\n  const milliDifference = new Date(dueDate) - timer;\n\n  if (milliDifference > 0) {\n    return (\n      <>\n        <span\n          className={`inline-flex items-center lh-solid f8 br1 ph2 link ${\n            milliDifference < 60000 * 20 && intervalMili !== undefined\n              ? 'bg-red white'\n              : 'bg-tan blue-grey'\n          } ${intervalMili ? '' : 'mw4'}`}\n          data-tip={tooltipMsg}\n          style={{ paddingTop: '0.375rem', paddingBottom: '0.375rem' }}\n        >\n          {!isTaskStatusPage ? (\n            <ClockIcon height=\"12px\" width=\"12px\" />\n          ) : (\n            <TimerIcon height=\"12px\" width=\"12px\" />\n          )}\n          <span className=\"pl1\">\n            <FormattedMessage\n              className=\"indent\"\n              {...messages['dueDateRelativeRemainingDays']}\n              values={{\n                daysLeftHumanize: humanizeDuration(milliDifference, options),\n              }}\n            />\n          </span>\n        </span>\n        {tooltipMsg && <ReactTooltip place=\"bottom\" />}\n      </>\n    );\n  } else {\n    return (\n      isProjectDetailPage && (\n        <span\n          className=\"inline-flex items-center lh-solid f8 br1 ph2 link bg-tan blue-grey\"\n          style={{ paddingTop: '0.375rem', paddingBottom: '0.375rem' }}\n        >\n          <ClockIcon height=\"12px\" width=\"12px\" />\n          <span className=\"pl1\">\n            {dueDate ? (\n              <FormattedMessage {...messages.dueDateExpired} />\n            ) : (\n              <FormattedMessage {...messages.noDueDate} />\n            )}\n          </span>\n        </span>\n      )\n    );\n  }\n}\n","import React, { Fragment } from 'react';\n\nimport { TextRow, TextBlock, RoundShape, RectShape } from 'react-placeholder/lib/placeholders';\n\nexport const teamCardPlaceholderTemplate = () => (_n, i) =>\n  (\n    <article\n      className=\"base-font blue-dark h-100 bg-white ph3 pb3 ba br1 b--card shadow-hover h-100 flex flex-column justify-between\"\n      key={i}\n    >\n      <div className=\"mt3\">\n        <TextRow\n          className=\"show-loading-animation mb3\"\n          color=\"#CCC\"\n          style={{ width: 200, height: 24 }}\n        />\n        <RectShape\n          className=\"show-loading-animation mb4\"\n          style={{ width: 80, height: 50 }}\n          color=\"#DDD\"\n        />\n        {[...Array(2)].map((_, i) => (\n          <Fragment key={i}>\n            <TextRow className=\"show-loading-animation\" color=\"#CCC\" style={{ width: '45%' }} />\n            {[...Array(2)].map((_, i) => (\n              <RoundShape\n                key={i}\n                className=\"show-loading-animation dib mt1\"\n                style={{ width: 25, height: 25 }}\n                color=\"#DDD\"\n              />\n            ))}\n          </Fragment>\n        ))}\n      </div>\n      <TextBlock\n        rows={2}\n        className=\"show-loading-animation mt2\"\n        color=\"#CCC\"\n        style={{ width: 80, height: 50 }}\n      />\n    </article>\n  );\n\nexport const nCardPlaceholders = (N) => {\n  return [...Array(N).keys()].map(teamCardPlaceholderTemplate());\n};\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport ReactPlaceholder from 'react-placeholder';\nimport { Form, Field, useFormState } from 'react-final-form';\nimport ReactTooltip from 'react-tooltip';\n\nimport messages from './messages';\nimport { InfoIcon } from '../svgIcons';\nimport { useEditTeamAllowed } from '../../hooks/UsePermissions';\nimport { UserAvatar, UserAvatarList } from '../user/avatar';\nimport { AddButton, ViewAllLink, Management, VisibilityBox, JoinMethodBox } from './management';\nimport { RadioField, OrganisationSelectInput, TextField } from '../formInputs';\nimport { Button, EditButton } from '../button';\nimport { nCardPlaceholders } from './teamsPlaceholder';\nimport { Alert } from '../alert';\n\nexport function TeamsManagement({\n  teams,\n  userDetails,\n  managementView,\n  userTeamsOnly,\n  setUserTeamsOnly,\n  teamsStatus,\n  query,\n  setQuery,\n}: Object) {\n  const isOrgManager = useSelector(\n    (state) => state.auth.organisations && state.auth.organisations.length > 0,\n  );\n\n  const onSearchInputChange = (e) =>\n    setQuery({ ...query, searchQuery: e.target.value || undefined, page: 1 }, 'pushIn');\n\n  const clearSearchQuery = () => setQuery({ ...query, searchQuery: undefined, page: 1 }, 'pushIn');\n\n  return (\n    <Management\n      title={\n        managementView ? (\n          <FormattedMessage\n            {...messages.manage}\n            values={{ entity: <FormattedMessage {...messages.teams} /> }}\n          />\n        ) : (\n          <FormattedMessage {...messages.myTeams} />\n        )\n      }\n      isAdmin={userDetails.role === 'ADMIN' && managementView}\n      showAddButton={(userDetails.role === 'ADMIN' || isOrgManager) && managementView}\n      managementView={managementView}\n      userOnly={userTeamsOnly}\n      setUserOnly={setUserTeamsOnly}\n      userOnlyLabel={<FormattedMessage {...messages.myTeams} />}\n    >\n      <div className=\"w-20-l w-25-m\">\n        <TextField\n          value={query.searchQuery || ''}\n          placeholderMsg={messages.searchTeams}\n          onChange={onSearchInputChange}\n          onCloseIconClick={clearSearchQuery}\n        />\n      </div>\n      <div className={`${teamsStatus !== 'error' ? 'cards-container' : ''} mt2`}>\n        {teamsStatus === 'loading' && (\n          <ReactPlaceholder\n            showLoadingAnimation={true}\n            customPlaceholder={nCardPlaceholders(4)}\n            delay={10}\n            ready={false}\n          />\n        )}\n        {teamsStatus === 'error' && (\n          <Alert type=\"error\">\n            <FormattedMessage {...messages.errorLoadingTeams} />\n          </Alert>\n        )}\n        {teamsStatus === 'success' && (\n          <>\n            {teams?.length ? (\n              teams.map((team) => <TeamCard team={team} key={team.teamId} />)\n            ) : (\n              <div className=\"pb3 pt2\">\n                <FormattedMessage {...messages.noTeams} />\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </Management>\n  );\n}\n\nexport function Teams({ teams, viewAllQuery, showAddButton = false, isReady, border = true }) {\n  return (\n    <div className={`bg-white ${border ? 'b--grey-light ba pa4' : ''}`}>\n      <div className=\"cf db\">\n        <h3 className=\"f3 barlow-condensed ttu blue-dark mv0 fw6 dib v-mid\">\n          <FormattedMessage {...messages.teams} />\n        </h3>\n        {showAddButton && (\n          <Link to={'/manage/teams/new/'} className=\"dib ml4\">\n            <AddButton />\n          </Link>\n        )}\n        {viewAllQuery && <ViewAllLink link={`/manage/teams/${viewAllQuery ? viewAllQuery : ''}`} />}\n        <div className=\"cards-container pt4\">\n          <ReactPlaceholder customPlaceholder={nCardPlaceholders(4)} delay={10} ready={isReady}>\n            {teams?.slice(0, 6).map((team) => (\n              <TeamCard key={team.teamId} team={team} />\n            ))}\n            {teams?.length === 0 && (\n              <span className=\"blue-grey\">\n                <FormattedMessage {...messages.noTeamsFound} />\n              </span>\n            )}\n          </ReactPlaceholder>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function TeamCard({ team }: Object) {\n  return (\n    <Link to={`/teams/${team.teamId}/membership/`} className=\"no-underline\">\n      <article className=\"base-font blue-dark h-100 bg-white ph3 pb3 ba br1 shadow-hover h-100 flex flex-column justify-between b--card\">\n        <div className=\"\">\n          <h3 className=\"f4 fw6 h3 lh-title mt3 mb2 overflow-y-hidden\" title={team.name}>\n            {team.name}\n          </h3>\n          <div className=\"db h2\" title={team.organisation}>\n            <img src={team.logo} alt={team.organisation} className=\"h2\" />\n          </div>\n          <h4 className=\"f6 fw5 mb2 mt3 ttu blue-light\">\n            <FormattedMessage {...messages.managers} />\n          </h4>\n          <div className=\"db h2\">\n            <UserAvatarList\n              size=\"small\"\n              textColor=\"white\"\n              users={team.members.filter((user) => user.function === 'MANAGER' && user.active)}\n              maxLength={8}\n              totalCount={team.managersCount}\n            />\n          </div>\n          <h4 className=\"f6 fw5 mv2 ttu blue-light\">\n            <FormattedMessage {...messages.teamMembers} />\n          </h4>\n          <div className=\"db h2\">\n            <UserAvatarList\n              size=\"small\"\n              textColor=\"white\"\n              users={team.members.filter((user) => user.function !== 'MANAGER' && user.active)}\n              maxLength={8}\n              totalCount={team.membersCount}\n            />\n          </div>\n        </div>\n        <div className=\"pt3\">\n          <VisibilityBox visibility={team.visibility} extraClasses=\"pv1 ph2 dib\" />\n          <div className=\"pt2 h2\">\n            <JoinMethodBox className=\"pv1 ph2 dib\" joinMethod={team.joinMethod} />\n          </div>\n        </div>\n      </article>\n    </Link>\n  );\n}\n\nexport function TeamInformation(props) {\n  const intl = useIntl();\n  const labelClasses = 'db pt3 pb2';\n  const fieldClasses = 'blue-grey w-100 pv3 ph2 input-reset ba b--grey-light bg-transparent';\n  const formState = useFormState();\n  const joinMethods = {\n    ANY: 'anyoneCanJoin',\n    BY_REQUEST: 'byRequest',\n    BY_INVITE: 'byInvite',\n  };\n\n  return (\n    <>\n      <div className=\"cf\">\n        <label className={labelClasses}>\n          <FormattedMessage {...messages.name} />\n        </label>\n        <Field name=\"name\" component=\"input\" type=\"text\" className={fieldClasses} required />\n      </div>\n      <div className=\"cf\">\n        <label className={labelClasses}>\n          <FormattedMessage {...messages.description} />\n        </label>\n        <Field name=\"description\" component=\"textarea\" type=\"text\" className={fieldClasses} />\n      </div>\n      <div className=\"cf\">\n        <label className={labelClasses}>\n          <FormattedMessage {...messages.organisation} />\n        </label>\n        <OrganisationSelectInput name=\"organisation_id\" />\n      </div>\n      <div className=\"cf pt1\">\n        <label className={labelClasses}>\n          <FormattedMessage {...messages.joinMethod} />\n        </label>\n        {Object.keys(joinMethods).map((method) => (\n          <div className=\"pv2\" key={method}>\n            <RadioField name=\"joinMethod\" value={method} required />\n            <span className=\"f5\">\n              <FormattedMessage {...messages[joinMethods[method]]} />\n            </span>\n            <InfoIcon\n              width={12}\n              height={12}\n              className=\"blue-grey v-mid pb1 ml2\"\n              data-tip={intl.formatMessage(messages[`${joinMethods[method]}Description`])}\n            />\n            <ReactTooltip place=\"bottom\" className=\"mw6\" effect=\"solid\" />\n          </div>\n        ))}\n      </div>\n      {formState.values.joinMethod === 'BY_INVITE' && (\n        <div className=\"cf pt1\">\n          <label className={labelClasses}>\n            <FormattedMessage {...messages.visibility} />\n          </label>\n          <div className=\"pv2\">\n            <RadioField name=\"visibility\" value=\"PUBLIC\" />\n            <span className=\" f5\">\n              <FormattedMessage {...messages.public} />\n            </span>\n            <InfoIcon\n              width={12}\n              height={12}\n              className=\"blue-grey v-mid pb1 ml2\"\n              data-tip={intl.formatMessage(messages['publicDescription'])}\n            />\n          </div>\n          <div className=\"pv2\">\n            <RadioField name=\"visibility\" value=\"PRIVATE\" />\n            <span className=\"f5\">\n              <FormattedMessage {...messages.private} />\n            </span>\n            <InfoIcon\n              width={12}\n              height={12}\n              className=\"blue-grey v-mid pb1 ml2\"\n              data-tip={intl.formatMessage(messages['privateDescription'])}\n            />\n            <ReactTooltip place=\"bottom\" className=\"mw6\" effect=\"solid\" />\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport function TeamForm(props) {\n  return (\n    <Form\n      onSubmit={(values) => props.updateTeam(values)}\n      initialValues={props.team}\n      mutators={{\n        setValue: [],\n      }}\n      render={({\n        handleSubmit,\n        dirty,\n        submitSucceeded,\n        dirtySinceLastSubmit,\n        form,\n        submitting,\n        values,\n      }) => {\n        const dirtyForm = submitSucceeded ? dirtySinceLastSubmit && dirty : dirty;\n        return (\n          <div className=\"blue-grey mb3\">\n            <div className={`bg-white b--grey-light pa4 ${dirtyForm ? 'bt bl br' : 'ba'}`}>\n              <h3 className=\"f3 fw6 dib blue-dark mv0\">\n                <FormattedMessage {...messages.teamInfo} />\n              </h3>\n              <form id=\"team-form\" onSubmit={handleSubmit}>\n                <fieldset className=\"bn pa0\" disabled={submitting}>\n                  <TeamInformation joinMethod={props.team.joinMethod} />\n                </fieldset>\n              </form>\n            </div>\n            {dirtyForm && (\n              <div className=\"cf pt0 h3\">\n                <div className=\"w-70-l w-50 fl tr dib bg-grey-light\">\n                  <Button className=\"blue-dark bg-grey-light h3\" onClick={() => form.restart()}>\n                    <FormattedMessage {...messages.cancel} />\n                  </Button>\n                </div>\n                <div className=\"w-30-l w-50 h-100 fr dib\">\n                  <Button\n                    onClick={() => handleSubmit()}\n                    className=\"w-100 h-100 bg-red white\"\n                    disabledClassName=\"bg-red o-50 white w-100 h-100\"\n                  >\n                    <FormattedMessage {...messages.save} />\n                  </Button>\n                </div>\n              </div>\n            )}\n          </div>\n        );\n      }}\n    ></Form>\n  );\n}\n\nexport function TeamSideBar({ team, members, managers, requestedToJoin }: Object) {\n  const [isUserTeamManager] = useEditTeamAllowed(team);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const searchMembers = () =>\n    searchQuery !== ''\n      ? members.filter((member) => {\n          return member.username.toLowerCase().includes(searchQuery.toLowerCase());\n        })\n      : members;\n\n  return (\n    <ReactPlaceholder\n      showLoadingAnimation={true}\n      type=\"media\"\n      rows={20}\n      ready={typeof team.teamId === 'number'}\n    >\n      <div className=\"cf pb2\">\n        <div className=\"w-20 pv2 dib fl\">\n          <span className=\"blue-grey v-mid\">\n            <FormattedMessage {...messages.team} /> #{team.teamId}\n          </span>\n        </div>\n        <div className=\"w-80 dib fr tr\">\n          {isUserTeamManager && (\n            <EditButton url={`/manage/teams/${team.teamId}`}>\n              <FormattedMessage {...messages.editTeam} />\n            </EditButton>\n          )}\n          <JoinMethodBox className=\"pv2 ph3 mh1 mv1 dib\" joinMethod={team.joinMethod} />\n          <VisibilityBox visibility={team.visibility} extraClasses=\"pv2 ph3 mh1 mv1 dib\" />\n        </div>\n      </div>\n      <h3 className=\"f2 ttu blue-dark fw7 barlow-condensed v-mid ma0 dib ttu\">{team.name}</h3>\n      <p className=\"blue-grey\">{team.description}</p>\n      <div className=\"cf\">\n        <div className=\"w-100 w-50-m fl\">\n          <h4>\n            <FormattedMessage {...messages.organisation} />\n          </h4>\n          <Link\n            className=\"link blue-dark fw5 mr2 underline dib\"\n            to={`/organisations/${team.organisationSlug}`}\n          >\n            <p>\n              {typeof team.logo === 'string' && (\n                <img src={team.logo} alt=\"organisation logo\" className=\"mw4\" />\n              )}\n            </p>\n            {team.organisation}\n          </Link>\n        </div>\n        <div className=\"w-100 w-50-m fl\">\n          <h4>\n            <FormattedMessage {...messages.managers} />\n          </h4>\n          {managers.length === 0 ? (\n            <span className=\"f6 blue-grey\">\n              <FormattedMessage {...messages.noManagers} />\n            </span>\n          ) : (\n            <div className=\"cf db mt3\">\n              {managers.map((user) => (\n                <UserAvatar\n                  key={user.username}\n                  username={user.username}\n                  picture={user.pictureUrl}\n                  size=\"large\"\n                  colorClasses=\"white bg-blue-grey mv1\"\n                />\n              ))}\n            </div>\n          )}\n          <h4>\n            <FormattedMessage {...messages.members} />\n          </h4>\n          {members.length === 0 ? (\n            <span className=\"f6 blue-grey\">\n              <FormattedMessage {...messages.noMembers} />\n            </span>\n          ) : (\n            <>\n              <div className=\"cf db mt3\">\n                <div className=\"mb3 w5\">\n                  <TextField\n                    value={searchQuery}\n                    placeholderMsg={messages.searchMembers}\n                    onChange={({ target: { value } }) => setSearchQuery(value)}\n                    onCloseIconClick={() => setSearchQuery('')}\n                  />\n                </div>\n                {searchMembers().map((user) => (\n                  <UserAvatar\n                    key={user.username}\n                    username={user.username}\n                    picture={user.pictureUrl}\n                    colorClasses=\"white bg-blue-grey mv1\"\n                  />\n                ))}\n              </div>\n            </>\n          )}\n          <div className=\"cf db mt3\">\n            {requestedToJoin && (\n              <span className=\"red pr5-ns\">\n                <FormattedMessage {...messages.waitingApproval} />\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n    </ReactPlaceholder>\n  );\n}\n\nexport function TeamsBoxList({ teams }: Object) {\n  const mappingTeams = teams.filter((team) => team.role === 'MAPPER');\n  const validationTeams = teams.filter((team) => team.role === 'VALIDATOR');\n  return (\n    <div className=\"flex flex-column flex-row-l gap-1\">\n      {mappingTeams.length > 0 && (\n        <div className=\"w-100 w-30-l\">\n          <h4 className=\"mb1 fw6 mt0\">\n            <FormattedMessage {...messages.mappingTeams} />\n          </h4>\n          <div>\n            {mappingTeams.map((team) => (\n              <TeamBox key={team.teamId} team={team} className=\"dib pv2 ph3 mt2 ba f6 tc\" />\n            ))}\n          </div>\n        </div>\n      )}\n      {validationTeams.length > 0 && (\n        <div className=\"w-100 w-30-l\">\n          <h4 className=\"mb1 fw6 mt0\">\n            <FormattedMessage {...messages.validationTeams} />\n          </h4>\n          {validationTeams.map((team) => (\n            <TeamBox key={team.teamId} team={team} className=\"dib pv2 ph3 mt2 ba f6 tc\" />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport const TeamBox = ({ team, className }: Object) => (\n  <Link className=\"link blue-grey mr2\" to={`/teams/${team.teamId}/membership/`}>\n    <div className={`br1 ${className}`}>\n      {team.logo && (\n        <img alt={team.organisation} src={team.logo} className=\"object-fit-contain h2 pr2 v-mid\" />\n      )}\n      {team.name}\n    </div>\n  </Link>\n);\n","import React, { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router-dom';\n\nimport messages from './messages';\nimport { RelativeTimeWithUnit } from '../../utils/formattedRelativeTime';\nimport ProjectProgressBar from './projectProgressBar';\nimport { DifficultyMessage } from '../mappingLevel';\nimport { ProjectStatusBox } from '../projectDetail/statusBox';\nimport { PROJECTCARD_CONTRIBUTION_SHOWN_THRESHOLD } from '../../config/index';\nimport { PriorityBox } from './priorityBox';\nimport { DueDateBox } from './dueDateBox';\nimport './styles.scss';\n\nexport function ProjectTeaser({\n  lastUpdated,\n  totalContributors,\n  className,\n  littleFont = 'f7',\n  bigFont = 'f6',\n}: Object) {\n  /* outerDivStyles must have f6 even if sub-divs have f7 to fix grid issues*/\n  const outerDivStyles = 'f6 tl blue-grey truncate mb2';\n\n  if (totalContributors < PROJECTCARD_CONTRIBUTION_SHOWN_THRESHOLD) {\n    return (\n      <div title={lastUpdated} className={`${outerDivStyles} ${className || ''}`}>\n        <span className={littleFont}>\n          <FormattedMessage {...messages['projectLastContribution']} />{' '}\n          <RelativeTimeWithUnit date={lastUpdated} />\n        </span>\n      </div>\n    );\n  } else {\n    return (\n      <div title={lastUpdated} className={`${outerDivStyles} ${className || ''}`}>\n        <span className={`${littleFont}`}>\n          <FormattedMessage\n            {...messages['projectTotalContributors']}\n            values={{\n              number: <span className={`blue-grey b ${bigFont}`}>{totalContributors || 0}</span>,\n            }}\n          />\n        </span>\n      </div>\n    );\n  }\n}\n\nexport function ProjectCard({\n  projectId,\n  name,\n  shortDescription,\n  organisationName,\n  organisationLogo,\n  lastUpdated,\n  dueDate,\n  priority,\n  status,\n  difficulty,\n  campaignTag,\n  percentMapped,\n  percentValidated,\n  totalContributors,\n  showBottomButtons = false,\n}: Object) {\n  const [isHovered, setHovered] = useState(false);\n  const linkCombo = 'link pa2 f6 ba b--grey-light di w-50 truncate tc';\n\n  const showBottomButtonsHovered = showBottomButtons === true ? isHovered : false;\n  const bottomButtonSpacer = showBottomButtons ? 'pt3 pb4' : 'pv3';\n  const bottomButtonMargin = showBottomButtons ? 'project-card-with-btn' : 'project-card';\n\n  const bottomButtons = (\n    <div className=\"absolute bottom-0 w-100\">\n      <Link\n        to={`/manage/projects/${projectId}`}\n        className={`fl bg-grey-light blue-grey bn ${linkCombo}`}\n      >\n        <FormattedMessage {...messages.editProject} />\n      </Link>\n      <Link to={`/projects/${projectId}/tasks`} className={`fr bg-red white bn ${linkCombo}`}>\n        <FormattedMessage {...messages.projectTasks} />\n      </Link>\n    </div>\n  );\n\n  return (\n    <article\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n      className={`relative blue-dark`}\n    >\n      <Link className=\"no-underline color-inherit\" to={`/projects/${projectId}`}>\n        <div\n          className={`${bottomButtonSpacer} ba br1 bg-white shadow-hover h-100 flex flex-column justify-between b--card ${bottomButtonMargin}`}\n        >\n          <div>\n            <div className=\"flex justify-between items-center\">\n              <div className=\"red\">\n                <img\n                  className=\"h2\"\n                  src={organisationLogo}\n                  alt={organisationLogo ? organisationName : ''}\n                />\n              </div>\n              <div className=\"\">\n                {['DRAFT', 'ARCHIVED'].includes(status) ? (\n                  <ProjectStatusBox status={status} className={'pv1 ph1 dib'} />\n                ) : (\n                  <PriorityBox\n                    priority={priority}\n                    extraClasses={'pv1 ph2 dib'}\n                    showIcon={!['URGENT', 'MEDIUM'].includes(priority)} // inside the cards, don't show the icon for urgent or medium, due to the space required\n                  />\n                )}\n              </div>\n            </div>\n            <div className=\"mt4 w-100\">\n              <div className=\"f7 blue-grey\">#{projectId}</div>\n              <h3\n                title={name}\n                className=\"mt3 f125 fw7 lh-title overflow-y-hidden pr4 project-title\"\n              >\n                {name}\n              </h3>\n              <div className=\"tc f6\">\n                <div className=\"w-100 tl pr2 f7 blue-grey dib mb2 project-desc\">\n                  {shortDescription} {campaignTag ? '  ' + campaignTag : ''}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div>\n            <ProjectTeaser totalContributors={totalContributors} lastUpdated={lastUpdated} />\n            <ProjectProgressBar percentMapped={percentMapped} percentValidated={percentValidated} />\n            <div className=\"pt2 truncate flex justify-between items-center\">\n              <DifficultyMessage\n                level={difficulty}\n                className=\"fl f7 pv2 ttc fw5 blue-grey truncate\"\n              />\n              <DueDateBox dueDate={dueDate} />\n            </div>\n          </div>\n        </div>\n      </Link>\n      {showBottomButtonsHovered && bottomButtons}\n    </article>\n  );\n}\n","import React from 'react';\nimport { TextBlock, RoundShape } from 'react-placeholder/lib/placeholders';\n\nexport const projectCardPlaceholderTemplate = () => (_, i) =>\n  (\n    <div\n      className={`ph3 ba br1 b--grey-light bg-white shadow-hover h-100 flex flex-column justify-between project-card`}\n      key={i}\n    >\n      <div className=\"\">\n        <div className=\"flex justify-between items-center mb4\">\n          <RoundShape\n            className=\"show-loading-animation\"\n            color=\"#DDD\"\n            style={{ width: 50, height: 50 }}\n          />\n          <TextBlock\n            rows={1}\n            className=\"show-loading-animation\"\n            color=\"#CCC\"\n            style={{ width: 60 }}\n          />\n        </div>\n        <TextBlock rows={3} className=\"show-loading-animation mb4\" color=\"#CCC\" />\n        <TextBlock\n          rows={2}\n          className=\"show-loading-animation\"\n          color=\"#CCC\"\n          style={{ height: 35 }}\n        />\n      </div>\n      <TextBlock rows={2} className=\"show-loading-animation mb4\" color=\"#CCC\" />\n    </div>\n  );\n\nexport const nCardPlaceholders = (N) => {\n  return [...Array(N).keys()].map(projectCardPlaceholderTemplate());\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\nimport ReactPlaceholder from 'react-placeholder';\n\nimport messages from './messages';\nimport { ProjectCard } from '../projectCard/projectCard';\nimport { AddButton, ViewAllLink } from './management';\nimport { nCardPlaceholders } from '../projectCard/nCardPlaceholder';\n\nexport function Projects({\n  projects,\n  viewAllEndpoint,\n  ownerEntity,\n  showAddButton = false,\n  showManageButtons = true,\n  border = true,\n}: Object) {\n  return (\n    <div className={`bg-white mb3 ${border ? 'b--grey-light ba pa4' : ''}`}>\n      <h3 className=\"f3 barlow-condensed ttu blue-dark mv0 fw6 dib v-mid\">\n        <FormattedMessage {...messages.projects} />\n      </h3>\n      {showAddButton && (\n        <Link to={'/manage/projects/new/'} className=\"dib ml4\">\n          <AddButton />\n        </Link>\n      )}\n      <ViewAllLink link={viewAllEndpoint} />\n      <div className=\"pt4 cards-container\">\n        <ReactPlaceholder\n          customPlaceholder={nCardPlaceholders(4)}\n          showLoadingAnimation={true}\n          delay={10}\n          ready={projects?.results}\n        >\n          {projects?.results?.slice(0, 6).map((card) => (\n            <ProjectCard key={card.projectId} showBottomButtons={showManageButtons} {...card} />\n          ))}\n          {projects?.results?.length === 0 && (\n            <span className=\"blue-grey\">\n              <FormattedMessage\n                {...messages.noProjectsFound}\n                values={{\n                  entity: (\n                    <span className=\"ttl\">\n                      <FormattedMessage {...messages[ownerEntity]} />\n                    </span>\n                  ),\n                }}\n              />\n            </span>\n          )}\n        </ReactPlaceholder>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useLocation, Link } from 'react-router-dom';\n\nexport function SectionMenu({ items }: Object) {\n  const location = useLocation();\n  const linkCombo = 'link mh2 blue-dark ttc';\n\n  const isActive = (href) => location.pathname === href.split('?')[0];\n\n  return (\n    <div className=\"cf mb2 pb3 pt3-ns ph4 ph2-m bg-grey-light dib\">\n      {items.map((item) => (\n        <Link\n          key={item.url}\n          to={item.url}\n          className={isActive(item.url) ? `${linkCombo} bb b--blue-dark bw1 pb1` : linkCombo}\n        >\n          <span className=\"db dib-ns\">{item.label}</span>\n        </Link>\n      ))}\n    </div>\n  );\n}\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\nimport { SectionMenu } from '../menu';\n\nexport function ManagementMenu({ isAdmin }: Object) {\n  let links = [\n    'projects',\n    'organisations',\n    'teams',\n    'campaigns',\n    'categories',\n    'users',\n    'licenses',\n  ];\n  // non admin users can only see the three first items\n  if (!isAdmin) {\n    links = links.slice(0, 3);\n  }\n  let items = links.map((item) => ({\n    url: `/manage/${item}/${\n      item === 'projects' ? '?status=PUBLISHED&managedByMe=1&action=any' : ''\n    }`,\n    label: <FormattedMessage {...messages[item]} />,\n  }));\n  items.push({\n    url: '/manage/stats/',\n    label: <FormattedMessage {...messages.statistics} />,\n  });\n  items.unshift({\n    url: '/manage',\n    label: <FormattedMessage {...messages.overview} />,\n  });\n\n  return <SectionMenu items={items} />;\n}\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { FormattedMessage } from 'react-intl';\nimport { Outlet, useLocation, useNavigate } from 'react-router-dom';\n\nimport messages from './messages';\nimport { useFetch } from '../hooks/UseFetch';\nimport { Projects } from '../components/teamsAndOrgs/projects';\nimport { Teams } from '../components/teamsAndOrgs/teams';\nimport { ManagementMenu } from '../components/teamsAndOrgs/menu';\nimport { useSetTitleTag } from '../hooks/UseMetaTags';\n\nexport function ManagementPageIndex() {\n  useSetTitleTag('Manage');\n  const userDetails = useSelector((state) => state.auth.userDetails);\n  const [projectsError, projectsLoading, projects] = useFetch(\n    `projects/?managedByMe=true&omitMapResults=true`,\n  );\n  const [teamsError, teamsLoading, teams] = useFetch(\n    `teams/?manager=${userDetails.id}&fullMemberList=false&paginate=true&perPage=6`,\n    userDetails.id !== undefined,\n  );\n\n  return (\n    <>\n      <Projects\n        projects={!projectsLoading && !projectsError && projects}\n        viewAllEndpoint=\"/manage/projects/?managedByMe=1&action=any\"\n        showAddButton={true}\n        ownerEntity=\"user\"\n      />\n      <Teams\n        isReady={!teamsLoading && !teamsError}\n        teams={teams.teams}\n        viewAllQuery={`?manager=${userDetails.id}`}\n        showAddButton={true}\n      />\n    </>\n  );\n}\n\nexport const ManagementSection = (props) => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const userDetails = useSelector((state) => state.auth.userDetails);\n  const token = useSelector((state) => state.auth.token);\n  const isOrgManager = useSelector(\n    (state) => state.auth.organisations && state.auth.organisations.length > 0,\n  );\n\n  useEffect(() => {\n    if (!token) {\n      navigate('/login', {\n        state: {\n          from: location.pathname,\n        },\n      });\n    }\n  }, [location.pathname, navigate, token]);\n\n  return (\n    <>\n      {isOrgManager ||\n      userDetails.role === 'ADMIN' ||\n      location.pathname.startsWith('/manage/teams/') ||\n      location.pathname.startsWith('/manage/projects/') ? (\n        <div className=\"w-100 ph5-l pb5-l pb2-m ph2-m cf bg-tan blue-dark\">\n          {(isOrgManager || userDetails.role === 'ADMIN') && (\n            <ManagementMenu isAdmin={userDetails && userDetails.role === 'ADMIN'} />\n          )}\n          <div className=\"ph0-ns ph2\">\n            <Outlet />\n          </div>\n        </div>\n      ) : (\n        <div className=\"cf w-100 pv5\">\n          <div className=\"tc\">\n            <h3 className=\"f3 fw8 mb4 barlow-condensed\">\n              <FormattedMessage {...messages.sectionNotAllowed} />\n            </h3>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n"],"sourceRoot":""}