(this["webpackJsonpTaskingManager-frontend"]=this["webpackJsonpTaskingManager-frontend"]||[]).push([[817],{1924:function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return i}));s(1);var a=s(30),c=s(55),l=s(0);const n=e=>{const{level:t,...s}=e,n=["ALL","BEGINNER","INTERMEDIATE","ADVANCED"].includes(t)?Object(l.jsx)(a.a,{...c.a["mappingLevel".concat(t)]}):t;return Object(l.jsx)("span",{...s,children:n})},i=e=>{const{level:t,...s}=e,n=["ALL","EASY","MODERATE","CHALLENGING"].includes(t)?Object(l.jsx)(a.a,{...c.a["difficulty".concat(t)]}):t;return Object(l.jsx)("span",{...s,children:n})}},1976:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s(9);function c(e,t){let s=[{label:"RapiD",value:"RAPID",url:a.P},{label:"iD Editor",value:"ID",url:a.n},{label:"JOSM",value:"JOSM",url:"http://127.0.0.1:8111"},{label:"Potlatch 2",value:"POTLATCH_2",url:a.N},{label:"Field Papers",value:"FIELD_PAPERS",url:"http://fieldpapers.org/compose"}];return e&&(s=s.filter((t=>e.includes(t.value)))),t&&e.includes("CUSTOM")&&s.push({label:t.name,value:"CUSTOM",url:t.url}),s}},1989:function(e,t,s){"use strict";s.d(t,"b",(function(){return d})),s.d(t,"a",(function(){return j}));s(1);var a=s(20),c=s(30),l=s(42),n=s(172),i=s(0);function r(e){let{completeness:t}=e;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"cf db pt1 flex items-center",children:[Object(i.jsxs)("div",{className:"w-90 pr3 fl relative",children:[Object(i.jsx)("div",{className:"absolute bg-red br-pill hhalf hide-child",style:{width:"".concat(100*t.toPrecision(3),"%")}}),Object(i.jsx)("div",{className:"bg-tan br-pill hhalf hide-child overflow-y-hidden"})]}),Object(i.jsx)("div",{className:"w-10 fl pl1 fw7",children:Object(i.jsx)(a.a,{value:t,maximumFractionDigits:0,style:"percent"})})]})})}function d(e){return n.a.filter((t=>e[t])).length/n.a.length}function j(e){let{userDetails:t}=e;const s=d(t);return Object(i.jsxs)("div",{className:"bg-white ph3 pv3 mr4",children:[Object(i.jsx)("h3",{className:"blue-dark f4 ma0 fw7",children:Object(i.jsx)(c.a,{...l.a.completenessTitle})}),Object(i.jsxs)("p",{className:"blue-grey mt2",children:[0===s&&Object(i.jsx)(c.a,{...l.a.completenessLead0}),s>0&&s<1&&Object(i.jsx)(c.a,{...l.a.completenessLead1}),1===s&&Object(i.jsx)(c.a,{...l.a.completenessLead2})]}),Object(i.jsx)(r,{completeness:s})]})}},2038:function(e,t,s){"use strict";s.d(t,"a",(function(){return h})),s.d(t,"b",(function(){return O}));s(1);var a=s(10),c=s(20),l=s(30),n=s(92),i=s.n(n),r=s(118),d=s(42),j=s(106),b=s(1989),o=s(1924),u=s(9),m=s(0);function h(e){let t,s,{changesetsCount:a}=e;return a=Number(a),a<u.p?(t=Object(m.jsx)(c.a,{value:u.p}),s=Object(m.jsx)(o.b,{level:"INTERMEDIATE",className:"ttl "})):a<u.a&&(t=Object(m.jsx)(c.a,{value:u.a}),s=Object(m.jsx)(o.b,{level:"ADVANCED",className:"ttl"})),s?Object(m.jsx)("span",{className:"blue-grey",children:Object(m.jsx)(l.a,{...d.a.nextLevel,className:"blue-grey",values:{changesets:Object(m.jsx)("span",{className:"blue-dark f4 fw6",children:Object(m.jsx)(c.a,{value:a})}),nextLevelThreshold:Object(m.jsx)("span",{className:"blue-dark f4",children:t}),level:s}})}):""}function O(){const e=Object(a.d)((e=>e.auth.userDetails)),t=Object(a.d)((e=>e.auth.osm)),s=Object(m.jsxs)("div",{className:"pl2 dib",children:[Object(m.jsx)(r.TextRow,{style:{width:150,height:"2.3em"},color:"#eee"}),Object(m.jsx)(r.TextRow,{style:{width:150,height:"1em"},color:"#eee"}),Object(m.jsx)(r.TextRow,{style:{width:150,height:"1em"},color:"#eee"})]});return Object(m.jsxs)("div",{className:"cf ph4 pv4 mb2",children:[Object(m.jsxs)("div",{className:"w-100 w-75-l fl flex flex-column flex-row-ns items-center tc tl-ns",children:[Object(m.jsx)("div",{className:"fl dib mr3",children:Object(m.jsx)(j.a,{className:"h4 w4 br-100 pa1 ba b--grey-light bw3 red"})}),Object(m.jsx)(i.a,{showLoadingAnimation:!0,customPlaceholder:s,delay:500,ready:void 0!==e&&void 0!==t,children:Object(m.jsxs)("div",{className:"pl2 dib lh-solid mt3 mt0-ns",children:[Object(m.jsx)("h3",{className:"ttu fw5 mv0 barlow-condensed username-heading",children:e.name||e.username}),Object(m.jsx)("p",{className:"f4 blue-dark mv3 fw5",children:Object(m.jsx)(o.b,{level:e.mappingLevel})}),Object(m.jsx)(h,{changesetsCount:t?t.changesetCount:0})]})})]}),Object(m.jsx)("div",{className:"w-100 w-25-l fl dn db-ns",children:Object(m.jsx)(b.a,{userDetails:e})})]})}},2113:function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var a=s(1),c=s(10),l=s(30),n=s(42),i=s(32),r=s(80),d=s(29),j=s(0);function b(){const e=Object(c.d)((e=>e.auth.token)),t=Object(c.d)((e=>e.auth.userDetails)),[s,b]=Object(a.useState)([]),[o,u]=Object(a.useState)(!1),[m,h]=Object(a.useState)(null);Object(a.useEffect)((()=>{t.username&&(async t=>{const s=await Object(d.b)("users/".concat(t,"/queries/interests/"),e);b(s.interests)})(t.username)}),[e,t]);return Object(j.jsxs)("div",{className:"cf bg-white b--card ba br1 pa4 mb4",children:[Object(j.jsx)("h3",{className:"f3 blue-dark mt0 fw7 mb0 lh-solid",children:Object(j.jsx)(l.a,{...n.a.interestsH3})}),Object(j.jsx)("p",{className:"blue-grey ma0 mt2 mb3",children:Object(j.jsx)(l.a,{...n.a.interestsLead})}),Object(j.jsx)(r.c,{interests:s,field:"userSelected",changeSelect:e=>{const t=s.findIndex((t=>t.id===e)),a=s.map(((e,s)=>(s===t&&(e.userSelected=!e.userSelected),e)));u(!0),h(null),b(a)}}),!0===m&&Object(j.jsx)("span",{className:"blue-dark bg-grey-light pa2 db",children:Object(j.jsx)(l.a,{...n.a.interestsUpdateSuccess})}),!1===m&&Object(j.jsx)("span",{className:"bg-red white pa2 db",children:Object(j.jsx)(l.a,{...n.a.interestsUpdateError})}),Object(j.jsx)(i.b,{onClick:()=>{(s=>{Object(d.d)("users/me/actions/set-interests/",JSON.stringify({interests:s,id:t.id}),e).then((e=>{h(!0),u(!1)})).catch((e=>h(!1)))})(s.filter((e=>!0===e.userSelected)).map((e=>e.id)))},className:"".concat(o?"bg-blue-dark":"bg-grey-light"," white mv3 dib settings-width"),disabled:!o,children:Object(j.jsx)(l.a,{...n.a.save})})]})}},2140:function(e,t,s){"use strict";s.d(t,"a",(function(){return O})),s.d(t,"d",(function(){return f})),s.d(t,"e",(function(){return x})),s.d(t,"c",(function(){return p})),s.d(t,"b",(function(){return N}));s(1);var a=s(10),c=s(23),l=s(30),n=s(151),i=s(20),r=s(125),d=s(92),j=s.n(d),b=s(9),o=s(42),u=s(13),m=s(2113),h=s(0);function O(e){let{token:t}=e;const s=Object(h.jsx)("a",{className:"link red underline-hover",href:"/api-docs/",target:"_blank",children:Object(h.jsx)(l.a,{...o.a.apiDocs})});return Object(h.jsxs)("div",{className:"cf bg-white b--card ba br1 pa4 mb3",children:[Object(h.jsx)("h3",{className:"f3 blue-dark mt0 fw7",children:Object(h.jsx)(l.a,{...o.a.apiKey})}),Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsxs)("p",{className:"f5 di bg-tan blue-grey pa2 break-all-word ma0",children:["Token ",t]}),Object(h.jsx)("span",{className:"pointer pl2 blue-light hover-blue-dark di",title:"Copy Token",children:Object(h.jsx)(u.l,{width:"18px",height:"18px",onClick:()=>navigator.clipboard.writeText("Token ".concat(t))})})]}),Object(h.jsx)("p",{className:"f5 blue-grey pt2 lh-base mt2",children:Object(h.jsx)(l.a,{...o.a.apiKeyDescription,values:{link:s}})})]})}function f(e){let{username:t}=e;const s=Object(a.d)((e=>e.auth.osm)),{value:c,unit:d}=Object(r.a)(s?new Date(s.accountCreated):new Date);return Object(h.jsxs)("div",{className:"cf bg-white b--card ba br1 pa4 mb3",children:[Object(h.jsx)("h3",{className:"f3 blue-dark mt0 fw7",children:Object(h.jsx)(l.a,{...o.a.osmCardTitle})}),Object(h.jsxs)("div",{className:"cf",children:[Object(h.jsxs)("div",{className:"w-100 w-50-ns fl mb3",children:[Object(h.jsx)("h4",{className:"ttu blue-grey f6 fw5 mt1 mb0 lh-base",children:Object(h.jsx)(l.a,{...o.a.joinedOSM})}),Object(h.jsx)("div",{title:s&&s.accountCreated,className:"f4 blue-dark fw7 mv2",children:Object(h.jsx)(j.a,{showLoadingAnimation:!0,rows:1,delay:100,ready:"undefined"!==typeof s,children:Object(h.jsx)(n.a,{value:c,unit:d})})})]}),Object(h.jsxs)("div",{className:"w-100 w-50-ns fl mb3",children:[Object(h.jsx)("h4",{className:"ttu blue-grey f6 fw5 mt1 mb0 lh-base",children:Object(h.jsx)(l.a,{...o.a.totalChangesets})}),Object(h.jsx)("div",{className:"f4 blue-dark fw8 mv2",children:Object(h.jsx)(j.a,{showLoadingAnimation:!0,rows:1,delay:100,ready:"undefined"!==typeof s,children:Object(h.jsx)(i.a,{value:s?s.changesetCount:0})})})]})]}),Object(h.jsxs)("div",{className:"cf pt1",children:[Object(h.jsx)("div",{className:"w-100 w-50-ns fl",children:Object(h.jsx)("a",{className:"link red pb2 fw5 underline-hover",href:"".concat(b.M,"/user/").concat(t,"/account"),target:"_blank",rel:"noopener noreferrer",children:Object(h.jsx)(l.a,{...o.a.editOSMProfile})})}),Object(h.jsx)("div",{className:"w-100 w-50-ns fl mt2 mt0-ns",children:Object(h.jsx)("a",{className:"link red pb2 fw5 underline-hover",href:'https://osmcha.org/?filters={"users":[{"label":"'.concat(t,'","value":"').concat(t,'"}]}'),target:"_blank",rel:"noopener noreferrer",children:Object(h.jsx)(l.a,{...o.a.osmHistory})})})]})]})}function x(){return Object(h.jsxs)("div",{className:"cf bg-white shadow-4 pa4 mb3",children:[Object(h.jsx)("h3",{className:"f2 mt0 fw6",children:Object(h.jsx)(l.a,{...o.a.welcomeTitle})}),Object(h.jsx)(m.a,{})]})}function p(){return Object(h.jsxs)("div",{className:"cf bg-white shadow-4 pa4",children:[Object(h.jsx)("h3",{className:"mt0",children:Object(h.jsx)(l.a,{...o.a.helpTitle})}),Object(h.jsxs)("p",{children:[Object(h.jsx)(c.a,{to:"/learn/map",className:"link red mr4",children:Object(h.jsx)(l.a,{...o.a.howToMap})}),Object(h.jsx)(c.a,{to:"/learn/quickstart",className:"link red mr4",children:Object(h.jsx)(l.a,{...o.a.quickStart})}),Object(h.jsx)("a",{href:"https://learnosm.org/en/beginner/start-osm/",target:"_blank",rel:"noopener noreferrer",className:"link red",children:Object(h.jsx)(l.a,{...o.a.whatIsOSM})})]})]})}function N(){return Object(h.jsx)("div",{className:"bg-white shadow-4 tc",children:Object(h.jsxs)("div",{className:"pa4",children:[Object(h.jsx)(u.S,{className:"red"}),Object(h.jsx)("h3",{className:"f2 fw8 mt2 mb4",children:Object(h.jsx)(l.a,{...o.a.firstProjectTitle})}),Object(h.jsxs)("div",{className:"lh-solid blue-grey f4",children:[Object(h.jsx)("p",{className:"mv3",children:Object(h.jsx)(l.a,{...o.a.firstProjectText1})}),Object(h.jsx)("p",{className:"mv3",children:Object(h.jsx)(l.a,{...o.a.firstProjectText2})}),Object(h.jsx)("p",{className:"mv3 mw6",style:{marginLeft:"auto",marginRight:"auto"},children:Object(h.jsx)(l.a,{...o.a.firstProjectText3})})]})]})})}},2356:function(e,t,s){"use strict";s.r(t),s.d(t,"Settings",(function(){return I}));var a=s(1),c=s(10),l=s(6),n=s(2038),i=s(2140),r=s(172),d=s(23),j=s(30),b=s(107),o=s(42),u=s(32),m=s(0);const h=e=>Object(m.jsxs)("div",{className:"cf pb4",children:[Object(m.jsx)("label",{className:"db blue-dark f125 fw6 lh-solid mb2",children:Object(m.jsx)(j.a,{...o.a[e.labelId]})}),Object(m.jsxs)("div",{className:"flex items-center justify-between ".concat(e.isDropdown?"flex-row-ns flex-column":""),children:[Object(m.jsx)("p",{className:"ma0 lh-base blue-grey mr4",children:Object(m.jsx)(j.a,{...o.a[e.descriptionId]})}),Object(m.jsx)("div",{className:"w-100 w-40-m w-30-l pb4 pb0-ns fl tr-ns mt3 mt0-ns",children:e.children})]})]});var O=s(80),f=s(36);const x=Object(c.b)((e=>({userDetails:e.auth.userDetails,token:e.auth.token})),{pushUserDetails:f.c})((function(e){const[t,s]=Object(a.useState)(null);Object(a.useEffect)((()=>{null===t&&e.userDetails.hasOwnProperty(e.fieldName)&&s(e.userDetails[e.fieldName])}),[t,e.userDetails,e.fieldName]);let c=t;return void 0!==c&&null!==c||!e.hasOwnProperty("default")||(c=e.default),Object(m.jsx)("div",{className:"fr ".concat(e.removeVerticalPadding?"":"pv2"," dib"),children:Object(m.jsx)(O.h,{onChange:a=>(()=>{let a={id:e.userDetails.id};a[e.fieldName]=!t,e.pushUserDetails(JSON.stringify(a),e.token,!0),s(!t)})(),isChecked:c})})}));var p=s(194),N=s(1976);const v=e=>({userDetails:e.auth.userDetails,token:e.auth.token});const w=Object(c.b)(v,{pushUserDetails:f.c})((function(e){const[t,s]=Object(a.useState)(null);return Object(a.useEffect)((()=>{null===t&&e.userDetails.hasOwnProperty("defaultEditor")&&s(e.userDetails.defaultEditor)}),[t,e.userDetails]),Object(m.jsx)("div",{className:"settings-width ml-auto",children:Object(m.jsx)(b.a,{classNamePrefix:"react-select",onChange:t=>(t=>{if(1===t.length)s(t[0].value),e.pushUserDetails(JSON.stringify({defaultEditor:t[0].value,id:e.userDetails.id}),e.token,!0);else if(t.length>1)throw new Error("filter select array is big")})([t]),options:Object(N.a)(),placeholder:Object(m.jsx)(j.a,{...o.a.selectDefaultEditor}),value:Object(N.a)().find((e=>e.value===t))})})}));const g=Object(c.b)(v)((function(e){return Object(m.jsxs)("div",{className:"bg-white b--card ba br1 pa4 mb4",children:[Object(m.jsx)("h3",{className:"f3 blue-dark mt0 fw7",children:Object(m.jsx)(j.a,{...o.a.settings})}),Object(m.jsxs)("div",{className:"blue-grey",children:[Object(m.jsx)(h,{labelId:"expertMode",descriptionId:"expertModeDescription",children:Object(m.jsx)(x,{fieldName:"isExpert",default:!1,removeVerticalPadding:!0})}),Object(m.jsx)(h,{labelId:"defaultEditor",descriptionId:"defaultEditorDescription",isDropdown:!0,children:Object(m.jsx)(w,{})}),Object(m.jsx)(h,{labelId:"language",descriptionId:"languageDescription",isDropdown:!0,children:Object(m.jsx)(p.a,{fullWidth:!0,removeBorder:!1})}),"MAPPER"===e.userDetails.role&&Object(m.jsx)(h,{labelId:"becomeValidator",descriptionId:"becomeValidatorDescription",isDropdown:!0,children:Object(m.jsx)(d.a,{to:"/learn/validate",children:Object(m.jsx)(u.b,{className:"bg-blue-dark white dib settings-width",children:Object(m.jsx)(j.a,{...o.a.learnHow})})})})]})]})}));function k(e){return Object(m.jsxs)("div",{id:"notifications",className:"bg-white b--card ba br1 pa4 mb4",children:[Object(m.jsx)("h3",{className:"f3 blue-dark mt0 fw7",children:Object(m.jsx)(j.a,{...o.a.notifications})}),Object(m.jsx)("div",{className:"blue-grey",children:[{labelId:"mentions",descriptionId:"mentionsDescription",fieldName:"mentionsNotifications",default:!0},{labelId:"teamUpdates",descriptionId:"teamUpdatesDescription",fieldName:"teamsAnnouncementNotifications",default:!1},{labelId:"taskUpdates",descriptionId:"taskUpdatesDescription",fieldName:"tasksNotifications",default:!0},{labelId:"projectUpdates",descriptionId:"projectUpdatesDescription",fieldName:"projectsNotifications",default:!0},{labelId:"questionsAndComments",descriptionId:"questionsAndCommentsDescription",fieldName:"questionsAndCommentsNotifications",default:!1},{labelId:"taskComments",descriptionId:"taskCommentsDescription",fieldName:"taskCommentsNotifications",default:!1}].map((e=>Object(m.jsx)(h,{labelId:e.labelId,descriptionId:e.descriptionId,children:Object(m.jsx)(x,{fieldName:e.fieldName,default:e.default,removeVerticalPadding:!0})},e.labelId)))})]})}var D=s(2113),y=s(164);function I(){Object(y.b)("Settings");const e=Object(l.q)(),t=Object(c.d)((e=>e.auth.token)),s=Object(c.d)((e=>e.auth.userDetails));return Object(a.useEffect)((()=>{t||e("/login")}),[e,t]),Object(m.jsxs)("div",{className:"pull-center",children:[Object(m.jsx)(n.b,{}),Object(m.jsxs)("div",{className:"cf pa4 pb5 bg-blue-light-paper",children:[Object(m.jsxs)("div",{className:"fl w-100 w-60-l pb3 pr3-l",children:[Object(m.jsx)(D.a,{}),Object(m.jsx)(g,{}),Object(m.jsx)(k,{}),s.isExpert&&Object(m.jsx)(i.a,{token:t})]}),Object(m.jsxs)("div",{className:"fl w-100 w-40-l pb3 pl3-l",children:[Object(m.jsx)(r.b,{}),(null===s||void 0===s?void 0:s.username)&&Object(m.jsx)(i.d,{username:s.username})]})]})]})}}}]);
//# sourceMappingURL=settings.3709a2f2.chunk.js.map