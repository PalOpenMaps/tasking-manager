/*! For license information please see teams.4d387140.chunk.js.LICENSE.txt */
(this["webpackJsonpTaskingManager-frontend"]=this["webpackJsonpTaskingManager-frontend"]||[]).push([[823,5,813],{1914:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c}));var a=r(30),n=r(13),s=r(62),i=r(0);const o=e=>{let{type:t="info",compact:r=!1,inline:a=!1,iconClassName:s,children:o}=e;const c={info:n.I,success:n.g,warning:n.a,error:n.c}[t];return Object(i.jsxs)("div",{className:"".concat(a?"di":"db"," blue-dark bl bw2 br2 ").concat(r?"pa2":"pa3"," ").concat({info:"b--blue bg-lightest-blue",success:"b--dark-green bg-washed-green",warning:"b--gold bg-washed-yellow",error:"b--dark-red bg-washed-red"}[t]),children:[Object(i.jsx)(c,{className:"h1 w1 v-top mr2 ".concat({info:"blue",success:"dark-green",warning:"gold",error:"dark-red"}[t]," ").concat(s||"")}),o]})};function c(e){let{entity:t,action:r="creation"}=e;const n="updation"===r?"entityInfoUpdationFailure":"entityCreationFailure";return Object(i.jsx)(o,{type:"error",children:Object(i.jsx)(a.a,{...s.a[n],values:{entity:t}})})}},1915:function(e,t,r){"use strict";var a=r(20);t.a=Object(a.b)({noProjectTeams:{id:"project.detail.teams.empty",defaultMessage:"This project doesn't have any teams associated with."},coordination:{id:"project.detail.coordination",defaultMessage:"Coordination"},projectCoordination:{id:"project.detail.coordination.description",defaultMessage:"This project is coordinated by {organisation} and was created by {user}."},createdBy:{id:"project.detail.createdBy",defaultMessage:"Project created by {user}."},noProjectContributors:{id:"project.detail.contributorCount.zero",defaultMessage:"No contributors yet"},projectTotalContributors:{id:"project.detail.contributorCount",defaultMessage:"{number, plural, one {<b>#</b> contributor} other {<b>#</b> contributors}}"},projectLastContribution:{id:"project.detail.lastContribution",defaultMessage:"Last contribution"},percentMapped:{id:"project.detail.percentMapped",defaultMessage:"Mapped"},percentValidated:{id:"project.detail.percentValidated",defaultMessage:"Validated"},projectPriorityURGENT:{id:"project.detail.projectPriorityUrgent",defaultMessage:"Urgent"},projectPriorityHIGH:{id:"project.detail.projectPriorityHigh",defaultMessage:"High"},projectPriorityMEDIUM:{id:"project.detail.projectPriorityMedium",defaultMessage:"Medium"},projectPriorityLOW:{id:"project.detail.projectPriorityLow",defaultMessage:"Low"},dueDateRelativeRemainingDays:{id:"project.detail.dueDateLeft",defaultMessage:"{daysLeftHumanize} left"},typesOfMapping:{id:"project.detail.typesOfMapping",defaultMessage:"Types of Mapping"},private:{id:"project.detail.private",defaultMessage:"Private"},editProject:{id:"project.detail.editProject",defaultMessage:"Edit project"},editor:{id:"project.detail.editor",defaultMessage:"Editor"},selectEditor:{id:"project.detail.editor.select",defaultMessage:"Select editor"},tasks:{id:"project.detail.tasks",defaultMessage:"Tasks"},instructions:{id:"project.detail.instructions",defaultMessage:"Instructions"},imagery:{id:"project.detail.imagery",defaultMessage:"Imagery"},customTMSLayer:{id:"project.detail.imagery.tms",defaultMessage:"Custom TMS Layer"},customWMSLayer:{id:"project.detail.imagery.wms",defaultMessage:"Custom WMS Layer"},customWMTSLayer:{id:"project.detail.imagery.wmts",defaultMessage:"Custom WMTS Layer"},contribute:{id:"project.selectTask.footer.button.contribute",defaultMessage:"Contribute"},readMore:{id:"project.readMoreButton",defaultMessage:"Read more"},readLess:{id:"project.readLessButton",defaultMessage:"Read less"},addToFavorites:{id:"project.detail.addToFavorites",defaultMessage:"Add to Favorites"},removeFromFavorites:{id:"project.detail.removeFromFavorites",defaultMessage:"Remove from Favorites"},noComments:{id:"project.detail.questionsAndComments.none",defaultMessage:"There are currently no questions or comments on this project. Be the first to post one!"},loginTocomment:{id:"project.detail.questionsAndComments.login",defaultMessage:"Log in to be able to post comments."},errorLoadingComments:{id:"project.detail.questionsAndComments.fetching.error",defaultMessage:"An error occured while loading questions and comments."},post:{id:"project.detail.questionsAndComments.button",defaultMessage:"Post"},share:{id:"project.detail.share",defaultMessage:"Share"},team:{id:"project.detail.team",defaultMessage:"Team"},validationTeam:{id:"project.detail.validation_team",defaultMessage:"Validation team"},teamsAndPermissions:{id:"project.detail.teams_permissions",defaultMessage:"Teams & Permissions"},author:{id:"project.detail.author",defaultMessage:"Author"},whoCanMap:{id:"project.detail.mapping_permissions",defaultMessage:"Who can map?"},whoCanValidate:{id:"project.detail.validation_permissions",defaultMessage:"Who can validate?"},zoomToTasks:{id:"project.detail.zoomToTasks",defaultMessage:"Zoom to tasks"},selectATaskCardTitle:{id:"project.detail.cards.selectATask.title",defaultMessage:"1. Select a task"},mapThroughOSMCardTitle:{id:"project.detail.cards.mapthroughosm.title",defaultMessage:"2. Map with OpenStreetMap"},submitYourWorkCardTitle:{id:"project.detail.cards.submityourwork.title",defaultMessage:"3. Submit your work"},selectATaskCardDescription:{id:"project.detail.cards.selectATask.description",defaultMessage:"Projects are divided into sets of smaller tasks and adapted to fit your skill level."},mapThroughOSMCardDescription:{id:"project.detail.cards.mapthroughosm.description",defaultMessage:"If you are new to mapping, we recommend checking the Learn page for instructions before you begin."},submitYourWorkCardDescription:{id:"project.detail.cards.submityourwork.description",defaultMessage:"Submitting your work is crucial to make sure your data is saved."},overview:{id:"project.detail.sections.overview",defaultMessage:"Overview"},dueDateTooltip:{id:"project.detail.sections.overview.dueDate",defaultMessage:"Ideal date to complete the project"},description:{id:"project.detail.sections.description",defaultMessage:"Description"},questionsAndComments:{id:"project.detail.sections.questionsAndComments",defaultMessage:"Questions and comments"},contributions:{id:"project.detail.sections.contributions",defaultMessage:"Contributions"},contributionsTimeline:{id:"project.detail.sections.contributionsTimeline",defaultMessage:"Contributions timeline"},downloadOsmData:{id:"project.detail.sections.downloadOsmData",defaultMessage:"Download OSM Data"},errorDownloadOsmData:{id:"project.detail.sections.errorDownloadOsmData",defaultMessage:"Data Extraction Unavailable"},errorDownloadOsmDataDescription:{id:"project.detail.sections.errorDownloadOsmDataDescription",defaultMessage:"The data extract you are attempting to download is currently inactive or unavailable. Please ensure that the extract is active and try again later."},viewInOsmcha:{id:"project.detail.sections.contributions.osmcha",defaultMessage:"Changesets in OSMCha"},changesets:{id:"project.detail.sections.contributions.changesets",defaultMessage:"Changesets"},contributors:{id:"project.detail.sections.contributors",defaultMessage:"Contributors"},similarProjects:{id:"project.detail.sections.similarProjects",defaultMessage:"Similar projects"},contributorsError:{id:"project.detail.sections.contributors.error",defaultMessage:"An error occured while loading contributors"},timelineNotAvailable:{id:"project.detail.sections.contributions.timelineError",defaultMessage:"A timeline is going to be available after the first task has been mapped."},status_DRAFT:{id:"project.status.draft",defaultMessage:"Draft"},status_ARCHIVED:{id:"project.status.archived",defaultMessage:"Archived"},status_PUBLISHED:{id:"project.status.published",defaultMessage:"Published"},permissions_ANY:{id:"project.permissions.any",defaultMessage:"All users"},permissions_LEVEL:{id:"project.permissions.level",defaultMessage:"Users with intermediate or advanced level"},permissions_TEAMS:{id:"project.permissions.teams",defaultMessage:"{team} members"},permissions_TEAMS_LEVEL:{id:"project.permissions.teamsAndLevel",defaultMessage:"Intermediate and advanced {team} members"},downloadProjectAOI:{id:"projects.data.download.aoi",defaultMessage:"Download AOI"},downloadTaskGrid:{id:"projects.data.download.taskGrid",defaultMessage:"Download Tasks Grid"},moreStats:{id:"projects.link.stats",defaultMessage:"More statistics"},mappedTasks:{id:"projects.stats.mapped",defaultMessage:"Mapped tasks"},validatedTasks:{id:"projects.stats.validated",defaultMessage:"Validated tasks"},shareMessage:{id:"project.share.twitter",defaultMessage:"Contribute mapping the project #{id} on {site}"},postOnFacebook:{id:"project.share.facebook",defaultMessage:"Post on Facebook"},shareOnLinkedIn:{id:"project.share.linkedin",defaultMessage:"Share on LinkedIn"},inaccessibleProjectTitle:{id:"project.inaccessible.title",defaultMessage:"You don't have permission to access this project"},inaccessibleProjectDescription:{id:"project.inaccessible.description",defaultMessage:"Please contact the project manager to request access."},exploreOtherProjects:{id:"project.inaccessible.exploreOtherProjects",defaultMessage:"Explore other projects"},noSimilarProjectsFound:{id:"project.noSimilarProjectsFound",defaultMessage:"Could not find any similar projects for this project"}})},1916:function(e,t,r){"use strict";var a=r(20);t.a=Object(a.b)({projectTotalContributors:{id:"project.card.contributorCount",defaultMessage:"{number} total contributors"},projectLastContribution:{id:"project.card.lastContribution",defaultMessage:"Last contribution"},percentMapped:{id:"project.card.percentMapped",defaultMessage:"{n}% mapped"},percentValidated:{id:"project.card.percentValidated",defaultMessage:"{n}% validated"},percentBadImagery:{id:"project.card.percentBadImagery",defaultMessage:"{n}% bad imagery"},projectPriorityURGENT:{id:"project.card.projectPriorityUrgent",defaultMessage:"Urgent"},projectPriorityHIGH:{id:"project.card.projectPriorityHigh",defaultMessage:"High"},projectPriorityMEDIUM:{id:"project.card.projectPriorityMedium",defaultMessage:"Medium"},projectPriorityLOW:{id:"project.card.projectPriorityLow",defaultMessage:"Low"},priorityDescriptionURGENT:{id:"project.card.projectPriorityUrgent.description",defaultMessage:"Urgent priority"},priorityDescriptionHIGH:{id:"project.card.projectPriorityHigh.description",defaultMessage:"High priority"},priorityDescriptionMEDIUM:{id:"project.card.projectPriorityMedium.description",defaultMessage:"Medium priority"},priorityDescriptionLOW:{id:"project.card.projectPriorityLow.description",defaultMessage:"Low priority"},dueDateRelativeRemainingDays:{id:"project.card.dueDateLeft",defaultMessage:"{daysLeftHumanize} left"},editProject:{id:"project.card.edit_project.button",defaultMessage:"Edit"},projectPage:{id:"project.card.project_page.button",defaultMessage:"Project Page"},projectTasks:{id:"project.card.project_tasks.button",defaultMessage:"Tasks"},noDueDate:{id:"project.detail.noDueDate",defaultMessage:"No due date specified"},dueDateExpired:{id:"project.detail.dueDateExpired",defaultMessage:"Due date expired"}})},1918:function(e,t,r){"use strict";var a=r(20);t.a=Object(a.b)({privacy:{id:"projects.formInputs.privacy.title",defaultMessage:"Privacy"},privateProject:{id:"projects.formInputs.privacy.field",defaultMessage:"Private project"},privacyDescription:{id:"projects.formInputs.privacy.description",defaultMessage:"Private means that only the users that are project team members can access, map or validate this project. This option overrides the mapping and validation permissions."},teams:{id:"projects.formInputs.teams.title",defaultMessage:"Teams"},teamsPermissionNote:{id:"projects.teams.teamsPermissionNote",defaultMessage:"Note: Mappers have mapping permissions. Validators have mapping and validation permissions. Project managers have mapping and validation permissions as well as the access to the management sections."},organisation:{id:"projects.formInputs.organisation.title",defaultMessage:"Organization"},campaign:{id:"projects.formInputs.campaign.title",defaultMessage:"Campaign"},categories:{id:"projects.formInputs.categories.title",defaultMessage:"Categories"},organisationDescription:{id:"projects.formInputs.organisation.description",defaultMessage:"Organization that is coordinating the project, if there is any. The managers of that organization will have administration rights over the project."},admins:{id:"projects.formInputs.admins.title",defaultMessage:"TM Admins"},selectImagery:{id:"projects.formInputs.imagery.select",defaultMessage:"Select imagery"},selectLicense:{id:"projects.formInputs.license.select",defaultMessage:"Select license"},selectOrganisation:{id:"projects.formInputs.organisation.select",defaultMessage:"Select organization"},selectCampaign:{id:"projects.formInputs.campaign.select",defaultMessage:"Select campaigns"},permissions_ANY:{id:"projects.formInputs.permissions.any",defaultMessage:"Any user"},permissions_LEVEL:{id:"projects.formInputs.permissions.level",defaultMessage:"Only users with intermediate or advanced level"},permissions_TEAMS:{id:"projects.formInputs.permissions.teams",defaultMessage:"Only team members"},permissions_TEAMS_LEVEL:{id:"projects.formInputs.permissions.teamsAndLevel",defaultMessage:"Only intermediate and advanced team members"},mappingPermissionDescription:{id:"projects.formInputs.permissions.mapping.description",defaultMessage:"Define which users can map this project."},validationPermissionDescription:{id:"projects.formInputs.permissions.validation.description",defaultMessage:"Define which users can validate this project."},mappingPermission:{id:"projects.formInputs.permissions.mapping.title",defaultMessage:"Mapping permissions"},validationPermission:{id:"projects.formInputs.permissions.validation.title",defaultMessage:"Validation permissions"},mappingValidationSection:{id:"projects.sections.mapping_validation.title",defaultMessage:"Mapping, validation and invalidation"},mappingValidationSectionDescription:{id:"projects.sections.mapping_validation.description",defaultMessage:"Use this if for some reason you need to map, validate or invalidate all tasks in this project in a single step."},messageContributors:{id:"projects.actions.message_contributors.title",defaultMessage:"Message all contributors"},messageContributorsDescription:{id:"projects.actions.message_contributors.description",defaultMessage:"This will send a message to every contributor of the current project. Please use this feature carefully."},messageContributorsTranslationAlert:{id:"projects.actions.message_contributors.translation_alert",defaultMessage:"This message will not be translated to the different languages of the users, so you may want to include your own translations."},messageContributorsSuccess:{id:"projects.actions.message_contributors.success",defaultMessage:"Contributors were messaged successfully."},messageContributorsError:{id:"projects.actions.message_contributors.error",defaultMessage:"Failed to message all contributors for an unknown reason."},mapAll:{id:"projects.actions.map_all_tasks.title",defaultMessage:"Map all tasks"},mapAllConfirmation:{id:"projects.actions.map_all_tasks.confirmation",defaultMessage:"Are you sure you want to mark all tasks in this project as mapped? You cannot undo this."},mapAllDescription:{id:"projects.actions.map_all_tasks.description",defaultMessage:"This will mark all tasks (except 'unavailable' ones) as mapped. Please use this only if you are sure of what you are doing."},mapAllSuccess:{id:"projects.actions.map_all_tasks.success",defaultMessage:"The tasks were mapped successfully."},mapAllError:{id:"projects.actions.map_all_tasks.error",defaultMessage:"Mapping all the tasks failed for an unknown reason."},invalidateAll:{id:"projects.actions.invalidate_all_tasks.title",defaultMessage:"Invalidate all validated tasks"},invalidateAllConfirmation:{id:"projects.actions.invalidate_all_tasks.confirmation",defaultMessage:"Are you sure you want to invalidate all validated tasks in this project? You cannot undo this."},invalidateAllDescription:{id:"projects.actions.invalidate_all_tasks.description",defaultMessage:"This will mark all validated tasks as 'more mapping needed'. Please use this only if you are sure of what you are doing."},invalidateAllSuccess:{id:"projects.actions.invalidate_all_tasks.success",defaultMessage:"The tasks were set as 'more mapping needed' successfully."},invalidateAllError:{id:"projects.actions.invalidate_all_tasks.error",defaultMessage:"Invalidating all the tasks failed for an unknown reason."},validateAllTasks:{id:"projects.actions.validate_all_tasks.title",defaultMessage:"Validate all mapped tasks"},validateAllTasksConfirmation:{id:"projects.actions.validate_all_tasks.confirmation",defaultMessage:"Are you sure you want to validate all mapped tasks? You cannot undo this."},validateAllTasksDescription:{id:"projects.actions.validate_all_tasks.description",defaultMessage:"This will change the status of all mapped tasks to 'finished'. Please use this only if you are sure of what you are doing."},validateAllSuccess:{id:"projects.actions.validate_all_tasks.success",defaultMessage:"The tasks were validated successfully."},validateAllError:{id:"projects.actions.validate_all_tasks.error",defaultMessage:"Validating all the tasks failed for an unknown reason."},resetBadImagery:{id:"projects.actions.reset_bad_imagery_tasks.title",defaultMessage:"Reset tasks marked as unavailable"},resetBadImageryConfirmation:{id:"projects.actions.reset_bad_imagery_tasks.confirmation",defaultMessage:"Are you sure you want to reset all tasks marked as unavailable in this project? You cannot undo this."},resetBadImageryDescription:{id:"projects.actions.reset_bad_imagery_tasks.description",defaultMessage:"This will change the status of those tasks to 'ready for mapping'. Please use this only if you are sure of what you are doing."},resetBadImageryButton:{id:"projects.actions.reset_bad_imagery_tasks.button",defaultMessage:"Reset all unavailable tasks"},resetBadImagerySuccess:{id:"projects.actions.reset_bad_imagery_tasks.success",defaultMessage:"The tasks marked as unavailable were reset successfully."},resetBadImageryError:{id:"projects.actions.reset_bad_imagery_tasks.error",defaultMessage:"Resetting the tasks failed for an unknown reason."},resetAll:{id:"projects.actions.reset_all_tasks.title",defaultMessage:"Reset tasks"},resetAllButton:{id:"projects.actions.reset_all_tasks.button",defaultMessage:"Reset all tasks"},resetAllDescription:{id:"projects.actions.reset_all_tasks.description",defaultMessage:"Reset all tasks in the project to ready to map, preserving history."},resetAllSuccess:{id:"projects.actions.reset_all_tasks.success",defaultMessage:"All tasks were reset successfully."},resetAllError:{id:"projects.actions.reset_all_tasks.error",defaultMessage:"Resetting all the tasks failed for an unknown reason."},cloneProject:{id:"projects.actions.clone_project.button",defaultMessage:"Clone project"},cloneProjectDescription:{id:"projects.actions.clone_project.description",defaultMessage:"This will copy all descriptions, instructions, metadata etc to a new project. The Area of Interest, tasks and the priority areas will not be copied. You will have to redraw/import these. Your newly cloned project will be in draft status."},revertVALIDATEDTasks:{id:"projects.actions.revert_validated_tasks.button",defaultMessage:"Revert validated tasks"},revertVALIDATEDTasksTitle:{id:"projects.actions.revert_validated_tasks.title",defaultMessage:"Revert validated tasks"},revertVALIDATEDTasksDescription:{id:"projects.actions.revert_validated_tasks.description",defaultMessage:"Revert all validated tasks by a specified user and mark it as mapped"},revertVALIDATEDTasksSuccess:{id:"projects.actions.revert_validated_tasks.success",defaultMessage:"The tasks were reverted successfully."},revertBADIMAGERYTasks:{id:"projects.actions.revert_unavailable_tasks.button",defaultMessage:"Revert unavailable tasks"},revertBADIMAGERYTasksTitle:{id:"projects.actions.revert_unavailable_tasks.title",defaultMessage:"Revert unavailable tasks"},revertBADIMAGERYTasksDescription:{id:"projects.actions.revert_unavailable_tasks.description",defaultMessage:"Revert all tasks marked as unavailable by a specified user and mark it as ready to map"},revertBADIMAGERYTasksSuccess:{id:"projects.actions.revert_unavailable_tasks.success",defaultMessage:"The tasks were reverted successfully."},revertTasksError:{id:"projects.actions.revert_validated_tasks.error",defaultMessage:"The tasks reversion failed."},transferProject:{id:"projects.actions.transfer_project.button",defaultMessage:"Transfer project"},transferProjectTitle:{id:"projects.actions.transfer_project.title",defaultMessage:"Transfer project ownership"},transferProjectAlert:{id:"projects.actions.transfer_project.alert",defaultMessage:"This feature is only available to the project author, organisation manager and TM admin."},transferProjectSuccess:{id:"projects.actions.transfer_project.success",defaultMessage:"The project was transferred successfully."},transferProjectError:{id:"projects.actions.transfer_project.error",defaultMessage:"The project transfer failed."},deleteProject:{id:"projects.actions.delete_project.title",defaultMessage:"Delete project"},deleteProjectAlert:{id:"projects.actions.delete_project.alert",defaultMessage:"You can only delete projects that has no received contributions."},deleteProjectSuccess:{id:"projects.actions.delete_project.success",defaultMessage:"The project was deleted successfully."},deleteProjectError:{id:"projects.actions.delete_project.error",defaultMessage:"The project deletion failed. If this project has received some contributions, you should archive it instead."},taskReset:{id:"projects.actions.task_reset.title",defaultMessage:"Task reset"},taskResetButton:{id:"projects.actions.task_reset.button",defaultMessage:"Reset all tasks"},cancel:{id:"projects.actions.modal.cancel.button",defaultMessage:"Cancel"},canNotUndo:{id:"projects.actions.alerts.can_not_undo",defaultMessage:"This cannot be undone."},warning:{id:"projects.actions.alerts.warning",defaultMessage:"Warning"},taskResetConfirmation:{id:"projects.actions.task_reset.confirmation",defaultMessage:"Are you sure you want to reset all tasks? You cannot undo this."},status:{id:"projects.formInputs.status",defaultMessage:"Status"},priority:{id:"projects.formInputs.priority",defaultMessage:"Priority"},license:{id:"projects.formInputs.license",defaultMessage:"Required license"},language:{id:"projects.formInputs.language",defaultMessage:"Default language"},typeHere:{id:"projects.formInputs.type",defaultMessage:"Type here..."},translations:{id:"projects.formInputs.language.translations",defaultMessage:"Translations"},selectLanguage:{id:"projects.formInputs.language.select",defaultMessage:"Select a language above to translate."},mappingEditors:{id:"projects.formInputs.mapping_editors",defaultMessage:"Editors for mapping"},validationEditors:{id:"projects.formInputs.validation_editors",defaultMessage:"Editors for validation"},customEditor:{id:"projects.formInputs.editors.options.custom",defaultMessage:"Custom editor"},randomTaskSelection:{id:"projects.formInputs.random_task_selection",defaultMessage:"Enforce random task selection"},randomTaskSelectionMapping:{id:"projects.formInputs.random_task_selection.mapping",defaultMessage:"Enforce random task selection on mapping"},randomTaskSelectionDescription:{id:"projects.formInputs.random_task_selection.description",defaultMessage:"If checked, users must edit tasks at random for the initial editing stage (managers and admins are exempt)."},rapidPowerUser:{id:"projects.formInputs.rapid_power_user",defaultMessage:"Enable RapiD Power User Features"},rapidPowerUserDescription:{id:"projects.formInputs.rapid_power_user.description",defaultMessage:"If checked, RapiD will load with the power user dialog enabled."},imagery:{id:"projects.formInputs.imagery",defaultMessage:"Imagery"},imageryURLNote:{id:"projects.formInputs.imagery.note",defaultMessage:"Follow this format for TMS URLs: {exampleUrl}"},drawPolygon:{id:"projects.formInputs.priority_areas.options.polygon",defaultMessage:"Draw polygon"},drawRectangle:{id:"projects.formInputs.priority_areas.options.rectangle",defaultMessage:"Draw rectangle"},clearAll:{id:"projects.formInputs.priority_areas.action.clear",defaultMessage:"Clear all"},selectFile:{id:"projects.formInputs.priority_areas.action.selectFile",defaultMessage:"Select File"},importDescription:{id:"projects.formInputs.priority_areas.upload.description",defaultMessage:"The supported file formats are: GeoJSON, KML, OSM or zipped Shapefile. You can drag and drop a file over the map to import it."},name:{id:"projects.formInputs.name",defaultMessage:"Name of the project"},dueDate:{id:"projects.formInputs.dueDate",defaultMessage:"Due date"},dueDateDescription:{id:"projects.formInputs.dueDate.description",defaultMessage:"Define the ideal date to have the project finished. The date format is day/month/year."},description:{id:"projects.formInputs.description",defaultMessage:"Description"},shortDescription:{id:"projects.formInputs.shortDescription",defaultMessage:"Short description"},instructions:{id:"projects.formInputs.instructions",defaultMessage:"Detailed instructions"},osmchaFilterId:{id:"projects.formInputs.osmcha_filter_id",defaultMessage:"OSMCha filter ID"},osmchaFilterIdDescription:{id:"projects.formInputs.osmcha_filter_id.description",defaultMessage:"Optional id of a saved OSMCha filter to apply when viewing the project in OSMCha, if you desire custom filtering. Note that this replaces all standard filters. Example: 095e8b31-b3cb-4b36-a106-02826fb6a109 (for convenience, you can also paste an OSMCha URL here that uses a saved filter and the filter id will be extracted for you)."},priorityAreasDescription:{id:"projects.formInputs.priority_areas.description",defaultMessage:"If you want mappers to work on the highest priority areas first, draw one or more polygons within the project area or import a file."},mappingTypes:{id:"projects.formInputs.mapping_types",defaultMessage:"Types of mapping"},idPresets:{id:"projects.formInputs.id_presets",defaultMessage:"iD editor presets"},userRole:{id:"projects.formInputs.user_role",defaultMessage:"User role"},difficulty:{id:"projects.formInputs.difficulty",defaultMessage:"Difficulty"},difficultyDescription:{id:"projects.formInputs.difficulty.description",defaultMessage:"Setting the difficulty will help mappers to find suitable projects to work on."},perTaskInstructions:{id:"projects.formInputs.per_task_instructions",defaultMessage:"Per task instructions"},perTaskInstructionsDescription:{id:"projects.formInputs.per_task_instructions.descriptions",defaultMessage:'Add any information that can be useful to users while mapping a task. "{x}", "{y}" and "{z}" will be replaced by the corresponding parameters for each task. "{x}", "{y}" and "{z}" parameters can only be be used on tasks generated in the Tasking Manager and not on imported tasks.'},perTaskInstructionsExample:{id:"projects.formInputs.per_task_instructions.example",defaultMessage:"Example: This task involves loading extra data. Click [here](http://localhost:8111/import?new_layer=true&amp;url=http://www.domain.com/data/{x}/{y}/{z}/routes_2009.osm) to load the data into JOSM."},changesetComment:{id:"projects.formInputs.changesetComment",defaultMessage:"Changeset comment"},changesetCommentExample:{id:"projects.formInputs.changesetComment.example",defaultMessage:"Example: #hotosm-project-470 #missingmaps Buildings mapping."},changesetCommentDescription:{id:"projects.formInputs.changesetComment.description",defaultMessage:"Default comments added to uploaded changeset comment field. Users should also be encouraged to add text describing what they mapped. Hashtags are sometimes used for analysis later, but should be human informative and not overused, #group #event for example."},nonEditableComment:{id:"projects.formInputs.non_editable_comment",defaultMessage:"This default comment is not editable."},projectPriorityURGENT:{id:"project.formInputs.priority.options.urgent",defaultMessage:"Urgent"},projectPriorityHIGH:{id:"project.formInputs.priority.options.high",defaultMessage:"High"},projectPriorityMEDIUM:{id:"project.formInputs.priority.options.medium",defaultMessage:"Medium"},projectPriorityLOW:{id:"project.formInputs.priority.options.low",defaultMessage:"Low"},statusDRAFT:{id:"project.formInputs.status.options.draft",defaultMessage:"Draft"},statusARCHIVED:{id:"project.formInputs.status.options.archived",defaultMessage:"Archived"},statusPUBLISHED:{id:"project.formInputs.status.options.published",defaultMessage:"Published"},userRoleALL:{id:"project.formInputs.user_role.options.all",defaultMessage:"All roles"},userRoleMAPPER:{id:"project.formInputs.user_role.options.mapper",defaultMessage:"Mapper"},subjectPlaceholder:{id:"project.formInputs.placeholders.subject",defaultMessage:"Subject *"},messagePlaceholder:{id:"project.formInputs.placeholders.message",defaultMessage:"Message *"},difficultyALL:{id:"project.formInputs.mapper_level.options.all",defaultMessage:"All levels"},difficultyCHALLENGING:{id:"project.formInputs.mapper_level.options.challenging",defaultMessage:"Challenging"},difficultyMODERATE:{id:"project.formInputs.mapper_level.options.moderate",defaultMessage:"Moderate"},difficultyEASY:{id:"project.formInputs.mapper_level.options.easy",defaultMessage:"Easy"},filterByOrg:{id:"project.formInputs.teams.actions.filter.organisations",defaultMessage:"Filter teams by organizations"},selectTeam:{id:"project.formInputs.teams.actions.select",defaultMessage:"Select a team..."},selectRole:{id:"project.formInputs.teams.actions.select.role",defaultMessage:"Select a role..."},add:{id:"project.formInputs.teams.actions.add",defaultMessage:"Add"},update:{id:"project.formInputs.teams.actions.update",defaultMessage:"Update"},preview:{id:"project.messages.preview",defaultMessage:"Preview"},customEditorName:{id:"projects.formInputs.custom_editor.name",defaultMessage:"Name"},customEditorDescription:{id:"projects.formInputs.custom_editor.description",defaultMessage:"Description"},customEditorUrl:{id:"projects.formInputs.custom_editor.url",defaultMessage:"URL"},customEditorEnabledForMapping:{id:"projects.formInputs.custom_editor.enabled.mapping",defaultMessage:"Enabled for mapping"},customEditorEnabledForValidation:{id:"projects.formInputs.custom_editor.enabled.validation",defaultMessage:"Enabled for validation"},deleteCustomEditor:{id:"projects.formInputs.custom_editor.delete",defaultMessage:"Delete Custom Editor"},removeCustomEditor:{id:"projects.formInputs.custom_editor.remove",defaultMessage:"Remove Custom Editor"},confirmDeleteCustomEditor:{id:"projects.formInputs.custom_editor.delete.confirm",defaultMessage:'This will remove the custom editor from the project. Are you sure you don\'t want to disable the custom editor by toggling the "Enabled" checkbox above?'},noMappingEditor:{id:"projects.formInputs.noMappingEditor",defaultMessage:"At least one editor must be enabled for mapping"},noValidationEditor:{id:"projects.formInputs.noValidationEditor",defaultMessage:"At least one editor must be enabled for validation"},extraIdParams:{id:"projects.formInputs.extraIdParams",defaultMessage:"Additional iD URL parameters"},extraIdParamsDescription:{id:"projects.formInputs.extraIdParams.description",defaultMessage:"Any additional URL parameters that you want include when loading iD editor (both the embedded and the external ones). Use & to separate different parameters. Example: {text}."},extraIdParamsDescriptionLink:{id:"projects.formInputs.extraIdParams.description.link",defaultMessage:"Check the {link} for more information."},iDAPIDocs:{id:"projects.formInputs.extraIdParams.iDAPIDocs",defaultMessage:"iD editor documentation"}})},1919:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return o}));var a=r(1),n=r(10);function s(e){const t=Object(n.d)((e=>e.auth.userDetails)),r=Object(n.d)((e=>e.auth.organisations)),s=Object(n.d)((e=>e.auth.pmTeams)),[i,o]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{"ADMIN"===t.role&&o(!0),e&&e.author&&t.username===e.author&&o(!0),r&&r.includes(e.organisation)&&o(!0);const a=e.teams?e.teams.filter((e=>"PROJECT_MANAGER"===e.role)).map((e=>e.teamId)):[];s&&s.some((e=>a.includes(e)))&&o(!0)}),[s,t.role,t.username,r,e]),[i]}function i(e){const t=Object(n.d)((e=>e.auth.userDetails)),r=Object(n.d)((e=>e.auth.organisations)),s=Object(n.d)((e=>e.auth.pmTeams)),[i,o]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{if("ADMIN"===t.role&&o(!0),r&&r.includes(e.organisation_id)&&o(!0),s&&s.includes(e.teamId)&&o(!0),e.members){const r=e.members.filter((e=>e.active&&"MANAGER"===e.function)).map((e=>e.username));t.username&&r.includes(t.username)&&o(!0)}}),[s,t.role,t.username,r,e]),[i]}function o(e){const t=Object(n.d)((e=>e.auth.userDetails)),r=Object(n.d)((e=>e.auth.organisations)),[s,i]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{"ADMIN"===t.role&&i(!0),e&&e.organisationId&&r&&r.includes(e.organisationId)&&i(!0),e&&e.managers&&e.managers.map((e=>e.username)).includes(t.username)&&i(!0)}),[e,r,t.username,t.role]),[s]}},1920:function(e,t,r){"use strict";var a=r(20);t.a=Object(a.b)({imageUploadFailed:{id:"comment.input.imageUpload.error",defaultMessage:"The image upload failed."},imageUploadOnProgress:{id:"comment.input.imageUpload.progress",defaultMessage:"Uploading file..."},sendingMessage:{id:"comment.input.sending.progress",defaultMessage:"Sending message..."},messageSent:{id:"comment.input.sending.success",defaultMessage:"Message sent."},messageError:{id:"comment.input.sending.error",defaultMessage:"An error occurred while sending message."},managersHashtagTip:{id:"comment.hashtags.help.managers",defaultMessage:'Add "{hashtag}" to notify the project managers about your comment.'},authorHashtagTip:{id:"comment.hashtags.help.author",defaultMessage:'Add "{hashtag}" to notify the project author about your comment.'},contributorsHashtagTip:{id:"comment.hashtags.help.contributors",defaultMessage:'Add "{hashtag}" to notify the task contributors about your comment.'},nothingToPreview:{id:"comment.preview.nothingToPreview",defaultMessage:"Nothing to preview"},leaveAComment:{id:"comment.preview.leaveAComment",defaultMessage:"Leave a comment..."},write:{id:"textarea.write",defaultMessage:"Write"},preview:{id:"textarea.preview",defaultMessage:"Preview"},attachImage:{id:"comment.write.attachImage",defaultMessage:"Attach image by dragging and dropping"},markdownSupported:{id:"comment.write.markdownSupported",defaultMessage:"Markdown supported"}})},1924:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o}));r(1);var a=r(30),n=r(55),s=r(0);const i=e=>{const{level:t,...r}=e,i=["ALL","BEGINNER","INTERMEDIATE","ADVANCED"].includes(t)?Object(s.jsx)(a.a,{...n.a["mappingLevel".concat(t)]}):t;return Object(s.jsx)("span",{...r,children:i})},o=e=>{const{level:t,...r}=e,i=["ALL","EASY","MODERATE","CHALLENGING"].includes(t)?Object(s.jsx)(a.a,{...n.a["difficulty".concat(t)]}):t;return Object(s.jsx)("span",{...r,children:i})}},1925:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r(1);var a=r(30),n=r(1916),s=r(13),i=r(0);function o(e){let{priority:t,extraClasses:r,showIcon:o}=e,c="blue-grey b--blue-grey";return"URGENT"===t&&(c="red b--red"),"HIGH"===t&&(c="orange b--orange"),Object(i.jsx)(a.a,{...n.a["priorityDescription".concat(t)],children:e=>Object(i.jsxs)("div",{className:"tc br1 f8 ttu ba ".concat(c," ").concat(r),title:e,children:[o&&Object(i.jsx)(s.m,{className:"".concat(c," v-mid mr1"),style:{height:"13px"}}),t?Object(i.jsx)("span",{className:"v-mid fw5",children:Object(i.jsx)(a.a,{...n.a["projectPriority".concat(t)]})}):""]})})}},1926:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r(1);var a=r(30),n=r(1915),s=r(0);const i=e=>{let{status:t,className:r}=e;const i="DRAFT"===t?"orange":"blue-grey";return Object(s.jsx)("div",{className:"tc br1 f7 ttu ba b--".concat(i," ").concat(i," ").concat(r),children:Object(s.jsx)(a.a,{...n.a["status_".concat(t)]})})}},1928:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r(1);var a=r(1914),n=r(30),s=r(55),i=r(0);function o(e){let{className:t}=e;return Object(i.jsx)("div",{className:t,children:Object(i.jsxs)(a.a,{type:"warning",iconClassName:"h2 w2",children:[Object(i.jsx)("h3",{className:"barlow-condensed f3 fw6 mv0 dib",children:Object(i.jsx)(n.a,{...s.a.webglUnsupportedTitle})}),Object(i.jsx)("div",{className:"mv4 lh-title",children:Object(i.jsx)(n.a,{...s.a.webglUnsupportedDescription,values:{a:e=>Object(i.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://get.webgl.org/",children:e})}})})]})})}},1929:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r(1);var n=r(0);const s=e=>{let{className:t,small:r,height:s,firstBarValue:i,secondBarValue:o=0,children:c}=e;const[l,u,d]=function(){const[e,t]=Object(a.useState)(!1),[r,n]=Object(a.useState)({x:0,y:0}),s=Object(a.useCallback)((e=>{n({x:e.clientX-o.current.offsetLeft-35,y:e.clientY}),t(!0)}),[]),i=Object(a.useCallback)((()=>t(!1)),[]),o=Object(a.useRef)();return[Object(a.useCallback)((e=>{o.current&&(o.current.removeEventListener("mouseover",s),o.current.removeEventListener("mouseout",i)),o.current=e,o.current&&(o.current.addEventListener("mouseover",s),o.current.addEventListener("mouseout",i))}),[s,i]),e,r]}(),h="h".concat(s);return Object(n.jsx)("div",{className:"cf db ".concat(t||""),children:Object(n.jsxs)("div",{className:"relative",ref:l,children:[Object(n.jsx)("div",{className:"absolute bg-blue-grey br-pill ".concat(r?h:"h-pill"," hide-child"),style:{width:"".concat(i>100?100:i,"%")},role:"progressbar","aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100"}),Object(n.jsx)("div",{className:"absolute bg-red br-pill ".concat(r?h:"h-pill"," hide-child"),style:{width:"".concat(o>100?100:o,"%")},role:"progressbar","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"}),Object(n.jsx)("div",{className:"bg-tan br-pill ".concat(r?h:"h-pill"," overflow-y-hidden")}),u&&Object(n.jsxs)("span",{className:"db absolute z-1 dib bg-blue-dark ba br2 b--blue-dark pa2 shadow-5 bottom-".concat("half"===s?"2":s),style:{left:d.x},children:[c,Object(n.jsx)("span",{className:"absolute left-2 nt2 w1 h1 bg-blue-dark bl bt b--blue-dark rotate-45",style:{bottom:"-0.5rem",left:"calc(50% - 10px)"}})]})]})})}},1931:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r(1);var a=r(30),n=r(1916),s=r(1929),i=r(0);function o(e){let{percentMapped:t,percentValidated:r,percentBadImagery:o,className:c,small:l=!0}=e;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(s.a,{className:c,firstBarValue:t,secondBarValue:r,height:"half",small:l,children:[Object(i.jsx)("p",{className:"f6 lh-copy ma0 white f7 fw4",children:Object(i.jsx)(a.a,{...n.a.percentMapped,values:{n:Object(i.jsx)("span",{className:"fw8",children:t})}})}),Object(i.jsx)("p",{className:"f6 lh-copy ma0 white f7 fw4",children:Object(i.jsx)(a.a,{...n.a.percentValidated,values:{n:Object(i.jsx)("span",{className:"fw8",children:r})}})}),![null,void 0].includes(o)&&Object(i.jsx)("p",{className:"f6 lh-copy ma0 white f7 fw4",children:Object(i.jsx)(a.a,{...n.a.percentBadImagery,values:{n:Object(i.jsx)("span",{className:"fw8",children:o})}})})]})})}},1933:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var a=r(1),n=r.n(a),s=r(50),i=r(30),o=r(1955),c=r.n(o),l=r(81),u=r(13),d=r(1916),h=r(0);class p extends n.a.PureComponent{render(){return Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",fill:"none",viewBox:"0 0 10 12",role:"img",...this.props,children:[Object(h.jsx)("title",{children:"Timer"}),Object(h.jsx)("path",{fill:"#68707F",fillRule:"evenodd",d:"M5.77 1.013v.932C8.164 2.32 10 4.419 10 6.942 10 9.732 7.757 12 5 12S0 9.731 0 6.942c0-2.524 1.837-4.621 4.23-4.997v-.932h-.421a.504.504 0 01-.501-.507c0-.28.224-.506.5-.506h2.383c.277 0 .501.227.501.506 0 .28-.224.507-.5.507H5.77zm3.306 5.909a.344.344 0 00.09-.264c-.182-1.99-1.783-3.58-3.787-3.76A.344.344 0 005 3.24V6.69c0 .19.155.344.347.344H8.82c.098 0 .191-.04.257-.112z",clipRule:"evenodd"})]})}}function f(e){let{dueDate:t,intervalMili:r,tooltipMsg:n,isTaskStatusPage:o=!1,isProjectDetailPage:f=!1}=e;const m=Object(s.a)(),[b,g]=Object(a.useState)(Date.now());if(Object(a.useEffect)((()=>{let e;return r&&(e=setInterval((()=>{g(Date.now())}),r)),()=>{clearInterval(e)}}),[r]),void 0===t||void 0===new Date(t))return null;let v={language:m.locale.slice(0,2),fallbacks:["en"],largest:1};void 0!==r&&(v={units:["h","m"],round:!0});const y=new Date(t)-b;return y>0?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{className:"inline-flex items-center lh-solid f8 br1 ph2 link ".concat(y<12e5&&void 0!==r?"bg-red white":"bg-tan blue-grey"," ").concat(r?"":"mw4"),"data-tip":n,style:{paddingTop:"0.375rem",paddingBottom:"0.375rem"},children:[o?Object(h.jsx)(p,{height:"12px",width:"12px"}):Object(h.jsx)(u.m,{height:"12px",width:"12px"}),Object(h.jsx)("span",{className:"pl1",children:Object(h.jsx)(i.a,{className:"indent",...d.a.dueDateRelativeRemainingDays,values:{daysLeftHumanize:c()(y,v)}})})]}),n&&Object(h.jsx)(l.a,{place:"bottom"})]}):f&&Object(h.jsxs)("span",{className:"inline-flex items-center lh-solid f8 br1 ph2 link bg-tan blue-grey",style:{paddingTop:"0.375rem",paddingBottom:"0.375rem"},children:[Object(h.jsx)(u.m,{height:"12px",width:"12px"}),Object(h.jsx)("span",{className:"pl1",children:t?Object(h.jsx)(i.a,{...d.a.dueDateExpired}):Object(h.jsx)(i.a,{...d.a.noDueDate})})]})}},1935:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var a=r(1),n=r(10),s=r(1951),i=r(2052),o=r.n(i),c=r(30),l=r(1965),u=(r(2053),r(1947)),d=r(29),h=r(50),p=r(1920),f=r(0);function m(e){let{text:t,setFn:r,hashtag:a,className:n}=e;const s=Object(h.a)();return Object(f.jsx)("span",{className:"bb pointer ".concat(n),style:{borderBottomStyle:"dashed"},onClick:()=>r(t?"".concat(t," ").concat(a):"".concat(a," ")),title:s.formatMessage(p.a["".concat(a.replace("#",""),"HashtagTip")],{hashtag:a}),children:a})}var b=e=>{let{files:t}=e;return Object(f.jsx)("ul",{children:t.map((e=>{let{file:t,errors:r}=e;return Object(f.jsxs)("li",{className:"red",children:[t.path," (",r.map((e=>Object(f.jsxs)("span",{className:"dib pr2",children:[e.message,","]},e.code))),")"]},t.path)}))})};var g=e=>{let{uploadError:t,uploading:r}=e;return Object(f.jsxs)(f.Fragment,{children:[t&&Object(f.jsx)("span",{className:"red f6 pt3 db",children:Object(f.jsx)(c.a,{...p.a.imageUploadFailed})}),r&&Object(f.jsx)("span",{className:"blue-grey f6 pt3 db",children:Object(f.jsx)(c.a,{...p.a.imageUploadOnProgress})})]})},v=r(9),y=r(167);const j=14,w={bold:{...s.a.bold,icon:Object(f.jsx)("svg",{role:"img",width:j,height:j,viewBox:"0 0 384 512",children:Object(f.jsx)("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})})},italic:{...s.a.italic,icon:Object(f.jsx)("svg",{"data-name":"italic",width:j,height:j,role:"img",viewBox:"0 0 320 512",children:Object(f.jsx)("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})})},quote:{...s.a.quote,icon:Object(f.jsx)("svg",{width:j,height:j,viewBox:"0 0 520 520",children:Object(f.jsx)("path",{fill:"currentColor",d:"M520,95.75 L520,225.75 C520,364.908906 457.127578,437.050625 325.040469,472.443125 C309.577578,476.586875 294.396016,464.889922 294.396016,448.881641 L294.396016,414.457031 C294.396016,404.242891 300.721328,395.025078 310.328125,391.554687 C377.356328,367.342187 414.375,349.711094 414.375,274.5 L341.25,274.5 C314.325781,274.5 292.5,252.674219 292.5,225.75 L292.5,95.75 C292.5,68.8257812 314.325781,47 341.25,47 L471.25,47 C498.174219,47 520,68.8257812 520,95.75 Z M178.75,47 L48.75,47 C21.8257813,47 0,68.8257812 0,95.75 L0,225.75 C0,252.674219 21.8257813,274.5 48.75,274.5 L121.875,274.5 C121.875,349.711094 84.8563281,367.342187 17.828125,391.554687 C8.22132813,395.025078 1.89601563,404.242891 1.89601563,414.457031 L1.89601563,448.881641 C1.89601563,464.889922 17.0775781,476.586875 32.5404687,472.443125 C164.627578,437.050625 227.5,364.908906 227.5,225.75 L227.5,95.75 C227.5,68.8257812 205.674219,47 178.75,47 Z"})})},link:{...s.a.link,icon:Object(f.jsx)("svg",{"data-name":"italic",width:j,height:j,role:"img",viewBox:"0 0 520 520",children:Object(f.jsx)("path",{fill:"currentColor",d:"M331.751196,182.121107 C392.438214,241.974735 391.605313,337.935283 332.11686,396.871226 C332.005129,396.991316 331.873084,397.121413 331.751196,397.241503 L263.493918,464.491645 C203.291404,523.80587 105.345257,523.797864 45.151885,464.491645 C-15.0506283,405.187427 -15.0506283,308.675467 45.151885,249.371249 L82.8416853,212.237562 C92.836501,202.39022 110.049118,208.9351 110.56511,222.851476 C111.223305,240.5867 114.451306,258.404985 120.407566,275.611815 C122.424812,281.438159 120.983487,287.882964 116.565047,292.23621 L103.272145,305.332975 C74.8052033,333.379887 73.9123737,379.047937 102.098973,407.369054 C130.563883,435.969378 177.350591,436.139505 206.033884,407.879434 L274.291163,340.6393 C302.9257,312.427264 302.805844,266.827265 274.291163,238.733318 C270.531934,235.036561 266.74528,232.16442 263.787465,230.157924 C259.544542,227.2873 256.928256,222.609848 256.731165,217.542518 C256.328935,206.967633 260.13184,196.070508 268.613213,187.714278 L289.998463,166.643567 C295.606326,161.118448 304.403592,160.439942 310.906317,164.911276 C318.353355,170.034591 325.328531,175.793397 331.751196,182.121107 Z M240.704978,55.4828366 L172.447607,122.733236 C172.325719,122.853326 172.193674,122.983423 172.081943,123.103513 C117.703294,179.334654 129.953294,261.569283 185.365841,328.828764 C191.044403,335.721376 198.762988,340.914712 206.209732,346.037661 C212.712465,350.509012 221.510759,349.829503 227.117615,344.305363 L248.502893,323.234572 C256.984277,314.87831 260.787188,303.981143 260.384957,293.406218 C260.187865,288.338869 257.571576,283.661398 253.328648,280.790763 C250.370829,278.78426 246.58417,275.912107 242.824936,272.215337 C214.310216,244.121282 206.209732,204.825874 229.906702,179.334654 L298.164073,112.094263 C326.847404,83.8340838 373.633159,84.0042113 402.099123,112.604645 C430.285761,140.92587 429.393946,186.594095 400.92595,214.641114 L387.63303,227.737929 C383.214584,232.091191 381.773257,238.536021 383.790506,244.362388 C389.746774,261.569283 392.974779,279.387637 393.632975,297.122928 C394.149984,311.039357 411.361608,317.584262 421.356437,307.736882 L459.046288,270.603053 C519.249898,211.29961 519.249898,114.787281 459.047304,55.4828366 C398.853851,-3.82360914 300.907572,-3.83161514 240.704978,55.4828366 Z"})})},unorderedListCommand:{...s.a.unorderedListCommand,icon:Object(f.jsx)("svg",{"data-name":"unordered-list",width:j,height:j,viewBox:"0 0 512 512",children:Object(f.jsx)("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})})},orderedListCommand:{...s.a.orderedListCommand,icon:Object(f.jsx)("svg",{"data-name":"ordered-list",width:j,height:j,role:"img",viewBox:"0 0 512 512",children:Object(f.jsx)("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})})},mention:{name:"mention",keyCommand:"mention",value:"@",buttonProps:{"aria-label":"Mention user",title:"Mention user"},icon:Object(f.jsxs)("svg",{width:j,height:j,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(f.jsx)("circle",{cx:"12",cy:"12",r:"4"}),Object(f.jsx)("path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"})]}),execute:(e,t)=>{const r=Object(s.c)({text:e.text,selection:e.selection}),a=t.setSelectionRange(r),n=t.replaceSelection("@".concat(a.selectedText));t.setSelectionRange({start:n.selection.end-a.selectedText.length,end:n.selection.end})}},upload:{name:"upload",keyCommand:"upload",buttonProps:{"aria-label":"Upload user",title:"Upload image"},icon:Object(f.jsx)("svg",{width:j,height:j,x:"0",y:"0",viewBox:"0 0 24 24",className:"",children:Object(f.jsx)("g",{children:Object(f.jsx)("path",{id:"image-upload",d:"m21.75 11v6a3.383 3.383 0 0 1 -3.75 3.75h-12a3.383 3.383 0 0 1 -3.75-3.75v-10a3.383 3.383 0 0 1 3.75-3.75h8a.75.75 0 0 1 0 1.5h-8c-1.577 0-2.25.673-2.25 2.25v9.25l2.54-2.54a1.008 1.008 0 0 1 1.42 0l.94.94a.5.5 0 0 0 .7 0l4.94-4.94a1.008 1.008 0 0 1 1.42 0l4.54 4.54v-3.25a.75.75 0 0 1 1.5 0zm-13.757-3.25a1.253 1.253 0 1 0 .007 0zm10.537-2.72.22-.219v2.189a.75.75 0 0 0 1.5 0v-2.189l.22.219a.75.75 0 0 0 1.06-1.06l-1.5-1.5a.751.751 0 0 0 -1.06 0l-1.5 1.5a.75.75 0 0 0 1.06 1.06z",fill:"#000000","data-original":"#000000",className:""})})}),execute:()=>{document.getElementById("image_picker").click()}}};var _=r(106);const O=e=>{let{comment:t,setComment:r,contributors:i,enableHashtagPaste:h=!1,isShowTabNavs:j=!1,isShowFooter:O=!1,enableContributorsHashtag:x=!1,isShowUserPicture:M=!1,placeholderMsg:k=p.a.leaveAComment,markdownTextareaProps:C={}}=e;const E=Object(n.d)((e=>e.auth.token)),S=Object(a.useRef)(),N=Object(a.useRef)(!1),[T,D]=Object(a.useState)(!1),I=e=>r("".concat(t,"\n![image](").concat(e,")\n")),[A,P,L]=Object(u.a)(I),{fileRejections:R,getRootProps:F,getInputProps:B}=Object(l.a)({onDrop:L,...v.f}),[U,z,Y]=Object(u.b)(),G=new o.a({trigger:"@",values:async(e,t)=>{try{if(!e)return t(i.map((e=>({username:e}))));t((await Object(d.b)("users/queries/filter/".concat(e,"/"),E)).usernames.map((e=>({username:e}))))}catch(r){return[]}},lookup:"username",fillAttr:"username",selectTemplate:e=>"@[".concat(e.original.username,"]"),itemClass:"w-100 pv2 ph3 bg-tan hover-bg-blue-grey blue-grey hover-white pointer base-font",requireLeadingSpace:!0,noMatchTemplate:null,allowSpaces:!0,searchOpts:{skip:!0}});Object(a.useEffect)((()=>{S.current.textarea&&!N.current&&Array.isArray(i)&&(N.current=!0,G.attach(S.current.textarea),S.current.textarea.addEventListener("tribute-replaced",(e=>{r(e.target.value)})))}),[S.current,i]);return Object(f.jsxs)("div",{...F(),children:[j&&Object(f.jsxs)("div",{className:"flex items-center gap-1 ".concat(M?"mb3":""),children:[M&&Object(f.jsx)(_.a,{className:"w3 h3"}),Object(f.jsxs)("div",{className:"pv3-ns ph3 ph3-m bg-grey-light dib",children:[Object(f.jsx)("span",{role:"button",className:"pointer db dib-ns pb1 bb bw1 ".concat(T?"b--grey-light":"b--blue-dark"),onClick:()=>D(!1),children:Object(f.jsx)(c.a,{...p.a.write})}),Object(f.jsx)("span",{role:"button",className:"pointer ml3 db dib-ns pb1 bb bw1 ".concat(T?"b--blue-dark":"b--grey-light"),onClick:()=>D(!0),children:Object(f.jsx)(c.a,{...p.a.preview})})]})]}),Object(f.jsxs)("div",{className:"".concat(T?"dn":""," bg-white"),"data-color-mode":"light",children:[Object(f.jsx)(c.a,{...k,children:e=>Object(f.jsx)(s.b,{ref:S,preview:"edit",commands:Object.keys(w).map((e=>w[e])),extraCommands:[],height:200,value:t,onChange:r,textareaProps:{...B(),spellCheck:"true",placeholder:e,...C},defaultTabEnable:!0})}),Object(f.jsx)("input",{type:"file",id:"image_picker",className:"dn",accept:"image/*",onChange:async e=>await Y(e.target.files[0],I,E)}),O&&Object(f.jsxs)("div",{className:"dn flex-ns justify-between ba bt-0 w-100 ph2 pv1 relative b--blue-grey textareaDetail",children:[Object(f.jsx)("span",{className:"f7 lh-copy gray",children:Object(f.jsx)(c.a,{...p.a.attachImage})}),Object(f.jsx)("span",{className:"f7 lh-copy gray",children:Object(f.jsx)(c.a,{...p.a.markdownSupported})})]})]}),T&&Object(f.jsxs)("div",{className:"db ba ph3",style:{minHeight:200,borderColor:"#F0EEEE"},children:[t&&Object(f.jsx)("div",{style:{wordWrap:"break-word"},className:"blue-grey f5 lh-title markdown-content",dangerouslySetInnerHTML:Object(y.b)(Object(y.a)(t))}),!t&&Object(f.jsx)("span",{className:"db mt3",children:Object(f.jsx)(c.a,{...p.a.nothingToPreview})})]}),h&&!T&&Object(f.jsxs)("span",{className:"db blue-grey f6 pt2",children:[Object(f.jsx)(m,{text:t,setFn:r,hashtag:"#managers"}),Object(f.jsx)("span",{children:", "}),Object(f.jsx)(m,{text:t,setFn:r,hashtag:"#author"}),x&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{children:", "}),Object(f.jsx)(m,{text:t,setFn:r,hashtag:"#contributors"})]})]}),Object(f.jsx)(g,{uploading:P||z,uploadError:A||U}),Object(f.jsx)(b,{files:R})]})}},1936:function(e,t,r){"use strict";r.d(t,"g",(function(){return O})),r.d(t,"e",(function(){return x})),r.d(t,"c",(function(){return k})),r.d(t,"b",(function(){return C})),r.d(t,"d",(function(){return E})),r.d(t,"f",(function(){return S})),r.d(t,"a",(function(){return N}));var a=r(1),n=r(10),s=r(23),i=r(30),o=r(50),c=r(92),l=r.n(c),u=r(57),d=r(81),h=r(70),p=r(13),f=r(1919),m=r(106),b=r(119),g=r(80),v=r(32),y=r(118),j=r(0);const w=e=>[...Array(e).keys()].map(((e,t)=>Object(j.jsxs)("article",{className:"base-font blue-dark h-100 bg-white ph3 pb3 ba br1 b--card shadow-hover h-100 flex flex-column justify-between",children:[Object(j.jsxs)("div",{className:"mt3",children:[Object(j.jsx)(y.TextRow,{className:"show-loading-animation mb3",color:"#CCC",style:{width:200,height:24}}),Object(j.jsx)(y.RectShape,{className:"show-loading-animation mb4",style:{width:80,height:50},color:"#DDD"}),[...Array(2)].map(((e,t)=>Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(y.TextRow,{className:"show-loading-animation",color:"#CCC",style:{width:"45%"}}),[...Array(2)].map(((e,t)=>Object(j.jsx)(y.RoundShape,{className:"show-loading-animation dib mt1",style:{width:25,height:25},color:"#DDD"},t)))]},t)))]}),Object(j.jsx)(y.TextBlock,{rows:2,className:"show-loading-animation mt2",color:"#CCC",style:{width:80,height:50}})]},t)));var _=r(1914);function O(e){let{teams:t,userDetails:r,managementView:a,userTeamsOnly:s,setUserTeamsOnly:o,teamsStatus:c,query:u,setQuery:d}=e;const p=Object(n.d)((e=>e.auth.organisations&&e.auth.organisations.length>0));return Object(j.jsxs)(b.d,{title:a?Object(j.jsx)(i.a,{...h.a.manage,values:{entity:Object(j.jsx)(i.a,{...h.a.teams})}}):Object(j.jsx)(i.a,{...h.a.myTeams}),isAdmin:"ADMIN"===r.role&&a,showAddButton:("ADMIN"===r.role||p)&&a,managementView:a,userOnly:s,setUserOnly:o,userOnlyLabel:Object(j.jsx)(i.a,{...h.a.myTeams}),children:[Object(j.jsx)("div",{className:"w-20-l w-25-m",children:Object(j.jsx)(g.i,{value:u.searchQuery||"",placeholderMsg:h.a.searchTeams,onChange:e=>d({...u,searchQuery:e.target.value||void 0,page:1},"pushIn"),onCloseIconClick:()=>d({...u,searchQuery:void 0,page:1},"pushIn")})}),Object(j.jsxs)("div",{className:"".concat("error"!==c?"cards-container":""," mt2"),children:["loading"===c&&Object(j.jsx)(l.a,{showLoadingAnimation:!0,customPlaceholder:w(4),delay:10,ready:!1}),"error"===c&&Object(j.jsx)(_.a,{type:"error",children:Object(j.jsx)(i.a,{...h.a.errorLoadingTeams})}),"success"===c&&Object(j.jsx)(j.Fragment,{children:null!==t&&void 0!==t&&t.length?t.map((e=>Object(j.jsx)(M,{team:e},e.teamId))):Object(j.jsx)("div",{className:"pb3 pt2",children:Object(j.jsx)(i.a,{...h.a.noTeams})})})]})]})}function x(e){let{teams:t,viewAllQuery:r,showAddButton:a=!1,isReady:n,border:o=!0}=e;return Object(j.jsx)("div",{className:"bg-white ".concat(o?"b--grey-light ba pa4":""),children:Object(j.jsxs)("div",{className:"cf db",children:[Object(j.jsx)("h3",{className:"f3 barlow-condensed ttu blue-dark mv0 fw6 dib v-mid",children:Object(j.jsx)(i.a,{...h.a.teams})}),a&&Object(j.jsx)(s.a,{to:"/manage/teams/new/",className:"dib ml4",children:Object(j.jsx)(b.a,{})}),r&&Object(j.jsx)(b.e,{link:"/manage/teams/".concat(r||"")}),Object(j.jsx)("div",{className:"cards-container pt4",children:Object(j.jsxs)(l.a,{customPlaceholder:w(4),delay:10,ready:n,children:[null===t||void 0===t?void 0:t.slice(0,6).map((e=>Object(j.jsx)(M,{team:e},e.teamId))),0===(null===t||void 0===t?void 0:t.length)&&Object(j.jsx)("span",{className:"blue-grey",children:Object(j.jsx)(i.a,{...h.a.noTeamsFound})})]})})]})})}function M(e){let{team:t}=e;return Object(j.jsx)(s.a,{to:"/teams/".concat(t.teamId,"/membership/"),className:"no-underline",children:Object(j.jsxs)("article",{className:"base-font blue-dark h-100 bg-white ph3 pb3 ba br1 shadow-hover h-100 flex flex-column justify-between b--card",children:[Object(j.jsxs)("div",{className:"",children:[Object(j.jsx)("h3",{className:"f4 fw6 h3 lh-title mt3 mb2 overflow-y-hidden",title:t.name,children:t.name}),Object(j.jsx)("div",{className:"db h2",title:t.organisation,children:Object(j.jsx)("img",{src:t.logo,alt:t.organisation,className:"h2"})}),Object(j.jsx)("h4",{className:"f6 fw5 mb2 mt3 ttu blue-light",children:Object(j.jsx)(i.a,{...h.a.managers})}),Object(j.jsx)("div",{className:"db h2",children:Object(j.jsx)(m.c,{size:"small",textColor:"white",users:t.members.filter((e=>"MANAGER"===e.function&&e.active)),maxLength:8,totalCount:t.managersCount})}),Object(j.jsx)("h4",{className:"f6 fw5 mv2 ttu blue-light",children:Object(j.jsx)(i.a,{...h.a.teamMembers})}),Object(j.jsx)("div",{className:"db h2",children:Object(j.jsx)(m.c,{size:"small",textColor:"white",users:t.members.filter((e=>"MANAGER"!==e.function&&e.active)),maxLength:8,totalCount:t.membersCount})})]}),Object(j.jsxs)("div",{className:"pt3",children:[Object(j.jsx)(b.f,{visibility:t.visibility,extraClasses:"pv1 ph2 dib"}),Object(j.jsx)("div",{className:"pt2 h2",children:Object(j.jsx)(b.c,{className:"pv1 ph2 dib",joinMethod:t.joinMethod})})]})]})})}function k(e){const t=Object(o.a)(),r="db pt3 pb2",a="blue-grey w-100 pv3 ph2 input-reset ba b--grey-light bg-transparent",n=Object(u.c)(),s={ANY:"anyoneCanJoin",BY_REQUEST:"byRequest",BY_INVITE:"byInvite"};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"cf",children:[Object(j.jsx)("label",{className:r,children:Object(j.jsx)(i.a,{...h.a.name})}),Object(j.jsx)(u.a,{name:"name",component:"input",type:"text",className:a,required:!0})]}),Object(j.jsxs)("div",{className:"cf",children:[Object(j.jsx)("label",{className:r,children:Object(j.jsx)(i.a,{...h.a.description})}),Object(j.jsx)(u.a,{name:"description",component:"textarea",type:"text",className:a})]}),Object(j.jsxs)("div",{className:"cf",children:[Object(j.jsx)("label",{className:r,children:Object(j.jsx)(i.a,{...h.a.organisation})}),Object(j.jsx)(g.e,{name:"organisation_id"})]}),Object(j.jsxs)("div",{className:"cf pt1",children:[Object(j.jsx)("label",{className:r,children:Object(j.jsx)(i.a,{...h.a.joinMethod})}),Object.keys(s).map((e=>Object(j.jsxs)("div",{className:"pv2",children:[Object(j.jsx)(g.f,{name:"joinMethod",value:e,required:!0}),Object(j.jsx)("span",{className:"f5",children:Object(j.jsx)(i.a,{...h.a[s[e]]})}),Object(j.jsx)(p.I,{width:12,height:12,className:"blue-grey v-mid pb1 ml2","data-tip":t.formatMessage(h.a["".concat(s[e],"Description")])}),Object(j.jsx)(d.a,{place:"bottom",className:"mw6",effect:"solid"})]},e)))]}),"BY_INVITE"===n.values.joinMethod&&Object(j.jsxs)("div",{className:"cf pt1",children:[Object(j.jsx)("label",{className:r,children:Object(j.jsx)(i.a,{...h.a.visibility})}),Object(j.jsxs)("div",{className:"pv2",children:[Object(j.jsx)(g.f,{name:"visibility",value:"PUBLIC"}),Object(j.jsx)("span",{className:" f5",children:Object(j.jsx)(i.a,{...h.a.public})}),Object(j.jsx)(p.I,{width:12,height:12,className:"blue-grey v-mid pb1 ml2","data-tip":t.formatMessage(h.a.publicDescription)})]}),Object(j.jsxs)("div",{className:"pv2",children:[Object(j.jsx)(g.f,{name:"visibility",value:"PRIVATE"}),Object(j.jsx)("span",{className:"f5",children:Object(j.jsx)(i.a,{...h.a.private})}),Object(j.jsx)(p.I,{width:12,height:12,className:"blue-grey v-mid pb1 ml2","data-tip":t.formatMessage(h.a.privateDescription)}),Object(j.jsx)(d.a,{place:"bottom",className:"mw6",effect:"solid"})]})]})]})}function C(e){return Object(j.jsx)(u.b,{onSubmit:t=>e.updateTeam(t),initialValues:e.team,mutators:{setValue:[]},render:t=>{let{handleSubmit:r,dirty:a,submitSucceeded:n,dirtySinceLastSubmit:s,form:o,submitting:c,values:l}=t;const u=n?s&&a:a;return Object(j.jsxs)("div",{className:"blue-grey mb3",children:[Object(j.jsxs)("div",{className:"bg-white b--grey-light pa4 ".concat(u?"bt bl br":"ba"),children:[Object(j.jsx)("h3",{className:"f3 fw6 dib blue-dark mv0",children:Object(j.jsx)(i.a,{...h.a.teamInfo})}),Object(j.jsx)("form",{id:"team-form",onSubmit:r,children:Object(j.jsx)("fieldset",{className:"bn pa0",disabled:c,children:Object(j.jsx)(k,{joinMethod:e.team.joinMethod})})})]}),u&&Object(j.jsxs)("div",{className:"cf pt0 h3",children:[Object(j.jsx)("div",{className:"w-70-l w-50 fl tr dib bg-grey-light",children:Object(j.jsx)(v.b,{className:"blue-dark bg-grey-light h3",onClick:()=>o.restart(),children:Object(j.jsx)(i.a,{...h.a.cancel})})}),Object(j.jsx)("div",{className:"w-30-l w-50 h-100 fr dib",children:Object(j.jsx)(v.b,{onClick:()=>r(),className:"w-100 h-100 bg-red white",disabledClassName:"bg-red o-50 white w-100 h-100",children:Object(j.jsx)(i.a,{...h.a.save})})})]})]})}})}function E(e){let{team:t,members:r,managers:n,requestedToJoin:o}=e;const[c]=Object(f.c)(t),[u,d]=Object(a.useState)("");return Object(j.jsxs)(l.a,{showLoadingAnimation:!0,type:"media",rows:20,ready:"number"===typeof t.teamId,children:[Object(j.jsxs)("div",{className:"cf pb2",children:[Object(j.jsx)("div",{className:"w-20 pv2 dib fl",children:Object(j.jsxs)("span",{className:"blue-grey v-mid",children:[Object(j.jsx)(i.a,{...h.a.team})," #",t.teamId]})}),Object(j.jsxs)("div",{className:"w-80 dib fr tr",children:[c&&Object(j.jsx)(v.d,{url:"/manage/teams/".concat(t.teamId),children:Object(j.jsx)(i.a,{...h.a.editTeam})}),Object(j.jsx)(b.c,{className:"pv2 ph3 mh1 mv1 dib",joinMethod:t.joinMethod}),Object(j.jsx)(b.f,{visibility:t.visibility,extraClasses:"pv2 ph3 mh1 mv1 dib"})]})]}),Object(j.jsx)("h3",{className:"f2 ttu blue-dark fw7 barlow-condensed v-mid ma0 dib ttu",children:t.name}),Object(j.jsx)("p",{className:"blue-grey",children:t.description}),Object(j.jsxs)("div",{className:"cf",children:[Object(j.jsxs)("div",{className:"w-100 w-50-m fl",children:[Object(j.jsx)("h4",{children:Object(j.jsx)(i.a,{...h.a.organisation})}),Object(j.jsxs)(s.a,{className:"link blue-dark fw5 mr2 underline dib",to:"/organisations/".concat(t.organisationSlug),children:[Object(j.jsx)("p",{children:"string"===typeof t.logo&&Object(j.jsx)("img",{src:t.logo,alt:"organisation logo",className:"mw4"})}),t.organisation]})]}),Object(j.jsxs)("div",{className:"w-100 w-50-m fl",children:[Object(j.jsx)("h4",{children:Object(j.jsx)(i.a,{...h.a.managers})}),0===n.length?Object(j.jsx)("span",{className:"f6 blue-grey",children:Object(j.jsx)(i.a,{...h.a.noManagers})}):Object(j.jsx)("div",{className:"cf db mt3",children:n.map((e=>Object(j.jsx)(m.b,{username:e.username,picture:e.pictureUrl,size:"large",colorClasses:"white bg-blue-grey mv1"},e.username)))}),Object(j.jsx)("h4",{children:Object(j.jsx)(i.a,{...h.a.members})}),0===r.length?Object(j.jsx)("span",{className:"f6 blue-grey",children:Object(j.jsx)(i.a,{...h.a.noMembers})}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"cf db mt3",children:[Object(j.jsx)("div",{className:"mb3 w5",children:Object(j.jsx)(g.i,{value:u,placeholderMsg:h.a.searchMembers,onChange:e=>{let{target:{value:t}}=e;return d(t)},onCloseIconClick:()=>d("")})}),(""!==u?r.filter((e=>e.username.toLowerCase().includes(u.toLowerCase()))):r).map((e=>Object(j.jsx)(m.b,{username:e.username,picture:e.pictureUrl,colorClasses:"white bg-blue-grey mv1"},e.username)))]})}),Object(j.jsx)("div",{className:"cf db mt3",children:o&&Object(j.jsx)("span",{className:"red pr5-ns",children:Object(j.jsx)(i.a,{...h.a.waitingApproval})})})]})]})]})}function S(e){let{teams:t}=e;const r=t.filter((e=>"MAPPER"===e.role)),a=t.filter((e=>"VALIDATOR"===e.role));return Object(j.jsxs)("div",{className:"flex flex-column flex-row-l gap-1",children:[r.length>0&&Object(j.jsxs)("div",{className:"w-100 w-30-l",children:[Object(j.jsx)("h4",{className:"mb1 fw6 mt0",children:Object(j.jsx)(i.a,{...h.a.mappingTeams})}),Object(j.jsx)("div",{children:r.map((e=>Object(j.jsx)(N,{team:e,className:"dib pv2 ph3 mt2 ba f6 tc"},e.teamId)))})]}),a.length>0&&Object(j.jsxs)("div",{className:"w-100 w-30-l",children:[Object(j.jsx)("h4",{className:"mb1 fw6 mt0",children:Object(j.jsx)(i.a,{...h.a.validationTeams})}),a.map((e=>Object(j.jsx)(N,{team:e,className:"dib pv2 ph3 mt2 ba f6 tc"},e.teamId)))]})]})}const N=e=>{let{team:t,className:r}=e;return Object(j.jsx)(s.a,{className:"link blue-grey mr2",to:"/teams/".concat(t.teamId,"/membership/"),children:Object(j.jsxs)("div",{className:"br1 ".concat(r),children:[t.logo&&Object(j.jsx)("img",{alt:t.organisation,src:t.logo,className:"object-fit-contain h2 pr2 v-mid"}),t.name]})})}},1937:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1913),n=r(1912),s=r(1911);function i(e,t){Object(s.a)(2,arguments);var r=Object(n.default)(e),i=Object(a.a)(t),o=r.getFullYear(),c=r.getDate(),l=new Date(0);l.setFullYear(o,i,15),l.setHours(0,0,0,0);var u=function(e){Object(s.a)(1,arguments);var t=Object(n.default)(e),r=t.getFullYear(),a=t.getMonth(),i=new Date(0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}(l);return r.setMonth(i,Math.min(c,u)),r}},1938:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){Object(n.a)(1,arguments);var t=Object(a.default)(e);return t.setHours(0,0,0,0),t}},1939:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var a=r(1),n=r(30),s=r(23),i=r(1916),o=r(139),c=r(1931),l=r(1924),u=r(1926),d=r(9),h=r(1925),p=r(1933),f=(r(1945),r(0));function m(e){let{lastUpdated:t,totalContributors:r,className:a,littleFont:s="f7",bigFont:c="f6"}=e;const l="f6 tl blue-grey truncate mb2";return r<d.O?Object(f.jsx)("div",{title:t,className:"".concat(l," ").concat(a||""),children:Object(f.jsxs)("span",{className:s,children:[Object(f.jsx)(n.a,{...i.a.projectLastContribution})," ",Object(f.jsx)(o.a,{date:t})]})}):Object(f.jsx)("div",{title:t,className:"".concat(l," ").concat(a||""),children:Object(f.jsx)("span",{className:"".concat(s),children:Object(f.jsx)(n.a,{...i.a.projectTotalContributors,values:{number:Object(f.jsx)("span",{className:"blue-grey b ".concat(c),children:r||0})}})})})}function b(e){let{projectId:t,name:r,shortDescription:o,organisationName:d,organisationLogo:b,lastUpdated:g,dueDate:v,priority:y,status:j,difficulty:w,campaignTag:_,percentMapped:O,percentValidated:x,totalContributors:M,showBottomButtons:k=!1}=e;const[C,E]=Object(a.useState)(!1),S="link pa2 f6 ba b--grey-light di w-50 truncate tc",N=!0===k&&C,T=k?"pt3 pb4":"pv3",D=k?"project-card-with-btn":"project-card",I=Object(f.jsxs)("div",{className:"absolute bottom-0 w-100",children:[Object(f.jsx)(s.a,{to:"/manage/projects/".concat(t),className:"fl bg-grey-light blue-grey bn ".concat(S),children:Object(f.jsx)(n.a,{...i.a.editProject})}),Object(f.jsx)(s.a,{to:"/projects/".concat(t,"/tasks"),className:"fr bg-red white bn ".concat(S),children:Object(f.jsx)(n.a,{...i.a.projectTasks})})]});return Object(f.jsxs)("article",{onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),className:"relative blue-dark",children:[Object(f.jsx)(s.a,{className:"no-underline color-inherit",to:"/projects/".concat(t),children:Object(f.jsxs)("div",{className:"".concat(T," ba br1 bg-white shadow-hover h-100 flex flex-column justify-between b--card ").concat(D),children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"flex justify-between items-center",children:[Object(f.jsx)("div",{className:"red",children:Object(f.jsx)("img",{className:"h2",src:b,alt:b?d:""})}),Object(f.jsx)("div",{className:"",children:["DRAFT","ARCHIVED"].includes(j)?Object(f.jsx)(u.a,{status:j,className:"pv1 ph1 dib"}):Object(f.jsx)(h.a,{priority:y,extraClasses:"pv1 ph2 dib",showIcon:!["URGENT","MEDIUM"].includes(y)})})]}),Object(f.jsxs)("div",{className:"mt4 w-100",children:[Object(f.jsxs)("div",{className:"f7 blue-grey",children:["#",t]}),Object(f.jsx)("h3",{title:r,className:"mt3 f125 fw7 lh-title overflow-y-hidden pr4 project-title",children:r}),Object(f.jsx)("div",{className:"tc f6",children:Object(f.jsxs)("div",{className:"w-100 tl pr2 f7 blue-grey dib mb2 project-desc",children:[o," ",_?" \xb7 "+_:""]})})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(m,{totalContributors:M,lastUpdated:g}),Object(f.jsx)(c.a,{percentMapped:O,percentValidated:x}),Object(f.jsxs)("div",{className:"pt2 truncate flex justify-between items-center",children:[Object(f.jsx)(l.a,{level:w,className:"fl f7 pv2 ttc fw5 blue-grey truncate"}),Object(f.jsx)(p.a,{dueDate:v})]})]})]})}),N&&I]})}},1940:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r(1);var a=r(118),n=r(0);const s=e=>[...Array(e).keys()].map(((e,t)=>Object(n.jsxs)("div",{className:"ph3 ba br1 b--grey-light bg-white shadow-hover h-100 flex flex-column justify-between project-card",children:[Object(n.jsxs)("div",{className:"",children:[Object(n.jsxs)("div",{className:"flex justify-between items-center mb4",children:[Object(n.jsx)(a.RoundShape,{className:"show-loading-animation",color:"#DDD",style:{width:50,height:50}}),Object(n.jsx)(a.TextBlock,{rows:1,className:"show-loading-animation",color:"#CCC",style:{width:60}})]}),Object(n.jsx)(a.TextBlock,{rows:3,className:"show-loading-animation mb4",color:"#CCC"}),Object(n.jsx)(a.TextBlock,{rows:2,className:"show-loading-animation",color:"#CCC",style:{height:35}})]}),Object(n.jsx)(a.TextBlock,{rows:2,className:"show-loading-animation mb4",color:"#CCC"})]},t)))},1941:function(e,t,r){"use strict";function a(e){const t="https://osmcha.org/";if(e.osmchaFilterId)return"".concat(t,"?aoi=").concat(encodeURIComponent(e.osmchaFilterId));let r={};return e.aoiBBOX&&(r.in_bbox=n("string"===typeof e.aoiBBOX?e.aoiBBOX:e.aoiBBOX.join(",")),e.usernames||(r.area_lt=n(2))),"string"===typeof e.created&&(r.date__gte=n(e.created.split("T")[0])),e.mappingTeams&&(r.mapping_teams=n(e.mappingTeams)),e.changesetComment&&(r.comment=n(e.changesetComment)),"object"===typeof e.usernames&&(r.users=n(e.usernames)),"".concat(t,"?filters=").concat(encodeURIComponent(JSON.stringify(r)))}function n(e){return(Array.isArray(e)?e:[e]).map((e=>{return{label:t=e,value:t};var t}))}r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));const s=e=>e.startsWith("https://osmcha.org/")&&-1!==e.search("aoi=")?e.split("aoi=")[1]:e},1942:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1913),n=r(1912),s=r(1911);function i(e,t){Object(s.a)(2,arguments);var r=Object(n.default)(e),i=Object(a.a)(t);return isNaN(i)?new Date(NaN):i?(r.setDate(r.getDate()+i),r):r}},1944:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var a=r(1),n=r(10),s=r(6),i=r(30),o=r(82),c=r(173),l=r(29),u=r(119),d=r(32),h=r(13),p=r(0);function f(e){let{id:t,name:r,type:f,className:m,endpointURL:b,onDelete:g}=e;const v=Object(s.q)(),y=Object(a.useRef)(),j=Object(n.d)((e=>e.auth.token)),[w,_]=Object(a.useState)(null),[O,x]=Object(a.useState)(null),M=b||"".concat(f,"/").concat(t,"/");return Object(p.jsx)(o.a,{ref:y,trigger:Object(p.jsx)(u.b,{className:"".concat(m||""," dib ml3"),showText:"comments"!==f}),modal:!0,closeOnDocumentClick:!0,nested:!0,onClose:()=>{_(null),x(null)},children:e=>Object(p.jsxs)("div",{className:"pv4",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:[Object(p.jsx)("div",{className:"cf tc red",children:Object(p.jsx)(h.a,{height:"50px",width:"50px"})}),Object(p.jsxs)("div",{className:"cf blue-dark tc",children:[!w&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"barlow-condensed f3",children:Object(p.jsx)(i.a,{...c.a["confirmDeleteTitle_".concat(f)]})}),Object(p.jsxs)("div",{className:"pt3",children:[Object(p.jsx)(d.b,{className:"bg-white blue-dark mr3",onClick:()=>{_(!1),e()},children:Object(p.jsx)(i.a,{...c.a.cancel})}),Object(p.jsx)(d.b,{className:"bg-red white",onClick:()=>(_("started"),void Object(l.b)(M,j,"DELETE").then((e=>{if(_("success"),"notifications"===f)setTimeout((()=>v("/inbox")),750);else{if("comments"===f)return void setTimeout((()=>{g(),y.current.close()}),750);setTimeout((()=>v("/manage/".concat("interests"!==f?f:"categories"))),750)}})).catch((e=>{_("failure"),x(e.message)}))),children:Object(p.jsx)(i.a,{...c.a.delete})})]})]}),w&&Object(p.jsxs)("h3",{className:"barlow-condensed f3",children:["started"===w&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(i.a,{...c.a.processing}),"\u2026"]}),"success"===w&&Object(p.jsx)(i.a,{...c.a["success_".concat(f)]}),"failure"===w&&Object(p.jsx)(i.a,{...c.a["failure_".concat(f)]})]}),"failure"===w&&Object(p.jsx)("p",{children:O&&c.a["".concat(O,"Error")]&&Object(p.jsx)(i.a,{...c.a["".concat(O,"Error")]})||O})]})]})})}},1945:function(e,t,r){},1947:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return l}));var a=r(1),n=r(10),s=r(29),i=r(1987),o=r.n(i);const c=()=>{const[e,t]=Object(a.useState)(!1),[r,n]=Object(a.useState)(null);return[r,e,Object(a.useCallback)(((e,r,a)=>{if(e&&r&&a){new Promise(((t,r)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>{a.result?t(a.result):r(Error("Failed converting to base64"))}})).then((i=>{const c=JSON.stringify({mime:e.type,data:i.split("base64,")[1],filename:(l=e.name,u=e.type,-1===l.lastIndexOf(".")&&(l="".concat(l,".").concat(u.split("/")[1])),"".concat(o()(l.substr(0,l.lastIndexOf(".")))).concat(l.substr(l.lastIndexOf("."))))});var l,u;t(!0),Object(s.d)("system/image-upload/",c,a).then((e=>{r(e.url),t(!1),n(null)})).catch((e=>{n(e),t(!1)}))}),(e=>{n(e)}))}}),[])]},l=e=>{const t=Object(n.d)((e=>e.auth.token)),[r,s,i]=c();return[r,s,Object(a.useCallback)((r=>{r.forEach((async r=>await i(r,e,t)))}),[t,i,e])]}},1949:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var a=r(1912),n=r(1913),s=r(1911),i=r(1927);function o(e,t){var r,o,c,l,u,d,h,p;Object(s.a)(1,arguments);var f=Object(i.a)(),m=Object(n.a)(null!==(r=null!==(o=null!==(c=null!==(l=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==l?l:null===t||void 0===t||null===(u=t.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==c?c:f.weekStartsOn)&&void 0!==o?o:null===(h=f.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var b=Object(a.default)(e),g=b.getDay(),v=(g<m?7:0)+g-m;return b.setDate(b.getDate()-v),b.setHours(0,0,0,0),b}},1950:function(e,t,r){"use strict";var a=r(20);t.a=Object(a.b)({createProject:{id:"management.projects.create.title",defaultMessage:"Create new project"},cloneProject:{id:"management.projects.clone.message",defaultMessage:"The new project will be a clone of the project #{id} ({name})."},clone:{id:"management.projects.create.clone",defaultMessage:"Clone"},areaSize:{id:"management.projects.create.area_size",defaultMessage:"Area size: {area} km{sq}"},areaOverLimitError:{id:"management.projects.create.area_error",defaultMessage:"Project area is higher than {n} squared kilometers."},taskNumber:{id:"management.projects.create.tasks",defaultMessage:"Number of tasks: {n}"},step1:{id:"management.projects.create.steps.1",defaultMessage:"Step 1: define area"},step2:{id:"management.projects.create.steps.2",defaultMessage:"Step 2: set tasks sizes"},step3:{id:"management.projects.create.steps.3",defaultMessage:"Step 3: trim task grid"},step4:{id:"management.projects.create.steps.4",defaultMessage:"Step 4: review"},name:{id:"management.projects.create.review_tasks.name",defaultMessage:"Name"},organization:{id:"management.projects.create.review_tasks.organization",defaultMessage:"Organization"},creationFailed:{id:"management.projects.create.review_tasks.failure.message",defaultMessage:"It was not possible to save your project due to an error: {error}"},create:{id:"management.projects.create.review_tasks.button.create",defaultMessage:"Create"},reviewTaskNumberMessage:{id:"management.projects.create.review_tasks.number",defaultMessage:"Your project will be created with {n} tasks."},task:{id:"management.projects.create.review_tasks.task",defaultMessage:"task"},tasks:{id:"management.projects.create.review_tasks.tasks",defaultMessage:"tasks"},trimTasksDescriptionLine1:{id:"management.projects.create.trim_tasks.description.1",defaultMessage:"Trim the task grid to the area of interest (optional)."},trimTasksDescriptionLine2:{id:"management.projects.create.trim_tasks.description.2",defaultMessage:"You can keep the current tasks or trim the area for your project. This can take some time to execute."},trimToAOI:{id:"management.projects.create.trim_tasks.trim_to_aoi",defaultMessage:"Trim the tasks to define the exact Area of Interest for mapping."},tinyTasks:{id:"management.projects.create.trim_tasks.tiny_tasks",defaultMessage:"{number, plural, one {There is # task smaller than {area}m\xb2. Would you like to discard it?} other {There are # tasks smaller than {area}m\xb2. Would you like to discard them?}}"},discard:{id:"management.projects.create.trim_tasks.tiny_tasks.discard",defaultMessage:"Discard"},taskSizes:{id:"management.projects.create.task_sizes.description",defaultMessage:"General task size"},smaller:{id:"management.projects.create.task_sizes.smaller",defaultMessage:"Smaller"},larger:{id:"management.projects.create.task_sizes.larger",defaultMessage:"Larger"},invalidFile:{id:"management.projects.create.errors.invalid",defaultMessage:"It was not possible to read the geometries on the file. Verify it and upload again."},unsupportedGeom:{id:"management.projects.create.errors.unsupported_geom",defaultMessage:"Unsupported geometry type {geometry}"},noFeatureCollection:{id:"management.projects.create.errors.no_featurecollection",defaultMessage:"type field is not FeatureCollection"},closedLinestring:{id:"management.projects.create.errors.closed_linestring",defaultMessage:"Points do not form a closed linestring"},noGeometry:{id:"management.projects.create.errors.no_geometry",defaultMessage:"You need to define the project's area of interest."},noOrganization:{id:"management.projects.create.errors.no_organization",defaultMessage:"Organization is a required field."},fileSize:{id:"management.projects.create.errors.fileSize",defaultMessage:"We only accept files up to {fileSize} MB. Please reduce the size of your file and try again."},splitTaskDescription:{id:"management.projects.create.split_task.description",defaultMessage:"Make tasks smaller by clicking on specific tasks or drawing an area on the map."},reset:{id:"management.projects.create.reset.button",defaultMessage:"Reset"},showProjectsAOILayer:{id:"management.projects.create.show_aois",defaultMessage:"Show existing projects AoIs"},disabledAOILayer:{id:"management.projects.create.show_aois.disabled",defaultMessage:"Zoom in to be able to activate the visualization of other projects' areas of interest."},enableAOILayer:{id:"management.projects.create.show_aois.enable",defaultMessage:"Enable the visualization of the existing projects' areas of interest."},colorLegend:{id:"management.projects.create.show_aois.legend",defaultMessage:"Color legend:"},taskNumberMessage:{id:"management.projects.create.split.tasks.number",defaultMessage:"A new project will be created with {n} tasks."},taskAreaMessage:{id:"management.projects.create.split.tasks.area",defaultMessage:"The size of each task is approximately {area} km{sq}."},splitByDrawing:{id:"management.projects.create.split_task.draw.button",defaultMessage:"Draw area to split"},splitByClicking:{id:"management.projects.create.split_task.click.button",defaultMessage:"Click to split"},uploadError:{id:"management.projects.create.upload_file.error",defaultMessage:"Error when importing geometry. Verify if the file you uploaded is correct."},backToPrevious:{id:"management.projects.create.button.back",defaultMessage:"Back to previous"},next:{id:"management.projects.create.button.next",defaultMessage:"Next"},trim:{id:"management.projects.create.button.trim",defaultMessage:"Trim"},trimError:{id:"management.projects.create.trimError",defaultMessage:"An error occured while trimming the geometry."},SelfIntersectingAOIError:{id:"management.projects.create.SelfIntersectingAOIError",defaultMessage:"Invalid geometry - polygon is self intersecting."},draw:{id:"management.projects.create.button.draw",defaultMessage:"Draw"},selectFile:{id:"management.projects.create.button.select_file",defaultMessage:"Select file"},arbitraryTasks:{id:"management.projects.create.arbitrary_tasks",defaultMessage:"Set tasks using uploaded polygons"},defineAreaDescription:{id:"management.projects.create.draw.description",defaultMessage:"Draw the Area of Interest on the map or import a file."},importDescription:{id:"management.projects.create.upload.description",defaultMessage:"The supported file formats are: GeoJSON, KML, OSM or zipped Shapefile. You can drag and drop a file over the map to import it."}})},1956:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1913),n=r(1942),s=r(1911);function i(e,t){Object(s.a)(2,arguments);var r=7*Object(a.a)(t);return Object(n.default)(e,r)}},1957:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1913),n=r(1953),s=r(1911);function i(e,t){Object(s.a)(2,arguments);var r=3*Object(a.a)(t);return Object(n.default)(e,r)}},1958:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1913),n=r(1953),s=r(1911);function i(e,t){Object(s.a)(2,arguments);var r=Object(a.a)(t);return Object(n.default)(e,12*r)}},1959:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var a=r(1996),n=r(1938),s=r(1911),i=864e5;function o(e,t){Object(s.a)(2,arguments);var r=Object(n.default)(e),o=Object(n.default)(t),c=r.getTime()-Object(a.a)(r),l=o.getTime()-Object(a.a)(o);return Math.round((c-l)/i)}},1960:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){Object(n.a)(1,arguments);var t=Object(a.default)(e),r=t.getMonth(),s=r-r%3;return t.setMonth(s,1),t.setHours(0,0,0,0),t}},1961:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return s}));Math.pow(10,8);var a=6e4,n=36e5,s=1e3},1962:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));r(1);var a=r(23),n=r(30),s=r(92),i=r.n(s),o=r(70),c=r(1939),l=r(119),u=r(1940),d=r(0);function h(e){var t,r;let{projects:s,viewAllEndpoint:h,ownerEntity:p,showAddButton:f=!1,showManageButtons:m=!0,border:b=!0}=e;return Object(d.jsxs)("div",{className:"bg-white mb3 ".concat(b?"b--grey-light ba pa4":""),children:[Object(d.jsx)("h3",{className:"f3 barlow-condensed ttu blue-dark mv0 fw6 dib v-mid",children:Object(d.jsx)(n.a,{...o.a.projects})}),f&&Object(d.jsx)(a.a,{to:"/manage/projects/new/",className:"dib ml4",children:Object(d.jsx)(l.a,{})}),Object(d.jsx)(l.e,{link:h}),Object(d.jsx)("div",{className:"pt4 cards-container",children:Object(d.jsxs)(i.a,{customPlaceholder:Object(u.a)(4),showLoadingAnimation:!0,delay:10,ready:null===s||void 0===s?void 0:s.results,children:[null===s||void 0===s||null===(t=s.results)||void 0===t?void 0:t.slice(0,6).map((e=>Object(d.jsx)(c.a,{showBottomButtons:m,...e},e.projectId))),0===(null===s||void 0===s||null===(r=s.results)||void 0===r?void 0:r.length)&&Object(d.jsx)("span",{className:"blue-grey",children:Object(d.jsx)(n.a,{...o.a.noProjectsFound,values:{entity:Object(d.jsx)("span",{className:"ttl",children:Object(d.jsx)(n.a,{...o.a[p]})})}})})]})})]})}},1963:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return i}));r(1922);function a(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function n(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function s(e){return"Feature"===e.type?e.geometry:e}function i(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},1964:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r(1);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[r,n]=Object(a.useState)("idle"),[s,i]=Object(a.useState)(null),[o,c]=Object(a.useState)(null),l=Object(a.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return n("pending"),i(null),c(null),e(t).then((e=>{i(e),n("success")})).catch((e=>{c(e),n("error")}))}),[e]);return Object(a.useEffect)((()=>{t&&l()}),[l,t]),{execute:l,status:r,value:s,error:o}}},1970:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){Object(n.a)(1,arguments);var t=Object(a.default)(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}},1971:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){Object(n.a)(1,arguments);var t=Object(a.default)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}},1974:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r(30),n=r(1920),s=r(1914),i=r(0);const o=e=>{let{status:t,comment:r}=e;return"success"!==t||r?"error"===t?Object(i.jsx)(s.a,{type:"error",inline:!0,compact:!0,children:Object(i.jsx)(a.a,{...n.a.messageError})}):null:Object(i.jsx)(s.a,{type:"success",inline:!0,compact:!0,children:Object(i.jsx)(a.a,{...n.a.messageSent})})}},1976:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r(9);function n(e,t){let r=[{label:"RapiD",value:"RAPID",url:a.P},{label:"iD Editor",value:"ID",url:a.n},{label:"JOSM",value:"JOSM",url:"http://127.0.0.1:8111"},{label:"Potlatch 2",value:"POTLATCH_2",url:a.N},{label:"Field Papers",value:"FIELD_PAPERS",url:"http://fieldpapers.org/compose"}];return e&&(r=r.filter((t=>e.includes(t.value)))),t&&e.includes("CUSTOM")&&r.push({label:t.name,value:"CUSTOM",url:t.url}),r}},1981:function(e,t,r){},1982:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){Object(n.a)(1,arguments);var t=Object(a.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},1983:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var a=r(1927),n=r(1912),s=r(1913),i=r(1911);function o(e,t){var r,o,c,l,u,d,h,p;Object(i.a)(1,arguments);var f=Object(a.a)(),m=Object(s.a)(null!==(r=null!==(o=null!==(c=null!==(l=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==l?l:null===t||void 0===t||null===(u=t.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==c?c:f.weekStartsOn)&&void 0!==o?o:null===(h=f.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var b=Object(n.default)(e),g=b.getDay(),v=6+(g<m?-7:0)-(g-m);return b.setDate(b.getDate()+v),b.setHours(23,59,59,999),b}},1984:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){Object(n.a)(1,arguments);var t=Object(a.default)(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}},1985:function(e,t,r){!function(e,t,r,a,n,s,i,o,c,l,u,d,h,p,f,m,b,g,v,y,j,w,_,O,x,M,k,C,E,S,N,T,D,I,A,P,L,R,F,B,U,z,Y,G,q,H,W,V,K,Z,Q,J,X,$,ee,te,re,ae,ne,se,ie,oe,ce,le){"use strict";function ue(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var de=ue(t),he=ue(a),pe=ue(n),fe=ue(s),me=ue(i),be=ue(o),ge=ue(c),ve=ue(l),ye=ue(u),je=ue(d),we=ue(h),_e=ue(p),Oe=ue(f),xe=ue(m),Me=ue(b),ke=ue(g),Ce=ue(v),Ee=ue(y),Se=ue(j),Ne=ue(w),Te=ue(_),De=ue(O),Ie=ue(x),Ae=ue(M),Pe=ue(k),Le=ue(C),Re=ue(E),Fe=ue(S),Be=ue(N),Ue=ue(T),ze=ue(D),Ye=ue(I),Ge=ue(A),qe=ue(P),He=ue(L),We=ue(R),Ve=ue(F),Ke=ue(B),Ze=ue(U),Qe=ue(z),Je=ue(Y),Xe=ue(G),$e=ue(q),et=ue(H),tt=ue(V),rt=ue(K),at=ue(Z),nt=ue(Q),st=ue(J),it=ue(X),ot=ue($),ct=ue(ee),lt=ue(te),ut=ue(re),dt=ue(ae),ht=ue(ne),pt=ue(se),ft=ue(ie),mt=ue(oe),bt=ue(le);function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){Ot(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yt(e){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(e)}function jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wt(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Dt(a.key),a)}}function _t(e,t,r){return t&&wt(e.prototype,t),r&&wt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ot(e,t,r){return(t=Dt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xt.apply(this,arguments)}function Mt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ct(e,t)}function kt(e){return kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kt(e)}function Ct(e,t){return Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ct(e,t)}function Et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=kt(e);if(t){var n=kt(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Et(e)}(this,r)}}function Nt(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Dt(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var It=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},At=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Pt={p:At,P:function(e,t){var r,a=e.match(/(P+)(p+)?/)||[],n=a[1],s=a[2];if(!s)return It(e,t);switch(n){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",It(n,t)).replace("{{time}}",At(s,t))}},Lt=12,Rt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ft(e){var t=e?"string"==typeof e||e instanceof String?pt.default(e):dt.default(e):new Date;return Bt(t)?t:null}function Bt(e,t){return t=t||new Date("1/1/1000"),fe.default(e)&&!lt.default(e,t)}function Ut(e,t,r){if("en"===r)return me.default(e,t,{awareOfUnicodeTokens:!0});var a=tr(r);return r&&!a&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),!a&&er()&&tr(er())&&(a=tr(er())),me.default(e,t,{locale:a||null,awareOfUnicodeTokens:!0})}function zt(e,t){var r=t.dateFormat,a=t.locale;return e&&Ut(e,Array.isArray(r)?r[0]:r,a)||""}function Yt(e,t){var r=t.hour,a=void 0===r?0:r,n=t.minute,s=void 0===n?0:n,i=t.second,o=void 0===i?0:i;return Ue.default(Be.default(Fe.default(e,o),s),a)}function Gt(e,t,r){var a=tr(t||er());return Qe.default(e,{locale:a,weekStartsOn:r})}function qt(e){return Je.default(e)}function Ht(e){return $e.default(e)}function Wt(e){return Xe.default(e)}function Vt(){return Ze.default(Ft())}function Kt(e,t){return e&&t?it.default(e,t):!e&&!t}function Zt(e,t){return e&&t?st.default(e,t):!e&&!t}function Qt(e,t){return e&&t?ot.default(e,t):!e&&!t}function Jt(e,t){return e&&t?nt.default(e,t):!e&&!t}function Xt(e,t){return e&&t?at.default(e,t):!e&&!t}function $t(e,t,r){var a,n=Ze.default(t),s=et.default(r);try{a=ut.default(e,{start:n,end:s})}catch(e){a=!1}return a}function er(){return("undefined"!=typeof window?window:globalThis).__localeId__}function tr(e){if("string"==typeof e){var t="undefined"!=typeof window?window:globalThis;return t.__localeData__?t.__localeData__[e]:null}return e}function rr(e,t){return Ut(ze.default(Ft(),e),"LLLL",t)}function ar(e,t){return Ut(ze.default(Ft(),e),"LLL",t)}function nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.minDate,a=t.maxDate,n=t.excludeDates,s=t.excludeDateIntervals,i=t.includeDates,o=t.includeDateIntervals,c=t.filterDate;return hr(e,{minDate:r,maxDate:a})||n&&n.some((function(t){return Jt(e,t)}))||s&&s.some((function(t){var r=t.start,a=t.end;return ut.default(e,{start:r,end:a})}))||i&&!i.some((function(t){return Jt(e,t)}))||o&&!o.some((function(t){var r=t.start,a=t.end;return ut.default(e,{start:r,end:a})}))||c&&!c(Ft(e))||!1}function sr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some((function(t){var r=t.start,a=t.end;return ut.default(e,{start:r,end:a})})):r&&r.some((function(t){return Jt(e,t)}))||!1}function ir(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.minDate,a=t.maxDate,n=t.excludeDates,s=t.includeDates,i=t.filterDate;return hr(e,{minDate:Je.default(r),maxDate:tt.default(a)})||n&&n.some((function(t){return Zt(e,t)}))||s&&!s.some((function(t){return Zt(e,t)}))||i&&!i(Ft(e))||!1}function or(e,t,r,a){var n=Le.default(e),s=Ae.default(e),i=Le.default(t),o=Ae.default(t),c=Le.default(a);return n===i&&n===c?s<=r&&r<=o:n<i?c===n&&s<=r||c===i&&o>=r||c<i&&c>n:void 0}function cr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.minDate,a=t.maxDate,n=t.excludeDates,s=t.includeDates,i=t.filterDate;return hr(e,{minDate:r,maxDate:a})||n&&n.some((function(t){return Qt(e,t)}))||s&&!s.some((function(t){return Qt(e,t)}))||i&&!i(Ft(e))||!1}function lr(e,t,r){if(!fe.default(t)||!fe.default(r))return!1;var a=Le.default(t),n=Le.default(r);return a<=e&&n>=e}function ur(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.minDate,a=t.maxDate,n=t.excludeDates,s=t.includeDates,i=t.filterDate,o=new Date(e,0,1);return hr(o,{minDate:$e.default(r),maxDate:rt.default(a)})||n&&n.some((function(e){return Kt(o,e)}))||s&&!s.some((function(e){return Kt(o,e)}))||i&&!i(Ft(o))||!1}function dr(e,t,r,a){var n=Le.default(e),s=Pe.default(e),i=Le.default(t),o=Pe.default(t),c=Le.default(a);return n===i&&n===c?s<=r&&r<=o:n<i?c===n&&s<=r||c===i&&o>=r||c<i&&c>n:void 0}function hr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.minDate,a=t.maxDate;return r&&We.default(e,r)<0||a&&We.default(e,a)>0}function pr(e,t){return t.some((function(t){return Ne.default(t)===Ne.default(e)&&Se.default(t)===Se.default(e)}))}function fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.excludeTimes,a=t.includeTimes,n=t.filterTime;return r&&pr(e,r)||a&&!pr(e,a)||n&&!n(e)||!1}function mr(e,t){var r=t.minTime,a=t.maxTime;if(!r||!a)throw new Error("Both minTime and maxTime props required");var n,s=Ft(),i=Ue.default(Be.default(s,Se.default(e)),Ne.default(e)),o=Ue.default(Be.default(s,Se.default(r)),Ne.default(r)),c=Ue.default(Be.default(s,Se.default(a)),Ne.default(a));try{n=!ut.default(i,{start:o,end:c})}catch(e){n=!1}return n}function br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.minDate,a=t.includeDates,n=Me.default(e,1);return r&&Ve.default(r,n)>0||a&&a.every((function(e){return Ve.default(e,n)>0}))||!1}function gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.maxDate,a=t.includeDates,n=je.default(e,1);return r&&Ve.default(n,r)>0||a&&a.every((function(e){return Ve.default(n,e)>0}))||!1}function vr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.minDate,a=t.includeDates,n=Ce.default(e,1);return r&&Ke.default(r,n)>0||a&&a.every((function(e){return Ke.default(e,n)>0}))||!1}function yr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.maxDate,a=t.includeDates,n=_e.default(e,1);return r&&Ke.default(n,r)>0||a&&a.every((function(e){return Ke.default(n,e)>0}))||!1}function jr(e){var t=e.minDate,r=e.includeDates;if(r&&t){var a=r.filter((function(e){return We.default(e,t)>=0}));return qe.default(a)}return r?qe.default(r):t}function wr(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var a=r.filter((function(e){return We.default(e,t)<=0}));return He.default(a)}return r?He.default(r):t}function _r(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--highlighted",r=new Map,a=0,n=e.length;a<n;a++){var s=e[a];if(pe.default(s)){var i=Ut(s,"MM.dd.yyyy"),o=r.get(i)||[];o.includes(t)||(o.push(t),r.set(i,o))}else if("object"===yt(s)){var c=Object.keys(s),l=c[0],u=s[c[0]];if("string"==typeof l&&u.constructor===Array)for(var d=0,h=u.length;d<h;d++){var p=Ut(u[d],"MM.dd.yyyy"),f=r.get(p)||[];f.includes(l)||(f.push(l),r.set(p,f))}}}return r}function Or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--holidays",r=new Map;return e.forEach((function(e){var a=e.date,n=e.holidayName;if(pe.default(a)){var s=Ut(a,"MM.dd.yyyy"),i=r.get(s)||{};if(!("className"in i)||i.className!==t||(o=i.holidayNames,c=[n],o.length!==c.length||!o.every((function(e,t){return e===c[t]})))){var o,c;i.className=t;var l=i.holidayNames;i.holidayNames=l?[].concat(Nt(l),[n]):[n],r.set(s,i)}}})),r}function xr(e,t,r,a,n){for(var s=n.length,i=[],o=0;o<s;o++){var c=be.default(ge.default(e,Ne.default(n[o])),Se.default(n[o])),l=be.default(e,(r+1)*a);ct.default(c,t)&&lt.default(c,l)&&i.push(n[o])}return i}function Mr(e){return e<10?"0".concat(e):"".concat(e)}function kr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt,r=Math.ceil(Le.default(e)/t)*t;return{startPeriod:r-(t-1),endPeriod:r}}function Cr(e){var t=e.getSeconds(),r=e.getMilliseconds();return dt.default(e.getTime()-1e3*t-r)}function Er(e,t,r,a){for(var n=[],s=0;s<2*t+1;s++){var i=e+t-s,o=!0;r&&(o=Le.default(r)<=i),a&&o&&(o=Le.default(a)>=i),o&&n.push(i)}return n}var Sr=function(e){Mt(a,e);var r=St(a);function a(e){var n;jt(this,a),Ot(Et(n=r.call(this,e)),"renderOptions",(function(){var e=n.props.year,t=n.state.yearsList.map((function(t){return de.default.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:n.onChange.bind(Et(n),t),"aria-selected":e===t?"true":void 0},e===t?de.default.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)})),r=n.props.minDate?Le.default(n.props.minDate):null,a=n.props.maxDate?Le.default(n.props.maxDate):null;return a&&n.state.yearsList.find((function(e){return e===a}))||t.unshift(de.default.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},de.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&n.state.yearsList.find((function(e){return e===r}))||t.push(de.default.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},de.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t})),Ot(Et(n),"onChange",(function(e){n.props.onChange(e)})),Ot(Et(n),"handleClickOutside",(function(){n.props.onCancel()})),Ot(Et(n),"shiftYears",(function(e){var t=n.state.yearsList.map((function(t){return t+e}));n.setState({yearsList:t})})),Ot(Et(n),"incrementYears",(function(){return n.shiftYears(1)})),Ot(Et(n),"decrementYears",(function(){return n.shiftYears(-1)}));var s=e.yearDropdownItemNumber,i=e.scrollableYearDropdown,o=s||(i?10:5);return n.state={yearsList:Er(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=t.createRef(),n}return _t(a,[{key:"componentDidMount",value:function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,r=t?t.find((function(e){return e.ariaSelected})):null;e.scrollTop=r?r.offsetTop+(r.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}}},{key:"render",value:function(){var e=he.default({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return de.default.createElement("div",{className:e,ref:this.dropdownRef},this.renderOptions())}}]),a}(de.default.Component),Nr=ft.default(Sr),Tr=function(e){Mt(r,e);var t=St(r);function r(){var e;jt(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return Ot(Et(e=t.call.apply(t,[this].concat(n))),"state",{dropdownVisible:!1}),Ot(Et(e),"renderSelectOptions",(function(){for(var t=e.props.minDate?Le.default(e.props.minDate):1900,r=e.props.maxDate?Le.default(e.props.maxDate):2100,a=[],n=t;n<=r;n++)a.push(de.default.createElement("option",{key:n,value:n},n));return a})),Ot(Et(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),Ot(Et(e),"renderSelectMode",(function(){return de.default.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),Ot(Et(e),"renderReadView",(function(t){return de.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(t){return e.toggleDropdown(t)}},de.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),de.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))})),Ot(Et(e),"renderDropdown",(function(){return de.default.createElement(Nr,{key:"dropdown",year:e.props.year,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableYearDropdown:e.props.scrollableYearDropdown,yearDropdownItemNumber:e.props.yearDropdownItemNumber})})),Ot(Et(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,r=[e.renderReadView(!t)];return t&&r.unshift(e.renderDropdown()),r})),Ot(Et(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.year&&e.props.onChange(t)})),Ot(Et(e),"toggleDropdown",(function(t){e.setState({dropdownVisible:!e.state.dropdownVisible},(function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,t)}))})),Ot(Et(e),"handleYearChange",(function(t,r){e.onSelect(t,r),e.setOpen()})),Ot(Et(e),"onSelect",(function(t,r){e.props.onSelect&&e.props.onSelect(t,r)})),Ot(Et(e),"setOpen",(function(){e.props.setOpen&&e.props.setOpen(!0)})),e}return _t(r,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return de.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),r}(de.default.Component),Dr=function(e){Mt(r,e);var t=St(r);function r(){var e;jt(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return Ot(Et(e=t.call.apply(t,[this].concat(n))),"isSelectedMonth",(function(t){return e.props.month===t})),Ot(Et(e),"renderOptions",(function(){return e.props.monthNames.map((function(t,r){return de.default.createElement("div",{className:e.isSelectedMonth(r)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:e.onChange.bind(Et(e),r),"aria-selected":e.isSelectedMonth(r)?"true":void 0},e.isSelectedMonth(r)?de.default.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",t)}))})),Ot(Et(e),"onChange",(function(t){return e.props.onChange(t)})),Ot(Et(e),"handleClickOutside",(function(){return e.props.onCancel()})),e}return _t(r,[{key:"render",value:function(){return de.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),r}(de.default.Component),Ir=ft.default(Dr),Ar=function(e){Mt(r,e);var t=St(r);function r(){var e;jt(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return Ot(Et(e=t.call.apply(t,[this].concat(n))),"state",{dropdownVisible:!1}),Ot(Et(e),"renderSelectOptions",(function(e){return e.map((function(e,t){return de.default.createElement("option",{key:t,value:t},e)}))})),Ot(Et(e),"renderSelectMode",(function(t){return de.default.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(t){return e.onChange(t.target.value)}},e.renderSelectOptions(t))})),Ot(Et(e),"renderReadView",(function(t,r){return de.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},de.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),de.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[e.props.month]))})),Ot(Et(e),"renderDropdown",(function(t){return de.default.createElement(Ir,{key:"dropdown",month:e.props.month,monthNames:t,onChange:e.onChange,onCancel:e.toggleDropdown})})),Ot(Et(e),"renderScrollMode",(function(t){var r=e.state.dropdownVisible,a=[e.renderReadView(!r,t)];return r&&a.unshift(e.renderDropdown(t)),a})),Ot(Et(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.month&&e.props.onChange(t)})),Ot(Et(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return _t(r,[{key:"render",value:function(){var e,t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return ar(e,t.props.locale)}:function(e){return rr(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(r);break;case"select":e=this.renderSelectMode(r)}return de.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),r}(de.default.Component);function Pr(e,t){for(var r=[],a=qt(e),n=qt(t);!ct.default(a,n);)r.push(Ft(a)),a=je.default(a,1);return r}var Lr=function(e){Mt(r,e);var t=St(r);function r(e){var a;return jt(this,r),Ot(Et(a=t.call(this,e)),"renderOptions",(function(){return a.state.monthYearsList.map((function(e){var t=Re.default(e),r=Kt(a.props.date,e)&&Zt(a.props.date,e);return de.default.createElement("div",{className:r?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:a.onChange.bind(Et(a),t),"aria-selected":r?"true":void 0},r?de.default.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",Ut(e,a.props.dateFormat,a.props.locale))}))})),Ot(Et(a),"onChange",(function(e){return a.props.onChange(e)})),Ot(Et(a),"handleClickOutside",(function(){a.props.onCancel()})),a.state={monthYearsList:Pr(a.props.minDate,a.props.maxDate)},a}return _t(r,[{key:"render",value:function(){var e=he.default({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return de.default.createElement("div",{className:e},this.renderOptions())}}]),r}(de.default.Component),Rr=ft.default(Lr),Fr=function(e){Mt(r,e);var t=St(r);function r(){var e;jt(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return Ot(Et(e=t.call.apply(t,[this].concat(n))),"state",{dropdownVisible:!1}),Ot(Et(e),"renderSelectOptions",(function(){for(var t=qt(e.props.minDate),r=qt(e.props.maxDate),a=[];!ct.default(t,r);){var n=Re.default(t);a.push(de.default.createElement("option",{key:n,value:n},Ut(t,e.props.dateFormat,e.props.locale))),t=je.default(t,1)}return a})),Ot(Et(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),Ot(Et(e),"renderSelectMode",(function(){return de.default.createElement("select",{value:Re.default(qt(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),Ot(Et(e),"renderReadView",(function(t){var r=Ut(e.props.date,e.props.dateFormat,e.props.locale);return de.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(t){return e.toggleDropdown(t)}},de.default.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),de.default.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))})),Ot(Et(e),"renderDropdown",(function(){return de.default.createElement(Rr,{key:"dropdown",date:e.props.date,dateFormat:e.props.dateFormat,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableMonthYearDropdown:e.props.scrollableMonthYearDropdown,locale:e.props.locale})})),Ot(Et(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,r=[e.renderReadView(!t)];return t&&r.unshift(e.renderDropdown()),r})),Ot(Et(e),"onChange",(function(t){e.toggleDropdown();var r=Ft(parseInt(t));Kt(e.props.date,r)&&Zt(e.props.date,r)||e.props.onChange(r)})),Ot(Et(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return _t(r,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return de.default.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),r}(de.default.Component),Br=function(e){Mt(r,e);var t=St(r);function r(){var e;jt(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return Ot(Et(e=t.call.apply(t,[this].concat(n))),"dayEl",de.default.createRef()),Ot(Et(e),"handleClick",(function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)})),Ot(Et(e),"handleMouseEnter",(function(t){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(t)})),Ot(Et(e),"handleOnKeyDown",(function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)})),Ot(Et(e),"isSameDay",(function(t){return Jt(e.props.day,t)})),Ot(Et(e),"isKeyboardSelected",(function(){return!e.props.disabledKeyboardNavigation&&!(e.isSameDay(e.props.selected)||e.isSameWeek(e.props.selected))&&(e.isSameDay(e.props.preSelection)||e.isSameWeek(e.props.preSelection))})),Ot(Et(e),"isDisabled",(function(){return nr(e.props.day,e.props)})),Ot(Et(e),"isExcluded",(function(){return sr(e.props.day,e.props)})),Ot(Et(e),"isStartOfWeek",(function(){return Jt(e.props.day,Gt(e.props.day,e.props.locale,e.props.calendarStartDay))})),Ot(Et(e),"isSameWeek",(function(t){return e.props.showWeekPicker&&Jt(t,Gt(e.props.day,e.props.locale,e.props.calendarStartDay))})),Ot(Et(e),"getHighLightedClass",(function(){var t=e.props,r=t.day,a=t.highlightDates;if(!a)return!1;var n=Ut(r,"MM.dd.yyyy");return a.get(n)})),Ot(Et(e),"getHolidaysClass",(function(){var t=e.props,r=t.day,a=t.holidays;if(!a)return!1;var n=Ut(r,"MM.dd.yyyy");return a.has(n)?[a.get(n).className]:void 0})),Ot(Et(e),"isInRange",(function(){var t=e.props,r=t.day,a=t.startDate,n=t.endDate;return!(!a||!n)&&$t(r,a,n)})),Ot(Et(e),"isInSelectingRange",(function(){var t,r=e.props,a=r.day,n=r.selectsStart,s=r.selectsEnd,i=r.selectsRange,o=r.selectsDisabledDaysInRange,c=r.startDate,l=r.endDate,u=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return!(!(n||s||i)||!u||!o&&e.isDisabled())&&(n&&l&&(lt.default(u,l)||Xt(u,l))?$t(a,u,l):(s&&c&&(ct.default(u,c)||Xt(u,c))||!(!i||!c||l||!ct.default(u,c)&&!Xt(u,c)))&&$t(a,c,u))})),Ot(Et(e),"isSelectingRangeStart",(function(){var t;if(!e.isInSelectingRange())return!1;var r=e.props,a=r.day,n=r.startDate,s=r.selectsStart,i=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return Jt(a,s?i:n)})),Ot(Et(e),"isSelectingRangeEnd",(function(){var t;if(!e.isInSelectingRange())return!1;var r=e.props,a=r.day,n=r.endDate,s=r.selectsEnd,i=r.selectsRange,o=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return Jt(a,s||i?o:n)})),Ot(Et(e),"isRangeStart",(function(){var t=e.props,r=t.day,a=t.startDate,n=t.endDate;return!(!a||!n)&&Jt(a,r)})),Ot(Et(e),"isRangeEnd",(function(){var t=e.props,r=t.day,a=t.startDate,n=t.endDate;return!(!a||!n)&&Jt(n,r)})),Ot(Et(e),"isWeekend",(function(){var t=Te.default(e.props.day);return 0===t||6===t})),Ot(Et(e),"isAfterMonth",(function(){return void 0!==e.props.month&&(e.props.month+1)%12===Ae.default(e.props.day)})),Ot(Et(e),"isBeforeMonth",(function(){return void 0!==e.props.month&&(Ae.default(e.props.day)+1)%12===e.props.month})),Ot(Et(e),"isCurrentDay",(function(){return e.isSameDay(Ft())})),Ot(Et(e),"isSelected",(function(){return e.isSameDay(e.props.selected)||e.isSameWeek(e.props.selected)})),Ot(Et(e),"getClassNames",(function(t){var r,a=e.props.dayClassName?e.props.dayClassName(t):void 0;return he.default("react-datepicker__day",a,"react-datepicker__day--"+Ut(e.props.day,"ddd",r),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSelected(),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isCurrentDay(),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isAfterMonth()||e.isBeforeMonth()},e.getHighLightedClass("react-datepicker__day--highlighted"),e.getHolidaysClass())})),Ot(Et(e),"getAriaLabel",(function(){var t=e.props,r=t.day,a=t.ariaLabelPrefixWhenEnabled,n=void 0===a?"Choose":a,s=t.ariaLabelPrefixWhenDisabled,i=void 0===s?"Not available":s,o=e.isDisabled()||e.isExcluded()?i:n;return"".concat(o," ").concat(Ut(r,"PPPP",e.props.locale))})),Ot(Et(e),"getTitle",(function(){var t=e.props,r=t.day,a=t.holidays,n=void 0===a?new Map:a,s=Ut(r,"MM.dd.yyyy");return n.has(s)&&n.get(s).holidayNames.length>0?n.get(s).holidayNames.join(", "):""})),Ot(Et(e),"getTabIndex",(function(t,r){var a=t||e.props.selected,n=r||e.props.preSelection;return(!e.props.showWeekPicker||!e.props.showWeekNumber&&e.isStartOfWeek())&&(e.isKeyboardSelected()||e.isSameDay(a)&&Jt(n,a))?0:-1})),Ot(Et(e),"handleFocusDay",(function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=!1;0===e.getTabIndex()&&!r.isInputFocused&&e.isSameDay(e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(a=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(a=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(a=!0),e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()&&(a=!1),e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()&&(a=!1)),a&&(null===(t=e.dayEl.current)||void 0===t||t.focus({preventScroll:!0}))})),Ot(Et(e),"renderDayContents",(function(){return e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()||e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()?null:e.props.renderDayContents?e.props.renderDayContents(De.default(e.props.day),e.props.day):De.default(e.props.day)})),Ot(Et(e),"render",(function(){return de.default.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"option",title:e.getTitle(),"aria-disabled":e.isDisabled(),"aria-current":e.isCurrentDay()?"date":void 0,"aria-selected":e.isSelected()||e.isInRange()},e.renderDayContents(),""!==e.getTitle()&&de.default.createElement("span",{className:"holiday-overlay"},e.getTitle()))})),e}return _t(r,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(e){this.handleFocusDay(e)}}]),r}(de.default.Component),Ur=function(e){Mt(r,e);var t=St(r);function r(){var e;jt(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return Ot(Et(e=t.call.apply(t,[this].concat(n))),"weekNumberEl",de.default.createRef()),Ot(Et(e),"handleClick",(function(t){e.props.onClick&&e.props.onClick(t)})),Ot(Et(e),"handleOnKeyDown",(function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)})),Ot(Et(e),"isKeyboardSelected",(function(){return!e.props.disabledKeyboardNavigation&&!Jt(e.props.date,e.props.selected)&&Jt(e.props.date,e.props.preSelection)})),Ot(Et(e),"getTabIndex",(function(){return e.props.showWeekPicker&&e.props.showWeekNumber&&(e.isKeyboardSelected()||Jt(e.props.date,e.props.selected)&&Jt(e.props.preSelection,e.props.selected))?0:-1})),Ot(Et(e),"handleFocusWeekNumber",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!1;0===e.getTabIndex()&&!t.isInputFocused&&Jt(e.props.date,e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(r=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(r=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(r=!0)),r&&e.weekNumberEl.current&&e.weekNumberEl.current.focus({preventScroll:!0})})),e}return _t(r,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(e){this.handleFocusWeekNumber(e)}},{key:"render",value:function(){var e=this.props,t=e.weekNumber,r=e.ariaLabelPrefix,a=void 0===r?"week ":r,n={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!e.onClick,"react-datepicker__week-number--selected":Jt(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return de.default.createElement("div",{ref:this.weekNumberEl,className:he.default(n),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},t)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}]),r}(de.default.Component),zr=function(e){Mt(r,e);var t=St(r);function r(){var e;jt(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return Ot(Et(e=t.call.apply(t,[this].concat(n))),"handleDayClick",(function(t,r){e.props.onDayClick&&e.props.onDayClick(t,r)})),Ot(Et(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),Ot(Et(e),"handleWeekClick",(function(t,r,a){if("function"==typeof e.props.onWeekSelect&&e.props.onWeekSelect(t,r,a),e.props.showWeekPicker){var n=Gt(t,e.props.locale,e.props.calendarStartDay);e.handleDayClick(n,a)}e.props.shouldCloseOnSelect&&e.props.setOpen(!1)})),Ot(Et(e),"formatWeekNumber",(function(t){return e.props.formatWeekNumber?e.props.formatWeekNumber(t):function(e,t){var r=t&&tr(t)||er()&&tr(er());return Ie.default(e,r?{locale:r}:null)}(t)})),Ot(Et(e),"renderDays",(function(){var t=Gt(e.props.day,e.props.locale,e.props.calendarStartDay),r=[],a=e.formatWeekNumber(t);if(e.props.showWeekNumber){var n=e.props.onWeekSelect||e.props.showWeekPicker?e.handleWeekClick.bind(Et(e),t,a):void 0;r.push(de.default.createElement(Ur,{key:"W",weekNumber:a,date:t,onClick:n,selected:e.props.selected,preSelection:e.props.preSelection,ariaLabelPrefix:e.props.ariaLabelPrefix,showWeekPicker:e.props.showWeekPicker,showWeekNumber:e.props.showWeekNumber,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef}))}return r.concat([0,1,2,3,4,5,6].map((function(r){var a=ve.default(t,r);return de.default.createElement(Br,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:a.valueOf(),day:a,month:e.props.month,onClick:e.handleDayClick.bind(Et(e),a),onMouseEnter:e.handleDayMouseEnter.bind(Et(e),a),minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,highlightDates:e.props.highlightDates,holidays:e.props.holidays,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,showWeekPicker:e.props.showWeekPicker,showWeekNumber:e.props.showWeekNumber,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,renderDayContents:e.props.renderDayContents,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart,locale:e.props.locale})})))})),Ot(Et(e),"startOfWeek",(function(){return Gt(e.props.day,e.props.locale,e.props.calendarStartDay)})),Ot(Et(e),"isKeyboardSelected",(function(){return!e.props.disabledKeyboardNavigation&&!Jt(e.startOfWeek(),e.props.selected)&&Jt(e.startOfWeek(),e.props.preSelection)})),e}return _t(r,[{key:"render",value:function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Jt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return de.default.createElement("div",{className:he.default(e)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),r}(de.default.Component),Yr="two_columns",Gr="three_columns",qr="four_columns",Hr=Ot(Ot(Ot({},Yr,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),Gr,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),qr,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4});function Wr(e,t){return e?qr:t?Yr:Gr}var Vr=function(e){Mt(r,e);var t=St(r);function r(){var e;jt(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return Ot(Et(e=t.call.apply(t,[this].concat(n))),"MONTH_REFS",Nt(Array(12)).map((function(){return de.default.createRef()}))),Ot(Et(e),"QUARTER_REFS",Nt(Array(4)).map((function(){return de.default.createRef()}))),Ot(Et(e),"isDisabled",(function(t){return nr(t,e.props)})),Ot(Et(e),"isExcluded",(function(t){return sr(t,e.props)})),Ot(Et(e),"handleDayClick",(function(t,r){e.props.onDayClick&&e.props.onDayClick(t,r,e.props.orderInDisplay)})),Ot(Et(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),Ot(Et(e),"handleMouseLeave",(function(){e.props.onMouseLeave&&e.props.onMouseLeave()})),Ot(Et(e),"isRangeStartMonth",(function(t){var r=e.props,a=r.day,n=r.startDate,s=r.endDate;return!(!n||!s)&&Zt(ze.default(a,t),n)})),Ot(Et(e),"isRangeStartQuarter",(function(t){var r=e.props,a=r.day,n=r.startDate,s=r.endDate;return!(!n||!s)&&Qt(Ye.default(a,t),n)})),Ot(Et(e),"isRangeEndMonth",(function(t){var r=e.props,a=r.day,n=r.startDate,s=r.endDate;return!(!n||!s)&&Zt(ze.default(a,t),s)})),Ot(Et(e),"isRangeEndQuarter",(function(t){var r=e.props,a=r.day,n=r.startDate,s=r.endDate;return!(!n||!s)&&Qt(Ye.default(a,t),s)})),Ot(Et(e),"isInSelectingRangeMonth",(function(t){var r,a=e.props,n=a.day,s=a.selectsStart,i=a.selectsEnd,o=a.selectsRange,c=a.startDate,l=a.endDate,u=null!==(r=e.props.selectingDate)&&void 0!==r?r:e.props.preSelection;return!(!(s||i||o)||!u)&&(s&&l?or(u,l,t,n):(i&&c||!(!o||!c||l))&&or(c,u,t,n))})),Ot(Et(e),"isSelectingMonthRangeStart",(function(t){var r;if(!e.isInSelectingRangeMonth(t))return!1;var a=e.props,n=a.day,s=a.startDate,i=a.selectsStart,o=ze.default(n,t),c=null!==(r=e.props.selectingDate)&&void 0!==r?r:e.props.preSelection;return Zt(o,i?c:s)})),Ot(Et(e),"isSelectingMonthRangeEnd",(function(t){var r;if(!e.isInSelectingRangeMonth(t))return!1;var a=e.props,n=a.day,s=a.endDate,i=a.selectsEnd,o=a.selectsRange,c=ze.default(n,t),l=null!==(r=e.props.selectingDate)&&void 0!==r?r:e.props.preSelection;return Zt(c,i||o?l:s)})),Ot(Et(e),"isInSelectingRangeQuarter",(function(t){var r,a=e.props,n=a.day,s=a.selectsStart,i=a.selectsEnd,o=a.selectsRange,c=a.startDate,l=a.endDate,u=null!==(r=e.props.selectingDate)&&void 0!==r?r:e.props.preSelection;return!(!(s||i||o)||!u)&&(s&&l?dr(u,l,t,n):(i&&c||!(!o||!c||l))&&dr(c,u,t,n))})),Ot(Et(e),"isWeekInMonth",(function(t){var r=e.props.day,a=ve.default(t,6);return Zt(t,r)||Zt(a,r)})),Ot(Et(e),"isCurrentMonth",(function(e,t){return Le.default(e)===Le.default(Ft())&&t===Ae.default(Ft())})),Ot(Et(e),"isCurrentQuarter",(function(e,t){return Le.default(e)===Le.default(Ft())&&t===Pe.default(Ft())})),Ot(Et(e),"isSelectedMonth",(function(e,t,r){return Ae.default(r)===t&&Le.default(e)===Le.default(r)})),Ot(Et(e),"isSelectedQuarter",(function(e,t,r){return Pe.default(e)===t&&Le.default(e)===Le.default(r)})),Ot(Et(e),"renderWeeks",(function(){for(var t=[],r=e.props.fixedHeight,a=0,n=!1,s=Gt(qt(e.props.day),e.props.locale,e.props.calendarStartDay);t.push(de.default.createElement(zr,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:e.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:e.props.disabledDayAriaLabelPrefix,key:a,day:s,month:Ae.default(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,onWeekSelect:e.props.onWeekSelect,formatWeekNumber:e.props.formatWeekNumber,locale:e.props.locale,minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,highlightDates:e.props.highlightDates,holidays:e.props.holidays,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,showWeekNumber:e.props.showWeekNumbers,showWeekPicker:e.props.showWeekPicker,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,setOpen:e.props.setOpen,shouldCloseOnSelect:e.props.shouldCloseOnSelect,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,renderDayContents:e.props.renderDayContents,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,calendarStartDay:e.props.calendarStartDay,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart})),!n;){a++,s=ye.default(s,1);var i=r&&a>=6,o=!r&&!e.isWeekInMonth(s);if(i||o){if(!e.props.peekNextMonth)break;n=!0}}return t})),Ot(Et(e),"onMonthClick",(function(t,r){e.handleDayClick(qt(ze.default(e.props.day,r)),t)})),Ot(Et(e),"onMonthMouseEnter",(function(t){e.handleDayMouseEnter(qt(ze.default(e.props.day,t)))})),Ot(Et(e),"handleMonthNavigation",(function(t,r){e.isDisabled(r)||e.isExcluded(r)||(e.props.setPreSelection(r),e.MONTH_REFS[t].current&&e.MONTH_REFS[t].current.focus())})),Ot(Et(e),"onMonthKeyDown",(function(t,r){var a=e.props,n=a.selected,s=a.preSelection,i=a.disabledKeyboardNavigation,o=a.showTwoColumnMonthYearPicker,c=a.showFourColumnMonthYearPicker,l=a.setPreSelection,u=t.key;if("Tab"!==u&&t.preventDefault(),!i){var d=Wr(c,o),h=Hr[d].verticalNavigationOffset,p=Hr[d].grid;switch(u){case"Enter":e.onMonthClick(t,r),l(n);break;case"ArrowRight":e.handleMonthNavigation(11===r?0:r+1,je.default(s,1));break;case"ArrowLeft":e.handleMonthNavigation(0===r?11:r-1,Me.default(s,1));break;case"ArrowUp":e.handleMonthNavigation(p[0].includes(r)?r+12-h:r-h,Me.default(s,h));break;case"ArrowDown":e.handleMonthNavigation(p[p.length-1].includes(r)?r-12+h:r+h,je.default(s,h))}}})),Ot(Et(e),"onQuarterClick",(function(t,r){e.handleDayClick(Wt(Ye.default(e.props.day,r)),t)})),Ot(Et(e),"onQuarterMouseEnter",(function(t){e.handleDayMouseEnter(Wt(Ye.default(e.props.day,t)))})),Ot(Et(e),"handleQuarterNavigation",(function(t,r){e.isDisabled(r)||e.isExcluded(r)||(e.props.setPreSelection(r),e.QUARTER_REFS[t-1].current&&e.QUARTER_REFS[t-1].current.focus())})),Ot(Et(e),"onQuarterKeyDown",(function(t,r){var a=t.key;if(!e.props.disabledKeyboardNavigation)switch(a){case"Enter":e.onQuarterClick(t,r),e.props.setPreSelection(e.props.selected);break;case"ArrowRight":e.handleQuarterNavigation(4===r?1:r+1,we.default(e.props.preSelection,1));break;case"ArrowLeft":e.handleQuarterNavigation(1===r?4:r-1,ke.default(e.props.preSelection,1))}})),Ot(Et(e),"getMonthClassNames",(function(t){var r=e.props,a=r.day,n=r.startDate,s=r.endDate,i=r.selected,o=r.minDate,c=r.maxDate,l=r.preSelection,u=r.monthClassName,d=r.excludeDates,h=r.includeDates,p=u?u(ze.default(a,t)):void 0,f=ze.default(a,t);return he.default("react-datepicker__month-text","react-datepicker__month-".concat(t),p,{"react-datepicker__month-text--disabled":(o||c||d||h)&&ir(f,e.props),"react-datepicker__month-text--selected":e.isSelectedMonth(a,t,i),"react-datepicker__month-text--keyboard-selected":!e.props.disabledKeyboardNavigation&&Ae.default(l)===t,"react-datepicker__month-text--in-selecting-range":e.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":or(n,s,t,a),"react-datepicker__month-text--range-start":e.isRangeStartMonth(t),"react-datepicker__month-text--range-end":e.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":e.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":e.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":e.isCurrentMonth(a,t)})})),Ot(Et(e),"getTabIndex",(function(t){var r=Ae.default(e.props.preSelection);return e.props.disabledKeyboardNavigation||t!==r?"-1":"0"})),Ot(Et(e),"getQuarterTabIndex",(function(t){var r=Pe.default(e.props.preSelection);return e.props.disabledKeyboardNavigation||t!==r?"-1":"0"})),Ot(Et(e),"getAriaLabel",(function(t){var r=e.props,a=r.chooseDayAriaLabelPrefix,n=void 0===a?"Choose":a,s=r.disabledDayAriaLabelPrefix,i=void 0===s?"Not available":s,o=r.day,c=ze.default(o,t),l=e.isDisabled(c)||e.isExcluded(c)?i:n;return"".concat(l," ").concat(Ut(c,"MMMM yyyy"))})),Ot(Et(e),"getQuarterClassNames",(function(t){var r=e.props,a=r.day,n=r.startDate,s=r.endDate,i=r.selected,o=r.minDate,c=r.maxDate,l=r.preSelection,u=r.disabledKeyboardNavigation;return he.default("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":(o||c)&&cr(Ye.default(a,t),e.props),"react-datepicker__quarter-text--selected":e.isSelectedQuarter(a,t,i),"react-datepicker__quarter-text--keyboard-selected":!u&&Pe.default(l)===t,"react-datepicker__quarter-text--in-selecting-range":e.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":dr(n,s,t,a),"react-datepicker__quarter-text--range-start":e.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":e.isRangeEndQuarter(t)})})),Ot(Et(e),"getMonthContent",(function(t){var r=e.props,a=r.showFullMonthYearPicker,n=r.renderMonthContent,s=r.locale,i=r.day,o=ar(t,s),c=rr(t,s);return n?n(t,o,c,i):a?c:o})),Ot(Et(e),"getQuarterContent",(function(t){var r=e.props,a=r.renderQuarterContent,n=function(e,t){return Ut(Ye.default(Ft(),e),"QQQ",t)}(t,r.locale);return a?a(t,n):n})),Ot(Et(e),"renderMonths",(function(){var t=e.props,r=t.showTwoColumnMonthYearPicker,a=t.showFourColumnMonthYearPicker,n=t.day,s=t.selected;return Hr[Wr(a,r)].grid.map((function(t,r){return de.default.createElement("div",{className:"react-datepicker__month-wrapper",key:r},t.map((function(t,r){return de.default.createElement("div",{ref:e.MONTH_REFS[t],key:r,onClick:function(r){e.onMonthClick(r,t)},onKeyDown:function(r){e.onMonthKeyDown(r,t)},onMouseEnter:function(){return e.onMonthMouseEnter(t)},tabIndex:e.getTabIndex(t),className:e.getMonthClassNames(t),role:"option","aria-label":e.getAriaLabel(t),"aria-current":e.isCurrentMonth(n,t)?"date":void 0,"aria-selected":e.isSelectedMonth(n,t,s)},e.getMonthContent(t))})))}))})),Ot(Et(e),"renderQuarters",(function(){var t=e.props,r=t.day,a=t.selected;return de.default.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(t,n){return de.default.createElement("div",{key:n,ref:e.QUARTER_REFS[n],role:"option",onClick:function(r){e.onQuarterClick(r,t)},onKeyDown:function(r){e.onQuarterKeyDown(r,t)},onMouseEnter:function(){return e.onQuarterMouseEnter(t)},className:e.getQuarterClassNames(t),"aria-selected":e.isSelectedQuarter(r,t,a),tabIndex:e.getQuarterTabIndex(t),"aria-current":e.isCurrentQuarter(r,t)?"date":void 0},e.getQuarterContent(t))})))})),Ot(Et(e),"getClassNames",(function(){var t=e.props,r=t.selectingDate,a=t.selectsStart,n=t.selectsEnd,s=t.showMonthYearPicker,i=t.showQuarterYearPicker,o=t.showWeekPicker;return he.default("react-datepicker__month",{"react-datepicker__month--selecting-range":r&&(a||n)},{"react-datepicker__monthPicker":s},{"react-datepicker__quarterPicker":i},{"react-datepicker__weekPicker":o})})),e}return _t(r,[{key:"render",value:function(){var e=this.props,t=e.showMonthYearPicker,r=e.showQuarterYearPicker,a=e.day,n=e.ariaLabelPrefix,s=void 0===n?"month ":n;return de.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(s," ").concat(Ut(a,"yyyy-MM")),role:"listbox"},t?this.renderMonths():r?this.renderQuarters():this.renderWeeks())}}]),r}(de.default.Component),Kr=function(e){Mt(r,e);var t=St(r);function r(){var e;jt(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return Ot(Et(e=t.call.apply(t,[this].concat(n))),"state",{height:null}),Ot(Et(e),"scrollToTheSelectedTime",(function(){requestAnimationFrame((function(){e.list&&(e.list.scrollTop=e.centerLi&&r.calcCenterPosition(e.props.monthRef?e.props.monthRef.clientHeight-e.header.clientHeight:e.list.clientHeight,e.centerLi))}))})),Ot(Et(e),"handleClick",(function(t){(e.props.minTime||e.props.maxTime)&&mr(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&fr(t,e.props)||e.props.onChange(t)})),Ot(Et(e),"isSelectedTime",(function(t){return e.props.selected&&(r=t,Cr(e.props.selected).getTime()===Cr(r).getTime());var r})),Ot(Et(e),"isDisabledTime",(function(t){return(e.props.minTime||e.props.maxTime)&&mr(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&fr(t,e.props)})),Ot(Et(e),"liClasses",(function(t){var r=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(t):void 0];return e.isSelectedTime(t)&&r.push("react-datepicker__time-list-item--selected"),e.isDisabledTime(t)&&r.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(60*Ne.default(t)+Se.default(t))%e.props.intervals!=0&&r.push("react-datepicker__time-list-item--injected"),r.join(" ")})),Ot(Et(e),"handleOnKeyDown",(function(t,r){" "===t.key&&(t.preventDefault(),t.key="Enter"),"ArrowUp"!==t.key&&"ArrowLeft"!==t.key||!t.target.previousSibling||(t.preventDefault(),t.target.previousSibling.focus()),"ArrowDown"!==t.key&&"ArrowRight"!==t.key||!t.target.nextSibling||(t.preventDefault(),t.target.nextSibling.focus()),"Enter"===t.key&&e.handleClick(r),e.props.handleOnKeyDown(t)})),Ot(Et(e),"renderTimes",(function(){for(var t,r=[],a=e.props.format?e.props.format:"p",n=e.props.intervals,s=e.props.selected||e.props.openToDate||Ft(),i=(t=s,Ze.default(t)),o=e.props.injectTimes&&e.props.injectTimes.sort((function(e,t){return e-t})),c=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}(s),l=c/n,u=0;u<l;u++){var d=be.default(i,u*n);if(r.push(d),o){var h=xr(i,d,u,n,o);r=r.concat(h)}}var p=r.reduce((function(e,t){return t.getTime()<=s.getTime()?t:e}),r[0]);return r.map((function(t,r){return de.default.createElement("li",{key:r,onClick:e.handleClick.bind(Et(e),t),className:e.liClasses(t),ref:function(r){t===p&&(e.centerLi=r)},onKeyDown:function(r){e.handleOnKeyDown(r,t)},tabIndex:t===p?0:-1,role:"option","aria-selected":e.isSelectedTime(t)?"true":void 0,"aria-disabled":e.isDisabledTime(t)?"true":void 0},Ut(t,a,e.props.locale))}))})),e}return _t(r,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var e=this,t=this.state.height;return de.default.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},de.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){e.header=t}},de.default.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),de.default.createElement("div",{className:"react-datepicker__time"},de.default.createElement("div",{className:"react-datepicker__time-box"},de.default.createElement("ul",{className:"react-datepicker__time-list",ref:function(t){e.list=t},style:t?{height:t}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),r}(de.default.Component);Ot(Kr,"calcCenterPosition",(function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)}));var Zr=function(e){Mt(r,e);var t=St(r);function r(e){var a;return jt(this,r),Ot(Et(a=t.call(this,e)),"YEAR_REFS",Nt(Array(a.props.yearItemNumber)).map((function(){return de.default.createRef()}))),Ot(Et(a),"isDisabled",(function(e){return nr(e,a.props)})),Ot(Et(a),"isExcluded",(function(e){return sr(e,a.props)})),Ot(Et(a),"selectingDate",(function(){var e;return null!==(e=a.props.selectingDate)&&void 0!==e?e:a.props.preSelection})),Ot(Et(a),"updateFocusOnPaginate",(function(e){var t=function(){this.YEAR_REFS[e].current.focus()}.bind(Et(a));window.requestAnimationFrame(t)})),Ot(Et(a),"handleYearClick",(function(e,t){a.props.onDayClick&&a.props.onDayClick(e,t)})),Ot(Et(a),"handleYearNavigation",(function(e,t){var r=a.props,n=r.date,s=r.yearItemNumber,i=kr(n,s).startPeriod;a.isDisabled(t)||a.isExcluded(t)||(a.props.setPreSelection(t),e-i==-1?a.updateFocusOnPaginate(s-1):e-i===s?a.updateFocusOnPaginate(0):a.YEAR_REFS[e-i].current.focus())})),Ot(Et(a),"isSameDay",(function(e,t){return Jt(e,t)})),Ot(Et(a),"isCurrentYear",(function(e){return e===Le.default(Ft())})),Ot(Et(a),"isRangeStart",(function(e){return a.props.startDate&&a.props.endDate&&Kt(Ge.default(Ft(),e),a.props.startDate)})),Ot(Et(a),"isRangeEnd",(function(e){return a.props.startDate&&a.props.endDate&&Kt(Ge.default(Ft(),e),a.props.endDate)})),Ot(Et(a),"isInRange",(function(e){return lr(e,a.props.startDate,a.props.endDate)})),Ot(Et(a),"isInSelectingRange",(function(e){var t=a.props,r=t.selectsStart,n=t.selectsEnd,s=t.selectsRange,i=t.startDate,o=t.endDate;return!(!(r||n||s)||!a.selectingDate())&&(r&&o?lr(e,a.selectingDate(),o):(n&&i||!(!s||!i||o))&&lr(e,i,a.selectingDate()))})),Ot(Et(a),"isSelectingRangeStart",(function(e){if(!a.isInSelectingRange(e))return!1;var t=a.props,r=t.startDate,n=t.selectsStart;return Kt(Ge.default(Ft(),e),n?a.selectingDate():r)})),Ot(Et(a),"isSelectingRangeEnd",(function(e){if(!a.isInSelectingRange(e))return!1;var t=a.props,r=t.endDate,n=t.selectsEnd,s=t.selectsRange;return Kt(Ge.default(Ft(),e),n||s?a.selectingDate():r)})),Ot(Et(a),"isKeyboardSelected",(function(e){var t=Ht(Ge.default(a.props.date,e));return!a.props.disabledKeyboardNavigation&&!a.props.inline&&!Jt(t,Ht(a.props.selected))&&Jt(t,Ht(a.props.preSelection))})),Ot(Et(a),"onYearClick",(function(e,t){var r=a.props.date;a.handleYearClick(Ht(Ge.default(r,t)),e)})),Ot(Et(a),"onYearKeyDown",(function(e,t){var r=e.key;if(!a.props.disabledKeyboardNavigation)switch(r){case"Enter":a.onYearClick(e,t),a.props.setPreSelection(a.props.selected);break;case"ArrowRight":a.handleYearNavigation(t+1,_e.default(a.props.preSelection,1));break;case"ArrowLeft":a.handleYearNavigation(t-1,Ce.default(a.props.preSelection,1))}})),Ot(Et(a),"getYearClassNames",(function(e){var t=a.props,r=t.minDate,n=t.maxDate,s=t.selected,i=t.excludeDates,o=t.includeDates,c=t.filterDate;return he.default("react-datepicker__year-text",{"react-datepicker__year-text--selected":e===Le.default(s),"react-datepicker__year-text--disabled":(r||n||i||o||c)&&ur(e,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(e),"react-datepicker__year-text--range-start":a.isRangeStart(e),"react-datepicker__year-text--range-end":a.isRangeEnd(e),"react-datepicker__year-text--in-range":a.isInRange(e),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(e),"react-datepicker__year-text--today":a.isCurrentYear(e)})})),Ot(Et(a),"getYearTabIndex",(function(e){return a.props.disabledKeyboardNavigation?"-1":e===Le.default(a.props.preSelection)?"0":"-1"})),Ot(Et(a),"getYearContainerClassNames",(function(){var e=a.props,t=e.selectingDate,r=e.selectsStart,n=e.selectsEnd,s=e.selectsRange;return he.default("react-datepicker__year",{"react-datepicker__year--selecting-range":t&&(r||n||s)})})),Ot(Et(a),"getYearContent",(function(e){return a.props.renderYearContent?a.props.renderYearContent(e):e})),a}return _t(r,[{key:"render",value:function(){for(var e=this,t=[],r=this.props,a=r.date,n=r.yearItemNumber,s=r.onYearMouseEnter,i=r.onYearMouseLeave,o=kr(a,n),c=o.startPeriod,l=o.endPeriod,u=function(r){t.push(de.default.createElement("div",{ref:e.YEAR_REFS[r-c],onClick:function(t){e.onYearClick(t,r)},onKeyDown:function(t){e.onYearKeyDown(t,r)},tabIndex:e.getYearTabIndex(r),className:e.getYearClassNames(r),onMouseEnter:function(e){return s(e,r)},onMouseLeave:function(e){return i(e,r)},key:r,"aria-current":e.isCurrentYear(r)?"date":void 0},e.getYearContent(r)))},d=c;d<=l;d++)u(d);return de.default.createElement("div",{className:this.getYearContainerClassNames()},de.default.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.clearSelectingDate},t))}}]),r}(de.default.Component),Qr=function(e){Mt(r,e);var t=St(r);function r(e){var a;return jt(this,r),Ot(Et(a=t.call(this,e)),"onTimeChange",(function(e){a.setState({time:e});var t=a.props.date,r=t instanceof Date&&!isNaN(t)?t:new Date;r.setHours(e.split(":")[0]),r.setMinutes(e.split(":")[1]),a.props.onChange(r)})),Ot(Et(a),"renderTimeInput",(function(){var e=a.state.time,t=a.props,r=t.date,n=t.timeString,s=t.customTimeInput;return s?de.default.cloneElement(s,{date:r,value:e,onChange:a.onTimeChange}):de.default.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:e,onChange:function(e){a.onTimeChange(e.target.value||n)}})})),a.state={time:a.props.timeString},a}return _t(r,[{key:"render",value:function(){return de.default.createElement("div",{className:"react-datepicker__input-time-container"},de.default.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),de.default.createElement("div",{className:"react-datepicker-time__input-container"},de.default.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.timeString!==t.time?{time:e.timeString}:null}}]),r}(de.default.Component);function Jr(e){var t=e.className,r=e.children,a=e.showPopperArrow,n=e.arrowProps,s=void 0===n?{}:n;return de.default.createElement("div",{className:t},a&&de.default.createElement("div",xt({className:"react-datepicker__triangle"},s)),r)}var Xr=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],$r=function(e){Mt(r,e);var t=St(r);function r(e){var a;return jt(this,r),Ot(Et(a=t.call(this,e)),"handleClickOutside",(function(e){a.props.onClickOutside(e)})),Ot(Et(a),"setClickOutsideRef",(function(){return a.containerRef.current})),Ot(Et(a),"handleDropdownFocus",(function(e){(function(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).className||"").split(/\s+/);return Xr.some((function(t){return e.indexOf(t)>=0}))})(e.target)&&a.props.onDropdownFocus()})),Ot(Et(a),"getDateInView",(function(){var e=a.props,t=e.preSelection,r=e.selected,n=e.openToDate,s=jr(a.props),i=wr(a.props),o=Ft();return n||r||t||(s&&lt.default(o,s)?s:i&&ct.default(o,i)?i:o)})),Ot(Et(a),"increaseMonth",(function(){a.setState((function(e){var t=e.date;return{date:je.default(t,1)}}),(function(){return a.handleMonthChange(a.state.date)}))})),Ot(Et(a),"decreaseMonth",(function(){a.setState((function(e){var t=e.date;return{date:Me.default(t,1)}}),(function(){return a.handleMonthChange(a.state.date)}))})),Ot(Et(a),"handleDayClick",(function(e,t,r){a.props.onSelect(e,t,r),a.props.setPreSelection&&a.props.setPreSelection(e)})),Ot(Et(a),"handleDayMouseEnter",(function(e){a.setState({selectingDate:e}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(e)})),Ot(Et(a),"handleMonthMouseLeave",(function(){a.setState({selectingDate:null}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()})),Ot(Et(a),"handleYearMouseEnter",(function(e,t){a.setState({selectingDate:Ge.default(Ft(),t)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(e,t)})),Ot(Et(a),"handleYearMouseLeave",(function(e,t){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(e,t)})),Ot(Et(a),"handleYearChange",(function(e){a.props.onYearChange&&(a.props.onYearChange(e),a.setState({isRenderAriaLiveMessage:!0})),a.props.adjustDateOnChange&&(a.props.onSelect&&a.props.onSelect(e),a.props.setOpen&&a.props.setOpen(!0)),a.props.setPreSelection&&a.props.setPreSelection(e)})),Ot(Et(a),"handleMonthChange",(function(e){a.handleCustomMonthChange(e),a.props.adjustDateOnChange&&(a.props.onSelect&&a.props.onSelect(e),a.props.setOpen&&a.props.setOpen(!0)),a.props.setPreSelection&&a.props.setPreSelection(e)})),Ot(Et(a),"handleCustomMonthChange",(function(e){a.props.onMonthChange&&(a.props.onMonthChange(e),a.setState({isRenderAriaLiveMessage:!0}))})),Ot(Et(a),"handleMonthYearChange",(function(e){a.handleYearChange(e),a.handleMonthChange(e)})),Ot(Et(a),"changeYear",(function(e){a.setState((function(t){var r=t.date;return{date:Ge.default(r,e)}}),(function(){return a.handleYearChange(a.state.date)}))})),Ot(Et(a),"changeMonth",(function(e){a.setState((function(t){var r=t.date;return{date:ze.default(r,e)}}),(function(){return a.handleMonthChange(a.state.date)}))})),Ot(Et(a),"changeMonthYear",(function(e){a.setState((function(t){var r=t.date;return{date:Ge.default(ze.default(r,Ae.default(e)),Le.default(e))}}),(function(){return a.handleMonthYearChange(a.state.date)}))})),Ot(Et(a),"header",(function(){var e=Gt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.state.date,a.props.locale,a.props.calendarStartDay),t=[];return a.props.showWeekNumbers&&t.push(de.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},a.props.weekLabel||"#")),t.concat([0,1,2,3,4,5,6].map((function(t){var r=ve.default(e,t),n=a.formatWeekday(r,a.props.locale),s=a.props.weekDayClassName?a.props.weekDayClassName(r):void 0;return de.default.createElement("div",{key:t,className:he.default("react-datepicker__day-name",s)},n)})))})),Ot(Et(a),"formatWeekday",(function(e,t){return a.props.formatWeekDay?function(e,t,r){return t(Ut(e,"EEEE",r))}(e,a.props.formatWeekDay,t):a.props.useWeekdaysShort?function(e,t){return Ut(e,"EEE",t)}(e,t):function(e,t){return Ut(e,"EEEEEE",t)}(e,t)})),Ot(Et(a),"decreaseYear",(function(){a.setState((function(e){var t=e.date;return{date:Ce.default(t,a.props.showYearPicker?a.props.yearItemNumber:1)}}),(function(){return a.handleYearChange(a.state.date)}))})),Ot(Et(a),"clearSelectingDate",(function(){a.setState({selectingDate:null})})),Ot(Et(a),"renderPreviousButton",(function(){if(!a.props.renderCustomHeader){var e;switch(!0){case a.props.showMonthYearPicker:e=vr(a.state.date,a.props);break;case a.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.minDate,a=t.yearItemNumber,n=void 0===a?Lt:a,s=kr(Ht(Ce.default(e,n)),n).endPeriod,i=r&&Le.default(r);return i&&i>s||!1}(a.state.date,a.props);break;default:e=br(a.state.date,a.props)}if((a.props.forceShowMonthNavigation||a.props.showDisabledMonthNavigation||!e)&&!a.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--previous"],r=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(r=a.decreaseYear),e&&a.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--previous--disabled"),r=null);var n=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,s=a.props,i=s.previousMonthButtonLabel,o=s.previousYearButtonLabel,c=a.props,l=c.previousMonthAriaLabel,u=void 0===l?"string"==typeof i?i:"Previous Month":l,d=c.previousYearAriaLabel,h=void 0===d?"string"==typeof o?o:"Previous Year":d;return de.default.createElement("button",{type:"button",className:t.join(" "),onClick:r,onKeyDown:a.props.handleOnKeyDown,"aria-label":n?h:u},de.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},n?a.props.previousYearButtonLabel:a.props.previousMonthButtonLabel))}}})),Ot(Et(a),"increaseYear",(function(){a.setState((function(e){var t=e.date;return{date:_e.default(t,a.props.showYearPicker?a.props.yearItemNumber:1)}}),(function(){return a.handleYearChange(a.state.date)}))})),Ot(Et(a),"renderNextButton",(function(){if(!a.props.renderCustomHeader){var e;switch(!0){case a.props.showMonthYearPicker:e=yr(a.state.date,a.props);break;case a.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.maxDate,a=t.yearItemNumber,n=void 0===a?Lt:a,s=kr(_e.default(e,n),n).startPeriod,i=r&&Le.default(r);return i&&i<s||!1}(a.state.date,a.props);break;default:e=gr(a.state.date,a.props)}if((a.props.forceShowMonthNavigation||a.props.showDisabledMonthNavigation||!e)&&!a.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--next"];a.props.showTimeSelect&&t.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&t.push("react-datepicker__navigation--next--with-today-button");var r=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(r=a.increaseYear),e&&a.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--next--disabled"),r=null);var n=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,s=a.props,i=s.nextMonthButtonLabel,o=s.nextYearButtonLabel,c=a.props,l=c.nextMonthAriaLabel,u=void 0===l?"string"==typeof i?i:"Next Month":l,d=c.nextYearAriaLabel,h=void 0===d?"string"==typeof o?o:"Next Year":d;return de.default.createElement("button",{type:"button",className:t.join(" "),onClick:r,onKeyDown:a.props.handleOnKeyDown,"aria-label":n?h:u},de.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},n?a.props.nextYearButtonLabel:a.props.nextMonthButtonLabel))}}})),Ot(Et(a),"renderCurrentMonth",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.state.date,t=["react-datepicker__current-month"];return a.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),de.default.createElement("div",{className:t.join(" ")},Ut(e,a.props.dateFormat,a.props.locale))})),Ot(Et(a),"renderYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a.props.showYearDropdown&&!e)return de.default.createElement(Tr,{adjustDateOnChange:a.props.adjustDateOnChange,date:a.state.date,onSelect:a.props.onSelect,setOpen:a.props.setOpen,dropdownMode:a.props.dropdownMode,onChange:a.changeYear,minDate:a.props.minDate,maxDate:a.props.maxDate,year:Le.default(a.state.date),scrollableYearDropdown:a.props.scrollableYearDropdown,yearDropdownItemNumber:a.props.yearDropdownItemNumber})})),Ot(Et(a),"renderMonthDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a.props.showMonthDropdown&&!e)return de.default.createElement(Ar,{dropdownMode:a.props.dropdownMode,locale:a.props.locale,onChange:a.changeMonth,month:Ae.default(a.state.date),useShortMonthInDropdown:a.props.useShortMonthInDropdown})})),Ot(Et(a),"renderMonthYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a.props.showMonthYearDropdown&&!e)return de.default.createElement(Fr,{dropdownMode:a.props.dropdownMode,locale:a.props.locale,dateFormat:a.props.dateFormat,onChange:a.changeMonthYear,minDate:a.props.minDate,maxDate:a.props.maxDate,date:a.state.date,scrollableMonthYearDropdown:a.props.scrollableMonthYearDropdown})})),Ot(Et(a),"handleTodayButtonClick",(function(e){a.props.onSelect(Vt(),e),a.props.setPreSelection&&a.props.setPreSelection(Vt())})),Ot(Et(a),"renderTodayButton",(function(){if(a.props.todayButton&&!a.props.showTimeSelectOnly)return de.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return a.handleTodayButtonClick(e)}},a.props.todayButton)})),Ot(Et(a),"renderDefaultHeader",(function(e){var t=e.monthDate,r=e.i;return de.default.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(t),de.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(0!==r),a.renderMonthYearDropdown(0!==r),a.renderYearDropdown(0!==r)),de.default.createElement("div",{className:"react-datepicker__day-names"},a.header(t)))})),Ot(Et(a),"renderCustomHeader",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.monthDate,r=e.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var n=br(a.state.date,a.props),s=gr(a.state.date,a.props),i=vr(a.state.date,a.props),o=yr(a.state.date,a.props),c=!a.props.showMonthYearPicker&&!a.props.showQuarterYearPicker&&!a.props.showYearPicker;return de.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},a.props.renderCustomHeader(vt(vt({},a.state),{},{customHeaderCount:r,monthDate:t,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:n,nextMonthButtonDisabled:s,prevYearButtonDisabled:i,nextYearButtonDisabled:o})),c&&de.default.createElement("div",{className:"react-datepicker__day-names"},a.header(t)))})),Ot(Et(a),"renderYearHeader",(function(){var e=a.state.date,t=a.props,r=t.showYearPicker,n=kr(e,t.yearItemNumber),s=n.startPeriod,i=n.endPeriod;return de.default.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},r?"".concat(s," - ").concat(i):Le.default(e))})),Ot(Et(a),"renderHeader",(function(e){switch(!0){case void 0!==a.props.renderCustomHeader:return a.renderCustomHeader(e);case a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker:return a.renderYearHeader(e);default:return a.renderDefaultHeader(e)}})),Ot(Et(a),"renderMonths",(function(){var e;if(!a.props.showTimeSelectOnly&&!a.props.showYearPicker){for(var t=[],r=a.props.showPreviousMonths?a.props.monthsShown-1:0,n=Me.default(a.state.date,r),s=null!==(e=a.props.monthSelectedIn)&&void 0!==e?e:r,i=0;i<a.props.monthsShown;++i){var o=i-s+r,c=je.default(n,o),l="month-".concat(i),u=i<a.props.monthsShown-1,d=i>0;t.push(de.default.createElement("div",{key:l,ref:function(e){a.monthContainer=e},className:"react-datepicker__month-container"},a.renderHeader({monthDate:c,i:i}),de.default.createElement(Vr,{chooseDayAriaLabelPrefix:a.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:a.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:a.props.weekAriaLabelPrefix,ariaLabelPrefix:a.props.monthAriaLabelPrefix,onChange:a.changeMonthYear,day:c,dayClassName:a.props.dayClassName,calendarStartDay:a.props.calendarStartDay,monthClassName:a.props.monthClassName,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,onWeekSelect:a.props.onWeekSelect,orderInDisplay:i,formatWeekNumber:a.props.formatWeekNumber,locale:a.props.locale,minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals,highlightDates:a.props.highlightDates,holidays:a.props.holidays,selectingDate:a.state.selectingDate,includeDates:a.props.includeDates,includeDateIntervals:a.props.includeDateIntervals,inline:a.props.inline,shouldFocusDayInline:a.props.shouldFocusDayInline,fixedHeight:a.props.fixedHeight,filterDate:a.props.filterDate,preSelection:a.props.preSelection,setPreSelection:a.props.setPreSelection,selected:a.props.selected,selectsStart:a.props.selectsStart,selectsEnd:a.props.selectsEnd,selectsRange:a.props.selectsRange,selectsDisabledDaysInRange:a.props.selectsDisabledDaysInRange,showWeekNumbers:a.props.showWeekNumbers,startDate:a.props.startDate,endDate:a.props.endDate,peekNextMonth:a.props.peekNextMonth,setOpen:a.props.setOpen,shouldCloseOnSelect:a.props.shouldCloseOnSelect,renderDayContents:a.props.renderDayContents,renderMonthContent:a.props.renderMonthContent,renderQuarterContent:a.props.renderQuarterContent,renderYearContent:a.props.renderYearContent,disabledKeyboardNavigation:a.props.disabledKeyboardNavigation,showMonthYearPicker:a.props.showMonthYearPicker,showFullMonthYearPicker:a.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:a.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:a.props.showFourColumnMonthYearPicker,showYearPicker:a.props.showYearPicker,showQuarterYearPicker:a.props.showQuarterYearPicker,showWeekPicker:a.props.showWeekPicker,isInputFocused:a.props.isInputFocused,containerRef:a.containerRef,monthShowsDuplicateDaysEnd:u,monthShowsDuplicateDaysStart:d})))}return t}})),Ot(Et(a),"renderYears",(function(){if(!a.props.showTimeSelectOnly)return a.props.showYearPicker?de.default.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader(),de.default.createElement(Zr,xt({onDayClick:a.handleDayClick,selectingDate:a.state.selectingDate,clearSelectingDate:a.clearSelectingDate,date:a.state.date},a.props,{onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave}))):void 0})),Ot(Et(a),"renderTimeSection",(function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return de.default.createElement(Kr,{selected:a.props.selected,openToDate:a.props.openToDate,onChange:a.props.onTimeChange,timeClassName:a.props.timeClassName,format:a.props.timeFormat,includeTimes:a.props.includeTimes,intervals:a.props.timeIntervals,minTime:a.props.minTime,maxTime:a.props.maxTime,excludeTimes:a.props.excludeTimes,filterTime:a.props.filterTime,timeCaption:a.props.timeCaption,todayButton:a.props.todayButton,showMonthDropdown:a.props.showMonthDropdown,showMonthYearDropdown:a.props.showMonthYearDropdown,showYearDropdown:a.props.showYearDropdown,withPortal:a.props.withPortal,monthRef:a.state.monthContainer,injectTimes:a.props.injectTimes,locale:a.props.locale,handleOnKeyDown:a.props.handleOnKeyDown,showTimeSelectOnly:a.props.showTimeSelectOnly})})),Ot(Et(a),"renderInputTimeSection",(function(){var e=new Date(a.props.selected),t=Bt(e)&&Boolean(a.props.selected)?"".concat(Mr(e.getHours()),":").concat(Mr(e.getMinutes())):"";if(a.props.showTimeInput)return de.default.createElement(Qr,{date:e,timeString:t,timeInputLabel:a.props.timeInputLabel,onChange:a.props.onTimeChange,customTimeInput:a.props.customTimeInput})})),Ot(Et(a),"renderAriaLiveRegion",(function(){var e,t=kr(a.state.date,a.props.yearItemNumber),r=t.startPeriod,n=t.endPeriod;return e=a.props.showYearPicker?"".concat(r," - ").concat(n):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?Le.default(a.state.date):"".concat(rr(Ae.default(a.state.date),a.props.locale)," ").concat(Le.default(a.state.date)),de.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&e)})),Ot(Et(a),"renderChildren",(function(){if(a.props.children)return de.default.createElement("div",{className:"react-datepicker__children-container"},a.props.children)})),a.containerRef=de.default.createRef(),a.state={date:a.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},a}return _t(r,[{key:"componentDidMount",value:function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))}},{key:"componentDidUpdate",value:function(e){var t=this;if(!this.props.preSelection||Jt(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Jt(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var r=!Zt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},(function(){return r&&t.handleCustomMonthChange(t.state.date)}))}}},{key:"render",value:function(){var e=this.props.container||Jr;return de.default.createElement("div",{style:{display:"contents"},ref:this.containerRef},de.default.createElement(e,{className:he.default("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow,arrowProps:this.props.arrowProps},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Lt}}}]),r}(de.default.Component),ea=function(e){var t=e.icon,r=e.className,a=void 0===r?"":r,n=e.onClick,s="react-datepicker__calendar-icon";return de.default.isValidElement(t)?de.default.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(s," ").concat(a),onClick:function(e){"function"==typeof t.props.onClick&&t.props.onClick(e),"function"==typeof n&&n(e)}}):"string"==typeof t?de.default.createElement("i",{className:"".concat(s," ").concat(t," ").concat(a),"aria-hidden":"true",onClick:n}):de.default.createElement("svg",{className:"".concat(s," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:n},de.default.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},ta=function(e){Mt(r,e);var t=St(r);function r(e){var a;return jt(this,r),(a=t.call(this,e)).el=document.createElement("div"),a}return _t(r,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return mt.default.createPortal(this.props.children,this.el)}}]),r}(de.default.Component),ra=function(e){return!e.disabled&&-1!==e.tabIndex},aa=function(e){Mt(r,e);var t=St(r);function r(e){var a;return jt(this,r),Ot(Et(a=t.call(this,e)),"getTabChildren",(function(){return Array.prototype.slice.call(a.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(ra)})),Ot(Et(a),"handleFocusStart",(function(){var e=a.getTabChildren();e&&e.length>1&&e[e.length-1].focus()})),Ot(Et(a),"handleFocusEnd",(function(){var e=a.getTabChildren();e&&e.length>1&&e[0].focus()})),a.tabLoopRef=de.default.createRef(),a}return _t(r,[{key:"render",value:function(){return this.props.enableTabLoop?de.default.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},de.default.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,de.default.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),r}(de.default.Component),na=function(e){Mt(r,e);var t=St(r);function r(){return jt(this,r),t.apply(this,arguments)}return _t(r,[{key:"render",value:function(){var e,t=this.props,r=t.className,a=t.wrapperClassName,n=t.hidePopper,s=t.popperComponent,i=t.popperModifiers,o=t.popperPlacement,c=t.popperProps,l=t.targetComponent,u=t.enableTabLoop,d=t.popperOnKeyDown,h=t.portalId,p=t.portalHost;if(!n){var f=he.default("react-datepicker-popper",r);e=de.default.createElement(ce.Popper,xt({modifiers:i,placement:o},c),(function(e){var t=e.ref,r=e.style,a=e.placement,n=e.arrowProps;return de.default.createElement(aa,{enableTabLoop:u},de.default.createElement("div",{ref:t,style:r,className:f,"data-placement":a,onKeyDown:d},de.default.cloneElement(s,{arrowProps:n})))}))}this.props.popperContainer&&(e=de.default.createElement(this.props.popperContainer,{},e)),h&&!n&&(e=de.default.createElement(ta,{portalId:h,portalHost:p},e));var m=he.default("react-datepicker-wrapper",a);return de.default.createElement(ce.Manager,{className:"react-datepicker-manager"},de.default.createElement(ce.Reference,null,(function(e){var t=e.ref;return de.default.createElement("div",{ref:t,className:m},l)})),e)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:[],popperProps:{},popperPlacement:"bottom-start"}}}]),r}(de.default.Component),sa="react-datepicker-ignore-onclickoutside",ia=ft.default($r),oa="Date input not valid.",ca=function(e){Mt(r,e);var t=St(r);function r(e){var a;return jt(this,r),Ot(Et(a=t.call(this,e)),"getPreSelection",(function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:Ft()})),Ot(Et(a),"modifyHolidays",(function(){var e;return null===(e=a.props.holidays)||void 0===e?void 0:e.reduce((function(e,t){var r=new Date(t.date);return fe.default(r)?[].concat(Nt(e),[vt(vt({},t),{},{date:r})]):e}),[])})),Ot(Et(a),"calcInitialState",(function(){var e,t=a.getPreSelection(),r=jr(a.props),n=wr(a.props),s=r&&lt.default(t,Ze.default(r))?r:n&&ct.default(t,et.default(n))?n:t;return{open:a.props.startOpen||!1,preventFocus:!1,preSelection:null!==(e=a.props.selectsRange?a.props.startDate:a.props.selected)&&void 0!==e?e:s,highlightDates:_r(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}})),Ot(Et(a),"clearPreventFocusTimeout",(function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)})),Ot(Et(a),"setFocus",(function(){a.input&&a.input.focus&&a.input.focus({preventScroll:!0})})),Ot(Et(a),"setBlur",(function(){a.input&&a.input.blur&&a.input.blur(),a.cancelFocusInput()})),Ot(Et(a),"setOpen",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.setState({open:e,preSelection:e&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:ua},(function(){e||a.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&a.setBlur(),a.setState({inputValue:null})}))}))})),Ot(Et(a),"inputOk",(function(){return pe.default(a.state.preSelection)})),Ot(Et(a),"isCalendarOpen",(function(){return void 0===a.props.open?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open})),Ot(Et(a),"handleFocus",(function(e){a.state.preventFocus||(a.props.onFocus(e),a.props.preventOpenOnFocus||a.props.readOnly||a.setOpen(!0)),a.setState({focused:!0})})),Ot(Et(a),"sendFocusBackToInput",(function(){a.preventFocusTimeout&&a.clearPreventFocusTimeout(),a.setState({preventFocus:!0},(function(){a.preventFocusTimeout=setTimeout((function(){a.setFocus(),a.setState({preventFocus:!1})}))}))})),Ot(Et(a),"cancelFocusInput",(function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=null})),Ot(Et(a),"deferFocusInput",(function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout((function(){return a.setFocus()}),1)})),Ot(Et(a),"handleDropdownFocus",(function(){a.cancelFocusInput()})),Ot(Et(a),"handleBlur",(function(e){(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&a.props.onBlur(e),a.setState({focused:!1})})),Ot(Et(a),"handleCalendarClickOutside",(function(e){a.props.inline||a.setOpen(!1),a.props.onClickOutside(e),a.props.withPortal&&e.preventDefault()})),Ot(Et(a),"handleChange",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if(!a.props.onChangeRaw||(a.props.onChangeRaw.apply(Et(a),t),"function"==typeof n.isDefaultPrevented&&!n.isDefaultPrevented())){a.setState({inputValue:n.target.value,lastPreSelectChange:la});var s,i,o,c,l,u,d,h,p=(s=n.target.value,i=a.props.dateFormat,o=a.props.locale,c=a.props.strictParsing,l=a.props.minDate,u=null,d=tr(o)||tr(er()),h=!0,Array.isArray(i)?(i.forEach((function(e){var t=ht.default(s,e,new Date,{locale:d});c&&(h=Bt(t,l)&&s===Ut(t,e,o)),Bt(t,l)&&h&&(u=t)})),u):(u=ht.default(s,i,new Date,{locale:d}),c?h=Bt(u)&&s===Ut(u,i,o):Bt(u)||(i=i.match(Rt).map((function(e){var t=e[0];return"p"===t||"P"===t?d?(0,Pt[t])(e,d.formatLong):t:e})).join(""),s.length>0&&(u=ht.default(s,i.slice(0,s.length),new Date)),Bt(u)||(u=new Date(s))),Bt(u)&&h?u:null));a.props.showTimeSelectOnly&&a.props.selected&&p&&!Jt(p,a.props.selected)&&(p=bt.default(a.props.selected,{hours:Ne.default(p),minutes:Se.default(p),seconds:Ee.default(p)})),!p&&n.target.value||(a.props.showWeekPicker&&(p=Gt(p,a.props.locale,a.props.calendarStartDay)),a.setSelected(p,n,!0))}})),Ot(Et(a),"handleSelect",(function(e,t,r){if(a.props.shouldCloseOnSelect&&!a.props.showTimeSelect&&a.sendFocusBackToInput(),a.props.onChangeRaw&&a.props.onChangeRaw(t),a.props.showWeekPicker&&(e=Gt(e,a.props.locale,a.props.calendarStartDay)),a.setSelected(e,t,!1,r),a.props.showDateSelect&&a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect)a.setPreSelection(e);else if(!a.props.inline){a.props.selectsRange||a.setOpen(!1);var n=a.props,s=n.startDate,i=n.endDate;!s||i||lt.default(e,s)||a.setOpen(!1)}})),Ot(Et(a),"setSelected",(function(e,t,r,n){var s=e;if(a.props.showYearPicker){if(null!==s&&ur(Le.default(s),a.props))return}else if(a.props.showMonthYearPicker){if(null!==s&&ir(s,a.props))return}else if(null!==s&&nr(s,a.props))return;var i=a.props,o=i.onChange,c=i.selectsRange,l=i.startDate,u=i.endDate;if(!Xt(a.props.selected,s)||a.props.allowSameDay||c)if(null!==s&&(!a.props.selected||r&&(a.props.showTimeSelect||a.props.showTimeSelectOnly||a.props.showTimeInput)||(s=Yt(s,{hour:Ne.default(a.props.selected),minute:Se.default(a.props.selected),second:Ee.default(a.props.selected)})),a.props.inline||a.setState({preSelection:s}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:n})),c){var d=l&&u;l||u?l&&!u&&(lt.default(s,l)?o([s,null],t):o([l,s],t)):o([s,null],t),d&&o([s,null],t)}else o(s,t);r||(a.props.onSelect(s,t),a.setState({inputValue:null}))})),Ot(Et(a),"setPreSelection",(function(e){var t=void 0!==a.props.minDate,r=void 0!==a.props.maxDate,n=!0;if(e){a.props.showWeekPicker&&(e=Gt(e,a.props.locale,a.props.calendarStartDay));var s=Ze.default(e);if(t&&r)n=$t(e,a.props.minDate,a.props.maxDate);else if(t){var i=Ze.default(a.props.minDate);n=ct.default(e,i)||Xt(s,i)}else if(r){var o=et.default(a.props.maxDate);n=lt.default(e,o)||Xt(s,o)}}n&&a.setState({preSelection:e})})),Ot(Et(a),"toggleCalendar",(function(){a.setOpen(!a.state.open)})),Ot(Et(a),"handleTimeChange",(function(e){var t=a.props.selected?a.props.selected:a.getPreSelection(),r=a.props.selected?e:Yt(t,{hour:Ne.default(e),minute:Se.default(e)});a.setState({preSelection:r}),a.props.onChange(r),a.props.shouldCloseOnSelect&&(a.sendFocusBackToInput(),a.setOpen(!1)),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})})),Ot(Et(a),"onInputClick",(function(){a.props.disabled||a.props.readOnly||a.setOpen(!0),a.props.onInputClick()})),Ot(Et(a),"onInputKeyDown",(function(e){a.props.onKeyDown(e);var t=e.key;if(a.state.open||a.props.inline||a.props.preventOpenOnFocus){if(a.state.open){if("ArrowDown"===t||"ArrowUp"===t){e.preventDefault();var r=a.props.showWeekPicker&&a.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',n=a.calendar.componentNode&&a.calendar.componentNode.querySelector(r);return void(n&&n.focus({preventScroll:!0}))}var s=Ft(a.state.preSelection);"Enter"===t?(e.preventDefault(),a.inputOk()&&a.state.lastPreSelectChange===ua?(a.handleSelect(s,e),!a.props.shouldCloseOnSelect&&a.setPreSelection(s)):a.setOpen(!1)):"Escape"===t?(e.preventDefault(),a.sendFocusBackToInput(),a.setOpen(!1)):"Tab"===t&&a.setOpen(!1),a.inputOk()||a.props.onInputError({code:1,msg:oa})}}else"ArrowDown"!==t&&"ArrowUp"!==t&&"Enter"!==t||a.onInputClick()})),Ot(Et(a),"onPortalKeyDown",(function(e){"Escape"===e.key&&(e.preventDefault(),a.setState({preventFocus:!0},(function(){a.setOpen(!1),setTimeout((function(){a.setFocus(),a.setState({preventFocus:!1})}))})))})),Ot(Et(a),"onDayKeyDown",(function(e){a.props.onKeyDown(e);var t=e.key,r=Ft(a.state.preSelection);if("Enter"===t)e.preventDefault(),a.handleSelect(r,e),!a.props.shouldCloseOnSelect&&a.setPreSelection(r);else if("Escape"===t)e.preventDefault(),a.setOpen(!1),a.inputOk()||a.props.onInputError({code:1,msg:oa});else if(!a.props.disabledKeyboardNavigation){var n;switch(t){case"ArrowLeft":n=a.props.showWeekPicker?xe.default(r,1):Oe.default(r,1);break;case"ArrowRight":n=a.props.showWeekPicker?ye.default(r,1):ve.default(r,1);break;case"ArrowUp":n=xe.default(r,1);break;case"ArrowDown":n=ye.default(r,1);break;case"PageUp":n=Me.default(r,1);break;case"PageDown":n=je.default(r,1);break;case"Home":n=Ce.default(r,1);break;case"End":n=_e.default(r,1);break;default:n=null}if(!n)return void(a.props.onInputError&&a.props.onInputError({code:1,msg:oa}));if(e.preventDefault(),a.setState({lastPreSelectChange:ua}),a.props.adjustDateOnChange&&a.setSelected(n),a.setPreSelection(n),a.props.inline){var s=Ae.default(r),i=Ae.default(n),o=Le.default(r),c=Le.default(n);s!==i||o!==c?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}})),Ot(Et(a),"onPopperKeyDown",(function(e){"Escape"===e.key&&(e.preventDefault(),a.sendFocusBackToInput())})),Ot(Et(a),"onClearClick",(function(e){e&&e.preventDefault&&e.preventDefault(),a.sendFocusBackToInput(),a.props.selectsRange?a.props.onChange([null,null],e):a.props.onChange(null,e),a.setState({inputValue:null})})),Ot(Et(a),"clear",(function(){a.onClearClick()})),Ot(Et(a),"onScroll",(function(e){"boolean"==typeof a.props.closeOnScroll&&a.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||a.setOpen(!1):"function"==typeof a.props.closeOnScroll&&a.props.closeOnScroll(e)&&a.setOpen(!1)})),Ot(Et(a),"renderCalendar",(function(){return a.props.inline||a.isCalendarOpen()?de.default.createElement(ia,{ref:function(e){a.calendar=e},locale:a.props.locale,calendarStartDay:a.props.calendarStartDay,chooseDayAriaLabelPrefix:a.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:a.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:a.props.weekAriaLabelPrefix,monthAriaLabelPrefix:a.props.monthAriaLabelPrefix,adjustDateOnChange:a.props.adjustDateOnChange,setOpen:a.setOpen,shouldCloseOnSelect:a.props.shouldCloseOnSelect,dateFormat:a.props.dateFormatCalendar,useWeekdaysShort:a.props.useWeekdaysShort,formatWeekDay:a.props.formatWeekDay,dropdownMode:a.props.dropdownMode,selected:a.props.selected,preSelection:a.state.preSelection,onSelect:a.handleSelect,onWeekSelect:a.props.onWeekSelect,openToDate:a.props.openToDate,minDate:a.props.minDate,maxDate:a.props.maxDate,selectsStart:a.props.selectsStart,selectsEnd:a.props.selectsEnd,selectsRange:a.props.selectsRange,startDate:a.props.startDate,endDate:a.props.endDate,excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals,filterDate:a.props.filterDate,onClickOutside:a.handleCalendarClickOutside,formatWeekNumber:a.props.formatWeekNumber,highlightDates:a.state.highlightDates,holidays:Or(a.modifyHolidays()),includeDates:a.props.includeDates,includeDateIntervals:a.props.includeDateIntervals,includeTimes:a.props.includeTimes,injectTimes:a.props.injectTimes,inline:a.props.inline,shouldFocusDayInline:a.state.shouldFocusDayInline,peekNextMonth:a.props.peekNextMonth,showMonthDropdown:a.props.showMonthDropdown,showPreviousMonths:a.props.showPreviousMonths,useShortMonthInDropdown:a.props.useShortMonthInDropdown,showMonthYearDropdown:a.props.showMonthYearDropdown,showWeekNumbers:a.props.showWeekNumbers,showYearDropdown:a.props.showYearDropdown,withPortal:a.props.withPortal,forceShowMonthNavigation:a.props.forceShowMonthNavigation,showDisabledMonthNavigation:a.props.showDisabledMonthNavigation,scrollableYearDropdown:a.props.scrollableYearDropdown,scrollableMonthYearDropdown:a.props.scrollableMonthYearDropdown,todayButton:a.props.todayButton,weekLabel:a.props.weekLabel,outsideClickIgnoreClass:sa,fixedHeight:a.props.fixedHeight,monthsShown:a.props.monthsShown,monthSelectedIn:a.state.monthSelectedIn,onDropdownFocus:a.handleDropdownFocus,onMonthChange:a.props.onMonthChange,onYearChange:a.props.onYearChange,dayClassName:a.props.dayClassName,weekDayClassName:a.props.weekDayClassName,monthClassName:a.props.monthClassName,timeClassName:a.props.timeClassName,showDateSelect:a.props.showDateSelect,showTimeSelect:a.props.showTimeSelect,showTimeSelectOnly:a.props.showTimeSelectOnly,onTimeChange:a.handleTimeChange,timeFormat:a.props.timeFormat,timeIntervals:a.props.timeIntervals,minTime:a.props.minTime,maxTime:a.props.maxTime,excludeTimes:a.props.excludeTimes,filterTime:a.props.filterTime,timeCaption:a.props.timeCaption,className:a.props.calendarClassName,container:a.props.calendarContainer,yearItemNumber:a.props.yearItemNumber,yearDropdownItemNumber:a.props.yearDropdownItemNumber,previousMonthAriaLabel:a.props.previousMonthAriaLabel,previousMonthButtonLabel:a.props.previousMonthButtonLabel,nextMonthAriaLabel:a.props.nextMonthAriaLabel,nextMonthButtonLabel:a.props.nextMonthButtonLabel,previousYearAriaLabel:a.props.previousYearAriaLabel,previousYearButtonLabel:a.props.previousYearButtonLabel,nextYearAriaLabel:a.props.nextYearAriaLabel,nextYearButtonLabel:a.props.nextYearButtonLabel,timeInputLabel:a.props.timeInputLabel,disabledKeyboardNavigation:a.props.disabledKeyboardNavigation,renderCustomHeader:a.props.renderCustomHeader,popperProps:a.props.popperProps,renderDayContents:a.props.renderDayContents,renderMonthContent:a.props.renderMonthContent,renderQuarterContent:a.props.renderQuarterContent,renderYearContent:a.props.renderYearContent,onDayMouseEnter:a.props.onDayMouseEnter,onMonthMouseLeave:a.props.onMonthMouseLeave,onYearMouseEnter:a.props.onYearMouseEnter,onYearMouseLeave:a.props.onYearMouseLeave,selectsDisabledDaysInRange:a.props.selectsDisabledDaysInRange,showTimeInput:a.props.showTimeInput,showMonthYearPicker:a.props.showMonthYearPicker,showFullMonthYearPicker:a.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:a.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:a.props.showFourColumnMonthYearPicker,showYearPicker:a.props.showYearPicker,showQuarterYearPicker:a.props.showQuarterYearPicker,showWeekPicker:a.props.showWeekPicker,showPopperArrow:a.props.showPopperArrow,excludeScrollbar:a.props.excludeScrollbar,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,isInputFocused:a.state.focused,customTimeInput:a.props.customTimeInput,setPreSelection:a.setPreSelection},a.props.children):null})),Ot(Et(a),"renderAriaLiveRegion",(function(){var e,t=a.props,r=t.dateFormat,n=t.locale,s=a.props.showTimeInput||a.props.showTimeSelect?"PPPPp":"PPPP";return e=a.props.selectsRange?"Selected start date: ".concat(zt(a.props.startDate,{dateFormat:s,locale:n}),". ").concat(a.props.endDate?"End date: "+zt(a.props.endDate,{dateFormat:s,locale:n}):""):a.props.showTimeSelectOnly?"Selected time: ".concat(zt(a.props.selected,{dateFormat:r,locale:n})):a.props.showYearPicker?"Selected year: ".concat(zt(a.props.selected,{dateFormat:"yyyy",locale:n})):a.props.showMonthYearPicker?"Selected month: ".concat(zt(a.props.selected,{dateFormat:"MMMM yyyy",locale:n})):a.props.showQuarterYearPicker?"Selected quarter: ".concat(zt(a.props.selected,{dateFormat:"yyyy, QQQ",locale:n})):"Selected date: ".concat(zt(a.props.selected,{dateFormat:s,locale:n})),de.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)})),Ot(Et(a),"renderDateInput",(function(){var e,t=he.default(a.props.className,Ot({},sa,a.state.open)),r=a.props.customInput||de.default.createElement("input",{type:"text"}),n=a.props.customInputRef||"ref",s="string"==typeof a.props.value?a.props.value:"string"==typeof a.state.inputValue?a.state.inputValue:a.props.selectsRange?function(e,t,r){if(!e)return"";var a=zt(e,r),n=t?zt(t,r):"";return"".concat(a," - ").concat(n)}(a.props.startDate,a.props.endDate,a.props):zt(a.props.selected,a.props);return de.default.cloneElement(r,(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(e={},n,(function(e){a.input=e})),"value",s),"onBlur",a.handleBlur),"onChange",a.handleChange),"onClick",a.onInputClick),"onFocus",a.handleFocus),"onKeyDown",a.onInputKeyDown),"id",a.props.id),"name",a.props.name),"form",a.props.form),Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(Ot(e,"autoFocus",a.props.autoFocus),"placeholder",a.props.placeholderText),"disabled",a.props.disabled),"autoComplete",a.props.autoComplete),"className",he.default(r.props.className,t)),"title",a.props.title),"readOnly",a.props.readOnly),"required",a.props.required),"tabIndex",a.props.tabIndex),"aria-describedby",a.props.ariaDescribedBy),Ot(Ot(Ot(e,"aria-invalid",a.props.ariaInvalid),"aria-labelledby",a.props.ariaLabelledBy),"aria-required",a.props.ariaRequired)))})),Ot(Et(a),"renderClearButton",(function(){var e=a.props,t=e.isClearable,r=e.disabled,n=e.selected,s=e.startDate,i=e.endDate,o=e.clearButtonTitle,c=e.clearButtonClassName,l=void 0===c?"":c,u=e.ariaLabelClose,d=void 0===u?"Close":u;return!t||null==n&&null==s&&null==i?null:de.default.createElement("button",{type:"button",className:he.default("react-datepicker__close-icon",l,{"react-datepicker__close-icon--disabled":r}),disabled:r,"aria-label":d,onClick:a.onClearClick,title:o,tabIndex:-1})})),a.state=a.calcInitialState(),a.preventFocusTimeout=null,a}return _t(r,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(e,t){var r,a;e.inline&&(r=e.selected,a=this.props.selected,r&&a?Ae.default(r)!==Ae.default(a)||Le.default(r)!==Le.default(a):r!==a)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:_r(this.props.highlightDates)}),t.focused||Xt(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&this.props.onCalendarOpen(),!0===t.open&&!1===this.state.open&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var e=this.props,t=e.showIcon,r=e.icon,a=e.calendarIconClassname,n=e.toggleCalendarOnIconClick,s=this.state.open;return de.default.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&de.default.createElement(ea,xt({icon:r,className:"".concat(a," ").concat(s&&"react-datepicker-ignore-onclickoutside")},n?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?de.default.createElement(aa,{enableTabLoop:this.props.enableTabLoop},de.default.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=de.default.createElement(ta,{portalId:this.props.portalId,portalHost:this.props.portalHost},t)),de.default.createElement("div",null,this.renderInputContainer(),t)}return de.default.createElement(na,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Lt,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1}}}]),r}(de.default.Component),la="input",ua="navigate";e.CalendarContainer=Jr,e.default=ca,e.getDefaultLocale=er,e.registerLocale=function(e,t){var r="undefined"!=typeof window?window:globalThis;r.__localeData__||(r.__localeData__={}),r.__localeData__[e]=t},e.setDefaultLocale=function(e){("undefined"!=typeof window?window:globalThis).__localeId__=e},Object.defineProperty(e,"__esModule",{value:!0})}(t,r(1),r(19),r(1997),r(2061),r(2060),r(2116),r(2047),r(2048),r(1942),r(1956),r(1953),r(1957),r(1958),r(1998),r(1999),r(2109),r(2e3),r(2001),r(2002),r(2003),r(2004),r(2005),r(2006),r(2043),r(2007),r(2008),r(2009),r(2010),r(2011),r(2012),r(2013),r(1937),r(2014),r(2015),r(2016),r(2017),r(1959),r(2018),r(2019),r(1938),r(1949),r(1982),r(1960),r(1970),r(1986),r(1983),r(1971),r(1984),r(2020),r(2021),r(2022),r(2023),r(2024),r(2025),r(2026),r(2027),r(1912),r(2058),r(2049),r(2028),r(56),r(2041),r(2031))},1986:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){Object(n.a)(1,arguments);var t=Object(a.default)(e);return t.setHours(23,59,59,999),t}},1990:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r(2032),n=6378137;function s(e){return Object(a.c)(e,(function(e,t){return e+function(e){var t,r=0;switch(e.type){case"Polygon":return i(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)r+=i(e.coordinates[t]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)}),0)}function i(e){var t=0;if(e&&e.length>0){t+=Math.abs(o(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(o(e[r]))}return t}function o(e){var t,r,a,s,i,o,l=0,u=e.length;if(u>2){for(o=0;o<u;o++)o===u-2?(a=u-2,s=u-1,i=0):o===u-1?(a=u-1,s=0,i=1):(a=o,s=o+1,i=o+2),t=e[a],r=e[s],l+=(c(e[i][0])-c(t[0]))*Math.sin(c(r[1]));l=l*n*n/2}return l}function c(e){return e*Math.PI/180}},1991:function(e,t,r){"use strict";var a=r(2083);function n(){}var s={},i=["REJECTED"],o=["FULFILLED"],c=["PENDING"];function l(e){if("function"!==typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==n&&p(this,e)}function u(e,t,r){this.promise=e,"function"===typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"===typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function d(e,t,r){a((function(){var a;try{a=t(r)}catch(n){return s.reject(e,n)}a===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,a)}))}function h(e){var t=e&&e.then;if(e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var r=!1;function a(t){r||(r=!0,s.reject(e,t))}function n(t){r||(r=!0,s.resolve(e,t))}var i=f((function(){t(n,a)}));"error"===i.status&&a(i.value)}function f(e,t){var r={};try{r.value=e(t),r.status="success"}catch(a){r.status="error",r.value=a}return r}e.exports=l,l.prototype.finally=function(e){if("function"!==typeof e)return this;var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!==typeof e&&this.state===o||"function"!==typeof t&&this.state===i)return this;var r=new this.constructor(n);this.state!==c?d(r,this.state===o?e:t,this.outcome):this.queue.push(new u(r,e,t));return r},u.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){s.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},s.resolve=function(e,t){var r=f(h,t);if("error"===r.status)return s.reject(e,r.value);var a=r.value;if(a)p(e,a);else{e.state=o,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callFulfilled(t)}return e},s.reject=function(e,t){e.state=i,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callRejected(t);return e},l.resolve=function(e){if(e instanceof this)return e;return s.resolve(new this(n),e)},l.reject=function(e){var t=new this(n);return s.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,a=!1;if(!r)return this.resolve([]);var i=new Array(r),o=0,c=-1,l=new this(n);for(;++c<r;)u(e[c],c);return l;function u(e,n){t.resolve(e).then((function(e){i[n]=e,++o!==r||a||(a=!0,s.resolve(l,i))}),(function(e){a||(a=!0,s.reject(l,e))}))}},l.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,a=!1;if(!r)return this.resolve([]);var i=-1,o=new this(n);for(;++i<r;)c=e[i],t.resolve(c).then((function(e){a||(a=!0,s.resolve(o,e))}),(function(e){a||(a=!0,s.reject(o,e))}));var c;return o}},1992:function(e,t,r){(function(t){const r=t.URL;e.exports=(e,t)=>{if(!t)return e;const a=new r(e);return a.pathname="".concat(a.pathname,".").concat(t),a.href}}).call(this,r(93))},1993:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var a=r(29),n=r(165),s=r.n(n),i=r(30),o=r(62),c=r(0);const l=(e,t,r,n,l,u)=>Object(a.d)(e,JSON.stringify(r),n,"PATCH").then((()=>{s.a.success(Object(c.jsx)(i.a,{...o.a.entityInfoUpdationSuccess,values:{entity:t}})),null===l||void 0===l||l()})).catch((e=>{null===u||void 0===u||u(e)}))},1997:function(e,t,r){var a;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,s(r)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)r.call(e,a)&&e[a]&&(t=i(t,a));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(a=function(){return n}.apply(t,[]))||(e.exports=a)}()},1998:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1942),n=r(1911),s=r(1913);function i(e,t){Object(n.a)(2,arguments);var r=Object(s.a)(t);return Object(a.default)(e,-r)}},1999:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1913),n=r(1956),s=r(1911);function i(e,t){Object(s.a)(2,arguments);var r=Object(a.a)(t);return Object(n.default)(e,-r)}},2e3:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1913),n=r(1957),s=r(1911);function i(e,t){Object(s.a)(2,arguments);var r=Object(a.a)(t);return Object(n.default)(e,-r)}},2001:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1913),n=r(1958),s=r(1911);function i(e,t){Object(s.a)(2,arguments);var r=Object(a.a)(t);return Object(n.default)(e,-r)}},2002:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){return Object(n.a)(1,arguments),Object(a.default)(e).getSeconds()}},2003:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){return Object(n.a)(1,arguments),Object(a.default)(e).getMinutes()}},2004:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){return Object(n.a)(1,arguments),Object(a.default)(e).getHours()}},2005:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){return Object(n.a)(1,arguments),Object(a.default)(e).getDay()}},2006:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){return Object(n.a)(1,arguments),Object(a.default)(e).getDate()}},2007:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){return Object(n.a)(1,arguments),Object(a.default)(e).getMonth()}},2008:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){Object(n.a)(1,arguments);var t=Object(a.default)(e);return Math.floor(t.getMonth()/3)+1}},2009:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){return Object(n.a)(1,arguments),Object(a.default)(e).getFullYear()}},2010:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e){return Object(n.a)(1,arguments),Object(a.default)(e).getTime()}},2011:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1913),n=r(1912),s=r(1911);function i(e,t){Object(s.a)(2,arguments);var r=Object(n.default)(e),i=Object(a.a)(t);return r.setSeconds(i),r}},2012:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1913),n=r(1912),s=r(1911);function i(e,t){Object(s.a)(2,arguments);var r=Object(n.default)(e),i=Object(a.a)(t);return r.setMinutes(i),r}},2013:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1913),n=r(1912),s=r(1911);function i(e,t){Object(s.a)(2,arguments);var r=Object(n.default)(e),i=Object(a.a)(t);return r.setHours(i),r}},2014:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var a=r(1913),n=r(1912),s=r(1937),i=r(1911);function o(e,t){Object(i.a)(2,arguments);var r=Object(n.default)(e),o=Object(a.a)(t)-(Math.floor(r.getMonth()/3)+1);return Object(s.default)(r,r.getMonth()+3*o)}},2015:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1913),n=r(1912),s=r(1911);function i(e,t){Object(s.a)(2,arguments);var r=Object(n.default)(e),i=Object(a.a)(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(i),r)}},2016:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(67),n=r(1912),s=r(1911);function i(e){var t,r;if(Object(s.a)(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==Object(a.a)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=Object(n.default)(e);(void 0===r||r>t||isNaN(t.getDate()))&&(r=t)})),r||new Date(NaN)}},2017:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(67),n=r(1912),s=r(1911);function i(e){var t,r;if(Object(s.a)(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==Object(a.a)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=Object(n.default)(e);(void 0===r||r<t||isNaN(Number(t)))&&(r=t)})),r||new Date(NaN)}},2018:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e,t){Object(n.a)(2,arguments);var r=Object(a.default)(e),s=Object(a.default)(t);return 12*(r.getFullYear()-s.getFullYear())+(r.getMonth()-s.getMonth())}},2019:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e,t){Object(n.a)(2,arguments);var r=Object(a.default)(e),s=Object(a.default)(t);return r.getFullYear()-s.getFullYear()}},2020:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e,t){Object(n.a)(2,arguments);var r=Object(a.default)(e),s=Object(a.default)(t);return r.getTime()===s.getTime()}},2021:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1938),n=r(1911);function s(e,t){Object(n.a)(2,arguments);var r=Object(a.default)(e),s=Object(a.default)(t);return r.getTime()===s.getTime()}},2022:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e,t){Object(n.a)(2,arguments);var r=Object(a.default)(e),s=Object(a.default)(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}},2023:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e,t){Object(n.a)(2,arguments);var r=Object(a.default)(e),s=Object(a.default)(t);return r.getFullYear()===s.getFullYear()}},2024:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1960),n=r(1911);function s(e,t){Object(n.a)(2,arguments);var r=Object(a.default)(e),s=Object(a.default)(t);return r.getTime()===s.getTime()}},2025:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e,t){Object(n.a)(2,arguments);var r=Object(a.default)(e),s=Object(a.default)(t);return r.getTime()>s.getTime()}},2026:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e,t){Object(n.a)(2,arguments);var r=Object(a.default)(e),s=Object(a.default)(t);return r.getTime()<s.getTime()}},2027:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var a=r(1912),n=r(1911);function s(e,t){Object(n.a)(2,arguments);var r=Object(a.default)(e).getTime(),s=Object(a.default)(t.start).getTime(),i=Object(a.default)(t.end).getTime();if(!(s<=i))throw new RangeError("Invalid interval");return r>=s&&r<=i}},2028:function(e,t,r){"use strict";r.r(t),r.d(t,"IGNORE_CLASS_NAME",(function(){return f}));var a=r(1),n=r(56);function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,r){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(r):e.classList.contains(r))}var c,l,u=(void 0===c&&(c=0),function(){return++c}),d={},h={},p=["touchstart","touchmove"],f="ignore-react-onclickoutside";function m(e,t){var r={};return-1!==p.indexOf(t)&&l&&(r.passive=!e.props.preventDefault),r}t.default=function(e,t){var r,c,p=e.displayName||e.name||"Component";return c=r=function(r){var c,f;function b(e){var a;return(a=r.call(this,e)||this).__outsideClickHandler=function(e){if("function"!==typeof a.__clickOutsideHandlerProp){var t=a.getInstance();if("function"!==typeof t.props.handleClickOutside){if("function"!==typeof t.handleClickOutside)throw new Error("WrappedComponent: "+p+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else a.__clickOutsideHandlerProp(e)},a.__getComponentNode=function(){var e=a.getInstance();return t&&"function"===typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"===typeof e.setClickOutsideRef?e.setClickOutsideRef():Object(n.findDOMNode)(e)},a.enableOnClickOutside=function(){if("undefined"!==typeof document&&!h[a._uid]){"undefined"===typeof l&&(l=function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,t),window.removeEventListener("testPassiveEventSupport",r,t),e}}()),h[a._uid]=!0;var e=a.props.eventTypes;e.forEach||(e=[e]),d[a._uid]=function(e){var t;null!==a.componentNode&&(a.props.preventDefault&&e.preventDefault(),a.props.stopPropagation&&e.stopPropagation(),a.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,r){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&o(e,t,r))return!0;e=e.parentNode||e.host}return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,a.componentNode,a.props.outsideClickIgnoreClass)===document&&a.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,d[a._uid],m(i(a),e))}))}},a.disableOnClickOutside=function(){delete h[a._uid];var e=d[a._uid];if(e&&"undefined"!==typeof document){var t=a.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,m(i(a),t))})),delete d[a._uid]}},a.getRef=function(e){return a.instanceRef=e},a._uid=u(),a}f=r,(c=b).prototype=Object.create(f.prototype),c.prototype.constructor=c,s(c,f);var g=b.prototype;return g.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},g.componentDidMount=function(){if("undefined"!==typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"===typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!==typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+p+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},g.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},g.componentWillUnmount=function(){this.disableOnClickOutside()},g.render=function(){var t=this.props;t.excludeScrollbar;var r=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(t,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?r.ref=this.getRef:r.wrappedRef=this.getRef,r.disableOnClickOutside=this.disableOnClickOutside,r.enableOnClickOutside=this.enableOnClickOutside,Object(a.createElement)(e,r)},b}(a.Component),r.displayName="OnClickOutside("+p+")",r.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:f,preventDefault:!1,stopPropagation:!1},r.getClass=function(){return e.getClass?e.getClass():e},c}},2029:function(e,t){var r="undefined"!==typeof Element,a="function"===typeof Map,n="function"===typeof Set,s="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var o,c,l,u;if(Array.isArray(e)){if((o=e.length)!=t.length)return!1;for(c=o;0!==c--;)if(!i(e[c],t[c]))return!1;return!0}if(a&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!t.has(c.value[0]))return!1;for(u=e.entries();!(c=u.next()).done;)if(!i(c.value[1],t.get(c.value[0])))return!1;return!0}if(n&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!t.has(c.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((o=e.length)!=t.length)return!1;for(c=o;0!==c--;)if(e[c]!==t[c])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof t.toString)return e.toString()===t.toString();if((o=(l=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(c=o;0!==c--;)if(!Object.prototype.hasOwnProperty.call(t,l[c]))return!1;if(r&&e instanceof Element)return!1;for(c=o;0!==c--;)if(("_owner"!==l[c]&&"__v"!==l[c]&&"__o"!==l[c]||!e.$$typeof)&&!i(e[l[c]],t[l[c]]))return!1;return!0}return e!==e&&t!==t}e.exports=function(e,t){try{return i(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}},2030:function(e,t,r){"use strict";var a=function(){};e.exports=a},2031:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));var a=r(67),n=r(1912),s=r(1937),i=r(1913),o=r(1911);function c(e,t){if(Object(o.a)(2,arguments),"object"!==Object(a.a)(t)||null===t)throw new RangeError("values parameter must be an object");var r=Object(n.default)(e);return isNaN(r.getTime())?new Date(NaN):(null!=t.year&&r.setFullYear(t.year),null!=t.month&&(r=Object(s.default)(r,t.month)),null!=t.date&&r.setDate(Object(i.a)(t.date)),null!=t.hours&&r.setHours(Object(i.a)(t.hours)),null!=t.minutes&&r.setMinutes(Object(i.a)(t.minutes)),null!=t.seconds&&r.setSeconds(Object(i.a)(t.seconds)),null!=t.milliseconds&&r.setMilliseconds(Object(i.a)(t.milliseconds)),r)}},2034:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return s}));var a=r(1);const n=[{label:"Bing",value:"Bing"},{label:"Mapbox Satellite",value:"Mapbox"},{label:"ESRI World Imagery",value:"EsriWorldImagery"},{label:"ESRI World Imagery (Clarity) Beta",value:"EsriWorldImageryClarity"},{label:"Maxar Premium",value:"Maxar-Premium"},{label:"Maxar Standard",value:"Maxar-Standard"},{label:"Custom",value:"custom"}],s=e=>Object(a.useMemo)((()=>{if(e){const t=n.filter((t=>t.value===e));return t.length?t[0]:n[n.length-1]}return null}),[e])},2036:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r(10),n=r(246),s=r(138);const i=(e,t)=>{const r=Object(a.d)((e=>e.auth.token));return Object(n.a)({queryKey:["user-teams",e],queryFn:t=>{let{signal:a}=t;return Object(s.a)(r).get("teams/",{signal:a,params:e})},select:e=>e.data,...t})}},2039:function(e,t,r){!function(e){"use strict";function t(e){return e&&e.normalize&&e.normalize(),e&&e.textContent||""}function r(e,t){const r=e.getElementsByTagName(t);return r.length?r[0]:null}function a(e){const a={};if(e){const n=r(e,"line");if(n){const e=t(r(n,"color")),s=parseFloat(t(r(n,"opacity"))),i=parseFloat(t(r(n,"width")));e&&(a.stroke=e),isNaN(s)||(a["stroke-opacity"]=s),isNaN(i)||(a["stroke-width"]=96*i/25.4)}}return a}function n(e){let r=[];if(null!==e)for(let a=0;a<e.childNodes.length;a++){const s=e.childNodes[a];if(1!==s.nodeType)continue;const i=["heart","gpxtpx:hr","hr"].includes(s.nodeName)?"heart":s.nodeName;if("gpxtpx:TrackPointExtension"===i)r=r.concat(n(s));else{const e=t(s);r.push([i,isNaN(e)?e:parseFloat(e)])}}return r}function s(e,a){const n={};let s,i;for(i=0;i<a.length;i++)s=r(e,a[i]),s&&(n[a[i]]=t(s));return n}function i(e){const r=s(e,["name","cmt","desc","type","time","keywords"]),a=e.getElementsByTagNameNS("http://www.garmin.com/xmlschemas/GpxExtensions/v3","*");for(let s=0;s<a.length;s++){const n=a[s];n.parentNode.parentNode===e&&(r[n.tagName.replace(":","_")]=t(n))}const n=e.getElementsByTagName("link");n.length&&(r.links=[]);for(let t=0;t<n.length;t++)r.links.push(Object.assign({href:n[t].getAttribute("href")},s(n[t],["text","type"])));return r}function o(e){const a=[parseFloat(e.getAttribute("lon")),parseFloat(e.getAttribute("lat"))],s=r(e,"ele"),i=r(e,"time");if(s){const e=parseFloat(t(s));isNaN(e)||a.push(e)}return{coordinates:a,time:i?t(i):null,extendedValues:n(r(e,"extensions"))}}function c(e){const t=l(e,"rtept");if(t)return{type:"Feature",properties:Object.assign(i(e),a(r(e,"extensions")),{_gpxType:"rte"}),geometry:{type:"LineString",coordinates:t.line}}}function l(e,t){const r=e.getElementsByTagName(t);if(r.length<2)return;const a=[],n=[],s={};for(let i=0;i<r.length;i++){const e=o(r[i]);a.push(e.coordinates),e.time&&n.push(e.time);for(let t=0;t<e.extendedValues.length;t++){const[a,n]=e.extendedValues[t],o="heart"===a?a:a.replace("gpxtpx:","")+"s";s[o]||(s[o]=Array(r.length).fill(null)),s[o][i]=n}}return{line:a,times:n,extendedValues:s}}function u(e){const t=e.getElementsByTagName("trkseg"),n=[],s=[],o=[];for(let r=0;r<t.length;r++){const e=l(t[r],"trkpt");e&&(o.push(e),e.times&&e.times.length&&s.push(e.times))}if(0===o.length)return;const c=o.length>1,u=Object.assign(i(e),a(r(e,"extensions")),{_gpxType:"trk"},s.length?{coordinateProperties:{times:c?s:s[0]}}:{});for(let r=0;r<o.length;r++){const e=o[r];n.push(e.line);for(const[t,a]of Object.entries(e.extendedValues)){u.coordinateProperties||(u.coordinateProperties={});const e=u.coordinateProperties;c?(e[t]||(e[t]=o.map((e=>new Array(e.line.length).fill(null)))),e[t][r]=a):e[t]=a}}return{type:"Feature",properties:u,geometry:c?{type:"MultiLineString",coordinates:n}:{type:"LineString",coordinates:n[0]}}}function*d(e){const t=e.getElementsByTagName("trk"),r=e.getElementsByTagName("rte"),a=e.getElementsByTagName("wpt");for(let s=0;s<t.length;s++){const e=u(t[s]);e&&(yield e)}for(let s=0;s<r.length;s++){const e=c(r[s]);e&&(yield e)}for(let c=0;c<a.length;c++)yield(n=a[c],{type:"Feature",properties:Object.assign(i(n),s(n,["sym"])),geometry:{type:"Point",coordinates:o(n).coordinates}});var n}const h=[["heartRate","heartRates"],["Cadence","cadences"],["Speed","speeds"],["Watts","watts"]],p=[["TotalTimeSeconds","totalTimeSeconds"],["DistanceMeters","distanceMeters"],["MaximumSpeed","maxSpeed"],["AverageHeartRateBpm","avgHeartRate"],["MaximumHeartRateBpm","maxHeartRate"],["AvgSpeed","avgSpeed"],["AvgWatts","avgWatts"],["MaxWatts","maxWatts"]];function f(e,a){const n=[];for(const[s,i]of a){let a=r(e,s);if(!a){const t=e.getElementsByTagNameNS("http://www.garmin.com/xmlschemas/ActivityExtension/v2",s);t.length&&(a=t[0])}const o=parseFloat(t(a));isNaN(o)||n.push([i,o])}return n}function m(e){const a=t(r(e,"LongitudeDegrees")),n=t(r(e,"LatitudeDegrees"));if(!a.length||!n.length)return null;const s=[parseFloat(a),parseFloat(n)],i=r(e,"AltitudeMeters"),o=r(e,"HeartRateBpm"),c=r(e,"Time");let l;return i&&(l=parseFloat(t(i)),isNaN(l)||s.push(l)),{coordinates:s,time:c?t(c):null,heartRate:o?parseFloat(t(o)):null,extensions:f(e,h)}}function b(e,t){const r=e.getElementsByTagName(t),a=[],n=[],s=[];if(r.length<2)return null;const i={extendedProperties:{}};for(let o=0;o<r.length;o++){const e=m(r[o]);if(null!==e){a.push(e.coordinates),e.time&&n.push(e.time),e.heartRate&&s.push(e.heartRate);for(const[t,a]of e.extensions)i.extendedProperties[t]||(i.extendedProperties[t]=Array(r.length).fill(null)),i.extendedProperties[t][o]=a}}return Object.assign(i,{line:a,times:n,heartRates:s})}function g(e){const a=e.getElementsByTagName("Track"),n=[],s=[],i=[],o=[];let c;const l=function(e){const t={};for(const[r,a]of e)t[r]=a;return t}(f(e,p)),u=r(e,"Name");u&&(l.name=t(u));for(let t=0;t<a.length;t++)c=b(a[t],"Trackpoint"),c&&(n.push(c.line),c.times.length&&s.push(c.times),c.heartRates.length&&i.push(c.heartRates),o.push(c.extendedProperties));for(let t=0;t<o.length;t++){const e=o[t];for(const r in e)1===a.length?l[r]=c.extendedProperties[r]:(l[r]||(l[r]=n.map((e=>Array(e.length).fill(null)))),l[r][t]=e[r])}if(0!==n.length)return(s.length||i.length)&&(l.coordinateProperties=Object.assign(s.length?{times:1===n.length?s[0]:s}:{},i.length?{heart:1===n.length?i[0]:i}:{})),{type:"Feature",properties:l,geometry:{type:1===n.length?"LineString":"MultiLineString",coordinates:1===n.length?n[0]:n}}}function*v(e){const t=e.getElementsByTagName("Lap");for(let a=0;a<t.length;a++){const e=g(t[a]);e&&(yield e)}const r=e.getElementsByTagName("Courses");for(let a=0;a<r.length;a++){const e=g(r[a]);e&&(yield e)}}const y=/\s*/g,j=/^\s*|\s*$/g,w=/\s+/;function _(e){if(!e||!e.length)return 0;let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return t}function O(e){return e.replace(y,"").split(",").map(parseFloat)}function x(e){return e.replace(j,"").split(w).map(O)}function M(e){if(void 0!==e.xml)return e.xml;if(e.tagName){let t=e.tagName;for(let r=0;r<e.attributes.length;r++)t+=e.attributes[r].name+e.attributes[r].value;for(let r=0;r<e.childNodes.length;r++)t+=M(e.childNodes[r]);return t}return"#text"===e.nodeName?(e.nodeValue||e.value||"").trim():"#cdata-section"===e.nodeName?e.nodeValue:""}const k=["Polygon","LineString","Point","Track","gx:Track"];function C(e,a,n){let s=t(r(a,"color"))||"";const i="stroke"==n||"fill"===n?n:n+"-color";"#"===s.substr(0,1)&&(s=s.substr(1)),6===s.length||3===s.length?e[i]=s:8===s.length&&(e[n+"-opacity"]=parseInt(s.substr(0,2),16)/255,e[i]="#"+s.substr(6,2)+s.substr(4,2)+s.substr(2,2))}function E(e,a,n,s){const i=parseFloat(t(r(a,n)));isNaN(i)||(e[s]=i)}function S(e){let r=e.getElementsByTagName("coord");const a=[],n=[];0===r.length&&(r=e.getElementsByTagName("gx:coord"));for(let i=0;i<r.length;i++)a.push(t(r[i]).split(" ").map(parseFloat));const s=e.getElementsByTagName("when");for(let i=0;i<s.length;i++)n.push(t(s[i]));return{coords:a,times:n}}function N(e){let a,n,s,i,o;const c=[],l=[];if(r(e,"MultiGeometry"))return N(r(e,"MultiGeometry"));if(r(e,"MultiTrack"))return N(r(e,"MultiTrack"));if(r(e,"gx:MultiTrack"))return N(r(e,"gx:MultiTrack"));for(s=0;s<k.length;s++)if(n=e.getElementsByTagName(k[s]),n)for(i=0;i<n.length;i++)if(a=n[i],"Point"===k[s])c.push({type:"Point",coordinates:O(t(r(a,"coordinates")))});else if("LineString"===k[s])c.push({type:"LineString",coordinates:x(t(r(a,"coordinates")))});else if("Polygon"===k[s]){const e=a.getElementsByTagName("LinearRing"),n=[];for(o=0;o<e.length;o++)n.push(x(t(r(e[o],"coordinates"))));c.push({type:"Polygon",coordinates:n})}else if("Track"===k[s]||"gx:Track"===k[s]){const e=S(a);c.push({type:"LineString",coordinates:e.coords}),e.times.length&&l.push(e.times)}return{geoms:c,coordTimes:l}}function T(e,a,n,s){const i=N(e);let o;const c={},l=t(r(e,"name")),u=t(r(e,"address"));let d=t(r(e,"styleUrl"));const h=t(r(e,"description")),p=r(e,"TimeSpan"),f=r(e,"TimeStamp"),m=r(e,"ExtendedData");let b=r(e,"IconStyle"),g=r(e,"LabelStyle"),v=r(e,"LineStyle"),y=r(e,"PolyStyle");const j=r(e,"visibility");if(l&&(c.name=l),u&&(c.address=u),d){"#"!==d[0]&&(d="#"+d),c.styleUrl=d,a[d]&&(c.styleHash=a[d]),n[d]&&(c.styleMapHash=n[d],c.styleHash=a[n[d].normal]);const e=s[c.styleHash];e&&(b||(b=r(e,"IconStyle")),g||(g=r(e,"LabelStyle")),v||(v=r(e,"LineStyle")),y||(y=r(e,"PolyStyle")))}if(h&&(c.description=h),p){const e=t(r(p,"begin")),a=t(r(p,"end"));c.timespan={begin:e,end:a}}if(f&&(c.timestamp=t(r(f,"when"))),b){C(c,b,"icon"),E(c,b,"scale","icon-scale"),E(c,b,"heading","icon-heading");const e=r(b,"hotSpot");if(e){const t=parseFloat(e.getAttribute("x")),r=parseFloat(e.getAttribute("y"));isNaN(t)||isNaN(r)||(c["icon-offset"]=[t,r])}const a=r(b,"Icon");if(a){const e=t(r(a,"href"));e&&(c.icon=e)}}if(g&&(C(c,g,"label"),E(c,g,"scale","label-scale")),v&&(C(c,v,"stroke"),E(c,v,"width","stroke-width")),y){C(c,y,"fill");const e=t(r(y,"fill")),a=t(r(y,"outline"));e&&(c["fill-opacity"]="1"===e?c["fill-opacity"]||1:0),a&&(c["stroke-opacity"]="1"===a?c["stroke-opacity"]||1:0)}if(m){const e=m.getElementsByTagName("Data"),a=m.getElementsByTagName("SimpleData");for(o=0;o<e.length;o++)c[e[o].getAttribute("name")]=t(r(e[o],"value"));for(o=0;o<a.length;o++)c[a[o].getAttribute("name")]=t(a[o])}j&&(c.visibility=t(j)),i.coordTimes.length&&(c.coordinateProperties={times:1===i.coordTimes.length?i.coordTimes[0]:i.coordTimes});const w={type:"Feature",geometry:0===i.geoms.length?null:1===i.geoms.length?i.geoms[0]:{type:"GeometryCollection",geometries:i.geoms},properties:c};return e.getAttribute("id")&&(w.id=e.getAttribute("id")),w}function*D(e){const a={},n={},s={},i=e.getElementsByTagName("Placemark"),o=e.getElementsByTagName("Style"),c=e.getElementsByTagName("StyleMap");for(let t=0;t<o.length;t++){const e=o[t],r=_(M(e)).toString(16);let s=e.getAttribute("id");s||"CascadingStyle"!==e.parentNode.tagName.replace("gx:","")||(s=e.parentNode.getAttribute("kml:id")||e.parentNode.getAttribute("id")),a["#"+s]=r,n[r]=e}for(let l=0;l<c.length;l++){a["#"+c[l].getAttribute("id")]=_(M(c[l])).toString(16);const e=c[l].getElementsByTagName("Pair"),n={};for(let a=0;a<e.length;a++)n[t(r(e[a],"key"))]=t(r(e[a],"styleUrl"));s["#"+c[l].getAttribute("id")]=n}for(let t=0;t<i.length;t++){const e=T(i[t],a,s,n);e&&(yield e)}}e.gpx=function(e){return{type:"FeatureCollection",features:Array.from(d(e))}},e.gpxGen=d,e.kml=function(e){return{type:"FeatureCollection",features:Array.from(D(e))}},e.kmlGen=D,e.tcx=function(e){return{type:"FeatureCollection",features:Array.from(v(e))}},e.tcxGen=v,Object.defineProperty(e,"__esModule",{value:!0})}(t)},2041:function(e,t,r){"use strict";r.r(t),r.d(t,"Popper",(function(){return De})),r.d(t,"Manager",(function(){return i})),r.d(t,"Reference",(function(){return Pe})),r.d(t,"usePopper",(function(){return Ee}));var a=r(1),n=a.createContext(),s=a.createContext();function i(e){var t=e.children,r=a.useState(null),i=r[0],o=r[1],c=a.useRef(!1);a.useEffect((function(){return function(){c.current=!0}}),[]);var l=a.useCallback((function(e){c.current||o(e)}),[]);return a.createElement(n.Provider,{value:i},a.createElement(s.Provider,{value:l},t))}var o=function(e){return Array.isArray(e)?e[0]:e},c=function(e){if("function"===typeof e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return e.apply(void 0,r)}},l=function(e,t){if("function"===typeof e)return c(e,t);null!=e&&(e.current=t)},u=function(e){return e.reduce((function(e,t){var r=t[0],a=t[1];return e[r]=a,e}),{})},d="undefined"!==typeof window&&window.document&&window.document.createElement?a.useLayoutEffect:a.useEffect,h=r(56);function p(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function f(e){return e instanceof p(e).Element||e instanceof Element}function m(e){return e instanceof p(e).HTMLElement||e instanceof HTMLElement}function b(e){return"undefined"!==typeof ShadowRoot&&(e instanceof p(e).ShadowRoot||e instanceof ShadowRoot)}var g=Math.max,v=Math.min,y=Math.round;function j(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function w(){return!/^((?!chrome|android).)*safari/i.test(j())}function _(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var a=e.getBoundingClientRect(),n=1,s=1;t&&m(e)&&(n=e.offsetWidth>0&&y(a.width)/e.offsetWidth||1,s=e.offsetHeight>0&&y(a.height)/e.offsetHeight||1);var i=(f(e)?p(e):window).visualViewport,o=!w()&&r,c=(a.left+(o&&i?i.offsetLeft:0))/n,l=(a.top+(o&&i?i.offsetTop:0))/s,u=a.width/n,d=a.height/s;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}function O(e){var t=p(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function x(e){return e?(e.nodeName||"").toLowerCase():null}function M(e){return((f(e)?e.ownerDocument:e.document)||window.document).documentElement}function k(e){return _(M(e)).left+O(e).scrollLeft}function C(e){return p(e).getComputedStyle(e)}function E(e){var t=C(e),r=t.overflow,a=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+a)}function S(e,t,r){void 0===r&&(r=!1);var a=m(t),n=m(t)&&function(e){var t=e.getBoundingClientRect(),r=y(t.width)/e.offsetWidth||1,a=y(t.height)/e.offsetHeight||1;return 1!==r||1!==a}(t),s=M(t),i=_(e,n,r),o={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(a||!a&&!r)&&(("body"!==x(t)||E(s))&&(o=function(e){return e!==p(e)&&m(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:O(e);var t}(t)),m(t)?((c=_(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=k(s))),{x:i.left+o.scrollLeft-c.x,y:i.top+o.scrollTop-c.y,width:i.width,height:i.height}}function N(e){var t=_(e),r=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:a}}function T(e){return"html"===x(e)?e:e.assignedSlot||e.parentNode||(b(e)?e.host:null)||M(e)}function D(e){return["html","body","#document"].indexOf(x(e))>=0?e.ownerDocument.body:m(e)&&E(e)?e:D(T(e))}function I(e,t){var r;void 0===t&&(t=[]);var a=D(e),n=a===(null==(r=e.ownerDocument)?void 0:r.body),s=p(a),i=n?[s].concat(s.visualViewport||[],E(a)?a:[]):a,o=t.concat(i);return n?o:o.concat(I(T(i)))}function A(e){return["table","td","th"].indexOf(x(e))>=0}function P(e){return m(e)&&"fixed"!==C(e).position?e.offsetParent:null}function L(e){for(var t=p(e),r=P(e);r&&A(r)&&"static"===C(r).position;)r=P(r);return r&&("html"===x(r)||"body"===x(r)&&"static"===C(r).position)?t:r||function(e){var t=/firefox/i.test(j());if(/Trident/i.test(j())&&m(e)&&"fixed"===C(e).position)return null;var r=T(e);for(b(r)&&(r=r.host);m(r)&&["html","body"].indexOf(x(r))<0;){var a=C(r);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return r;r=r.parentNode}return null}(e)||t}var R="top",F="bottom",B="right",U="left",z="auto",Y=[R,F,B,U],G="start",q="end",H="clippingParents",W="viewport",V="popper",K="reference",Z=Y.reduce((function(e,t){return e.concat([t+"-"+G,t+"-"+q])}),[]),Q=[].concat(Y,[z]).reduce((function(e,t){return e.concat([t,t+"-"+G,t+"-"+q])}),[]),J=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function X(e){var t=new Map,r=new Set,a=[];function n(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var a=t.get(e);a&&n(a)}})),a.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||n(e)})),a}function $(e){var t;return function(){return t||(t=new Promise((function(r){Promise.resolve().then((function(){t=void 0,r(e())}))}))),t}}var ee={placement:"bottom",modifiers:[],strategy:"absolute"};function te(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function re(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,a=void 0===r?[]:r,n=t.defaultOptions,s=void 0===n?ee:n;return function(e,t,r){void 0===r&&(r=s);var n={placement:"bottom",orderedModifiers:[],options:Object.assign({},ee,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],o=!1,c={state:n,setOptions:function(r){var o="function"===typeof r?r(n.options):r;l(),n.options=Object.assign({},s,n.options,o),n.scrollParents={reference:f(e)?I(e):e.contextElement?I(e.contextElement):[],popper:I(t)};var u=function(e){var t=X(e);return J.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(a,n.options.modifiers)));return n.orderedModifiers=u.filter((function(e){return e.enabled})),n.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,a=void 0===r?{}:r,s=e.effect;if("function"===typeof s){var o=s({state:n,name:t,instance:c,options:a}),l=function(){};i.push(o||l)}})),c.update()},forceUpdate:function(){if(!o){var e=n.elements,t=e.reference,r=e.popper;if(te(t,r)){n.rects={reference:S(t,L(r),"fixed"===n.options.strategy),popper:N(r)},n.reset=!1,n.placement=n.options.placement,n.orderedModifiers.forEach((function(e){return n.modifiersData[e.name]=Object.assign({},e.data)}));for(var a=0;a<n.orderedModifiers.length;a++)if(!0!==n.reset){var s=n.orderedModifiers[a],i=s.fn,l=s.options,u=void 0===l?{}:l,d=s.name;"function"===typeof i&&(n=i({state:n,options:u,name:d,instance:c})||n)}else n.reset=!1,a=-1}}},update:$((function(){return new Promise((function(e){c.forceUpdate(),e(n)}))})),destroy:function(){l(),o=!0}};if(!te(e,t))return c;function l(){i.forEach((function(e){return e()})),i=[]}return c.setOptions(r).then((function(e){!o&&r.onFirstUpdate&&r.onFirstUpdate(e)})),c}}var ae={passive:!0};function ne(e){return e.split("-")[0]}function se(e){return e.split("-")[1]}function ie(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function oe(e){var t,r=e.reference,a=e.element,n=e.placement,s=n?ne(n):null,i=n?se(n):null,o=r.x+r.width/2-a.width/2,c=r.y+r.height/2-a.height/2;switch(s){case R:t={x:o,y:r.y-a.height};break;case F:t={x:o,y:r.y+r.height};break;case B:t={x:r.x+r.width,y:c};break;case U:t={x:r.x-a.width,y:c};break;default:t={x:r.x,y:r.y}}var l=s?ie(s):null;if(null!=l){var u="y"===l?"height":"width";switch(i){case G:t[l]=t[l]-(r[u]/2-a[u]/2);break;case q:t[l]=t[l]+(r[u]/2-a[u]/2)}}return t}var ce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function le(e){var t,r=e.popper,a=e.popperRect,n=e.placement,s=e.variation,i=e.offsets,o=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=i.x,f=void 0===h?0:h,m=i.y,b=void 0===m?0:m,g="function"===typeof u?u({x:f,y:b}):{x:f,y:b};f=g.x,b=g.y;var v=i.hasOwnProperty("x"),j=i.hasOwnProperty("y"),w=U,_=R,O=window;if(l){var x=L(r),k="clientHeight",E="clientWidth";if(x===p(r)&&"static"!==C(x=M(r)).position&&"absolute"===o&&(k="scrollHeight",E="scrollWidth"),n===R||(n===U||n===B)&&s===q)_=F,b-=(d&&x===O&&O.visualViewport?O.visualViewport.height:x[k])-a.height,b*=c?1:-1;if(n===U||(n===R||n===F)&&s===q)w=B,f-=(d&&x===O&&O.visualViewport?O.visualViewport.width:x[E])-a.width,f*=c?1:-1}var S,N=Object.assign({position:o},l&&ce),T=!0===u?function(e,t){var r=e.x,a=e.y,n=t.devicePixelRatio||1;return{x:y(r*n)/n||0,y:y(a*n)/n||0}}({x:f,y:b},p(r)):{x:f,y:b};return f=T.x,b=T.y,c?Object.assign({},N,((S={})[_]=j?"0":"",S[w]=v?"0":"",S.transform=(O.devicePixelRatio||1)<=1?"translate("+f+"px, "+b+"px)":"translate3d("+f+"px, "+b+"px, 0)",S)):Object.assign({},N,((t={})[_]=j?b+"px":"",t[w]=v?f+"px":"",t.transform="",t))}var ue={left:"right",right:"left",bottom:"top",top:"bottom"};function de(e){return e.replace(/left|right|bottom|top/g,(function(e){return ue[e]}))}var he={start:"end",end:"start"};function pe(e){return e.replace(/start|end/g,(function(e){return he[e]}))}function fe(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&b(r)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function me(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function be(e,t,r){return t===W?me(function(e,t){var r=p(e),a=M(e),n=r.visualViewport,s=a.clientWidth,i=a.clientHeight,o=0,c=0;if(n){s=n.width,i=n.height;var l=w();(l||!l&&"fixed"===t)&&(o=n.offsetLeft,c=n.offsetTop)}return{width:s,height:i,x:o+k(e),y:c}}(e,r)):f(t)?function(e,t){var r=_(e,!1,"fixed"===t);return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}(t,r):me(function(e){var t,r=M(e),a=O(e),n=null==(t=e.ownerDocument)?void 0:t.body,s=g(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),i=g(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),o=-a.scrollLeft+k(e),c=-a.scrollTop;return"rtl"===C(n||r).direction&&(o+=g(r.clientWidth,n?n.clientWidth:0)-s),{width:s,height:i,x:o,y:c}}(M(e)))}function ge(e,t,r,a){var n="clippingParents"===t?function(e){var t=I(T(e)),r=["absolute","fixed"].indexOf(C(e).position)>=0&&m(e)?L(e):e;return f(r)?t.filter((function(e){return f(e)&&fe(e,r)&&"body"!==x(e)})):[]}(e):[].concat(t),s=[].concat(n,[r]),i=s[0],o=s.reduce((function(t,r){var n=be(e,r,a);return t.top=g(n.top,t.top),t.right=v(n.right,t.right),t.bottom=v(n.bottom,t.bottom),t.left=g(n.left,t.left),t}),be(e,i,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function ve(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ye(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function je(e,t){void 0===t&&(t={});var r=t,a=r.placement,n=void 0===a?e.placement:a,s=r.strategy,i=void 0===s?e.strategy:s,o=r.boundary,c=void 0===o?H:o,l=r.rootBoundary,u=void 0===l?W:l,d=r.elementContext,h=void 0===d?V:d,p=r.altBoundary,m=void 0!==p&&p,b=r.padding,g=void 0===b?0:b,v=ve("number"!==typeof g?g:ye(g,Y)),y=h===V?K:V,j=e.rects.popper,w=e.elements[m?y:h],O=ge(f(w)?w:w.contextElement||M(e.elements.popper),c,u,i),x=_(e.elements.reference),k=oe({reference:x,element:j,strategy:"absolute",placement:n}),C=me(Object.assign({},j,k)),E=h===V?C:x,S={top:O.top-E.top+v.top,bottom:E.bottom-O.bottom+v.bottom,left:O.left-E.left+v.left,right:E.right-O.right+v.right},N=e.modifiersData.offset;if(h===V&&N){var T=N[n];Object.keys(S).forEach((function(e){var t=[B,F].indexOf(e)>=0?1:-1,r=[R,F].indexOf(e)>=0?"y":"x";S[e]+=T[r]*t}))}return S}function we(e,t,r){return g(e,v(t,r))}function _e(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Oe(e){return[R,B,F,U].some((function(t){return e[t]>=0}))}var xe=re({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,a=e.options,n=a.scroll,s=void 0===n||n,i=a.resize,o=void 0===i||i,c=p(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&l.forEach((function(e){e.addEventListener("scroll",r.update,ae)})),o&&c.addEventListener("resize",r.update,ae),function(){s&&l.forEach((function(e){e.removeEventListener("scroll",r.update,ae)})),o&&c.removeEventListener("resize",r.update,ae)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=oe({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,a=r.gpuAcceleration,n=void 0===a||a,s=r.adaptive,i=void 0===s||s,o=r.roundOffsets,c=void 0===o||o,l={placement:ne(t.placement),variation:se(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,le(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,le(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},a=t.attributes[e]||{},n=t.elements[e];m(n)&&x(n)&&(Object.assign(n.style,r),Object.keys(a).forEach((function(e){var t=a[e];!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var a=t.elements[e],n=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});m(a)&&x(a)&&(Object.assign(a.style,s),Object.keys(n).forEach((function(e){a.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,a=e.name,n=r.offset,s=void 0===n?[0,0]:n,i=Q.reduce((function(e,r){return e[r]=function(e,t,r){var a=ne(e),n=[U,R].indexOf(a)>=0?-1:1,s="function"===typeof r?r(Object.assign({},t,{placement:e})):r,i=s[0],o=s[1];return i=i||0,o=(o||0)*n,[U,B].indexOf(a)>=0?{x:o,y:i}:{x:i,y:o}}(r,t.rects,s),e}),{}),o=i[t.placement],c=o.x,l=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[a]=i}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var n=r.mainAxis,s=void 0===n||n,i=r.altAxis,o=void 0===i||i,c=r.fallbackPlacements,l=r.padding,u=r.boundary,d=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,f=void 0===p||p,m=r.allowedAutoPlacements,b=t.options.placement,g=ne(b),v=c||(g===b||!f?[de(b)]:function(e){if(ne(e)===z)return[];var t=de(e);return[pe(e),t,pe(t)]}(b)),y=[b].concat(v).reduce((function(e,r){return e.concat(ne(r)===z?function(e,t){void 0===t&&(t={});var r=t,a=r.placement,n=r.boundary,s=r.rootBoundary,i=r.padding,o=r.flipVariations,c=r.allowedAutoPlacements,l=void 0===c?Q:c,u=se(a),d=u?o?Z:Z.filter((function(e){return se(e)===u})):Y,h=d.filter((function(e){return l.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,r){return t[r]=je(e,{placement:r,boundary:n,rootBoundary:s,padding:i})[ne(r)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:r,boundary:u,rootBoundary:d,padding:l,flipVariations:f,allowedAutoPlacements:m}):r)}),[]),j=t.rects.reference,w=t.rects.popper,_=new Map,O=!0,x=y[0],M=0;M<y.length;M++){var k=y[M],C=ne(k),E=se(k)===G,S=[R,F].indexOf(C)>=0,N=S?"width":"height",T=je(t,{placement:k,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),D=S?E?B:U:E?F:R;j[N]>w[N]&&(D=de(D));var I=de(D),A=[];if(s&&A.push(T[C]<=0),o&&A.push(T[D]<=0,T[I]<=0),A.every((function(e){return e}))){x=k,O=!1;break}_.set(k,A)}if(O)for(var P=function(e){var t=y.find((function(t){var r=_.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},L=f?3:1;L>0;L--){if("break"===P(L))break}t.placement!==x&&(t.modifiersData[a]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,a=e.name,n=r.mainAxis,s=void 0===n||n,i=r.altAxis,o=void 0!==i&&i,c=r.boundary,l=r.rootBoundary,u=r.altBoundary,d=r.padding,h=r.tether,p=void 0===h||h,f=r.tetherOffset,m=void 0===f?0:f,b=je(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),y=ne(t.placement),j=se(t.placement),w=!j,_=ie(y),O="x"===_?"y":"x",x=t.modifiersData.popperOffsets,M=t.rects.reference,k=t.rects.popper,C="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,E="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(x){if(s){var D,I="y"===_?R:U,A="y"===_?F:B,P="y"===_?"height":"width",z=x[_],Y=z+b[I],q=z-b[A],H=p?-k[P]/2:0,W=j===G?M[P]:k[P],V=j===G?-k[P]:-M[P],K=t.elements.arrow,Z=p&&K?N(K):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},J=Q[I],X=Q[A],$=we(0,M[P],Z[P]),ee=w?M[P]/2-H-$-J-E.mainAxis:W-$-J-E.mainAxis,te=w?-M[P]/2+H+$+X+E.mainAxis:V+$+X+E.mainAxis,re=t.elements.arrow&&L(t.elements.arrow),ae=re?"y"===_?re.clientTop||0:re.clientLeft||0:0,oe=null!=(D=null==S?void 0:S[_])?D:0,ce=z+te-oe,le=we(p?v(Y,z+ee-oe-ae):Y,z,p?g(q,ce):q);x[_]=le,T[_]=le-z}if(o){var ue,de="x"===_?R:U,he="x"===_?F:B,pe=x[O],fe="y"===O?"height":"width",me=pe+b[de],be=pe-b[he],ge=-1!==[R,U].indexOf(y),ve=null!=(ue=null==S?void 0:S[O])?ue:0,ye=ge?me:pe-M[fe]-k[fe]-ve+E.altAxis,_e=ge?pe+M[fe]+k[fe]-ve-E.altAxis:be,Oe=p&&ge?function(e,t,r){var a=we(e,t,r);return a>r?r:a}(ye,pe,_e):we(p?ye:me,pe,p?_e:be);x[O]=Oe,T[O]=Oe-pe}t.modifiersData[a]=T}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,a=e.name,n=e.options,s=r.elements.arrow,i=r.modifiersData.popperOffsets,o=ne(r.placement),c=ie(o),l=[U,B].indexOf(o)>=0?"height":"width";if(s&&i){var u=function(e,t){return ve("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ye(e,Y))}(n.padding,r),d=N(s),h="y"===c?R:U,p="y"===c?F:B,f=r.rects.reference[l]+r.rects.reference[c]-i[c]-r.rects.popper[l],m=i[c]-r.rects.reference[c],b=L(s),g=b?"y"===c?b.clientHeight||0:b.clientWidth||0:0,v=f/2-m/2,y=u[h],j=g-d[l]-u[p],w=g/2-d[l]/2+v,_=we(y,w,j),O=c;r.modifiersData[a]=((t={})[O]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,r=e.options.element,a=void 0===r?"[data-popper-arrow]":r;null!=a&&("string"!==typeof a||(a=t.elements.popper.querySelector(a)))&&fe(t.elements.popper,a)&&(t.elements.arrow=a)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,a=t.rects.reference,n=t.rects.popper,s=t.modifiersData.preventOverflow,i=je(t,{elementContext:"reference"}),o=je(t,{altBoundary:!0}),c=_e(i,a),l=_e(o,n,s),u=Oe(c),d=Oe(l);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),Me=r(2029),ke=r.n(Me),Ce=[],Ee=function(e,t,r){void 0===r&&(r={});var n=a.useRef(null),s={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||Ce},i=a.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=i[0],c=i[1],l=a.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,r=Object.keys(t.elements);h.flushSync((function(){c({styles:u(r.map((function(e){return[e,t.styles[e]||{}]}))),attributes:u(r.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),p=a.useMemo((function(){var e={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[l,{name:"applyStyles",enabled:!1}])};return ke()(n.current,e)?n.current||e:(n.current=e,e)}),[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,l]),f=a.useRef();return d((function(){f.current&&f.current.setOptions(p)}),[p]),d((function(){if(null!=e&&null!=t){var a=(r.createPopper||xe)(e,t,p);return f.current=a,function(){a.destroy(),f.current=null}}}),[e,t,r.createPopper]),{state:f.current?f.current.state:null,styles:o.styles,attributes:o.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}},Se=function(){},Ne=function(){return Promise.resolve(null)},Te=[];function De(e){var t=e.placement,r=void 0===t?"bottom":t,s=e.strategy,i=void 0===s?"absolute":s,c=e.modifiers,u=void 0===c?Te:c,d=e.referenceElement,h=e.onFirstUpdate,p=e.innerRef,f=e.children,m=a.useContext(n),b=a.useState(null),g=b[0],v=b[1],y=a.useState(null),j=y[0],w=y[1];a.useEffect((function(){l(p,g)}),[p,g]);var _=a.useMemo((function(){return{placement:r,strategy:i,onFirstUpdate:h,modifiers:[].concat(u,[{name:"arrow",enabled:null!=j,options:{element:j}}])}}),[r,i,h,u,j]),O=Ee(d||m,g,_),x=O.state,M=O.styles,k=O.forceUpdate,C=O.update,E=a.useMemo((function(){return{ref:v,style:M.popper,placement:x?x.placement:r,hasPopperEscaped:x&&x.modifiersData.hide?x.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:x&&x.modifiersData.hide?x.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:M.arrow,ref:w},forceUpdate:k||Se,update:C||Ne}}),[v,w,r,x,M,C,k]);return o(f)(E)}var Ie=r(2030),Ae=r.n(Ie);function Pe(e){var t=e.children,r=e.innerRef,n=a.useContext(s),i=a.useCallback((function(e){l(r,e),c(n,e)}),[r,n]);return a.useEffect((function(){return function(){return l(r,null)}}),[]),a.useEffect((function(){Ae()(Boolean(n),"`Reference` should not be used outside of a `Manager` component.")}),[n]),o(t)({ref:i})}},2043:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var a=r(1912),n=r(1949),s=r(1911);function i(e){return Object(s.a)(1,arguments),Object(n.default)(e,{weekStartsOn:1})}function o(e){Object(s.a)(1,arguments);var t=function(e){Object(s.a)(1,arguments);var t=Object(a.default)(e),r=t.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var o=i(n),c=new Date(0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);var l=i(c);return t.getTime()>=o.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}(e),r=new Date(0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),i(r)}var c=6048e5;function l(e){Object(s.a)(1,arguments);var t=Object(a.default)(e),r=i(t).getTime()-o(t).getTime();return Math.round(r/c)+1}},2047:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var a=r(1913),n=r(1980),s=r(1911),i=6e4;function o(e,t){Object(s.a)(2,arguments);var r=Object(a.a)(t);return Object(n.a)(e,r*i)}},2048:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var a=r(1913),n=r(1980),s=r(1911),i=36e5;function o(e,t){Object(s.a)(2,arguments);var r=Object(a.a)(t);return Object(n.a)(e,r*i)}},2049:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var a=r(1961),n=r(1911),s=r(1913);function i(e,t){var r;Object(n.a)(1,arguments);var i=Object(s.a)(null!==(r=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==r?r:2);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var m,b=function(e){var t,r={},a=e.split(o.dateTimeDelimiter);if(a.length>2)return r;/:/.test(a[0])?t=a[0]:(r.date=a[0],t=a[1],o.timeZoneDelimiter.test(r.date)&&(r.date=e.split(o.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length)));if(t){var n=o.timezone.exec(t);n?(r.time=t.replace(n[1],""),r.timezone=n[1]):r.time=t}return r}(e);if(b.date){var g=function(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};var n=a[1]?parseInt(a[1]):null,s=a[2]?parseInt(a[2]):null;return{year:null===s?n:100*s,restDateString:e.slice((a[1]||a[2]).length)}}(b.date,i);m=function(e,t){if(null===t)return new Date(NaN);var r=e.match(c);if(!r)return new Date(NaN);var a=!!r[4],n=d(r[1]),s=d(r[2])-1,i=d(r[3]),o=d(r[4]),l=d(r[5])-1;if(a)return function(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}(0,o,l)?function(e,t,r){var a=new Date(0);a.setUTCFullYear(e,0,4);var n=a.getUTCDay()||7,s=7*(t-1)+r+1-n;return a.setUTCDate(a.getUTCDate()+s),a}(t,o,l):new Date(NaN);var u=new Date(0);return function(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(p[t]||(f(e)?29:28))}(t,s,i)&&function(e,t){return t>=1&&t<=(f(e)?366:365)}(t,n)?(u.setUTCFullYear(t,s,Math.max(n,i)),u):new Date(NaN)}(g.restDateString,g.year)}if(!m||isNaN(m.getTime()))return new Date(NaN);var v,y=m.getTime(),j=0;if(b.time&&(j=function(e){var t=e.match(l);if(!t)return NaN;var r=h(t[1]),n=h(t[2]),s=h(t[3]);if(!function(e,t,r){if(24===e)return 0===t&&0===r;return r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}(r,n,s))return NaN;return r*a.a+n*a.b+1e3*s}(b.time),isNaN(j)))return new Date(NaN);if(!b.timezone){var w=new Date(y+j),_=new Date(0);return _.setFullYear(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()),_.setHours(w.getUTCHours(),w.getUTCMinutes(),w.getUTCSeconds(),w.getUTCMilliseconds()),_}return v=function(e){if("Z"===e)return 0;var t=e.match(u);if(!t)return 0;var r="+"===t[1]?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,s))return NaN;return r*(n*a.a+s*a.b)}(b.timezone),isNaN(v)?new Date(NaN):new Date(y+j+v)}var o={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,l=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){return e?parseInt(e):1}function h(e){return e&&parseFloat(e.replace(",","."))||0}var p=[31,null,31,30,31,30,31,31,30,31,30,31];function f(e){return e%400===0||e%4===0&&e%100!==0}},2055:function(e,t,r){"use strict";function a(e){var t={type:"Feature"};return Object.keys(e).forEach((function(r){switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}})),t.properties=n(e.properties),t.geometry=s(e.geometry),t}function n(e){var t={};return e?(Object.keys(e).forEach((function(r){var a=e[r];"object"===typeof a?null===a?t[r]=null:Array.isArray(a)?t[r]=a.map((function(e){return e})):t[r]=n(a):t[r]=a})),t):t}function s(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((function(e){return s(e)})),t):(t.coordinates=i(e.coordinates),t)}function i(e){var t=e;return"object"!==typeof t[0]?t.slice():t.map((function(e){return i(e)}))}t.a=function(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return a(e);case"FeatureCollection":return function(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach((function(r){switch(r){case"type":case"features":return;default:t[r]=e[r]}})),t.features=e.features.map((function(e){return a(e)})),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return s(e);default:throw new Error("unknown GeoJSON type")}}},2056:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},2058:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Xe}));var a=r(67),n=r(127);function s(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Object(n.a)(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}var i=r(2105),o=r(2106),c=r(1912);function l(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var u=r(2107),d=r(1996),h=r(2108),p=r(1913),f=r(1911),m=r(161),b=r(163),g=r(162),v=r(159),y=r(160),j=r(79),w=function(){function e(){Object(v.a)(this,e),Object(j.a)(this,"priority",void 0),Object(j.a)(this,"subPriority",0)}return Object(y.a)(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),_=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(e,a,n,s,i){var o;return Object(v.a)(this,r),(o=t.call(this)).value=e,o.validateValue=a,o.setValue=n,o.priority=s,i&&(o.subPriority=i),o}return Object(y.a)(r,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,r){return this.setValue(e,t,this.value,r)}}]),r}(w),O=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",10),Object(j.a)(Object(m.a)(e),"subPriority",-1),e}return Object(y.a)(r,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var r=new Date(0);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}}]),r}(w),x=function(){function e(){Object(v.a)(this,e),Object(j.a)(this,"incompatibleTokens",void 0),Object(j.a)(this,"priority",void 0),Object(j.a)(this,"subPriority",void 0)}return Object(y.a)(e,[{key:"run",value:function(e,t,r,a){var n=this.parse(e,t,r,a);return n?{setter:new _(n.value,this.validate,this.set,this.priority,this.subPriority),rest:n.rest}:null}},{key:"validate",value:function(e,t,r){return!0}}]),e}(),M=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",140),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["R","u","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,r){return t.era=r,e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(x),k=r(1961),C=/^(1[0-2]|0?\d)/,E=/^(3[0-1]|[0-2]?\d)/,S=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,N=/^(5[0-3]|[0-4]?\d)/,T=/^(2[0-3]|[0-1]?\d)/,D=/^(2[0-4]|[0-1]?\d)/,I=/^(1[0-1]|0?\d)/,A=/^(1[0-2]|0?\d)/,P=/^[0-5]?\d/,L=/^[0-5]?\d/,R=/^\d/,F=/^\d{1,2}/,B=/^\d{1,3}/,U=/^\d{1,4}/,z=/^-?\d+/,Y=/^-?\d/,G=/^-?\d{1,2}/,q=/^-?\d{1,3}/,H=/^-?\d{1,4}/,W=/^([+-])(\d{2})(\d{2})?|Z/,V=/^([+-])(\d{2})(\d{2})|Z/,K=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Z=/^([+-])(\d{2}):(\d{2})|Z/,Q=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function J(e,t){return e?{value:t(e.value),rest:e.rest}:e}function X(e,t){var r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function $(e,t){var r=t.match(e);if(!r)return null;if("Z"===r[0])return{value:0,rest:t.slice(1)};var a="+"===r[1]?1:-1,n=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,i=r[5]?parseInt(r[5],10):0;return{value:a*(n*k.a+s*k.b+i*k.c),rest:t.slice(r[0].length)}}function ee(e){return X(z,e)}function te(e,t){switch(e){case 1:return X(R,t);case 2:return X(F,t);case 3:return X(B,t);case 4:return X(U,t);default:return X(new RegExp("^\\d{1,"+e+"}"),t)}}function re(e,t){switch(e){case 1:return X(Y,t);case 2:return X(G,t);case 3:return X(q,t);case 4:return X(H,t);default:return X(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ae(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function ne(e,t){var r,a=t>0,n=a?t:1-t;if(n<=50)r=e||100;else{var s=n+50;r=e+100*Math.floor(s/100)-(e>=s%100?100:0)}return a?r:1-r}function se(e){return e%400===0||e%4===0&&e%100!==0}var ie=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",130),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){var a=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return J(te(4,e),a);case"yo":return J(r.ordinalNumber(e,{unit:"year"}),a);default:return J(te(t.length,e),a)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,r){var a=e.getUTCFullYear();if(r.isTwoDigitYear){var n=ne(r.year,a);return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}var s="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(s,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(x),oe=r(2062),ce=r(1967),le=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",130),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){var a=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return J(te(4,e),a);case"Yo":return J(r.ordinalNumber(e,{unit:"year"}),a);default:return J(te(t.length,e),a)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,r,a){var n=Object(oe.a)(e,a);if(r.isTwoDigitYear){var s=ne(r.year,n);return e.setUTCFullYear(s,0,a.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(ce.a)(e,a)}var i="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(i,0,a.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(ce.a)(e,a)}}]),r}(x),ue=r(1968),de=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",130),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t){return re("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,r){var a=new Date(0);return a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0),Object(ue.a)(a)}}]),r}(x),he=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",130),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t){return re("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,r){return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(x),pe=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",120),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"Q":case"QQ":return te(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,r){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e}}]),r}(x),fe=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",120),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"q":case"qq":return te(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,r){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e}}]),r}(x),me=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Object(j.a)(Object(m.a)(e),"priority",110),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){var a=function(e){return e-1};switch(t){case"M":return J(X(C,e),a);case"MM":return J(te(2,e),a);case"Mo":return J(r.ordinalNumber(e,{unit:"month"}),a);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e}}]),r}(x),be=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",110),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){var a=function(e){return e-1};switch(t){case"L":return J(X(C,e),a);case"LL":return J(te(2,e),a);case"Lo":return J(r.ordinalNumber(e,{unit:"month"}),a);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e}}]),r}(x),ge=r(2118);var ve=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",100),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"w":return X(N,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return te(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,r,a){return Object(ce.a)(function(e,t,r){Object(f.a)(2,arguments);var a=Object(c.default)(e),n=Object(p.a)(t),s=Object(ge.a)(a,r)-n;return a.setUTCDate(a.getUTCDate()-7*s),a}(e,r,a),a)}}]),r}(x),ye=r(2119);var je=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",100),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"I":return X(N,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return te(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,r){return Object(ue.a)(function(e,t){Object(f.a)(2,arguments);var r=Object(c.default)(e),a=Object(p.a)(t),n=Object(ye.a)(r)-a;return r.setUTCDate(r.getUTCDate()-7*n),r}(e,r))}}]),r}(x),we=[31,28,31,30,31,30,31,31,30,31,30,31],_e=[31,29,31,30,31,30,31,31,30,31,30,31],Oe=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",90),Object(j.a)(Object(m.a)(e),"subPriority",1),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"d":return X(E,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return te(t.length,e)}}},{key:"validate",value:function(e,t){var r=se(e.getUTCFullYear()),a=e.getUTCMonth();return r?t>=1&&t<=_e[a]:t>=1&&t<=we[a]}},{key:"set",value:function(e,t,r){return e.setUTCDate(r),e.setUTCHours(0,0,0,0),e}}]),r}(x),xe=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",90),Object(j.a)(Object(m.a)(e),"subpriority",1),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"D":case"DD":return X(S,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return te(t.length,e)}}},{key:"validate",value:function(e,t){return se(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,r){return e.setUTCMonth(0,r),e.setUTCHours(0,0,0,0),e}}]),r}(x),Me=r(1927);function ke(e,t,r){var a,n,s,i,o,l,u,d;Object(f.a)(2,arguments);var h=Object(Me.a)(),m=Object(p.a)(null!==(a=null!==(n=null!==(s=null!==(i=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==i?i:null===r||void 0===r||null===(o=r.locale)||void 0===o||null===(l=o.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==s?s:h.weekStartsOn)&&void 0!==n?n:null===(u=h.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==a?a:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var b=Object(c.default)(e),g=Object(p.a)(t),v=((g%7+7)%7<m?7:0)+g-b.getUTCDay();return b.setUTCDate(b.getUTCDate()+v),b}var Ce=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",90),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,a){return(e=ke(e,r,a)).setUTCHours(0,0,0,0),e}}]),r}(x),Ee=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",90),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r,a){var n=function(e){var t=7*Math.floor((e-1)/7);return(e+a.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return J(te(t.length,e),n);case"eo":return J(r.ordinalNumber(e,{unit:"day"}),n);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,a){return(e=ke(e,r,a)).setUTCHours(0,0,0,0),e}}]),r}(x),Se=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",90),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r,a){var n=function(e){var t=7*Math.floor((e-1)/7);return(e+a.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return J(te(t.length,e),n);case"co":return J(r.ordinalNumber(e,{unit:"day"}),n);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,a){return(e=ke(e,r,a)).setUTCHours(0,0,0,0),e}}]),r}(x);var Ne=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",90),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){var a=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return te(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return J(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return J(r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return J(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);default:return J(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,r){return e=function(e,t){Object(f.a)(2,arguments);var r=Object(p.a)(t);r%7===0&&(r-=7);var a=Object(c.default)(e),n=((r%7+7)%7<1?7:0)+r-a.getUTCDay();return a.setUTCDate(a.getUTCDate()+n),a}(e,r),e.setUTCHours(0,0,0,0),e}}]),r}(x),Te=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",80),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours(ae(r),0,0,0),e}}]),r}(x),De=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",80),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours(ae(r),0,0,0),e}}]),r}(x),Ie=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",80),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["a","b","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours(ae(r),0,0,0),e}}]),r}(x),Ae=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",70),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["H","K","k","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"h":return X(A,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return te(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,r){var a=e.getUTCHours()>=12;return a&&r<12?e.setUTCHours(r+12,0,0,0):a||12!==r?e.setUTCHours(r,0,0,0):e.setUTCHours(0,0,0,0),e}}]),r}(x),Pe=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",70),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"H":return X(T,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return te(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,r){return e.setUTCHours(r,0,0,0),e}}]),r}(x),Le=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",70),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["h","H","k","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"K":return X(I,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return te(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.getUTCHours()>=12&&r<12?e.setUTCHours(r+12,0,0,0):e.setUTCHours(r,0,0,0),e}}]),r}(x),Re=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",70),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"k":return X(D,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return te(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,r){var a=r<=24?r%24:r;return e.setUTCHours(a,0,0,0),e}}]),r}(x),Fe=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",60),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"m":return X(P,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return te(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,r){return e.setUTCMinutes(r,0,0),e}}]),r}(x),Be=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",50),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t,r){switch(t){case"s":return X(L,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return te(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,r){return e.setUTCSeconds(r,0),e}}]),r}(x),Ue=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",30),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["t","T"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t){return J(te(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,r){return e.setUTCMilliseconds(r),e}}]),r}(x),ze=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",10),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["t","T","x"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t){switch(t){case"X":return $(W,e);case"XX":return $(V,e);case"XXXX":return $(K,e);case"XXXXX":return $(Q,e);default:return $(Z,e)}}},{key:"set",value:function(e,t,r){return t.timestampIsSet?e:new Date(e.getTime()-r)}}]),r}(x),Ye=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",10),Object(j.a)(Object(m.a)(e),"incompatibleTokens",["t","T","X"]),e}return Object(y.a)(r,[{key:"parse",value:function(e,t){switch(t){case"x":return $(W,e);case"xx":return $(V,e);case"xxxx":return $(K,e);case"xxxxx":return $(Q,e);default:return $(Z,e)}}},{key:"set",value:function(e,t,r){return t.timestampIsSet?e:new Date(e.getTime()-r)}}]),r}(x),Ge=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",40),Object(j.a)(Object(m.a)(e),"incompatibleTokens","*"),e}return Object(y.a)(r,[{key:"parse",value:function(e){return ee(e)}},{key:"set",value:function(e,t,r){return[new Date(1e3*r),{timestampIsSet:!0}]}}]),r}(x),qe=function(e){Object(b.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(v.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n)),Object(j.a)(Object(m.a)(e),"priority",20),Object(j.a)(Object(m.a)(e),"incompatibleTokens","*"),e}return Object(y.a)(r,[{key:"parse",value:function(e){return ee(e)}},{key:"set",value:function(e,t,r){return[new Date(r),{timestampIsSet:!0}]}}]),r}(x),He={G:new M,y:new ie,Y:new le,R:new de,u:new he,Q:new pe,q:new fe,M:new me,L:new be,w:new ve,I:new je,d:new Oe,D:new xe,E:new Ce,e:new Ee,c:new Se,i:new Ne,a:new Te,b:new De,B:new Ie,h:new Ae,H:new Pe,K:new Le,k:new Re,m:new Fe,s:new Be,S:new Ue,X:new ze,x:new Ye,t:new Ge,T:new qe},We=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ke=/^'([^]*?)'?$/,Ze=/''/g,Qe=/\S/,Je=/[a-zA-Z]/;function Xe(e,t,r,n){var m,b,g,v,y,j,w,_,x,M,k,C,E,S,N,T,D,I;Object(f.a)(3,arguments);var A=String(e),P=String(t),L=Object(Me.a)(),R=null!==(m=null!==(b=null===n||void 0===n?void 0:n.locale)&&void 0!==b?b:L.locale)&&void 0!==m?m:i.a;if(!R.match)throw new RangeError("locale must contain match property");var F=Object(p.a)(null!==(g=null!==(v=null!==(y=null!==(j=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==j?j:null===n||void 0===n||null===(w=n.locale)||void 0===w||null===(_=w.options)||void 0===_?void 0:_.firstWeekContainsDate)&&void 0!==y?y:L.firstWeekContainsDate)&&void 0!==v?v:null===(x=L.locale)||void 0===x||null===(M=x.options)||void 0===M?void 0:M.firstWeekContainsDate)&&void 0!==g?g:1);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=Object(p.a)(null!==(k=null!==(C=null!==(E=null!==(S=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==S?S:null===n||void 0===n||null===(N=n.locale)||void 0===N||null===(T=N.options)||void 0===T?void 0:T.weekStartsOn)&&void 0!==E?E:L.weekStartsOn)&&void 0!==C?C:null===(D=L.locale)||void 0===D||null===(I=D.options)||void 0===I?void 0:I.weekStartsOn)&&void 0!==k?k:0);if(!(B>=0&&B<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===P)return""===A?Object(c.default)(r):new Date(NaN);var U,z={firstWeekContainsDate:F,weekStartsOn:B,locale:R},Y=[new O],G=P.match(Ve).map((function(e){var t=e[0];return t in u.a?(0,u.a[t])(e,R.formatLong):e})).join("").match(We),q=[],H=s(G);try{var W=function(){var t=U.value;null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!Object(h.b)(t)||Object(h.c)(t,P,e),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!Object(h.a)(t)||Object(h.c)(t,P,e);var r=t[0],a=He[r];if(a){var s=a.incompatibleTokens;if(Array.isArray(s)){var i=q.find((function(e){return s.includes(e.token)||e.token===r}));if(i)throw new RangeError("The format string mustn't contain `".concat(i.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===a.incompatibleTokens&&q.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));q.push({token:r,fullToken:t});var o=a.run(A,t,R.match,z);if(!o)return{v:new Date(NaN)};Y.push(o.setter),A=o.rest}else{if(r.match(Je))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");if("''"===t?t="'":"'"===r&&(t=t.match(Ke)[1].replace(Ze,"'")),0!==A.indexOf(t))return{v:new Date(NaN)};A=A.slice(t.length)}};for(H.s();!(U=H.n()).done;){var V=W();if("object"===Object(a.a)(V))return V.v}}catch(re){H.e(re)}finally{H.f()}if(A.length>0&&Qe.test(A))return new Date(NaN);var K=Y.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,r){return r.indexOf(e)===t})).map((function(e){return Y.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),Z=Object(c.default)(r);if(isNaN(Z.getTime()))return new Date(NaN);var Q,J=Object(o.a)(Z,Object(d.a)(Z)),X={},$=s(K);try{for($.s();!(Q=$.n()).done;){var ee=Q.value;if(!ee.validate(J,z))return new Date(NaN);var te=ee.set(J,X,z);Array.isArray(te)?(J=te[0],l(X,te[1])):J=te}}catch(re){$.e(re)}finally{$.f()}return J}},2069:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r(9);const n=(e,t)=>{const r=new RegExp("".concat(a.T,"-").concat(t));return e.split(" ").filter((e=>null!==e.match(r)))}},2071:function(e,t,r){},2072:function(e,t,r){(function(t){e.exports=function(){"use strict";var e=function(e,t){var r={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},a={on:function(e,t,a){if(void 0===r[e])throw new Error("Invalid event type: "+e);r[e].push({selector:t,fn:a})},render:function(e){t.store.featureChanged(e)}},n=function(e,n){for(var s=r[e],i=s.length;i--;){var o=s[i];if(o.selector(n)){o.fn.call(a,n)||t.store.render(),t.ui.updateMapClasses();break}}};return e.start.call(a),{render:e.render,stop:function(){e.stop&&e.stop()},trash:function(){e.trash&&(e.trash(),t.store.render())},combineFeatures:function(){e.combineFeatures&&e.combineFeatures()},uncombineFeatures:function(){e.uncombineFeatures&&e.uncombineFeatures()},drag:function(e){n("drag",e)},click:function(e){n("click",e)},mousemove:function(e){n("mousemove",e)},mousedown:function(e){n("mousedown",e)},mouseup:function(e){n("mouseup",e)},mouseout:function(e){n("mouseout",e)},keydown:function(e){n("keydown",e)},keyup:function(e){n("keyup",e)},touchstart:function(e){n("touchstart",e)},touchmove:function(e){n("touchmove",e)},touchend:function(e){n("touchend",e)},tap:function(e){n("tap",e)}}};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){if(this instanceof e){var r=[null];return r.push.apply(r,arguments),new(Function.bind.apply(t,r))}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})})),r}var n={},s={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function i(e){var t=0;if(e&&e.length>0){t+=Math.abs(o(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(o(e[r]))}return t}function o(e){var t,r,a,n,i,o,l=0,u=e.length;if(u>2){for(o=0;o<u;o++)o===u-2?(a=u-2,n=u-1,i=0):o===u-1?(a=u-1,n=0,i=1):(a=o,n=o+1,i=o+2),t=e[a],r=e[n],l+=(c(e[i][0])-c(t[0]))*Math.sin(c(r[1]));l=l*s.RADIUS*s.RADIUS/2}return l}function c(e){return e*Math.PI/180}n.geometry=function e(t){var r,a=0;switch(t.type){case"Polygon":return i(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)a+=i(t.coordinates[r]);return a;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<t.geometries.length;r++)a+=e(t.geometries[r]);return a}},n.ring=o;var l={CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},u={HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},d={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},h={POLYGON:"polygon",LINE:"line_string",POINT:"point"},p={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},f={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},m={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},b={MOVE:"move",CHANGE_COORDINATES:"change_coordinates"},g={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},v={ACTIVE:"true",INACTIVE:"false"},y=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],j=-85,w=Object.freeze({__proto__:null,classes:l,sources:u,cursors:d,types:h,geojsonTypes:p,modes:f,events:m,updateActions:b,meta:g,activeStates:v,interactions:y,LAT_MIN:-90,LAT_RENDERED_MIN:j,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270}),_={Point:0,LineString:1,MultiLineString:1,Polygon:2};function O(e,t){var r=_[e.geometry.type]-_[t.geometry.type];return 0===r&&e.geometry.type===p.POLYGON?e.area-t.area:r}function x(e){return e.map((function(e){return e.geometry.type===p.POLYGON&&(e.area=n.geometry({type:p.FEATURE,property:{},geometry:e.geometry})),e})).sort(O).map((function(e){return delete e.area,e}))}function M(e,t){return void 0===t&&(t=0),[[e.point.x-t,e.point.y-t],[e.point.x+t,e.point.y+t]]}function k(e){if(this._items={},this._nums={},this._length=e?e.length:0,e)for(var t=0,r=e.length;t<r;t++)this.add(e[t]),void 0!==e[t]&&("string"==typeof e[t]?this._items[e[t]]=t:this._nums[e[t]]=t)}k.prototype.add=function(e){return this.has(e)||(this._length++,"string"==typeof e?this._items[e]=this._length:this._nums[e]=this._length),this},k.prototype.delete=function(e){return!1===this.has(e)||(this._length--,delete this._items[e],delete this._nums[e]),this},k.prototype.has=function(e){return("string"==typeof e||"number"==typeof e)&&(void 0!==this._items[e]||void 0!==this._nums[e])},k.prototype.values=function(){var e=this,t=[];return Object.keys(this._items).forEach((function(r){t.push({k:r,v:e._items[r]})})),Object.keys(this._nums).forEach((function(r){t.push({k:JSON.parse(r),v:e._nums[r]})})),t.sort((function(e,t){return e.v-t.v})).map((function(e){return e.k}))},k.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var C=[g.FEATURE,g.MIDPOINT,g.VERTEX],E={click:function(e,t,r){return S(e,t,r,r.options.clickBuffer)},touch:function(e,t,r){return S(e,t,r,r.options.touchBuffer)}};function S(e,t,r,a){if(null===r.map)return[];var n=e?M(e,a):t,s={};r.options.styles&&(s.layers=r.options.styles.map((function(e){return e.id})).filter((function(e){return null!=r.map.getLayer(e)})));var i=r.map.queryRenderedFeatures(n,s).filter((function(e){return-1!==C.indexOf(e.properties.meta)})),o=new k,c=[];return i.forEach((function(e){var t=e.properties.id;o.has(t)||(o.add(t),c.push(e))})),x(c)}function N(e,t){var r=E.click(e,null,t),a={mouse:d.NONE};return r[0]&&(a.mouse=r[0].properties.active===v.ACTIVE?d.MOVE:d.POINTER,a.feature=r[0].properties.meta),-1!==t.events.currentModeName().indexOf("draw")&&(a.mouse=d.ADD),t.ui.queueMapClasses(a),t.ui.updateMapClasses(),r[0]}function T(e,t){var r=e.x-t.x,a=e.y-t.y;return Math.sqrt(r*r+a*a)}function D(e,t,r){void 0===r&&(r={});var a=null!=r.fineTolerance?r.fineTolerance:4,n=null!=r.grossTolerance?r.grossTolerance:12,s=null!=r.interval?r.interval:500;e.point=e.point||t.point,e.time=e.time||t.time;var i=T(e.point,t.point);return i<a||i<n&&t.time-e.time<s}function I(e,t,r){void 0===r&&(r={});var a=null!=r.tolerance?r.tolerance:25,n=null!=r.interval?r.interval:250;return e.point=e.point||t.point,e.time=e.time||t.time,T(e.point,t.point)<a&&t.time-e.time<n}var A={exports:{}},P=A.exports=function(e,t){if(t||(t=16),void 0===e&&(e=128),e<=0)return"0";for(var r=Math.log(Math.pow(2,e))/Math.log(t),a=2;r===1/0;a*=2)r=Math.log(Math.pow(2,e/a))/Math.log(t)*a;var n=r-Math.floor(r),s="";for(a=0;a<Math.floor(r);a++)s=Math.floor(Math.random()*t).toString(t)+s;if(n){var i=Math.pow(t,n);s=Math.floor(Math.random()*i).toString(t)+s}var o=parseInt(s,t);return o!==1/0&&o>=Math.pow(2,e)?P(e,t):s};P.rack=function(e,t,r){var a=function(a){var s=0;do{if(s++>10){if(!r)throw new Error("too many ID collisions, use more bits");e+=r}var i=P(e,t)}while(Object.hasOwnProperty.call(n,i));return n[i]=a,i},n=a.hats={};return a.get=function(e){return a.hats[e]},a.set=function(e,t){return a.hats[e]=t,a},a.bits=e||128,a.base=t||16,a};var L=r(A.exports),R=function(e,t){this.ctx=e,this.properties=t.properties||{},this.coordinates=t.geometry.coordinates,this.id=t.id||L(),this.type=t.geometry.type};R.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},R.prototype.incomingCoords=function(e){this.setCoordinates(e)},R.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},R.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},R.prototype.setProperty=function(e,t){this.properties[e]=t},R.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:p.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},R.prototype.internal=function(e){var t={id:this.id,meta:g.FEATURE,"meta:type":this.type,active:v.INACTIVE,mode:e};if(this.ctx.options.userProperties)for(var r in this.properties)t["user_"+r]=this.properties[r];return{type:p.FEATURE,properties:t,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var F=function(e,t){R.call(this,e,t)};(F.prototype=Object.create(R.prototype)).isValid=function(){return"number"==typeof this.coordinates[0]&&"number"==typeof this.coordinates[1]},F.prototype.updateCoordinate=function(e,t,r){this.coordinates=3===arguments.length?[t,r]:[e,t],this.changed()},F.prototype.getCoordinate=function(){return this.getCoordinates()};var B=function(e,t){R.call(this,e,t)};(B.prototype=Object.create(R.prototype)).isValid=function(){return this.coordinates.length>1},B.prototype.addCoordinate=function(e,t,r){this.changed();var a=parseInt(e,10);this.coordinates.splice(a,0,[t,r])},B.prototype.getCoordinate=function(e){var t=parseInt(e,10);return JSON.parse(JSON.stringify(this.coordinates[t]))},B.prototype.removeCoordinate=function(e){this.changed(),this.coordinates.splice(parseInt(e,10),1)},B.prototype.updateCoordinate=function(e,t,r){var a=parseInt(e,10);this.coordinates[a]=[t,r],this.changed()};var U=function(e,t){R.call(this,e,t),this.coordinates=this.coordinates.map((function(e){return e.slice(0,-1)}))};(U.prototype=Object.create(R.prototype)).isValid=function(){return 0!==this.coordinates.length&&this.coordinates.every((function(e){return e.length>2}))},U.prototype.incomingCoords=function(e){this.coordinates=e.map((function(e){return e.slice(0,-1)})),this.changed()},U.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},U.prototype.addCoordinate=function(e,t,r){this.changed();var a=e.split(".").map((function(e){return parseInt(e,10)}));this.coordinates[a[0]].splice(a[1],0,[t,r])},U.prototype.removeCoordinate=function(e){this.changed();var t=e.split(".").map((function(e){return parseInt(e,10)})),r=this.coordinates[t[0]];r&&(r.splice(t[1],1),r.length<3&&this.coordinates.splice(t[0],1))},U.prototype.getCoordinate=function(e){var t=e.split(".").map((function(e){return parseInt(e,10)})),r=this.coordinates[t[0]];return JSON.parse(JSON.stringify(r[t[1]]))},U.prototype.getCoordinates=function(){return this.coordinates.map((function(e){return e.concat([e[0]])}))},U.prototype.updateCoordinate=function(e,t,r){this.changed();var a=e.split("."),n=parseInt(a[0],10),s=parseInt(a[1],10);void 0===this.coordinates[n]&&(this.coordinates[n]=[]),this.coordinates[n][s]=[t,r]};var z={MultiPoint:F,MultiLineString:B,MultiPolygon:U},Y=function(e,t,r,a,n){var s=r.split("."),i=parseInt(s[0],10),o=s[1]?s.slice(1).join("."):null;return e[i][t](o,a,n)},G=function(e,t){if(R.call(this,e,t),delete this.coordinates,this.model=z[t.geometry.type],void 0===this.model)throw new TypeError(t.geometry.type+" is not a valid type");this.features=this._coordinatesToFeatures(t.geometry.coordinates)};function q(e){this.map=e.map,this.drawConfig=JSON.parse(JSON.stringify(e.options||{})),this._ctx=e}(G.prototype=Object.create(R.prototype))._coordinatesToFeatures=function(e){var t=this,r=this.model.bind(this);return e.map((function(e){return new r(t.ctx,{id:L(),type:p.FEATURE,properties:{},geometry:{coordinates:e,type:t.type.replace("Multi","")}})}))},G.prototype.isValid=function(){return this.features.every((function(e){return e.isValid()}))},G.prototype.setCoordinates=function(e){this.features=this._coordinatesToFeatures(e),this.changed()},G.prototype.getCoordinate=function(e){return Y(this.features,"getCoordinate",e)},G.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map((function(e){return e.type===p.POLYGON?e.getCoordinates():e.coordinates}))))},G.prototype.updateCoordinate=function(e,t,r){Y(this.features,"updateCoordinate",e,t,r),this.changed()},G.prototype.addCoordinate=function(e,t,r){Y(this.features,"addCoordinate",e,t,r),this.changed()},G.prototype.removeCoordinate=function(e){Y(this.features,"removeCoordinate",e),this.changed()},G.prototype.getFeatures=function(){return this.features},q.prototype.setSelected=function(e){return this._ctx.store.setSelected(e)},q.prototype.setSelectedCoordinates=function(e){var t=this;this._ctx.store.setSelectedCoordinates(e),e.reduce((function(e,r){return void 0===e[r.feature_id]&&(e[r.feature_id]=!0,t._ctx.store.get(r.feature_id).changed()),e}),{})},q.prototype.getSelected=function(){return this._ctx.store.getSelected()},q.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},q.prototype.isSelected=function(e){return this._ctx.store.isSelected(e)},q.prototype.getFeature=function(e){return this._ctx.store.get(e)},q.prototype.select=function(e){return this._ctx.store.select(e)},q.prototype.deselect=function(e){return this._ctx.store.deselect(e)},q.prototype.deleteFeature=function(e,t){return void 0===t&&(t={}),this._ctx.store.delete(e,t)},q.prototype.addFeature=function(e){return this._ctx.store.add(e)},q.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},q.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},q.prototype.setActionableState=function(e){void 0===e&&(e={});var t={trash:e.trash||!1,combineFeatures:e.combineFeatures||!1,uncombineFeatures:e.uncombineFeatures||!1};return this._ctx.events.actionable(t)},q.prototype.changeMode=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),this._ctx.events.changeMode(e,t,r)},q.prototype.updateUIClasses=function(e){return this._ctx.ui.queueMapClasses(e)},q.prototype.activateUIButton=function(e){return this._ctx.ui.setActiveButton(e)},q.prototype.featuresAt=function(e,t,r){if(void 0===r&&(r="click"),"click"!==r&&"touch"!==r)throw new Error("invalid buffer type");return E[r](e,t,this._ctx)},q.prototype.newFeature=function(e){var t=e.geometry.type;return t===p.POINT?new F(this._ctx,e):t===p.LINE_STRING?new B(this._ctx,e):t===p.POLYGON?new U(this._ctx,e):new G(this._ctx,e)},q.prototype.isInstanceOf=function(e,t){if(e===p.POINT)return t instanceof F;if(e===p.LINE_STRING)return t instanceof B;if(e===p.POLYGON)return t instanceof U;if("MultiFeature"===e)return t instanceof G;throw new Error("Unknown feature class: "+e)},q.prototype.doRender=function(e){return this._ctx.store.featureChanged(e)},q.prototype.onSetup=function(){},q.prototype.onDrag=function(){},q.prototype.onClick=function(){},q.prototype.onMouseMove=function(){},q.prototype.onMouseDown=function(){},q.prototype.onMouseUp=function(){},q.prototype.onMouseOut=function(){},q.prototype.onKeyUp=function(){},q.prototype.onKeyDown=function(){},q.prototype.onTouchStart=function(){},q.prototype.onTouchMove=function(){},q.prototype.onTouchEnd=function(){},q.prototype.onTap=function(){},q.prototype.onStop=function(){},q.prototype.onTrash=function(){},q.prototype.onCombineFeature=function(){},q.prototype.onUncombineFeature=function(){},q.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};var H={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},W=Object.keys(H);function V(e){var t=Object.keys(e);return function(r,a){void 0===a&&(a={});var n={},s=t.reduce((function(t,r){return t[r]=e[r],t}),new q(r));return{start:function(){var t=this;n=s.onSetup(a),W.forEach((function(r){var a,i=H[r],o=function(){return!1};e[i]&&(o=function(){return!0}),t.on(r,o,(a=i,function(e){return s[a](n,e)}))}))},stop:function(){s.onStop(n)},trash:function(){s.onTrash(n)},combineFeatures:function(){s.onCombineFeatures(n)},uncombineFeatures:function(){s.onUncombineFeatures(n)},render:function(e,t){s.toDisplayFeatures(n,e,t)}}}}function K(e){return[].concat(e).filter((function(e){return void 0!==e}))}function Z(){var e=this;if(!e.ctx.map||void 0===e.ctx.map.getSource(u.HOT))return c();var t=e.ctx.events.currentModeName();e.ctx.ui.queueMapClasses({mode:t});var r=[],a=[];e.isDirty?a=e.getAllIds():(r=e.getChangedIds().filter((function(t){return void 0!==e.get(t)})),a=e.sources.hot.filter((function(t){return t.properties.id&&-1===r.indexOf(t.properties.id)&&void 0!==e.get(t.properties.id)})).map((function(e){return e.properties.id}))),e.sources.hot=[];var n=e.sources.cold.length;e.sources.cold=e.isDirty?[]:e.sources.cold.filter((function(e){var t=e.properties.id||e.properties.parent;return-1===r.indexOf(t)}));var s=n!==e.sources.cold.length||a.length>0;function i(r,a){var n=e.get(r).internal(t);e.ctx.events.currentModeRender(n,(function(t){e.sources[a].push(t)}))}if(r.forEach((function(e){return i(e,"hot")})),a.forEach((function(e){return i(e,"cold")})),s&&e.ctx.map.getSource(u.COLD).setData({type:p.FEATURE_COLLECTION,features:e.sources.cold}),e.ctx.map.getSource(u.HOT).setData({type:p.FEATURE_COLLECTION,features:e.sources.hot}),e._emitSelectionChange&&(e.ctx.map.fire(m.SELECTION_CHANGE,{features:e.getSelected().map((function(e){return e.toGeoJSON()})),points:e.getSelectedCoordinates().map((function(e){return{type:p.FEATURE,properties:{},geometry:{type:p.POINT,coordinates:e.coordinates}}}))}),e._emitSelectionChange=!1),e._deletedFeaturesToEmit.length){var o=e._deletedFeaturesToEmit.map((function(e){return e.toGeoJSON()}));e._deletedFeaturesToEmit=[],e.ctx.map.fire(m.DELETE,{features:o})}function c(){e.isDirty=!1,e.clearChangedIds()}c(),e.ctx.map.fire(m.RENDER,{})}function Q(e){var t,r=this;this._features={},this._featureIds=new k,this._selectedFeatureIds=new k,this._selectedCoordinates=[],this._changedFeatureIds=new k,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=e,this.sources={hot:[],cold:[]},this.render=function(){t||(t=requestAnimationFrame((function(){t=null,Z.call(r)})))},this.isDirty=!1}function J(e,t){var r=e._selectedCoordinates.filter((function(t){return e._selectedFeatureIds.has(t.feature_id)}));e._selectedCoordinates.length===r.length||t.silent||(e._emitSelectionChange=!0),e._selectedCoordinates=r}Q.prototype.createRenderBatch=function(){var e=this,t=this.render,r=0;return this.render=function(){r++},function(){e.render=t,r>0&&e.render()}},Q.prototype.setDirty=function(){return this.isDirty=!0,this},Q.prototype.featureChanged=function(e){return this._changedFeatureIds.add(e),this},Q.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},Q.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},Q.prototype.getAllIds=function(){return this._featureIds.values()},Q.prototype.add=function(e){return this.featureChanged(e.id),this._features[e.id]=e,this._featureIds.add(e.id),this},Q.prototype.delete=function(e,t){var r=this;return void 0===t&&(t={}),K(e).forEach((function(e){r._featureIds.has(e)&&(r._featureIds.delete(e),r._selectedFeatureIds.delete(e),t.silent||-1===r._deletedFeaturesToEmit.indexOf(r._features[e])&&r._deletedFeaturesToEmit.push(r._features[e]),delete r._features[e],r.isDirty=!0)})),J(this,t),this},Q.prototype.get=function(e){return this._features[e]},Q.prototype.getAll=function(){var e=this;return Object.keys(this._features).map((function(t){return e._features[t]}))},Q.prototype.select=function(e,t){var r=this;return void 0===t&&(t={}),K(e).forEach((function(e){r._selectedFeatureIds.has(e)||(r._selectedFeatureIds.add(e),r._changedFeatureIds.add(e),t.silent||(r._emitSelectionChange=!0))})),this},Q.prototype.deselect=function(e,t){var r=this;return void 0===t&&(t={}),K(e).forEach((function(e){r._selectedFeatureIds.has(e)&&(r._selectedFeatureIds.delete(e),r._changedFeatureIds.add(e),t.silent||(r._emitSelectionChange=!0))})),J(this,t),this},Q.prototype.clearSelected=function(e){return void 0===e&&(e={}),this.deselect(this._selectedFeatureIds.values(),{silent:e.silent}),this},Q.prototype.setSelected=function(e,t){var r=this;return void 0===t&&(t={}),e=K(e),this.deselect(this._selectedFeatureIds.values().filter((function(t){return-1===e.indexOf(t)})),{silent:t.silent}),this.select(e.filter((function(e){return!r._selectedFeatureIds.has(e)})),{silent:t.silent}),this},Q.prototype.setSelectedCoordinates=function(e){return this._selectedCoordinates=e,this._emitSelectionChange=!0,this},Q.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},Q.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},Q.prototype.getSelected=function(){var e=this;return this._selectedFeatureIds.values().map((function(t){return e.get(t)}))},Q.prototype.getSelectedCoordinates=function(){var e=this;return this._selectedCoordinates.map((function(t){return{coordinates:e.get(t.feature_id).getCoordinate(t.coord_path)}}))},Q.prototype.isSelected=function(e){return this._selectedFeatureIds.has(e)},Q.prototype.setFeatureProperty=function(e,t,r){this.get(e).setProperty(t,r),this.featureChanged(e)},Q.prototype.storeMapConfig=function(){var e=this;y.forEach((function(t){e.ctx.map[t]&&(e._mapInitialConfig[t]=e.ctx.map[t].isEnabled())}))},Q.prototype.restoreMapConfig=function(){var e=this;Object.keys(this._mapInitialConfig).forEach((function(t){e._mapInitialConfig[t]?e.ctx.map[t].enable():e.ctx.map[t].disable()}))},Q.prototype.getInitialConfigValue=function(e){return void 0===this._mapInitialConfig[e]||this._mapInitialConfig[e]};var X=function(){for(var e=arguments,t={},r=0;r<arguments.length;r++){var a=e[r];for(var n in a)$.call(a,n)&&(t[n]=a[n])}return t},$=Object.prototype.hasOwnProperty,ee=r(X),te=["mode","feature","mouse"];function re(t){var r=null,a=null,n={onRemove:function(){return t.map.off("load",n.connect),clearInterval(a),n.removeLayers(),t.store.restoreMapConfig(),t.ui.removeButtons(),t.events.removeEventListeners(),t.ui.clearMapClasses(),t.boxZoomInitial&&t.map.boxZoom.enable(),t.map=null,t.container=null,t.store=null,r&&r.parentNode&&r.parentNode.removeChild(r),r=null,this},connect:function(){t.map.off("load",n.connect),clearInterval(a),n.addLayers(),t.store.storeMapConfig(),t.events.addEventListeners()},onAdd:function(s){var i=s.fire;return s.fire=function(e,t){var r=arguments;return 1===i.length&&1!==arguments.length&&(r=[ee({},{type:e},t)]),i.apply(s,r)},t.map=s,t.events=function(t){var r=Object.keys(t.options.modes).reduce((function(e,r){return e[r]=V(t.options.modes[r]),e}),{}),a={},n={},s={},i=null,o=null;s.drag=function(e,r){r({point:e.point,time:(new Date).getTime()})?(t.ui.queueMapClasses({mouse:d.DRAG}),o.drag(e)):e.originalEvent.stopPropagation()},s.mousedrag=function(e){s.drag(e,(function(e){return!D(a,e)}))},s.touchdrag=function(e){s.drag(e,(function(e){return!I(n,e)}))},s.mousemove=function(e){if(1===(void 0!==e.originalEvent.buttons?e.originalEvent.buttons:e.originalEvent.which))return s.mousedrag(e);var r=N(e,t);e.featureTarget=r,o.mousemove(e)},s.mousedown=function(e){a={time:(new Date).getTime(),point:e.point};var r=N(e,t);e.featureTarget=r,o.mousedown(e)},s.mouseup=function(e){var r=N(e,t);e.featureTarget=r,D(a,{point:e.point,time:(new Date).getTime()})?o.click(e):o.mouseup(e)},s.mouseout=function(e){o.mouseout(e)},s.touchstart=function(e){if(t.options.touchEnabled){n={time:(new Date).getTime(),point:e.point};var r=E.touch(e,null,t)[0];e.featureTarget=r,o.touchstart(e)}},s.touchmove=function(e){if(t.options.touchEnabled)return o.touchmove(e),s.touchdrag(e)},s.touchend=function(e){if(e.originalEvent.preventDefault(),t.options.touchEnabled){var r=E.touch(e,null,t)[0];e.featureTarget=r,I(n,{time:(new Date).getTime(),point:e.point})?o.tap(e):o.touchend(e)}};var c=function(e){return!(8===e||46===e||e>=48&&e<=57)};function l(a,n,s){void 0===s&&(s={}),o.stop();var c=r[a];if(void 0===c)throw new Error(a+" is not valid");i=a;var l=c(t,n);o=e(l,t),s.silent||t.map.fire(m.MODE_CHANGE,{mode:a}),t.store.setDirty(),t.store.render()}s.keydown=function(e){(e.srcElement||e.target).classList.contains("mapboxgl-canvas")&&(8!==e.keyCode&&46!==e.keyCode||!t.options.controls.trash?c(e.keyCode)?o.keydown(e):49===e.keyCode&&t.options.controls.point?l(f.DRAW_POINT):50===e.keyCode&&t.options.controls.line_string?l(f.DRAW_LINE_STRING):51===e.keyCode&&t.options.controls.polygon&&l(f.DRAW_POLYGON):(e.preventDefault(),o.trash()))},s.keyup=function(e){c(e.keyCode)&&o.keyup(e)},s.zoomend=function(){t.store.changeZoom()},s.data=function(e){if("style"===e.dataType){var r=t.setup,a=t.map,n=t.options,s=t.store;n.styles.some((function(e){return a.getLayer(e.id)}))||(r.addLayers(),s.setDirty(),s.render())}};var u={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){i=t.options.defaultMode,o=e(r[i](t),t)},changeMode:l,actionable:function(e){var r=!1;Object.keys(e).forEach((function(t){if(void 0===u[t])throw new Error("Invalid action type");u[t]!==e[t]&&(r=!0),u[t]=e[t]})),r&&t.map.fire(m.ACTIONABLE,{actions:u})},currentModeName:function(){return i},currentModeRender:function(e,t){return o.render(e,t)},fire:function(e,t){s[e]&&s[e](t)},addEventListeners:function(){t.map.on("mousemove",s.mousemove),t.map.on("mousedown",s.mousedown),t.map.on("mouseup",s.mouseup),t.map.on("data",s.data),t.map.on("touchmove",s.touchmove),t.map.on("touchstart",s.touchstart),t.map.on("touchend",s.touchend),t.container.addEventListener("mouseout",s.mouseout),t.options.keybindings&&(t.container.addEventListener("keydown",s.keydown),t.container.addEventListener("keyup",s.keyup))},removeEventListeners:function(){t.map.off("mousemove",s.mousemove),t.map.off("mousedown",s.mousedown),t.map.off("mouseup",s.mouseup),t.map.off("data",s.data),t.map.off("touchmove",s.touchmove),t.map.off("touchstart",s.touchstart),t.map.off("touchend",s.touchend),t.container.removeEventListener("mouseout",s.mouseout),t.options.keybindings&&(t.container.removeEventListener("keydown",s.keydown),t.container.removeEventListener("keyup",s.keyup))},trash:function(e){o.trash(e)},combineFeatures:function(){o.combineFeatures()},uncombineFeatures:function(){o.uncombineFeatures()},getMode:function(){return i}}}(t),t.ui=function(e){var t={},r=null,a={mode:null,feature:null,mouse:null},n={mode:null,feature:null,mouse:null};function s(e){n=ee(n,e)}function i(){var t,r;if(e.container){var s=[],i=[];te.forEach((function(e){n[e]!==a[e]&&(s.push(e+"-"+a[e]),null!==n[e]&&i.push(e+"-"+n[e]))})),s.length>0&&(t=e.container.classList).remove.apply(t,s),i.length>0&&(r=e.container.classList).add.apply(r,i),a=ee(a,n)}}function o(e,t){void 0===t&&(t={});var a=document.createElement("button");return a.className=l.CONTROL_BUTTON+" "+t.className,a.setAttribute("title",t.title),t.container.appendChild(a),a.addEventListener("click",(function(a){if(a.preventDefault(),a.stopPropagation(),a.target===r)return c(),void t.onDeactivate();u(e),t.onActivate()}),!0),a}function c(){r&&(r.classList.remove(l.ACTIVE_BUTTON),r=null)}function u(e){c();var a=t[e];a&&a&&"trash"!==e&&(a.classList.add(l.ACTIVE_BUTTON),r=a)}return{setActiveButton:u,queueMapClasses:s,updateMapClasses:i,clearMapClasses:function(){s({mode:null,feature:null,mouse:null}),i()},addButtons:function(){var r=e.options.controls,a=document.createElement("div");return a.className=l.CONTROL_GROUP+" "+l.CONTROL_BASE,r?(r[h.LINE]&&(t[h.LINE]=o(h.LINE,{container:a,className:l.CONTROL_BUTTON_LINE,title:"LineString tool "+(e.options.keybindings?"(l)":""),onActivate:function(){return e.events.changeMode(f.DRAW_LINE_STRING)},onDeactivate:function(){return e.events.trash()}})),r[h.POLYGON]&&(t[h.POLYGON]=o(h.POLYGON,{container:a,className:l.CONTROL_BUTTON_POLYGON,title:"Polygon tool "+(e.options.keybindings?"(p)":""),onActivate:function(){return e.events.changeMode(f.DRAW_POLYGON)},onDeactivate:function(){return e.events.trash()}})),r[h.POINT]&&(t[h.POINT]=o(h.POINT,{container:a,className:l.CONTROL_BUTTON_POINT,title:"Marker tool "+(e.options.keybindings?"(m)":""),onActivate:function(){return e.events.changeMode(f.DRAW_POINT)},onDeactivate:function(){return e.events.trash()}})),r.trash&&(t.trash=o("trash",{container:a,className:l.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:function(){e.events.trash()}})),r.combine_features&&(t.combine_features=o("combineFeatures",{container:a,className:l.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:function(){e.events.combineFeatures()}})),r.uncombine_features&&(t.uncombine_features=o("uncombineFeatures",{container:a,className:l.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:function(){e.events.uncombineFeatures()}})),a):a},removeButtons:function(){Object.keys(t).forEach((function(e){var r=t[e];r.parentNode&&r.parentNode.removeChild(r),delete t[e]}))}}}(t),t.container=s.getContainer(),t.store=new Q(t),r=t.ui.addButtons(),t.options.boxSelect&&(t.boxZoomInitial=s.boxZoom.isEnabled(),s.boxZoom.disable(),s.dragPan.disable(),s.dragPan.enable()),s.loaded()?n.connect():(s.on("load",n.connect),a=setInterval((function(){s.loaded()&&n.connect()}),16)),t.events.start(),r},addLayers:function(){t.map.addSource(u.COLD,{data:{type:p.FEATURE_COLLECTION,features:[]},type:"geojson"}),t.map.addSource(u.HOT,{data:{type:p.FEATURE_COLLECTION,features:[]},type:"geojson"}),t.options.styles.forEach((function(e){t.map.addLayer(e)})),t.store.setDirty(!0),t.store.render()},removeLayers:function(){t.options.styles.forEach((function(e){t.map.getLayer(e.id)&&t.map.removeLayer(e.id)})),t.map.getSource(u.COLD)&&t.map.removeSource(u.COLD),t.map.getSource(u.HOT)&&t.map.removeSource(u.HOT)}};return t.setup=n,n}var ae=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}];function ne(e){return function(t){var r=t.featureTarget;return!!r&&!!r.properties&&r.properties.meta===e}}function se(e){return!!e.originalEvent&&!!e.originalEvent.shiftKey&&0===e.originalEvent.button}function ie(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.active===v.ACTIVE&&e.featureTarget.properties.meta===g.FEATURE}function oe(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.active===v.INACTIVE&&e.featureTarget.properties.meta===g.FEATURE}function ce(e){return void 0===e.featureTarget}function le(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.meta===g.FEATURE}function ue(e){var t=e.featureTarget;return!!t&&!!t.properties&&t.properties.meta===g.VERTEX}function de(e){return!!e.originalEvent&&!0===e.originalEvent.shiftKey}function he(e){return 27===e.keyCode}function pe(e){return 13===e.keyCode}var fe=Object.freeze({__proto__:null,isOfMetaType:ne,isShiftMousedown:se,isActiveFeature:ie,isInactiveFeature:oe,noTarget:ce,isFeature:le,isVertex:ue,isShiftDown:de,isEscapeKey:he,isEnterKey:pe,isTrue:function(){return!0}}),me=be;function be(e,t){this.x=e,this.y=t}be.prototype={clone:function(){return new be(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),a=t*this.x-r*this.y,n=r*this.x+t*this.y;return this.x=a,this.y=n,this},_rotateAround:function(e,t){var r=Math.cos(e),a=Math.sin(e),n=t.x+r*(this.x-t.x)-a*(this.y-t.y),s=t.y+a*(this.x-t.x)+r*(this.y-t.y);return this.x=n,this.y=s,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},be.convert=function(e){return e instanceof be?e:Array.isArray(e)?new be(e[0],e[1]):e};var ge=r(me);function ve(e,t){var r=t.getBoundingClientRect();return new ge(e.clientX-r.left-(t.clientLeft||0),e.clientY-r.top-(t.clientTop||0))}function ye(e,t,r,a){return{type:p.FEATURE,properties:{meta:g.VERTEX,parent:e,coord_path:r,active:a?v.ACTIVE:v.INACTIVE},geometry:{type:p.POINT,coordinates:t}}}function je(e,t,r){var a=t.geometry.coordinates,n=r.geometry.coordinates;if(a[1]>85||a[1]<j||n[1]>85||n[1]<j)return null;var s={lng:(a[0]+n[0])/2,lat:(a[1]+n[1])/2};return{type:p.FEATURE,properties:{meta:g.MIDPOINT,parent:e,lng:s.lng,lat:s.lat,coord_path:r.properties.coord_path},geometry:{type:p.POINT,coordinates:[s.lng,s.lat]}}}function we(e,t,r){void 0===t&&(t={}),void 0===r&&(r=null);var a,n=e.geometry,s=n.type,i=n.coordinates,o=e.properties&&e.properties.id,c=[];function l(e,r){var a="",n=null;e.forEach((function(e,s){var i=null!=r?r+"."+s:String(s),l=ye(o,e,i,u(i));if(t.midpoints&&n){var d=je(o,n,l);d&&c.push(d)}n=l;var h=JSON.stringify(e);a!==h&&c.push(l),0===s&&(a=h)}))}function u(e){return!!t.selectedPaths&&-1!==t.selectedPaths.indexOf(e)}return s===p.POINT?c.push(ye(o,i,r,u(r))):s===p.POLYGON?i.forEach((function(e,t){l(e,null!==r?r+"."+t:String(t))})):s===p.LINE_STRING?l(i,r):0===s.indexOf(p.MULTI_PREFIX)&&(a=s.replace(p.MULTI_PREFIX,""),i.forEach((function(r,n){var s={type:p.FEATURE,properties:e.properties,geometry:{type:a,coordinates:r}};c=c.concat(we(s,t,n))}))),c}var _e={enable:function(e){setTimeout((function(){e.map&&e.map.doubleClickZoom&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()}),0)},disable:function(e){setTimeout((function(){e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()}),0)}},Oe={exports:{}},xe=function(e){if(!e||!e.type)return null;var t=Me[e.type];return t?"geometry"===t?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]}:"feature"===t?{type:"FeatureCollection",features:[e]}:"featurecollection"===t?e:void 0:null},Me={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"},ke=r(xe),Ce=Object.freeze({__proto__:null,default:function e(t){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.reduce((function(t,r){return t.concat(e(r))}),[]),t;case"Feature":return t.geometry?e(t.geometry).map((function(e){var r={type:"Feature",properties:JSON.parse(JSON.stringify(t.properties)),geometry:e};return void 0!==t.id&&(r.id=t.id),r})):[t];case"MultiPoint":return t.coordinates.map((function(e){return{type:"Point",coordinates:e}}));case"MultiPolygon":return t.coordinates.map((function(e){return{type:"Polygon",coordinates:e}}));case"MultiLineString":return t.coordinates.map((function(e){return{type:"LineString",coordinates:e}}));case"GeometryCollection":return t.geometries.map(e).reduce((function(e,t){return e.concat(t)}),[]);case"Point":case"Polygon":case"LineString":return[t]}}}),Ee=xe,Se=a(Ce),Ne=function(e){return function e(t){return Array.isArray(t)&&t.length&&"number"==typeof t[0]?[t]:t.reduce((function(t,r){return Array.isArray(r)&&Array.isArray(r[0])?t.concat(e(r)):(t.push(r),t)}),[])}(e)};Se instanceof Function||(Se=Se.default);var Te={exports:{}},De=Te.exports=function(e){return new Ie(e)};function Ie(e){this.value=e}function Ae(e,t,r){var a=[],n=[],s=!0;return function e(i){var o=r?Pe(i):i,c={},l=!0,u={node:o,node_:i,path:[].concat(a),parent:n[n.length-1],parents:n,key:a.slice(-1)[0],isRoot:0===a.length,level:a.length,circular:null,update:function(e,t){u.isRoot||(u.parent.node[u.key]=e),u.node=e,t&&(l=!1)},delete:function(e){delete u.parent.node[u.key],e&&(l=!1)},remove:function(e){Fe(u.parent.node)?u.parent.node.splice(u.key,1):delete u.parent.node[u.key],e&&(l=!1)},keys:null,before:function(e){c.before=e},after:function(e){c.after=e},pre:function(e){c.pre=e},post:function(e){c.post=e},stop:function(){s=!1},block:function(){l=!1}};if(!s)return u;function d(){if("object"==typeof u.node&&null!==u.node){u.keys&&u.node_===u.node||(u.keys=Le(u.node)),u.isLeaf=0==u.keys.length;for(var e=0;e<n.length;e++)if(n[e].node_===i){u.circular=n[e];break}}else u.isLeaf=!0,u.keys=null;u.notLeaf=!u.isLeaf,u.notRoot=!u.isRoot}d();var h=t.call(u,u.node);return void 0!==h&&u.update&&u.update(h),c.before&&c.before.call(u,u.node),l?("object"!=typeof u.node||null===u.node||u.circular||(n.push(u),d(),Be(u.keys,(function(t,n){a.push(t),c.pre&&c.pre.call(u,u.node[t],t);var s=e(u.node[t]);r&&Ue.call(u.node,t)&&(u.node[t]=s.node),s.isLast=n==u.keys.length-1,s.isFirst=0==n,c.post&&c.post.call(u,s),a.pop()})),n.pop()),c.after&&c.after.call(u,u.node),u):u}(e).node}function Pe(e){if("object"==typeof e&&null!==e){var t;if(Fe(e))t=[];else if("[object Date]"===Re(e))t=new Date(e.getTime?e.getTime():e);else if(function(e){return"[object RegExp]"===Re(e)}(e))t=new RegExp(e);else if(function(e){return"[object Error]"===Re(e)}(e))t={message:e.message};else if(function(e){return"[object Boolean]"===Re(e)}(e))t=new Boolean(e);else if(function(e){return"[object Number]"===Re(e)}(e))t=new Number(e);else if(function(e){return"[object String]"===Re(e)}(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var r=e.constructor&&e.constructor.prototype||e.__proto__||{},a=function(){};a.prototype=r,t=new a}return Be(Le(e),(function(r){t[r]=e[r]})),t}return e}Ie.prototype.get=function(e){for(var t=this.value,r=0;r<e.length;r++){var a=e[r];if(!t||!Ue.call(t,a)){t=void 0;break}t=t[a]}return t},Ie.prototype.has=function(e){for(var t=this.value,r=0;r<e.length;r++){var a=e[r];if(!t||!Ue.call(t,a))return!1;t=t[a]}return!0},Ie.prototype.set=function(e,t){for(var r=this.value,a=0;a<e.length-1;a++){var n=e[a];Ue.call(r,n)||(r[n]={}),r=r[n]}return r[e[a]]=t,t},Ie.prototype.map=function(e){return Ae(this.value,e,!0)},Ie.prototype.forEach=function(e){return this.value=Ae(this.value,e,!1),this.value},Ie.prototype.reduce=function(e,t){var r=1===arguments.length,a=r?this.value:t;return this.forEach((function(t){this.isRoot&&r||(a=e.call(this,a,t))})),a},Ie.prototype.paths=function(){var e=[];return this.forEach((function(t){e.push(this.path)})),e},Ie.prototype.nodes=function(){var e=[];return this.forEach((function(t){e.push(this.node)})),e},Ie.prototype.clone=function(){var e=[],t=[];return function r(a){for(var n=0;n<e.length;n++)if(e[n]===a)return t[n];if("object"==typeof a&&null!==a){var s=Pe(a);return e.push(a),t.push(s),Be(Le(a),(function(e){s[e]=r(a[e])})),e.pop(),t.pop(),s}return a}(this.value)};var Le=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function Re(e){return Object.prototype.toString.call(e)}var Fe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Be=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)};Be(Le(Ie.prototype),(function(e){De[e]=function(t){var r=[].slice.call(arguments,1),a=new Ie(t);return a[e].apply(a,r)}}));var Ue=Object.hasOwnProperty||function(e,t){return t in e},ze=Te.exports,Ye=Ge;function Ge(e){if(!(this instanceof Ge))return new Ge(e);this._bbox=e||[1/0,1/0,-1/0,-1/0],this._valid=!!e}Ge.prototype.include=function(e){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[0]),this._bbox[3]=Math.max(this._bbox[3],e[1]),this},Ge.prototype.equals=function(e){var t;return t=e instanceof Ge?e.bbox():e,this._bbox[0]==t[0]&&this._bbox[1]==t[1]&&this._bbox[2]==t[2]&&this._bbox[3]==t[3]},Ge.prototype.center=function(e){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},Ge.prototype.union=function(e){var t;return this._valid=!0,t=e instanceof Ge?e.bbox():e,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[2]),this._bbox[3]=Math.max(this._bbox[3],t[3]),this},Ge.prototype.bbox=function(){return this._valid?this._bbox:null},Ge.prototype.contains=function(e){if(!e)return this._fastContains();if(!this._valid)return null;var t=e[0],r=e[1];return this._bbox[0]<=t&&this._bbox[1]<=r&&this._bbox[2]>=t&&this._bbox[3]>=r},Ge.prototype.intersect=function(e){return this._valid?(t=e instanceof Ge?e.bbox():e,!(this._bbox[0]>t[2]||this._bbox[2]<t[0]||this._bbox[3]<t[1]||this._bbox[1]>t[3])):null;var t},Ge.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var e="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",e)},Ge.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null};var qe=function(e){if(!e)return[];var t=Se(Ee(e)),r=[];return t.features.forEach((function(e){e.geometry&&(r=r.concat(Ne(e.geometry.coordinates)))})),r},He=ze,We=Ye,Ve={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},Ke=Object.keys(Ve);function Ze(e){for(var t=We(),r=qe(e),a=0;a<r.length;a++)t.include(r[a]);return t}Oe.exports=function(e){return Ze(e).bbox()},Oe.exports.polygon=function(e){return Ze(e).polygon()},Oe.exports.bboxify=function(e){return He(e).map((function(e){e&&Ke.some((function(t){return!!e[t]&&-1!==Ve[t].indexOf(e.type)}))&&(e.bbox=Ze(e).bbox(),this.update(e))}))};var Qe=r(Oe.exports),Je=-90;function Xe(e,t){var r=Je,a=90,n=Je,s=90,i=270,o=-270;e.forEach((function(e){var t=Qe(e),c=t[1],l=t[3],u=t[0],d=t[2];c>r&&(r=c),l<a&&(a=l),l>n&&(n=l),c<s&&(s=c),u<i&&(i=u),d>o&&(o=d)}));var c=t;return r+c.lat>85&&(c.lat=85-r),n+c.lat>90&&(c.lat=90-n),a+c.lat<-85&&(c.lat=-85-a),s+c.lat<Je&&(c.lat=Je-s),i+c.lng<=-270&&(c.lng+=360*Math.ceil(Math.abs(c.lng)/360)),o+c.lng>=270&&(c.lng-=360*Math.ceil(Math.abs(c.lng)/360)),c}function $e(e,t){var r=Xe(e.map((function(e){return e.toGeoJSON()})),t);e.forEach((function(e){var t,a=e.getCoordinates(),n=function(e){var t={lng:e[0]+r.lng,lat:e[1]+r.lat};return[t.lng,t.lat]},s=function(e){return e.map((function(e){return n(e)}))};e.type===p.POINT?t=n(a):e.type===p.LINE_STRING||e.type===p.MULTI_POINT?t=a.map(n):e.type===p.POLYGON||e.type===p.MULTI_LINE_STRING?t=a.map(s):e.type===p.MULTI_POLYGON&&(t=a.map((function(e){return e.map((function(e){return s(e)}))}))),e.incomingCoords(t)}))}var et={onSetup:function(e){var t=this,r={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:e.featureIds||[]};return this.setSelected(r.initiallySelectedFeatureIds.filter((function(e){return void 0!==t.getFeature(e)}))),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),r},fireUpdate:function(){this.map.fire(m.UPDATE,{action:b.MOVE,features:this.getSelected().map((function(e){return e.toGeoJSON()}))})},fireActionable:function(){var e=this,t=this.getSelected(),r=t.filter((function(t){return e.isInstanceOf("MultiFeature",t)})),a=!1;if(t.length>1){a=!0;var n=t[0].type.replace("Multi","");t.forEach((function(e){e.type.replace("Multi","")!==n&&(a=!1)}))}var s=r.length>0,i=t.length>0;this.setActionableState({combineFeatures:a,uncombineFeatures:s,trash:i})},getUniqueIds:function(e){return e.length?e.map((function(e){return e.properties.id})).filter((function(e){return void 0!==e})).reduce((function(e,t){return e.add(t),e}),new k).values():[]},stopExtendedInteractions:function(e){e.boxSelectElement&&(e.boxSelectElement.parentNode&&e.boxSelectElement.parentNode.removeChild(e.boxSelectElement),e.boxSelectElement=null),this.map.dragPan.enable(),e.boxSelecting=!1,e.canBoxSelect=!1,e.dragMoving=!1,e.canDragMove=!1},onStop:function(){_e.enable(this)},onMouseMove:function(e,t){return le(t)&&e.dragMoving&&this.fireUpdate(),this.stopExtendedInteractions(e),!0},onMouseOut:function(e){return!e.dragMoving||this.fireUpdate()}};et.onTap=et.onClick=function(e,t){return ce(t)?this.clickAnywhere(e,t):ne(g.VERTEX)(t)?this.clickOnVertex(e,t):le(t)?this.clickOnFeature(e,t):void 0},et.clickAnywhere=function(e){var t=this,r=this.getSelectedIds();r.length&&(this.clearSelectedFeatures(),r.forEach((function(e){return t.doRender(e)}))),_e.enable(this),this.stopExtendedInteractions(e)},et.clickOnVertex=function(e,t){this.changeMode(f.DIRECT_SELECT,{featureId:t.featureTarget.properties.parent,coordPath:t.featureTarget.properties.coord_path,startPos:t.lngLat}),this.updateUIClasses({mouse:d.MOVE})},et.startOnActiveFeature=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),this.doRender(t.featureTarget.properties.id),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},et.clickOnFeature=function(e,t){var r=this;_e.disable(this),this.stopExtendedInteractions(e);var a=de(t),n=this.getSelectedIds(),s=t.featureTarget.properties.id,i=this.isSelected(s);if(!a&&i&&this.getFeature(s).type!==p.POINT)return this.changeMode(f.DIRECT_SELECT,{featureId:s});i&&a?(this.deselect(s),this.updateUIClasses({mouse:d.POINTER}),1===n.length&&_e.enable(this)):!i&&a?(this.select(s),this.updateUIClasses({mouse:d.MOVE})):i||a||(n.forEach((function(e){return r.doRender(e)})),this.setSelected(s),this.updateUIClasses({mouse:d.MOVE})),this.doRender(s)},et.onMouseDown=function(e,t){return ie(t)?this.startOnActiveFeature(e,t):this.drawConfig.boxSelect&&se(t)?this.startBoxSelect(e,t):void 0},et.startBoxSelect=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),e.boxSelectStartLocation=ve(t.originalEvent,this.map.getContainer()),e.canBoxSelect=!0},et.onTouchStart=function(e,t){if(ie(t))return this.startOnActiveFeature(e,t)},et.onDrag=function(e,t){return e.canDragMove?this.dragMove(e,t):this.drawConfig.boxSelect&&e.canBoxSelect?this.whileBoxSelect(e,t):void 0},et.whileBoxSelect=function(e,t){e.boxSelecting=!0,this.updateUIClasses({mouse:d.ADD}),e.boxSelectElement||(e.boxSelectElement=document.createElement("div"),e.boxSelectElement.classList.add(l.BOX_SELECT),this.map.getContainer().appendChild(e.boxSelectElement));var r=ve(t.originalEvent,this.map.getContainer()),a=Math.min(e.boxSelectStartLocation.x,r.x),n=Math.max(e.boxSelectStartLocation.x,r.x),s=Math.min(e.boxSelectStartLocation.y,r.y),i=Math.max(e.boxSelectStartLocation.y,r.y),o="translate("+a+"px, "+s+"px)";e.boxSelectElement.style.transform=o,e.boxSelectElement.style.WebkitTransform=o,e.boxSelectElement.style.width=n-a+"px",e.boxSelectElement.style.height=i-s+"px"},et.dragMove=function(e,t){e.dragMoving=!0,t.originalEvent.stopPropagation();var r={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};$e(this.getSelected(),r),e.dragMoveLocation=t.lngLat},et.onTouchEnd=et.onMouseUp=function(e,t){var r=this;if(e.dragMoving)this.fireUpdate();else if(e.boxSelecting){var a=[e.boxSelectStartLocation,ve(t.originalEvent,this.map.getContainer())],n=this.featuresAt(null,a,"click"),s=this.getUniqueIds(n).filter((function(e){return!r.isSelected(e)}));s.length&&(this.select(s),s.forEach((function(e){return r.doRender(e)})),this.updateUIClasses({mouse:d.MOVE}))}this.stopExtendedInteractions(e)},et.toDisplayFeatures=function(e,t,r){t.properties.active=this.isSelected(t.properties.id)?v.ACTIVE:v.INACTIVE,r(t),this.fireActionable(),t.properties.active===v.ACTIVE&&t.geometry.type!==p.POINT&&we(t).forEach(r)},et.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},et.onCombineFeatures=function(){var e=this.getSelected();if(!(0===e.length||e.length<2)){for(var t=[],r=[],a=e[0].type.replace("Multi",""),n=0;n<e.length;n++){var s=e[n];if(s.type.replace("Multi","")!==a)return;s.type.includes("Multi")?s.getCoordinates().forEach((function(e){t.push(e)})):t.push(s.getCoordinates()),r.push(s.toGeoJSON())}if(r.length>1){var i=this.newFeature({type:p.FEATURE,properties:r[0].properties,geometry:{type:"Multi"+a,coordinates:t}});this.addFeature(i),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([i.id]),this.map.fire(m.COMBINE_FEATURES,{createdFeatures:[i.toGeoJSON()],deletedFeatures:r})}this.fireActionable()}},et.onUncombineFeatures=function(){var e=this,t=this.getSelected();if(0!==t.length){for(var r=[],a=[],n=function(n){var s=t[n];e.isInstanceOf("MultiFeature",s)&&(s.getFeatures().forEach((function(t){e.addFeature(t),t.properties=s.properties,r.push(t.toGeoJSON()),e.select([t.id])})),e.deleteFeature(s.id,{silent:!0}),a.push(s.toGeoJSON()))},s=0;s<t.length;s++)n(s);r.length>1&&this.map.fire(m.UNCOMBINE_FEATURES,{createdFeatures:r,deletedFeatures:a}),this.fireActionable()}};var tt=ne(g.VERTEX),rt=ne(g.MIDPOINT),at={fireUpdate:function(){this.map.fire(m.UPDATE,{action:b.CHANGE_COORDINATES,features:this.getSelected().map((function(e){return e.toGeoJSON()}))})},fireActionable:function(e){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:e.selectedCoordPaths.length>0})},startDragging:function(e,t){this.map.dragPan.disable(),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},stopDragging:function(e){this.map.dragPan.enable(),e.dragMoving=!1,e.canDragMove=!1,e.dragMoveLocation=null},onVertex:function(e,t){this.startDragging(e,t);var r=t.featureTarget.properties,a=e.selectedCoordPaths.indexOf(r.coord_path);de(t)||-1!==a?de(t)&&-1===a&&e.selectedCoordPaths.push(r.coord_path):e.selectedCoordPaths=[r.coord_path];var n=this.pathsToCoordinates(e.featureId,e.selectedCoordPaths);this.setSelectedCoordinates(n)},onMidpoint:function(e,t){this.startDragging(e,t);var r=t.featureTarget.properties;e.feature.addCoordinate(r.coord_path,r.lng,r.lat),this.fireUpdate(),e.selectedCoordPaths=[r.coord_path]},pathsToCoordinates:function(e,t){return t.map((function(t){return{feature_id:e,coord_path:t}}))},onFeature:function(e,t){0===e.selectedCoordPaths.length?this.startDragging(e,t):this.stopDragging(e)},dragFeature:function(e,t,r){$e(this.getSelected(),r),e.dragMoveLocation=t.lngLat},dragVertex:function(e,t,r){for(var a=e.selectedCoordPaths.map((function(t){return e.feature.getCoordinate(t)})),n=Xe(a.map((function(e){return{type:p.FEATURE,properties:{},geometry:{type:p.POINT,coordinates:e}}})),r),s=0;s<a.length;s++){var i=a[s];e.feature.updateCoordinate(e.selectedCoordPaths[s],i[0]+n.lng,i[1]+n.lat)}},clickNoTarget:function(){this.changeMode(f.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(f.SIMPLE_SELECT)},clickActiveFeature:function(e){e.selectedCoordPaths=[],this.clearSelectedCoordinates(),e.feature.changed()},onSetup:function(e){var t=e.featureId,r=this.getFeature(t);if(!r)throw new Error("You must provide a featureId to enter direct_select mode");if(r.type===p.POINT)throw new TypeError("direct_select mode doesn't handle point features");var a={featureId:t,feature:r,dragMoveLocation:e.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:e.coordPath?[e.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(t,a.selectedCoordPaths)),this.setSelected(t),_e.disable(this),this.setActionableState({trash:!0}),a},onStop:function(){_e.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(e,t,r){e.featureId===t.properties.id?(t.properties.active=v.ACTIVE,r(t),we(t,{map:this.map,midpoints:!0,selectedPaths:e.selectedCoordPaths}).forEach(r)):(t.properties.active=v.INACTIVE,r(t)),this.fireActionable(e)},onTrash:function(e){e.selectedCoordPaths.sort((function(e,t){return t.localeCompare(e,"en",{numeric:!0})})).forEach((function(t){return e.feature.removeCoordinate(t)})),this.fireUpdate(),e.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(e),!1===e.feature.isValid()&&(this.deleteFeature([e.featureId]),this.changeMode(f.SIMPLE_SELECT,{}))},onMouseMove:function(e,t){var r=ie(t),a=tt(t),n=rt(t),s=0===e.selectedCoordPaths.length;return r&&s||a&&!s?this.updateUIClasses({mouse:d.MOVE}):this.updateUIClasses({mouse:d.NONE}),(a||r||n)&&e.dragMoving&&this.fireUpdate(),this.stopDragging(e),!0},onMouseOut:function(e){return e.dragMoving&&this.fireUpdate(),!0}};at.onTouchStart=at.onMouseDown=function(e,t){return tt(t)?this.onVertex(e,t):ie(t)?this.onFeature(e,t):rt(t)?this.onMidpoint(e,t):void 0},at.onDrag=function(e,t){if(!0===e.canDragMove){e.dragMoving=!0,t.originalEvent.stopPropagation();var r={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};e.selectedCoordPaths.length>0?this.dragVertex(e,t,r):this.dragFeature(e,t,r),e.dragMoveLocation=t.lngLat}},at.onClick=function(e,t){return ce(t)?this.clickNoTarget(e,t):ie(t)?this.clickActiveFeature(e,t):oe(t)?this.clickInactive(e,t):void this.stopDragging(e)},at.onTap=function(e,t){return ce(t)?this.clickNoTarget(e,t):ie(t)?this.clickActiveFeature(e,t):oe(t)?this.clickInactive(e,t):void 0},at.onTouchEnd=at.onMouseUp=function(e){e.dragMoving&&this.fireUpdate(),this.stopDragging(e)};var nt={};function st(e,t){return!!e.lngLat&&e.lngLat.lng===t[0]&&e.lngLat.lat===t[1]}nt.onSetup=function(){var e=this.newFeature({type:p.FEATURE,properties:{},geometry:{type:p.POINT,coordinates:[]}});return this.addFeature(e),this.clearSelectedFeatures(),this.updateUIClasses({mouse:d.ADD}),this.activateUIButton(h.POINT),this.setActionableState({trash:!0}),{point:e}},nt.stopDrawingAndRemove=function(e){this.deleteFeature([e.point.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)},nt.onTap=nt.onClick=function(e,t){this.updateUIClasses({mouse:d.MOVE}),e.point.updateCoordinate("",t.lngLat.lng,t.lngLat.lat),this.map.fire(m.CREATE,{features:[e.point.toGeoJSON()]}),this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.point.id]})},nt.onStop=function(e){this.activateUIButton(),e.point.getCoordinate().length||this.deleteFeature([e.point.id],{silent:!0})},nt.toDisplayFeatures=function(e,t,r){var a=t.properties.id===e.point.id;if(t.properties.active=a?v.ACTIVE:v.INACTIVE,!a)return r(t)},nt.onTrash=nt.stopDrawingAndRemove,nt.onKeyUp=function(e,t){if(he(t)||pe(t))return this.stopDrawingAndRemove(e,t)};var it={onSetup:function(){var e=this.newFeature({type:p.FEATURE,properties:{},geometry:{type:p.POLYGON,coordinates:[[]]}});return this.addFeature(e),this.clearSelectedFeatures(),_e.disable(this),this.updateUIClasses({mouse:d.ADD}),this.activateUIButton(h.POLYGON),this.setActionableState({trash:!0}),{polygon:e,currentVertexPosition:0}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&st(t,e.polygon.coordinates[0][e.currentVertexPosition-1]))return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.polygon.id]});this.updateUIClasses({mouse:d.ADD}),e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),e.currentVertexPosition++,e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},onMouseMove:function(e,t){e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),ue(t)&&this.updateUIClasses({mouse:d.POINTER})}};it.onTap=it.onClick=function(e,t){return ue(t)?this.clickOnVertex(e,t):this.clickAnywhere(e,t)},it.onKeyUp=function(e,t){he(t)?(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)):pe(t)&&this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},it.onStop=function(e){this.updateUIClasses({mouse:d.NONE}),_e.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.polygon.id)&&(e.polygon.removeCoordinate("0."+e.currentVertexPosition),e.polygon.isValid()?this.map.fire(m.CREATE,{features:[e.polygon.toGeoJSON()]}):(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT,{},{silent:!0})))},it.toDisplayFeatures=function(e,t,r){var a=t.properties.id===e.polygon.id;if(t.properties.active=a?v.ACTIVE:v.INACTIVE,!a)return r(t);if(0!==t.geometry.coordinates.length){var n=t.geometry.coordinates[0].length;if(!(n<3)){if(t.properties.meta=g.FEATURE,r(ye(e.polygon.id,t.geometry.coordinates[0][0],"0.0",!1)),n>3){var s=t.geometry.coordinates[0].length-3;r(ye(e.polygon.id,t.geometry.coordinates[0][s],"0."+s,!1))}if(n<=4){var i=[[t.geometry.coordinates[0][0][0],t.geometry.coordinates[0][0][1]],[t.geometry.coordinates[0][1][0],t.geometry.coordinates[0][1][1]]];if(r({type:p.FEATURE,properties:t.properties,geometry:{coordinates:i,type:p.LINE_STRING}}),3===n)return}return r(t)}}},it.onTrash=function(e){this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)};var ot={onSetup:function(e){var t,r,a=(e=e||{}).featureId,n="forward";if(a){if(!(t=this.getFeature(a)))throw new Error("Could not find a feature with the provided featureId");var s=e.from;if(s&&"Feature"===s.type&&s.geometry&&"Point"===s.geometry.type&&(s=s.geometry),s&&"Point"===s.type&&s.coordinates&&2===s.coordinates.length&&(s=s.coordinates),!s||!Array.isArray(s))throw new Error("Please use the `from` property to indicate which point to continue the line from");var i=t.coordinates.length-1;if(t.coordinates[i][0]===s[0]&&t.coordinates[i][1]===s[1])r=i+1,t.addCoordinate.apply(t,[r].concat(t.coordinates[i]));else{if(t.coordinates[0][0]!==s[0]||t.coordinates[0][1]!==s[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");n="backwards",r=0,t.addCoordinate.apply(t,[r].concat(t.coordinates[0]))}}else t=this.newFeature({type:p.FEATURE,properties:{},geometry:{type:p.LINE_STRING,coordinates:[]}}),r=0,this.addFeature(t);return this.clearSelectedFeatures(),_e.disable(this),this.updateUIClasses({mouse:d.ADD}),this.activateUIButton(h.LINE),this.setActionableState({trash:!0}),{line:t,currentVertexPosition:r,direction:n}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&st(t,e.line.coordinates[e.currentVertexPosition-1])||"backwards"===e.direction&&st(t,e.line.coordinates[e.currentVertexPosition+1]))return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.line.id]});this.updateUIClasses({mouse:d.ADD}),e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),"forward"===e.direction?(e.currentVertexPosition++,e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)):e.line.addCoordinate(0,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.line.id]})},onMouseMove:function(e,t){e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),ue(t)&&this.updateUIClasses({mouse:d.POINTER})}};ot.onTap=ot.onClick=function(e,t){if(ue(t))return this.clickOnVertex(e,t);this.clickAnywhere(e,t)},ot.onKeyUp=function(e,t){pe(t)?this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.line.id]}):he(t)&&(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT))},ot.onStop=function(e){_e.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.line.id)&&(e.line.removeCoordinate(""+e.currentVertexPosition),e.line.isValid()?this.map.fire(m.CREATE,{features:[e.line.toGeoJSON()]}):(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT,{},{silent:!0})))},ot.onTrash=function(e){this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)},ot.toDisplayFeatures=function(e,t,r){var a=t.properties.id===e.line.id;if(t.properties.active=a?v.ACTIVE:v.INACTIVE,!a)return r(t);t.geometry.coordinates.length<2||(t.properties.meta=g.FEATURE,r(ye(e.line.id,t.geometry.coordinates["forward"===e.direction?t.geometry.coordinates.length-2:1],""+("forward"===e.direction?t.geometry.coordinates.length-2:1),!1)),r(t))};var ct={simple_select:et,direct_select:at,draw_point:nt,draw_polygon:it,draw_line_string:ot},lt={defaultMode:f.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:ae,modes:ct,controls:{},userProperties:!1},ut={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},dt={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function ht(e,t){return e.map((function(e){return e.source?e:ee(e,{id:e.id+"."+t,source:"hot"===t?u.HOT:u.COLD})}))}var pt={exports:{}};!function(e,r){var a="__lodash_hash_undefined__",n=9007199254740991,s="[object Arguments]",i="[object Array]",o="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",d="[object Map]",h="[object Number]",p="[object Object]",f="[object Promise]",m="[object RegExp]",b="[object Set]",g="[object String]",v="[object Symbol]",y="[object WeakMap]",j="[object ArrayBuffer]",w="[object DataView]",_=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[s]=x[i]=x[j]=x[o]=x[w]=x[c]=x[l]=x[u]=x[d]=x[h]=x[p]=x[m]=x[b]=x[g]=x[y]=!1;var M="object"==typeof t&&t&&t.Object===Object&&t,k="object"==typeof self&&self&&self.Object===Object&&self,C=M||k||Function("return this")(),E=r&&!r.nodeType&&r,S=E&&e&&!e.nodeType&&e,N=S&&S.exports===E,T=N&&M.process,D=function(){try{return T&&T.binding&&T.binding("util")}catch(e){}}(),I=D&&D.isTypedArray;function A(e,t){for(var r=-1,a=null==e?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}function P(e){var t=-1,r=Array(e.size);return e.forEach((function(e,a){r[++t]=[a,e]})),r}function L(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var R,F,B,U=Array.prototype,z=Function.prototype,Y=Object.prototype,G=C["__core-js_shared__"],q=z.toString,H=Y.hasOwnProperty,W=(R=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",V=Y.toString,K=RegExp("^"+q.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=N?C.Buffer:void 0,Q=C.Symbol,J=C.Uint8Array,X=Y.propertyIsEnumerable,$=U.splice,ee=Q?Q.toStringTag:void 0,te=Object.getOwnPropertySymbols,re=Z?Z.isBuffer:void 0,ae=(F=Object.keys,B=Object,function(e){return F(B(e))}),ne=De(C,"DataView"),se=De(C,"Map"),ie=De(C,"Promise"),oe=De(C,"Set"),ce=De(C,"WeakMap"),le=De(Object,"create"),ue=Le(ne),de=Le(se),he=Le(ie),pe=Le(oe),fe=Le(ce),me=Q?Q.prototype:void 0,be=me?me.valueOf:void 0;function ge(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function ve(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function ye(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function je(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ye;++t<r;)this.add(e[t])}function we(e){var t=this.__data__=new ve(e);this.size=t.size}function _e(e,t){var r=Be(e),a=!r&&Fe(e),n=!r&&!a&&Ue(e),s=!r&&!a&&!n&&He(e),i=r||a||n||s,o=i?function(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}(e.length,String):[],c=o.length;for(var l in e)!t&&!H.call(e,l)||i&&("length"==l||n&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Pe(l,c))||o.push(l);return o}function Oe(e,t){for(var r=e.length;r--;)if(Re(e[r][0],t))return r;return-1}function xe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=H.call(e,ee),r=e[ee];try{e[ee]=void 0;var a=!0}catch(e){}var n=V.call(e);return a&&(t?e[ee]=r:delete e[ee]),n}(e):function(e){return V.call(e)}(e)}function Me(e){return qe(e)&&xe(e)==s}function ke(e,t,r,a,n){return e===t||(null==e||null==t||!qe(e)&&!qe(t)?e!=e&&t!=t:function(e,t,r,a,n,u){var f=Be(e),y=Be(t),_=f?i:Ae(e),O=y?i:Ae(t),x=(_=_==s?p:_)==p,M=(O=O==s?p:O)==p,k=_==O;if(k&&Ue(e)){if(!Ue(t))return!1;f=!0,x=!1}if(k&&!x)return u||(u=new we),f||He(e)?Se(e,t,r,a,n,u):function(e,t,r,a,n,s,i){switch(r){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case j:return!(e.byteLength!=t.byteLength||!s(new J(e),new J(t)));case o:case c:case h:return Re(+e,+t);case l:return e.name==t.name&&e.message==t.message;case m:case g:return e==t+"";case d:var u=P;case b:var p=1&a;if(u||(u=L),e.size!=t.size&&!p)return!1;var f=i.get(e);if(f)return f==t;a|=2,i.set(e,t);var y=Se(u(e),u(t),a,n,s,i);return i.delete(e),y;case v:if(be)return be.call(e)==be.call(t)}return!1}(e,t,_,r,a,n,u);if(!(1&r)){var C=x&&H.call(e,"__wrapped__"),E=M&&H.call(t,"__wrapped__");if(C||E){var S=C?e.value():e,N=E?t.value():t;return u||(u=new we),n(S,N,r,a,u)}}return!!k&&(u||(u=new we),function(e,t,r,a,n,s){var i=1&r,o=Ne(e),c=o.length;if(c!=Ne(t).length&&!i)return!1;for(var l=c;l--;){var u=o[l];if(!(i?u in t:H.call(t,u)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var h=!0;s.set(e,t),s.set(t,e);for(var p=i;++l<c;){var f=e[u=o[l]],m=t[u];if(a)var b=i?a(m,f,u,t,e,s):a(f,m,u,e,t,s);if(!(void 0===b?f===m||n(f,m,r,a,s):b)){h=!1;break}p||(p="constructor"==u)}if(h&&!p){var g=e.constructor,v=t.constructor;g==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v||(h=!1)}return s.delete(e),s.delete(t),h}(e,t,r,a,n,u))}(e,t,r,a,ke,n))}function Ce(e){return!(!Ge(e)||function(e){return!!W&&W in e}(e))&&(ze(e)?K:_).test(Le(e))}function Ee(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||Y))return ae(e);var t,r,a=[];for(var n in Object(e))H.call(e,n)&&"constructor"!=n&&a.push(n);return a}function Se(e,t,r,a,n,s){var i=1&r,o=e.length,c=t.length;if(o!=c&&!(i&&c>o))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var u=-1,d=!0,h=2&r?new je:void 0;for(s.set(e,t),s.set(t,e);++u<o;){var p=e[u],f=t[u];if(a)var m=i?a(f,p,u,t,e,s):a(p,f,u,e,t,s);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!A(t,(function(e,t){if(i=t,!h.has(i)&&(p===e||n(p,e,r,a,s)))return h.push(t);var i}))){d=!1;break}}else if(p!==f&&!n(p,f,r,a,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Ne(e){return function(e,t,r){var a=t(e);return Be(e)?a:function(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}(a,r(e))}(e,We,Ie)}function Te(e,t){var r,a,n=e.__data__;return("string"==(a=typeof(r=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==r:null===r)?n["string"==typeof t?"string":"hash"]:n.map}function De(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Ce(r)?r:void 0}ge.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(le){var r=t[e];return r===a?void 0:r}return H.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:H.call(t,e)},ge.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=le&&void 0===t?a:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,r=Oe(t,e);return!(r<0)&&(r==t.length-1?t.pop():$.call(t,r,1),--this.size,!0)},ve.prototype.get=function(e){var t=this.__data__,r=Oe(t,e);return r<0?void 0:t[r][1]},ve.prototype.has=function(e){return Oe(this.__data__,e)>-1},ve.prototype.set=function(e,t){var r=this.__data__,a=Oe(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(se||ve),string:new ge}},ye.prototype.delete=function(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return Te(this,e).get(e)},ye.prototype.has=function(e){return Te(this,e).has(e)},ye.prototype.set=function(e,t){var r=Te(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this},je.prototype.add=je.prototype.push=function(e){return this.__data__.set(e,a),this},je.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new ve,this.size=0},we.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ve){var a=r.__data__;if(!se||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new ye(a)}return r.set(e,t),this.size=r.size,this};var Ie=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,a=null==e?0:e.length,n=0,s=[];++r<a;){var i=e[r];t(i,r,e)&&(s[n++]=i)}return s}(te(e),(function(t){return X.call(e,t)})))}:function(){return[]},Ae=xe;function Pe(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function Le(e){if(null!=e){try{return q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Re(e,t){return e===t||e!=e&&t!=t}(ne&&Ae(new ne(new ArrayBuffer(1)))!=w||se&&Ae(new se)!=d||ie&&Ae(ie.resolve())!=f||oe&&Ae(new oe)!=b||ce&&Ae(new ce)!=y)&&(Ae=function(e){var t=xe(e),r=t==p?e.constructor:void 0,a=r?Le(r):"";if(a)switch(a){case ue:return w;case de:return d;case he:return f;case pe:return b;case fe:return y}return t});var Fe=Me(function(){return arguments}())?Me:function(e){return qe(e)&&H.call(e,"callee")&&!X.call(e,"callee")},Be=Array.isArray,Ue=re||function(){return!1};function ze(e){if(!Ge(e))return!1;var t=xe(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ye(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function Ge(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function qe(e){return null!=e&&"object"==typeof e}var He=I?function(e){return function(t){return e(t)}}(I):function(e){return qe(e)&&Ye(e.length)&&!!x[xe(e)]};function We(e){return null!=(t=e)&&Ye(t.length)&&!ze(t)?_e(e):Ee(e);var t}e.exports=function(e,t){return ke(e,t)}}(pt,pt.exports);var ft=r(pt.exports);function mt(e,t){return e.length===t.length&&JSON.stringify(e.map((function(e){return e})).sort())===JSON.stringify(t.map((function(e){return e})).sort())}var bt={Polygon:U,LineString:B,Point:F,MultiPolygon:G,MultiLineString:G,MultiPoint:G},gt=Object.freeze({__proto__:null,CommonSelectors:fe,constrainFeatureMovement:Xe,createMidPoint:je,createSupplementaryPoints:we,createVertex:ye,doubleClickZoom:_e,euclideanDistance:T,featuresAt:E,getFeatureAtAndSetCursors:N,isClick:D,isEventAtCoordinates:st,isTap:I,mapEventToBoundingBox:M,ModeHandler:e,moveFeatures:$e,sortFeatures:x,stringSetsAreEqual:mt,StringSet:k,theme:ae,toDenseArray:K}),vt=function(e,t){var r={options:e=function(e){void 0===e&&(e={});var t=ee(e);return e.controls||(t.controls={}),!1===e.displayControlsDefault?t.controls=ee(dt,e.controls):t.controls=ee(ut,e.controls),(t=ee(lt,t)).styles=ht(t.styles,"cold").concat(ht(t.styles,"hot")),t}(e)};t=function(e,t){return t.modes=f,t.getFeatureIdsAt=function(t){return E.click({point:t},null,e).map((function(e){return e.properties.id}))},t.getSelectedIds=function(){return e.store.getSelectedIds()},t.getSelected=function(){return{type:p.FEATURE_COLLECTION,features:e.store.getSelectedIds().map((function(t){return e.store.get(t)})).map((function(e){return e.toGeoJSON()}))}},t.getSelectedPoints=function(){return{type:p.FEATURE_COLLECTION,features:e.store.getSelectedCoordinates().map((function(e){return{type:p.FEATURE,properties:{},geometry:{type:p.POINT,coordinates:e.coordinates}}}))}},t.set=function(r){if(void 0===r.type||r.type!==p.FEATURE_COLLECTION||!Array.isArray(r.features))throw new Error("Invalid FeatureCollection");var a=e.store.createRenderBatch(),n=e.store.getAllIds().slice(),s=t.add(r),i=new k(s);return(n=n.filter((function(e){return!i.has(e)}))).length&&t.delete(n),a(),s},t.add=function(t){var r=JSON.parse(JSON.stringify(ke(t))).features.map((function(t){if(t.id=t.id||L(),null===t.geometry)throw new Error("Invalid geometry: null");if(void 0===e.store.get(t.id)||e.store.get(t.id).type!==t.geometry.type){var r=bt[t.geometry.type];if(void 0===r)throw new Error("Invalid geometry type: "+t.geometry.type+".");var a=new r(e,t);e.store.add(a)}else{var n=e.store.get(t.id);n.properties=t.properties,ft(n.properties,t.properties)||e.store.featureChanged(n.id),ft(n.getCoordinates(),t.geometry.coordinates)||n.incomingCoords(t.geometry.coordinates)}return t.id}));return e.store.render(),r},t.get=function(t){var r=e.store.get(t);if(r)return r.toGeoJSON()},t.getAll=function(){return{type:p.FEATURE_COLLECTION,features:e.store.getAll().map((function(e){return e.toGeoJSON()}))}},t.delete=function(r){return e.store.delete(r,{silent:!0}),t.getMode()!==f.DIRECT_SELECT||e.store.getSelectedIds().length?e.store.render():e.events.changeMode(f.SIMPLE_SELECT,void 0,{silent:!0}),t},t.deleteAll=function(){return e.store.delete(e.store.getAllIds(),{silent:!0}),t.getMode()===f.DIRECT_SELECT?e.events.changeMode(f.SIMPLE_SELECT,void 0,{silent:!0}):e.store.render(),t},t.changeMode=function(r,a){return void 0===a&&(a={}),r===f.SIMPLE_SELECT&&t.getMode()===f.SIMPLE_SELECT?(mt(a.featureIds||[],e.store.getSelectedIds())||(e.store.setSelected(a.featureIds,{silent:!0}),e.store.render()),t):(r===f.DIRECT_SELECT&&t.getMode()===f.DIRECT_SELECT&&a.featureId===e.store.getSelectedIds()[0]||e.events.changeMode(r,a,{silent:!0}),t)},t.getMode=function(){return e.events.getMode()},t.trash=function(){return e.events.trash({silent:!0}),t},t.combineFeatures=function(){return e.events.combineFeatures({silent:!0}),t},t.uncombineFeatures=function(){return e.events.uncombineFeatures({silent:!0}),t},t.setFeatureProperty=function(r,a,n){return e.store.setFeatureProperty(r,a,n),t},t}(r,t),r.api=t;var a=re(r);return t.onAdd=a.onAdd,t.onRemove=a.onRemove,t.types=h,t.options=e,t};function yt(e){vt(e,this)}return yt.modes=ct,yt.constants=w,yt.lib=gt,yt}()}).call(this,r(93))},2073:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r(1),n=r(9),s=r(0);const i=e=>{let{map:t}=e,r=n.c;n.r||(r=n.c.filter((e=>"object"===typeof e.value)));const[i,o]=Object(a.useState)(r[0].label);return Object(s.jsx)("div",{className:"bg-white blue-dark flex mt2 ml2 f7 fr br1 shadow-1",children:r.map(((e,r)=>Object(s.jsx)("div",{onClick:()=>(e=>{let r=e.value;"string"===typeof e.value&&(r="mapbox://styles/mapbox/"+e.value),t.setStyle(r),o(e.label)})(e),className:"ttc pv2 ph3 pointer link + ".concat(i===e.label?"bg-grey-light fw6":""),children:e.label},r)))})}},2074:function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return d})),r.d(t,"d",(function(){return h})),r.d(t,"a",(function(){return p}));var a=r(2075),n=r(1990),s=r(2039),i=r(9),o=r(2076),c=r.n(o),l=r(2093);const u=e=>{if(e.size>=i.v)throw Error("fileSize")},d=e=>{const t=e.name.split(".")[1].toLowerCase();if(!1===["json","geojson","kml","osm","xml","zip"].includes(t))throw Error("invalidFile")},h=(e,t)=>{if("FeatureCollection"!==e.type)throw Error("noFeatureCollection");return e.features=e.features.map((e=>((e,t)=>{if(!1===t.includes(e.geometry.type))throw Error("unsupportedGeom - ".concat(e.geometry.type));if("LineString"===e.geometry.type){const t=e.geometry.coordinates;if(JSON.stringify(t[0])!==JSON.stringify(t[t.length-1]))throw Error("closedLinestring");return Object(a.a)(e)}return e})(e,t))).filter((e=>Object(n.a)(e)>0)),e};const p=async e=>{const t=e.name.split(".")[1].toLowerCase();let r=await function(e,t){return new Promise(((r,a)=>{let n=new FileReader;n.onload=()=>{r(n.result)},n.onerror=a,"zip"===t?n.readAsArrayBuffer(e):n.readAsText(e)}))}(e,t);switch(t){case"json":case"geojson":return JSON.parse(r);case"kml":return Object(s.kml)((new DOMParser).parseFromString(r,"text/xml"));case"osm":let e=(new DOMParser).parseFromString(r,"text/xml");return l(e);case"xml":let t=(new DOMParser).parseFromString(r,"text/xml");return l(t);case"zip":return c()(r).then((e=>e))}}},2075:function(e,t,r){"use strict";var a=r(1930),n=r(1963),s=r(1922),i=r(2055);function o(e,t,r,i){t=t||("Feature"===e.type?e.properties:{});var o=Object(n.c)(e),l=o.coordinates,u=o.type;if(!l.length)throw new Error("line must contain coordinates");switch(u){case"LineString":return r&&(l=c(l)),Object(s.k)([l],t);case"MultiLineString":var d=[],h=0;return l.forEach((function(e){if(r&&(e=c(e)),i){var t=function(e){var t=e[0],r=e[1],a=e[2],n=e[3];return Math.abs(t-a)*Math.abs(r-n)}(Object(a.a)(Object(s.h)(e)));t>h?(d.unshift(e),h=t):d.push(e)}else d.push(e)})),Object(s.k)(d,t);default:throw new Error("geometry type "+u+" is not supported")}}function c(e){var t=e[0],r=t[0],a=t[1],n=e[e.length-1],s=n[0],i=n[1];return r===s&&a===i||e.push(t),e}t.a=function(e,t){var r,a,c;void 0===t&&(t={});var l=t.properties,u=null===(r=t.autoComplete)||void 0===r||r,d=null===(a=t.orderCoords)||void 0===a||a;if(null!==(c=t.mutate)&&void 0!==c&&c||(e=Object(i.a)(e)),"FeatureCollection"===e.type){var h=[];return e.features.forEach((function(e){h.push(Object(n.b)(o(e,{},u,d)))})),Object(s.i)(h,l)}return o(e,l,u,d)}},2076:function(e,t,r){"use strict";(function(t){let a=r(2101);a.default&&(a=a.default);const n=r(2077),s=r(2081),i=r(2084),o=r(2085),c=r(1991),l=r(2092),u=r(248).Buffer,d=t.URL,h=new l({max:20});function p(e){if(!e)throw new Error("forgot to pass buffer");return u.isBuffer(e)?e:f(e)?u.from(e):f(e.buffer)?1===e.BYTES_PER_ELEMENT?u.from(e):u.from(e.buffer):void 0}function f(e){return e instanceof t.ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)}function m(e,t){return"string"===typeof e&&h.has(e)?c.resolve(h.get(e)):m.getShapefile(e,t).then((function(t){return"string"===typeof e&&h.set(e,t),t}))}m.combine=function(e){let[t,r]=e;const a={type:"FeatureCollection",features:[]};let n=0;const s=t.length;for(r||(r=[]);n<s;)a.features.push({type:"Feature",geometry:t[n],properties:r[n]||{}}),n++;return a},m.parseZip=async function(e,t){let r;e=p(e);const s=await n(e),c=[];for(r in t=t||[],s)-1===r.indexOf("__MACOSX")&&("shp"===r.slice(-3).toLowerCase()?(c.push(r.slice(0,-4)),s[r.slice(0,-3)+r.slice(-3).toLowerCase()]=s[r]):"prj"===r.slice(-3).toLowerCase()?s[r.slice(0,-3)+r.slice(-3).toLowerCase()]=a(s[r]):"json"===r.slice(-4).toLowerCase()||t.indexOf(r.split(".").pop())>-1?c.push(r.slice(0,-3)+r.slice(-3).toLowerCase()):"dbf"!==r.slice(-3).toLowerCase()&&"cpg"!==r.slice(-3).toLowerCase()||(s[r.slice(0,-3)+r.slice(-3).toLowerCase()]=s[r]));if(!c.length)throw new Error("no layers founds");const l=c.map((function(e){let r,a;const n=e.lastIndexOf(".");return n>-1&&e.slice(n).indexOf("json")>-1?(r=JSON.parse(s[e]),r.fileName=e.slice(0,n)):t.indexOf(e.slice(n+1))>-1?(r=s[e],r.fileName=e):(s[e+".dbf"]&&(a=o(s[e+".dbf"],s[e+".cpg"])),r=m.combine([i(s[e+".shp"],s[e+".prj"]),a]),r.fileName=e),r}));return 1===l.length?l[0]:l};const b=async e=>{const t=await c.all([s(e,"shp"),s(e,"prj")]);let r=!1;try{t[1]&&(r=a(t[1]))}catch(n){r=!1}return i(t[0],r)},g=async e=>{const[t,r]=await c.all([s(e,"dbf"),s(e,"cpg")]);if(t)return o(t,r)};m.getShapefile=async function(e,t){if("string"!==typeof e)return m.parseZip(e);if(((e,t)=>new d(e).pathname.slice(-4).toLowerCase()===t)(e,".zip"))return async function(e,t){const r=await s(e);return m.parseZip(r,t)}(e,t);const r=await c.all([b(e),g(e)]);return m.combine(r)},m.parseShp=function(e,t){if(e=p(e),u.isBuffer(t)&&(t=t.toString()),"string"===typeof t)try{t=a(t)}catch(r){t=!1}return i(e,t)},m.parseDbf=function(e,t){return e=p(e),o(e,t)},e.exports=m}).call(this,r(93))},2077:function(e,t,r){"use strict";const a=r(2078);e.exports=async e=>{const t=new a;await t.loadAsync(e);const r=t.file(/.+/),n={};return await Promise.all(r.map((async e=>{let t;t="shp"===e.name.slice(-3).toLowerCase()||"dbf"===e.name.slice(-3).toLowerCase()?await e.async("nodebuffer"):await e.async("text"),n[e.name]=t}))),n}},2078:function(e,t,r){(function(t,r,a,n){e.exports=function e(t,r,a){function n(i,o){if(!r[i]){if(!t[i]){if(s)return s(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[i]={exports:{}};t[i][0].call(l.exports,(function(e){return n(t[i][1][e]||e)}),l,l.exports,e,t,r,a)}return r[i].exports}for(var s=!1,i=0;i<a.length;i++)n(a[i]);return n}({1:[function(e,t,r){"use strict";var a=e("./utils"),n=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,n,i,o,c,l,u=[],d=0,h=e.length,p=h,f="string"!==a.getTypeOf(e);d<e.length;)p=h-d,n=f?(t=e[d++],r=d<h?e[d++]:0,d<h?e[d++]:0):(t=e.charCodeAt(d++),r=d<h?e.charCodeAt(d++):0,d<h?e.charCodeAt(d++):0),i=t>>2,o=(3&t)<<4|r>>4,c=1<p?(15&r)<<2|n>>6:64,l=2<p?63&n:64,u.push(s.charAt(i)+s.charAt(o)+s.charAt(c)+s.charAt(l));return u.join("")},r.decode=function(e){var t,r,a,i,o,c,l=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var h,p=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&p--,e.charAt(e.length-2)===s.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=n.uint8array?new Uint8Array(0|p):new Array(0|p);l<e.length;)t=s.indexOf(e.charAt(l++))<<2|(i=s.indexOf(e.charAt(l++)))>>4,r=(15&i)<<4|(o=s.indexOf(e.charAt(l++)))>>2,a=(3&o)<<6|(c=s.indexOf(e.charAt(l++))),h[u++]=t,64!==o&&(h[u++]=r),64!==c&&(h[u++]=a);return h}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var a=e("./external"),n=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),i=e("./stream/DataLengthProbe");function o(e,t,r,a,n){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=a,this.compressedContent=n}o.prototype={getContentWorker:function(){var e=new n(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new n(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(e,t,r){return e.pipe(new s).pipe(new i("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new i("compressedSize")).withStreamInfo("compression",t)},t.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var a=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var a=e("./utils"),n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==a.getTypeOf(e)?function(e,t,r,a){var s=n,i=a+r;e^=-1;for(var o=a;o<i;o++)e=e>>>8^s[255&(e^t[o])];return-1^e}(0|t,e,e.length,0):function(e,t,r,a){var s=n,i=a+r;e^=-1;for(var o=a;o<i;o++)e=e>>>8^s[255&(e^t.charCodeAt(o))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var a=null;a="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:a}},{lie:37}],7:[function(e,t,r){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=e("pako"),s=e("./utils"),i=e("./stream/GenericWorker"),o=a?"uint8array":"array";function c(e,t){i.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",s.inherits(c,i),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},c.prototype.flush=function(){i.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new c("Deflate",e)},r.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function a(e,t){var r,a="";for(r=0;r<t;r++)a+=String.fromCharCode(255&e),e>>>=8;return a}function n(e,t,r,n,i,u){var d,h,p=e.file,f=e.compression,m=u!==o.utf8encode,b=s.transformTo("string",u(p.name)),g=s.transformTo("string",o.utf8encode(p.name)),v=p.comment,y=s.transformTo("string",u(v)),j=s.transformTo("string",o.utf8encode(v)),w=g.length!==p.name.length,_=j.length!==v.length,O="",x="",M="",k=p.dir,C=p.date,E={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(E.crc32=e.crc32,E.compressedSize=e.compressedSize,E.uncompressedSize=e.uncompressedSize);var S=0;t&&(S|=8),m||!w&&!_||(S|=2048);var N=0,T=0;k&&(N|=16),"UNIX"===i?(T=798,N|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(p.unixPermissions,k)):(T=20,N|=function(e){return 63&(e||0)}(p.dosPermissions)),d=C.getUTCHours(),d<<=6,d|=C.getUTCMinutes(),d<<=5,d|=C.getUTCSeconds()/2,h=C.getUTCFullYear()-1980,h<<=4,h|=C.getUTCMonth()+1,h<<=5,h|=C.getUTCDate(),w&&(x=a(1,1)+a(c(b),4)+g,O+="up"+a(x.length,2)+x),_&&(M=a(1,1)+a(c(y),4)+j,O+="uc"+a(M.length,2)+M);var D="";return D+="\n\0",D+=a(S,2),D+=f.magic,D+=a(d,2),D+=a(h,2),D+=a(E.crc32,4),D+=a(E.compressedSize,4),D+=a(E.uncompressedSize,4),D+=a(b.length,2),D+=a(O.length,2),{fileRecord:l.LOCAL_FILE_HEADER+D+b+O,dirRecord:l.CENTRAL_FILE_HEADER+a(T,2)+D+a(y.length,2)+"\0\0\0\0"+a(N,4)+a(n,4)+b+O+y}}var s=e("../utils"),i=e("../stream/GenericWorker"),o=e("../utf8"),c=e("../crc32"),l=e("../signature");function u(e,t,r,a){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=a,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(u,i),u.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,a=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-a-1))/r:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=n(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=n(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return l.DATA_DESCRIPTOR+a(e.crc32,4)+a(e.compressedSize,4)+a(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=function(e,t,r,n,i){var o=s.transformTo("string",i(n));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(e,2)+a(e,2)+a(t,4)+a(r,4)+a(o.length,2)+o}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},u.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var a=e("../compressions"),n=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var s=new n(t.streamFiles,r,t.platform,t.encodeFileName),i=0;try{e.forEach((function(e,r){i++;var n=function(e,t){var r=e||t,n=a[r];if(!n)throw new Error(r+" is not a valid compression method !");return n}(r.options.compression,t.compression),o=r.options.compressionOptions||t.compressionOptions||{},c=r.dir,l=r.date;r._compressWorker(n,o).withStreamInfo("file",{name:e,dir:c,date:l,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(s)})),s.entriesCount=i}catch(e){s.error(e)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new a;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(a.prototype=e("./object")).loadAsync=e("./load"),a.support=e("./support"),a.defaults=e("./defaults"),a.version="3.10.1",a.loadAsync=function(e,t){return(new a).loadAsync(e,t)},a.external=e("./external"),t.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var a=e("./utils"),n=e("./external"),s=e("./utf8"),i=e("./zipEntries"),o=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function l(e){return new n.Promise((function(t,r){var a=e.decompressed.getContentWorker().pipe(new o);a.on("error",(function(e){r(e)})).on("end",(function(){a.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var r=this;return t=a.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),c.isNode&&c.isStream(e)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new i(t);return r.load(e),r})).then((function(e){var r=[n.Promise.resolve(e)],a=e.files;if(t.checkCRC32)for(var s=0;s<a.length;s++)r.push(l(a[s]));return n.Promise.all(r)})).then((function(e){for(var n=e.shift(),s=n.files,i=0;i<s.length;i++){var o=s[i],c=o.fileNameStr,l=a.resolve(o.fileNameStr);r.file(l,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders}),o.dir||(r.file(l).unsafeOriginalName=c)}return n.zipComment.length&&(r.comment=n.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var a=e("../utils"),n=e("../stream/GenericWorker");function s(e,t){n.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}a.inherits(s,n),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},s.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var a=e("readable-stream").Readable;function n(e,t,r){a.call(this,t),this._helper=e;var n=this;e.on("data",(function(e,t){n.push(e)||n._helper.pause(),r&&r(t)})).on("error",(function(e){n.emit("error",e)})).on("end",(function(){n.push(null)}))}e("../utils").inherits(n,a),n.prototype._read=function(){this._helper.resume()},t.exports=n},{"../utils":32,"readable-stream":16}],14:[function(e,r,a){"use strict";r.exports={isNode:"undefined"!=typeof t,newBufferFrom:function(e,r){if(t.from&&t.from!==Uint8Array.from)return t.from(e,r);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new t(e,r)},allocBuffer:function(e){if(t.alloc)return t.alloc(e);var r=new t(e);return r.fill(0),r},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){"use strict";function a(e,t,r){var a,n=s.getTypeOf(t),o=s.extend(r||{},c);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(e=m(e)),o.createFolders&&(a=f(e))&&b.call(this,a,!0);var d="string"===n&&!1===o.binary&&!1===o.base64;r&&void 0!==r.binary||(o.binary=!d),(t instanceof l&&0===t.uncompressedSize||o.dir||!t||0===t.length)&&(o.base64=!1,o.binary=!0,t="",o.compression="STORE",n="string");var g=null;g=t instanceof l||t instanceof i?t:h.isNode&&h.isStream(t)?new p(e,t):s.prepareContent(e,t,o.binary,o.optimizedBinaryString,o.base64);var v=new u(e,g,o);this.files[e]=v}var n=e("./utf8"),s=e("./utils"),i=e("./stream/GenericWorker"),o=e("./stream/StreamHelper"),c=e("./defaults"),l=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),h=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},b=function(e,t){return t=void 0!==t?t:c.createFolders,e=m(e),this.files[e]||a.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,a;for(t in this.files)a=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,a)},filter:function(e){var t=[];return this.forEach((function(r,a){e(r,a)&&t.push(a)})),t},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,a.call(this,e,t,r),this;if(g(e)){var n=e;return this.filter((function(e,t){return!t.dir&&n.test(e)}))}var s=this.files[this.root+e];return s&&!s.dir?s:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,r){return r.dir&&e.test(t)}));var t=this.root+e,r=b.call(this,t),a=this.clone();return a.root=r.name,a},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),a=0;a<r.length;a++)delete this.files[r[a].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=s.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");s.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var a=r.comment||this.comment||"";t=d.generateWorker(this,r,a)}catch(e){(t=new i("error")).error(e)}return new o(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var a=e("./DataReader");function n(e){a.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(n,a),n.prototype.byteAt=function(e){return this.data[this.zero+e]},n.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),a=e.charCodeAt(2),n=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===r&&this.data[s+2]===a&&this.data[s+3]===n)return s-this.zero;return-1},n.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),a=e.charCodeAt(2),n=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&r===s[1]&&a===s[2]&&n===s[3]},n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var a=e("../utils");function n(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return a.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=n},{"../utils":32}],19:[function(e,t,r){"use strict";var a=e("./Uint8ArrayReader");function n(e){a.call(this,e)}e("../utils").inherits(n,a),n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var a=e("./DataReader");function n(e){a.call(this,e)}e("../utils").inherits(n,a),n.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},n.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},n.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var a=e("./ArrayReader");function n(e){a.call(this,e)}e("../utils").inherits(n,a),n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var a=e("../utils"),n=e("../support"),s=e("./ArrayReader"),i=e("./StringReader"),o=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=a.getTypeOf(e);return a.checkSupport(t),"string"!==t||n.uint8array?"nodebuffer"===t?new o(e):n.uint8array?new c(a.transformTo("uint8array",e)):new s(a.transformTo("array",e)):new i(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK\x03\x04",r.CENTRAL_FILE_HEADER="PK\x01\x02",r.CENTRAL_DIRECTORY_END="PK\x05\x06",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,r){"use strict";var a=e("./GenericWorker"),n=e("../utils");function s(e){a.call(this,"ConvertWorker to "+e),this.destType=e}n.inherits(s,a),s.prototype.processChunk=function(e){this.push({data:n.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var a=e("./GenericWorker"),n=e("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,a),s.prototype.processChunk=function(e){this.streamInfo.crc32=n(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var a=e("../utils"),n=e("./GenericWorker");function s(e){n.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}a.inherits(s,n),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}n.prototype.processChunk.call(this,e)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var a=e("../utils"),n=e("./GenericWorker");function s(e){n.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=a.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}a.inherits(s,n),s.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function a(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=a},{}],29:[function(e,r,a){"use strict";var n=e("../utils"),s=e("./ConvertWorker"),i=e("./GenericWorker"),o=e("../base64"),c=e("../support"),l=e("../external"),u=null;if(c.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function d(e,r){return new l.Promise((function(a,s){var i=[],c=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",(function(e,t){i.push(e),r&&r(t)})).on("error",(function(e){i=[],s(e)})).on("end",(function(){try{var e=function(e,t,r){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),r);case"base64":return o.encode(t);default:return n.transformTo(e,t)}}(l,function(e,r){var a,n=0,s=null,i=0;for(a=0;a<r.length;a++)i+=r[a].length;switch(e){case"string":return r.join("");case"array":return Array.prototype.concat.apply([],r);case"uint8array":for(s=new Uint8Array(i),a=0;a<r.length;a++)s.set(r[a],n),n+=r[a].length;return s;case"nodebuffer":return t.concat(r);default:throw new Error("concat : unsupported type '"+e+"'")}}(c,i),u);a(e)}catch(e){s(e)}i=[]})).resume()}))}function h(e,t,r){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=r,n.checkSupport(a),this._worker=e.pipe(new s(a)),e.lock()}catch(e){this._worker=new i("error"),this._worker.error(e)}}h.prototype={accumulate:function(e){return d(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){n.delay(t,arguments,r)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,a){"use strict";if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,a.nodebuffer="undefined"!=typeof t,a.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)a.blob=!1;else{var n=new ArrayBuffer(0);try{a.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(n),a.blob=0===s.getBlob("application/zip").size}catch(e){a.blob=!1}}}try{a.nodestream=!!e("readable-stream").Readable}catch(e){a.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var a=e("./utils"),n=e("./support"),s=e("./nodejsUtils"),i=e("./stream/GenericWorker"),o=new Array(256),c=0;c<256;c++)o[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(){i.call(this,"utf-8 decode"),this.leftOver=null}function u(){i.call(this,"utf-8 encode")}o[254]=o[254]=1,r.utf8encode=function(e){return n.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,r,a,s,i,o=e.length,c=0;for(s=0;s<o;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(a=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(a-56320),s++),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=n.uint8array?new Uint8Array(c):new Array(c),s=i=0;i<c;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(a=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(a-56320),s++),r<128?t[i++]=r:(r<2048?t[i++]=192|r>>>6:(r<65536?t[i++]=224|r>>>12:(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63),t[i++]=128|r>>>6&63),t[i++]=128|63&r);return t}(e)},r.utf8decode=function(e){return n.nodebuffer?a.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,n,s,i=e.length,c=new Array(2*i);for(t=r=0;t<i;)if((n=e[t++])<128)c[r++]=n;else if(4<(s=o[n]))c[r++]=65533,t+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&t<i;)n=n<<6|63&e[t++],s--;1<s?c[r++]=65533:n<65536?c[r++]=n:(n-=65536,c[r++]=55296|n>>10&1023,c[r++]=56320|1023&n)}return c.length!==r&&(c.subarray?c=c.subarray(0,r):c.length=r),a.applyFromCharCode(c)}(e=a.transformTo(n.uint8array?"uint8array":"array",e))},a.inherits(l,i),l.prototype.processChunk=function(e){var t=a.transformTo(n.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var s=t;(t=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),t.set(s,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var i=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+o[e[r]]>t?r:t}(t),c=t;i!==t.length&&(n.uint8array?(c=t.subarray(0,i),this.leftOver=t.subarray(i,t.length)):(c=t.slice(0,i),this.leftOver=t.slice(i,t.length))),this.push({data:r.utf8decode(c),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=l,a.inherits(u,i),u.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,a){"use strict";var n=e("./support"),s=e("./base64"),i=e("./nodejsUtils"),o=e("./external");function c(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e("setimmediate"),a.newBlob=function(t,r){a.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(t),n.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,r){var a=[],n=0,s=e.length;if(s<=r)return String.fromCharCode.apply(null,e);for(;n<s;)"array"===t||"nodebuffer"===t?a.push(String.fromCharCode.apply(null,e.slice(n,Math.min(n+r,s)))):a.push(String.fromCharCode.apply(null,e.subarray(n,Math.min(n+r,s)))),n+=r;return a.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var t=65536,r=a.getTypeOf(e),n=!0;if("uint8array"===r?n=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(n=u.applyCanBeUsed.nodebuffer),n)for(;1<t;)try{return u.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function h(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}a.applyFromCharCode=d;var p={};p.string={string:c,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,i.allocBuffer(e.length))}},p.array={string:d,array:c,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(e)}},p.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:c,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:d,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:c,nodebuffer:function(e){return i.newBufferFrom(e)}},p.nodebuffer={string:d,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:c},a.transformTo=function(e,t){if(t=t||"",!e)return t;a.checkSupport(e);var r=a.getTypeOf(t);return p[r][e](t)},a.resolve=function(e){for(var t=e.split("/"),r=[],a=0;a<t.length;a++){var n=t[a];"."===n||""===n&&0!==a&&a!==t.length-1||(".."===n?r.pop():r.push(n))}return r.join("/")},a.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&i.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(e){var t,r,a="";for(r=0;r<(e||"").length;r++)a+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return a},a.delay=function(e,t,a){r((function(){e.apply(a||null,t||[])}))},a.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},a.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},a.prepareContent=function(e,t,r,i,c){return o.Promise.resolve(t).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise((function(t,r){var a=new FileReader;a.onload=function(e){t(e.target.result)},a.onerror=function(e){r(e.target.error)},a.readAsArrayBuffer(e)})):e})).then((function(t){var u=a.getTypeOf(t);return u?("arraybuffer"===u?t=a.transformTo("uint8array",t):"string"===u&&(c?t=s.decode(t):r&&!0!==i&&(t=function(e){return l(e,n.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){"use strict";var a=e("./reader/readerFor"),n=e("./utils"),s=e("./signature"),i=e("./zipEntry"),o=e("./support");function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(t)+", expected "+n.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var a=this.reader.readString(4)===t;return this.reader.setIndex(r),a},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?"uint8array":"array",r=n.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,a=this.zip64EndOfCentralSize-44;0<a;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new i({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var a=t-r;if(0<a)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=a);else if(a<0)throw new Error("Corrupted zip: missing "+Math.abs(a)+" bytes.")},prepareReader:function(e){this.reader=a(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var a=e("./reader/readerFor"),n=e("./utils"),s=e("./compressedObject"),i=e("./crc32"),o=e("./utf8"),c=e("./compressions"),l=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(Object.prototype.hasOwnProperty.call(c,t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=a(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,a,n=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<n;)t=e.readInt(2),r=e.readInt(2),a=e.readData(r),this.extraFields[t]={id:t,length:r,value:a};e.setIndex(n)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=n.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var a=this.findExtraFieldUnicodeComment();if(null!==a)this.fileCommentStr=a;else{var s=n.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=a(e.value);return 1!==t.readInt(1)||i(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=a(e.value);return 1!==t.readInt(1)||i(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function a(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var n=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),i=e("./utf8"),o=e("./compressedObject"),c=e("./stream/GenericWorker");a.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var a="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!a&&(t=t.pipe(new i.Utf8EncodeWorker)),!s&&a&&(t=t.pipe(new i.Utf8DecodeWorker))}catch(e){(t=new c("error")).error(e)}return new n(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new i.Utf8EncodeWorker)),o.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof c?this._data:new s(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<l.length;d++)a.prototype[l[d]]=u;t.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var r,a,n=e.MutationObserver||e.WebKitMutationObserver;if(n){var s=0,i=new n(u),o=e.document.createTextNode("");i.observe(o,{characterData:!0}),r=function(){o.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var c=new e.MessageChannel;c.port1.onmessage=u,r=function(){c.port2.postMessage(0)}}var l=[];function u(){var e,t;a=!0;for(var r=l.length;r;){for(t=l,l=[],e=-1;++e<r;)t[e]();r=l.length}a=!1}t.exports=function(e){1!==l.push(e)||a||r()}}).call(this,"undefined"!=typeof a?a:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){"use strict";var a=e("immediate");function n(){}var s={},i=["REJECTED"],o=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==n&&p(this,e)}function u(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function d(e,t,r){a((function(){var a;try{a=t(r)}catch(a){return s.reject(e,a)}a===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,a)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var r=!1;function a(t){r||(r=!0,s.reject(e,t))}function n(t){r||(r=!0,s.resolve(e,t))}var i=f((function(){t(n,a)}));"error"===i.status&&a(i.value)}function f(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=l).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===i)return this;var r=new this.constructor(n);return this.state!==c?d(r,this.state===o?e:t,this.outcome):this.queue.push(new u(r,e,t)),r},u.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){s.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},s.resolve=function(e,t){var r=f(h,t);if("error"===r.status)return s.reject(e,r.value);var a=r.value;if(a)p(e,a);else{e.state=o,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callFulfilled(t)}return e},s.reject=function(e,t){e.state=i,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:s.resolve(new this(n),e)},l.reject=function(e){var t=new this(n);return s.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,a=!1;if(!r)return this.resolve([]);for(var i=new Array(r),o=0,c=-1,l=new this(n);++c<r;)u(e[c],c);return l;function u(e,n){t.resolve(e).then((function(e){i[n]=e,++o!==r||a||(a=!0,s.resolve(l,i))}),(function(e){a||(a=!0,s.reject(l,e))}))}},l.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,a=!1;if(!r)return this.resolve([]);for(var i,o=-1,c=new this(n);++o<r;)i=e[o],t.resolve(i).then((function(e){a||(a=!0,s.resolve(c,e))}),(function(e){a||(a=!0,s.reject(c,e))}));return c}},{immediate:36}],38:[function(e,t,r){"use strict";var a={};(0,e("./lib/utils/common").assign)(a,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var a=e("./zlib/deflate"),n=e("./utils/common"),s=e("./utils/strings"),i=e("./zlib/messages"),o=e("./zlib/zstream"),c=Object.prototype.toString,l=0,u=-1,d=0,h=8;function p(e){if(!(this instanceof p))return new p(e);this.options=n.assign({level:u,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==l)throw new Error(i[r]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var f;if(f="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=a.deflateSetDictionary(this.strm,f))!==l)throw new Error(i[r]);this._dict_set=!0}}function f(e,t){var r=new p(t);if(r.push(e,!0),r.err)throw r.msg||i[r.err];return r.result}p.prototype.push=function(e,t){var r,i,o=this.strm,u=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=s.string2buf(e):"[object ArrayBuffer]"===c.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new n.Buf8(u),o.next_out=0,o.avail_out=u),1!==(r=a.deflate(o,i))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==o.avail_out&&(0!==o.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(s.buf2binstring(n.shrinkBuf(o.output,o.next_out))):this.onData(n.shrinkBuf(o.output,o.next_out)))}while((0<o.avail_in||0===o.avail_out)&&1!==r);return 4===i?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==i||(this.onEnd(l),!(o.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=p,r.deflate=f,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,f(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var a=e("./zlib/inflate"),n=e("./utils/common"),s=e("./utils/strings"),i=e("./zlib/constants"),o=e("./zlib/messages"),c=e("./zlib/zstream"),l=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var r=a.inflateInit2(this.strm,t.windowBits);if(r!==i.Z_OK)throw new Error(o[r]);this.header=new l,a.inflateGetHeader(this.strm,this.header)}function h(e,t){var r=new d(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}d.prototype.push=function(e,t){var r,o,c,l,d,h,p=this.strm,f=this.options.chunkSize,m=this.options.dictionary,b=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?i.Z_FINISH:i.Z_NO_FLUSH,"string"==typeof e?p.input=s.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new n.Buf8(f),p.next_out=0,p.avail_out=f),(r=a.inflate(p,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&m&&(h="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,r=a.inflateSetDictionary(this.strm,h)),r===i.Z_BUF_ERROR&&!0===b&&(r=i.Z_OK,b=!1),r!==i.Z_STREAM_END&&r!==i.Z_OK)return this.onEnd(r),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&r!==i.Z_STREAM_END&&(0!==p.avail_in||o!==i.Z_FINISH&&o!==i.Z_SYNC_FLUSH)||("string"===this.options.to?(c=s.utf8border(p.output,p.next_out),l=p.next_out-c,d=s.buf2string(p.output,c),p.next_out=l,p.avail_out=f-l,l&&n.arraySet(p.output,p.output,c,l,0),this.onData(d)):this.onData(n.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(b=!0)}while((0<p.avail_in||0===p.avail_out)&&r!==i.Z_STREAM_END);return r===i.Z_STREAM_END&&(o=i.Z_FINISH),o===i.Z_FINISH?(r=a.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===i.Z_OK):o!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),!(p.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===i.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=d,r.inflate=h,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},r.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,r,a,n){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+a),n);else for(var s=0;s<a;s++)e[n+s]=t[r+s]},flattenChunks:function(e){var t,r,a,n,s,i;for(t=a=0,r=e.length;t<r;t++)a+=e[t].length;for(i=new Uint8Array(a),t=n=0,r=e.length;t<r;t++)s=e[t],i.set(s,n),n+=s.length;return i}},s={arraySet:function(e,t,r,a,n){for(var s=0;s<a;s++)e[n+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(a)},{}],42:[function(e,t,r){"use strict";var a=e("./common"),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var i=new a.Buf8(256),o=0;o<256;o++)i[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function c(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&n))return String.fromCharCode.apply(null,a.shrinkBuf(e,t));for(var r="",i=0;i<t;i++)r+=String.fromCharCode(e[i]);return r}i[254]=i[254]=1,r.string2buf=function(e){var t,r,n,s,i,o=e.length,c=0;for(s=0;s<o;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(n-56320),s++),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=new a.Buf8(c),s=i=0;i<c;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(n-56320),s++),r<128?t[i++]=r:(r<2048?t[i++]=192|r>>>6:(r<65536?t[i++]=224|r>>>12:(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63),t[i++]=128|r>>>6&63),t[i++]=128|63&r);return t},r.buf2binstring=function(e){return c(e,e.length)},r.binstring2buf=function(e){for(var t=new a.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,a,n,s,o=t||e.length,l=new Array(2*o);for(r=a=0;r<o;)if((n=e[r++])<128)l[a++]=n;else if(4<(s=i[n]))l[a++]=65533,r+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&r<o;)n=n<<6|63&e[r++],s--;1<s?l[a++]=65533:n<65536?l[a++]=n:(n-=65536,l[a++]=55296|n>>10&1023,l[a++]=56320|1023&n)}return c(l,a)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+i[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(e,t,r,a){for(var n=65535&e|0,s=e>>>16&65535|0,i=0;0!==r;){for(r-=i=2e3<r?2e3:r;s=s+(n=n+t[a++]|0)|0,--i;);n%=65521,s%=65521}return n|s<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var a=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,n){var s=a,i=n+r;e^=-1;for(var o=n;o<i;o++)e=e>>>8^s[255&(e^t[o])];return-1^e}},{}],46:[function(e,t,r){"use strict";var a,n=e("../utils/common"),s=e("./trees"),i=e("./adler32"),o=e("./crc32"),c=e("./messages"),l=0,u=4,d=0,h=-2,p=-1,f=4,m=2,b=8,g=9,v=286,y=30,j=19,w=2*v+1,_=15,O=3,x=258,M=x+O+1,k=42,C=113,E=1,S=2,N=3,T=4;function D(e,t){return e.msg=c[t],t}function I(e){return(e<<1)-(4<e?9:0)}function A(e){for(var t=e.length;0<=--t;)e[t]=0}function P(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(n.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function L(e,t){s._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,P(e.strm)}function R(e,t){e.pending_buf[e.pending++]=t}function F(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function B(e,t){var r,a,n=e.max_chain_length,s=e.strstart,i=e.prev_length,o=e.nice_match,c=e.strstart>e.w_size-M?e.strstart-(e.w_size-M):0,l=e.window,u=e.w_mask,d=e.prev,h=e.strstart+x,p=l[s+i-1],f=l[s+i];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do{if(l[(r=t)+i]===f&&l[r+i-1]===p&&l[r]===l[s]&&l[++r]===l[s+1]){s+=2,r++;do{}while(l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&s<h);if(a=x-(h-s),s=h-x,i<a){if(e.match_start=t,o<=(i=a))break;p=l[s+i-1],f=l[s+i]}}}while((t=d[t&u])>c&&0!=--n);return i<=e.lookahead?i:e.lookahead}function U(e){var t,r,a,s,c,l,u,d,h,p,f=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-M)){for(n.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=r=e.hash_size;a=e.head[--t],e.head[t]=f<=a?a-f:0,--r;);for(t=r=f;a=e.prev[--t],e.prev[t]=f<=a?a-f:0,--r;);s+=f}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,d=e.strstart+e.lookahead,p=void 0,(h=s)<(p=l.avail_in)&&(p=h),r=0===p?0:(l.avail_in-=p,n.arraySet(u,l.input,l.next_in,p,d),1===l.state.wrap?l.adler=i(l.adler,u,p,d):2===l.state.wrap&&(l.adler=o(l.adler,u,p,d)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=r,e.lookahead+e.insert>=O)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+O-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<O)););}while(e.lookahead<M&&0!==e.strm.avail_in)}function z(e,t){for(var r,a;;){if(e.lookahead<M){if(U(e),e.lookahead<M&&t===l)return E;if(0===e.lookahead)break}if(r=0,e.lookahead>=O&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-M&&(e.match_length=B(e,r)),e.match_length>=O)if(a=s._tr_tally(e,e.strstart-e.match_start,e.match_length-O),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=O){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else a=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(a&&(L(e,!1),0===e.strm.avail_out))return E}return e.insert=e.strstart<O-1?e.strstart:O-1,t===u?(L(e,!0),0===e.strm.avail_out?N:T):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?E:S}function Y(e,t){for(var r,a,n;;){if(e.lookahead<M){if(U(e),e.lookahead<M&&t===l)return E;if(0===e.lookahead)break}if(r=0,e.lookahead>=O&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=O-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-M&&(e.match_length=B(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===O&&4096<e.strstart-e.match_start)&&(e.match_length=O-1)),e.prev_length>=O&&e.match_length<=e.prev_length){for(n=e.strstart+e.lookahead-O,a=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-O),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=O-1,e.strstart++,a&&(L(e,!1),0===e.strm.avail_out))return E}else if(e.match_available){if((a=s._tr_tally(e,0,e.window[e.strstart-1]))&&L(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return E}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(a=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<O-1?e.strstart:O-1,t===u?(L(e,!0),0===e.strm.avail_out?N:T):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?E:S}function G(e,t,r,a,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=a,this.func=n}function q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*w),this.dyn_dtree=new n.Buf16(2*(2*y+1)),this.bl_tree=new n.Buf16(2*(2*j+1)),A(this.dyn_ltree),A(this.dyn_dtree),A(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(_+1),this.heap=new n.Buf16(2*v+1),A(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*v+1),A(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?k:C,e.adler=2===t.wrap?0:1,t.last_flush=l,s._tr_init(t),d):D(e,h)}function W(e){var t=H(e);return t===d&&function(e){e.window_size=2*e.w_size,A(e.head),e.max_lazy_match=a[e.level].max_lazy,e.good_match=a[e.level].good_length,e.nice_match=a[e.level].nice_length,e.max_chain_length=a[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=O-1,e.match_available=0,e.ins_h=0}(e.state),t}function V(e,t,r,a,s,i){if(!e)return h;var o=1;if(t===p&&(t=6),a<0?(o=0,a=-a):15<a&&(o=2,a-=16),s<1||g<s||r!==b||a<8||15<a||t<0||9<t||i<0||f<i)return D(e,h);8===a&&(a=9);var c=new q;return(e.state=c).strm=e,c.wrap=o,c.gzhead=null,c.w_bits=a,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=s+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+O-1)/O),c.window=new n.Buf8(2*c.w_size),c.head=new n.Buf16(c.hash_size),c.prev=new n.Buf16(c.w_size),c.lit_bufsize=1<<s+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new n.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=i,c.method=r,W(e)}a=[new G(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(U(e),0===e.lookahead&&t===l)return E;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var a=e.block_start+r;if((0===e.strstart||e.strstart>=a)&&(e.lookahead=e.strstart-a,e.strstart=a,L(e,!1),0===e.strm.avail_out))return E;if(e.strstart-e.block_start>=e.w_size-M&&(L(e,!1),0===e.strm.avail_out))return E}return e.insert=0,t===u?(L(e,!0),0===e.strm.avail_out?N:T):(e.strstart>e.block_start&&(L(e,!1),e.strm.avail_out),E)})),new G(4,4,8,4,z),new G(4,5,16,8,z),new G(4,6,32,32,z),new G(4,4,16,16,Y),new G(8,16,32,32,Y),new G(8,16,128,128,Y),new G(8,32,128,256,Y),new G(32,128,258,1024,Y),new G(32,258,258,4096,Y)],r.deflateInit=function(e,t){return V(e,t,b,15,8,0)},r.deflateInit2=V,r.deflateReset=W,r.deflateResetKeep=H,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,d):h},r.deflate=function(e,t){var r,n,i,c;if(!e||!e.state||5<t||t<0)return e?D(e,h):h;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&t!==u)return D(e,0===e.avail_out?-5:h);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===k)if(2===n.wrap)e.adler=0,R(n,31),R(n,139),R(n,8),n.gzhead?(R(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),R(n,255&n.gzhead.time),R(n,n.gzhead.time>>8&255),R(n,n.gzhead.time>>16&255),R(n,n.gzhead.time>>24&255),R(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),R(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(R(n,255&n.gzhead.extra.length),R(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=o(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(R(n,0),R(n,0),R(n,0),R(n,0),R(n,0),R(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),R(n,3),n.status=C);else{var p=b+(n.w_bits-8<<4)<<8;p|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(p|=32),p+=31-p%31,n.status=C,F(n,p),0!==n.strstart&&(F(n,e.adler>>>16),F(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=o(e.adler,n.pending_buf,n.pending-i,i)),P(e),i=n.pending,n.pending!==n.pending_buf_size));)R(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=o(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=o(e.adler,n.pending_buf,n.pending-i,i)),P(e),i=n.pending,n.pending===n.pending_buf_size)){c=1;break}c=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,R(n,c)}while(0!==c);n.gzhead.hcrc&&n.pending>i&&(e.adler=o(e.adler,n.pending_buf,n.pending-i,i)),0===c&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=o(e.adler,n.pending_buf,n.pending-i,i)),P(e),i=n.pending,n.pending===n.pending_buf_size)){c=1;break}c=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,R(n,c)}while(0!==c);n.gzhead.hcrc&&n.pending>i&&(e.adler=o(e.adler,n.pending_buf,n.pending-i,i)),0===c&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&P(e),n.pending+2<=n.pending_buf_size&&(R(n,255&e.adler),R(n,e.adler>>8&255),e.adler=0,n.status=C)):n.status=C),0!==n.pending){if(P(e),0===e.avail_out)return n.last_flush=-1,d}else if(0===e.avail_in&&I(t)<=I(r)&&t!==u)return D(e,-5);if(666===n.status&&0!==e.avail_in)return D(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==l&&666!==n.status){var f=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(U(e),0===e.lookahead)){if(t===l)return E;break}if(e.match_length=0,r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(L(e,!1),0===e.strm.avail_out))return E}return e.insert=0,t===u?(L(e,!0),0===e.strm.avail_out?N:T):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?E:S}(n,t):3===n.strategy?function(e,t){for(var r,a,n,i,o=e.window;;){if(e.lookahead<=x){if(U(e),e.lookahead<=x&&t===l)return E;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=O&&0<e.strstart&&(a=o[n=e.strstart-1])===o[++n]&&a===o[++n]&&a===o[++n]){i=e.strstart+x;do{}while(a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&n<i);e.match_length=x-(i-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=O?(r=s._tr_tally(e,1,e.match_length-O),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(L(e,!1),0===e.strm.avail_out))return E}return e.insert=0,t===u?(L(e,!0),0===e.strm.avail_out?N:T):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?E:S}(n,t):a[n.level].func(n,t);if(f!==N&&f!==T||(n.status=666),f===E||f===N)return 0===e.avail_out&&(n.last_flush=-1),d;if(f===S&&(1===t?s._tr_align(n):5!==t&&(s._tr_stored_block(n,0,0,!1),3===t&&(A(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),P(e),0===e.avail_out))return n.last_flush=-1,d}return t!==u?d:n.wrap<=0?1:(2===n.wrap?(R(n,255&e.adler),R(n,e.adler>>8&255),R(n,e.adler>>16&255),R(n,e.adler>>24&255),R(n,255&e.total_in),R(n,e.total_in>>8&255),R(n,e.total_in>>16&255),R(n,e.total_in>>24&255)):(F(n,e.adler>>>16),F(n,65535&e.adler)),P(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?d:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==k&&69!==t&&73!==t&&91!==t&&103!==t&&t!==C&&666!==t?D(e,h):(e.state=null,t===C?D(e,-3):d):h},r.deflateSetDictionary=function(e,t){var r,a,s,o,c,l,u,p,f=t.length;if(!e||!e.state)return h;if(2===(o=(r=e.state).wrap)||1===o&&r.status!==k||r.lookahead)return h;for(1===o&&(e.adler=i(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===o&&(A(r.head),r.strstart=0,r.block_start=0,r.insert=0),p=new n.Buf8(r.w_size),n.arraySet(p,t,f-r.w_size,r.w_size,0),t=p,f=r.w_size),c=e.avail_in,l=e.next_in,u=e.input,e.avail_in=f,e.next_in=0,e.input=t,U(r);r.lookahead>=O;){for(a=r.strstart,s=r.lookahead-(O-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[a+O-1])&r.hash_mask,r.prev[a&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=a,a++,--s;);r.strstart=a,r.lookahead=O-1,U(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=O-1,r.match_available=0,e.next_in=l,e.input=u,e.avail_in=c,r.wrap=o,d},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(e,t){var r,a,n,s,i,o,c,l,u,d,h,p,f,m,b,g,v,y,j,w,_,O,x,M,k;r=e.state,a=e.next_in,M=e.input,n=a+(e.avail_in-5),s=e.next_out,k=e.output,i=s-(t-e.avail_out),o=s+(e.avail_out-257),c=r.dmax,l=r.wsize,u=r.whave,d=r.wnext,h=r.window,p=r.hold,f=r.bits,m=r.lencode,b=r.distcode,g=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;e:do{f<15&&(p+=M[a++]<<f,f+=8,p+=M[a++]<<f,f+=8),y=m[p&g];t:for(;;){if(p>>>=j=y>>>24,f-=j,0===(j=y>>>16&255))k[s++]=65535&y;else{if(!(16&j)){if(0==(64&j)){y=m[(65535&y)+(p&(1<<j)-1)];continue t}if(32&j){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}w=65535&y,(j&=15)&&(f<j&&(p+=M[a++]<<f,f+=8),w+=p&(1<<j)-1,p>>>=j,f-=j),f<15&&(p+=M[a++]<<f,f+=8,p+=M[a++]<<f,f+=8),y=b[p&v];r:for(;;){if(p>>>=j=y>>>24,f-=j,!(16&(j=y>>>16&255))){if(0==(64&j)){y=b[(65535&y)+(p&(1<<j)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(_=65535&y,f<(j&=15)&&(p+=M[a++]<<f,(f+=8)<j&&(p+=M[a++]<<f,f+=8)),c<(_+=p&(1<<j)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(p>>>=j,f-=j,(j=s-i)<_){if(u<(j=_-j)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(x=h,(O=0)===d){if(O+=l-j,j<w){for(w-=j;k[s++]=h[O++],--j;);O=s-_,x=k}}else if(d<j){if(O+=l+d-j,(j-=d)<w){for(w-=j;k[s++]=h[O++],--j;);if(O=0,d<w){for(w-=j=d;k[s++]=h[O++],--j;);O=s-_,x=k}}}else if(O+=d-j,j<w){for(w-=j;k[s++]=h[O++],--j;);O=s-_,x=k}for(;2<w;)k[s++]=x[O++],k[s++]=x[O++],k[s++]=x[O++],w-=3;w&&(k[s++]=x[O++],1<w&&(k[s++]=x[O++]))}else{for(O=s-_;k[s++]=k[O++],k[s++]=k[O++],k[s++]=k[O++],2<(w-=3););w&&(k[s++]=k[O++],1<w&&(k[s++]=k[O++]))}break}}break}}while(a<n&&s<o);a-=w=f>>3,p&=(1<<(f-=w<<3))-1,e.next_in=a,e.next_out=s,e.avail_in=a<n?n-a+5:5-(a-n),e.avail_out=s<o?o-s+257:257-(s-o),r.hold=p,r.bits=f}},{}],49:[function(e,t,r){"use strict";var a=e("../utils/common"),n=e("./adler32"),s=e("./crc32"),i=e("./inffast"),o=e("./inftrees"),c=1,l=2,u=0,d=-2,h=1,p=852,f=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new a.Buf32(p),t.distcode=t.distdyn=new a.Buf32(f),t.sane=1,t.back=-1,u):d}function v(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,g(e)):d}function y(e,t){var r,a;return e&&e.state?(a=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==a.window&&a.wbits!==t&&(a.window=null),a.wrap=r,a.wbits=t,v(e))):d}function j(e,t){var r,a;return e?(a=new b,(e.state=a).window=null,(r=y(e,t))!==u&&(e.state=null),r):d}var w,_,O=!0;function x(e){if(O){var t;for(w=new a.Buf32(512),_=new a.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(c,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(l,e.lens,0,32,_,0,e.work,{bits:5}),O=!1}e.lencode=w,e.lenbits=9,e.distcode=_,e.distbits=5}function M(e,t,r,n){var s,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new a.Buf8(i.wsize)),n>=i.wsize?(a.arraySet(i.window,t,r-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(n<(s=i.wsize-i.wnext)&&(s=n),a.arraySet(i.window,t,r-n,s,i.wnext),(n-=s)?(a.arraySet(i.window,t,r-n,n,0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0}r.inflateReset=v,r.inflateReset2=y,r.inflateResetKeep=g,r.inflateInit=function(e){return j(e,15)},r.inflateInit2=j,r.inflate=function(e,t){var r,p,f,b,g,v,y,j,w,_,O,k,C,E,S,N,T,D,I,A,P,L,R,F,B=0,U=new a.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(r=e.state).mode&&(r.mode=13),g=e.next_out,f=e.output,y=e.avail_out,b=e.next_in,p=e.input,v=e.avail_in,j=r.hold,w=r.bits,_=v,O=y,L=u;e:for(;;)switch(r.mode){case h:if(0===r.wrap){r.mode=13;break}for(;w<16;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}if(2&r.wrap&&35615===j){U[r.check=0]=255&j,U[1]=j>>>8&255,r.check=s(r.check,U,2,0),w=j=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&j)<<8)+(j>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&j)){e.msg="unknown compression method",r.mode=30;break}if(w-=4,P=8+(15&(j>>>=4)),0===r.wbits)r.wbits=P;else if(P>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<P,e.adler=r.check=1,r.mode=512&j?10:12,w=j=0;break;case 2:for(;w<16;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}if(r.flags=j,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=j>>8&1),512&r.flags&&(U[0]=255&j,U[1]=j>>>8&255,r.check=s(r.check,U,2,0)),w=j=0,r.mode=3;case 3:for(;w<32;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}r.head&&(r.head.time=j),512&r.flags&&(U[0]=255&j,U[1]=j>>>8&255,U[2]=j>>>16&255,U[3]=j>>>24&255,r.check=s(r.check,U,4,0)),w=j=0,r.mode=4;case 4:for(;w<16;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}r.head&&(r.head.xflags=255&j,r.head.os=j>>8),512&r.flags&&(U[0]=255&j,U[1]=j>>>8&255,r.check=s(r.check,U,2,0)),w=j=0,r.mode=5;case 5:if(1024&r.flags){for(;w<16;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}r.length=j,r.head&&(r.head.extra_len=j),512&r.flags&&(U[0]=255&j,U[1]=j>>>8&255,r.check=s(r.check,U,2,0)),w=j=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(v<(k=r.length)&&(k=v),k&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),a.arraySet(r.head.extra,p,b,k,P)),512&r.flags&&(r.check=s(r.check,p,k,b)),v-=k,b+=k,r.length-=k),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===v)break e;for(k=0;P=p[b+k++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P)),P&&k<v;);if(512&r.flags&&(r.check=s(r.check,p,k,b)),v-=k,b+=k,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===v)break e;for(k=0;P=p[b+k++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P)),P&&k<v;);if(512&r.flags&&(r.check=s(r.check,p,k,b)),v-=k,b+=k,P)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;w<16;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}if(j!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}w=j=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;w<32;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}e.adler=r.check=m(j),w=j=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=g,e.avail_out=y,e.next_in=b,e.avail_in=v,r.hold=j,r.bits=w,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){j>>>=7&w,w-=7&w,r.mode=27;break}for(;w<3;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}switch(r.last=1&j,w-=1,3&(j>>>=1)){case 0:r.mode=14;break;case 1:if(x(r),r.mode=20,6!==t)break;j>>>=2,w-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}j>>>=2,w-=2;break;case 14:for(j>>>=7&w,w-=7&w;w<32;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}if((65535&j)!=(j>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&j,w=j=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(k=r.length){if(v<k&&(k=v),y<k&&(k=y),0===k)break e;a.arraySet(f,p,b,k,g),v-=k,b+=k,y-=k,g+=k,r.length-=k;break}r.mode=12;break;case 17:for(;w<14;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}if(r.nlen=257+(31&j),j>>>=5,w-=5,r.ndist=1+(31&j),j>>>=5,w-=5,r.ncode=4+(15&j),j>>>=4,w-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;w<3;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}r.lens[z[r.have++]]=7&j,j>>>=3,w-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},L=o(0,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,L){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;N=(B=r.lencode[j&(1<<r.lenbits)-1])>>>16&255,T=65535&B,!((S=B>>>24)<=w);){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}if(T<16)j>>>=S,w-=S,r.lens[r.have++]=T;else{if(16===T){for(F=S+2;w<F;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}if(j>>>=S,w-=S,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}P=r.lens[r.have-1],k=3+(3&j),j>>>=2,w-=2}else if(17===T){for(F=S+3;w<F;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}w-=S,P=0,k=3+(7&(j>>>=S)),j>>>=3,w-=3}else{for(F=S+7;w<F;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}w-=S,P=0,k=11+(127&(j>>>=S)),j>>>=7,w-=7}if(r.have+k>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;k--;)r.lens[r.have++]=P}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,R={bits:r.lenbits},L=o(c,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,L){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},L=o(l,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,L){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=v&&258<=y){e.next_out=g,e.avail_out=y,e.next_in=b,e.avail_in=v,r.hold=j,r.bits=w,i(e,O),g=e.next_out,f=e.output,y=e.avail_out,b=e.next_in,p=e.input,v=e.avail_in,j=r.hold,w=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;N=(B=r.lencode[j&(1<<r.lenbits)-1])>>>16&255,T=65535&B,!((S=B>>>24)<=w);){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}if(N&&0==(240&N)){for(D=S,I=N,A=T;N=(B=r.lencode[A+((j&(1<<D+I)-1)>>D)])>>>16&255,T=65535&B,!(D+(S=B>>>24)<=w);){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}j>>>=D,w-=D,r.back+=D}if(j>>>=S,w-=S,r.back+=S,r.length=T,0===N){r.mode=26;break}if(32&N){r.back=-1,r.mode=12;break}if(64&N){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&N,r.mode=22;case 22:if(r.extra){for(F=r.extra;w<F;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}r.length+=j&(1<<r.extra)-1,j>>>=r.extra,w-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;N=(B=r.distcode[j&(1<<r.distbits)-1])>>>16&255,T=65535&B,!((S=B>>>24)<=w);){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}if(0==(240&N)){for(D=S,I=N,A=T;N=(B=r.distcode[A+((j&(1<<D+I)-1)>>D)])>>>16&255,T=65535&B,!(D+(S=B>>>24)<=w);){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}j>>>=D,w-=D,r.back+=D}if(j>>>=S,w-=S,r.back+=S,64&N){e.msg="invalid distance code",r.mode=30;break}r.offset=T,r.extra=15&N,r.mode=24;case 24:if(r.extra){for(F=r.extra;w<F;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}r.offset+=j&(1<<r.extra)-1,j>>>=r.extra,w-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===y)break e;if(k=O-y,r.offset>k){if((k=r.offset-k)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}C=k>r.wnext?(k-=r.wnext,r.wsize-k):r.wnext-k,k>r.length&&(k=r.length),E=r.window}else E=f,C=g-r.offset,k=r.length;for(y<k&&(k=y),y-=k,r.length-=k;f[g++]=E[C++],--k;);0===r.length&&(r.mode=21);break;case 26:if(0===y)break e;f[g++]=r.length,y--,r.mode=21;break;case 27:if(r.wrap){for(;w<32;){if(0===v)break e;v--,j|=p[b++]<<w,w+=8}if(O-=y,e.total_out+=O,r.total+=O,O&&(e.adler=r.check=r.flags?s(r.check,f,O,g-O):n(r.check,f,O,g-O)),O=y,(r.flags?j:m(j))!==r.check){e.msg="incorrect data check",r.mode=30;break}w=j=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;w<32;){if(0===v)break e;v--,j+=p[b++]<<w,w+=8}if(j!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}w=j=0}r.mode=29;case 29:L=1;break e;case 30:L=-3;break e;case 31:return-4;default:return d}return e.next_out=g,e.avail_out=y,e.next_in=b,e.avail_in=v,r.hold=j,r.bits=w,(r.wsize||O!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&M(e,e.output,e.next_out,O-e.avail_out)?(r.mode=31,-4):(_-=e.avail_in,O-=e.avail_out,e.total_in+=_,e.total_out+=O,r.total+=O,r.wrap&&O&&(e.adler=r.check=r.flags?s(r.check,f,O,e.next_out-O):n(r.check,f,O,e.next_out-O)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==_&&0===O||4===t)&&L===u&&(L=-5),L)},r.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,u},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?d:((r.head=t).done=!1,u):d},r.inflateSetDictionary=function(e,t){var r,a=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?d:11===r.mode&&n(1,t,a,0)!==r.check?-3:M(e,t,a,a)?(r.mode=31,-4):(r.havedict=1,u):d},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var a=e("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,c,l,u,d,h){var p,f,m,b,g,v,y,j,w,_=h.bits,O=0,x=0,M=0,k=0,C=0,E=0,S=0,N=0,T=0,D=0,I=null,A=0,P=new a.Buf16(16),L=new a.Buf16(16),R=null,F=0;for(O=0;O<=15;O++)P[O]=0;for(x=0;x<c;x++)P[t[r+x]]++;for(C=_,k=15;1<=k&&0===P[k];k--);if(k<C&&(C=k),0===k)return l[u++]=20971520,l[u++]=20971520,h.bits=1,0;for(M=1;M<k&&0===P[M];M++);for(C<M&&(C=M),O=N=1;O<=15;O++)if(N<<=1,(N-=P[O])<0)return-1;if(0<N&&(0===e||1!==k))return-1;for(L[1]=0,O=1;O<15;O++)L[O+1]=L[O]+P[O];for(x=0;x<c;x++)0!==t[r+x]&&(d[L[t[r+x]]++]=x);if(v=0===e?(I=R=d,19):1===e?(I=n,A-=257,R=s,F-=257,256):(I=i,R=o,-1),O=M,g=u,S=x=D=0,m=-1,b=(T=1<<(E=C))-1,1===e&&852<T||2===e&&592<T)return 1;for(;;){for(y=O-S,w=d[x]<v?(j=0,d[x]):d[x]>v?(j=R[F+d[x]],I[A+d[x]]):(j=96,0),p=1<<O-S,M=f=1<<E;l[g+(D>>S)+(f-=p)]=y<<24|j<<16|w|0,0!==f;);for(p=1<<O-1;D&p;)p>>=1;if(0!==p?(D&=p-1,D+=p):D=0,x++,0==--P[O]){if(O===k)break;O=t[r+d[x]]}if(C<O&&(D&b)!==m){for(0===S&&(S=C),g+=M,N=1<<(E=O-S);E+S<k&&!((N-=P[E+S])<=0);)E++,N<<=1;if(T+=1<<E,1===e&&852<T||2===e&&592<T)return 1;l[m=D&b]=C<<24|E<<16|g-u|0}}return 0!==D&&(l[g+D]=O-S<<24|64<<16|0),h.bits=C,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var a=e("../utils/common"),n=0,s=1;function i(e){for(var t=e.length;0<=--t;)e[t]=0}var o=0,c=29,l=256,u=l+1+c,d=30,h=19,p=2*u+1,f=15,m=16,b=7,g=256,v=16,y=17,j=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(u+2));i(M);var k=new Array(2*d);i(k);var C=new Array(512);i(C);var E=new Array(256);i(E);var S=new Array(c);i(S);var N,T,D,I=new Array(d);function A(e,t,r,a,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=a,this.max_length=n,this.has_stree=e&&e.length}function P(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function L(e){return e<256?C[e]:C[256+(e>>>7)]}function R(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function F(e,t,r){e.bi_valid>m-r?(e.bi_buf|=t<<e.bi_valid&65535,R(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=r-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function B(e,t,r){F(e,r[2*t],r[2*t+1])}function U(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function z(e,t,r){var a,n,s=new Array(f+1),i=0;for(a=1;a<=f;a++)s[a]=i=i+r[a-1]<<1;for(n=0;n<=t;n++){var o=e[2*n+1];0!==o&&(e[2*n]=U(s[o]++,o))}}function Y(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<h;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function G(e){8<e.bi_valid?R(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function q(e,t,r,a){var n=2*t,s=2*r;return e[n]<e[s]||e[n]===e[s]&&a[t]<=a[r]}function H(e,t,r){for(var a=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&q(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!q(t,a,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=a}function W(e,t,r){var a,n,s,i,o=0;if(0!==e.last_lit)for(;a=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],n=e.pending_buf[e.l_buf+o],o++,0===a?B(e,n,t):(B(e,(s=E[n])+l+1,t),0!==(i=w[s])&&F(e,n-=S[s],i),B(e,s=L(--a),r),0!==(i=_[s])&&F(e,a-=I[s],i)),o<e.last_lit;);B(e,g,t)}function V(e,t){var r,a,n,s=t.dyn_tree,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=p,r=0;r<c;r++)0!==s[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(n=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[n]=0,e.opt_len--,o&&(e.static_len-=i[2*n+1]);for(t.max_code=l,r=e.heap_len>>1;1<=r;r--)H(e,s,r);for(n=c;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],H(e,s,1),a=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=a,s[2*n]=s[2*r]+s[2*a],e.depth[n]=(e.depth[r]>=e.depth[a]?e.depth[r]:e.depth[a])+1,s[2*r+1]=s[2*a+1]=n,e.heap[1]=n++,H(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,a,n,s,i,o,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,b=t.stat_desc.max_length,g=0;for(s=0;s<=f;s++)e.bl_count[s]=0;for(c[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<p;r++)b<(s=c[2*c[2*(a=e.heap[r])+1]+1]+1)&&(s=b,g++),c[2*a+1]=s,l<a||(e.bl_count[s]++,i=0,m<=a&&(i=h[a-m]),o=c[2*a],e.opt_len+=o*(s+i),d&&(e.static_len+=o*(u[2*a+1]+i)));if(0!==g){do{for(s=b-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[b]--,g-=2}while(0<g);for(s=b;0!==s;s--)for(a=e.bl_count[s];0!==a;)l<(n=e.heap[--r])||(c[2*n+1]!==s&&(e.opt_len+=(s-c[2*n+1])*c[2*n],c[2*n+1]=s),a--)}}(e,t),z(s,l,e.bl_count)}function K(e,t,r){var a,n,s=-1,i=t[1],o=0,c=7,l=4;for(0===i&&(c=138,l=3),t[2*(r+1)+1]=65535,a=0;a<=r;a++)n=i,i=t[2*(a+1)+1],++o<c&&n===i||(o<l?e.bl_tree[2*n]+=o:0!==n?(n!==s&&e.bl_tree[2*n]++,e.bl_tree[2*v]++):o<=10?e.bl_tree[2*y]++:e.bl_tree[2*j]++,s=n,l=(o=0)===i?(c=138,3):n===i?(c=6,3):(c=7,4))}function Z(e,t,r){var a,n,s=-1,i=t[1],o=0,c=7,l=4;for(0===i&&(c=138,l=3),a=0;a<=r;a++)if(n=i,i=t[2*(a+1)+1],!(++o<c&&n===i)){if(o<l)for(;B(e,n,e.bl_tree),0!=--o;);else 0!==n?(n!==s&&(B(e,n,e.bl_tree),o--),B(e,v,e.bl_tree),F(e,o-3,2)):o<=10?(B(e,y,e.bl_tree),F(e,o-3,3)):(B(e,j,e.bl_tree),F(e,o-11,7));s=n,l=(o=0)===i?(c=138,3):n===i?(c=6,3):(c=7,4)}}i(I);var Q=!1;function J(e,t,r,n){F(e,(o<<1)+(n?1:0),3),function(e,t,r,n){G(e),n&&(R(e,r),R(e,~r)),a.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}r._tr_init=function(e){Q||(function(){var e,t,r,a,n,s=new Array(f+1);for(a=r=0;a<c-1;a++)for(S[a]=r,e=0;e<1<<w[a];e++)E[r++]=a;for(E[r-1]=a,a=n=0;a<16;a++)for(I[a]=n,e=0;e<1<<_[a];e++)C[n++]=a;for(n>>=7;a<d;a++)for(I[a]=n<<7,e=0;e<1<<_[a]-7;e++)C[256+n++]=a;for(t=0;t<=f;t++)s[t]=0;for(e=0;e<=143;)M[2*e+1]=8,e++,s[8]++;for(;e<=255;)M[2*e+1]=9,e++,s[9]++;for(;e<=279;)M[2*e+1]=7,e++,s[7]++;for(;e<=287;)M[2*e+1]=8,e++,s[8]++;for(z(M,u+1,s),e=0;e<d;e++)k[2*e+1]=5,k[2*e]=U(e,5);N=new A(M,w,l+1,u,f),T=new A(k,_,0,d,f),D=new A(new Array(0),O,0,h,b)}(),Q=!0),e.l_desc=new P(e.dyn_ltree,N),e.d_desc=new P(e.dyn_dtree,T),e.bl_desc=new P(e.bl_tree,D),e.bi_buf=0,e.bi_valid=0,Y(e)},r._tr_stored_block=J,r._tr_flush_block=function(e,t,r,a){var i,o,c=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return n;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<l;t++)if(0!==e.dyn_ltree[2*t])return s;return n}(e)),V(e,e.l_desc),V(e,e.d_desc),c=function(e){var t;for(K(e,e.dyn_ltree,e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),V(e,e.bl_desc),t=h-1;3<=t&&0===e.bl_tree[2*x[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?J(e,t,r,a):4===e.strategy||o===i?(F(e,2+(a?1:0),3),W(e,M,k)):(F(e,4+(a?1:0),3),function(e,t,r,a){var n;for(F(e,t-257,5),F(e,r-1,5),F(e,a-4,4),n=0;n<a;n++)F(e,e.bl_tree[2*x[n]+1],3);Z(e,e.dyn_ltree,t-1),Z(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),W(e,e.dyn_ltree,e.dyn_dtree)),Y(e),a&&G(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(E[r]+l+1)]++,e.dyn_dtree[2*L(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){F(e,2,3),B(e,g,M),function(e){16===e.bi_valid?(R(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var r,a,s,i,o=1,c={},l=!1,u=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,r="[object process]"==={}.toString.call(e.process)?function(e){n.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(i="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(i+t,"*")}):e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){p(e.data)},function(e){s.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(a=u.documentElement,function(e){var t=u.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):function(e){setTimeout(p,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var n={callback:e,args:t};return c[o]=n,r(o),o++},d.clearImmediate=h}function h(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var r=c[e];if(r){l=!0;try{!function(e){var r=e.callback,a=e.args;switch(a.length){case 0:r();break;case 1:r(a[0]);break;case 2:r(a[0],a[1]);break;case 3:r(a[0],a[1],a[2]);break;default:r.apply(t,a)}}(r)}finally{h(e),l=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&p(+t.data.slice(i.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof a?a:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}).call(this,r(248).Buffer,r(2079).setImmediate,r(93),r(251))},2079:function(e,t,r){(function(e){var a="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,n=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(n.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new s(n.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(2080),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(93))},2080:function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var a,n=1,s={},i=!1,o=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?a=function(e){t.nextTick((function(){u(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"===typeof r.data&&0===r.data.indexOf(t)&&u(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),a=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},a=function(t){e.port2.postMessage(t)}}():o&&"onreadystatechange"in o.createElement("script")?function(){var e=o.documentElement;a=function(t){var r=o.createElement("script");r.onreadystatechange=function(){u(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():a=function(e){setTimeout(u,0,e)},c.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return s[n]=i,a(n),n++},c.clearImmediate=l}function l(e){delete s[e]}function u(e){if(i)setTimeout(u,0,e);else{var t=s[e];if(t){i=!0;try{!function(e){var t=e.callback,a=e.args;switch(a.length){case 0:t();break;case 1:t(a[0]);break;case 2:t(a[0],a[1]);break;case 3:t(a[0],a[1],a[2]);break;default:t.apply(r,a)}}(t)}finally{l(e),i=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,r(93),r(251))},2081:function(e,t,r){"use strict";(function(t){const a=r(2082),n=r(1992),s=r(248).Buffer;e.exports=async function(e,r){if(!t.fetch)return a(e,r);const i=n(e,r),o="prj"===r||"cpg"===r;try{const e=await fetch(i);if(e.status>399)throw new Error(e.statusText);if(o)return e.text();const t=await e.arrayBuffer();return s.from(t)}catch(c){if(console.log("ERROR",c,r),o||"dbf"===r)return!1;throw c}}}).call(this,r(93))},2082:function(e,t,r){"use strict";const a=r(1991),n=r(1992),s=r(248).Buffer;e.exports=function(e,t){return new a((function(r,a){const i=n(e,t),o=new XMLHttpRequest;o.open("GET",i,!0),"prj"!==t&&"cpg"!==t&&(o.responseType="arraybuffer"),o.addEventListener("load",(function(){return o.status>399?"prj"===t||"cpg"===t?r(!1):a(new Error(o.status)):r("prj"!==t&&"cpg"!==t?s.from(o.response):o.response)}),!1),o.send()}))}},2083:function(e,t,r){"use strict";(function(t){var r,a,n=t.MutationObserver||t.WebKitMutationObserver;if(n){var s=0,i=new n(u),o=t.document.createTextNode("");i.observe(o,{characterData:!0}),r=function(){o.data=s=++s%2}}else if(t.setImmediate||"undefined"===typeof t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var c=new t.MessageChannel;c.port1.onmessage=u,r=function(){c.port2.postMessage(0)}}var l=[];function u(){var e,t;a=!0;for(var r=l.length;r;){for(t=l,l=[],e=-1;++e<r;)t[e]();r=l.length}a=!1}e.exports=function(e){1!==l.push(e)||a||r()}}).call(this,r(93))},2084:function(e,t,r){"use strict";function a(e,t){return!function(e){let t=0,r=1;const a=e.length;let n,s;for(;r<a;)n=s||e[0],s=e[r],t+=(s[0]-n[0])*(s[1]+n[1]),r++;return t>0}(t)&&e.length?e[e.length-1].push(t):e.push([t]),e}s.prototype.parsePoint=function(e){return{type:"Point",coordinates:this.parseCoord(e,0)}},s.prototype.parseZPoint=function(e){const t=this.parsePoint(e);return t.coordinates.push(e.readDoubleLE(16)),t},s.prototype.parsePointArray=function(e,t,r){const a=[];let n=0;for(;n<r;)a.push(this.parseCoord(e,t)),t+=16,n++;return a},s.prototype.parseZPointArray=function(e,t,r,a){let n=0;for(;n<r;)a[n].push(e.readDoubleLE(t)),n++,t+=8;return a},s.prototype.parseArrayGroup=function(e,t,r,a,n){const s=[];let i,o,c=0,l=0;for(;c<a;)c++,r+=4,i=l,l=c===a?n:e.readInt32LE(r),o=l-i,o&&(s.push(this.parsePointArray(e,t,o)),t+=o<<4);return s},s.prototype.parseZArrayGroup=function(e,t,r,a){let n=0;for(;n<r;)a[n]=this.parseZPointArray(e,t,a[n].length,a[n]),t+=a[n].length<<3,n++;return a},s.prototype.parseMultiPoint=function(e){const t={},r=e.readInt32LE(32,!0);if(!r)return null;const a=this.parseCoord(e,0),n=this.parseCoord(e,16);t.bbox=[a[0],a[1],n[0],n[1]];return 1===r?(t.type="Point",t.coordinates=this.parseCoord(e,36)):(t.type="MultiPoint",t.coordinates=this.parsePointArray(e,36,r)),t},s.prototype.parseZMultiPoint=function(e){const t=this.parseMultiPoint(e);if(!t)return null;let r;if("Point"===t.type)return t.coordinates.push(e.readDoubleLE(72)),t;r=t.coordinates.length;const a=52+(r<<4);return t.coordinates=this.parseZPointArray(e,a,r,t.coordinates),t},s.prototype.parsePolyline=function(e){const t={},r=e.readInt32LE(32);if(!r)return null;const a=this.parseCoord(e,0),n=this.parseCoord(e,16);t.bbox=[a[0],a[1],n[0],n[1]];const s=e.readInt32LE(36);let i,o;return 1===r?(t.type="LineString",i=44,t.coordinates=this.parsePointArray(e,i,s)):(t.type="MultiLineString",i=40+(r<<2),o=40,t.coordinates=this.parseArrayGroup(e,i,40,r,s)),t},s.prototype.parseZPolyline=function(e){const t=this.parsePolyline(e);if(!t)return null;const r=t.coordinates.length;let a;if("LineString"===t.type)return a=60+(r<<4),t.coordinates=this.parseZPointArray(e,a,r,t.coordinates),t;return a=56+(t.coordinates.reduce((function(e,t){return e+t.length}),0)<<4)+(r<<2),t.coordinates=this.parseZArrayGroup(e,a,r,t.coordinates),t},s.prototype.polyFuncs=function(e){return e?"LineString"===e.type?(e.type="Polygon",e.coordinates=[e.coordinates],e):(e.coordinates=e.coordinates.reduce(a,[]),1===e.coordinates.length?(e.type="Polygon",e.coordinates=e.coordinates[0],e):(e.type="MultiPolygon",e)):e},s.prototype.parsePolygon=function(e){return this.polyFuncs(this.parsePolyline(e))},s.prototype.parseZPolygon=function(e){return this.polyFuncs(this.parseZPolyline(e))};const n={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};function s(e,t){if(!(this instanceof s))return new s(e,t);this.buffer=e,this.headers=this.parseHeader(),this.headers.length<this.buffer.byteLength&&(this.buffer=this.buffer.slice(0,this.headers.length)),this.shpFuncs(t),this.rows=this.getRows()}s.prototype.shpFuncs=function(e){let t=this.headers.shpCode;if(t>20&&(t-=20),!(t in n))throw new Error("I don't know that shp type");var r;this.parseFunc=this[n[t]],this.parseCoord=(r=e)?function(e,t){const a=[e.readDoubleLE(t),e.readDoubleLE(t+8)];return r.inverse(a)}:function(e,t){return[e.readDoubleLE(t),e.readDoubleLE(t+8)]}},s.prototype.getShpCode=function(){return this.parseHeader().shpCode},s.prototype.parseHeader=function(){const e=this.buffer.slice(0,100);return{length:e.readInt32BE(24)<<1,version:e.readInt32LE(28),shpCode:e.readInt32LE(32),bbox:[e.readDoubleLE(36),e.readDoubleLE(44),e.readDoubleLE(52),e.readDoubleLE(52)]}},s.prototype.getRows=function(){let e=100;const t=this.buffer.byteLength,r=[];let a;for(;e<t&&(a=this.getRow(e),a);)e+=8,e+=a.len,a.type?r.push(this.parseFunc(a.data)):r.push(null);return r},s.prototype.getRow=function(e){const t=this.buffer.slice(e,e+12),r=t.readInt32BE(4)<<1,a=t.readInt32BE(0);return 0===r?{id:a,len:r,type:0}:{id:a,len:r,data:this.buffer.slice(e+12,e+r+8),type:t.readInt32LE(8)}},e.exports=function(e,t){return new s(e,t).rows}},2085:function(e,t,r){var a=r(2086);function n(e,t,r,a,n){var s=n(e.slice(t,t+r));switch(a){case"N":case"F":case"O":return parseFloat(s,10);case"D":return new Date(s.slice(0,4),parseInt(s.slice(4,6),10)-1,s.slice(6,8));case"L":return"y"===s.toLowerCase()||"t"===s.toLowerCase();default:return s}}function s(e,t,r,a){for(var s,i,o={},c=0,l=r.length;c<l;)s=n(e,t,(i=r[c]).len,i.dataType,a),t+=i.len,"undefined"!==typeof s&&(o[i.name]=s),c++;return o}e.exports=function(e,t){for(var r=a(t),n=function(e){var t={};return t.lastUpdated=new Date(e.readUInt8(1)+1900,e.readUInt8(2),e.readUInt8(3)),t.records=e.readUInt32LE(4),t.headerLen=e.readUInt16LE(8),t.recLen=e.readUInt16LE(10),t}(e),i=function(e,t,r){for(var a=[],n=32;n<t&&(a.push({name:r(e.slice(n,n+11)),dataType:String.fromCharCode(e.readUInt8(n+11)),len:e.readUInt8(n+16),decimal:e.readUInt8(n+17)}),13!==e.readUInt8(n+32));)n+=32;return a}(e,n.headerLen-1,r),o=2+(i.length+1<<5),c=n.recLen,l=n.records,u=[];l;)u.push(s(e,o,i,r)),o+=c,l--;return u}},2086:function(e,t,r){r(2087);var a=r(2090).StringDecoder;function n(e){var t=new a;return(t.write(e)+t.end()).replace(/\0/g,"").trim()}e.exports=function e(t,r){if(!t)return n;try{new TextDecoder(t.trim())}catch(i){var a=s.exec(t);return a&&!r?e("windows-"+a[1],!0):n}return function(e){var r=new TextDecoder(t);return(r.decode(e,{stream:!0})+r.decode()).replace(/\0/g,"").trim()}};var s=/^(?:ANSI\s)?(\d+)$/m},2087:function(e,t,r){e.exports=r(2088)},2088:function(e,t,r){!function(t){"use strict";function a(e,t,r){return t<=e&&e<=r}e.exports&&!t["encoding-indexes"]&&r(2089);var n=Math.floor;function s(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function i(e){return 0<=e&&e<=127}var o=i,c=-1;function l(e){this.tokens=[].slice.call(e),this.tokens.reverse()}l.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():c},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.pop());else this.tokens.push(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.shift());else this.tokens.unshift(e)}};var u=-1;function d(e,t){if(e)throw TypeError("Decoder error");return t||65533}function h(e){throw TypeError("The code point "+e+" could not be encoded.")}function p(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(m,e)?m[e]:null}var f=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],m={};f.forEach((function(e){e.encodings.forEach((function(e){e.labels.forEach((function(t){m[t]=e}))}))}));var b,g,v={},y={};function j(e,t){return t&&t[e]||null}function w(e,t){var r=t.indexOf(e);return-1===r?null:r}function _(e){if(!("encoding-indexes"in t))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return t["encoding-indexes"][e]}var O="utf-8";function x(e,t){if(!(this instanceof x))throw TypeError("Called as a function. Did you forget 'new'?");e=void 0!==e?String(e):O,t=s(t),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var r=p(e);if(null===r||"replacement"===r.name)throw RangeError("Unknown encoding: "+e);if(!y[r.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");var a=this;return a._encoding=r,Boolean(t.fatal)&&(a._error_mode="fatal"),Boolean(t.ignoreBOM)&&(a._ignoreBOM=!0),Object.defineProperty||(this.encoding=a._encoding.name.toLowerCase(),this.fatal="fatal"===a._error_mode,this.ignoreBOM=a._ignoreBOM),a}function M(e,r){if(!(this instanceof M))throw TypeError("Called as a function. Did you forget 'new'?");r=s(r),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(r.fatal)?"fatal":"replacement";var a=this;if(Boolean(r.NONSTANDARD_allowLegacyEncoding)){var n=p(e=void 0!==e?String(e):O);if(null===n||"replacement"===n.name)throw RangeError("Unknown encoding: "+e);if(!v[n.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");a._encoding=n}else a._encoding=p("utf-8"),void 0!==e&&"console"in t&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=a._encoding.name.toLowerCase()),a}function k(e){var t=e.fatal,r=0,n=0,s=0,i=128,o=191;this.handler=function(e,l){if(l===c&&0!==s)return s=0,d(t);if(l===c)return u;if(0===s){if(a(l,0,127))return l;if(a(l,194,223))s=1,r=31&l;else if(a(l,224,239))224===l&&(i=160),237===l&&(o=159),s=2,r=15&l;else{if(!a(l,240,244))return d(t);240===l&&(i=144),244===l&&(o=143),s=3,r=7&l}return null}if(!a(l,i,o))return r=s=n=0,i=128,o=191,e.prepend(l),d(t);if(i=128,o=191,r=r<<6|63&l,(n+=1)!==s)return null;var h=r;return r=s=n=0,h}}function C(e){e.fatal;this.handler=function(e,t){if(t===c)return u;if(o(t))return t;var r,n;a(t,128,2047)?(r=1,n=192):a(t,2048,65535)?(r=2,n=224):a(t,65536,1114111)&&(r=3,n=240);for(var s=[(t>>6*r)+n];r>0;){var i=t>>6*(r-1);s.push(128|63&i),r-=1}return s}}function E(e,t){var r=t.fatal;this.handler=function(t,a){if(a===c)return u;if(i(a))return a;var n=e[a-128];return null===n?d(r):n}}function S(e,t){t.fatal;this.handler=function(t,r){if(r===c)return u;if(o(r))return r;var a=w(r,e);return null===a&&h(r),a+128}}function N(e){var t=e.fatal,r=0,n=0,s=0;this.handler=function(e,o){if(o===c&&0===r&&0===n&&0===s)return u;var l;if(o!==c||0===r&&0===n&&0===s||(r=0,n=0,s=0,d(t)),0!==s){l=null,a(o,48,57)&&(l=function(e){if(e>39419&&e<189e3||e>1237575)return null;if(7457===e)return 59335;var t,r=0,a=0,n=_("gb18030-ranges");for(t=0;t<n.length;++t){var s=n[t];if(!(s[0]<=e))break;r=s[0],a=s[1]}return a+e-r}(10*(126*(10*(r-129)+n-48)+s-129)+o-48));var h=[n,s,o];return r=0,n=0,s=0,null===l?(e.prepend(h),d(t)):l}if(0!==n)return a(o,129,254)?(s=o,null):(e.prepend([n,o]),r=0,n=0,d(t));if(0!==r){if(a(o,48,57))return n=o,null;var p=r,f=null;r=0;var m=o<127?64:65;return(a(o,64,126)||a(o,128,254))&&(f=190*(p-129)+(o-m)),null===(l=null===f?null:j(f,_("gb18030")))&&i(o)&&e.prepend(o),null===l?d(t):l}return i(o)?o:128===o?8364:a(o,129,254)?(r=o,null):d(t)}}function T(e,t){e.fatal;this.handler=function(e,r){if(r===c)return u;if(o(r))return r;if(58853===r)return h(r);if(t&&8364===r)return 128;var a=w(r,_("gb18030"));if(null!==a){var s=a%190;return[n(a/190)+129,s+(s<63?64:65)]}if(t)return h(r);a=function(e){if(59335===e)return 7457;var t,r=0,a=0,n=_("gb18030-ranges");for(t=0;t<n.length;++t){var s=n[t];if(!(s[1]<=e))break;r=s[1],a=s[0]}return a+e-r}(r);var i=n(a/10/126/10),l=n((a-=10*i*126*10)/10/126),d=n((a-=10*l*126)/10);return[i+129,l+48,d+129,a-10*d+48]}}function D(e){var t=e.fatal,r=0;this.handler=function(e,n){if(n===c&&0!==r)return r=0,d(t);if(n===c&&0===r)return u;if(0!==r){var s=r,o=null;r=0;var l=n<127?64:98;switch((a(n,64,126)||a(n,161,254))&&(o=157*(s-129)+(n-l)),o){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var h=null===o?null:j(o,_("big5"));return null===h&&i(n)&&e.prepend(n),null===h?d(t):h}return i(n)?n:a(n,129,254)?(r=n,null):d(t)}}function I(e){e.fatal;this.handler=function(e,t){if(t===c)return u;if(o(t))return t;var r=function(e){g=g||_("big5").map((function(e,t){return t<5024?null:e}));var t=g;return 9552===e||9566===e||9569===e||9578===e||21313===e||21317===e?t.lastIndexOf(e):w(e,t)}(t);if(null===r)return h(t);var a=n(r/157)+129;if(a<161)return h(t);var s=r%157;return[a,s+(s<63?64:98)]}}function A(e){var t=e.fatal,r=!1,n=0;this.handler=function(e,s){if(s===c&&0!==n)return n=0,d(t);if(s===c&&0===n)return u;if(142===n&&a(s,161,223))return n=0,65216+s;if(143===n&&a(s,161,254))return r=!0,n=s,null;if(0!==n){var o=n;n=0;var l=null;return a(o,161,254)&&a(s,161,254)&&(l=j(94*(o-161)+(s-161),_(r?"jis0212":"jis0208"))),r=!1,a(s,161,254)||e.prepend(s),null===l?d(t):l}return i(s)?s:142===s||143===s||a(s,161,254)?(n=s,null):d(t)}}function P(e){e.fatal;this.handler=function(e,t){if(t===c)return u;if(o(t))return t;if(165===t)return 92;if(8254===t)return 126;if(a(t,65377,65439))return[142,t-65377+161];8722===t&&(t=65293);var r=w(t,_("jis0208"));return null===r?h(t):[n(r/94)+161,r%94+161]}}function L(e){var t=e.fatal,r=0,n=1,s=2,i=3,o=4,l=5,h=6,p=r,f=r,m=0,b=!1;this.handler=function(e,g){switch(p){default:case r:return 27===g?(p=l,null):a(g,0,127)&&14!==g&&15!==g&&27!==g?(b=!1,g):g===c?u:(b=!1,d(t));case n:return 27===g?(p=l,null):92===g?(b=!1,165):126===g?(b=!1,8254):a(g,0,127)&&14!==g&&15!==g&&27!==g&&92!==g&&126!==g?(b=!1,g):g===c?u:(b=!1,d(t));case s:return 27===g?(p=l,null):a(g,33,95)?(b=!1,65344+g):g===c?u:(b=!1,d(t));case i:return 27===g?(p=l,null):a(g,33,126)?(b=!1,m=g,p=o,null):g===c?u:(b=!1,d(t));case o:if(27===g)return p=l,d(t);if(a(g,33,126)){p=i;var v=j(94*(m-33)+g-33,_("jis0208"));return null===v?d(t):v}return g===c?(p=i,e.prepend(g),d(t)):(p=i,d(t));case l:return 36===g||40===g?(m=g,p=h,null):(e.prepend(g),b=!1,p=f,d(t));case h:var y=m;m=0;var w=null;if(40===y&&66===g&&(w=r),40===y&&74===g&&(w=n),40===y&&73===g&&(w=s),36!==y||64!==g&&66!==g||(w=i),null!==w){p=p=w;var O=b;return b=!0,O?d(t):null}return e.prepend([y,g]),b=!1,p=f,d(t)}}}function R(e){e.fatal;var t=0,r=1,a=2,s=t;this.handler=function(e,i){if(i===c&&s!==t)return e.prepend(i),s=t,[27,40,66];if(i===c&&s===t)return u;if((s===t||s===r)&&(14===i||15===i||27===i))return h(65533);if(s===t&&o(i))return i;if(s===r&&(o(i)&&92!==i&&126!==i||165==i||8254==i)){if(o(i))return i;if(165===i)return 92;if(8254===i)return 126}if(o(i)&&s!==t)return e.prepend(i),s=t,[27,40,66];if((165===i||8254===i)&&s!==r)return e.prepend(i),s=r,[27,40,74];8722===i&&(i=65293);var l=w(i,_("jis0208"));return null===l?h(i):s!==a?(e.prepend(i),s=a,[27,36,66]):[n(l/94)+33,l%94+33]}}function F(e){var t=e.fatal,r=0;this.handler=function(e,n){if(n===c&&0!==r)return r=0,d(t);if(n===c&&0===r)return u;if(0!==r){var s=r,o=null;r=0;var l=n<127?64:65,h=s<160?129:193;if((a(n,64,126)||a(n,128,252))&&(o=188*(s-h)+n-l),a(o,8836,10715))return 48508+o;var p=null===o?null:j(o,_("jis0208"));return null===p&&i(n)&&e.prepend(n),null===p?d(t):p}return i(n)||128===n?n:a(n,161,223)?65216+n:a(n,129,159)||a(n,224,252)?(r=n,null):d(t)}}function B(e){e.fatal;this.handler=function(e,t){if(t===c)return u;if(o(t)||128===t)return t;if(165===t)return 92;if(8254===t)return 126;if(a(t,65377,65439))return t-65377+161;8722===t&&(t=65293);var r=function(e){return b=b||_("jis0208").map((function(e,t){return a(t,8272,8835)?null:e})),b.indexOf(e)}(t);if(null===r)return h(t);var s=n(r/188),i=r%188;return[s+(s<31?129:193),i+(i<63?64:65)]}}function U(e){var t=e.fatal,r=0;this.handler=function(e,n){if(n===c&&0!==r)return r=0,d(t);if(n===c&&0===r)return u;if(0!==r){var s=r,o=null;r=0,a(n,65,254)&&(o=190*(s-129)+(n-65));var l=null===o?null:j(o,_("euc-kr"));return null===o&&i(n)&&e.prepend(n),null===l?d(t):l}return i(n)?n:a(n,129,254)?(r=n,null):d(t)}}function z(e){e.fatal;this.handler=function(e,t){if(t===c)return u;if(o(t))return t;var r=w(t,_("euc-kr"));return null===r?h(t):[n(r/190)+129,r%190+65]}}function Y(e,t){var r=e>>8,a=255&e;return t?[r,a]:[a,r]}function G(e,t){var r=t.fatal,n=null,s=null;this.handler=function(t,i){if(i===c&&(null!==n||null!==s))return d(r);if(i===c&&null===n&&null===s)return u;if(null===n)return n=i,null;var o;if(o=e?(n<<8)+i:(i<<8)+n,n=null,null!==s){var l=s;return s=null,a(o,56320,57343)?65536+1024*(l-55296)+(o-56320):(t.prepend(Y(o,e)),d(r))}return a(o,55296,56319)?(s=o,null):a(o,56320,57343)?d(r):o}}function q(e,t){t.fatal;this.handler=function(t,r){if(r===c)return u;if(a(r,0,65535))return Y(r,e);var n=Y(55296+(r-65536>>10),e),s=Y(56320+(r-65536&1023),e);return n.concat(s)}}function H(e){e.fatal;this.handler=function(e,t){return t===c?u:i(t)?t:63360+t-128}}function W(e){e.fatal;this.handler=function(e,t){return t===c?u:o(t)?t:a(t,63360,63487)?t-63360+128:h(t)}}Object.defineProperty&&(Object.defineProperty(x.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(x.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(x.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),x.prototype.decode=function(e,t){var r;r="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=s(t),this._do_not_flush||(this._decoder=y[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(t.stream);for(var a,n=new l(r),i=[];;){var o=n.read();if(o===c)break;if((a=this._decoder.handler(n,o))===u)break;null!==a&&(Array.isArray(a)?i.push.apply(i,a):i.push(a))}if(!this._do_not_flush){do{if((a=this._decoder.handler(n,n.read()))===u)break;null!==a&&(Array.isArray(a)?i.push.apply(i,a):i.push(a))}while(!n.endOfStream());this._decoder=null}return function(e){var t,r;return t=["UTF-8","UTF-16LE","UTF-16BE"],r=this._encoding.name,-1===t.indexOf(r)||this._ignoreBOM||this._BOMseen||(e.length>0&&65279===e[0]?(this._BOMseen=!0,e.shift()):e.length>0&&(this._BOMseen=!0)),function(e){for(var t="",r=0;r<e.length;++r){var a=e[r];a<=65535?t+=String.fromCharCode(a):(a-=65536,t+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return t}(e)}.call(this,i)},Object.defineProperty&&Object.defineProperty(M.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),M.prototype.encode=function(e,t){e=void 0===e?"":String(e),t=s(t),this._do_not_flush||(this._encoder=v[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(t.stream);for(var r,a=new l(function(e){for(var t=String(e),r=t.length,a=0,n=[];a<r;){var s=t.charCodeAt(a);if(s<55296||s>57343)n.push(s);else if(56320<=s&&s<=57343)n.push(65533);else if(55296<=s&&s<=56319)if(a===r-1)n.push(65533);else{var i=t.charCodeAt(a+1);if(56320<=i&&i<=57343){var o=1023&s,c=1023&i;n.push(65536+(o<<10)+c),a+=1}else n.push(65533)}a+=1}return n}(e)),n=[];;){var i=a.read();if(i===c)break;if((r=this._encoder.handler(a,i))===u)break;Array.isArray(r)?n.push.apply(n,r):n.push(r)}if(!this._do_not_flush){for(;(r=this._encoder.handler(a,a.read()))!==u;)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)},v["UTF-8"]=function(e){return new C(e)},y["UTF-8"]=function(e){return new k(e)},"encoding-indexes"in t&&f.forEach((function(e){"Legacy single-byte encodings"===e.heading&&e.encodings.forEach((function(e){var t=e.name,r=_(t.toLowerCase());y[t]=function(e){return new E(r,e)},v[t]=function(e){return new S(r,e)}}))})),y.GBK=function(e){return new N(e)},v.GBK=function(e){return new T(e,!0)},v.gb18030=function(e){return new T(e)},y.gb18030=function(e){return new N(e)},v.Big5=function(e){return new I(e)},y.Big5=function(e){return new D(e)},v["EUC-JP"]=function(e){return new P(e)},y["EUC-JP"]=function(e){return new A(e)},v["ISO-2022-JP"]=function(e){return new R(e)},y["ISO-2022-JP"]=function(e){return new L(e)},v.Shift_JIS=function(e){return new B(e)},y.Shift_JIS=function(e){return new F(e)},v["EUC-KR"]=function(e){return new z(e)},y["EUC-KR"]=function(e){return new U(e)},v["UTF-16BE"]=function(e){return new q(!0,e)},y["UTF-16BE"]=function(e){return new G(!0,e)},v["UTF-16LE"]=function(e){return new q(!1,e)},y["UTF-16LE"]=function(e){return new G(!1,e)},v["x-user-defined"]=function(e){return new W(e)},y["x-user-defined"]=function(e){return new H(e)},t.TextEncoder||(t.TextEncoder=M),t.TextDecoder||(t.TextDecoder=x),e.exports&&(e.exports={TextEncoder:t.TextEncoder,TextDecoder:t.TextDecoder,EncodingIndexes:t["encoding-indexes"]})}(this||{})},2089:function(e,t){},2090:function(e,t,r){"use strict";var a=r(2091).Buffer,n=a.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(a.isEncoding===n||!n(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(t)}function i(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var a=r.charCodeAt(r.length-1);if(a>=55296&&a<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},s.prototype.text=function(e,t){var r=function(e,t,r){var a=t.length-1;if(a<r)return 0;var n=i(t[a]);if(n>=0)return n>0&&(e.lastNeed=n-1),n;if(--a<r||-2===n)return 0;if(n=i(t[a]),n>=0)return n>0&&(e.lastNeed=n-2),n;if(--a<r||-2===n)return 0;if(n=i(t[a]),n>=0)return n>0&&(2===n?n=0:e.lastNeed=n-3),n;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var a=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,a),e.toString("utf8",t,a)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},2091:function(e,t,r){var a=r(248),n=a.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function i(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=a:(s(a,t),t.Buffer=i),i.prototype=Object.create(n.prototype),s(n,i),i.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},i.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var a=n(e);return void 0!==t?"string"===typeof r?a.fill(t,r):a.fill(t):a.fill(0),a},i.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n(e)},i.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return a.SlowBuffer(e)}},2092:function(e,t,r){!function(){function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(){return 1}e.exports?e.exports=s:this.LRUCache=s;var a=!1;function n(e){a||"string"===typeof e||"number"===typeof e||(a=!0,console.error(new TypeError("LRU: key must be a string or number. Almost certainly a bug! "+typeof e).stack))}function s(e){if(!(this instanceof s))return new s(e);"number"===typeof e&&(e={max:e}),e||(e={}),this._max=e.max,(!this._max||"number"!==typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=e.length||r,"function"!==typeof this._lengthCalculator&&(this._lengthCalculator=r),this._allowStale=e.stale||!1,this._maxAge=e.maxAge||null,this._dispose=e.dispose,this.reset()}function i(e,t,r){n(t);var a=e._cache[t];return a&&(o(e,a)?(u(e,a),e._allowStale||(a=void 0)):r&&function(e,t){l(e,t),t.lu=e._mru++,e._lruList[t.lu]=t}(e,a),a&&(a=a.value)),a}function o(e,t){if(!t||!t.maxAge&&!e._maxAge)return!1;var r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e._maxAge&&r>e._maxAge}function c(e){for(;e._lru<e._mru&&e._length>e._max;)u(e,e._lruList[e._lru])}function l(e,t){for(delete e._lruList[t.lu];e._lru<e._mru&&!e._lruList[e._lru];)e._lru++}function u(e,t){t&&(e._dispose&&e._dispose(t.key,t.value),e._length-=t.length,e._itemCount--,delete e._cache[t.key],l(e,t))}function d(e,t,r,a,n,s){this.key=e,this.value=t,this.lu=r,this.length=a,this.now=n,s&&(this.maxAge=s)}Object.defineProperty(s.prototype,"max",{set:function(e){(!e||"number"!==typeof e||e<=0)&&(e=1/0),this._max=e,this._length>this._max&&c(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(s.prototype,"lengthCalculator",{set:function(e){if("function"!==typeof e)for(var t in this._lengthCalculator=r,this._length=this._itemCount,this._cache)this._cache[t].length=1;else for(var t in this._lengthCalculator=e,this._length=0,this._cache)this._cache[t].length=this._lengthCalculator(this._cache[t].value),this._length+=this._cache[t].length;this._length>this._max&&c(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(s.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(s.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),s.prototype.forEach=function(e,t){t=t||this;for(var r=0,a=this._itemCount,n=this._mru-1;n>=0&&r<a;n--)if(this._lruList[n]){r++;var s=this._lruList[n];o(this,s)&&(u(this,s),this._allowStale||(s=void 0)),s&&e.call(t,s.value,s.key,this)}},s.prototype.keys=function(){for(var e=new Array(this._itemCount),t=0,r=this._mru-1;r>=0&&t<this._itemCount;r--)if(this._lruList[r]){var a=this._lruList[r];e[t++]=a.key}return e},s.prototype.values=function(){for(var e=new Array(this._itemCount),t=0,r=this._mru-1;r>=0&&t<this._itemCount;r--)if(this._lruList[r]){var a=this._lruList[r];e[t++]=a.value}return e},s.prototype.reset=function(){if(this._dispose&&this._cache)for(var e in this._cache)this._dispose(e,this._cache[e].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},s.prototype.dump=function(){for(var e=[],t=0,r=this._mru-1;r>=0&&t<this._itemCount;r--)if(this._lruList[r]){var a=this._lruList[r];o(this,a)||(++t,e.push({k:a.key,v:a.value,e:a.now+(a.maxAge||0)}))}return e},s.prototype.dumpLru=function(){return this._lruList},s.prototype.set=function(e,r,a){a=a||this._maxAge,n(e);var s=a?Date.now():0,i=this._lengthCalculator(r);if(t(this._cache,e))return i>this._max?(u(this,this._cache[e]),!1):(this._dispose&&this._dispose(e,this._cache[e].value),this._cache[e].now=s,this._cache[e].maxAge=a,this._cache[e].value=r,this._length+=i-this._cache[e].length,this._cache[e].length=i,this.get(e),this._length>this._max&&c(this),!0);var o=new d(e,r,this._mru++,i,s,a);return o.length>this._max?(this._dispose&&this._dispose(e,r),!1):(this._length+=o.length,this._lruList[o.lu]=this._cache[e]=o,this._itemCount++,this._length>this._max&&c(this),!0)},s.prototype.has=function(e){return n(e),!!t(this._cache,e)&&!o(this,this._cache[e])},s.prototype.get=function(e){return n(e),i(this,e,!0)},s.prototype.peek=function(e){return n(e),i(this,e,!1)},s.prototype.pop=function(){var e=this._lruList[this._lru];return u(this,e),e||null},s.prototype.del=function(e){n(e),u(this,this._cache[e])},s.prototype.load=function(e){this.reset();for(var t=Date.now(),r=e.length-1;r>=0;r--){var a=e[r];n(a.k);var s=a.e||0;if(0===s)this.set(a.k,a.v);else{var i=s-t;i>0&&this.set(a.k,a.v,i)}}}}()},2093:function(e,t,r){var a=r(2094),n=r(2095),s={};function i(e,t){return(e.version||t.version)&&e.version!==t.version?(+e.version||0)>(+t.version||0)?e:t:a.merge(e,t)}r(2096).forEach((function(e){if("all"===e.polygon)s[e.key]=!0;else{var t="whitelist"===e.polygon?"included_values":"excluded_values",r={};e.values.forEach((function(e){r[e]=!0})),s[e.key]={},s[e.key][t]=r}}));var o;function c(e){for(var t,r,a,n,s,i,o=function(e){return e[0]},c=function(e){return e[e.length-1]},l=function(e,t){return void 0!==e&&void 0!==t&&e.id===t.id},u=[];e.length;)for(t=e.pop().nodes.slice(),u.push(t);e.length&&!l(o(t),c(t));){for(r=o(t),a=c(t),n=0;n<e.length;n++){if(l(a,o(i=e[n].nodes))){s=t.push,i=i.slice(1);break}if(l(a,c(i))){s=t.push,i=i.slice(0,-1).reverse();break}if(l(r,c(i))){s=t.unshift,i=i.slice(0,-1);break}if(l(r,o(i))){s=t.unshift,i=i.slice(1).reverse();break}i=s=null}if(!i)break;e.splice(n,1),s.apply(t,i)}return u}o=function(e,t,r){return t=a.merge({verbose:!1,flatProperties:!0,uninterestingTags:{source:!0,source_ref:!0,"source:ref":!0,history:!0,attribution:!0,created_by:!0,"tiger:county":!0,"tiger:tlid":!0,"tiger:upload_uuid":!0},polygonFeatures:s,deduplicator:i},t),"undefined"!==typeof XMLDocument&&e instanceof XMLDocument||"undefined"===typeof XMLDocument&&e.childNodes?function(e){var t,r,n=new Array,s=new Array,i=new Array;function c(e,t,r){e.hasAttribute(r)&&(t[r]=e.getAttribute(r))}function l(e,t){var r=a.clone(e);c(t,r,"lat"),c(t,r,"lon"),r.__is_center_placeholder=!0,n.push(r)}function u(e,t){var r=a.clone(e);function i(e,t,a){var s={type:"node",id:"_"+r.type+"/"+r.id+"bounds"+a,lat:e,lon:t};r.nodes.push(s.id),n.push(s)}r.nodes=[],i(t.getAttribute("minlat"),t.getAttribute("minlon"),1),i(t.getAttribute("maxlat"),t.getAttribute("minlon"),2),i(t.getAttribute("maxlat"),t.getAttribute("maxlon"),3),i(t.getAttribute("minlat"),t.getAttribute("maxlon"),4),r.nodes.push(r.nodes[0]),r.__is_bounds_placeholder=!0,s.push(r)}return a.each(e.getElementsByTagName("node"),(function(e,t){var r={};a.each(e.getElementsByTagName("tag"),(function(e){r[e.getAttribute("k")]=e.getAttribute("v")}));var s={type:"node"};c(e,s,"id"),c(e,s,"lat"),c(e,s,"lon"),c(e,s,"version"),c(e,s,"timestamp"),c(e,s,"changeset"),c(e,s,"uid"),c(e,s,"user"),a.isEmpty(r)||(s.tags=r),n.push(s)})),a.each(e.getElementsByTagName("way"),(function(e,i){var o={},d=[];a.each(e.getElementsByTagName("tag"),(function(e){o[e.getAttribute("k")]=e.getAttribute("v")}));var h=!1;a.each(e.getElementsByTagName("nd"),(function(e,t){var r;(r=e.getAttribute("ref"))&&(d[t]=r),!h&&e.getAttribute("lat")&&(h=!0)}));var p={type:"way"};c(e,p,"id"),c(e,p,"version"),c(e,p,"timestamp"),c(e,p,"changeset"),c(e,p,"uid"),c(e,p,"user"),d.length>0&&(p.nodes=d),a.isEmpty(o)||(p.tags=o),(t=e.getElementsByTagName("center")[0])&&l(p,t),h?function(e,t){function r(e,t,r){var a={type:"node",id:r,lat:e,lon:t};return n.push(a),a.id}a.isArray(e.nodes)||(e.nodes=[],a.each(t,(function(t,r){e.nodes.push("_anonymous@"+t.getAttribute("lat")+"/"+t.getAttribute("lon"))})));a.each(t,(function(t,a){t.getAttribute("lat")&&r(t.getAttribute("lat"),t.getAttribute("lon"),e.nodes[a])}))}(p,e.getElementsByTagName("nd")):(r=e.getElementsByTagName("bounds")[0])&&u(p,r),s.push(p)})),a.each(e.getElementsByTagName("relation"),(function(e,o){var d={},h=[];a.each(e.getElementsByTagName("tag"),(function(e){d[e.getAttribute("k")]=e.getAttribute("v")}));var p=!1;a.each(e.getElementsByTagName("member"),(function(e,t){h[t]={},c(e,h[t],"ref"),c(e,h[t],"role"),c(e,h[t],"type"),(!p&&"node"==h[t].type&&e.getAttribute("lat")||"way"==h[t].type&&e.getElementsByTagName("nd").length>0)&&(p=!0)}));var f={type:"relation"};c(e,f,"id"),c(e,f,"version"),c(e,f,"timestamp"),c(e,f,"changeset"),c(e,f,"uid"),c(e,f,"user"),h.length>0&&(f.members=h),a.isEmpty(d)||(f.tags=d),(t=e.getElementsByTagName("center")[0])&&l(f,t),p?function(e,t){function r(e,t,r){var a={type:"node",id:r,lat:e,lon:t};n.push(a)}function i(e,t){if(!s.some((function(e){return"way"==e.type&&e.id==t}))){var r={type:"way",id:t,nodes:[]};a.each(e,(function(e){e.getAttribute("lat")?i(e.getAttribute("lat"),e.getAttribute("lon")):r.nodes.push(void 0)})),s.push(r)}function i(e,t){var a={type:"node",id:"_anonymous@"+e+"/"+t,lat:e,lon:t};r.nodes.push(a.id),n.push(a)}}a.each(t,(function(t,a){"node"==e.members[a].type?t.getAttribute("lat")&&r(t.getAttribute("lat"),t.getAttribute("lon"),e.members[a].ref):"way"==e.members[a].type&&t.getElementsByTagName("nd").length>0&&(e.members[a].ref="_fullGeom"+e.members[a].ref,i(t.getElementsByTagName("nd"),e.members[a].ref))}))}(f,e.getElementsByTagName("member")):(r=e.getElementsByTagName("bounds")[0])&&u(f,r),i.push(f)})),o(n,s,i)}(e):function(e){var t=new Array,r=new Array,n=new Array;function s(e){var r=a.clone(e);r.lat=e.center.lat,r.lon=e.center.lon,r.__is_center_placeholder=!0,t.push(r)}function i(e){var n=a.clone(e);function s(e,r,a){var s={type:"node",id:"_"+n.type+"/"+n.id+"bounds"+a,lat:e,lon:r};n.nodes.push(s.id),t.push(s)}n.nodes=[],s(n.bounds.minlat,n.bounds.minlon,1),s(n.bounds.maxlat,n.bounds.minlon,2),s(n.bounds.maxlat,n.bounds.maxlon,3),s(n.bounds.minlat,n.bounds.maxlon,4),n.nodes.push(n.nodes[0]),n.__is_bounds_placeholder=!0,r.push(n)}function c(e){a.isArray(e.nodes)||(e.nodes=e.geometry.map((function(e){return null!==e?"_anonymous@"+e.lat+"/"+e.lon:"_anonymous@unknown_location"}))),e.geometry.forEach((function(r,a){r&&function(e,r,a){var n={type:"node",id:a,lat:e,lon:r};t.push(n)}(r.lat,r.lon,e.nodes[a])}))}function l(e){function a(e,a){if(!r.some((function(e){return"way"==e.type&&e.id==a}))){var n={type:"way",id:a,nodes:[]};e.forEach((function(e){e?function(e,r){var a={type:"node",id:"_anonymous@"+e+"/"+r,lat:e,lon:r};n.nodes.push(a.id),t.push(a)}(e.lat,e.lon):n.nodes.push(void 0)})),r.push(n)}}e.members.forEach((function(e,r){"node"==e.type?e.lat&&function(e,r,a){var n={type:"node",id:a,lat:e,lon:r};t.push(n)}(e.lat,e.lon,e.ref):"way"==e.type&&e.geometry&&(e.ref="_fullGeom"+e.ref,a(e.geometry,e.ref))}))}for(var u=0;u<e.elements.length;u++)switch(e.elements[u].type){case"node":var d=e.elements[u];t.push(d);break;case"way":var h=a.clone(e.elements[u]);h.nodes=a.clone(h.nodes),r.push(h),h.center&&s(h),h.geometry?c(h):h.bounds&&i(h);break;case"relation":var p=a.clone(e.elements[u]);p.members=a.clone(p.members),n.push(p);var f=p.members&&p.members.some((function(e){return"node"==e.type&&e.lat||"way"==e.type&&e.geometry&&e.geometry.length>0}));p.center&&s(p),f?l(p):p.bounds&&i(p)}return o(t,r,n)}(e);function o(e,s,i){function o(e,r){if("object"!==typeof r&&(r={}),"function"===typeof t.uninterestingTags)return!t.uninterestingTags(e,r);for(var a in e)if(!0!==t.uninterestingTags[a]&&!0!==r[a]&&r[a]!==e[a])return!0;return!1}function u(e){var t={timestamp:e.timestamp,version:e.version,changeset:e.changeset,user:e.user,uid:e.uid};for(var r in t)void 0===t[r]&&delete t[r];return t}for(var d=new Object,h=new Object,p=0;p<e.length;p++){void 0!==d[(j=e[p]).id]&&(j=t.deduplicator(j,d[j.id])),d[j.id]=j,"undefined"!=typeof j.tags&&o(j.tags)&&(h[j.id]=!0)}for(p=0;p<i.length;p++)if(a.isArray(i[p].members))for(var f=0;f<i[p].members.length;f++)"node"==i[p].members[f].type&&(h[i[p].members[f].ref]=!0);var m=new Object,b=new Object;for(p=0;p<s.length;p++){var g=s[p];if(m[g.id]&&(g=t.deduplicator(g,m[g.id])),m[g.id]=g,a.isArray(g.nodes))for(f=0;f<g.nodes.length;f++)"object"!==typeof g.nodes[f]&&(b[g.nodes[f]]=!0,g.nodes[f]=d[g.nodes[f]])}var v=new Array;for(var y in d){var j=d[y];b[y]&&!h[y]||v.push(j)}var w=new Array;for(p=0;p<i.length;p++){w[(x=i[p]).id]&&(x=t.deduplicator(x,w[x.id])),w[x.id]=x}var _,O={node:{},way:{},relation:{}};for(var y in w){var x=w[y];if(a.isArray(x.members))for(f=0;f<x.members.length;f++){var M=x.members[f].type,k=x.members[f].ref;"number"!==typeof k&&(k=k.replace("_fullGeom","")),O[M]?("undefined"===typeof O[M][k]&&(O[M][k]=[]),O[M][k].push({role:x.members[f].role,rel:x.id,reltags:x.tags})):t.verbose&&console.warn("Relation",x.type+"/"+x.id,"member",M+"/"+k,"ignored because it has an invalid type")}else t.verbose&&console.warn("Relation",x.type+"/"+x.id,"ignored because it has no members")}var C=[];for(p=0;p<v.length;p++)if("undefined"!=typeof v[p].lon&&"undefined"!=typeof v[p].lat){var E={type:"Feature",id:v[p].type+"/"+v[p].id,properties:{type:v[p].type,id:v[p].id,tags:v[p].tags||{},relations:O.node[v[p].id]||[],meta:u(v[p])},geometry:{type:"Point",coordinates:[+v[p].lon,+v[p].lat]}};v[p].__is_center_placeholder&&(E.properties.geometry="center"),r?r(E):C.push(E)}else t.verbose&&console.warn("POI",v[p].type+"/"+v[p].id,"ignored because it lacks coordinates");var S=[],N=[];for(p=0;p<i.length;p++)if(w[i[p].id]===i[p]){if("undefined"!=typeof i[p].tags&&("route"==i[p].tags.type||"waterway"==i[p].tags.type)){if(!a.isArray(i[p].members)){t.verbose&&console.warn("Route",i[p].type+"/"+i[p].id,"ignored because it has no members");continue}if(i[p].members.forEach((function(e){m[e.ref]&&!o(m[e.ref].tags)&&(m[e.ref].is_skippablerelationmember=!0)})),!1===(E=T(i[p]))){t.verbose&&console.warn("Route relation",i[p].type+"/"+i[p].id,"ignored because it has invalid geometry");continue}function T(e){var r,n,s=!1;r=(r=e.members.filter((function(e){return"way"===e.type}))).map((function(r){var a=m[r.ref];return void 0===a||void 0===a.nodes?(t.verbose&&console.warn("Route "+e.type+"/"+e.id,"tainted by a missing or incomplete  way",r.type+"/"+r.ref),void(s=!0)):{id:r.ref,role:r.role,way:a,nodes:a.nodes.filter((function(a){return void 0!==a||(s=!0,t.verbose&&console.warn("Route",e.type+"/"+e.id,"tainted by a way",r.type+"/"+r.ref,"with a missing node"),!1)}))}})),n=c(r=a.compact(r));var i;if(i=a.compact(n.map((function(e){return a.compact(e.map((function(e){return[+e.lon,+e.lat]})))}))),0==i.length)return t.verbose&&console.warn("Route",e.type+"/"+e.id,"contains no coordinates"),!1;var o={type:"Feature",id:e.type+"/"+e.id,properties:{type:e.type,id:e.id,tags:e.tags||{},relations:O[e.type][e.id]||[],meta:u(e)},geometry:{type:1===i.length?"LineString":"MultiLineString",coordinates:1===i.length?i[0]:i}};return s&&(t.verbose&&console.warn("Route",e.type+"/"+e.id,"is tainted"),o.properties.tainted=!0),o}r?r(n(E)):N.push(E)}if("undefined"!=typeof i[p].tags&&("multipolygon"==i[p].tags.type||"boundary"==i[p].tags.type)){if(!a.isArray(i[p].members)){t.verbose&&console.warn("Multipolygon",i[p].type+"/"+i[p].id,"ignored because it has no members");continue}var D=0;for(f=0;f<i[p].members.length;f++)"outer"==i[p].members[f].role?D++:t.verbose&&"inner"!=i[p].members[f].role&&console.warn("Multipolygon",i[p].type+"/"+i[p].id,"member",i[p].members[f].type+"/"+i[p].members[f].ref,'ignored because it has an invalid role: "'+i[p].members[f].role+'"');if(i[p].members.forEach((function(e){m[e.ref]&&("outer"!==e.role||o(m[e.ref].tags,i[p].tags)||(m[e.ref].is_skippablerelationmember=!0),"inner"!==e.role||o(m[e.ref].tags)||(m[e.ref].is_skippablerelationmember=!0))})),0==D){t.verbose&&console.warn("Multipolygon relation",i[p].type+"/"+i[p].id,"ignored because it has no outer ways");continue}var I=!1;1!=D||o(i[p].tags,{type:!0})||(I=!0);E=null;if(I){var A=i[p].members.filter((function(e){return"outer"===e.role}))[0];if(void 0===(A=m[A.ref])){t.verbose&&console.warn("Multipolygon relation",i[p].type+"/"+i[p].id,"ignored because outer way",A.type+"/"+A.ref,"is missing");continue}A.is_skippablerelationmember=!0,E=P(A,i[p])}else E=P(i[p],i[p]);if(!1===E){t.verbose&&console.warn("Multipolygon relation",i[p].type+"/"+i[p].id,"ignored because it has invalid geometry");continue}function P(e,r){var n,s,i,o,l=!1,d=I?"way":"relation",h="number"===typeof e.id?e.id:+e.id.replace("_fullGeom","");function p(e){var t,r=function(e,t){for(var r=0;r<t.length;r++)if(n(t[r],e))return!0;return!1},a=function(e){return e.map((function(e){return[+e.lat,+e.lon]}))},n=function(e,t){for(var r=e[0],a=e[1],n=!1,s=0,i=t.length-1;s<t.length;i=s++){var o=t[s][0],c=t[s][1],l=t[i][0],u=t[i][1];c>a!=u>a&&r<(l-o)*(a-c)/(u-c)+o&&(n=!n)}return n};for(e=a(e),t=0;t<s.length;t++)if(r(a(s[t]),e))return t}n=(n=r.members.filter((function(e){return"way"===e.type}))).map((function(e){var r=m[e.ref];return void 0===r||void 0===r.nodes?(t.verbose&&console.warn("Multipolygon",d+"/"+h,"tainted by a missing or incomplete way",e.type+"/"+e.ref),void(l=!0)):{id:e.ref,role:e.role||"outer",way:r,nodes:r.nodes.filter((function(r){return void 0!==r||(l=!0,t.verbose&&console.warn("Multipolygon",d+"/"+h,"tainted by a way",e.type+"/"+e.ref,"with a missing node"),!1)}))}})),n=a.compact(n),s=c(n.filter((function(e){return"outer"===e.role}))),i=c(n.filter((function(e){return"inner"===e.role}))),o=s.map((function(e){return[e]}));for(var f=0;f<i.length;f++){var b=p(i[f]);void 0!==b?o[b].push(i[f]):t.verbose&&console.warn("Multipolygon",d+"/"+h,"contains an inner ring with no containing outer")}var g=[];if(g=a.compact(o.map((function(e){var r=a.compact(e.map((function(e){if(!(e.length<4))return a.compact(e.map((function(e){return[+e.lon,+e.lat]})));t.verbose&&console.warn("Multipolygon",d+"/"+h,"contains a ring with less than four nodes")})));if(0!=r.length)return r;t.verbose&&console.warn("Multipolygon",d+"/"+h,"contains an empty ring cluster")}))),0==g.length)return t.verbose&&console.warn("Multipolygon",d+"/"+h,"contains no coordinates"),!1;var v="MultiPolygon";1===g.length&&(v="Polygon",g=g[0]);var y={type:"Feature",id:e.type+"/"+h,properties:{type:e.type,id:h,tags:e.tags||{},relations:O[e.type][e.id]||[],meta:u(e)},geometry:{type:v,coordinates:g}};return l&&(t.verbose&&console.warn("Multipolygon",d+"/"+h,"is tainted"),y.properties.tainted=!0),y}r?r(n(E)):N.push(E)}}for(p=0;p<s.length;p++)if(m[s[p].id]===s[p])if(a.isArray(s[p].nodes)){if(!s[p].is_skippablerelationmember){"number"!==typeof s[p].id&&(s[p].id=+s[p].id.replace("_fullGeom","")),s[p].tainted=!1,s[p].hidden=!1;var L=new Array;for(f=0;f<s[p].nodes.length;f++)"object"==typeof s[p].nodes[f]?L.push([+s[p].nodes[f].lon,+s[p].nodes[f].lat]):(t.verbose&&console.warn("Way",s[p].type+"/"+s[p].id,"is tainted by an invalid node"),s[p].tainted=!0);if(L.length<=1)t.verbose&&console.warn("Way",s[p].type+"/"+s[p].id,"ignored because it contains too few nodes");else{var R="LineString";"undefined"!=typeof s[p].nodes[0]&&"undefined"!=typeof s[p].nodes[s[p].nodes.length-1]&&s[p].nodes[0].id===s[p].nodes[s[p].nodes.length-1].id&&("undefined"!=typeof s[p].tags&&l(s[p].tags)||s[p].__is_bounds_placeholder)&&(R="Polygon",L=[L]);E={type:"Feature",id:s[p].type+"/"+s[p].id,properties:{type:s[p].type,id:s[p].id,tags:s[p].tags||{},relations:O.way[s[p].id]||[],meta:u(s[p])},geometry:{type:R,coordinates:L}};s[p].tainted&&(t.verbose&&console.warn("Way",s[p].type+"/"+s[p].id,"is tainted"),E.properties.tainted=!0),s[p].__is_bounds_placeholder&&(E.properties.geometry="bounds"),r?r(n(E)):"LineString"==R?S.push(E):N.push(E)}}}else t.verbose&&console.warn("Way",s[p].type+"/"+s[p].id,"ignored because it has no nodes");return!!r||((_={type:"FeatureCollection",features:[]}).features=_.features.concat(N),_.features=_.features.concat(S),_.features=_.features.concat(C),t.flatProperties&&_.features.forEach((function(e){e.properties=a.merge(e.properties.meta,e.properties.tags,{id:e.properties.type+"/"+e.properties.id})})),_=n(_))}function l(e){var r=t.polygonFeatures;if("function"===typeof r)return r(e);if("no"===e.area)return!1;for(var a in e){var n=e[a],s=r[a];if("undefined"!==typeof s&&"no"!==n){if(!0===s)return!0;if(s.included_values&&!0===s.included_values[n])return!0;if(s.excluded_values&&!0!==s.excluded_values[n])return!0}}return!1}},o.toGeojson=o,e.exports=o},2094:function(e,t,r){(function(e,r){(function(){var a,n="__lodash_hash_undefined__",s=1,i=2,o=1/0,c=9007199254740991,l="[object Arguments]",u="[object Array]",d="[object Boolean]",h="[object Date]",p="[object Error]",f="[object Function]",m="[object GeneratorFunction]",b="[object Map]",g="[object Number]",v="[object Object]",y="[object Promise]",j="[object RegExp]",w="[object Set]",_="[object String]",O="[object Symbol]",x="[object WeakMap]",M="[object ArrayBuffer]",k="[object DataView]",C="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",N="[object Int16Array]",T="[object Int32Array]",D="[object Uint8Array]",I="[object Uint8ClampedArray]",A="[object Uint16Array]",P="[object Uint32Array]",L=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R=/^\w*$/,F=/^\./,B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U=/\\(\\)?/g,z=/\w*$/,Y=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,q={};q[C]=q[E]=q[S]=q[N]=q[T]=q[D]=q[I]=q[A]=q[P]=!0,q[l]=q[u]=q[M]=q[d]=q[k]=q[h]=q[p]=q[f]=q[b]=q[g]=q[v]=q[j]=q[w]=q[_]=q[x]=!1;var H={};H[l]=H[u]=H[M]=H[k]=H[d]=H[h]=H[C]=H[E]=H[S]=H[N]=H[T]=H[b]=H[g]=H[v]=H[j]=H[w]=H[_]=H[O]=H[D]=H[I]=H[A]=H[P]=!0,H[p]=H[f]=H[x]=!1;var W="object"==typeof e&&e&&e.Object===Object&&e,V="object"==typeof self&&self&&self.Object===Object&&self,K=W||V||Function("return this")(),Z=t&&!t.nodeType&&t,Q=Z&&"object"==typeof r&&r&&!r.nodeType&&r,J=Q&&Q.exports===Z,X=J&&W.process,$=function(){try{return X&&X.binding("util")}catch(e){}}(),ee=$&&$.isTypedArray;function te(e,t){return e.set(t[0],t[1]),e}function re(e,t){return e.add(t),e}function ae(e,t){for(var r=-1,a=e?e.length:0;++r<a&&!1!==t(e[r],r,e););return e}function ne(e,t,r,a){var n=-1,s=e?e.length:0;for(a&&s&&(r=e[++n]);++n<s;)r=t(r,e[n],n,e);return r}function se(e,t){for(var r=-1,a=e?e.length:0;++r<a;)if(t(e[r],r,e))return!0;return!1}function ie(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}function oe(e){var t=-1,r=Array(e.size);return e.forEach((function(e,a){r[++t]=[a,e]})),r}function ce(e,t){return function(r){return e(t(r))}}function le(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var ue=Array.prototype,de=Function.prototype,he=Object.prototype,pe=K["__core-js_shared__"],fe=function(){var e=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),me=de.toString,be=he.hasOwnProperty,ge=me.call(Object),ve=he.toString,ye=RegExp("^"+me.call(be).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=J?K.Buffer:a,we=K.Symbol,_e=K.Uint8Array,Oe=ce(Object.getPrototypeOf,Object),xe=Object.create,Me=he.propertyIsEnumerable,ke=ue.splice,Ce=Object.getOwnPropertySymbols,Ee=je?je.isBuffer:a,Se=ce(Object.keys,Object),Ne=Math.max,Te=wt(K,"DataView"),De=wt(K,"Map"),Ie=wt(K,"Promise"),Ae=wt(K,"Set"),Pe=wt(K,"WeakMap"),Le=wt(Object,"create"),Re=!Me.call({valueOf:1},"valueOf"),Fe=Tt(Te),Be=Tt(De),Ue=Tt(Ie),ze=Tt(Ae),Ye=Tt(Pe),Ge=we?we.prototype:a,qe=Ge?Ge.valueOf:a,He=Ge?Ge.toString:a;function We(){}function Ve(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function Ke(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function Ze(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function Qe(e){var t=-1,r=e?e.length:0;for(this.__data__=new Ze;++t<r;)this.add(e[t])}function Je(e){this.__data__=new Ke(e)}function Xe(e,t){var r=Lt(e)||Pt(e)?function(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}(e.length,String):[],a=r.length,n=!!a;for(var s in e)!t&&!be.call(e,s)||n&&("length"==s||xt(s,a))||r.push(s);return r}function $e(e,t,r){(r!==a&&!At(e[t],r)||"number"==typeof t&&r===a&&!(t in e))&&(e[t]=r)}function et(e,t,r){var n=e[t];be.call(e,t)&&At(n,r)&&(r!==a||t in e)||(e[t]=r)}function tt(e,t){for(var r=e.length;r--;)if(At(e[r][0],t))return r;return-1}function rt(e,t,r,n,s,i,o){var c;if(n&&(c=i?n(e,s,i,o):n(e)),c!==a)return c;if(!Yt(e))return e;var u=Lt(e);if(u){if(c=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&be.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return bt(e,c)}else{var p=Ot(e),y=p==f||p==m;if(Bt(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(p==v||p==l||y&&!i){if(ie(e))return i?e:{};if(c=function(e){return"function"!=typeof e.constructor||kt(e)?{}:(t=Oe(e),Yt(t)?xe(t):{});var t}(y?{}:e),!t)return function(e,t){return gt(e,_t(e),t)}(e,function(e,t){return e&&gt(t,Xt(t),e)}(c,e))}else{if(!H[p])return i?e:{};c=function(e,t,r,a){var n=e.constructor;switch(t){case M:return mt(e);case d:case h:return new n(+e);case k:return function(e,t){var r=t?mt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,a);case C:case E:case S:case N:case T:case D:case I:case A:case P:return function(e,t){var r=t?mt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,a);case b:return function(e,t,r){var a=t?r(oe(e),!0):oe(e);return ne(a,te,new e.constructor)}(e,a,r);case g:case _:return new n(e);case j:return function(e){var t=new e.constructor(e.source,z.exec(e));return t.lastIndex=e.lastIndex,t}(e);case w:return function(e,t,r){var a=t?r(le(e),!0):le(e);return ne(a,re,new e.constructor)}(e,a,r);case O:return s=e,qe?Object(qe.call(s)):{}}var s}(e,p,rt,t)}}o||(o=new Je);var x=o.get(e);if(x)return x;if(o.set(e,c),!u)var L=r?function(e){return function(e,t,r){var a=t(e);return Lt(e)?a:function(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}(a,r(e))}(e,Xt,_t)}(e):Xt(e);return ae(L||e,(function(a,s){L&&(a=e[s=a]),et(c,s,rt(a,t,r,n,s,e,o))})),c}Ve.prototype.clear=function(){this.__data__=Le?Le(null):{}},Ve.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ve.prototype.get=function(e){var t=this.__data__;if(Le){var r=t[e];return r===n?a:r}return be.call(t,e)?t[e]:a},Ve.prototype.has=function(e){var t=this.__data__;return Le?t[e]!==a:be.call(t,e)},Ve.prototype.set=function(e,t){return this.__data__[e]=Le&&t===a?n:t,this},Ke.prototype.clear=function(){this.__data__=[]},Ke.prototype.delete=function(e){var t=this.__data__,r=tt(t,e);return!(r<0)&&(r==t.length-1?t.pop():ke.call(t,r,1),!0)},Ke.prototype.get=function(e){var t=this.__data__,r=tt(t,e);return r<0?a:t[r][1]},Ke.prototype.has=function(e){return tt(this.__data__,e)>-1},Ke.prototype.set=function(e,t){var r=this.__data__,a=tt(r,e);return a<0?r.push([e,t]):r[a][1]=t,this},Ze.prototype.clear=function(){this.__data__={hash:new Ve,map:new(De||Ke),string:new Ve}},Ze.prototype.delete=function(e){return jt(this,e).delete(e)},Ze.prototype.get=function(e){return jt(this,e).get(e)},Ze.prototype.has=function(e){return jt(this,e).has(e)},Ze.prototype.set=function(e,t){return jt(this,e).set(e,t),this},Qe.prototype.add=Qe.prototype.push=function(e){return this.__data__.set(e,n),this},Qe.prototype.has=function(e){return this.__data__.has(e)},Je.prototype.clear=function(){this.__data__=new Ke},Je.prototype.delete=function(e){return this.__data__.delete(e)},Je.prototype.get=function(e){return this.__data__.get(e)},Je.prototype.has=function(e){return this.__data__.has(e)},Je.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ke){var a=r.__data__;if(!De||a.length<199)return a.push([e,t]),this;r=this.__data__=new Ze(a)}return r.set(e,t),this};var at,nt,st=(at=function(e,t){return e&&it(e,t,Xt)},function(e,t){if(null==e)return e;if(!Rt(e))return at(e,t);for(var r=e.length,a=nt?r:-1,n=Object(e);(nt?a--:++a<r)&&!1!==t(n[a],a,n););return e}),it=function(e){return function(t,r,a){for(var n=-1,s=Object(t),i=a(t),o=i.length;o--;){var c=i[e?o:++n];if(!1===r(s[c],c,s))break}return t}}();function ot(e,t){for(var r=0,n=(t=Mt(t,e)?[t]:ft(t)).length;null!=e&&r<n;)e=e[Nt(t[r++])];return r&&r==n?e:a}function ct(e,t){return null!=e&&t in Object(e)}function lt(e,t,r,n,o){return e===t||(null==e||null==t||!Yt(e)&&!Gt(t)?e!==e&&t!==t:function(e,t,r,n,o,c){var f=Lt(e),m=Lt(t),y=u,x=u;f||(y=(y=Ot(e))==l?v:y);m||(x=(x=Ot(t))==l?v:x);var C=y==v&&!ie(e),E=x==v&&!ie(t),S=y==x;if(S&&!C)return c||(c=new Je),f||Vt(e)?vt(e,t,r,n,o,c):function(e,t,r,a,n,o,c){switch(r){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!a(new _e(e),new _e(t)));case d:case h:case g:return At(+e,+t);case p:return e.name==t.name&&e.message==t.message;case j:case _:return e==t+"";case b:var l=oe;case w:var u=o&i;if(l||(l=le),e.size!=t.size&&!u)return!1;var f=c.get(e);if(f)return f==t;o|=s,c.set(e,t);var m=vt(l(e),l(t),a,n,o,c);return c.delete(e),m;case O:if(qe)return qe.call(e)==qe.call(t)}return!1}(e,t,y,r,n,o,c);if(!(o&i)){var N=C&&be.call(e,"__wrapped__"),T=E&&be.call(t,"__wrapped__");if(N||T){var D=N?e.value():e,I=T?t.value():t;return c||(c=new Je),r(D,I,n,o,c)}}if(!S)return!1;return c||(c=new Je),function(e,t,r,n,s,o){var c=s&i,l=Xt(e),u=l.length,d=Xt(t),h=d.length;if(u!=h&&!c)return!1;var p=u;for(;p--;){var f=l[p];if(!(c?f in t:be.call(t,f)))return!1}var m=o.get(e);if(m&&o.get(t))return m==t;var b=!0;o.set(e,t),o.set(t,e);var g=c;for(;++p<u;){var v=e[f=l[p]],y=t[f];if(n)var j=c?n(y,v,f,t,e,o):n(v,y,f,e,t,o);if(!(j===a?v===y||r(v,y,n,s,o):j)){b=!1;break}g||(g="constructor"==f)}if(b&&!g){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(b=!1)}return o.delete(e),o.delete(t),b}(e,t,r,n,o,c)}(e,t,lt,r,n,o))}function ut(e){return!(!Yt(e)||(t=e,fe&&fe in t))&&(Ut(e)||ie(e)?ye:Y).test(Tt(e));var t}function dt(e){return"function"==typeof e?e:null==e?tr:"object"==typeof e?Lt(e)?function(e,t){if(Mt(e)&&Ct(t))return Et(Nt(e),t);return function(r){var n=Qt(r,e);return n===a&&n===t?Jt(r,e):lt(t,n,a,s|i)}}(e[0],e[1]):function(e){var t=function(e){var t=Xt(e),r=t.length;for(;r--;){var a=t[r],n=e[a];t[r]=[a,n,Ct(n)]}return t}(e);if(1==t.length&&t[0][2])return Et(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,n){var o=r.length,c=o,l=!n;if(null==e)return!c;for(e=Object(e);o--;){var u=r[o];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<c;){var d=(u=r[o])[0],h=e[d],p=u[1];if(l&&u[2]){if(h===a&&!(d in e))return!1}else{var f=new Je;if(n)var m=n(h,p,d,e,t,f);if(!(m===a?lt(p,h,n,s|i,f):m))return!1}}return!0}(r,e,t)}}(e):ar(e)}function ht(e){if(!Yt(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=kt(e),r=[];for(var a in e)("constructor"!=a||!t&&be.call(e,a))&&r.push(a);return r}function pt(e,t,r,n,s){if(e!==t){if(!Lt(t)&&!Vt(t))var i=ht(t);ae(i||t,(function(o,c){if(i&&(o=t[c=o]),Yt(o))s||(s=new Je),function(e,t,r,n,s,i,o){var c=e[r],l=t[r],u=o.get(l);if(u)return void $e(e,r,u);var d=i?i(c,l,r+"",e,t,o):a,h=d===a;h&&(d=l,Lt(l)||Vt(l)?Lt(c)?d=c:Ft(c)?d=bt(c):(h=!1,d=rt(l,!0)):qt(l)||Pt(l)?Pt(c)?d=Kt(c):!Yt(c)||n&&Ut(c)?(h=!1,d=rt(l,!0)):d=c:h=!1);h&&(o.set(l,d),s(d,l,n,i,o),o.delete(l));$e(e,r,d)}(e,t,c,r,pt,n,s);else{var l=n?n(e[c],o,c+"",e,t,s):a;l===a&&(l=o),$e(e,c,l)}}))}}function ft(e){return Lt(e)?e:St(e)}function mt(e){var t=new e.constructor(e.byteLength);return new _e(t).set(new _e(e)),t}function bt(e,t){var r=-1,a=e.length;for(t||(t=Array(a));++r<a;)t[r]=e[r];return t}function gt(e,t,r,n){r||(r={});for(var s=-1,i=t.length;++s<i;){var o=t[s],c=n?n(r[o],e[o],o,r,e):a;et(r,o,c===a?e[o]:c)}return r}function vt(e,t,r,n,o,c){var l=o&i,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var h=c.get(e);if(h&&c.get(t))return h==t;var p=-1,f=!0,m=o&s?new Qe:a;for(c.set(e,t),c.set(t,e);++p<u;){var b=e[p],g=t[p];if(n)var v=l?n(g,b,p,t,e,c):n(b,g,p,e,t,c);if(v!==a){if(v)continue;f=!1;break}if(m){if(!se(t,(function(e,t){if(!m.has(t)&&(b===e||r(b,e,n,o,c)))return m.add(t)}))){f=!1;break}}else if(b!==g&&!r(b,g,n,o,c)){f=!1;break}}return c.delete(e),c.delete(t),f}function yt(){var e=We.iteratee||rr;return e=e===rr?dt:e,arguments.length?e(arguments[0],arguments[1]):e}function jt(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function wt(e,t){var r=function(e,t){return null==e?a:e[t]}(e,t);return ut(r)?r:a}var _t=Ce?ce(Ce,Object):nr,Ot=function(e){return ve.call(e)};function xt(e,t){return!!(t=null==t?c:t)&&("number"==typeof e||G.test(e))&&e>-1&&e%1==0&&e<t}function Mt(e,t){if(Lt(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Ht(e))||(R.test(e)||!L.test(e)||null!=t&&e in Object(t))}function kt(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||he)}function Ct(e){return e===e&&!Yt(e)}function Et(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==a||e in Object(r)))}}(Te&&Ot(new Te(new ArrayBuffer(1)))!=k||De&&Ot(new De)!=b||Ie&&Ot(Ie.resolve())!=y||Ae&&Ot(new Ae)!=w||Pe&&Ot(new Pe)!=x)&&(Ot=function(e){var t=ve.call(e),r=t==v?e.constructor:a,n=r?Tt(r):a;if(n)switch(n){case Fe:return k;case Be:return b;case Ue:return y;case ze:return w;case Ye:return x}return t});var St=It((function(e){e=Zt(e);var t=[];return F.test(e)&&t.push(""),e.replace(B,(function(e,r,a,n){t.push(a?n.replace(U,"$1"):r||e)})),t}));function Nt(e){if("string"==typeof e||Ht(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function Tt(e){if(null!=e){try{return me.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Dt(e,t){return(Lt(e)?ae:st)(e,yt(t,3))}function It(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var a=arguments,n=t?t.apply(this,a):a[0],s=r.cache;if(s.has(n))return s.get(n);var i=e.apply(this,a);return r.cache=s.set(n,i),i};return r.cache=new(It.Cache||Ze),r}function At(e,t){return e===t||e!==e&&t!==t}function Pt(e){return Ft(e)&&be.call(e,"callee")&&(!Me.call(e,"callee")||ve.call(e)==l)}It.Cache=Ze;var Lt=Array.isArray;function Rt(e){return null!=e&&zt(e.length)&&!Ut(e)}function Ft(e){return Gt(e)&&Rt(e)}var Bt=Ee||sr;function Ut(e){var t=Yt(e)?ve.call(e):"";return t==f||t==m}function zt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function Yt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Gt(e){return!!e&&"object"==typeof e}function qt(e){if(!Gt(e)||ve.call(e)!=v||ie(e))return!1;var t=Oe(e);if(null===t)return!0;var r=be.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&me.call(r)==ge}function Ht(e){return"symbol"==typeof e||Gt(e)&&ve.call(e)==O}var Wt,Vt=ee?(Wt=ee,function(e){return Wt(e)}):function(e){return Gt(e)&&zt(e.length)&&!!q[ve.call(e)]};function Kt(e){return gt(e,$t(e))}function Zt(e){return null==e?"":function(e){if("string"==typeof e)return e;if(Ht(e))return He?He.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(e)}function Qt(e,t,r){var n=null==e?a:ot(e,t);return n===a?r:n}function Jt(e,t){return null!=e&&function(e,t,r){for(var a,n=-1,s=(t=Mt(t,e)?[t]:ft(t)).length;++n<s;){var i=Nt(t[n]);if(!(a=null!=e&&r(e,i)))break;e=e[i]}return a||!!(s=e?e.length:0)&&zt(s)&&xt(i,s)&&(Lt(e)||Pt(e))}(e,t,ct)}function Xt(e){return Rt(e)?Xe(e):function(e){if(!kt(e))return Se(e);var t=[];for(var r in Object(e))be.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}function $t(e){return Rt(e)?Xe(e,!0):ht(e)}var er=function(e){return t=function(t,r){var n=-1,s=r.length,i=s>1?r[s-1]:a,o=s>2?r[2]:a;for(i=e.length>3&&"function"==typeof i?(s--,i):a,o&&function(e,t,r){if(!Yt(r))return!1;var a=typeof t;return!!("number"==a?Rt(r)&&xt(t,r.length):"string"==a&&t in r)&&At(r[t],e)}(r[0],r[1],o)&&(i=s<3?a:i,s=1),t=Object(t);++n<s;){var c=r[n];c&&e(t,c,n,i)}return t},r=Ne(r===a?t.length-1:r,0),function(){for(var e=arguments,a=-1,n=Ne(e.length-r,0),s=Array(n);++a<n;)s[a]=e[r+a];a=-1;for(var i=Array(r+1);++a<r;)i[a]=e[a];return i[r]=s,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(t,this,i)};var t,r}((function(e,t,r){pt(e,t,r)}));function tr(e){return e}function rr(e){return dt("function"==typeof e?e:rt(e,!0))}function ar(e){return Mt(e)?(t=Nt(e),function(e){return null==e?a:e[t]}):function(e){return function(t){return ot(t,e)}}(e);var t}function nr(){return[]}function sr(){return!1}We.compact=function(e){for(var t=-1,r=e?e.length:0,a=0,n=[];++t<r;){var s=e[t];s&&(n[a++]=s)}return n},We.iteratee=rr,We.keys=Xt,We.keysIn=$t,We.memoize=It,We.merge=er,We.property=ar,We.toPlainObject=Kt,We.clone=function(e){return rt(e,!1,!0)},We.eq=At,We.forEach=Dt,We.get=Qt,We.hasIn=Jt,We.identity=tr,We.isArguments=Pt,We.isArray=Lt,We.isArrayLike=Rt,We.isArrayLikeObject=Ft,We.isBuffer=Bt,We.isEmpty=function(e){if(Rt(e)&&(Lt(e)||"string"==typeof e||"function"==typeof e.splice||Bt(e)||Pt(e)))return!e.length;var t=Ot(e);if(t==b||t==w)return!e.size;if(Re||kt(e))return!Se(e).length;for(var r in e)if(be.call(e,r))return!1;return!0},We.isFunction=Ut,We.isLength=zt,We.isObject=Yt,We.isObjectLike=Gt,We.isPlainObject=qt,We.isSymbol=Ht,We.isTypedArray=Vt,We.stubArray=nr,We.stubFalse=sr,We.toString=Zt,We.each=Dt,We.VERSION="4.15.0",Q&&((Q.exports=We)._=We,Z._=We)}).call(this)}).call(this,r(93),r(2056)(e))},2095:function(e,t){function r(e,t){if(0!==e.length){a(e[0],t);for(var r=1;r<e.length;r++)a(e[r],!t)}}function a(e,t){for(var r=0,a=0,n=0,s=e.length,i=s-1;n<s;i=n++){var o=(e[n][0]-e[i][0])*(e[i][1]+e[n][1]),c=r+o;a+=Math.abs(r)>=Math.abs(o)?r-c+o:o-c+r,r=c}r+a>=0!==!!t&&e.reverse()}e.exports=function e(t,a){var n,s=t&&t.type;if("FeatureCollection"===s)for(n=0;n<t.features.length;n++)e(t.features[n],a);else if("GeometryCollection"===s)for(n=0;n<t.geometries.length;n++)e(t.geometries[n],a);else if("Feature"===s)e(t.geometry,a);else if("Polygon"===s)r(t.coordinates,a);else if("MultiPolygon"===s)for(n=0;n<t.coordinates.length;n++)r(t.coordinates[n],a);return t}},2096:function(e,t,r){e.exports=r(2097)},2097:function(e){e.exports=JSON.parse('[{"key":"building","polygon":"all"},{"key":"highway","polygon":"whitelist","values":["services","rest_area","escape","elevator"]},{"key":"natural","polygon":"blacklist","values":["coastline","cliff","ridge","arete","tree_row"]},{"key":"landuse","polygon":"all"},{"key":"waterway","polygon":"whitelist","values":["riverbank","dock","boatyard","dam"]},{"key":"amenity","polygon":"all"},{"key":"leisure","polygon":"all"},{"key":"barrier","polygon":"whitelist","values":["city_wall","ditch","hedge","retaining_wall","wall","spikes"]},{"key":"railway","polygon":"whitelist","values":["station","turntable","roundhouse","platform"]},{"key":"area","polygon":"all"},{"key":"boundary","polygon":"all"},{"key":"man_made","polygon":"blacklist","values":["cutline","embankment","pipeline"]},{"key":"power","polygon":"whitelist","values":["plant","substation","generator","transformer"]},{"key":"place","polygon":"all"},{"key":"shop","polygon":"all"},{"key":"aeroway","polygon":"blacklist","values":["taxiway"]},{"key":"tourism","polygon":"all"},{"key":"historic","polygon":"all"},{"key":"public_transport","polygon":"all"},{"key":"office","polygon":"all"},{"key":"building:part","polygon":"all"},{"key":"military","polygon":"all"},{"key":"ruins","polygon":"all"},{"key":"area:highway","polygon":"all"},{"key":"craft","polygon":"all"},{"key":"golf","polygon":"all"},{"key":"indoor","polygon":"all"}]')},2098:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r(1);var a=r(30),n=r(9),s=r(1950),i=r(0);const o=e=>{let t=!!s.a[e];return"fileSize"===e?Object(i.jsx)(a.a,{...s.a[e],values:{fileSize:n.v/1e6}}):e.includes("unsupportedGeom")?Object(i.jsx)(a.a,{...s.a[e.split("-")[0].trim()],values:{geometry:e.split("-")[1].trim()}}):t?Object(i.jsx)(a.a,{...s.a[e]}):null}},2101:function(e,t,r){"use strict";r.r(t);var a=1,n=2,s=3,i=6378137,o=.0066943799901413165,c=484813681109536e-20,l=Math.PI/2,u=.16666666666666666,d=.04722222222222222,h=.022156084656084655,p=1e-10,f=.017453292519943295,m=57.29577951308232,b=Math.PI/4,g=2*Math.PI,v=3.14159265359,y={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},j={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},w=/[\s_\-\/\(\)]/g;function _(e,t){if(e[t])return e[t];for(var r,a=Object.keys(e),n=t.toLowerCase().replace(w,""),s=-1;++s<a.length;)if((r=a[s]).toLowerCase().replace(w,"")===n)return e[r]}var O=function(e){var t,r,a,n={},s=e.split("+").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var r=t.split("=");return r.push(!0),e[r[0].toLowerCase()]=r[1],e}),{}),i={proj:"projName",datum:"datumCode",rf:function(e){n.rf=parseFloat(e)},lat_0:function(e){n.lat0=e*f},lat_1:function(e){n.lat1=e*f},lat_2:function(e){n.lat2=e*f},lat_ts:function(e){n.lat_ts=e*f},lon_0:function(e){n.long0=e*f},lon_1:function(e){n.long1=e*f},lon_2:function(e){n.long2=e*f},alpha:function(e){n.alpha=parseFloat(e)*f},gamma:function(e){n.rectified_grid_angle=parseFloat(e)},lonc:function(e){n.longc=e*f},x_0:function(e){n.x0=parseFloat(e)},y_0:function(e){n.y0=parseFloat(e)},k_0:function(e){n.k0=parseFloat(e)},k:function(e){n.k0=parseFloat(e)},a:function(e){n.a=parseFloat(e)},b:function(e){n.b=parseFloat(e)},r_a:function(){n.R_A=!0},zone:function(e){n.zone=parseInt(e,10)},south:function(){n.utmSouth=!0},towgs84:function(e){n.datum_params=e.split(",").map((function(e){return parseFloat(e)}))},to_meter:function(e){n.to_meter=parseFloat(e)},units:function(e){n.units=e;var t=_(j,e);t&&(n.to_meter=t.to_meter)},from_greenwich:function(e){n.from_greenwich=e*f},pm:function(e){var t=_(y,e);n.from_greenwich=(t||parseFloat(e))*f},nadgrids:function(e){"@null"===e?n.datumCode="none":n.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&-1!==t.indexOf(e.substr(0,1))&&-1!==t.indexOf(e.substr(1,1))&&-1!==t.indexOf(e.substr(2,1))&&(n.axis=e)},approx:function(){n.approx=!0}};for(t in s)r=s[t],t in i?"function"===typeof(a=i[t])?a(r):n[a]=r:n[t]=r;return"string"===typeof n.datumCode&&"WGS84"!==n.datumCode&&(n.datumCode=n.datumCode.toLowerCase()),n},x=function(e){var t=new T(e);return t.output()},M=1,k=/\s/,C=/[A-Za-z]/,E=/[A-Za-z84_]/,S=/[,\]]/,N=/[\d\.E\-\+]/;function T(e){if("string"!==typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=M}function D(e,t,r){Array.isArray(t)&&(r.unshift(t),t=null);var a=t?{}:e,n=r.reduce((function(e,t){return I(t,e),e}),a);t&&(e[t]=n)}function I(e,t){if(Array.isArray(e)){var r=e.shift();if("PARAMETER"===r&&(r=e.shift()),1===e.length)return Array.isArray(e[0])?(t[r]={},void I(e[0],t[r])):void(t[r]=e[0]);if(e.length)if("TOWGS84"!==r){if("AXIS"===r)return r in t||(t[r]=[]),void t[r].push(e);var a;switch(Array.isArray(r)||(t[r]={}),r){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[r]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&I(e[2],t[r]));case"SPHEROID":case"ELLIPSOID":return t[r]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&I(e[3],t[r]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void D(t,r,e);default:for(a=-1;++a<e.length;)if(!Array.isArray(e[a]))return I(e,t[r]);return D(t,r,e)}}else t[r]=e;else t[r]=!0}else t[e]=!0}T.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;k.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case M:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},T.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(S.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},T.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=M)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=M,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},T.prototype.number=function(e){if(!N.test(e)){if(S.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},T.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=5},T.prototype.keyword=function(e){if(E.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=M)}if(!S.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},T.prototype.neutral=function(e){if(C.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(N.test(e))return this.word=e,void(this.state=3);if(!S.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},T.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var A=.017453292519943295;function P(e){return e*A}var L=function(e){var t=x(e),r=t.shift(),a=t.shift();t.unshift(["name",a]),t.unshift(["type",r]);var n={};return I(t,n),function(e){if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"===typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",r=0,a=e.AXIS.length;r<a;++r){var n=[e.AXIS[r][0].toLowerCase(),e.AXIS[r][1].toLowerCase()];-1!==n[0].indexOf("north")||("y"===n[0]||"lat"===n[0])&&"north"===n[1]?t+="n":-1!==n[0].indexOf("south")||("y"===n[0]||"lat"===n[0])&&"south"===n[1]?t+="s":-1!==n[0].indexOf("east")||("x"===n[0]||"lon"===n[0])&&"east"===n[1]?t+="e":-1===n[0].indexOf("west")&&("x"!==n[0]&&"lon"!==n[0]||"west"!==n[1])||(t+="w")}2===t.length&&(t+="u"),3===t.length&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var s=e.GEOGCS;function i(t){return t*(e.to_meter||1)}"GEOGCS"===e.type&&(s=e),s&&(s.DATUM?e.datumCode=s.DATUM.name.toLowerCase():e.datumCode=s.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(e.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=s.DATUM.SPHEROID.a,e.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(e.datum_params=s.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",P],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",P],["x0","false_easting",i],["y0","false_northing",i],["long0","central_meridian",P],["lat0","latitude_of_origin",P],["lat0","standard_parallel_1",P],["lat1","standard_parallel_1",P],["lat2","standard_parallel_2",P],["azimuth","Azimuth"],["alpha","azimuth",P],["srsCode","name"]].forEach((function(t){return function(e,t){var r=t[0],a=t[1];!(r in e)&&a in e&&(e[r]=e[a],3===t.length&&(e[r]=t[2](e[r])))}(e,t)})),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName?!e.lat_ts&&e.lat0&&"Polar_Stereographic"===e.projName&&(e.lat_ts=e.lat0,e.lat0=P(e.lat0>0?90:-90)):(e.lat0=P(e.lat1>0?90:-90),e.lat_ts=e.lat1)}(n),n};function R(e){var t=this;if(2===arguments.length){var r=arguments[1];"string"===typeof r?"+"===r.charAt(0)?R[e]=O(arguments[1]):R[e]=L(arguments[1]):R[e]=r}else if(1===arguments.length){if(Array.isArray(e))return e.map((function(e){Array.isArray(e)?R.apply(t,e):R(e)}));if("string"===typeof e){if(e in R)return R[e]}else"EPSG"in e?R["EPSG:"+e.EPSG]=e:"ESRI"in e?R["ESRI:"+e.ESRI]=e:"IAU2000"in e?R["IAU2000:"+e.IAU2000]=e:console.log(e);return}}!function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}(R);var F=R;var B=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var U=["3857","900913","3785","102113"];var z=function(e){if(!function(e){return"string"===typeof e}(e))return e;if(function(e){return e in F}(e))return F[e];if(function(e){return B.some((function(t){return e.indexOf(t)>-1}))}(e)){var t=L(e);if(function(e){var t=_(e,"authority");if(t){var r=_(t,"epsg");return r&&U.indexOf(r)>-1}}(t))return F["EPSG:3857"];var r=function(e){var t=_(e,"extension");if(t)return _(t,"proj4")}(t);return r?O(r):t}return function(e){return"+"===e[0]}(e)?O(e):void 0},Y=function(e,t){var r,a;if(e=e||{},!t)return e;for(a in t)void 0!==(r=t[a])&&(e[a]=r);return e},G=function(e,t,r){var a=e*t;return r/Math.sqrt(1-a*a)},q=function(e){return e<0?-1:1},H=function(e){return Math.abs(e)<=v?e:e-q(e)*g},W=function(e,t,r){var a=e*r,n=.5*e;return a=Math.pow((1-a)/(1+a),n),Math.tan(.5*(l-t))/a},V=function(e,t){for(var r,a,n=.5*e,s=l-2*Math.atan(t),i=0;i<=15;i++)if(r=e*Math.sin(s),s+=a=l-2*Math.atan(t*Math.pow((1-r)/(1+r),n))-s,Math.abs(a)<=1e-10)return s;return-9999};function K(e){return e}var Z=[{init:function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=G(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(e){var t,r,a=e.x,n=e.y;if(n*m>90&&n*m<-90&&a*m>180&&a*m<-180)return null;if(Math.abs(Math.abs(n)-l)<=p)return null;if(this.sphere)t=this.x0+this.a*this.k0*H(a-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(b+.5*n));else{var s=Math.sin(n),i=W(this.e,n,s);t=this.x0+this.a*this.k0*H(a-this.long0),r=this.y0-this.a*this.k0*Math.log(i)}return e.x=t,e.y=r,e},inverse:function(e){var t,r,a=e.x-this.x0,n=e.y-this.y0;if(this.sphere)r=l-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(-9999===(r=V(this.e,s)))return null}return t=H(this.long0+a/(this.a*this.k0)),e.x=t,e.y=r,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:K,inverse:K,names:["longlat","identity"]}],Q={},J=[];function X(e,t){var r=J.length;return e.names?(J[r]=e,e.names.forEach((function(e){Q[e.toLowerCase()]=r})),this):(console.log(t),!0)}var $={start:function(){Z.forEach(X)},add:X,get:function(e){if(!e)return!1;var t=e.toLowerCase();return"undefined"!==typeof Q[t]&&J[Q[t]]?J[Q[t]]:void 0}},ee={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},te=ee.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};ee.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var re={};re.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},re.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},re.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},re.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},re.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},re.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},re.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},re.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},re.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},re.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},re.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},re.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},re.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},re.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},re.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},re.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},re.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},re.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var ae=function(e,t,r,i,o,l,u){var d={};return d.datum_type=void 0===e||"none"===e?5:4,t&&(d.datum_params=t.map(parseFloat),0===d.datum_params[0]&&0===d.datum_params[1]&&0===d.datum_params[2]||(d.datum_type=a),d.datum_params.length>3&&(0===d.datum_params[3]&&0===d.datum_params[4]&&0===d.datum_params[5]&&0===d.datum_params[6]||(d.datum_type=n,d.datum_params[3]*=c,d.datum_params[4]*=c,d.datum_params[5]*=c,d.datum_params[6]=d.datum_params[6]/1e6+1))),u&&(d.datum_type=s,d.grids=u),d.a=r,d.b=i,d.es=o,d.ep2=l,d},ne={};function se(e){if(0===e.length)return null;var t="@"===e[0];return t&&(e=e.slice(1)),"null"===e?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:ne[e]||null,isNull:!1}}function ie(e){return e/3600*Math.PI/180}function oe(e,t,r){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,r)))}function ce(e){return e.map((function(e){return[ie(e.longitudeShift),ie(e.latitudeShift)]}))}function le(e,t,r){return{name:oe(e,t+8,t+16).trim(),parent:oe(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,r),upperLatitude:e.getFloat64(t+88,r),lowerLongitude:e.getFloat64(t+104,r),upperLongitude:e.getFloat64(t+120,r),latitudeInterval:e.getFloat64(t+136,r),longitudeInterval:e.getFloat64(t+152,r),gridNodeCount:e.getInt32(t+168,r)}}function ue(e,t,r,a){for(var n=t+176,s=[],i=0;i<r.gridNodeCount;i++){var o={latitudeShift:e.getFloat32(n+16*i,a),longitudeShift:e.getFloat32(n+16*i+4,a),latitudeAccuracy:e.getFloat32(n+16*i+8,a),longitudeAccuracy:e.getFloat32(n+16*i+12,a)};s.push(o)}return s}function de(e,t){if(!(this instanceof de))return new de(e);t=t||function(e){if(e)throw e};var r=z(e);if("object"===typeof r){var a=de.projections.get(r.projName);if(a){if(r.datumCode&&"none"!==r.datumCode){var n=_(re,r.datumCode);n&&(r.datum_params=r.datum_params||(n.towgs84?n.towgs84.split(","):null),r.ellps=n.ellipse,r.datumName=n.datumName?n.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var s=function(e,t,r,a,n){if(!e){var s=_(ee,a);s||(s=te),e=s.a,t=s.b,r=s.rf}return r&&!t&&(t=(1-1/r)*e),(0===r||Math.abs(e-t)<p)&&(n=!0,t=e),{a:e,b:t,rf:r,sphere:n}}(r.a,r.b,r.rf,r.ellps,r.sphere),i=function(e,t,r,a){var n=e*e,s=t*t,i=(n-s)/n,o=0;return a?(n=(e*=1-i*(u+i*(d+i*h)))*e,i=0):o=Math.sqrt(i),{es:i,e:o,ep2:(n-s)/s}}(s.a,s.b,s.rf,r.R_A),o=function(e){return void 0===e?null:e.split(",").map(se)}(r.nadgrids),c=r.datum||ae(r.datumCode,r.datum_params,s.a,s.b,i.es,i.ep2,o);Y(this,r),Y(this,a),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=i.es,this.e=i.e,this.ep2=i.ep2,this.datum=c,this.init(),t(null,this)}else t(e)}else t(e)}de.projections=$,de.projections.start();var he=de;function pe(e,t,r){var a,n,s,i,o=e.x,c=e.y,u=e.z?e.z:0;if(c<-l&&c>-1.001*l)c=-l;else if(c>l&&c<1.001*l)c=l;else{if(c<-l)return{x:-1/0,y:-1/0,z:e.z};if(c>l)return{x:1/0,y:1/0,z:e.z}}return o>Math.PI&&(o-=2*Math.PI),n=Math.sin(c),i=Math.cos(c),s=n*n,{x:((a=r/Math.sqrt(1-t*s))+u)*i*Math.cos(o),y:(a+u)*i*Math.sin(o),z:(a*(1-t)+u)*n}}function fe(e,t,r,a){var n,s,i,o,c,u,d,h,p,f,m,b,g,v,y,j=1e-12,w=e.x,_=e.y,O=e.z?e.z:0;if(n=Math.sqrt(w*w+_*_),s=Math.sqrt(w*w+_*_+O*O),n/r<j){if(v=0,s/r<j)return l,y=-a,{x:e.x,y:e.y,z:e.z}}else v=Math.atan2(_,w);i=O/s,h=(o=n/s)*(1-t)*(c=1/Math.sqrt(1-t*(2-t)*o*o)),p=i*c,g=0;do{g++,u=t*(d=r/Math.sqrt(1-t*p*p))/(d+(y=n*h+O*p-d*(1-t*p*p))),b=(m=i*(c=1/Math.sqrt(1-u*(2-u)*o*o)))*h-(f=o*(1-u)*c)*p,h=f,p=m}while(b*b>1e-24&&g<30);return{x:v,y:Math.atan(m/Math.abs(f)),z:y}}function me(e){return e===a||e===n}var be=function(e,t,r){if(function(e,t){return e.datum_type===t.datum_type&&!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===a?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==n||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}(e,t))return r;if(5===e.datum_type||5===t.datum_type)return r;var c=e.a,l=e.es;if(e.datum_type===s){if(0!==ge(e,!1,r))return;c=i,l=o}var u=t.a,d=t.b,h=t.es;if(t.datum_type===s&&(u=i,d=6356752.314,h=o),l===h&&c===u&&!me(e.datum_type)&&!me(t.datum_type))return r;if((r=pe(r,l,c),me(e.datum_type)&&(r=function(e,t,r){if(t===a)return{x:e.x+r[0],y:e.y+r[1],z:e.z+r[2]};if(t===n){var s=r[0],i=r[1],o=r[2],c=r[3],l=r[4],u=r[5],d=r[6];return{x:d*(e.x-u*e.y+l*e.z)+s,y:d*(u*e.x+e.y-c*e.z)+i,z:d*(-l*e.x+c*e.y+e.z)+o}}}(r,e.datum_type,e.datum_params)),me(t.datum_type)&&(r=function(e,t,r){if(t===a)return{x:e.x-r[0],y:e.y-r[1],z:e.z-r[2]};if(t===n){var s=r[0],i=r[1],o=r[2],c=r[3],l=r[4],u=r[5],d=r[6],h=(e.x-s)/d,p=(e.y-i)/d,f=(e.z-o)/d;return{x:h+u*p-l*f,y:-u*h+p+c*f,z:l*h-c*p+f}}}(r,t.datum_type,t.datum_params)),r=fe(r,h,u,d),t.datum_type===s)&&0!==ge(t,!0,r))return;return r};function ge(e,t,r){if(null===e.grids||0===e.grids.length)return console.log("Grid shift grids not found"),-1;var a={x:-r.x,y:r.y},n={x:Number.NaN,y:Number.NaN},s=[];e:for(var i=0;i<e.grids.length;i++){var o=e.grids[i];if(s.push(o.name),o.isNull){n=a;break}if(o.mandatory,null!==o.grid)for(var c=o.grid.subgrids,l=0,u=c.length;l<u;l++){var d=c[l],h=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,p=d.ll[0]-h,f=d.ll[1]-h,b=d.ll[0]+(d.lim[0]-1)*d.del[0]+h,g=d.ll[1]+(d.lim[1]-1)*d.del[1]+h;if(!(f>a.y||p>a.x||g<a.y||b<a.x)&&(n=ve(a,t,d),!isNaN(n.x)))break e}else if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1}return isNaN(n.x)?(console.log("Failed to find a grid shift table for location '"+-a.x*m+" "+a.y*m+" tried: '"+s+"'"),-1):(r.x=-n.x,r.y=n.y,0)}function ve(e,t,r){var a={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return a;var n={x:e.x,y:e.y};n.x-=r.ll[0],n.y-=r.ll[1],n.x=H(n.x-Math.PI)+Math.PI;var s=ye(n,r);if(t){if(isNaN(s.x))return a;s.x=n.x-s.x,s.y=n.y-s.y;var i,o,c=9;do{if(o=ye(s,r),isNaN(o.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}i={x:n.x-(o.x+s.x),y:n.y-(o.y+s.y)},s.x+=i.x,s.y+=i.y}while(c--&&Math.abs(i.x)>1e-12&&Math.abs(i.y)>1e-12);if(c<0)return console.log("Inverse grid shift iterator failed to converge."),a;a.x=H(s.x+r.ll[0]),a.y=s.y+r.ll[1]}else isNaN(s.x)||(a.x=e.x+s.x,a.y=e.y+s.y);return a}function ye(e,t){var r,a={x:e.x/t.del[0],y:e.y/t.del[1]},n=Math.floor(a.x),s=Math.floor(a.y),i=a.x-1*n,o=a.y-1*s,c={x:Number.NaN,y:Number.NaN};if(n<0||n>=t.lim[0])return c;if(s<0||s>=t.lim[1])return c;r=s*t.lim[0]+n;var l=t.cvs[r][0],u=t.cvs[r][1];r++;var d=t.cvs[r][0],h=t.cvs[r][1];r+=t.lim[0];var p=t.cvs[r][0],f=t.cvs[r][1];r--;var m=t.cvs[r][0],b=t.cvs[r][1],g=i*o,v=i*(1-o),y=(1-i)*(1-o),j=(1-i)*o;return c.x=y*l+v*d+j*m+g*p,c.y=y*u+v*h+j*b+g*f,c}var je=function(e,t,r){var a,n,s,i=r.x,o=r.y,c=r.z||0,l={};for(s=0;s<3;s++)if(!t||2!==s||void 0!==r.z)switch(0===s?(a=i,n=-1!=="ew".indexOf(e.axis[s])?"x":"y"):1===s?(a=o,n=-1!=="ns".indexOf(e.axis[s])?"y":"x"):(a=c,n="z"),e.axis[s]){case"e":case"n":l[n]=a;break;case"w":case"s":l[n]=-a;break;case"u":void 0!==r[n]&&(l.z=a);break;case"d":void 0!==r[n]&&(l.z=-a);break;default:return null}return l},we=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t},_e=function(e){Oe(e.x),Oe(e.y)};function Oe(e){if("function"===typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof e||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function xe(e,t,r,i){var o,c=void 0!==(r=Array.isArray(r)?we(r):{x:r.x,y:r.y,z:r.z,m:r.m}).z;if(_e(r),e.datum&&t.datum&&function(e,t){return(e.datum.datum_type===a||e.datum.datum_type===n||e.datum.datum_type===s)&&"WGS84"!==t.datumCode||(t.datum.datum_type===a||t.datum.datum_type===n||t.datum.datum_type===s)&&"WGS84"!==e.datumCode}(e,t)&&(r=xe(e,o=new he("WGS84"),r,i),e=o),i&&"enu"!==e.axis&&(r=je(e,!1,r)),"longlat"===e.projName)r={x:r.x*f,y:r.y*f,z:r.z||0};else if(e.to_meter&&(r={x:r.x*e.to_meter,y:r.y*e.to_meter,z:r.z||0}),!(r=e.inverse(r)))return;if(e.from_greenwich&&(r.x+=e.from_greenwich),r=be(e.datum,t.datum,r))return t.from_greenwich&&(r={x:r.x-t.from_greenwich,y:r.y,z:r.z||0}),"longlat"===t.projName?r={x:r.x*m,y:r.y*m,z:r.z||0}:(r=t.forward(r),t.to_meter&&(r={x:r.x/t.to_meter,y:r.y/t.to_meter,z:r.z||0})),i&&"enu"!==t.axis?je(t,!0,r):(r&&!c&&delete r.z,r)}var Me=he("WGS84");function ke(e,t,r,a){var n,s,i;return Array.isArray(r)?(n=xe(e,t,r,a)||{x:NaN,y:NaN},r.length>2?"undefined"!==typeof e.name&&"geocent"===e.name||"undefined"!==typeof t.name&&"geocent"===t.name?"number"===typeof n.z?[n.x,n.y,n.z].concat(r.splice(3)):[n.x,n.y,r[2]].concat(r.splice(3)):[n.x,n.y].concat(r.splice(2)):[n.x,n.y]):(s=xe(e,t,r,a),2===(i=Object.keys(r)).length||i.forEach((function(a){if("undefined"!==typeof e.name&&"geocent"===e.name||"undefined"!==typeof t.name&&"geocent"===t.name){if("x"===a||"y"===a||"z"===a)return}else if("x"===a||"y"===a)return;s[a]=r[a]})),s)}function Ce(e){return e instanceof he?e:e.oProj?e.oProj:he(e)}var Ee=function(e,t,r){e=Ce(e);var a,n=!1;return"undefined"===typeof t?(t=e,e=Me,n=!0):("undefined"!==typeof t.x||Array.isArray(t))&&(r=t,t=e,e=Me,n=!0),t=Ce(t),r?ke(e,t,r):(a={forward:function(r,a){return ke(e,t,r,a)},inverse:function(r,a){return ke(t,e,r,a)}},n&&(a.oProj=t),a)},Se=6,Ne="AJSAJS",Te="AFAFAF",De=65,Ie=73,Ae=79,Pe=86,Le=90,Re={forward:Fe,inverse:function(e){var t=Ye(He(e.toUpperCase()));if(t.lat&&t.lon)return[t.lon,t.lat,t.lon,t.lat];return[t.left,t.bottom,t.right,t.top]},toPoint:Be};function Fe(e,t){return t=t||5,function(e,t){var r="00000"+e.easting,a="00000"+e.northing;return e.zoneNumber+e.zoneLetter+function(e,t,r){var a=qe(r),n=Math.floor(e/1e5),s=Math.floor(t/1e5)%20;return function(e,t,r){var a=r-1,n=Ne.charCodeAt(a),s=Te.charCodeAt(a),i=n+e-1,o=s+t,c=!1;i>Le&&(i=i-Le+De-1,c=!0);(i===Ie||n<Ie&&i>Ie||(i>Ie||n<Ie)&&c)&&i++;(i===Ae||n<Ae&&i>Ae||(i>Ae||n<Ae)&&c)&&++i===Ie&&i++;i>Le&&(i=i-Le+De-1);o>Pe?(o=o-Pe+De-1,c=!0):c=!1;(o===Ie||s<Ie&&o>Ie||(o>Ie||s<Ie)&&c)&&o++;(o===Ae||s<Ae&&o>Ae||(o>Ae||s<Ae)&&c)&&++o===Ie&&o++;o>Pe&&(o=o-Pe+De-1);return String.fromCharCode(i)+String.fromCharCode(o)}(n,s,a)}(e.easting,e.northing,e.zoneNumber)+r.substr(r.length-5,t)+a.substr(a.length-5,t)}(function(e){var t,r,a,n,s,i,o,c,l=e.lat,u=e.lon,d=6378137,h=.00669438,p=.9996,f=Ue(l),m=Ue(u);c=Math.floor((u+180)/6)+1,180===u&&(c=60);l>=56&&l<64&&u>=3&&u<12&&(c=32);l>=72&&l<84&&(u>=0&&u<9?c=31:u>=9&&u<21?c=33:u>=21&&u<33?c=35:u>=33&&u<42&&(c=37));o=Ue(6*(c-1)-180+3),t=h/(1-h),r=d/Math.sqrt(1-h*Math.sin(f)*Math.sin(f)),a=Math.tan(f)*Math.tan(f),n=t*Math.cos(f)*Math.cos(f),s=Math.cos(f)*(m-o),i=d*((1-h/4-3*h*h/64-5*h*h*h/256)*f-(3*h/8+3*h*h/32+45*h*h*h/1024)*Math.sin(2*f)+(15*h*h/256+45*h*h*h/1024)*Math.sin(4*f)-35*h*h*h/3072*Math.sin(6*f));var b=p*r*(s+(1-a+n)*s*s*s/6+(5-18*a+a*a+72*n-58*t)*s*s*s*s*s/120)+5e5,g=p*(i+r*Math.tan(f)*(s*s/2+(5-a+9*n+4*n*n)*s*s*s*s/24+(61-58*a+a*a+600*n-330*t)*s*s*s*s*s*s/720));l<0&&(g+=1e7);return{northing:Math.round(g),easting:Math.round(b),zoneNumber:c,zoneLetter:Ge(l)}}({lat:e[1],lon:e[0]}),t)}function Be(e){var t=Ye(He(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function Ue(e){return e*(Math.PI/180)}function ze(e){return e/Math.PI*180}function Ye(e){var t=e.northing,r=e.easting,a=e.zoneLetter,n=e.zoneNumber;if(n<0||n>60)return null;var s,i,o,c,l,u,d,h,p,f=.9996,m=6378137,b=.00669438,g=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),v=r-5e5,y=t;a<"N"&&(y-=1e7),d=6*(n-1)-180+3,s=.006739496752268451,p=(h=y/f/6367449.145945056)+(3*g/2-27*g*g*g/32)*Math.sin(2*h)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*h)+151*g*g*g/96*Math.sin(6*h),i=m/Math.sqrt(1-b*Math.sin(p)*Math.sin(p)),o=Math.tan(p)*Math.tan(p),c=s*Math.cos(p)*Math.cos(p),l=.99330562*m/Math.pow(1-b*Math.sin(p)*Math.sin(p),1.5),u=v/(i*f);var j=p-i*Math.tan(p)/l*(u*u/2-(5+3*o+10*c-4*c*c-9*s)*u*u*u*u/24+(61+90*o+298*c+45*o*o-1.6983531815716497-3*c*c)*u*u*u*u*u*u/720);j=ze(j);var w,_=(u-(1+2*o+c)*u*u*u/6+(5-2*c+28*o-3*c*c+8*s+24*o*o)*u*u*u*u*u/120)/Math.cos(p);if(_=d+ze(_),e.accuracy){var O=Ye({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});w={top:O.lat,right:O.lon,bottom:j,left:_}}else w={lat:j,lon:_};return w}function Ge(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function qe(e){var t=e%Se;return 0===t&&(t=Se),t}function He(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,r=e.length,a=null,n="",s=0;!/[A-Z]/.test(t=e.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+e;n+=t,s++}var i=parseInt(n,10);if(0===s||s+3>r)throw"MGRSPoint bad conversion from: "+e;var o=e.charAt(s++);if(o<="A"||"B"===o||"Y"===o||o>="Z"||"I"===o||"O"===o)throw"MGRSPoint zone letter "+o+" not handled: "+e;a=e.substring(s,s+=2);for(var c=qe(i),l=function(e,t){var r=Ne.charCodeAt(t-1),a=1e5,n=!1;for(;r!==e.charCodeAt(0);){if(++r===Ie&&r++,r===Ae&&r++,r>Le){if(n)throw"Bad character: "+e;r=De,n=!0}a+=1e5}return a}(a.charAt(0),c),u=function(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;var r=Te.charCodeAt(t-1),a=0,n=!1;for(;r!==e.charCodeAt(0);){if(++r===Ie&&r++,r===Ae&&r++,r>Pe){if(n)throw"Bad character: "+e;r=De,n=!0}a+=1e5}return a}(a.charAt(1),c);u<We(o);)u+=2e6;var d=r-s;if(d%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var h,p,f,m=d/2,b=0,g=0;return m>0&&(h=1e5/Math.pow(10,m),p=e.substring(s,s+m),b=parseFloat(p)*h,f=e.substring(s+m),g=parseFloat(f)*h),{easting:b+l,northing:g+u,zoneLetter:o,zoneNumber:i,accuracy:h}}function We(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Ve(e,t,r){if(!(this instanceof Ve))return new Ve(e,t,r);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"===typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"===typeof e&&"undefined"===typeof t){var a=e.split(",");this.x=parseFloat(a[0],10),this.y=parseFloat(a[1],10),this.z=parseFloat(a[2],10)||0}else this.x=e,this.y=t,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ve.fromMGRS=function(e){return new Ve(Be(e))},Ve.prototype.toMGRS=function(e){return Fe([this.x,this.y],e)};var Ke=Ve,Ze=.046875,Qe=.01953125,Je=.01068115234375,Xe=function(e){var t=[];t[0]=1-e*(.25+e*(Ze+e*(Qe+e*Je))),t[1]=e*(.75-e*(Ze+e*(Qe+e*Je)));var r=e*e;return t[2]=r*(.46875-e*(.013020833333333334+.007120768229166667*e)),r*=e,t[3]=r*(.3645833333333333-.005696614583333333*e),t[4]=r*e*.3076171875,t},$e=function(e,t,r,a){return r*=t,t*=t,a[0]*e-r*(a[1]+t*(a[2]+t*(a[3]+t*a[4])))},et=function(e,t,r){for(var a=1/(1-t),n=e,s=20;s;--s){var i=Math.sin(n),o=1-t*i*i;if(n-=o=($e(n,i,Math.cos(n),r)-e)*(o*Math.sqrt(o))*a,Math.abs(o)<p)return n}return n};var tt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Xe(this.es),this.ml0=$e(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(e){var t,r,a,n=e.x,s=e.y,i=H(n-this.long0),o=Math.sin(s),c=Math.cos(s);if(this.es){var l=c*i,u=Math.pow(l,2),d=this.ep2*Math.pow(c,2),h=Math.pow(d,2),f=Math.abs(c)>p?Math.tan(s):0,m=Math.pow(f,2),b=Math.pow(m,2);t=1-this.es*Math.pow(o,2),l/=Math.sqrt(t);var g=$e(s,o,c,this.en);r=this.a*(this.k0*l*(1+u/6*(1-m+d+u/20*(5-18*m+b+14*d-58*m*d+u/42*(61+179*b-b*m-479*m)))))+this.x0,a=this.a*(this.k0*(g-this.ml0+o*i*l/2*(1+u/12*(5-m+9*d+4*h+u/30*(61+b-58*m+270*d-330*m*d+u/56*(1385+543*b-b*m-3111*m))))))+this.y0}else{var v=c*Math.sin(i);if(Math.abs(Math.abs(v)-1)<p)return 93;if(r=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,a=c*Math.cos(i)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(a))>=1){if(v-1>p)return 93;a=0}else a=Math.acos(a);s<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return e.x=r,e.y=a,e},inverse:function(e){var t,r,a,n,s=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+i/this.k0,r=et(t,this.es,this.en),Math.abs(r)<l){var o=Math.sin(r),c=Math.cos(r),u=Math.abs(c)>p?Math.tan(r):0,d=this.ep2*Math.pow(c,2),h=Math.pow(d,2),f=Math.pow(u,2),m=Math.pow(f,2);t=1-this.es*Math.pow(o,2);var b=s*Math.sqrt(t)/this.k0,g=Math.pow(b,2);a=r-(t*=u)*g/(1-this.es)*.5*(1-g/12*(5+3*f-9*d*f+d-4*h-g/30*(61+90*f-252*d*f+45*m+46*d-g/56*(1385+3633*f+4095*m+1574*m*f)))),n=H(this.long0+b*(1-g/6*(1+2*f+d-g/20*(5+28*f+24*m+8*d*f+6*d-g/42*(61+662*f+1320*m+720*m*f))))/c)}else a=l*q(i),n=0;else{var v=Math.exp(s/this.k0),y=.5*(v-1/v),j=this.lat0+i/this.k0,w=Math.cos(j);t=Math.sqrt((1-Math.pow(w,2))/(1+Math.pow(y,2))),a=Math.asin(t),i<0&&(a=-a),n=0===y&&0===w?0:H(Math.atan2(y,w)+this.long0)}return e.x=n,e.y=a,e},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},rt=function(e){var t=Math.exp(e);return t=(t-1/t)/2},at=function(e,t){e=Math.abs(e),t=Math.abs(t);var r=Math.max(e,t),a=Math.min(e,t)/(r||1);return r*Math.sqrt(1+Math.pow(a,2))},nt=function(e){var t=Math.abs(e);return t=function(e){var t=1+e,r=t-1;return 0===r?e:e*Math.log(t)/r}(t*(1+t/(at(1,t)+1))),e<0?-t:t},st=function(e,t){for(var r,a=2*Math.cos(2*t),n=e.length-1,s=e[n],i=0;--n>=0;)r=a*s-i+e[n],i=s,s=r;return t+r*Math.sin(2*t)},it=function(e,t,r){for(var a,n,s=Math.sin(t),i=Math.cos(t),o=rt(r),c=function(e){var t=Math.exp(e);return(t+1/t)/2}(r),l=2*i*c,u=-2*s*o,d=e.length-1,h=e[d],p=0,f=0,m=0;--d>=0;)a=f,n=p,h=l*(f=h)-a-u*(p=m)+e[d],m=u*f-n+l*p;return[(l=s*c)*h-(u=i*o)*m,l*m+u*h]};var ot={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(tt.init.apply(this),this.forward=tt.forward,this.inverse=tt.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),r=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),r*=t,this.cgb[1]=r*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=r*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),r*=t,this.cgb[2]=r*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=r*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),r*=t,this.cgb[3]=r*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=r*(1237/630+t*(t*(-24832/14175)-2.4)),r*=t,this.cgb[4]=r*(4174/315+t*(-144838/6237)),this.cbg[4]=r*(-734/315+t*(109598/31185)),r*=t,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=r*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=r*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),r*=t,this.utg[2]=r*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=r*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),r*=t,this.utg[3]=r*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=r*(49561/161280+t*(-179/168+t*(6601661/7257600))),r*=t,this.utg[4]=r*(-4583/161280+t*(108847/3991680)),this.gtu[4]=r*(34729/80640+t*(-3418889/1995840)),r*=t,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=.6650675310896665*r;var a=st(this.cbg,this.lat0);this.Zb=-this.Qn*(a+function(e,t){for(var r,a=2*Math.cos(t),n=e.length-1,s=e[n],i=0;--n>=0;)r=a*s-i+e[n],i=s,s=r;return Math.sin(t)*r}(this.gtu,2*a))},forward:function(e){var t=H(e.x-this.long0),r=e.y;r=st(this.cbg,r);var a=Math.sin(r),n=Math.cos(r),s=Math.sin(t),i=Math.cos(t);r=Math.atan2(a,i*n),t=Math.atan2(s*n,at(a,n*i)),t=nt(Math.tan(t));var o,c,l=it(this.gtu,2*r,2*t);return r+=l[0],t+=l[1],Math.abs(t)<=2.623395162778?(o=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*r+this.Zb)+this.y0):(o=1/0,c=1/0),e.x=o,e.y=c,e},inverse:function(e){var t,r,a=(e.x-this.x0)*(1/this.a),n=(e.y-this.y0)*(1/this.a);if(n=(n-this.Zb)/this.Qn,a/=this.Qn,Math.abs(a)<=2.623395162778){var s=it(this.utg,2*n,2*a);n+=s[0],a+=s[1],a=Math.atan(rt(a));var i=Math.sin(n),o=Math.cos(n),c=Math.sin(a),l=Math.cos(a);n=Math.atan2(i*l,at(c,l*o)),a=Math.atan2(c,l*o),t=H(a+this.long0),r=st(this.cgb,n)}else t=1/0,r=1/0;return e.x=t,e.y=r,e},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"]};var ct={init:function(){var e=function(e,t){if(void 0===e){if((e=Math.floor(30*(H(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e}(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*f,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ot.init.apply(this),this.forward=ot.forward,this.inverse=ot.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},lt=function(e,t){return Math.pow((1-e)/(1+e),t)};var ut={init:function(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+b)/(Math.pow(Math.tan(.5*this.lat0+b),this.C)*lt(this.e*e,this.ratexp))},forward:function(e){var t=e.x,r=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+b),this.C)*lt(this.e*Math.sin(r),this.ratexp))-l,e.x=this.C*t,e},inverse:function(e){for(var t=e.x/this.C,r=e.y,a=Math.pow(Math.tan(.5*r+b)/this.K,1/this.C),n=20;n>0&&(r=2*Math.atan(a*lt(this.e*Math.sin(e.y),-.5*this.e))-l,!(Math.abs(r-e.y)<1e-14));--n)e.y=r;return n?(e.x=t,e.y=r,e):null},names:["gauss"]};var dt={init:function(){ut.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(e){var t,r,a,n;return e.x=H(e.x-this.long0),ut.forward.apply(this,[e]),t=Math.sin(e.y),r=Math.cos(e.y),a=Math.cos(e.x),n=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*r*a),e.x=n*r*Math.sin(e.x),e.y=n*(this.cosc0*t-this.sinc0*r*a),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){var t,r,a,n,s;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,s=at(e.x,e.y)){var i=2*Math.atan2(s,this.R2);t=Math.sin(i),r=Math.cos(i),n=Math.asin(r*this.sinc0+e.y*t*this.cosc0/s),a=Math.atan2(e.x*t,s*this.cosc0*r-e.y*this.sinc0*t)}else n=this.phic0,a=0;return e.x=a,e.y=n,ut.inverse.apply(this,[e]),e.x=H(e.x+this.long0),e},names:["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var ht={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=p&&(this.k0=.5*(1+q(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=p&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=p&&Math.abs(Math.cos(this.lat_ts))>p&&(this.k0=.5*this.cons*G(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/W(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=G(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-l,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(e){var t,r,a,n,s,i,o=e.x,c=e.y,u=Math.sin(c),d=Math.cos(c),h=H(o-this.long0);return Math.abs(Math.abs(o-this.long0)-Math.PI)<=p&&Math.abs(c+this.lat0)<=p?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*u+this.coslat0*d*Math.cos(h)),e.x=this.a*t*d*Math.sin(h)+this.x0,e.y=this.a*t*(this.coslat0*u-this.sinlat0*d*Math.cos(h))+this.y0,e):(r=2*Math.atan(this.ssfn_(c,u,this.e))-l,n=Math.cos(r),a=Math.sin(r),Math.abs(this.coslat0)<=p?(s=W(this.e,c*this.con,this.con*u),i=2*this.a*this.k0*s/this.cons,e.x=this.x0+i*Math.sin(o-this.long0),e.y=this.y0-this.con*i*Math.cos(o-this.long0),e):(Math.abs(this.sinlat0)<p?(t=2*this.a*this.k0/(1+n*Math.cos(h)),e.y=t*a):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*n*Math.cos(h))),e.y=t*(this.cosX0*a-this.sinX0*n*Math.cos(h))+this.y0),e.x=t*n*Math.sin(h)+this.x0,e))},inverse:function(e){var t,r,a,n,s;e.x-=this.x0,e.y-=this.y0;var i=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var o=2*Math.atan(i/(2*this.a*this.k0));return t=this.long0,r=this.lat0,i<=p?(e.x=t,e.y=r,e):(r=Math.asin(Math.cos(o)*this.sinlat0+e.y*Math.sin(o)*this.coslat0/i),t=Math.abs(this.coslat0)<p?this.lat0>0?H(this.long0+Math.atan2(e.x,-1*e.y)):H(this.long0+Math.atan2(e.x,e.y)):H(this.long0+Math.atan2(e.x*Math.sin(o),i*this.coslat0*Math.cos(o)-e.y*this.sinlat0*Math.sin(o))),e.x=t,e.y=r,e)}if(Math.abs(this.coslat0)<=p){if(i<=p)return r=this.lat0,t=this.long0,e.x=t,e.y=r,e;e.x*=this.con,e.y*=this.con,a=i*this.cons/(2*this.a*this.k0),r=this.con*V(this.e,a),t=this.con*H(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else n=2*Math.atan(i*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,i<=p?s=this.X0:(s=Math.asin(Math.cos(n)*this.sinX0+e.y*Math.sin(n)*this.cosX0/i),t=H(this.long0+Math.atan2(e.x*Math.sin(n),i*this.cosX0*Math.cos(n)-e.y*this.sinX0*Math.sin(n)))),r=-1*V(this.e,Math.tan(.5*(l+s)));return e.x=t,e.y=r,e},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],ssfn_:function(e,t,r){return t*=r,Math.tan(.5*(l+e))*Math.pow((1-t)/(1+t),.5*r)}};var pt={init:function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),r=this.a,a=1/this.rf,n=2*a-Math.pow(a,2),s=this.e=Math.sqrt(n);this.R=this.k0*r*Math.sqrt(1-n)/(1-n*Math.pow(t,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var i=Math.log(Math.tan(Math.PI/4+this.b0/2)),o=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+s*t)/(1-s*t));this.K=i-this.alpha*o+this.alpha*s/2*c},forward:function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),a=-this.alpha*(t+r)+this.K,n=2*(Math.atan(Math.exp(a))-Math.PI/4),s=this.alpha*(e.x-this.lambda0),i=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(s))),o=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(s));return e.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,e.x=this.R*i+this.x0,e},inverse:function(e){for(var t=e.x-this.x0,r=e.y-this.y0,a=t/this.R,n=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(a)),i=Math.atan(Math.sin(a)/(Math.cos(this.b0)*Math.cos(a)-Math.sin(this.b0)*Math.tan(n))),o=this.lambda0+i/this.alpha,c=0,l=s,u=-1e3,d=0;Math.abs(l-u)>1e-7;){if(++d>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),u=l,l=2*Math.atan(Math.exp(c))-Math.PI/2}return e.x=o,e.y=l,e},names:["somerc"]},ft=1e-7;var mt={init:function(){var e,t,r,a,n,s,i,o,c,u,d,h=0,m=0,v=0,y=0,j=0,w=0,_=0;this.no_off=function(e){var t="object"===typeof e.PROJECTION?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(t)}(this),this.no_rot="no_rot"in this;var O=!1;"alpha"in this&&(O=!0);var x=!1;if("rectified_grid_angle"in this&&(x=!0),O&&(_=this.alpha),x&&(h=this.rectified_grid_angle*f),O||x)m=this.longc;else if(v=this.long1,j=this.lat1,y=this.long2,w=this.lat2,Math.abs(j-w)<=ft||(e=Math.abs(j))<=ft||Math.abs(e-l)<=ft||Math.abs(Math.abs(this.lat0)-l)<=ft||Math.abs(Math.abs(w)-l)<=ft)throw new Error;var M=1-this.es;t=Math.sqrt(M),Math.abs(this.lat0)>p?(o=Math.sin(this.lat0),r=Math.cos(this.lat0),e=1-this.es*o*o,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/M),this.A=this.B*this.k0*t/e,(n=(a=this.B*t/(r*Math.sqrt(e)))*a-1)<=0?n=0:(n=Math.sqrt(n),this.lat0<0&&(n=-n)),this.E=n+=a,this.E*=Math.pow(W(this.e,this.lat0,o),this.B)):(this.B=1/t,this.A=this.k0,this.E=a=n=1),O||x?(O?(d=Math.asin(Math.sin(_)/a),x||(h=_)):(d=h,_=Math.asin(a*Math.sin(d))),this.lam0=m-Math.asin(.5*(n-1/n)*Math.tan(d))/this.B):(s=Math.pow(W(this.e,j,Math.sin(j)),this.B),i=Math.pow(W(this.e,w,Math.sin(w)),this.B),n=this.E/s,c=(i-s)/(i+s),u=((u=this.E*this.E)-i*s)/(u+i*s),(e=v-y)<-Math.pi?y-=g:e>Math.pi&&(y+=g),this.lam0=H(.5*(v+y)-Math.atan(u*Math.tan(.5*this.B*(v-y))/c)/this.B),d=Math.atan(2*Math.sin(this.B*H(v-this.lam0))/(n-1/n)),h=_=Math.asin(a*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(h),this.cosrot=Math.cos(h),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(a*a-1)/Math.cos(_))),this.lat0<0&&(this.u_0=-this.u_0)),n=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(b-n)),this.v_pole_s=this.ArB*Math.log(Math.tan(b+n))},forward:function(e){var t,r,a,n,s,i,o,c,u={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-l)>p){if(t=.5*((s=this.E/Math.pow(W(this.e,e.y,Math.sin(e.y)),this.B))-(i=1/s)),r=.5*(s+i),n=Math.sin(this.B*e.x),a=(t*this.singam-n*this.cosgam)/r,Math.abs(Math.abs(a)-1)<p)throw new Error;c=.5*this.ArB*Math.log((1-a)/(1+a)),i=Math.cos(this.B*e.x),o=Math.abs(i)<ft?this.A*e.x:this.ArB*Math.atan2(t*this.cosgam+n*this.singam,i)}else c=e.y>0?this.v_pole_n:this.v_pole_s,o=this.ArB*e.y;return this.no_rot?(u.x=o,u.y=c):(o-=this.u_0,u.x=c*this.cosrot+o*this.sinrot,u.y=o*this.cosrot-c*this.sinrot),u.x=this.a*u.x+this.x0,u.y=this.a*u.y+this.y0,u},inverse:function(e){var t,r,a,n,s,i,o,c={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(r=e.y,t=e.x):(r=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),n=.5*((a=Math.exp(-this.BrA*r))-1/a),s=.5*(a+1/a),o=((i=Math.sin(this.BrA*t))*this.cosgam+n*this.singam)/s,Math.abs(Math.abs(o)-1)<p)c.x=0,c.y=o<0?-l:l;else{if(c.y=this.E/Math.sqrt((1+o)/(1-o)),c.y=V(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(n*this.cosgam-i*this.singam,Math.cos(this.BrA*t))}return c.x+=this.lam0,c},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};var bt={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<p)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),r=Math.cos(this.lat1),a=G(this.e,t,r),n=W(this.e,this.lat1,t),s=Math.sin(this.lat2),i=Math.cos(this.lat2),o=G(this.e,s,i),c=W(this.e,this.lat2,s),l=W(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>p?this.ns=Math.log(a/o)/Math.log(n/c):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=a/(this.ns*Math.pow(n,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(e){var t=e.x,r=e.y;Math.abs(2*Math.abs(r)-Math.PI)<=p&&(r=q(r)*(l-2*p));var a,n,s=Math.abs(Math.abs(r)-l);if(s>p)a=W(this.e,r,Math.sin(r)),n=this.a*this.f0*Math.pow(a,this.ns);else{if((s=r*this.ns)<=0)return null;n=0}var i=this.ns*H(t-this.long0);return e.x=this.k0*(n*Math.sin(i))+this.x0,e.y=this.k0*(this.rh-n*Math.cos(i))+this.y0,e},inverse:function(e){var t,r,a,n,s,i=(e.x-this.x0)/this.k0,o=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(i*i+o*o),r=1):(t=-Math.sqrt(i*i+o*o),r=-1);var c=0;if(0!==t&&(c=Math.atan2(r*i,r*o)),0!==t||this.ns>0){if(r=1/this.ns,a=Math.pow(t/(this.a*this.f0),r),-9999===(n=V(this.e,a)))return null}else n=-l;return s=H(c/this.ns+this.long0),e.x=s,e.y=n,e},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]};var gt={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(e){var t,r,a,n,s,i,o,c=e.x,l=e.y,u=H(c-this.long0);return t=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/t)-this.s45),a=-u*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(a)),s=Math.asin(Math.cos(r)*Math.sin(a)/Math.cos(n)),i=this.n*s,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),e.y=o*Math.cos(i)/1,e.x=o*Math.sin(i)/1,this.czech||(e.y*=-1,e.x*=-1),e},inverse:function(e){var t,r,a,n,s,i,o,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),s=Math.sqrt(e.x*e.x+e.y*e.y),n=Math.atan2(e.y,e.x)/Math.sin(this.s0),a=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(a)-Math.sin(this.ad)*Math.cos(a)*Math.cos(n)),r=Math.asin(Math.cos(a)*Math.sin(n)/Math.cos(t)),e.x=this.long0-r/this.alfa,i=t,o=0;var l=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(i))/(1-this.e*Math.sin(i)),this.e/2))-this.s45),Math.abs(i-e.y)<1e-10&&(o=1),i=e.y,l+=1}while(0===o&&l<15);return l>=15?null:e},names:["Krovak","krovak"]},vt=function(e,t,r,a,n){return e*n-t*Math.sin(2*n)+r*Math.sin(4*n)-a*Math.sin(6*n)},yt=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))},jt=function(e){return.375*e*(1+.25*e*(1+.46875*e))},wt=function(e){return.05859375*e*e*(1+.75*e)},_t=function(e){return e*e*e*(35/3072)},Ot=function(e,t,r){var a=t*r;return e/Math.sqrt(1-a*a)},xt=function(e){return Math.abs(e)<l?e:e-q(e)*Math.PI},Mt=function(e,t,r,a,n){var s,i;s=e/t;for(var o=0;o<15;o++)if(s+=i=(e-(t*s-r*Math.sin(2*s)+a*Math.sin(4*s)-n*Math.sin(6*s)))/(t-2*r*Math.cos(2*s)+4*a*Math.cos(4*s)-6*n*Math.cos(6*s)),Math.abs(i)<=1e-10)return s;return NaN};var kt={init:function(){this.sphere||(this.e0=yt(this.es),this.e1=jt(this.es),this.e2=wt(this.es),this.e3=_t(this.es),this.ml0=this.a*vt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(e){var t,r,a=e.x,n=e.y;if(a=H(a-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(n)*Math.sin(a)),r=this.a*(Math.atan2(Math.tan(n),Math.cos(a))-this.lat0);else{var s=Math.sin(n),i=Math.cos(n),o=Ot(this.a,this.e,s),c=Math.tan(n)*Math.tan(n),l=a*Math.cos(n),u=l*l,d=this.es*i*i/(1-this.es);t=o*l*(1-u*c*(1/6-(8-c+8*d)*u/120)),r=this.a*vt(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*s/i*u*(.5+(5-c+6*d)*u/24)}return e.x=t+this.x0,e.y=r+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,r,a=e.x/this.a,n=e.y/this.a;if(this.sphere){var s=n+this.lat0;t=Math.asin(Math.sin(s)*Math.cos(a)),r=Math.atan2(Math.tan(a),Math.cos(s))}else{var i=this.ml0/this.a+n,o=Mt(i,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-l)<=p)return e.x=this.long0,e.y=l,n<0&&(e.y*=-1),e;var c=Ot(this.a,this.e,Math.sin(o)),u=c*c*c/this.a/this.a*(1-this.es),d=Math.pow(Math.tan(o),2),h=a*this.a/c,f=h*h;t=o-c*Math.tan(o)/u*h*h*(.5-(1+3*d)*h*h/24),r=h*(1-f*(d/3+(1+3*d)*d*f/15))/Math.cos(o)}return e.x=H(r+this.long0),e.y=xt(t),e},names:["Cassini","Cassini_Soldner","cass"]},Ct=function(e,t){var r;return e>1e-7?(1-e*e)*(t/(1-(r=e*t)*r)-.5/e*Math.log((1-r)/(1+r))):2*t};var Et=.3333333333333333,St=.17222222222222222,Nt=.10257936507936508,Tt=.06388888888888888,Dt=.0664021164021164,It=.016415012942191543;var At={init:function(){var e,t=Math.abs(this.lat0);if(Math.abs(t-l)<p?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<p?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Ct(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(e){var t,r=[];return r[0]=e*Et,t=e*e,r[0]+=t*St,r[1]=t*Tt,t*=e,r[0]+=t*Nt,r[1]+=t*Dt,r[2]=t*It,r}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Ct(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(e){var t,r,a,n,s,i,o,c,u,d,h=e.x,f=e.y;if(h=H(h-this.long0),this.sphere){if(s=Math.sin(f),d=Math.cos(f),a=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((r=this.mode===this.EQUIT?1+d*a:1+this.sinph0*s+this.cosph0*d*a)<=p)return null;t=(r=Math.sqrt(2/r))*d*Math.sin(h),r*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*d*a}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(a=-a),Math.abs(f+this.lat0)<p)return null;r=b-.5*f,t=(r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)))*Math.sin(h),r*=a}}else{switch(o=0,c=0,u=0,a=Math.cos(h),n=Math.sin(h),s=Math.sin(f),i=Ct(this.e,s),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(o=i/this.qp,c=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:u=1+this.sinb1*o+this.cosb1*c*a;break;case this.EQUIT:u=1+c*a;break;case this.N_POLE:u=l+f,i=this.qp-i;break;case this.S_POLE:u=f-l,i=this.qp+i}if(Math.abs(u)<p)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),r=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*o-this.sinb1*c*a):(u=Math.sqrt(2/(1+c*a)))*o*this.ymf,t=this.xmf*u*c*n;break;case this.N_POLE:case this.S_POLE:i>=0?(t=(u=Math.sqrt(i))*n,r=a*(this.mode===this.S_POLE?u:-u)):t=r=0}}return e.x=this.a*t+this.x0,e.y=this.a*r+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,r,a,n,s,i,o,c=e.x/this.a,u=e.y/this.a;if(this.sphere){var d,h=0,f=0;if((r=.5*(d=Math.sqrt(c*c+u*u)))>1)return null;switch(r=2*Math.asin(r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(r),h=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(d)<=p?0:Math.asin(u*f/d),c*=f,u=h*d;break;case this.OBLIQ:r=Math.abs(d)<=p?this.lat0:Math.asin(h*this.sinph0+u*f*this.cosph0/d),c*=f*this.cosph0,u=(h-Math.sin(r)*this.sinph0)*d;break;case this.N_POLE:u=-u,r=l-r;break;case this.S_POLE:r-=l}t=0!==u||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,u):0}else{if(o=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,u*=this.dd,(i=Math.sqrt(c*c+u*u))<p)return e.x=this.long0,e.y=this.lat0,e;n=2*Math.asin(.5*i/this.rq),a=Math.cos(n),c*=n=Math.sin(n),this.mode===this.OBLIQ?(o=a*this.sinb1+u*n*this.cosb1/i,s=this.qp*o,u=i*this.cosb1*a-u*this.sinb1*n):(o=u*n/i,s=this.qp*o,u=i*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(u=-u),!(s=c*c+u*u))return e.x=this.long0,e.y=this.lat0,e;o=1-s/this.qp,this.mode===this.S_POLE&&(o=-o)}t=Math.atan2(c,u),r=function(e,t){var r=e+e;return e+t[0]*Math.sin(r)+t[1]*Math.sin(r+r)+t[2]*Math.sin(r+r+r)}(Math.asin(o),this.apa)}return e.x=H(this.long0+t),e.y=r,e},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Pt=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)};var Lt={init:function(){Math.abs(this.lat1+this.lat2)<p||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=G(this.e3,this.sin_po,this.cos_po),this.qs1=Ct(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=G(this.e3,this.sin_po,this.cos_po),this.qs2=Ct(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ct(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>p?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(e){var t=e.x,r=e.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var a=Ct(this.e3,this.sin_phi),n=this.a*Math.sqrt(this.c-this.ns0*a)/this.ns0,s=this.ns0*H(t-this.long0),i=n*Math.sin(s)+this.x0,o=this.rh-n*Math.cos(s)+this.y0;return e.x=i,e.y=o,e},inverse:function(e){var t,r,a,n,s,i;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),a=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),a=-1),n=0,0!==t&&(n=Math.atan2(a*e.x,a*e.y)),a=t*this.ns0/this.a,this.sphere?i=Math.asin((this.c-a*a)/(2*this.ns0)):(r=(this.c-a*a)/this.ns0,i=this.phi1z(this.e3,r)),s=H(n/this.ns0+this.long0),e.x=s,e.y=i,e},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(e,t){var r,a,n,s,i=Pt(.5*t);if(e<p)return i;for(var o=e*e,c=1;c<=25;c++)if(i+=s=.5*(n=1-(a=e*(r=Math.sin(i)))*a)*n/Math.cos(i)*(t/(1-o)-r/n+.5/e*Math.log((1-a)/(1+a))),Math.abs(s)<=1e-7)return i;return null}};var Rt={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(e){var t,r,a,n,s,i,o,c=e.x,l=e.y;return a=H(c-this.long0),t=Math.sin(l),r=Math.cos(l),n=Math.cos(a),1,(s=this.sin_p14*t+this.cos_p14*r*n)>0||Math.abs(s)<=p?(i=this.x0+1*this.a*r*Math.sin(a)/s,o=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*r*n)/s):(i=this.x0+this.infinity_dist*r*Math.sin(a),o=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*r*n)),e.x=i,e.y=o,e},inverse:function(e){var t,r,a,n,s,i;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(n=Math.atan2(t,this.rc),r=Math.sin(n),a=Math.cos(n),i=Pt(a*this.sin_p14+e.y*r*this.cos_p14/t),s=Math.atan2(e.x*r,t*this.cos_p14*a-e.y*this.sin_p14*r),s=H(this.long0+s)):(i=this.phic0,s=0),e.x=s,e.y=i,e},names:["gnom"]};var Ft={init:function(){this.sphere||(this.k0=G(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(e){var t,r,a=e.x,n=e.y,s=H(a-this.long0);if(this.sphere)t=this.x0+this.a*s*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var i=Ct(this.e,Math.sin(n));t=this.x0+this.a*this.k0*s,r=this.y0+this.a*i*.5/this.k0}return e.x=t,e.y=r,e},inverse:function(e){var t,r;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=H(this.long0+e.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(r=function(e,t){var r=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-r)<1e-6)return t<0?-1*l:l;for(var a,n,s,i,o=Math.asin(.5*t),c=0;c<30;c++)if(n=Math.sin(o),s=Math.cos(o),i=e*n,o+=a=Math.pow(1-i*i,2)/(2*s)*(t/(1-e*e)-n/(1-i*i)+.5/e*Math.log((1-i)/(1+i))),Math.abs(a)<=1e-10)return o;return NaN}(this.e,2*e.y*this.k0/this.a),t=H(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=r,e},names:["cea"]};var Bt={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(e){var t=e.x,r=e.y,a=H(t-this.long0),n=xt(r-this.lat0);return e.x=this.x0+this.a*a*this.rc,e.y=this.y0+this.a*n,e},inverse:function(e){var t=e.x,r=e.y;return e.x=H(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=xt(this.lat0+(r-this.y0)/this.a),e},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};var Ut={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=yt(this.es),this.e1=jt(this.es),this.e2=wt(this.es),this.e3=_t(this.es),this.ml0=this.a*vt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var t,r,a,n=e.x,s=e.y,i=H(n-this.long0);if(a=i*Math.sin(s),this.sphere)Math.abs(s)<=p?(t=this.a*i,r=-1*this.a*this.lat0):(t=this.a*Math.sin(a)/Math.tan(s),r=this.a*(xt(s-this.lat0)+(1-Math.cos(a))/Math.tan(s)));else if(Math.abs(s)<=p)t=this.a*i,r=-1*this.ml0;else{var o=Ot(this.a,this.e,Math.sin(s))/Math.tan(s);t=o*Math.sin(a),r=this.a*vt(this.e0,this.e1,this.e2,this.e3,s)-this.ml0+o*(1-Math.cos(a))}return e.x=t+this.x0,e.y=r+this.y0,e},inverse:function(e){var t,r,a,n,s,i,o,c,l;if(a=e.x-this.x0,n=e.y-this.y0,this.sphere)if(Math.abs(n+this.a*this.lat0)<=p)t=H(a/this.a+this.long0),r=0;else{var u;for(i=this.lat0+n/this.a,o=a*a/this.a/this.a+i*i,c=i,s=20;s;--s)if(c+=l=-1*(i*(c*(u=Math.tan(c))+1)-c-.5*(c*c+o)*u)/((c-i)/u-1),Math.abs(l)<=p){r=c;break}t=H(this.long0+Math.asin(a*Math.tan(c)/this.a)/Math.sin(r))}else if(Math.abs(n+this.ml0)<=p)r=0,t=H(this.long0+a/this.a);else{var d,h,f,m,b;for(i=(this.ml0+n)/this.a,o=a*a/this.a/this.a+i*i,c=i,s=20;s;--s)if(b=this.e*Math.sin(c),d=Math.sqrt(1-b*b)*Math.tan(c),h=this.a*vt(this.e0,this.e1,this.e2,this.e3,c),f=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),c-=l=(i*(d*(m=h/this.a)+1)-m-.5*d*(m*m+o))/(this.es*Math.sin(2*c)*(m*m+o-2*i*m)/(4*d)+(i-m)*(d*f-2/Math.sin(2*c))-f),Math.abs(l)<=p){r=c;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),t=H(this.long0+Math.asin(a*d/this.a)/Math.sin(r))}return e.x=t,e.y=r,e},names:["Polyconic","poly"]};var zt={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(e){var t,r=e.x,a=e.y-this.lat0,n=r-this.long0,s=a/c*1e-5,i=n,o=1,l=0;for(t=1;t<=10;t++)o*=s,l+=this.A[t]*o;var u,d=l,h=i,p=1,f=0,m=0,b=0;for(t=1;t<=6;t++)u=f*d+p*h,p=p*d-f*h,f=u,m=m+this.B_re[t]*p-this.B_im[t]*f,b=b+this.B_im[t]*p+this.B_re[t]*f;return e.x=b*this.a+this.x0,e.y=m*this.a+this.y0,e},inverse:function(e){var t,r,a=e.x,n=e.y,s=a-this.x0,i=(n-this.y0)/this.a,o=s/this.a,l=1,u=0,d=0,h=0;for(t=1;t<=6;t++)r=u*i+l*o,l=l*i-u*o,u=r,d=d+this.C_re[t]*l-this.C_im[t]*u,h=h+this.C_im[t]*l+this.C_re[t]*u;for(var p=0;p<this.iterations;p++){var f,m=d,b=h,g=i,v=o;for(t=2;t<=6;t++)f=b*d+m*h,m=m*d-b*h,b=f,g+=(t-1)*(this.B_re[t]*m-this.B_im[t]*b),v+=(t-1)*(this.B_im[t]*m+this.B_re[t]*b);m=1,b=0;var y=this.B_re[1],j=this.B_im[1];for(t=2;t<=6;t++)f=b*d+m*h,m=m*d-b*h,b=f,y+=t*(this.B_re[t]*m-this.B_im[t]*b),j+=t*(this.B_im[t]*m+this.B_re[t]*b);var w=y*y+j*j;d=(g*y+v*j)/w,h=(v*y-g*j)/w}var _=d,O=h,x=1,M=0;for(t=1;t<=9;t++)x*=_,M+=this.D[t]*x;var k=this.lat0+M*c*1e5,C=this.long0+O;return e.x=C,e.y=k,e},names:["New_Zealand_Map_Grid","nzmg"]};var Yt={init:function(){},forward:function(e){var t=e.x,r=e.y,a=H(t-this.long0),n=this.x0+this.a*a,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return e.x=n,e.y=s,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=H(this.long0+e.x/this.a),r=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=r,e},names:["Miller_Cylindrical","mill"]};var Gt={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Xe(this.es)},forward:function(e){var t,r,a=e.x,n=e.y;if(a=H(a-this.long0),this.sphere){if(this.m)for(var s=this.n*Math.sin(n),i=20;i;--i){var o=(this.m*n+Math.sin(n)-s)/(this.m+Math.cos(n));if(n-=o,Math.abs(o)<p)break}else n=1!==this.n?Math.asin(this.n*Math.sin(n)):n;t=this.a*this.C_x*a*(this.m+Math.cos(n)),r=this.a*this.C_y*n}else{var c=Math.sin(n),l=Math.cos(n);r=this.a*$e(n,c,l,this.en),t=this.a*a*l/Math.sqrt(1-this.es*c*c)}return e.x=t,e.y=r,e},inverse:function(e){var t,r,a,n;return e.x-=this.x0,a=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,a/=this.C_x*(this.m+Math.cos(t)),this.m?t=Pt((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=Pt(Math.sin(t)/this.n)),a=H(a+this.long0),t=xt(t)):(t=et(e.y/this.a,this.es,this.en),(n=Math.abs(t))<l?(n=Math.sin(t),r=this.long0+e.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(t)),a=H(r)):n-p<l&&(a=this.long0)),e.x=a,e.y=t,e},names:["Sinusoidal","sinu"]};var qt={init:function(){},forward:function(e){for(var t=e.x,r=e.y,a=H(t-this.long0),n=r,s=Math.PI*Math.sin(r);;){var i=-(n+Math.sin(n)-s)/(1+Math.cos(n));if(n+=i,Math.abs(i)<p)break}n/=2,Math.PI/2-Math.abs(r)<p&&(a=0);var o=.900316316158*this.a*a*Math.cos(n)+this.x0,c=1.4142135623731*this.a*Math.sin(n)+this.y0;return e.x=o,e.y=c,e},inverse:function(e){var t,r;e.x-=this.x0,e.y-=this.y0,r=e.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),t=Math.asin(r);var a=H(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));a<-Math.PI&&(a=-Math.PI),a>Math.PI&&(a=Math.PI),r=(2*t+Math.sin(2*t))/Math.PI,Math.abs(r)>1&&(r=1);var n=Math.asin(r);return e.x=a,e.y=n,e},names:["Mollweide","moll"]};var Ht={init:function(){Math.abs(this.lat1+this.lat2)<p||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=yt(this.es),this.e1=jt(this.es),this.e2=wt(this.es),this.e3=_t(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=G(this.e,this.sinphi,this.cosphi),this.ml1=vt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<p?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=G(this.e,this.sinphi,this.cosphi),this.ml2=vt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=vt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(e){var t,r=e.x,a=e.y;if(this.sphere)t=this.a*(this.g-a);else{var n=vt(this.e0,this.e1,this.e2,this.e3,a);t=this.a*(this.g-n)}var s=this.ns*H(r-this.long0),i=this.x0+t*Math.sin(s),o=this.y0+this.rh-t*Math.cos(s);return e.x=i,e.y=o,e},inverse:function(e){var t,r,a,n;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(r=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(r=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var s=0;if(0!==r&&(s=Math.atan2(t*e.x,t*e.y)),this.sphere)return n=H(this.long0+s/this.ns),a=xt(this.g-r/this.a),e.x=n,e.y=a,e;var i=this.g-r/this.a;return a=Mt(i,this.e0,this.e1,this.e2,this.e3),n=H(this.long0+s/this.ns),e.x=n,e.y=a,e},names:["Equidistant_Conic","eqdc"]};var Wt={init:function(){this.R=this.a},forward:function(e){var t,r,a=e.x,n=e.y,s=H(a-this.long0);Math.abs(n)<=p&&(t=this.x0+this.R*s,r=this.y0);var i=Pt(2*Math.abs(n/Math.PI));(Math.abs(s)<=p||Math.abs(Math.abs(n)-l)<=p)&&(t=this.x0,r=n>=0?this.y0+Math.PI*this.R*Math.tan(.5*i):this.y0+Math.PI*this.R*-Math.tan(.5*i));var o=.5*Math.abs(Math.PI/s-s/Math.PI),c=o*o,u=Math.sin(i),d=Math.cos(i),h=d/(u+d-1),f=h*h,m=h*(2/u-1),b=m*m,g=Math.PI*this.R*(o*(h-b)+Math.sqrt(c*(h-b)*(h-b)-(b+c)*(f-b)))/(b+c);s<0&&(g=-g),t=this.x0+g;var v=c+h;return g=Math.PI*this.R*(m*v-o*Math.sqrt((b+c)*(c+1)-v*v))/(b+c),r=n>=0?this.y0+g:this.y0-g,e.x=t,e.y=r,e},inverse:function(e){var t,r,a,n,s,i,o,c,l,u,d,h;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,s=(a=e.x/d)*a+(n=e.y/d)*n,d=3*(n*n/(c=-2*(i=-Math.abs(n)*(1+s))+1+2*n*n+s*s)+(2*(o=i-2*n*n+a*a)*o*o/c/c/c-9*i*o/c/c)/27)/(l=(i-o*o/3/c)/c)/(u=2*Math.sqrt(-l/3)),Math.abs(d)>1&&(d=d>=0?1:-1),h=Math.acos(d)/3,r=e.y>=0?(-u*Math.cos(h+Math.PI/3)-o/3/c)*Math.PI:-(-u*Math.cos(h+Math.PI/3)-o/3/c)*Math.PI,t=Math.abs(a)<p?this.long0:H(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(a*a-n*n)+s*s))/2/a),e.x=t,e.y=r,e},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var Vt={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(e){var t,r,a,n,s,i,o,c,u,d,h,f,m,b,g,v,y,j,w,_,O,x,M=e.x,k=e.y,C=Math.sin(e.y),E=Math.cos(e.y),S=H(M-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=p?(e.x=this.x0+this.a*(l-k)*Math.sin(S),e.y=this.y0-this.a*(l-k)*Math.cos(S),e):Math.abs(this.sin_p12+1)<=p?(e.x=this.x0+this.a*(l+k)*Math.sin(S),e.y=this.y0+this.a*(l+k)*Math.cos(S),e):(j=this.sin_p12*C+this.cos_p12*E*Math.cos(S),y=(v=Math.acos(j))?v/Math.sin(v):1,e.x=this.x0+this.a*y*E*Math.sin(S),e.y=this.y0+this.a*y*(this.cos_p12*C-this.sin_p12*E*Math.cos(S)),e):(t=yt(this.es),r=jt(this.es),a=wt(this.es),n=_t(this.es),Math.abs(this.sin_p12-1)<=p?(s=this.a*vt(t,r,a,n,l),i=this.a*vt(t,r,a,n,k),e.x=this.x0+(s-i)*Math.sin(S),e.y=this.y0-(s-i)*Math.cos(S),e):Math.abs(this.sin_p12+1)<=p?(s=this.a*vt(t,r,a,n,l),i=this.a*vt(t,r,a,n,k),e.x=this.x0+(s+i)*Math.sin(S),e.y=this.y0+(s+i)*Math.cos(S),e):(o=C/E,c=Ot(this.a,this.e,this.sin_p12),u=Ot(this.a,this.e,C),d=Math.atan((1-this.es)*o+this.es*c*this.sin_p12/(u*E)),w=0===(h=Math.atan2(Math.sin(S),this.cos_p12*Math.tan(d)-this.sin_p12*Math.cos(S)))?Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.abs(Math.abs(h)-Math.PI)<=p?-Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.asin(Math.sin(S)*Math.cos(d)/Math.sin(h)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),v=c*w*(1-(_=w*w)*(g=(m=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es))*m)*(1-g)/6+(O=_*w)/8*(b=f*m)*(1-2*g)+(x=O*w)/120*(g*(4-7*g)-3*f*f*(1-7*g))-x*w/48*b),e.x=this.x0+v*Math.sin(h),e.y=this.y0+v*Math.cos(h),e))},inverse:function(e){var t,r,a,n,s,i,o,c,u,d,h,f,m,b,g,v,y,j,w,_,O,x,M;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if((t=Math.sqrt(e.x*e.x+e.y*e.y))>2*l*this.a)return;return r=t/this.a,a=Math.sin(r),n=Math.cos(r),s=this.long0,Math.abs(t)<=p?i=this.lat0:(i=Pt(n*this.sin_p12+e.y*a*this.cos_p12/t),o=Math.abs(this.lat0)-l,s=Math.abs(o)<=p?this.lat0>=0?H(this.long0+Math.atan2(e.x,-e.y)):H(this.long0-Math.atan2(-e.x,e.y)):H(this.long0+Math.atan2(e.x*a,t*this.cos_p12*n-e.y*this.sin_p12*a))),e.x=s,e.y=i,e}return c=yt(this.es),u=jt(this.es),d=wt(this.es),h=_t(this.es),Math.abs(this.sin_p12-1)<=p?(f=this.a*vt(c,u,d,h,l),t=Math.sqrt(e.x*e.x+e.y*e.y),i=Mt((f-t)/this.a,c,u,d,h),s=H(this.long0+Math.atan2(e.x,-1*e.y)),e.x=s,e.y=i,e):Math.abs(this.sin_p12+1)<=p?(f=this.a*vt(c,u,d,h,l),t=Math.sqrt(e.x*e.x+e.y*e.y),i=Mt((t-f)/this.a,c,u,d,h),s=H(this.long0+Math.atan2(e.x,e.y)),e.x=s,e.y=i,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),g=Math.atan2(e.x,e.y),m=Ot(this.a,this.e,this.sin_p12),v=Math.cos(g),j=-(y=this.e*this.cos_p12*v)*y/(1-this.es),w=3*this.es*(1-j)*this.sin_p12*this.cos_p12*v/(1-this.es),x=1-j*(O=(_=t/m)-j*(1+j)*Math.pow(_,3)/6-w*(1+3*j)*Math.pow(_,4)/24)*O/2-_*O*O*O/6,b=Math.asin(this.sin_p12*Math.cos(O)+this.cos_p12*Math.sin(O)*v),s=H(this.long0+Math.asin(Math.sin(g)*Math.sin(O)/Math.cos(b))),M=Math.sin(b),i=Math.atan2((M-this.es*x*this.sin_p12)*Math.tan(b),M*(1-this.es)),e.x=s,e.y=i,e)},names:["Azimuthal_Equidistant","aeqd"]};var Kt={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(e){var t,r,a,n,s,i,o,c=e.x,l=e.y;return a=H(c-this.long0),t=Math.sin(l),r=Math.cos(l),n=Math.cos(a),1,((s=this.sin_p14*t+this.cos_p14*r*n)>0||Math.abs(s)<=p)&&(i=1*this.a*r*Math.sin(a),o=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*r*n)),e.x=i,e.y=o,e},inverse:function(e){var t,r,a,n,s,i,o;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),r=Pt(t/this.a),a=Math.sin(r),n=Math.cos(r),i=this.long0,Math.abs(t)<=p?(o=this.lat0,e.x=i,e.y=o,e):(o=Pt(n*this.sin_p14+e.y*a*this.cos_p14/t),s=Math.abs(this.lat0)-l,Math.abs(s)<=p?(i=this.lat0>=0?H(this.long0+Math.atan2(e.x,-e.y)):H(this.long0-Math.atan2(-e.x,e.y)),e.x=i,e.y=o,e):(i=H(this.long0+Math.atan2(e.x*a,t*this.cos_p14*n-e.y*this.sin_p14*a)),e.x=i,e.y=o,e))},names:["ortho"]},Zt=1,Qt=2,Jt=3,Xt=4,$t=5,er=6,tr={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function rr(e,t,r,a){var n;return e<p?(a.value=tr.AREA_0,n=0):(n=Math.atan2(t,r),Math.abs(n)<=b?a.value=tr.AREA_0:n>b&&n<=l+b?(a.value=tr.AREA_1,n-=l):n>l+b||n<=-(l+b)?(a.value=tr.AREA_2,n=n>=0?n-v:n+v):(a.value=tr.AREA_3,n+=l)),n}function ar(e,t){var r=e+t;return r<-v?r+=g:r>+v&&(r-=g),r}var nr={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=l-b/2?this.face=$t:this.lat0<=-(l-b/2)?this.face=er:Math.abs(this.long0)<=b?this.face=Zt:Math.abs(this.long0)<=l+b?this.face=this.long0>0?Qt:Xt:this.face=Jt,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(e){var t,r,a,n,s,i,o={x:0,y:0},c={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,r=e.x,this.face===$t)n=l-t,r>=b&&r<=l+b?(c.value=tr.AREA_0,a=r-l):r>l+b||r<=-(l+b)?(c.value=tr.AREA_1,a=r>0?r-v:r+v):r>-(l+b)&&r<=-b?(c.value=tr.AREA_2,a=r+l):(c.value=tr.AREA_3,a=r);else if(this.face===er)n=l+t,r>=b&&r<=l+b?(c.value=tr.AREA_0,a=-r+l):r<b&&r>=-b?(c.value=tr.AREA_1,a=-r):r<-b&&r>=-(l+b)?(c.value=tr.AREA_2,a=-r-l):(c.value=tr.AREA_3,a=r>0?-r+v:-r-v);else{var u,d,h,p,f,m;this.face===Qt?r=ar(r,+l):this.face===Jt?r=ar(r,+v):this.face===Xt&&(r=ar(r,-l)),p=Math.sin(t),f=Math.cos(t),m=Math.sin(r),u=f*Math.cos(r),d=f*m,h=p,this.face===Zt?a=rr(n=Math.acos(u),h,d,c):this.face===Qt?a=rr(n=Math.acos(d),h,-u,c):this.face===Jt?a=rr(n=Math.acos(-u),h,-d,c):this.face===Xt?a=rr(n=Math.acos(-d),h,u,c):(n=a=0,c.value=tr.AREA_0)}return i=Math.atan(12/v*(a+Math.acos(Math.sin(a)*Math.cos(b))-l)),s=Math.sqrt((1-Math.cos(n))/(Math.cos(i)*Math.cos(i))/(1-Math.cos(Math.atan(1/Math.cos(a))))),c.value===tr.AREA_1?i+=l:c.value===tr.AREA_2?i+=v:c.value===tr.AREA_3&&(i+=1.5*v),o.x=s*Math.cos(i),o.y=s*Math.sin(i),o.x=o.x*this.a+this.x0,o.y=o.y*this.a+this.y0,e.x=o.x,e.y=o.y,e},inverse:function(e){var t,r,a,n,s,i,o,c,u,d,h,p,f={lam:0,phi:0},m={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,r=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?m.value=tr.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(m.value=tr.AREA_1,t-=l):e.x<0&&-e.x>=Math.abs(e.y)?(m.value=tr.AREA_2,t=t<0?t+v:t-v):(m.value=tr.AREA_3,t+=l),u=v/12*Math.tan(t),s=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),i=Math.atan(s),(o=1-(a=Math.cos(t))*a*(n=Math.tan(r))*n*(1-Math.cos(Math.atan(1/Math.cos(i)))))<-1?o=-1:o>1&&(o=1),this.face===$t)c=Math.acos(o),f.phi=l-c,m.value===tr.AREA_0?f.lam=i+l:m.value===tr.AREA_1?f.lam=i<0?i+v:i-v:m.value===tr.AREA_2?f.lam=i-l:f.lam=i;else if(this.face===er)c=Math.acos(o),f.phi=c-l,m.value===tr.AREA_0?f.lam=-i+l:m.value===tr.AREA_1?f.lam=-i:m.value===tr.AREA_2?f.lam=-i-l:f.lam=i<0?-i-v:-i+v;else{var b,g,y;u=(b=o)*b,g=(u+=(y=u>=1?0:Math.sqrt(1-u)*Math.sin(i))*y)>=1?0:Math.sqrt(1-u),m.value===tr.AREA_1?(u=g,g=-y,y=u):m.value===tr.AREA_2?(g=-g,y=-y):m.value===tr.AREA_3&&(u=g,g=y,y=-u),this.face===Qt?(u=b,b=-g,g=u):this.face===Jt?(b=-b,g=-g):this.face===Xt&&(u=b,b=g,g=-u),f.phi=Math.acos(-y)-l,f.lam=Math.atan2(g,b),this.face===Qt?f.lam=ar(f.lam,-l):this.face===Jt?f.lam=ar(f.lam,-v):this.face===Xt&&(f.lam=ar(f.lam,+l))}return 0!==this.es&&(d=f.phi<0?1:0,h=Math.tan(f.phi),p=this.b/Math.sqrt(h*h+this.one_minus_f_squared),f.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),d&&(f.phi=-f.phi)),f.lam+=this.long0,e.x=f.lam,e.y=f.phi,e},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},sr=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ir=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],or=.8487,cr=1.3523,lr=m/5,ur=1/lr,dr=18,hr=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))};var pr={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(e){var t=H(e.x-this.long0),r=Math.abs(e.y),a=Math.floor(r*lr);a<0?a=0:a>=dr&&(a=17);var n={x:hr(sr[a],r=m*(r-ur*a))*t,y:hr(ir[a],r)};return e.y<0&&(n.y=-n.y),n.x=n.x*this.a*or+this.x0,n.y=n.y*this.a*cr+this.y0,n},inverse:function(e){var t={x:(e.x-this.x0)/(this.a*or),y:Math.abs(e.y-this.y0)/(this.a*cr)};if(t.y>=1)t.x/=sr[18][0],t.y=e.y<0?-l:l;else{var r=Math.floor(t.y*dr);for(r<0?r=0:r>=dr&&(r=17);;)if(ir[r][0]>t.y)--r;else{if(!(ir[r+1][0]<=t.y))break;++r}var a=ir[r],n=5*(t.y-a[0])/(ir[r+1][0]-a[0]);n=function(e,t,r,a){for(var n=t;a;--a){var s=e(n);if(n-=s,Math.abs(s)<r)break}return n}((function(e){return(hr(a,e)-t.y)/function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])}(a,e)}),n,p,100),t.x/=hr(sr[r],n),t.y=(5*r+n)*f,e.y<0&&(t.y=-t.y)}return t.x=H(t.x+this.long0),t},names:["Robinson","robin"]};var fr={init:function(){this.name="geocent"},forward:function(e){return pe(e,this.es,this.a)},inverse:function(e){return fe(e,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},mr=0,br=1,gr=2,vr=3,yr={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};var jr={init:function(){if(Object.keys(yr).forEach(function(e){if("undefined"===typeof this[e])this[e]=yr[e].def;else{if(yr[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);yr[e].num&&(this[e]=parseFloat(this[e]))}yr[e].degrees&&(this[e]=this[e]*f)}.bind(this)),Math.abs(Math.abs(this.lat0)-l)<p?this.mode=this.lat0<0?br:mr:Math.abs(this.lat0)<p?this.mode=gr:(this.mode=vr,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)},forward:function(e){e.x-=this.long0;var t,r,a,n,s=Math.sin(e.y),i=Math.cos(e.y),o=Math.cos(e.x);switch(this.mode){case vr:r=this.sinph0*s+this.cosph0*i*o;break;case gr:r=i*o;break;case br:r=-s;break;case mr:r=s}switch(t=(r=this.pn1/(this.p-r))*i*Math.sin(e.x),this.mode){case vr:r*=this.cosph0*s-this.sinph0*i*o;break;case gr:r*=s;break;case mr:r*=-i*o;break;case br:r*=i*o}return n=1/((a=r*this.cg+t*this.sg)*this.sw*this.h1+this.cw),t=(t*this.cg-r*this.sg)*this.cw*n,r=a*n,e.x=t*this.a,e.y=r*this.a,e},inverse:function(e){e.x/=this.a,e.y/=this.a;var t,r,a,n={x:e.x,y:e.y};a=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*a,r=this.pn1*e.y*this.cw*a,e.x=t*this.cg+r*this.sg,e.y=r*this.cg-t*this.sg;var s=at(e.x,e.y);if(Math.abs(s)<p)n.x=0,n.y=e.y;else{var i,o;switch(o=1-s*s*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/s+s/this.pn1),i=Math.sqrt(1-o*o),this.mode){case vr:n.y=Math.asin(i*this.sinph0+e.y*o*this.cosph0/s),e.y=(i-this.sinph0*Math.sin(n.y))*s,e.x*=o*this.cosph0;break;case gr:n.y=Math.asin(e.y*o/s),e.y=i*s,e.x*=o;break;case mr:n.y=Math.asin(i),e.y=-e.y;break;case br:n.y=-Math.asin(i)}n.x=Math.atan2(e.x,e.y)}return e.x=n.x+this.long0,e.y=n.y,e},names:["Tilted_Perspective","tpers"]};var wr,_r={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(e){var t,r,a,n,s=e.x,i=e.y;if(s-=this.long0,"ellipse"===this.shape){i=Math.atan(this.radius_p2*Math.tan(i));var o=this.radius_p/at(this.radius_p*Math.cos(i),Math.sin(i));if(r=o*Math.cos(s)*Math.cos(i),a=o*Math.sin(s)*Math.cos(i),n=o*Math.sin(i),(this.radius_g-r)*r-a*a-n*n*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;t=this.radius_g-r,this.flip_axis?(e.x=this.radius_g_1*Math.atan(a/at(n,t)),e.y=this.radius_g_1*Math.atan(n/t)):(e.x=this.radius_g_1*Math.atan(a/t),e.y=this.radius_g_1*Math.atan(n/at(a,t)))}else"sphere"===this.shape&&(t=Math.cos(i),r=Math.cos(s)*t,a=Math.sin(s)*t,n=Math.sin(i),t=this.radius_g-r,this.flip_axis?(e.x=this.radius_g_1*Math.atan(a/at(n,t)),e.y=this.radius_g_1*Math.atan(n/t)):(e.x=this.radius_g_1*Math.atan(a/t),e.y=this.radius_g_1*Math.atan(n/at(a,t))));return e.x=e.x*this.a,e.y=e.y*this.a,e},inverse:function(e){var t,r,a,n,s=-1,i=0,o=0;if(e.x=e.x/this.a,e.y=e.y/this.a,"ellipse"===this.shape){this.flip_axis?(o=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*at(1,o)):(i=Math.tan(e.x/this.radius_g_1),o=Math.tan(e.y/this.radius_g_1)*at(1,i));var c=o/this.radius_p;if(t=i*i+c*c+s*s,(a=(r=2*this.radius_g*s)*r-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;n=(-r-Math.sqrt(a))/(2*t),s=this.radius_g+n*s,i*=n,o*=n,e.x=Math.atan2(i,s),e.y=Math.atan(o*Math.cos(e.x)/s),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if("sphere"===this.shape){if(this.flip_axis?(o=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+o*o)):(i=Math.tan(e.x/this.radius_g_1),o=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+i*i)),t=i*i+o*o+s*s,(a=(r=2*this.radius_g*s)*r-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;n=(-r-Math.sqrt(a))/(2*t),s=this.radius_g+n*s,i*=n,o*=n,e.x=Math.atan2(i,s),e.y=Math.atan(o*Math.cos(e.x)/s)}return e.x=e.x+this.long0,e},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};Ee.defaultDatum="WGS84",Ee.Proj=he,Ee.WGS84=new Ee.Proj("WGS84"),Ee.Point=Ke,Ee.toPoint=we,Ee.defs=F,Ee.nadgrid=function(e,t){var r=new DataView(t),a=function(e){var t=e.getInt32(8,!1);if(11===t)return!1;t=e.getInt32(8,!0),11!==t&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(r),n=function(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:oe(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}(r,a),s=function(e,t,r){for(var a=176,n=[],s=0;s<t.nSubgrids;s++){var i=le(e,a,r),o=ue(e,a,i,r),c=Math.round(1+(i.upperLongitude-i.lowerLongitude)/i.longitudeInterval),l=Math.round(1+(i.upperLatitude-i.lowerLatitude)/i.latitudeInterval);n.push({ll:[ie(i.lowerLongitude),ie(i.lowerLatitude)],del:[ie(i.longitudeInterval),ie(i.latitudeInterval)],lim:[c,l],count:i.gridNodeCount,cvs:ce(o)}),a+=176+16*i.gridNodeCount}return n}(r,n,a),i={header:n,subgrids:s};return ne[e]=i,i},Ee.transform=xe,Ee.mgrs=Re,Ee.version="__VERSION__",(wr=Ee).Proj.projections.add(tt),wr.Proj.projections.add(ot),wr.Proj.projections.add(ct),wr.Proj.projections.add(dt),wr.Proj.projections.add(ht),wr.Proj.projections.add(pt),wr.Proj.projections.add(mt),wr.Proj.projections.add(bt),wr.Proj.projections.add(gt),wr.Proj.projections.add(kt),wr.Proj.projections.add(At),wr.Proj.projections.add(Lt),wr.Proj.projections.add(Rt),wr.Proj.projections.add(Ft),wr.Proj.projections.add(Bt),wr.Proj.projections.add(Ut),wr.Proj.projections.add(zt),wr.Proj.projections.add(Yt),wr.Proj.projections.add(Gt),wr.Proj.projections.add(qt),wr.Proj.projections.add(Ht),wr.Proj.projections.add(Wt),wr.Proj.projections.add(Vt),wr.Proj.projections.add(Kt),wr.Proj.projections.add(nr),wr.Proj.projections.add(pr),wr.Proj.projections.add(fr),wr.Proj.projections.add(jr),wr.Proj.projections.add(_r);t.default=Ee},2136:function(e,t,r){"use strict";var a=r(1);t.a=()=>{const[e,t]=Object(a.useState)(Object.create(null));return[e,Object(a.useCallback)((()=>{t(Object.create(null))}),[t])]}},2138:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r(1);const n=e=>{const[t,r]=Object(a.useState)(e);return{members:t,setMembers:r,addMember:e=>{const a=e.filter((e=>!t.map((e=>e.username)).includes(e.username)));r(t.concat(a))},removeMember:e=>{r(t.filter((t=>t.username!==e)))}}}},2139:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){setTimeout((function(){e.map&&e.map.doubleClickZoom&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()}),0)},n=function(e){setTimeout((function(){e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()}),0)},s={onSetup:function(e){var t=this.newFeature({type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),n(this),this.updateUIClasses({mouse:"add"}),this.setActionableState({trash:!0}),{rectangle:t}},onTap:function(e,t){e.startPoint&&this.onMouseMove(e,t),this.onClick(e,t)},onClick:function(e,t){e.startPoint&&e.startPoint[0]!==t.lngLat.lng&&e.startPoint[1]!==t.lngLat.lat&&(this.updateUIClasses({mouse:"pointer"}),e.endPoint=[t.lngLat.lng,t.lngLat.lat],this.changeMode("simple_select",{featuresId:e.rectangle.id}));var r=[t.lngLat.lng,t.lngLat.lat];e.startPoint=r},onMouseMove:function(e,t){e.startPoint&&(e.rectangle.updateCoordinate("0.0",e.startPoint[0],e.startPoint[1]),e.rectangle.updateCoordinate("0.1",t.lngLat.lng,e.startPoint[1]),e.rectangle.updateCoordinate("0.2",t.lngLat.lng,t.lngLat.lat),e.rectangle.updateCoordinate("0.3",e.startPoint[0],t.lngLat.lat),e.rectangle.updateCoordinate("0.4",e.startPoint[0],e.startPoint[1]))},onKeyUp:function(e,t){if(27===t.keyCode)return this.changeMode("simple_select")},onStop:function(e){a(this),this.updateUIClasses({mouse:"none"}),this.activateUIButton(),void 0!==this.getFeature(e.rectangle.id)&&(e.rectangle.removeCoordinate("0.4"),e.rectangle.isValid()?this.map.fire("draw.create",{features:[e.rectangle.toGeoJSON()]}):(this.deleteFeature([e.rectangle.id],{silent:!0}),this.changeMode("simple_select",{},{silent:!0})))},toDisplayFeatures:function(e,t,r){var a=t.properties.id===e.rectangle.id;return t.properties.active=a?"true":"false",a?e.startPoint?r(t):void 0:r(t)},onTrash:function(e){this.deleteFeature([e.rectangle.id],{silent:!0}),this.changeMode("simple_select")}};t.default=s},2144:function(e,t,r){"use strict";r.d(t,"b",(function(){return k})),r.d(t,"a",(function(){return C}));var a=r(1),n=r(23),s=r(10),i=r(30),o=r(5),c=r(94),l=r(126),u=r(79),d=r(11),h=r(60),p=r(52),f=r(16),m=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];r(254),r(257),r(258),r(259),r(260),r(261),r(255),r(256),r(124),r(183),r(184),r(56),r(108);var b=Object(a.forwardRef)((function(e,t){var r=function(e){var t=e.defaultOptions,r=void 0!==t&&t,n=e.cacheOptions,s=void 0!==n&&n,i=e.loadOptions;e.options;var o=e.isLoading,c=void 0!==o&&o,l=e.onInputChange,b=e.filterOption,g=void 0===b?null:b,v=Object(p.a)(e,m),y=v.inputValue,j=Object(a.useRef)(void 0),w=Object(a.useRef)(!1),_=Object(a.useState)(Array.isArray(r)?r:void 0),O=Object(h.a)(_,2),x=O[0],M=O[1],k=Object(a.useState)("undefined"!==typeof y?y:""),C=Object(h.a)(k,2),E=C[0],S=C[1],N=Object(a.useState)(!0===r),T=Object(h.a)(N,2),D=T[0],I=T[1],A=Object(a.useState)(void 0),P=Object(h.a)(A,2),L=P[0],R=P[1],F=Object(a.useState)([]),B=Object(h.a)(F,2),U=B[0],z=B[1],Y=Object(a.useState)(!1),G=Object(h.a)(Y,2),q=G[0],H=G[1],W=Object(a.useState)({}),V=Object(h.a)(W,2),K=V[0],Z=V[1],Q=Object(a.useState)(void 0),J=Object(h.a)(Q,2),X=J[0],$=J[1],ee=Object(a.useState)(void 0),te=Object(h.a)(ee,2),re=te[0],ae=te[1];s!==re&&(Z({}),ae(s)),r!==X&&(M(Array.isArray(r)?r:void 0),$(r)),Object(a.useEffect)((function(){return w.current=!0,function(){w.current=!1}}),[]);var ne=Object(a.useCallback)((function(e,t){if(!i)return t();var r=i(e,t);r&&"function"===typeof r.then&&r.then(t,(function(){return t()}))}),[i]);Object(a.useEffect)((function(){!0===r&&ne(E,(function(e){w.current&&(M(e||[]),I(!!j.current))}))}),[]);var se=Object(a.useCallback)((function(e,t){var r=Object(f.l)(e,t,l);if(!r)return j.current=void 0,S(""),R(""),z([]),I(!1),void H(!1);if(s&&K[r])S(r),R(r),z(K[r]),I(!1),H(!1);else{var a=j.current={};S(r),I(!0),H(!L),ne(r,(function(e){w&&a===j.current&&(j.current=void 0,I(!1),R(r),z(e||[]),H(!1),Z(e?Object(d.a)(Object(d.a)({},K),{},Object(u.a)({},r,e)):K))}))}}),[s,ne,L,K,l]),ie=q?[]:E&&L?U:x||[];return Object(d.a)(Object(d.a)({},v),{},{options:ie,isLoading:D||c,onInputChange:se,filterOption:g})}(e),n=Object(l.a)(r);return a.createElement(c.a,Object(o.a)({ref:t},n))})),g=r(70),v=r(106),y=r(32),j=r(0);function w(e){let{editMode:t,switchModeFn:r}=e;return t?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)(y.c,{className:"pv2 ph3 ba b--red white bg-red fr mv1",onClick:()=>r(!t),children:Object(j.jsx)(i.a,{...g.a.edit})})}var _=r(80),O=r(29),x=r(1914),M=r(186);function k(e){let{addMembers:t,removeMembers:r,saveMembersFn:n,resetMembersFn:o,members:c,type:l,memberJoinTeamError:u,setMemberJoinTeamError:d,managerJoinTeamError:h,setManagerJoinTeamError:p}=e;const f=Object(s.d)((e=>e.auth.token)),[m,_]=Object(a.useState)(!1),[k,C]=Object(a.useState)(null),E=Object(j.jsx)(i.a,{...g.a.searchUsers});let S=Object(j.jsx)(i.a,{...g.a.managers});"members"===l&&(S=Object(j.jsx)(i.a,{...g.a.members}));const N=Object(a.useRef)(null);Object(M.a)(N,(()=>{(null===d||void 0===d?void 0:d(null))||null===p||void 0===p||p(null)})),Object(a.useEffect)((()=>{null===k&&m&&C(c)}),[c,m,C,k]);const T=e=>c.some((t=>t.username===e));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"bg-white b--grey-light pa4 ".concat(m?"bt bl br":"ba"),children:[Object(j.jsxs)("div",{className:"cf db",children:[Object(j.jsx)("h3",{className:"f3 blue-dark mv2 fw6 fl",children:S}),Object(j.jsx)(w,{editMode:m,switchModeFn:_})]}),Object(j.jsx)("div",{className:"cf mb1",children:m&&Object(j.jsx)(b,{classNamePrefix:"react-select",autoFocus:!0,isMulti:!0,cacheOptions:!0,placeholder:E,isClearable:!1,isOptionDisabled:e=>T(e.username),formatOptionLabel:(e,t)=>((e,t)=>Object(j.jsxs)("div",{className:"flex justify-between",children:[Object(j.jsx)("div",{children:e.username}),T(e.username)&&"menu"===t.context?Object(j.jsx)("div",{className:"f7 lh-copy gray",children:Object(j.jsx)(i.a,{...g.a.alreadyInTeam})}):"value"!==t.context&&Object(j.jsx)("button",{className:"bg-red white br2 pointer bn f7",children:"Add"})]}))(e,t),getOptionLabel:e=>e.username,getOptionValue:e=>e.username,noOptionsMessage:e=>{let{inputValue:t}=e;return t?Object(j.jsx)(i.a,{...g.a.noOptions}):null},loadOptions:e=>new Promise((t=>{setTimeout((async()=>{const r=await Object(O.b)("users/?username=".concat(e),f);t(r.users)}),1e3)})),onChange:e=>t(e||[]),className:"z-2"})}),Object(j.jsxs)("div",{className:"cf db mt3",children:[c.map((e=>Object(j.jsx)(v.b,{username:e.username,picture:e.pictureUrl,size:"large",colorClasses:"white bg-blue-grey mv1",removeFn:c.length>1&&r,editMode:c.length>1&&m},e.username))),0===c.length&&Object(j.jsx)("div",{className:"tc mt3",children:Object(j.jsx)(i.a,{...g.a.noMembers})}),(u||h)&&Object(j.jsx)("div",{className:"cf pv2",ref:N,children:Object(j.jsx)(x.a,{type:"error",children:Object(j.jsx)(i.a,{...g.a["".concat(u||h,"Error")]})})})]})]}),m&&Object(j.jsxs)("div",{className:"cf pt0",children:[Object(j.jsx)("div",{className:"w-70-l w-50 fl tr dib bg-grey-light",children:Object(j.jsx)(y.b,{className:"blue-dark bg-grey-light h3",onClick:()=>{o(k||[]),_(!1)},children:Object(j.jsx)(i.a,{...g.a.cancel})})}),Object(j.jsx)("div",{className:"w-30-l w-50 fr dib",children:Object(j.jsx)(y.b,{className:"white bg-red h3 w-100",onClick:()=>(n&&n(),C(c),void _(!1)),children:Object(j.jsx)(i.a,{...g.a.done})})})]})]})}function C(e){let{requests:t,teamId:r,addMembers:o,updateRequests:c,managers:l,updateTeam:u,joinMethod:d,members:h}=e;const p=Object(s.d)((e=>e.auth.token)),{username:f}=Object(s.d)((e=>e.auth.userDetails)),m="BY_REQUEST"===d&&(null===l||void 0===l?void 0:l.filter((e=>e.username===f&&"MANAGER"===e.function)).length)>0,[b,w]=Object(a.useState)(!1);Object(a.useEffect)((()=>{var e;const t=null===(e=l.find((e=>e.username===f)))||void 0===e?void 0:e.joinRequestNotifications;w(t)}),[f,l]);const x=Object(a.useCallback)(((e,a)=>{const n=JSON.stringify({username:e.username,role:"MEMBER",type:"join-response",action:a});Object(O.d)("teams/".concat(r,"/actions/join/"),n,p,"PATCH").then((r=>{"accept"===a&&o([e]),c(t.filter((t=>t.username!==e.username)))}))}),[r,t,c,o,p]);return Object(j.jsxs)("div",{className:"bg-white b--grey-light pa4 ba blue-dark",children:[Object(j.jsx)("div",{className:"cf db",children:Object(j.jsx)("h3",{className:"f3 blue-dark mt0 fw6 fl",children:Object(j.jsx)(i.a,{...g.a.joinRequests})})}),m&&Object(j.jsxs)("div",{className:"flex justify-between blue-grey",children:[Object(j.jsx)(i.a,{...g.a.newJoinRequestNotification}),Object(j.jsx)("div",{className:"fl ml5",children:Object(j.jsx)(_.h,{isChecked:b,onChange:e=>(e=>{const{checked:t}=e.target;w(t);let r=l.find((e=>e.username===f));Object.assign(r,{joinRequestNotifications:t,active:t}),u({members:[r,...h.filter((e=>e.username!==f))]})})(e),labelPosition:"right"})})]}),Object(j.jsxs)("div",{className:"cf db mt3",children:[t.map((e=>Object(j.jsxs)("div",{className:"cf db pt2",children:[Object(j.jsxs)("div",{className:"fl pt1",children:[Object(j.jsx)(v.b,{username:e.username,picture:e.pictureUrl,colorClasses:"white bg-blue-grey"}),Object(j.jsx)(n.a,{to:"/users/".concat(e.username),className:"v-mid link blue-dark",children:Object(j.jsx)("span",{children:e.username})})]}),Object(j.jsxs)("div",{className:"fr",children:[Object(j.jsx)(y.b,{className:"pr2 blue-dark bg-white",onClick:()=>x(e,"reject"),children:Object(j.jsx)(i.a,{...g.a.reject})}),Object(j.jsx)(y.b,{className:"pr2 bg-red white",onClick:()=>x(e,"accept"),children:Object(j.jsx)(i.a,{...g.a.accept})})]})]},e.username))),0===t.length&&Object(j.jsx)("div",{className:"tc mt3",children:Object(j.jsx)(i.a,{...g.a.noRequests})})]})]})}},2167:function(e,t,r){"use strict";r.r(t),r.d(t,"StateContext",(function(){return Ce})),r.d(t,"styleClasses",(function(){return Ee})),r.d(t,"handleCheckButton",(function(){return Se})),r.d(t,"ProjectEdit",(function(){return De}));var a=r(1),n=r.n(a),s=r(10),i=r(6),o=r(92),c=r.n(o),l=r(30),u=r(62),d=r(1918),h=r(1985),p=r.n(h),f=(r(1981),r(0));const m=e=>{let{localeCode:t,name:r,isActive:a,hasValue:n,onClick:s}=e;const i=a?"bg-blue-grey fw6 white":n?"bg-white fw6 blue-dark":"bg-white blue-grey";return Object(f.jsx)("li",{onClick:()=>s(t),className:"".concat(i," ba b--grey-light br1 ph2 mb2 pv1 f7 mr2 pointer"),title:r,children:t})};var b=r(1935);const g=e=>{let{children:t,name:r,type:n,maxLength:s,languages:i}=e;const{projectInfo:o,setProjectInfo:c,setSuccess:u,setError:h}=Object(a.useContext)(Ce),[p,b]=Object(a.useState)(null),g=o.projectInfoLocales,y=g.filter((e=>e.locale!==o.defaultLocale)).filter((e=>e[r])).map((e=>e.locale)),j=Object(a.useCallback)((()=>{const e=i.filter((e=>e.code===o.defaultLocale));if(e.length)return e[0].language}),[i,o.defaultLocale]),w=(e,t,r)=>{let a=g.filter((e=>e.locale===r)),n=null;0===a.length?n={locale:r,[e]:t}:(n=a[0],n[e]=t);let s=g.filter((e=>e.locale!==r));s.push(n),c({...o,projectInfoLocales:s})};return Object(a.useEffect)((()=>{null===p&&y&&y.length&&b(y[0])}),[p,y]),Object(a.useLayoutEffect)((()=>{u(!1),h(null)}),[p,u,h]),Object(f.jsxs)("div",{children:[t,Object(f.jsxs)("div",{className:"cf db mb0 pt1",children:[Object(f.jsxs)("label",{className:"cf db w-100 mb1 blue-grey fw5",children:[Object(f.jsx)(l.a,{...d.a.language})," - ",j()]}),Object(f.jsx)(v,{type:n,name:r,maxLength:s,updateContext:w,locale:o.defaultLocale})]}),Object(f.jsx)("p",{className:"cf db w-100 mv0 blue-grey fw5",children:Object(f.jsx)(l.a,{...d.a.translations})}),Object(f.jsx)("ul",{className:"list mb2 mt2 pa0 w-100 flex flex-wrap ttu",children:i&&i.filter((e=>e.code!==o.defaultLocale)).map((e=>Object(f.jsx)(m,{localeCode:e.code,name:e.language,isActive:e.code===p,hasValue:y.includes(e.code),onClick:b},e.code)))}),p?Object(f.jsx)(v,{type:n,name:r,maxLength:s,updateContext:w,locale:p}):Object(f.jsx)("span",{className:"pt2",children:Object(f.jsx)(l.a,{...d.a.selectLanguage})})]})},v=e=>{let{type:t,maxLength:r,name:n,locale:s,updateContext:i}=e;const{projectInfo:o,success:c,setSuccess:l,error:u,setError:h}=Object(a.useContext)(Ce),[p,m]=Object(a.useState)(""),g=Object(a.useCallback)((()=>{const e=o.projectInfoLocales.filter((e=>e.locale===s));e.length&&e[0][n]?m(e[0][n]):m("")}),[s,n,o.projectInfoLocales]);Object(a.useEffect)((()=>g()),[s,g]);const v=()=>{!1!==c&&l(!1),null!==u&&h(null)};return Object(f.jsxs)(f.Fragment,{children:["text"===t?Object(f.jsx)("input",{type:"text",onBlur:()=>i(n,p,s),className:Ee.inputClass,name:n,value:p,onChange:e=>{m(e.target.value),v()}}):Object(f.jsx)("div",{className:"w-80",children:Object(f.jsx)(b.a,{isShowTabNavs:!0,isShowFooter:!0,comment:p,setComment:e=>{m(e),v()},maxLength:r,markdownTextareaProps:{onBlur:()=>i(n,p,s),maxLength:r||null,name:n},placeholderMsg:d.a.typeHere})}),r&&Object(f.jsxs)("div",{className:"tr w-80 f7 ".concat(p&&p.length>.9*r?"red":"blue-light"),children:[p?p.length:0," / ",r]})]})},y=e=>{let{languages:t}=e;const{projectInfo:r,setProjectInfo:n}=Object(a.useContext)(Ce);return Object(f.jsxs)("div",{className:"w-100",children:[Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.status})}),[{value:"PUBLISHED",label:"PUBLISHED"},{value:"ARCHIVED",label:"ARCHIVED"},{value:"DRAFT",label:"DRAFT"}].map((e=>Object(f.jsxs)("label",{className:"dib pr5",children:[Object(f.jsx)("input",{value:e.value,checked:r.status===e.value,onChange:()=>n({...r,status:e.value}),type:"radio",className:"radio-input input-reset pointer v-mid dib h2 w2 mr2 br-100 ba b--blue-light"}),Object(f.jsx)(l.a,{...d.a["status".concat(e.label)]})]},e.value)))]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.priority})}),[{value:"URGENT",label:"URGENT"},{value:"HIGH",label:"HIGH"},{value:"MEDIUM",label:"MEDIUM"},{value:"LOW",label:"LOW"}].map((e=>Object(f.jsxs)("label",{className:"dib pr5",children:[Object(f.jsx)("input",{value:e.value,checked:r.projectPriority===e.value,onChange:()=>n({...r,projectPriority:e.value}),type:"radio",className:"radio-input input-reset pointer v-mid dib h2 w2 mr2 br-100 ba b--blue-light"}),Object(f.jsx)(l.a,{...d.a["projectPriority".concat(e.label)]})]},e.value)))]}),Object(f.jsx)("div",{className:Ee.divClass,children:Object(f.jsx)(g,{languages:t,name:"name",type:"text",preview:!1,maxLength:130,children:Object(f.jsxs)("label",{className:Ee.labelClass,children:[Object(f.jsx)(l.a,{...d.a.name}),"*"]})})}),Object(f.jsx)("div",{className:Ee.divClass,children:Object(f.jsx)(g,{languages:t,name:"shortDescription",maxLength:1500,children:Object(f.jsxs)("label",{className:Ee.labelClass,children:[Object(f.jsx)(l.a,{...d.a.shortDescription}),"*"]})})}),Object(f.jsx)("div",{className:Ee.divClass,children:Object(f.jsx)(g,{languages:t,name:"description",children:Object(f.jsxs)("label",{className:Ee.labelClass,children:[Object(f.jsx)(l.a,{...d.a.description}),"*"]})})}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.dueDate})}),Object(f.jsx)(p.a,{selected:Date.parse(r.dueDate),onChange:e=>n({...r,dueDate:e}),minDate:Date.parse(r.created),dateFormat:"dd/MM/yyyy",className:Ee.inputClass,showYearDropdown:!0,scrollableYearDropdown:!0}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.dueDateDescription})})]})]})};var j=r(2069);function w(e,t){const r=document.createElement("canvas").getContext("2d");return r.font=t||getComputedStyle(document.body).font,r.measureText(e).width}const _=e=>{let{languages:t}=e;const{projectInfo:r,setProjectInfo:n}=Object(a.useContext)(Ce),s=Object(j.a)(r.changesetComment,r.projectId)[0];return Object(f.jsxs)("div",{className:"w-100",children:[Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.changesetComment})}),Object(f.jsxs)("div",{className:"relative",children:[Object(f.jsx)("input",{className:Ee.inputClass,type:"text",value:r.changesetComment.split(s)[1],name:"changesetComment",onChange:e=>{if(["instructions","perTaskInstructions"].includes(e.target.name)){let t=r.projectInfoLocales.filter((e=>e.locale===r.defaultLocale))[0];t[e.target.name]=e.target.value;let a=r.projectInfoLocales.filter((e=>e.locale!==r.defaultLocale));a.push(t),n({...r,projectInfoLocales:a})}else n({...r,[e.target.name]:"changesetComment"===e.target.name?"".concat(s," ").concat(e.target.value.trimStart()):e.target.value})},style:{paddingLeft:w(s)+30}}),Object(f.jsx)(l.a,{...d.a.nonEditableComment,children:e=>Object(f.jsx)("span",{className:"absolute db bg-tan",style:{top:"9px",left:"8px",color:"fieldtext",lineHeight:1.15},title:e,children:s})})]}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.changesetCommentDescription})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.changesetCommentExample})})]}),Object(f.jsx)("div",{className:Ee.divClass,children:Object(f.jsx)(g,{languages:t,name:"instructions",children:Object(f.jsxs)("label",{className:Ee.labelClass,children:[Object(f.jsx)(l.a,{...d.a.instructions}),"*"]})})}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)(g,{languages:t,name:"perTaskInstructions",children:Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.perTaskInstructions})})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.perTaskInstructionsDescription})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.perTaskInstructionsExample})})]})]})};var O=r(107),x=r(55),M=r(80);const k=e=>{let{interests:t,projectInterests:r,setProjectInfo:a}=e;const n=r.map((e=>e.id)),s=t.map((e=>{let t=!1;return n.includes(e.id)&&(t=!0),{...e,selected:t}}));return Object(f.jsx)(M.c,{interests:s,field:"selected",changeSelect:e=>{const t=s.findIndex((t=>t.id===e)),r=s.map(((e,r)=>(r===t&&(e.selected=!e.selected),e))).filter((e=>!0===e.selected));r.map((e=>delete e.selected)),a((e=>({...e,interests:r})))}})},C=e=>{let{value:t,setProjectInfo:r}=e;return Object(f.jsx)("input",{className:Ee.inputClass,onChange:e=>{r((t=>({...t,extraIdParams:e.target.value})))},type:"text",name:"extraIdParams",placeholder:"disabled_features=buildings&offset=-10,5",value:t})},E=e=>{let{className:t,children:r}=e;return Object(f.jsx)("code",{className:"f6 i ph1 bg-white o-80 ".concat(t||""),children:r})};var S=r(29);const N={"category-roads-barrier":{name:"Barrier Features",members:["barrier/fence","barrier/wall","barrier/ditch","barrier/gate","barrier/hedge","barrier/kerb","barrier"]},"category-building":{name:"Building Features",members:["building","building/house","building/apartments","building/garage","building/retail","building/commercial","building/industrial","building/residential"]},"category-landuse":{name:"Land Use Features",members:["landuse/residential","landuse/industrial","landuse/commercial","landuse/retail","landuse/farmland","landuse/farmyard","landuse/forest","landuse/meadow","landuse/aquaculture","landuse/cemetery","landuse/military","landuse/religious"]},"category-natural":{name:"Natural Features",members:["natural/water","natural/wood","natural/scrub","natural/wetland","natural/grassland","natural/heath","natural/bare_rock","natural/beach","natural/cave_entrance","natural/glacier","natural/coastline","natural/tree_row","natural/peak","natural/cliff","natural/beach"]},"category-roads-path":{name:"Paths",members:["highway/path","highway/footway","highway/footway/marked","highway/footway/sidewalk","highway/steps","highway/cycleway","highway/bridleway","highway/pedestrian_line"]},"category-other-rail":{name:"Rails",members:["railway/rail","railway/disused","railway/tram","railway/subway","railway/narrow_gauge","railway/light_rail","railway/monorail","railway/funicular"]},"category-roads-restriction":{name:"Restriction Features",members:["type/restriction/no_left_turn","type/restriction/no_right_turn","type/restriction/no_straight_on","type/restriction/no_u_turn","type/restriction/only_left_turn","type/restriction/only_right_turn","type/restriction/only_straight_on","type/restriction/only_u_turn","type/restriction"]},"category-roads-major":{name:"Major Roads",members:["highway/motorway","highway/trunk","highway/primary","highway/secondary","highway/tertiary","highway/motorway_link","highway/trunk_link","highway/primary_link","highway/secondary_link","highway/tertiary_link"]},"category-roads-minor":{name:"Minor Roads",members:["highway/unclassified","highway/residential","highway/living_street","highway/service","highway/track"]},"category-roads-service":{name:"Service Roads",members:["highway/service","highway/service/parking_aisle","highway/service/driveway","highway/service/alley","highway/service/emergency_access","highway/service/drive-through"]},"category-roads-route":{name:"Route Features",members:["type/route/road","type/route/bicycle","type/route/foot","type/route/hiking","type/route/horse","type/route/piste","type/route/bus","type/route/train","type/route/light_rail","type/route/tram","type/route/subway","type/route/ferry","type/route/power","type/route/pipeline","type/route/detour","type/route_master","type/route"]},"category-other-utility":{name:"Utility Features",members:["power/line","power/minor_line","man_made/pipeline","power/cable/underground"]},"category-water":{name:"Water Bodies",members:["natural/water","natural/water/pond","natural/water/basin","natural/water/lake","natural/water/reservoir"]},"category-waterway":{name:"Waterways",members:["waterway/stream","waterway/drain","waterway/river","waterway/canal","waterway/ditch","natural/water/stream","natural/water/river","natural/water/canal"]},"category-places":{name:"Places",members:["place","place/locality","place/isolated_dwelling","place/hamlet","place/village","place/neighbourhood","place/suburb","place/town"]},"category-others":{name:"Others",members:["ford"]}};var T=r(1941);const D=()=>{const{projectInfo:e,setProjectInfo:t}=Object(a.useContext)(Ce),[r,n]=Object(a.useState)([]),i=Object(s.d)((e=>e.auth.userDetails)),o=Object(s.d)((e=>e.auth.token)),[c,u]=Object(a.useState)([]),[h,p]=Object(a.useState)([]);Object(a.useEffect)((()=>{if(i&&i.id){const e="ADMIN"===i.role?"":"&manager_user_id=".concat(i.id);Object(S.b)("organisations/?omitManagerList=true".concat(e),o).then((e=>u(e.organisations))).catch((e=>console.log(e)))}Object(S.b)("campaigns/").then((e=>p(e.campaigns))).catch((e=>console.log(e)))}),[i,o]);const m=r=>{t({...e,mappingTypes:r})};Object(a.useEffect)((()=>{0===r.length&&Object(S.b)("interests/").then((e=>{n(e.interests)}))}),[r.length]);let b=[];const g=Object.keys(N).map((t=>({label:N[t].name,options:N[t].members.map((t=>{const r={label:t,value:t};return e.idPresets&&!0===e.idPresets.includes(t)&&b.push(r),r}))})));return Object(f.jsxs)("div",{className:"w-100",children:[Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.difficulty})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.difficultyDescription})}),["EASY","MODERATE","CHALLENGING"].map((r=>Object(f.jsxs)("label",{className:"dib pr5",children:[Object(f.jsx)("input",{value:r,checked:e.difficulty===r,onChange:()=>t({...e,difficulty:r}),type:"radio",className:"radio-input input-reset pointer v-mid dib h2 w2 mr2 br-100 ba b--blue-light"}),Object(f.jsx)(l.a,{...d.a["difficulty".concat(r)]})]},r)))]}),Object(f.jsxs)("div",{className:Ee.divClass+" cf",children:[Object(f.jsxs)("div",{className:"w-50 fl",children:[Object(f.jsxs)("label",{className:Ee.labelClass,children:[Object(f.jsx)(l.a,{...d.a.mappingTypes}),"*"]}),[{item:"ROADS",messageId:"roads"},{item:"BUILDINGS",messageId:"buildings"},{item:"WATERWAYS",messageId:"waterways"},{item:"LAND_USE",messageId:"landUse"},{item:"OTHER",messageId:"other"}].map((t=>Object(f.jsxs)("div",{className:"pv3 pr3","aria-label":"mapping_types",children:[Object(f.jsx)("div",{className:"ph0 pt1 fl","aria-labelledby":t.messageId,children:Object(f.jsx)(M.a,{activeItems:e.mappingTypes,toggleFn:m,itemId:t.item})}),Object(f.jsx)("span",{className:"fl pt2 mr1 ph2",id:t.messageId,children:Object(f.jsx)(l.a,{...x.a[t.messageId]})})]},t.messageId)))]}),Object(f.jsxs)("div",{className:"w-50 fl",children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.idPresets})}),Object(f.jsx)(O.a,{classNamePrefix:"react-select",isClearable:!0,isMulti:!0,options:g,className:"z-9999",onChange:e=>{if(null===e)return void t((e=>({...e,idPresets:[]})));const r=e.map((e=>e.value));t((e=>({...e,idPresets:r})))},defaultValue:b})]})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.extraIdParams})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.extraIdParamsDescription,values:{text:Object(f.jsx)(E,{children:"disabled_features=buildings&offset=-10,5"})}})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.extraIdParamsDescriptionLink,values:{link:Object(f.jsx)(I,{})}})}),Object(f.jsx)(C,{value:e.extraIdParams?e.extraIdParams:"",setProjectInfo:t})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsxs)("label",{className:Ee.labelClass,children:[Object(f.jsx)(l.a,{...d.a.organisation}),"*"]}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.organisationDescription})}),Object(f.jsx)(O.a,{classNamePrefix:"react-select",isClearable:!1,getOptionLabel:e=>e.name,getOptionValue:e=>e.organisationId,options:c,defaultValue:e.organisation&&{name:e.organisationName,value:e.organisation},placeholder:Object(f.jsx)(l.a,{...d.a.selectOrganisation}),onChange:r=>t({...e,organisation:r.organisationId||""}),className:"z-5"})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.campaign})}),Object(f.jsx)(O.a,{classNamePrefix:"react-select",isClearable:!1,getOptionLabel:e=>e.name,getOptionValue:e=>e.id,isMulti:!0,options:h,placeholder:Object(f.jsx)(l.a,{...d.a.selectCampaign}),className:"z-4",defaultValue:e.campaigns,isSearchable:!0,onChange:r=>t({...e,campaigns:r})})]}),Object(f.jsxs)("div",{className:Ee.divClass.replace("w-70","w-80"),children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.categories})}),Object(f.jsx)(k,{interests:r,projectInterests:e.interests,setProjectInfo:t,setInterests:n})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.osmchaFilterId})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.osmchaFilterIdDescription})}),Object(f.jsx)("input",{className:Ee.inputClass,type:"text",name:"osmchaFilterId",value:e.osmchaFilterId||"",onChange:r=>{t({...e,osmchaFilterId:Object(T.b)(r.target.value)})}})]})]})},I=()=>Object(f.jsx)("a",{href:"https://github.com/openstreetmap/iD/blob/develop/API.md#url-parameters",className:"red underline link",target:"_blank",rel:"noopener noreferrer",children:Object(f.jsx)(l.a,{...d.a.iDAPIDocs})});var A=r(1943),P=r.n(A),L=(r(1972),r(2071),r(2072)),R=r.n(L),F=r(2139),B=r.n(F),U=r(1954),z=r.n(U),Y=r(1922),G=r(1965),q=r(32),H=r(13),W=r(9),V=r(2073),K=r(2074),Z=r(2098),Q=r(1914),J=r(1928);P.a.accessToken=W.r;try{P.a.setRTLTextPlugin(W.q)}catch{console.log("RTLTextPlugin is loaded")}const X=()=>{const{projectInfo:e,setProjectInfo:t}=Object(a.useContext)(Ce),r=Object(s.d)((e=>e.preferences.locale)),i=n.a.createRef(),[o,c]=Object(a.useState)({error:!1,message:null}),u=R.a.modes;u.draw_rectangle=B.a;const h={displayControlsDefault:!1,modes:u,styles:[{id:"gl-draw-polygon-fill-inactive",type:"fill",paint:{"fill-color":"#d73f3f","fill-opacity":.3}},{id:"gl-draw-polygon-line-inactive",type:"line",paint:{"line-color":"#d73f3f","line-dasharray":[2,2],"line-width":2,"line-opacity":.7}}]},[p,m]=Object(a.useState)({map:null,draw:new R.a(h)}),[b,g]=Object(a.useState)(null);let v=e.priorityAreas?e.priorityAreas:[];const y=v.map((e=>({type:"Feature",properties:{},geometry:e}))),j=r=>{const a=["Polygon"];try{let n=Object(K.d)(r,a);v=n.features.map((e=>e.geometry)),t({...e,priorityAreas:v}),p.map.getSource("priority_areas").setData(n)}catch(n){c({error:!0,message:Object(Z.a)(n.message)||n.message})}},{getRootProps:w,getInputProps:_,open:O}=Object(G.a)({onDrop:e=>{const t=e[0];if(t)try{c({error:!1,message:null}),Object(K.c)(t),Object(K.b)(t),Object(K.a)(t).then((e=>{j(e)})).catch((e=>c({error:!0,message:Object(Z.a)(e.message)||e.message})))}catch(r){c({error:!0,message:Object(Z.a)(r.message)||r.message})}},noClick:!0,noKeyboard:!0});Object(a.useLayoutEffect)((()=>{const e=P.a.supported()&&new P.a.Map({container:i.current,style:W.s,center:[0,0],zoom:1,attributionControl:!1}).addControl(new P.a.AttributionControl({compact:!1})).addControl(new z.a({defaultLanguage:r.substr(0,2)||"en"})).addControl(new P.a.NavigationControl);return m({...p,map:e}),()=>e&&e.remove()}),[]);const x=t=>{void 0===t.getSource("aoi")&&(t.addSource("aoi",{type:"geojson",data:e.areaOfInterest}),t.addLayer({id:"aoi",source:"aoi",type:"fill",paint:{"fill-color":W.d.orange,"fill-outline-color":"#929db3","fill-opacity":.4}})),void 0===t.getSource("priority_areas")&&(t.addSource("priority_areas",{type:"geojson",data:{type:"FeatureCollection",features:y}}),t.addLayer({id:"priority_area_border",type:"line",source:"priority_areas",paint:{"line-color":"#d73f3f","line-dasharray":[2,2],"line-width":2,"line-opacity":.7},layout:{visibility:"visible"}}),t.addLayer({id:"priority_areas",type:"fill",source:"priority_areas",paint:{"fill-color":"#d73f3f","fill-opacity":.3},layout:{visibility:"visible"}}))},M=r=>{v.push(r.features[0].geometry),t({...e,priorityAreas:v}),g(null)},k=()=>{if("draw_polygon"===b)return g(null),void p.draw.changeMode("simple_select");g("draw_polygon"),p.map.on("draw.update",M),p.map.once("draw.create",M),p.draw.changeMode("draw_polygon")},C=()=>{if("draw_rectangle"===b)return g(null),void p.draw.changeMode("simple_select");g("draw_rectangle"),p.map.on("draw.update",M),p.map.once("draw.create",M),p.draw.changeMode("draw_rectangle")};Object(a.useLayoutEffect)((()=>{null!==p.map&&P.a.supported()&&(p.map.on("load",(()=>{p.map.addControl(p.draw),x(p.map),p.map.fitBounds(e.aoiBBOX,{duration:0,padding:100})})),p.map.on("styledata",(()=>{x(p.map),void 0!==p.map.getSource("priority_areas")&&p.map.getSource("priority_areas").setData({type:"FeatureCollection",features:y})})))}),[p.map,p.draw,e,t,y]);const E=()=>{const r=p.draw.getMode();p.draw.deleteAll(),p.draw.changeMode(r),p.map.getSource("priority_areas").setData(Object(Y.e)([])),t({...e,priorityAreas:[]})};return P.a.supported()?Object(f.jsx)("div",{className:"w-100",...w(),children:Object(f.jsxs)("div",{className:"relative",children:[Object(f.jsxs)("div",{className:"cf absolute bg-white o-90 top-1 left-1 pa3 mw6 z-4 br1",children:[Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.priorityAreasDescription})}),Object(f.jsxs)("div",{children:[Object(f.jsxs)(q.c,{className:"bg-white ph3 pv2 mr2 ba ".concat("draw_polygon"===b?"red b--red":"blue-dark b--grey-light"),onClick:k,children:[Object(f.jsx)(H.Q,{className:"h1 w1 pb1 v-mid mr2"}),Object(f.jsx)(l.a,{...d.a.drawPolygon})]}),Object(f.jsxs)(q.c,{className:"bg-white ph3 pv2 mr2 ba ".concat("draw_rectangle"===b?"red b--red":"blue-dark b--grey-light"),onClick:C,children:[Object(f.jsx)(H.R,{className:"h1 w1 pb1 v-mid mr2"}),Object(f.jsx)(l.a,{...d.a.drawRectangle})]}),Object(f.jsxs)(q.c,{className:"bg-white blue-dark ba b--grey-light ph3 pv2",onClick:O,children:[Object(f.jsx)(H.x,{className:"h1 w1 v-mid mr2"}),Object(f.jsx)(l.a,{...d.a.selectFile})]}),Object(f.jsx)("input",{..._()}),Object(f.jsx)("p",{className:"f6 blue-grey lh-title mt3",children:Object(f.jsx)(l.a,{...d.a.importDescription})}),Object(f.jsx)("p",{className:"f5 mb0",children:Object(f.jsxs)(q.c,{onClick:E,className:"bg-white ph3 pv2 mr2 blue-dark ba b--grey-light",children:[Object(f.jsx)(H.sb,{className:"h1 w1 pb1 v-mid mr2"}),Object(f.jsx)(l.a,{...d.a.clearAll})]})})]}),!0===o.error&&Object(f.jsx)(Q.a,{type:"error",children:o.message})]}),Object(f.jsx)("div",{className:"absolute top-0 right-0 z-5 mr2",children:Object(f.jsx)(V.a,{map:p.map})}),Object(f.jsx)("div",{id:"priority-area-map",ref:i,className:"vh-75 w-100 bg-white"})]})}):Object(f.jsx)(J.a,{className:"vh-75 w-100 bg-white"})};var $=r(2034);const ee=()=>{const{projectInfo:e,setProjectInfo:t}=Object(a.useContext)(Ce),[r,n]=Object(a.useState)(null);Object(a.useLayoutEffect)((()=>{(async()=>{Object(S.b)("licenses/").then((e=>n(e.licenses))).catch((e=>console.log(e)))})()}),[n]);let s=null;return null!==r&&null!==e.licenseId&&(s=r.filter((t=>t.licenseId===e.licenseId))[0]),Object(f.jsxs)("div",{className:"w-100",children:[Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.imagery})}),Object(f.jsx)(te,{imagery:e.imagery,setProjectInfo:t})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.license})}),Object(f.jsx)(O.a,{classNamePrefix:"react-select",isClearable:!0,getOptionLabel:e=>e.name,getOptionValue:e=>e.licenseId,value:s,options:r,placeholder:Object(f.jsx)(l.a,{...d.a.selectLicense}),onChange:e=>{let r=null;null!==e&&(r=e.licenseId),t((e=>({...e,licenseId:r})))},className:"w-50 z-1"})]})]})},te=e=>{let{imagery:t,setProjectInfo:r}=e;const n=Object($.b)(t),[s,i]=Object(a.useState)(!(!n||"custom"!==n.value));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O.a,{classNamePrefix:"react-select",isClearable:!0,value:n,options:$.a,placeholder:Object(f.jsx)(l.a,{...d.a.selectImagery}),onChange:e=>{e?"custom"===e.value?(i(!0),r((e=>({...e,imagery:"https://..."})))):(i(!1),r((t=>({...t,imagery:e.value})))):(i(!1),r((e=>({...e,imagery:null}))))},className:"w-50 z-2"}),s&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{className:Ee.inputClass,onChange:e=>r((t=>({...t,imagery:e.target.value}))),type:"text",name:"imagery",value:t}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.imageryURLNote,values:{exampleUrl:Object(f.jsx)("span",{className:"db",children:Object(f.jsx)(E,{children:"tms[22]:https://hiu-maps.net/hot/1.0.0/kathmandu_flipped/{zoom}/{x}/{y}.png"})})}})})]})]})};var re=r(50),ae=r(120);const ne=()=>{var e;const t=Object(re.a)(),r={team:{name:null,teamId:null},role:{value:null,label:null},edit:!1},{projectInfo:n,setProjectInfo:s}=Object(a.useContext)(Ce),[i,o]=Object(a.useState)(r),[c,u]=Object(a.useState)(null),[,h,p]=Object(ae.b)("organisations/?omitManagerList=true"),[,m,b]=Object(ae.b)("teams/?omitMemberList=true"),g=[{value:"MAPPER",label:"Mapper"},{value:"VALIDATOR",label:"Validator"},{value:"PROJECT_MANAGER",label:"Project Manager"}],v=()=>({teamId:i.team.teamId,name:i.team.name,role:i.role.value}),y=(e,t)=>{o((r=>({...r,[t]:e})))},j=n.teams.map((e=>e.teamId));let w=null===b||void 0===b||null===(e=b.teams)||void 0===e?void 0:e.filter((e=>!j.includes(e.teamId)));var _,M;null!==c&&(w=[{label:c.name,options:null===(_=w)||void 0===_?void 0:_.filter((e=>e.organisationId===c.organisationId))},{label:"Others",options:null===(M=w)||void 0===M?void 0:M.filter((e=>e.organisationId!==c.organisationId))}]);return Object(f.jsxs)("div",{className:"w-80",children:[Object(f.jsx)("div",{className:"mb4",children:n.teams.map((e=>{return Object(f.jsxs)("div",{className:"w-100 cf pa2 bg-white blue-dark mb2",children:[Object(f.jsxs)("div",{className:"w-50 fl fw5",children:[Object(f.jsx)("span",{className:"pr1",children:e.name}),Object(f.jsx)("a",{className:"link blue-light",href:"/teams/".concat(e.teamId,"/membership/"),target:"_blank",rel:"noreferrer noopener",children:Object(f.jsx)(H.u,{})})]}),Object(f.jsx)("div",{className:"w-30 fl",children:(t=e.role,g.filter((e=>e.value===t))[0].label)}),Object(f.jsxs)("div",{className:"w-20 fl pl3 tr",children:[Object(f.jsx)("span",{className:"pa2 br-100 pointer bg-grey-light",onClick:()=>(e=>{const t=n.teams.filter((t=>t.teamId===e))[0],r=g.filter((e=>t.role===e.value))[0];o((e=>({...e,edit:!0,team:t,role:r})))})(e.teamId),children:Object(f.jsx)(H.W,{className:"h1 w1 blue-dark"})}),Object(f.jsx)("span",{className:" ml1 pa2 br-100 pointer bg-grey-light red",onClick:()=>(e=>{const t=n.teams.filter((t=>t.teamId!==e));s({...n,teams:t})})(e.teamId),children:Object(f.jsx)(H.sb,{className:"h1 w1"})})]})]},e.teamId);var t}))}),Object(f.jsx)(O.a,{classNamePrefix:"react-select",isClearable:!0,getOptionLabel:e=>e.name,getOptionValue:e=>e.organisationId,placeholder:Object(f.jsx)(l.a,{...d.a.filterByOrg}),options:h?[]:p.organisations,value:c,onChange:e=>u(e),className:"mb2 z-4",isLoading:h,loadingMessage:()=>t.formatMessage(x.a.loading)}),Object(f.jsxs)("div",{className:"cf pb3 flex justify-between",children:[Object(f.jsx)(O.a,{classNamePrefix:"react-select",getOptionLabel:e=>e.name,getOptionValue:e=>e.teamId,options:m?[]:w,onChange:e=>y(e,"team"),className:"w-40 fl pr2 z-3",value:null!==i.team.name?i.team:null,placeholder:Object(f.jsx)(l.a,{...d.a.selectTeam}),isDisabled:i.edit,isLoading:m,loadingMessage:()=>t.formatMessage(x.a.loading)}),Object(f.jsx)(O.a,{classNamePrefix:"react-select",getOptionLabel:e=>e.label,getOptionValue:e=>e.value,options:g,onChange:e=>y(e,"role"),className:"w-40 fl mr2 z-3",isDisabled:null===i.team.name,value:null!==i.role.value?i.role:null,placeholder:Object(f.jsx)(l.a,{...d.a.selectRole})}),Object(f.jsx)(q.b,{onClick:!1===i.edit?()=>{const e=n.teams;e.push(v()),s({...n,teams:e}),o(r)}:()=>{const e=n.teams.map((e=>{let t=e;return e.teamId===i.team.teamId&&(t=v()),t}));s({...n,teams:e}),o(r)},className:"bg-blue-dark white fl mr2 f6",disabled:null===i.team.name||null===i.role.value,children:!1===i.edit?Object(f.jsx)(l.a,{...d.a.add}):Object(f.jsx)(l.a,{...d.a.update})}),Object(f.jsx)(q.b,{onClick:()=>o(r),className:"bg-red white fl mr2 f6",disabled:!i.edit,children:Object(f.jsx)(l.a,{...d.a.cancel})})]})]})},se=e=>{let{permissions:t,type:r}=e;const{projectInfo:n,setProjectInfo:s}=Object(a.useContext)(Ce);return Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:"mappingPermission"===r?Object(f.jsx)(l.a,{...d.a.mappingPermission}):Object(f.jsx)(l.a,{...d.a.validationPermission})}),Object(f.jsx)("p",{className:Ee.pClass,children:"mappingPermission"===r?Object(f.jsx)(l.a,{...d.a.mappingPermissionDescription}):Object(f.jsx)(l.a,{...d.a.validationPermissionDescription})}),t.map((e=>Object(f.jsxs)("label",{className:"db pv2",children:[Object(f.jsx)("input",{value:e.value,checked:n[r]===e.value,onChange:()=>s({...n,[r]:e.value}),type:"radio",className:"radio-input input-reset pointer v-mid dib h2 w2 mr2 br-100 ba b--blue-light"}),e.label]},e.label.props.id)))]})},ie=()=>{const{projectInfo:e,setProjectInfo:t}=Object(a.useContext)(Ce),r=[{label:Object(f.jsx)(l.a,{...d.a.permissions_ANY}),value:"ANY"},{label:Object(f.jsx)(l.a,{...d.a.permissions_LEVEL}),value:"LEVEL"},{label:Object(f.jsx)(l.a,{...d.a.permissions_TEAMS}),value:"TEAMS"},{label:Object(f.jsx)(l.a,{...d.a.permissions_TEAMS_LEVEL}),value:"TEAMS_LEVEL"}];return Object(f.jsxs)("div",{className:"w-100",children:[Object(f.jsx)(se,{permissions:r,type:"mappingPermission"}),Object(f.jsx)(se,{permissions:r,type:"validationPermission"}),Object(f.jsxs)("div",{className:Ee.divClass.replace("w-70","w-90"),children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.teams})}),Object(f.jsx)(ne,{}),Object(f.jsx)("p",{className:"f6 blue-grey w-80 mt2",children:Object(f.jsx)(l.a,{...d.a.teamsPermissionNote})})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.privacy})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.privacyDescription})}),Object(f.jsx)(M.h,{label:Object(f.jsx)(l.a,{...d.a.privateProject}),labelPosition:"right",isChecked:e.private,onChange:()=>t({...e,private:!e.private})})]})]})};var oe=r(1976);const ce=e=>{let{languages:t,defaultLocale:r}=e;const{projectInfo:n,setProjectInfo:s}=Object(a.useContext)(Ce),i=e=>{s({...n,mappingEditors:e})},o=e=>{s({...n,validationEditors:e})},c=Object(oe.a)();return Object(f.jsxs)("div",{className:"w-100",children:[Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.language})}),Object(f.jsx)("select",{name:"defaultLocale",onChange:e=>{s({...n,defaultLocale:e.target.value})},className:"pa2 bg-white ba ba--grey-light",value:r,children:t.map((e=>Object(f.jsxs)("option",{value:e.code,children:[e.language," (",e.code,")"]},e.code)))})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.mappingEditors})}),c.map((e=>Object(f.jsxs)("div",{className:"pv3 pr3","aria-label":"mapping editor",children:[Object(f.jsx)("div",{className:"ph0 pt1 fl","aria-labelledby":e.value,children:Object(f.jsx)(M.a,{activeItems:n.mappingEditors,toggleFn:i,itemId:e.value})}),Object(f.jsx)("span",{className:"fl pt2 mr1 ph2",id:e.value,children:e.label})]},e.value))),n.hasOwnProperty("customEditor")&&n.customEditor&&Object(f.jsxs)("div",{className:"pv3 pr3","aria-label":"mapping editor",children:[Object(f.jsx)("div",{className:"ph0 pt1 fl","aria-labelledby":"Custom",children:Object(f.jsx)(M.a,{activeItems:n.mappingEditors,toggleFn:i,itemId:"CUSTOM"})}),Object(f.jsxs)("span",{className:"fl dib pt2 mr1 ph2",id:"Custom",children:[Object(f.jsx)(l.a,{...d.a.customEditor}),Object(f.jsxs)("span",{className:"",children:[": ",n.customEditor.name]})]})]})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.validationEditors})}),c.map((e=>Object(f.jsxs)("div",{className:"pv3 pr3","aria-label":"validation editor",children:[Object(f.jsx)("div",{className:"ph0 pt1 fl","aria-labelledby":e.value,children:Object(f.jsx)(M.a,{activeItems:n.validationEditors,toggleFn:o,itemId:e.value})}),Object(f.jsx)("span",{className:"fl pt2 mr1 ph2",id:e.value,children:e.label})]},e.value))),n.hasOwnProperty("customEditor")&&n.customEditor&&Object(f.jsxs)("div",{className:"pv3 pr3","aria-label":"validation editor",children:[Object(f.jsx)("div",{className:"ph0 pt1 fl","aria-labelledby":"Custom",children:Object(f.jsx)(M.a,{activeItems:n.validationEditors,toggleFn:o,itemId:"CUSTOM"})}),Object(f.jsxs)("span",{className:"fl dib pt2 mr1 ph2",id:"Custom",children:[Object(f.jsx)(l.a,{...d.a.customEditor}),Object(f.jsxs)("span",{className:"",children:[": ",n.customEditor.name]})]})]})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.randomTaskSelection})}),Object(f.jsx)(M.h,{label:Object(f.jsx)(l.a,{...d.a.randomTaskSelectionMapping}),labelPosition:"right",isChecked:n.enforceRandomTaskSelection,onChange:()=>s({...n,enforceRandomTaskSelection:!n.enforceRandomTaskSelection})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.randomTaskSelectionDescription})})]}),(n.mappingEditors.includes("RAPID")||n.validationEditors.includes("RAPID"))&&Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsxs)("label",{className:Ee.labelClass,children:[Object(f.jsx)(l.a,{...d.a.rapidPowerUser}),Object(f.jsx)("div",{className:"rapid-beta"})]}),Object(f.jsx)(M.h,{isChecked:n.rapidPowerUser,label:Object(f.jsx)(l.a,{...d.a.rapidPowerUser}),labelPosition:"right",onChange:()=>s({...n,rapidPowerUser:!n.rapidPowerUser})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.rapidPowerUserDescription})})]})]})};var le=r(82),ue=r(1944),de=r(1964);const he=e=>{let{status:t,action:r}=e,a="",n="";switch(r){case"MESSAGE_CONTRIBUTORS":a="messageContributorsSuccess",n="messageContributorsError";break;case"MAP_ALL_TASKS":a="mapAllSuccess",n="mapAllError";break;case"INVALIDATE_ALL_TASKS":a="invalidateAllSuccess",n="invalidateAllError";break;case"VALIDATE_ALL_TASKS":a="validateAllSuccess",n="validateAllError";break;case"RESET_BAD_IMAGERY":a="resetBadImagerySuccess",n="resetBadImageryError";break;case"RESET_ALL":a="resetAllSuccess",n="resetAllError";break;case"REVERT_VALIDATED_TASKS":a="revertVALIDATEDTasksSuccess",n="revertTasksError";break;case"REVERT_BADIMAGERY_TASKS":a="revertBADIMAGERYTasksSuccess",n="revertTasksError";break;case"TRANSFER_PROJECT":a="transferProjectSuccess",n="transferProjectError";break;case"DELETE_PROJECT":a="deleteProjectSuccess",n="deleteProjectError";break;default:return null}return Object(f.jsxs)(f.Fragment,{children:["success"===t&&Object(f.jsx)(Q.a,{type:"success",children:Object(f.jsx)(l.a,{...d.a[a]})}),"error"===t&&Object(f.jsx)(Q.a,{type:"error",children:Object(f.jsx)(l.a,{...d.a[n]})})]})},pe=e=>{let{projectId:t,close:r}=e;const a=Object(s.d)((e=>e.auth.token)),n=Object(de.a)((()=>Object(S.b)("projects/".concat(t,"/tasks/actions/reset-all/"),a,"POST")));return Object(f.jsxs)("div",{className:Ee.modalClass,children:[Object(f.jsx)("h2",{className:Ee.modalTitleClass,children:Object(f.jsx)(l.a,{...d.a.taskReset})}),Object(f.jsx)("p",{className:"".concat(Ee.pClass," pb3 "),children:Object(f.jsx)(l.a,{...d.a.taskResetConfirmation})}),Object(f.jsx)(he,{status:n.status,action:"RESET_ALL"}),Object(f.jsxs)("p",{className:"tr",children:[Object(f.jsx)(q.b,{className:Ee.whiteButtonClass,onClick:r,children:Object(f.jsx)(l.a,{...d.a.cancel})}),Object(f.jsx)(q.b,{className:Ee.redButtonClass,onClick:()=>n.execute(),loading:"pending"===n.status,disabled:"pending"===n.status,children:Object(f.jsx)(l.a,{...d.a.taskResetButton})})]})]})},fe=e=>{let{projectId:t,close:r}=e;const a=Object(s.d)((e=>e.auth.token)),n=Object(de.a)((()=>Object(S.b)("projects/".concat(t,"/tasks/actions/reset-all-badimagery/"),a,"POST")));return Object(f.jsxs)("div",{className:Ee.modalClass,children:[Object(f.jsx)("h2",{className:Ee.modalTitleClass,children:Object(f.jsx)(l.a,{...d.a.resetBadImagery})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.resetBadImageryConfirmation})}),Object(f.jsx)("p",{className:"".concat(Ee.pClass," pb2"),children:Object(f.jsx)(l.a,{...d.a.resetBadImageryDescription})}),Object(f.jsx)(he,{status:n.status,action:"RESET_BAD_IMAGERY"}),Object(f.jsxs)("p",{children:[Object(f.jsx)(q.b,{className:Ee.whiteButtonClass,onClick:r,children:Object(f.jsx)(l.a,{...d.a.cancel})}),Object(f.jsx)(q.b,{className:Ee.redButtonClass,onClick:()=>n.execute(),loading:"pending"===n.status,disabled:"pending"===n.status,children:Object(f.jsx)(l.a,{...d.a.resetBadImageryButton})})]})]})},me=e=>{let{projectId:t,close:r}=e;const a=Object(s.d)((e=>e.auth.token)),n=Object(de.a)((()=>Object(S.b)("projects/".concat(t,"/tasks/actions/validate-all/"),a,"POST")));return Object(f.jsxs)("div",{className:Ee.modalClass,children:[Object(f.jsx)("h2",{className:Ee.modalTitleClass,children:Object(f.jsx)(l.a,{...d.a.validateAllTasks})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.validateAllTasksConfirmation})}),Object(f.jsx)("p",{className:"".concat(Ee.pClass," pb2"),children:Object(f.jsx)(l.a,{...d.a.validateAllTasksDescription})}),Object(f.jsx)(he,{status:n.status,action:"VALIDATE_ALL_TASKS"}),Object(f.jsxs)("p",{children:[Object(f.jsx)(q.b,{className:Ee.whiteButtonClass,onClick:r,children:Object(f.jsx)(l.a,{...d.a.cancel})}),Object(f.jsx)(q.b,{className:Ee.redButtonClass,onClick:()=>n.execute(),loading:"pending"===n.status,disabled:"pending"===n.status,children:Object(f.jsx)(l.a,{...d.a.validateAllTasks})})]})]})},be=e=>{let{projectId:t,close:r}=e;const a=Object(s.d)((e=>e.auth.token)),n=Object(de.a)((()=>Object(S.b)("projects/".concat(t,"/tasks/actions/invalidate-all/"),a,"POST")));return Object(f.jsxs)("div",{className:Ee.modalClass,children:[Object(f.jsx)("h2",{className:Ee.modalTitleClass,children:Object(f.jsx)(l.a,{...d.a.invalidateAll})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.invalidateAllConfirmation})}),Object(f.jsx)("p",{className:"".concat(Ee.pClass," pb2"),children:Object(f.jsx)(l.a,{...d.a.invalidateAllDescription})}),Object(f.jsx)(he,{status:n.status,action:"INVALIDATE_ALL_TASKS"}),Object(f.jsxs)("p",{children:[Object(f.jsx)(q.b,{className:Ee.whiteButtonClass,onClick:r,children:Object(f.jsx)(l.a,{...d.a.cancel})}),Object(f.jsx)(q.b,{className:Ee.redButtonClass,onClick:()=>n.execute(),loading:"pending"===n.status,disabled:"pending"===n.status,children:Object(f.jsx)(l.a,{...d.a.invalidateAll})})]})]})},ge=e=>{let{projectId:t,close:r}=e;const a=Object(s.d)((e=>e.auth.token)),n=Object(de.a)((()=>Object(S.b)("projects/".concat(t,"/tasks/actions/map-all/"),a,"POST")));return Object(f.jsxs)("div",{className:Ee.modalClass,children:[Object(f.jsx)("h2",{className:Ee.modalTitleClass,children:Object(f.jsx)(l.a,{...d.a.mapAll})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.mapAllConfirmation})}),Object(f.jsx)("p",{className:"".concat(Ee.pClass," pb2"),children:Object(f.jsx)(l.a,{...d.a.mapAllDescription})}),Object(f.jsx)(he,{status:n.status,action:"MAP_ALL_TASKS"}),Object(f.jsxs)("p",{children:[Object(f.jsx)(q.b,{className:Ee.whiteButtonClass,onClick:r,children:Object(f.jsx)(l.a,{...d.a.cancel})}),Object(f.jsx)(q.b,{className:Ee.redButtonClass,onClick:()=>n.execute(),loading:"pending"===n.status,disabled:"pending"===n.status,children:Object(f.jsx)(l.a,{...d.a.mapAll})})]})]})},ve=e=>{let{projectId:t,close:r}=e;const[n,i]=Object(a.useState)(""),[o,c]=Object(a.useState)(""),u=Object(s.d)((e=>e.auth.token)),h=Object(de.a)((()=>Object(S.d)("projects/".concat(t,"/actions/message-contributors/"),JSON.stringify({subject:n,message:o}),u,"POST"))),p=e=>{i(e.target.value)};return Object(f.jsxs)("div",{className:Ee.modalClass,children:[Object(f.jsx)("h2",{className:Ee.modalTitleClass,children:Object(f.jsx)(l.a,{...d.a.messageContributors})}),Object(f.jsx)("p",{className:Ee.pClass+" pb3",children:Object(f.jsx)(l.a,{...d.a.messageContributorsDescription})}),Object(f.jsx)(l.a,{...d.a.subjectPlaceholder,children:e=>Object(f.jsx)("input",{value:n,onChange:p,name:"subject",className:"db center pa2 w-100 fl mb3",type:"text",placeholder:e})}),Object(f.jsx)(l.a,{...d.a.messagePlaceholder,children:e=>Object(f.jsx)("div",{className:"dib w-100 mt-3",children:Object(f.jsx)(b.a,{comment:o,setComment:c,enableHashtagPaste:!1,contributors:[],isShowTabNavs:!0})})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.messageContributorsTranslationAlert})}),Object(f.jsx)(he,{status:h.status,action:"MESSAGE_CONTRIBUTORS"}),Object(f.jsxs)("p",{children:[Object(f.jsx)(q.b,{className:Ee.whiteButtonClass,onClick:r,children:Object(f.jsx)(l.a,{...d.a.cancel})}),Object(f.jsx)(q.b,{className:Ee.redButtonClass,onClick:()=>h.execute(),loading:"pending"===h.status,disabled:"pending"===h.status,children:Object(f.jsx)(l.a,{...d.a.messageContributors})})]})]})},ye=e=>{var t;let{projectId:r,action:n}=e;const i=Object(s.d)((e=>e.auth.token)),[o,c]=Object(a.useState)(null),[,u,h]=Object(ae.a)("projects/".concat(r,"/contributions/")),p={VALIDATED:"validated",BADIMAGERY:"badImagery"},m=null===(t=h.userContributions)||void 0===t?void 0:t.filter((e=>e[p[n]]>0)),b=Object(de.a)((()=>Object(S.d)("projects/".concat(r,"/tasks/actions/reset-by-user/?username=").concat(o.username,"&action=").concat(n),null,i,"POST")));return Object(f.jsxs)("div",{children:[Object(f.jsx)(O.a,{classNamePrefix:"react-select",className:"w-40 fl pr2 z-3",getOptionLabel:e=>{let{username:t}=e;return t},getOptionValue:e=>{let{username:t}=e;return t},onChange:e=>{c(e)},value:o,options:m,isLoading:u}),Object(f.jsx)(q.b,{onClick:()=>b.execute(),loading:"pending"===b.status,disabled:"pending"===b.status||!o,className:Ee.buttonClass,children:Object(f.jsx)(l.a,{...d.a["revert".concat(n,"Tasks")]})}),Object(f.jsx)("div",{className:"pt1",children:Object(f.jsx)(he,{status:b.status,action:"REVERT_".concat(n,"_TASKS")})})]})},je=e=>{let{projectId:t,orgId:r}=e;const n=Object(s.d)((e=>e.auth.token)),{projectInfo:i}=Object(a.useContext)(Ce),[o,c]=Object(a.useState)(""),[u,h]=Object(a.useState)([]),[p,m]=Object(a.useState)([]),[b,g]=Object(a.useState)(!0);Object(a.useEffect)((()=>{Object(S.b)("organisations/".concat(r,"/?omitManagerList=false"),n).then((e=>h(e.managers.map((e=>e.username))))).then((()=>g(!1))),Object(S.b)("users/?pagination=false&role=ADMIN",n).then((e=>m(e.users.map((e=>e.username)))))}),[n,r]);const v=[{label:i.organisationName,options:null===u||void 0===u?void 0:u.map((e=>({label:e,value:e})))},{label:Object(f.jsx)(l.a,{...d.a.admins}),options:null===p||void 0===p?void 0:p.filter((e=>!(null!==u&&void 0!==u&&u.includes(e)))).map((e=>({label:e,value:e})))}],{username:y,role:j}=Object(s.d)((e=>e.auth.userDetails)),w=(null===u||void 0===u?void 0:u.includes(y))||"ADMIN"===j||y===i.author,_=Object(de.a)((()=>Object(S.d)("projects/".concat(t,"/actions/transfer-ownership/"),JSON.stringify({username:o}),n,"POST")));return Object(f.jsxs)("div",{children:[Object(f.jsx)(O.a,{classNamePrefix:"react-select",className:"w-40 fl pr2 z-3",getOptionLabel:e=>{let{label:t}=e;return t},getOptionValue:e=>{let{value:t}=e;return t},onChange:e=>{return t=null===e||void 0===e?void 0:e.value,void c(t);var t},value:null===v||void 0===v?void 0:v.find((e=>e.value===o)),options:v,isLoading:b}),Object(f.jsx)(q.b,{onClick:()=>_.execute(),loading:"pending"===_.status,disabled:"pending"===_.status||!o||!w,className:Ee.buttonClass,children:Object(f.jsx)(l.a,{...d.a.transferProject})}),Object(f.jsx)("div",{className:"pt1",children:Object(f.jsx)(he,{status:_.status,action:"TRANSFER_PROJECT"})})]})},we=e=>{let{projectId:t,projectName:r,orgId:a}=e;const n=Object(i.q)();return Object(f.jsxs)("div",{className:"w-100",children:[Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.messageContributors})}),Object(f.jsx)(le.a,{trigger:Object(f.jsx)(q.b,{className:Ee.actionClass,children:Object(f.jsx)(l.a,{...d.a.messageContributors})}),modal:!0,closeOnDocumentClick:!0,nested:!0,children:e=>Object(f.jsx)(ve,{projectId:t,close:e})})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.mappingValidationSection})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.mappingValidationSectionDescription})}),Object(f.jsxs)("p",{className:Ee.pClass,children:[Object(f.jsxs)("span",{className:"fw6",children:[Object(f.jsx)(l.a,{...d.a.warning}),":"," "]}),Object(f.jsx)(l.a,{...d.a.canNotUndo})]}),Object(f.jsx)(le.a,{trigger:Object(f.jsx)(q.b,{className:Ee.actionClass,children:Object(f.jsx)(l.a,{...d.a.mapAll})}),modal:!0,closeOnDocumentClick:!0,children:e=>Object(f.jsx)(ge,{projectId:t,close:e})}),Object(f.jsx)(le.a,{trigger:Object(f.jsx)(q.b,{className:Ee.actionClass,children:Object(f.jsx)(l.a,{...d.a.invalidateAll})}),modal:!0,closeOnDocumentClick:!0,children:e=>Object(f.jsx)(be,{projectId:t,close:e})}),Object(f.jsx)(le.a,{trigger:Object(f.jsx)(q.b,{className:Ee.actionClass,children:Object(f.jsx)(l.a,{...d.a.validateAllTasks})}),modal:!0,closeOnDocumentClick:!0,children:e=>Object(f.jsx)(me,{projectId:t,close:e})})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.resetAll})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.resetAllDescription})}),Object(f.jsxs)("p",{className:Ee.pClass,children:[Object(f.jsxs)("span",{className:"fw6",children:[Object(f.jsx)(l.a,{...d.a.warning}),":"," "]}),Object(f.jsx)(l.a,{...d.a.canNotUndo})]}),Object(f.jsx)(le.a,{trigger:Object(f.jsx)(q.b,{className:Ee.actionClass,children:Object(f.jsx)(l.a,{...d.a.resetAllButton})}),modal:!0,closeOnDocumentClick:!0,children:e=>Object(f.jsx)(pe,{projectId:t,close:e})}),Object(f.jsx)(le.a,{trigger:Object(f.jsx)(q.b,{className:Ee.actionClass,children:Object(f.jsx)(l.a,{...d.a.resetBadImageryButton})}),modal:!0,closeOnDocumentClick:!0,children:e=>Object(f.jsx)(fe,{projectId:t,close:e})})]}),["VALIDATED","BADIMAGERY"].map((e=>Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a["revert".concat(e,"TasksTitle")]})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a["revert".concat(e,"TasksDescription")]})}),Object(f.jsx)(ye,{projectId:t,action:e})]},e))),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.transferProjectTitle})}),Object(f.jsxs)("p",{className:Ee.pClass,children:[Object(f.jsxs)("span",{className:"fw6",children:[Object(f.jsx)(l.a,{...d.a.warning}),":"," "]}),Object(f.jsx)(l.a,{...d.a.canNotUndo})]}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.transferProjectAlert})}),Object(f.jsx)(je,{projectId:t,orgId:a})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.cloneProject})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.cloneProjectDescription})}),Object(f.jsx)(q.b,{onClick:()=>n("/manage/projects/new/?cloneFrom=".concat(t)),className:Ee.actionClass,children:Object(f.jsx)(l.a,{...d.a.cloneProject})})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.deleteProject})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.deleteProjectAlert})}),Object(f.jsxs)("p",{className:Ee.pClass,children:[Object(f.jsxs)("span",{className:"fw6",children:[Object(f.jsx)(l.a,{...d.a.warning}),":"," "]}),Object(f.jsx)(l.a,{...d.a.canNotUndo})]}),Object(f.jsx)(ue.a,{id:t,name:r,type:"projects",className:"pointer bg-red white"})]})]})},_e=e=>{let{name:t,value:r,handleChange:a}=e;return Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:"name"===t?Object(f.jsx)(l.a,{...d.a.customEditorName}):Object(f.jsx)(l.a,{...d.a.customEditorUrl})}),Object(f.jsx)("input",{className:Ee.inputClass,onChange:a,name:t,type:"text",value:r})]})},Oe=e=>{let{languages:t}=e;const{projectInfo:r,setProjectInfo:n}=Object(a.useContext)(Ce),s=e=>{var t={...r.customEditor,[e.target.name]:"checkbox"===e.target.type?e.target.checked:e.target.value};n({...r,customEditor:t})};return Object(f.jsxs)("div",{className:"w-100",children:[Object(f.jsx)(_e,{name:"name",value:r.customEditor?r.customEditor.name:"",handleChange:s}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.customEditorDescription})}),Object(f.jsx)("textarea",{className:Ee.inputClass,onChange:s,rows:Ee.numRows,name:"description",type:"text",value:r.customEditor?r.customEditor.description:""})]}),Object(f.jsx)(_e,{name:"url",value:r.customEditor?r.customEditor.url:"",handleChange:s}),r.customEditor&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:"db pb3",children:Object(f.jsx)(M.h,{label:Object(f.jsx)(l.a,{...d.a.customEditorEnabledForMapping}),labelPosition:"right",isChecked:r.mappingEditors.includes("CUSTOM"),onChange:()=>{let e=r.mappingEditors;e.includes("CUSTOM")?e=e.filter((e=>"CUSTOM"!==e)):e.push("CUSTOM"),n({...r,mappingEditors:e})}})}),Object(f.jsx)("label",{className:"db pt1",children:Object(f.jsx)(M.h,{label:Object(f.jsx)(l.a,{...d.a.customEditorEnabledForValidation}),labelPosition:"right",isChecked:r.validationEditors.includes("CUSTOM"),onChange:()=>{let e=r.validationEditors;e.includes("CUSTOM")?e=e.filter((e=>"CUSTOM"!==e)):e.push("CUSTOM"),n({...r,validationEditors:e})}})})]}),Object(f.jsxs)("div",{className:Ee.divClass,children:[Object(f.jsx)("label",{className:Ee.labelClass,children:Object(f.jsx)(l.a,{...d.a.deleteCustomEditor})}),Object(f.jsx)("p",{className:Ee.pClass,children:Object(f.jsx)(l.a,{...d.a.confirmDeleteCustomEditor})}),Object(f.jsxs)(q.c,{className:"red bg-white pv2 ph3 ba b--red",onClick:e=>{n({...r,customEditor:null})},children:[Object(f.jsx)(H.sb,{className:"pr2 v-top"}),Object(f.jsx)(l.a,{...d.a.removeCustomEditor})]})]})]})]})};var xe=r(121),Me=r(164),ke=r(1919);const Ce=n.a.createContext(),Ee={divClass:"w-70-l w-100 pb4 mb3",labelClass:"f4 fw6 db mb3",pClass:"db mb3 f5",inputClass:"w-80 pa2 db mb2 ba b--grey-light",numRows:"4",buttonClass:"bg-blue-dark dib white",modalTitleClass:"f3 pb3 mv0 bb",drawButtonClass:"bg-blue-dark white mr2",redButtonClass:"bg-red white",whiteButtonClass:"bg-white blue-dark mr2",modalClass:"pa4",actionClass:"bg-blue-dark white dib mr2 mt2 pointer"},Se=(e,t)=>(!0===e.target.checked?t.push(e.target.value):t=t.filter((t=>t!==e.target.value)),t),Ne=(e,t)=>["TEAMS","TEAMS_LEVEL"].includes(t)&&0===e.filter((e=>"MAPPER"===e.role)).length&&0===e.filter((e=>"VALIDATOR"===e.role)).length&&0===e.filter((e=>"PROJECT_MANAGER"===e.role)).length,Te=(e,t)=>["TEAMS","TEAMS_LEVEL"].includes(t)&&0===e.filter((e=>"VALIDATOR"===e.role)).length&&0===e.filter((e=>"PROJECT_MANAGER"===e.role)).length;function De(){const{id:e}=Object(i.s)();Object(Me.b)("Edit project #".concat(e));const[t,r,n]=Object(ae.a)("system/languages/"),o=["name","shortDescription","description","instructions"],d=Object(s.d)((e=>e.auth.token)),[h,p]=Object(a.useState)(null),[m,b]=Object(a.useState)(!1),[g,v]=Object(a.useState)("description"),[j,w]=Object(a.useState)({mappingTypes:[],mappingEditors:[],validationEditors:[],organisation:"",teams:[],projectInfoLocales:[{locale:"",name:"",shortDescription:"",description:"",instructions:"",perTaskInstructions:""}],rapidPowerUser:!1}),[O]=Object(ke.b)(j),x=t||r?[]:n.supportedLanguages;Object(a.useLayoutEffect)((()=>{b(!1),p(null)}),[j,g]),Object(a.useLayoutEffect)((()=>{!async function(){try{const t=await Object(S.b)("projects/".concat(e,"/"),d,"GET");w(t)}catch(t){}}()}),[e,d]);const M=Object(de.a)(((t,r)=>{const[a]=j.projectInfoLocales.filter((e=>e.locale===j.defaultLocale));let n=[];if(void 0===a)n.push({locale:j.defaultLocale,fields:o});else{const e=o.filter((e=>!1===Object.keys(a).includes(e)||""===a[e]));e.length&&n.push({locale:a.locale,fields:e})}const s=[];0===j.mappingTypes.length&&s.push("mappingTypes");const{mappingEditors:i,validationEditors:c,customEditor:l}=j;(0===i.filter((e=>"CUSTOM"!==e)).length&&i.includes("CUSTOM")&&void 0===l||0===i.length)&&s.push("noMappingEditor"),(0===c.filter((e=>"CUSTOM"!==e)).length&&c.includes("CUSTOM")&&void 0===l||0===c.length)&&s.push("noValidationEditor"),j.organisation||s.push("organisation"),s.length&&n.push({locale:null,fields:s});const{teams:u,mappingPermission:h,validationPermission:f}=j;return(Ne(u,h)||Te(u,f))&&n.push({type:"noTeamsAssigned"}),n.length>0?(p(n),new Promise(((e,t)=>t()))):Object(S.d)("projects/".concat(e,"/"),JSON.stringify(j),d,"PATCH").then((e=>{b(!0),p(null)})).catch((e=>p("SERVER")))}));if(j.projectId&&!O)return Object(f.jsx)("div",{className:"cf w-100 pv5",children:Object(f.jsx)("div",{className:"tc",children:Object(f.jsx)("h3",{className:"f3 fw8 mb4 barlow-condensed",children:Object(f.jsx)(l.a,{...u.a.projectEditNotAllowed})})})});return Object(f.jsxs)("div",{className:"cf pv3 blue-dark",children:[Object(f.jsx)("h2",{className:"pb2 f2 fw6 mt2 mb3 ttu barlow-condensed blue-dark",children:Object(f.jsx)(l.a,{...u.a.editProject})}),Object(f.jsx)("div",{className:"fl w-30-l w-100 ph0-ns ph4-m ph2 pb4 sticky-top-l",children:Object(f.jsxs)(c.a,{showLoadingAnimation:!0,rows:8,ready:j&&j.projectInfo,className:"pr3",children:[(()=>{const e=e=>{let t="w-90 link barlow-condensed f4 fw5 pv3 pl2 pointer";return g===e&&(t=t.concat(" fw6 bg-grey-light")),t};return Object(f.jsx)("div",{children:Object(f.jsx)("ul",{className:"list pl0 mt0 ttu",children:[{value:"description",required:!0},{value:"instructions",required:!0},{value:"metadata",required:!0},{value:"priority_areas"},{value:"imagery"},{value:"permissions"},{value:"settings"},{value:"actions"},{value:"custom_editor"}].map(((t,r)=>Object(f.jsxs)("li",{className:e(t.value),onClick:()=>v(t.value),children:[Object(f.jsx)(l.a,{...u.a["projectEditSection_".concat(t.value)]}),t.required&&" *"]},r)))})})})(),Object(f.jsx)(q.b,{onClick:()=>M.execute(),className:"db bg-red white pa3 bn",loading:"pending"===M.status,children:Object(f.jsx)(l.a,{...u.a.save})}),Object(f.jsx)("div",{style:{minHeight:"3rem"},children:(h||m)&&Object(f.jsx)(Pe,{error:h,success:m,projectInfo:j})}),Object(f.jsx)("span",{className:"db",children:Object(f.jsx)(xe.a,{value:null,options:[{label:Object(f.jsx)(l.a,{...u.a.projectPage}),href:"/projects/".concat(j.projectId,"/"),internalLink:!0},{label:Object(f.jsx)(l.a,{...u.a.tasksPage}),href:"/projects/".concat(j.projectId,"/tasks/"),internalLink:!0},{label:Object(f.jsx)(l.a,{...u.a.projectStats}),href:"/projects/".concat(j.projectId,"/stats/"),internalLink:!0}],display:Object(f.jsx)(l.a,{...u.a.accessProject}),className:"ba b--grey-light bg-white mr1 f5 v-mid pv2 ph3"})})]})}),Object(f.jsx)(c.a,{showLoadingAnimation:!0,type:"media",rows:26,delay:200,ready:j&&j.projectInfo,children:Object(f.jsx)(Ce.Provider,{value:{projectInfo:j,setProjectInfo:w,success:m,setSuccess:b,error:h,setError:p},children:Object(f.jsx)("div",{className:"fl w-70-l w-100 ph0-l ph4-m ph2",children:(e=>{switch(e){case"description":return Object(f.jsx)(y,{languages:x});case"instructions":return Object(f.jsx)(_,{languages:x});case"metadata":return Object(f.jsx)(D,{});case"imagery":return Object(f.jsx)(ee,{});case"permissions":return Object(f.jsx)(ie,{});case"settings":return Object(f.jsx)(ce,{languages:x,defaultLocale:j.defaultLocale});case"priority_areas":return Object(f.jsx)(X,{});case"actions":return Object(f.jsx)(we,{projectId:j.projectId,projectName:j.projectInfo.name,orgId:j.organisation});case"custom_editor":return Object(f.jsx)(Oe,{languages:x,defaultLocale:j.defaultLocale});default:return null}})(g)})})})]})}const Ie=e=>{let{locale:t,numberOfMissingFields:r,type:a,projectInfo:n}=e;if("noTeamsAssigned"===a){const{teams:e,mappingPermission:t,validationPermission:r}=n;return Object(f.jsx)(l.a,{...u.a.noTeamsAssigned,values:{mapping:Ne(e,t),validation:Te(e,r)}})}return null===t?Object(f.jsx)(l.a,{...u.a.missingFields,values:{number:r}}):Object(f.jsx)(l.a,{...u.a.missingFieldsForLocale,values:{locale:t}})},Ae=e=>{let{errors:t,projectInfo:r}=e;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:"fw6",children:Object(f.jsx)(l.a,{...u.a.saveProjectError})}),t.map(((e,t)=>{var a,n;return Object(f.jsxs)("div",{className:"cf w-100 pt2 ml3 pl2",children:[Object(f.jsx)("span",{children:Object(f.jsx)(Ie,{locale:e.locale,numberOfMissingFields:(null===(a=e.fields)||void 0===a?void 0:a.length)||0,type:e.type,projectInfo:r})}),Object(f.jsx)("ul",{className:"mt2 mb0",children:null===(n=e.fields)||void 0===n?void 0:n.map(((t,r)=>Object(f.jsxs)("li",{children:[Object(f.jsx)(l.a,{...d.a[t]}),r===e.fields.length-1?"":","]},r)))})]},t)}))]})},Pe=e=>{let{error:t,success:r,projectInfo:a}=e,n=null;return!0===r&&(n=Object(f.jsx)(l.a,{...u.a.updateSuccess})),null!==t&&"SERVER"!==t&&(n=Object(f.jsx)(Ae,{errors:t,projectInfo:a})),null!==t&&"SERVER"===t&&(n=Object(f.jsx)(l.a,{...u.a.serverError})),Object(f.jsx)("div",{className:"pv3 pr3",children:Object(f.jsx)(Q.a,{type:r?"success":"error",children:n})})}},2359:function(e,t,r){"use strict";r.r(t),r.d(t,"ManageTeams",(function(){return U})),r.d(t,"MyTeams",(function(){return z})),r.d(t,"ListTeams",(function(){return Y})),r.d(t,"CreateTeam",(function(){return H})),r.d(t,"EditTeam",(function(){return W})),r.d(t,"TeamDetail",(function(){return V}));var a=r(1),n=r(10),s=r(6),i=r(23),o=r(30),c=r(57),l=r(46),u=r(165),d=r.n(u),h=r(82),p=r(62),f=r(120),m=r(1919),b=r(164),g=r(2136),v=r(2138),y=r(29);function j(e){return e.filter((e=>"MEMBER"===e.function)).filter((e=>e.active))}function w(e){return e.filter((e=>"MANAGER"===e.function)).filter((e=>e.active))}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{username:e.username,pictureUrl:e.pictureUrl,function:t?"MANAGER":"MEMBER",active:!0}}var O=r(2144),x=r(1936),M=r(70),k=r(32),C=r(1935),E=r(1974),S=r(0);function N(e){let{teamId:t,members:r}=e;const s=Object(n.d)((e=>e.auth.token)),[i,c]=Object(a.useState)(""),[l,u]=Object(a.useState)(""),[h,p]=Object(a.useState)(null);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"bg-white b--grey-light pa4 ".concat(i?"bt bl br":"ba"),children:[Object(S.jsx)("div",{className:"cf db",children:Object(S.jsx)("h3",{className:"f3 blue-dark mt0 fw6 fl",children:Object(S.jsx)(o.a,{...M.a.messageMembers})})}),(i||l)&&Object(S.jsx)("div",{className:"cf mb1",children:Object(S.jsx)(o.a,{...M.a.subjectPlaceholder,children:e=>Object(S.jsx)("input",{value:l,onChange:e=>u(e.target.value),name:"subject",className:"db center pa2 w-100 fl mb3",type:"text",placeholder:e})})}),Object(S.jsx)("div",{className:"cf mb1",children:Object(S.jsx)(C.a,{comment:i,setComment:c,contributors:null===r||void 0===r?void 0:r.map((e=>e.username)),isShowTabNavs:!0})}),!i&&Object(S.jsx)(E.a,{status:h})]}),(i||l)&&Object(S.jsxs)("div",{className:"cf pt0",children:[Object(S.jsx)("div",{className:"w-70-l w-50 fl tr dib bg-grey-light",children:Object(S.jsx)(k.b,{className:"blue-dark bg-grey-light h3",onClick:()=>{c(""),u(""),p(null)},children:Object(S.jsx)(o.a,{...M.a.cancel})})}),Object(S.jsx)("div",{className:"w-30-l w-50 fr dib",children:Object(S.jsx)(k.b,{className:"white bg-red h3 w-100",onClick:()=>{i&&l&&s&&(p("sending"),Object(y.d)("teams/".concat(t,"/actions/message-members/"),JSON.stringify({message:i,subject:l}),s,"POST").then((e=>{d.a.success(Object(S.jsx)(o.a,{...M.a.sendMessageSuccess})),p("messageSent"),c(""),u("")})).catch((e=>{d.a.error(Object(S.jsx)(o.a,{...M.a.sendMessageFailure})),p("error")})))},disabled:!i||!l,children:Object(S.jsx)(o.a,{...M.a.send})})})]})]})}var T=r(1962),D=r(2167);const I=e=>{let{teamName:t,close:r,leaveTeam:a}=e;return Object(S.jsxs)("div",{className:D.styleClasses.modalClass,children:[Object(S.jsx)("h2",{className:D.styleClasses.modalTitleClass,children:Object(S.jsx)(o.a,{...M.a.leaveTheTeam})}),Object(S.jsx)("p",{className:"".concat(D.styleClasses.pClass," pb2"),children:Object(S.jsx)(o.a,{...M.a.leaveTheTeamDescription,values:{name:t,b:e=>Object(S.jsx)("strong",{children:e})}})}),Object(S.jsxs)("p",{children:[Object(S.jsx)(k.b,{className:D.styleClasses.whiteButtonClass,onClick:r,children:Object(S.jsx)(o.a,{...p.a.cancel})}),Object(S.jsx)(k.b,{className:D.styleClasses.redButtonClass,onClick:()=>a(),children:Object(S.jsx)(o.a,{...M.a.leave})})]})]})};var A=r(1944),P=r(177),L=r(171),R=r(1993),F=r(1914),B=r(2036);function U(){return Object(b.b)("Manage teams"),Object(S.jsx)(Y,{managementView:!0})}function z(){return Object(b.b)("My teams"),Object(S.jsx)("div",{className:"w-100 cf blue-dark",children:Object(S.jsx)(Y,{})})}function Y(e){var t;let{managementView:r=!1}=e;const s=Object(n.d)((e=>e.auth.userDetails)),[i,o]=Object(l.useQueryParams)({page:Object(l.withDefault)(l.NumberParam,1),showAll:l.BooleanParam,searchQuery:Object(l.withDefault)(l.StringParam,void 0)}),[c,u]=Object(a.useState)(Boolean(!i.showAll)),{searchQuery:d,...h}=i,{data:p,status:f}=Object(B.a)({fullMemberList:!1,paginate:!0,team_name:d,...r?c&&{manager:s.id}:{member:s.id},...h});Object(a.useEffect)((()=>{o({...i,page:1,showAll:!1===c||void 0})}),[c]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(x.g,{teams:null===p||void 0===p?void 0:p.teams,userDetails:s,managementView:r,userTeamsOnly:c,setUserTeamsOnly:u,query:i,setQuery:o,teamsStatus:f}),Object(S.jsx)(L.a,{className:"flex items-center flex-end gap-1",activePage:i.page,setPageFn:e=>{o({...i,page:e},"pushIn")},lastPage:(null===p||void 0===p||null===(t=p.pagination)||void 0===t?void 0:t.pages)||1})]})}const G=(e,t,r,a)=>Object(y.d)("teams/".concat(e,"/actions/add/"),JSON.stringify({username:t,role:r}),a,"POST"),q=(e,t,r,a)=>Object(y.d)("teams/".concat(e,"/actions/leave/"),JSON.stringify({username:t,role:r}),a,"POST");function H(){Object(b.b)("Create new team");const e=Object(s.q)(),t=Object(n.d)((e=>e.auth.userDetails)),r=Object(n.d)((e=>e.auth.token)),{members:l,setMembers:u,addMember:h,removeMember:f}=Object(v.a)([{username:t.username,pictureUrl:t.pictureUrl}]),{members:m,setMembers:g,addMember:j,removeMember:w}=Object(v.a)([]),[_,M]=Object(a.useState)(!1);return Object(S.jsx)(c.b,{onSubmit:a=>{return delete(n=a).organisation,M(!1),void Object(y.d)("teams/",JSON.stringify(n),r,"POST").then((a=>{l.filter((e=>e.username!==t.username)).map((e=>G(a.teamId,e.username,"MANAGER",r))),m.map((e=>G(a.teamId,e.username,"MEMBER",r))),d.a.success(Object(S.jsx)(o.a,{...p.a.entityCreationSuccess,values:{entity:"team"}})),e("/manage/teams/".concat(a.teamId))})).catch((()=>M(!0)));var n},initialValues:{visibility:"PUBLIC"},render:e=>{let{handleSubmit:t,pristine:r,submitting:a,values:n}=e;return Object(S.jsxs)("form",{onSubmit:t,className:"blue-grey",children:[Object(S.jsxs)("div",{className:"cf pb5",children:[Object(S.jsx)("h3",{className:"f2 mb3 ttu blue-dark fw7 barlow-condensed",children:Object(S.jsx)(o.a,{...p.a.newTeam})}),Object(S.jsxs)("div",{className:"w-40-l w-100 fl",children:[Object(S.jsxs)("div",{className:"bg-white b--grey-light ba pa4 mb3",children:[Object(S.jsx)("h3",{className:"f3 blue-dark mv0 fw6",children:Object(S.jsx)(o.a,{...p.a.teamInfo})}),Object(S.jsx)(x.c,{})]}),_&&Object(S.jsx)(F.b,{entity:"team"})]}),Object(S.jsxs)("div",{className:"w-40-l w-100 fl pl5-l pl0 ",children:[Object(S.jsx)("div",{className:"mb3",children:Object(S.jsx)(O.b,{addMembers:h,removeMembers:f,members:l,resetMembersFn:u,creationMode:!0})}),Object(S.jsx)("div",{className:"mb3",children:Object(S.jsx)(O.b,{addMembers:j,removeMembers:w,members:m,resetMembersFn:g,creationMode:!0,type:"members"})})]})]}),Object(S.jsxs)("div",{className:"fixed left-0 right-0 bottom-0 cf bg-white h3",children:[Object(S.jsx)("div",{className:"w-80-ns w-60-m w-50 h-100 fl tr",children:Object(S.jsx)(i.a,{to:"../",children:Object(S.jsx)(k.c,{className:"bg-white mr5 pr2 h-100 bn bg-white blue-dark",children:Object(S.jsx)(o.a,{...p.a.cancel})})})}),Object(S.jsx)("div",{className:"w-20-l w-40-m w-50 h-100 fr",children:Object(S.jsx)(k.e,{disabled:a||r||!n.organisation_id,className:"w-100 h-100 bg-red white",disabledClassName:"bg-red o-50 white w-100 h-100",children:Object(S.jsx)(o.a,{...p.a.createTeam})})})]})]})}})}function W(e){const{id:t}=Object(s.s)(),r=Object(n.d)((e=>e.auth.userDetails)),i=Object(n.d)((e=>e.auth.token)),[c,l]=Object(g.a)(),[u,h,v]=Object(f.a)("teams/".concat(t,"/"),c),[y,M]=Object(a.useState)(!1),[k,C]=Object(a.useState)([]),[E,T]=Object(a.useState)([]),[D,I]=Object(a.useState)([]),[P]=Object(m.c)(v),[L,B]=Object(a.useState)(null),[U,z]=Object(a.useState)(null),[Y,H]=Object(a.useState)(!1);Object(a.useEffect)((()=>{!y&&v&&v.members&&(C(w(v.members)),T(j(v.members)),I(function(e){return e.filter((e=>!e.active))}(v.members)),M(!0))}),[v,k,y]),Object(a.useEffect)((()=>{v&&v.members&&(C(w(v.members)),T(j(v.members)))}),[v]),Object(b.b)("Edit ".concat(v.name));const W=e=>{C((t=>t.filter((t=>t.username!==e))))},V=e=>{const t=e.filter((e=>!E.map((e=>e.username)).includes(e.username))).map((e=>_(e)));T((e=>e.concat(t)))},K=e=>{T((t=>t.filter((t=>t.username!==e))))},Z=e=>{const t="managers"===e?"MANAGER":"MEMBER",{usersAdded:r,usersRemoved:a}=function(e,t){let r;r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?w:j;const a=r(e).map((e=>e.username)),n=r(t).map((e=>e.username));return{usersAdded:n.filter((e=>!a.includes(e))),usersRemoved:a.filter((e=>!n.includes(e)))}}(v.members,"managers"===e?k:E,"managers"===e);Promise.all([...r.map((r=>G(v.teamId,r,t,i).catch((t=>{"managers"===e?z(t.message):B(t.message),"managers"===e?W(r):K(r)})))),...a.map((e=>q(v.teamId,e,t,i)))]).then((()=>{d.a.success(Object(S.jsx)(o.a,{...p.a.affiliationUpdationSuccess,values:{affiliation:e}})),l()})).catch((()=>d.a.error(Object(S.jsx)(o.a,{...p.a.affiliationUpdationFailure,values:{affiliation:e}}))))},Q=()=>H(!0),J=e=>{"BY_INVITE"!==e.joinMethod&&(e.visibility="PUBLIC"),Object(R.a)("teams/".concat(t,"/"),"team",e,i,l,Q)};return v&&v.teamId&&!P?Object(S.jsx)("div",{className:"cf w-100 pv5",children:Object(S.jsx)("div",{className:"tc",children:Object(S.jsx)("h3",{className:"f3 fw8 mb4 barlow-condensed",children:Object(S.jsx)(o.a,{...p.a.teamEditNotAllowed})})})}):Object(S.jsxs)("div",{className:"cf pb4 bg-tan",children:[Object(S.jsxs)("div",{className:"cf mt4",children:[Object(S.jsx)("h3",{className:"f2 ttu blue-dark fw7 barlow-condensed v-mid ma0 dib ttu",children:Object(S.jsx)(o.a,{...p.a.manageTeam})}),Object(S.jsx)(A.a,{id:v.teamId,name:v.name,type:"teams"})]}),Object(S.jsxs)("div",{className:"w-40-l w-100 mt4 fl",children:[Object(S.jsx)(x.b,{userDetails:r,team:{name:v.name,description:v.description,joinMethod:v.joinMethod,visibility:v.visibility,organisation_id:v.organisation_id},updateTeam:J,disabledForm:u||h}),Y&&Object(S.jsx)(F.b,{entity:"team",action:"updation"})]}),Object(S.jsxs)("div",{className:"w-40-l w-100 mt4 pl5-l pl0 fl",children:[Object(S.jsx)(O.b,{addMembers:e=>{const t=e.filter((e=>!k.map((e=>e.username)).includes(e.username))).map((e=>_(e,!0)));C((e=>e.concat(t)))},removeMembers:W,saveMembersFn:()=>{Z("managers")},resetMembersFn:C,members:k,managerJoinTeamError:U,setManagerJoinTeamError:z}),Object(S.jsx)("div",{className:"h1"}),Object(S.jsx)(O.b,{addMembers:V,removeMembers:K,saveMembersFn:()=>{Z("members")},resetMembersFn:T,members:E,type:"members",memberJoinTeamError:L,setMemberJoinTeamError:B}),Object(S.jsx)("div",{className:"h1"}),Object(S.jsx)(O.a,{requests:D,teamId:v.teamId,addMembers:V,updateRequests:I,managers:k,updateTeam:J,joinMethod:v.joinMethod,members:v.members}),Object(S.jsx)("div",{className:"h1"}),Object(S.jsx)(N,{teamId:v.teamId,members:v.members})]})]})}function V(){const{id:e}=Object(s.s)();Object(b.b)("Team #".concat(e));const t=Object(n.d)((e=>e.auth.userDetails)),r=Object(n.d)((e=>e.auth.token)),[c,l,u]=Object(f.a)("teams/".concat(e,"/")),[d,m,g]=Object(f.a)("projects/?teamId=".concat(e,"&omitMapResults=true&projectStatuses=PUBLISHED,DRAFT,ARCHIVED"),e),[v,_]=Object(a.useState)(!1),[O,M]=Object(a.useState)([]),[C,E]=Object(a.useState)([]);Object(a.useEffect)((()=>{if(u&&u.members){M(w(u.members)),E(j(u.members));const e=u.members.filter((e=>e.username===t.username));e.length&&_(!!e.filter((e=>!0===e.active)).length||"requested")}}),[u,t.username]);const N=()=>{Object(y.d)("teams/".concat(e,"/actions/leave/"),JSON.stringify({username:t.username}),r,"POST").then((e=>{_(!1),E((e=>e.filter((e=>e.username!==t.username))))}))};return!l&&c?Object(S.jsx)(P.a,{}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"cf pa4-ns pa2 bg-tan blue-dark overflow-y-scroll-ns vh-minus-185-ns h-100",children:[Object(S.jsx)("div",{className:"w-40-l w-100 mt2 fl",children:Object(S.jsx)(x.d,{team:u,members:C,managers:O,requestedToJoin:"requested"===v})}),Object(S.jsx)("div",{className:"w-60-l w-100 mt2 pl5-l pl0 fl",children:Object(S.jsx)(T.a,{projects:g,viewAllEndpoint:"/explore/?team=".concat(e),ownerEntity:"team",showManageButtons:!1})})]}),Object(S.jsxs)("div",{className:"fixed bottom-0 cf bg-white h3 w-100",children:[Object(S.jsx)("div",{className:"".concat("BY_INVITE"!==u.joinMethod||v?"w-80-ns":"w-100-ns"," w-60-m w-50 h-100 fl tr"),children:Object(S.jsx)(i.a,{to:"/contributions/teams",children:Object(S.jsx)(k.c,{className:"bg-white mr5 pr2 h-100 bn bg-white blue-dark",children:Object(S.jsx)(o.a,{...p.a.myTeams})})})}),Object(S.jsx)("div",{className:"w-20-l w-40-m w-50 h-100 fr",children:v?Object(S.jsx)(h.a,{trigger:Object(S.jsx)(k.c,{className:"w-100 h-100 bg-red white",disabledClassName:"bg-red o-50 white w-100 h-100",children:Object(S.jsx)(o.a,{...p.a["requested"===v?"cancelRequest":"leaveTeam"]})}),modal:!0,closeOnEscape:!0,children:e=>Object(S.jsx)(I,{teamName:u.name,close:e,leaveTeam:N})}):"BY_INVITE"!==u.joinMethod&&Object(S.jsx)(k.c,{className:"w-100 h-100 bg-red white",disabledClassName:"bg-red o-50 white w-100 h-100",onClick:()=>{Object(y.d)("teams/".concat(e,"/actions/join/"),JSON.stringify({role:"MEMBER",username:t.username}),r,"POST").then((e=>{_(!u.inviteOnly||"requested"),E((e=>[...e,t]))}))},children:Object(S.jsx)(o.a,{...p.a.joinTeam})})})]})]})}}}]);
//# sourceMappingURL=teams.4d387140.chunk.js.map