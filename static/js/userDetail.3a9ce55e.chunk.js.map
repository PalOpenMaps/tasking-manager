{"version":3,"sources":["components/alert/index.js","hooks/UsePermissions.js","components/userDetail/messages.js","components/mappingLevel.js","components/webglUnsupported.js","components/statsCard.js","components/teamsAndOrgs/teamsPlaceholder.js","components/teamsAndOrgs/teams.js","components/statsTimestamp/messages.js","components/statsTimestamp/index.js","components/userDetail/barListChart.js","components/user/completeness.js","api/teams.js","components/user/topBar.js","components/projects/projectsMap.js","assets/img/mapMarker.png","components/userDetail/elementsMapped.js","components/menu.js","components/userDetail/userTeamsOrgs.js","api/organisations.js","assets/img/osm_logo.png","components/userDetail/headerProfile.js","assets/img/icons/osm-cha.png","assets/img/icons/hdyc-neis-one.png","assets/img/icons/slack.png","../node_modules/react-calendar-heatmap/dist/react-calendar-heatmap.umd.js","components/userDetail/countriesMapped.js","components/userDetail/topProjects.js","components/userDetail/contributionTimeline.js","views/userDetail.js"],"names":["Alert","_ref","type","compact","inline","iconClassName","children","Icon","info","InfoIcon","success","CheckIcon","warning","AlertIcon","error","BanIcon","_jsxs","className","concat","_jsx","EntityError","_ref2","entity","action","messageType","FormattedMessage","messages","values","useEditProjectAllowed","project","userDetails","useSelector","state","auth","organisations","pmTeams","isAllowed","setIsAllowed","useState","useEffect","role","author","username","includes","organisation","teams","filter","team","map","teamId","some","item","useEditTeamAllowed","organisation_id","members","managers","member","active","function","useEditOrgAllowed","org","organisationId","i","defineMessages","loading","id","defaultMessage","contributionTimelineTitle","projectsTitle","countries","timeSpentMapping","buildingsMapped","roadMapped","poiMapped","waterwaysMapped","userMapped","you","userValidated","invalidated","validated","finished","topProjectsMappedTitle","noTopProjectsData","topCausesTitle","others","noProjectsData","editsTitle","noEditsData","topCountriesTitle","tasks","heatmapNoContribution","heatmapContribution","heatmapContributions","heatmapLegendMore","heatmapLegendLess","userOrganisationsError","MappingLevelMessage","props","level","otherProps","message","DifficultyMessage","WebglUnsupported","webglUnsupportedTitle","webglUnsupportedDescription","a","msg","target","rel","href","StatsCard","icon","description","value","invertColors","StatsCardContent","Number","FormattedNumber","Math","trunc","label","nCardPlaceholders","N","Array","keys","_n","TextRow","color","style","width","height","RectShape","_","Fragment","RoundShape","TextBlock","rows","TeamsManagement","managementView","userTeamsOnly","setUserTeamsOnly","teamsStatus","query","setQuery","isOrgManager","length","Management","title","manage","myTeams","isAdmin","showAddButton","userOnly","setUserOnly","userOnlyLabel","TextField","searchQuery","placeholderMsg","searchTeams","onChange","e","undefined","page","onCloseIconClick","clearSearchQuery","ReactPlaceholder","showLoadingAnimation","customPlaceholder","delay","ready","errorLoadingTeams","_Fragment","TeamCard","noTeams","Teams","viewAllQuery","isReady","border","Link","to","AddButton","ViewAllLink","link","slice","noTeamsFound","_ref3","name","src","logo","alt","UserAvatarList","size","textColor","users","user","maxLength","totalCount","managersCount","teamMembers","membersCount","VisibilityBox","visibility","extraClasses","JoinMethodBox","joinMethod","TeamInformation","intl","useIntl","labelClasses","fieldClasses","formState","useFormState","joinMethods","ANY","BY_REQUEST","BY_INVITE","Field","component","required","OrganisationSelectInput","Object","method","RadioField","formatMessage","ReactTooltip","place","effect","public","private","TeamForm","Form","onSubmit","updateTeam","initialValues","mutators","setValue","render","_ref4","handleSubmit","dirty","submitSucceeded","dirtySinceLastSubmit","form","submitting","dirtyForm","teamInfo","disabled","Button","onClick","restart","cancel","disabledClassName","save","TeamSideBar","_ref5","requestedToJoin","isUserTeamManager","setSearchQuery","EditButton","url","editTeam","organisationSlug","noManagers","UserAvatar","picture","pictureUrl","colorClasses","noMembers","searchMembers","_ref6","toLowerCase","waitingApproval","TeamsBoxList","_ref7","mappingTeams","validationTeams","TeamBox","_ref8","generic","StatsTimestamp","lastUpdated","setLastUpdated","fetchExternalJSONAPI","OHSOME_STATS_BASE_URL","then","res","result","max_timestamp","catch","console","formattedDate","formatDate","year","month","day","hour","minute","timeZone","ProgressBar","percent","BarChartItem","percentValue","number","numberUnit","BarListChart","data","valueField","nameField","linkBase","linkField","p","n","CompletenessProgressBar","completeness","toPrecision","maximumFractionDigits","calculateCompleteness","PROFILE_RELEVANT_FIELDS","k","ProfileCompleteness","completenessTitle","completenessLead0","completenessLead1","completenessLead2","useTeamsQuery","params","otherOptions","token","useQuery","queryKey","queryFn","signal","api","get","select","NextMappingLevel","nextLevelThreshold","nextLevel","changesetsCount","INTERMEDIATE_LEVEL_COUNT","ADVANCED_LEVEL_COUNT","changesets","UserTopBar","osmUserInfo","osm","placeholder","CurrentUserAvatar","mappingLevel","changesetCount","markerIcon","Image","mapboxgl","accessToken","MAPBOX_TOKEN","setRTLTextPlugin","MAPBOX_RTL_PLUGIN_URL","log","licensedFonts","mapboxLayerDefn","mapResults","clickOnProjectID","disablePoiClick","arguments","addImage","addSource","cluster","clusterRadius","addLayer","source","layout","paint","on","getCanvas","cursor","features","properties","projectId","ProjectsMap","fullProjectsQuery","mapRef","React","createRef","locale","preferences","setMapObj","useCallback","projectIdSearch","text","join","useLayoutEffect","supported","Map","container","current","MAP_STYLE","center","zoom","attributionControl","addControl","AttributionControl","MapboxLanguage","defaultLanguage","substr","remove","someResultsReady","mapReadyProjectsReady","isStyleLoaded","getSource","projectsReadyMapLoading","setData","ref","TaskStats","userStats","tasksMapped","tasksValidatedByOthers","tasksInvalidatedByOthers","tasksValidated","tasksInvalidated","taskStats","MappedIcon","items","ValidatedIcon","stat","index","letterSpacing","shortEnglishHumanizer","humanizeDuration","humanizer","language","languages","shortEn","y","mo","w","d","h","m","s","ms","ElementsMapped","osmStats","duration","round","delimiter","units","spacer","iconClass","iconStyle","ClockIcon","HomeIcon","buildings","RoadIcon","roads","MarkerIcon","total_poi_count_add","WavesIcon","total_waterway_km_add","SectionMenu","location","useLocation","linkCombo","pathname","split","UserTeams","userId","omitMemberList","hasOwnProperty","UserOrganisations","orgs","status","manager_user_id","omitManagerList","useUserOrganisationsQuery","SocialMedia","getSocialIcon","field","TwitterIconNoBg","FacebookIcon","LinkedinIcon","createLink","urls","twitterId","facebookId","linkedinId","OSM_SERVER_URL","missingmaps","osmcha","hdycNeisOne","OsmLogo","osmChaUsername","slackId","slackUsername","ORG_CODE","MyContributionsNav","authUser","myStats","myProjects","myTasks","HeaderProfile","selfProfile","authDetails","setUser","ProfilePictureIcon","module","exports","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","_extends","assign","call","apply","this","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","isArray","Symbol","iterator","toString","_arr","_d","_e","_s","_i","next","done","push","err","createCommonjsModule","fn","ReactPropTypesSecret_1","emptyFunction","emptyFunctionWithReset","resetWarningCache","factoryWithThrowingShims","shim","propName","componentName","propFullName","secret","Error","getShim","isRequired","ReactPropTypes","array","bool","func","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","propTypes","areInputsEqual","newInputs","lastInputs","memoizeOne","resultFn","isEqual","lastThis","lastResult","lastArgs","calledOnce","memoized","newArgs","MILLISECONDS_IN_ONE_DAY","DAYS_IN_WEEK","MONTH_LABELS","DAY_LABELS","shiftDate","date","numDays","newDate","Date","setDate","getDate","getBeginningTimeForDate","getFullYear","getMonth","convertToDate","dateNDaysAgo","numDaysAgo","getRange","count","idx","SQUARE_SIZE","MONTH_LABEL_GUTTER_SIZE","CSS_PSEDUO_NAMESPACE","CalendarHeatmap","_React$Component","_getPrototypeOf2","_this","_len","args","_key","reduce","memo","floor","getStartDateWithEmptyDays","classForValue","titleForValue","tooltipDataAttrs","getTooltipDataAttrsForValue","_this$props","startDate","warn","timeDiff","getEndDate","ceil","gutterSize","showMonthLabels","horizontal","showWeekdayLabels","getDateDifferenceInDays","endDate","getStartDate","getNumEmptyDaysAtStart","getDay","numDaysRoundedToWeek","getNumEmptyDaysAtEnd","getSquareSizeWithGutter","getWeekCount","getWeekdayLabelSize","getWeekWidth","getMonthLabelSize","valueCache","weekIndex","getWidth","getHeight","dayIndex","verticalOffset","onMouseOver","onMouseLeave","_this2","showOutOfRangeDays","_this$getSquareCoordi2","getSquareCoordinates","x","getValueForIndex","rect","createElement","getClassNameForIndex","handleClick","handleMouseOver","handleMouseLeave","getTooltipDataAttrsForIndex","getTitleForIndex","transformDayElement","_this3","transform","getTransformForWeek","renderSquare","_this4","renderWeek","_this5","endOfWeek","_this5$getMonthLabelC2","getMonthLabelCoordinates","monthLabels","_this6","weekdayLabels","weekdayLabel","_this6$getWeekdayLabe2","getWeekdayLabelCoordinates","cssClasses","getValueCache","viewBox","getViewBox","getTransformForMonthLabels","renderMonthLabels","getTransformForAllWeeks","renderAllWeeks","getTransformForWeekdayLabels","renderWeekdayLabels","Component","defaultProps","factory","require","UserCountriesMap","projects","navigate","useNavigate","setMap","mappedProjects","geojson","f","geometry","centroid","resize","CountriesMapped","countriesContributed","tasksNo","c","total","maxTaskNo","max","countriesPercent","TopProjects","mapped","sort","compare","b","tasksPercent","HeatmapLegend","legendFontStyle","ContributionTimeline","today","countValues","contributionsByDay","r","maxValue","v","rate","getHeatmapClass","val","TopCauses","lazy","EditsByNumbers","UserDetail","_userOsmDetails$chang","withHeader","loggedInUsername","usernameParam","useParams","useSetTitleTag","currentUser","setOsmStats","userOsmDetails","setUserOsmDetails","errorDetails","loadingDetails","useFetch","errorStats","loadingStats","projectsError","projectsLoading","userProjects","titleClass","NotFound","Suspense","fallback"],"mappings":"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","file":"static/js/userDetail.3a9ce55e.chunk.js","sourcesContent":["import { FormattedMessage } from 'react-intl';\n\nimport { BanIcon, CheckIcon, InfoIcon, AlertIcon } from '../svgIcons';\nimport messages from '../../views/messages';\n\nexport const Alert = ({\n  type = 'info',\n  compact = false,\n  inline = false,\n  iconClassName,\n  children,\n}) => {\n  const icons = {\n    info: InfoIcon,\n    success: CheckIcon,\n    warning: AlertIcon,\n    error: BanIcon,\n  };\n  const Icon = icons[type];\n\n  const color = {\n    info: 'b--blue bg-lightest-blue',\n    success: 'b--dark-green bg-washed-green',\n    warning: 'b--gold bg-washed-yellow',\n    error: 'b--dark-red bg-washed-red',\n  };\n  const iconColor = {\n    info: 'blue',\n    success: 'dark-green',\n    warning: 'gold',\n    error: 'dark-red',\n  };\n\n  return (\n    <div\n      className={`${inline ? 'di' : 'db'} blue-dark bl bw2 br2 ${compact ? 'pa2' : 'pa3'} ${\n        color[type]\n      }`}\n    >\n      <Icon className={`h1 w1 v-top mr2 ${iconColor[type]} ${iconClassName || ''}`} />\n      {children}\n    </div>\n  );\n};\n\nexport function EntityError({ entity, action = 'creation' }) {\n  const messageType = action === 'updation' ? 'entityInfoUpdationFailure' : 'entityCreationFailure';\n\n  return (\n    <Alert type=\"error\">\n      <FormattedMessage\n        {...messages[messageType]}\n        values={{\n          entity: entity,\n        }}\n      />\n    </Alert>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nexport function useEditProjectAllowed(project) {\n  const userDetails = useSelector((state) => state.auth.userDetails);\n  const organisations = useSelector((state) => state.auth.organisations);\n  const pmTeams = useSelector((state) => state.auth.pmTeams);\n  const [isAllowed, setIsAllowed] = useState(false);\n\n  useEffect(() => {\n    // admin users can edit any project\n    if (userDetails.role === 'ADMIN') setIsAllowed(true);\n    // owners can edit their projects\n    // project and project.author check are needed to avoid `null === null` case while data is loading\n    if (project && project.author && userDetails.username === project.author) setIsAllowed(true);\n    // managers of the organisation related to the project can edit it\n    if (organisations && organisations.includes(project.organisation)) setIsAllowed(true);\n    // users that are member of a PROJECT_MANAGER team associated with the project can edit it\n    const teams = project.teams\n      ? project.teams.filter((team) => team.role === 'PROJECT_MANAGER').map((team) => team.teamId)\n      : [];\n    if (pmTeams && pmTeams.some((item) => teams.includes(item))) {\n      setIsAllowed(true);\n    }\n  }, [pmTeams, userDetails.role, userDetails.username, organisations, project]);\n  return [isAllowed];\n}\n\nexport function useEditTeamAllowed(team) {\n  const userDetails = useSelector((state) => state.auth.userDetails);\n  const organisations = useSelector((state) => state.auth.organisations);\n  const pmTeams = useSelector((state) => state.auth.pmTeams);\n  const [isAllowed, setIsAllowed] = useState(false);\n\n  useEffect(() => {\n    // admin users can edit any team\n    if (userDetails.role === 'ADMIN') setIsAllowed(true);\n    // managers of the organisation related to the team can edit it\n    if (organisations && organisations.includes(team.organisation_id)) setIsAllowed(true);\n    // team managers can edit it\n    // verify from the redux store\n    if (pmTeams && pmTeams.includes(team.teamId)) setIsAllowed(true);\n    // and verify based on the team members list\n    if (team.members) {\n      const managers = team.members\n        .filter((member) => member.active && member.function === 'MANAGER')\n        .map((member) => member.username);\n      if (userDetails.username && managers.includes(userDetails.username)) {\n        setIsAllowed(true);\n      }\n    }\n  }, [pmTeams, userDetails.role, userDetails.username, organisations, team]);\n  return [isAllowed];\n}\n\nexport function useEditOrgAllowed(org) {\n  const userDetails = useSelector((state) => state.auth.userDetails);\n  const organisations = useSelector((state) => state.auth.organisations);\n  const [isAllowed, setIsAllowed] = useState(false);\n\n  useEffect(() => {\n    // admin users can edit any organisation\n    if (userDetails.role === 'ADMIN') setIsAllowed(true);\n    // check if user is a organisation manager\n    // based on the redux store data\n    if (org && org.organisationId && organisations && organisations.includes(org.organisationId)) {\n      setIsAllowed(true);\n    }\n    // and based on the organisation data\n    if (org && org.managers && org.managers.map((i) => i.username).includes(userDetails.username)) {\n      setIsAllowed(true);\n    }\n  }, [org, organisations, userDetails.username, userDetails.role]);\n  return [isAllowed];\n}\n","import { defineMessages } from 'react-intl';\n\n/**\n * Internationalized messages for use on user components.\n */\nexport default defineMessages({\n  loading: {\n    id: 'users.detail.loading',\n    defaultMessage: 'loading',\n  },\n  contributionTimelineTitle: {\n    id: 'users.detail.contributionTimelineTitle',\n    defaultMessage: 'Contribution Timeline',\n  },\n  projectsTitle: {\n    id: 'users.detail.projectsTitle',\n    defaultMessage: 'Projects',\n  },\n  countries: {\n    id: 'users.detail.countries',\n    defaultMessage: 'Countries',\n  },\n  timeSpentMapping: {\n    id: 'users.detail.timeSpentMapping',\n    defaultMessage: 'Time spent mapping',\n  },\n  buildingsMapped: {\n    id: 'users.detail.buildingsMapped',\n    defaultMessage: 'Buildings mapped',\n  },\n  roadMapped: {\n    id: 'users.detail.roadMapped',\n    defaultMessage: 'Km road mapped',\n  },\n  poiMapped: {\n    id: 'users.detail.poiMapped',\n    defaultMessage: 'Points of interests mapped',\n  },\n  waterwaysMapped: {\n    id: 'users.detail.waterwaysMapped',\n    defaultMessage: 'Km waterways mapped',\n  },\n  userMapped: {\n    id: 'users.detail.tasksMapped',\n    defaultMessage: '{user} mapped',\n  },\n  you: {\n    id: 'users.detail.you',\n    defaultMessage: 'You',\n  },\n  userValidated: {\n    id: 'users.detail.tasksValidated',\n    defaultMessage: '{user} validated',\n  },\n  invalidated: {\n    id: 'users.detail.invalidated',\n    defaultMessage: 'Needed more mapping',\n  },\n  validated: {\n    id: 'users.detail.validated',\n    defaultMessage: 'Validated',\n  },\n  finished: {\n    id: 'users.detail.finished',\n    defaultMessage: 'Finished',\n  },\n  topProjectsMappedTitle: {\n    id: 'users.detail.topProjectsMappedTitle',\n    defaultMessage: 'Top 5 projects contributed',\n  },\n  noTopProjectsData: {\n    id: 'users.detail.topProjectsMapped.error',\n    defaultMessage: 'No projects mapped until now.',\n  },\n  topCausesTitle: {\n    id: 'users.detail.topCausesTitle',\n    defaultMessage: 'Top causes contributed to',\n  },\n  others: {\n    id: 'users.detail.others',\n    defaultMessage: 'Others',\n  },\n  noProjectsData: {\n    id: 'users.detail.projects.noData',\n    defaultMessage: 'Information is not available because no projects were mapped until now.',\n  },\n  editsTitle: {\n    id: 'users.detail.editsTitle',\n    defaultMessage: 'Edits by numbers',\n  },\n  noEditsData: {\n    id: 'users.detail.edits.error',\n    defaultMessage:\n      'No data to show yet. OpenStreetMap edits stats are updated with a delay of one hour.',\n  },\n  topCountriesTitle: {\n    id: 'users.detail.topCountriesTitle',\n    defaultMessage: 'Top 5 countries most mapped',\n  },\n  tasks: {\n    id: 'users.detail.tasks',\n    defaultMessage: 'tasks',\n  },\n  heatmapNoContribution: {\n    id: 'users.detail.heatmapNoContribution',\n    defaultMessage: 'No contribution',\n  },\n  heatmapContribution: {\n    id: 'users.detail.heatmapContribution',\n    defaultMessage: 'contribution',\n  },\n  heatmapContributions: {\n    id: 'users.detail.heatmapContributions',\n    defaultMessage: 'contributions',\n  },\n  heatmapLegendMore: {\n    id: 'users.detail.heatmapLegendMore',\n    defaultMessage: 'more',\n  },\n  heatmapLegendLess: {\n    id: 'users.detail.heatmapLegendLess',\n    defaultMessage: 'less',\n  },\n  teams: {\n    id: 'users.detail.teams',\n    defaultMessage: 'Teams',\n  },\n  userOrganisationsError: {\n    id: 'users.header.organisations.error',\n    defaultMessage: \"Couldn't load organisations at this time\",\n  },\n});\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\n\nexport const MappingLevelMessage = (props) => {\n  const { level, ...otherProps } = props;\n  const message = ['ALL', 'BEGINNER', 'INTERMEDIATE', 'ADVANCED'].includes(level) ? (\n    <FormattedMessage {...messages[`mappingLevel${level}`]} />\n  ) : (\n    level\n  );\n  return <span {...otherProps}>{message}</span>;\n};\n\nexport const DifficultyMessage = (props) => {\n  const { level, ...otherProps } = props;\n  const message = ['ALL', 'EASY', 'MODERATE', 'CHALLENGING'].includes(level) ? (\n    <FormattedMessage {...messages[`difficulty${level}`]} />\n  ) : (\n    level\n  );\n  return <span {...otherProps}>{message}</span>;\n};\n","import React from 'react';\nimport { Alert } from './alert';\nimport { FormattedMessage } from 'react-intl';\nimport messages from './messages';\n\nexport default function WebglUnsupported({ className }) {\n  return (\n    <div className={className}>\n      <Alert type=\"warning\" iconClassName=\"h2 w2\">\n        <h3 className=\"barlow-condensed f3 fw6 mv0 dib\">\n          <FormattedMessage {...messages.webglUnsupportedTitle} />\n        </h3>\n        <div className=\"mv4 lh-title\">\n          <FormattedMessage\n            {...messages.webglUnsupportedDescription}\n            values={{\n              a: (msg) => (\n                <a target=\"_blank\" rel=\"noreferrer\" href=\"https://get.webgl.org/\">\n                  {msg}\n                </a>\n              ),\n            }}\n          />\n        </div>\n      </Alert>\n    </div>\n  );\n}\n","import React from 'react';\nimport { FormattedNumber } from 'react-intl';\n\nexport const StatsCard = ({ icon, description, value, className, invertColors = false }) => {\n  return (\n    <div\n      className={`cf pt3 pb3 ph3 br1 ${\n        invertColors ? 'bg-red white' : 'bg-white red shadow-6'\n      } flex items-center ${className || ''}`}\n    >\n      <div className=\"w-30 fl ml2\">{icon}</div>\n      <StatsCardContent\n        value={Number(value) || value === 0 ? <FormattedNumber value={Math.trunc(value)} /> : value}\n        label={description}\n        className=\"w-70 pt3-m mb1 fl\"\n        invertColors={invertColors}\n      />\n    </div>\n  );\n};\n\nexport const StatsCardContent = ({ value, label, className, invertColors = false }: Object) => (\n  <div className={className}>\n    <h3 className={`ma0 mb1 barlow-condensed f2 fw5 ${invertColors ? 'white' : 'red'}`}>{value}</h3>\n    <span className={`ma0 h2 f7 fw5 ${invertColors ? 'white' : 'blue-grey'}`}>{label}</span>\n  </div>\n);\n","import React, { Fragment } from 'react';\n\nimport { TextRow, TextBlock, RoundShape, RectShape } from 'react-placeholder/lib/placeholders';\n\nexport const teamCardPlaceholderTemplate = () => (_n, i) =>\n  (\n    <article\n      className=\"base-font blue-dark h-100 bg-white ph3 pb3 ba br1 b--card shadow-hover h-100 flex flex-column justify-between\"\n      key={i}\n    >\n      <div className=\"mt3\">\n        <TextRow\n          className=\"show-loading-animation mb3\"\n          color=\"#CCC\"\n          style={{ width: 200, height: 24 }}\n        />\n        <RectShape\n          className=\"show-loading-animation mb4\"\n          style={{ width: 80, height: 50 }}\n          color=\"#DDD\"\n        />\n        {[...Array(2)].map((_, i) => (\n          <Fragment key={i}>\n            <TextRow className=\"show-loading-animation\" color=\"#CCC\" style={{ width: '45%' }} />\n            {[...Array(2)].map((_, i) => (\n              <RoundShape\n                key={i}\n                className=\"show-loading-animation dib mt1\"\n                style={{ width: 25, height: 25 }}\n                color=\"#DDD\"\n              />\n            ))}\n          </Fragment>\n        ))}\n      </div>\n      <TextBlock\n        rows={2}\n        className=\"show-loading-animation mt2\"\n        color=\"#CCC\"\n        style={{ width: 80, height: 50 }}\n      />\n    </article>\n  );\n\nexport const nCardPlaceholders = (N) => {\n  return [...Array(N).keys()].map(teamCardPlaceholderTemplate());\n};\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport ReactPlaceholder from 'react-placeholder';\nimport { Form, Field, useFormState } from 'react-final-form';\nimport ReactTooltip from 'react-tooltip';\n\nimport messages from './messages';\nimport { InfoIcon } from '../svgIcons';\nimport { useEditTeamAllowed } from '../../hooks/UsePermissions';\nimport { UserAvatar, UserAvatarList } from '../user/avatar';\nimport { AddButton, ViewAllLink, Management, VisibilityBox, JoinMethodBox } from './management';\nimport { RadioField, OrganisationSelectInput, TextField } from '../formInputs';\nimport { Button, EditButton } from '../button';\nimport { nCardPlaceholders } from './teamsPlaceholder';\nimport { Alert } from '../alert';\n\nexport function TeamsManagement({\n  teams,\n  userDetails,\n  managementView,\n  userTeamsOnly,\n  setUserTeamsOnly,\n  teamsStatus,\n  query,\n  setQuery,\n}: Object) {\n  const isOrgManager = useSelector(\n    (state) => state.auth.organisations && state.auth.organisations.length > 0,\n  );\n\n  const onSearchInputChange = (e) =>\n    setQuery({ ...query, searchQuery: e.target.value || undefined, page: 1 }, 'pushIn');\n\n  const clearSearchQuery = () => setQuery({ ...query, searchQuery: undefined, page: 1 }, 'pushIn');\n\n  return (\n    <Management\n      title={\n        managementView ? (\n          <FormattedMessage\n            {...messages.manage}\n            values={{ entity: <FormattedMessage {...messages.teams} /> }}\n          />\n        ) : (\n          <FormattedMessage {...messages.myTeams} />\n        )\n      }\n      isAdmin={userDetails.role === 'ADMIN' && managementView}\n      showAddButton={(userDetails.role === 'ADMIN' || isOrgManager) && managementView}\n      managementView={managementView}\n      userOnly={userTeamsOnly}\n      setUserOnly={setUserTeamsOnly}\n      userOnlyLabel={<FormattedMessage {...messages.myTeams} />}\n    >\n      <div className=\"w-20-l w-25-m\">\n        <TextField\n          value={query.searchQuery || ''}\n          placeholderMsg={messages.searchTeams}\n          onChange={onSearchInputChange}\n          onCloseIconClick={clearSearchQuery}\n        />\n      </div>\n      <div className={`${teamsStatus !== 'error' ? 'cards-container' : ''} mt2`}>\n        {teamsStatus === 'loading' && (\n          <ReactPlaceholder\n            showLoadingAnimation={true}\n            customPlaceholder={nCardPlaceholders(4)}\n            delay={10}\n            ready={false}\n          />\n        )}\n        {teamsStatus === 'error' && (\n          <Alert type=\"error\">\n            <FormattedMessage {...messages.errorLoadingTeams} />\n          </Alert>\n        )}\n        {teamsStatus === 'success' && (\n          <>\n            {teams?.length ? (\n              teams.map((team) => <TeamCard team={team} key={team.teamId} />)\n            ) : (\n              <div className=\"pb3 pt2\">\n                <FormattedMessage {...messages.noTeams} />\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </Management>\n  );\n}\n\nexport function Teams({ teams, viewAllQuery, showAddButton = false, isReady, border = true }) {\n  return (\n    <div className={`bg-white ${border ? 'b--grey-light ba pa4' : ''}`}>\n      <div className=\"cf db\">\n        <h3 className=\"f3 barlow-condensed ttu blue-dark mv0 fw6 dib v-mid\">\n          <FormattedMessage {...messages.teams} />\n        </h3>\n        {showAddButton && (\n          <Link to={'/manage/teams/new/'} className=\"dib ml4\">\n            <AddButton />\n          </Link>\n        )}\n        {viewAllQuery && <ViewAllLink link={`/manage/teams/${viewAllQuery ? viewAllQuery : ''}`} />}\n        <div className=\"cards-container pt4\">\n          <ReactPlaceholder customPlaceholder={nCardPlaceholders(4)} delay={10} ready={isReady}>\n            {teams?.slice(0, 6).map((team) => (\n              <TeamCard key={team.teamId} team={team} />\n            ))}\n            {teams?.length === 0 && (\n              <span className=\"blue-grey\">\n                <FormattedMessage {...messages.noTeamsFound} />\n              </span>\n            )}\n          </ReactPlaceholder>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function TeamCard({ team }: Object) {\n  return (\n    <Link to={`/teams/${team.teamId}/membership/`} className=\"no-underline\">\n      <article className=\"base-font blue-dark h-100 bg-white ph3 pb3 ba br1 shadow-hover h-100 flex flex-column justify-between b--card\">\n        <div className=\"\">\n          <h3 className=\"f4 fw6 h3 lh-title mt3 mb2 overflow-y-hidden\" title={team.name}>\n            {team.name}\n          </h3>\n          <div className=\"db h2\" title={team.organisation}>\n            <img src={team.logo} alt={team.organisation} className=\"h2\" />\n          </div>\n          <h4 className=\"f6 fw5 mb2 mt3 ttu blue-light\">\n            <FormattedMessage {...messages.managers} />\n          </h4>\n          <div className=\"db h2\">\n            <UserAvatarList\n              size=\"small\"\n              textColor=\"white\"\n              users={team.members.filter((user) => user.function === 'MANAGER' && user.active)}\n              maxLength={8}\n              totalCount={team.managersCount}\n            />\n          </div>\n          <h4 className=\"f6 fw5 mv2 ttu blue-light\">\n            <FormattedMessage {...messages.teamMembers} />\n          </h4>\n          <div className=\"db h2\">\n            <UserAvatarList\n              size=\"small\"\n              textColor=\"white\"\n              users={team.members.filter((user) => user.function !== 'MANAGER' && user.active)}\n              maxLength={8}\n              totalCount={team.membersCount}\n            />\n          </div>\n        </div>\n        <div className=\"pt3\">\n          <VisibilityBox visibility={team.visibility} extraClasses=\"pv1 ph2 dib\" />\n          <div className=\"pt2 h2\">\n            <JoinMethodBox className=\"pv1 ph2 dib\" joinMethod={team.joinMethod} />\n          </div>\n        </div>\n      </article>\n    </Link>\n  );\n}\n\nexport function TeamInformation(props) {\n  const intl = useIntl();\n  const labelClasses = 'db pt3 pb2';\n  const fieldClasses = 'blue-grey w-100 pv3 ph2 input-reset ba b--grey-light bg-transparent';\n  const formState = useFormState();\n  const joinMethods = {\n    ANY: 'anyoneCanJoin',\n    BY_REQUEST: 'byRequest',\n    BY_INVITE: 'byInvite',\n  };\n\n  return (\n    <>\n      <div className=\"cf\">\n        <label className={labelClasses}>\n          <FormattedMessage {...messages.name} />\n        </label>\n        <Field name=\"name\" component=\"input\" type=\"text\" className={fieldClasses} required />\n      </div>\n      <div className=\"cf\">\n        <label className={labelClasses}>\n          <FormattedMessage {...messages.description} />\n        </label>\n        <Field name=\"description\" component=\"textarea\" type=\"text\" className={fieldClasses} />\n      </div>\n      <div className=\"cf\">\n        <label className={labelClasses}>\n          <FormattedMessage {...messages.organisation} />\n        </label>\n        <OrganisationSelectInput name=\"organisation_id\" />\n      </div>\n      <div className=\"cf pt1\">\n        <label className={labelClasses}>\n          <FormattedMessage {...messages.joinMethod} />\n        </label>\n        {Object.keys(joinMethods).map((method) => (\n          <div className=\"pv2\" key={method}>\n            <RadioField name=\"joinMethod\" value={method} required />\n            <span className=\"f5\">\n              <FormattedMessage {...messages[joinMethods[method]]} />\n            </span>\n            <InfoIcon\n              width={12}\n              height={12}\n              className=\"blue-grey v-mid pb1 ml2\"\n              data-tip={intl.formatMessage(messages[`${joinMethods[method]}Description`])}\n            />\n            <ReactTooltip place=\"bottom\" className=\"mw6\" effect=\"solid\" />\n          </div>\n        ))}\n      </div>\n      {formState.values.joinMethod === 'BY_INVITE' && (\n        <div className=\"cf pt1\">\n          <label className={labelClasses}>\n            <FormattedMessage {...messages.visibility} />\n          </label>\n          <div className=\"pv2\">\n            <RadioField name=\"visibility\" value=\"PUBLIC\" />\n            <span className=\" f5\">\n              <FormattedMessage {...messages.public} />\n            </span>\n            <InfoIcon\n              width={12}\n              height={12}\n              className=\"blue-grey v-mid pb1 ml2\"\n              data-tip={intl.formatMessage(messages['publicDescription'])}\n            />\n          </div>\n          <div className=\"pv2\">\n            <RadioField name=\"visibility\" value=\"PRIVATE\" />\n            <span className=\"f5\">\n              <FormattedMessage {...messages.private} />\n            </span>\n            <InfoIcon\n              width={12}\n              height={12}\n              className=\"blue-grey v-mid pb1 ml2\"\n              data-tip={intl.formatMessage(messages['privateDescription'])}\n            />\n            <ReactTooltip place=\"bottom\" className=\"mw6\" effect=\"solid\" />\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport function TeamForm(props) {\n  return (\n    <Form\n      onSubmit={(values) => props.updateTeam(values)}\n      initialValues={props.team}\n      mutators={{\n        setValue: [],\n      }}\n      render={({\n        handleSubmit,\n        dirty,\n        submitSucceeded,\n        dirtySinceLastSubmit,\n        form,\n        submitting,\n        values,\n      }) => {\n        const dirtyForm = submitSucceeded ? dirtySinceLastSubmit && dirty : dirty;\n        return (\n          <div className=\"blue-grey mb3\">\n            <div className={`bg-white b--grey-light pa4 ${dirtyForm ? 'bt bl br' : 'ba'}`}>\n              <h3 className=\"f3 fw6 dib blue-dark mv0\">\n                <FormattedMessage {...messages.teamInfo} />\n              </h3>\n              <form id=\"team-form\" onSubmit={handleSubmit}>\n                <fieldset className=\"bn pa0\" disabled={submitting}>\n                  <TeamInformation joinMethod={props.team.joinMethod} />\n                </fieldset>\n              </form>\n            </div>\n            {dirtyForm && (\n              <div className=\"cf pt0 h3\">\n                <div className=\"w-70-l w-50 fl tr dib bg-grey-light\">\n                  <Button className=\"blue-dark bg-grey-light h3\" onClick={() => form.restart()}>\n                    <FormattedMessage {...messages.cancel} />\n                  </Button>\n                </div>\n                <div className=\"w-30-l w-50 h-100 fr dib\">\n                  <Button\n                    onClick={() => handleSubmit()}\n                    className=\"w-100 h-100 bg-red white\"\n                    disabledClassName=\"bg-red o-50 white w-100 h-100\"\n                  >\n                    <FormattedMessage {...messages.save} />\n                  </Button>\n                </div>\n              </div>\n            )}\n          </div>\n        );\n      }}\n    ></Form>\n  );\n}\n\nexport function TeamSideBar({ team, members, managers, requestedToJoin }: Object) {\n  const [isUserTeamManager] = useEditTeamAllowed(team);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const searchMembers = () =>\n    searchQuery !== ''\n      ? members.filter((member) => {\n          return member.username.toLowerCase().includes(searchQuery.toLowerCase());\n        })\n      : members;\n\n  return (\n    <ReactPlaceholder\n      showLoadingAnimation={true}\n      type=\"media\"\n      rows={20}\n      ready={typeof team.teamId === 'number'}\n    >\n      <div className=\"cf pb2\">\n        <div className=\"w-20 pv2 dib fl\">\n          <span className=\"blue-grey v-mid\">\n            <FormattedMessage {...messages.team} /> #{team.teamId}\n          </span>\n        </div>\n        <div className=\"w-80 dib fr tr\">\n          {isUserTeamManager && (\n            <EditButton url={`/manage/teams/${team.teamId}`}>\n              <FormattedMessage {...messages.editTeam} />\n            </EditButton>\n          )}\n          <JoinMethodBox className=\"pv2 ph3 mh1 mv1 dib\" joinMethod={team.joinMethod} />\n          <VisibilityBox visibility={team.visibility} extraClasses=\"pv2 ph3 mh1 mv1 dib\" />\n        </div>\n      </div>\n      <h3 className=\"f2 ttu blue-dark fw7 barlow-condensed v-mid ma0 dib ttu\">{team.name}</h3>\n      <p className=\"blue-grey\">{team.description}</p>\n      <div className=\"cf\">\n        <div className=\"w-100 w-50-m fl\">\n          <h4>\n            <FormattedMessage {...messages.organisation} />\n          </h4>\n          <Link\n            className=\"link blue-dark fw5 mr2 underline dib\"\n            to={`/organisations/${team.organisationSlug}`}\n          >\n            <p>\n              {typeof team.logo === 'string' && (\n                <img src={team.logo} alt=\"organisation logo\" className=\"mw4\" />\n              )}\n            </p>\n            {team.organisation}\n          </Link>\n        </div>\n        <div className=\"w-100 w-50-m fl\">\n          <h4>\n            <FormattedMessage {...messages.managers} />\n          </h4>\n          {managers.length === 0 ? (\n            <span className=\"f6 blue-grey\">\n              <FormattedMessage {...messages.noManagers} />\n            </span>\n          ) : (\n            <div className=\"cf db mt3\">\n              {managers.map((user) => (\n                <UserAvatar\n                  key={user.username}\n                  username={user.username}\n                  picture={user.pictureUrl}\n                  size=\"large\"\n                  colorClasses=\"white bg-blue-grey mv1\"\n                />\n              ))}\n            </div>\n          )}\n          <h4>\n            <FormattedMessage {...messages.members} />\n          </h4>\n          {members.length === 0 ? (\n            <span className=\"f6 blue-grey\">\n              <FormattedMessage {...messages.noMembers} />\n            </span>\n          ) : (\n            <>\n              <div className=\"cf db mt3\">\n                <div className=\"mb3 w5\">\n                  <TextField\n                    value={searchQuery}\n                    placeholderMsg={messages.searchMembers}\n                    onChange={({ target: { value } }) => setSearchQuery(value)}\n                    onCloseIconClick={() => setSearchQuery('')}\n                  />\n                </div>\n                {searchMembers().map((user) => (\n                  <UserAvatar\n                    key={user.username}\n                    username={user.username}\n                    picture={user.pictureUrl}\n                    colorClasses=\"white bg-blue-grey mv1\"\n                  />\n                ))}\n              </div>\n            </>\n          )}\n          <div className=\"cf db mt3\">\n            {requestedToJoin && (\n              <span className=\"red pr5-ns\">\n                <FormattedMessage {...messages.waitingApproval} />\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n    </ReactPlaceholder>\n  );\n}\n\nexport function TeamsBoxList({ teams }: Object) {\n  const mappingTeams = teams.filter((team) => team.role === 'MAPPER');\n  const validationTeams = teams.filter((team) => team.role === 'VALIDATOR');\n  return (\n    <div className=\"flex flex-column flex-row-l gap-1\">\n      {mappingTeams.length > 0 && (\n        <div className=\"w-100 w-30-l\">\n          <h4 className=\"mb1 fw6 mt0\">\n            <FormattedMessage {...messages.mappingTeams} />\n          </h4>\n          <div>\n            {mappingTeams.map((team) => (\n              <TeamBox key={team.teamId} team={team} className=\"dib pv2 ph3 mt2 ba f6 tc\" />\n            ))}\n          </div>\n        </div>\n      )}\n      {validationTeams.length > 0 && (\n        <div className=\"w-100 w-30-l\">\n          <h4 className=\"mb1 fw6 mt0\">\n            <FormattedMessage {...messages.validationTeams} />\n          </h4>\n          {validationTeams.map((team) => (\n            <TeamBox key={team.teamId} team={team} className=\"dib pv2 ph3 mt2 ba f6 tc\" />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport const TeamBox = ({ team, className }: Object) => (\n  <Link className=\"link blue-grey mr2\" to={`/teams/${team.teamId}/membership/`}>\n    <div className={`br1 ${className}`}>\n      {team.logo && (\n        <img alt={team.organisation} src={team.logo} className=\"object-fit-contain h2 pr2 v-mid\" />\n      )}\n      {team.name}\n    </div>\n  </Link>\n);\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  generic: {\n    id: 'stats.ohsome.timestamp.generic',\n    defaultMessage:\n      'These statistics come from ohsomeNow Stats and were last updated at {formattedDate} ({timeZone}). Missing fields will be made available soon!',\n  },\n  project: {\n    id: 'stats.ohsome.timestamp.project',\n    defaultMessage:\n      'These stats were retrieved using the default changeset comment of the project and were last updated at {formattedDate} ({timeZone}).',\n  },\n});\n","import { useState, useEffect } from 'react';\nimport { useIntl } from 'react-intl';\nimport ReactTooltip from 'react-tooltip';\n\nimport { fetchExternalJSONAPI } from '../../network/genericJSONRequest';\nimport { OHSOME_STATS_BASE_URL } from '../../config';\nimport { InfoIcon } from '../svgIcons';\nimport messages from './messages';\n\nfunction StatsTimestamp({ messageType }) {\n  const intl = useIntl();\n  const [lastUpdated, setLastUpdated] = useState(null);\n\n  useEffect(() => {\n    fetchExternalJSONAPI(`${OHSOME_STATS_BASE_URL}/metadata`)\n      .then((res) => {\n        setLastUpdated(res.result.max_timestamp);\n      })\n      .catch((error) => console.error(error));\n  }, []);\n\n  const dateOptions = {\n    year: 'numeric',\n    month: 'short',\n    day: '2-digit',\n    hour: 'numeric',\n    minute: 'numeric',\n  };\n\n  return (\n    <div>\n      <InfoIcon\n        className=\"blue-grey h1 w1 v-mid ml2 pointer\"\n        data-tip={intl.formatMessage(messages[messageType], {\n          formattedDate: intl.formatDate(lastUpdated, dateOptions),\n          timeZone: intl.timeZone,\n        })}\n        data-for=\"ohsome-timestamp\"\n      />\n      <ReactTooltip id=\"ohsome-timestamp\" place=\"top\" className=\"mw6\" effect=\"solid\" />\n    </div>\n  );\n}\n\nexport default StatsTimestamp;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\n\nconst ProgressBar = ({ percent }) => (\n  <div className=\"w-100 relative mt2\">\n    <div\n      style={{ height: '0.5em', width: `${percent * 100}%` }}\n      className=\"bg-red br-pill absolute\"\n    ></div>\n  </div>\n);\n\nexport const BarChartItem = ({ name, link, percentValue, number, numberUnit }: Object) => (\n  <li className=\"w-100 cf list pv3\">\n    <div className=\"w-100 cf mr4\">\n      <div className=\"di ma0 f7 b fl\">\n        {link ? (\n          <Link className=\"link blue-dark\" to={link}>\n            {name}\n          </Link>\n        ) : (\n          name\n        )}\n      </div>\n      <div className=\"di ma0 f7 fr\">\n        <span className=\"b mr1\">{number}</span>\n        {numberUnit && <span className=\"blue-grey\">{numberUnit}</span>}\n      </div>\n    </div>\n    <div className=\"w-100 cf\">\n      <ProgressBar percent={percentValue} />\n    </div>\n  </li>\n);\n\nexport const BarListChart = ({ data, valueField, nameField, linkBase, linkField }) => {\n  return (\n    <ol className=\"pa0 mt1 mb0\">\n      {data.map((p, n) => (\n        <BarChartItem\n          key={n}\n          name={p[nameField]}\n          link={linkBase ? `${linkBase}${p[linkField]}` : null}\n          percentValue={p.percent}\n          number={p[valueField]}\n          numberUnit={<FormattedMessage {...messages.tasks} />}\n        />\n      ))}\n    </ol>\n  );\n};\n","import React from 'react';\nimport { FormattedMessage, FormattedNumber } from 'react-intl';\n\nimport messages from './messages';\nimport { PROFILE_RELEVANT_FIELDS } from './forms/personalInformation';\n\nfunction CompletenessProgressBar({ completeness }: Object) {\n  return (\n    <>\n      <div className=\"cf db pt1 flex items-center\">\n        <div className=\"w-90 pr3 fl relative\">\n          <div\n            className={'absolute bg-red br-pill hhalf hide-child'}\n            style={{ width: `${completeness.toPrecision(3) * 100}%` }}\n          ></div>\n          <div className={'bg-tan br-pill hhalf hide-child overflow-y-hidden'}></div>\n        </div>\n        <div className=\"w-10 fl pl1 fw7\">\n          <FormattedNumber\n            value={completeness}\n            maximumFractionDigits={0}\n            style=\"percent\" // eslint-disable-line react/style-prop-object\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport function calculateCompleteness(userDetails) {\n  return (\n    PROFILE_RELEVANT_FIELDS.filter((k) => userDetails[k]).length / PROFILE_RELEVANT_FIELDS.length\n  );\n}\n\nexport function ProfileCompleteness({ userDetails }: Object) {\n  const completeness = calculateCompleteness(userDetails);\n  return (\n    <div className=\"bg-white ph3 pv3 mr4\">\n      <h3 className=\"blue-dark f4 ma0 fw7\">\n        <FormattedMessage {...messages.completenessTitle} />\n      </h3>\n      <p className=\"blue-grey mt2\">\n        {completeness === 0 && <FormattedMessage {...messages.completenessLead0} />}\n        {completeness > 0 && completeness < 1 && (\n          <FormattedMessage {...messages.completenessLead1} />\n        )}\n        {completeness === 1 && <FormattedMessage {...messages.completenessLead2} />}\n      </p>\n      <CompletenessProgressBar completeness={completeness} />\n    </div>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { useQuery } from '@tanstack/react-query';\n\nimport api from './apiClient';\n\nexport const useTeamsQuery = (params, otherOptions) => {\n  const token = useSelector((state) => state.auth.token);\n\n  const fetchUserTeams = ({ signal }) => {\n    return api(token).get(`teams/`, {\n      signal,\n      params: params,\n    });\n  };\n\n  return useQuery({\n    queryKey: ['user-teams', params],\n    queryFn: fetchUserTeams,\n    select: (data) => data.data,\n    ...otherOptions,\n  });\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { FormattedMessage, FormattedNumber } from 'react-intl';\nimport ReactPlaceholder from 'react-placeholder';\nimport { TextRow } from 'react-placeholder/lib/placeholders';\n\nimport messages from './messages';\nimport { CurrentUserAvatar } from './avatar';\nimport { ProfileCompleteness } from './completeness';\nimport { MappingLevelMessage } from '../mappingLevel';\nimport { INTERMEDIATE_LEVEL_COUNT, ADVANCED_LEVEL_COUNT } from '../../config';\n\nexport function NextMappingLevel({ changesetsCount }: Object) {\n  changesetsCount = Number(changesetsCount);\n  let nextLevelThreshold, nextLevel;\n  if (changesetsCount < INTERMEDIATE_LEVEL_COUNT) {\n    nextLevelThreshold = <FormattedNumber value={INTERMEDIATE_LEVEL_COUNT} />;\n    nextLevel = <MappingLevelMessage level=\"INTERMEDIATE\" className=\"ttl \" />;\n  } else if (changesetsCount < ADVANCED_LEVEL_COUNT) {\n    nextLevelThreshold = <FormattedNumber value={ADVANCED_LEVEL_COUNT} />;\n    nextLevel = <MappingLevelMessage level=\"ADVANCED\" className=\"ttl\" />;\n  }\n  if (nextLevel) {\n    return (\n      <span className=\"blue-grey\">\n        <FormattedMessage\n          {...messages.nextLevel}\n          className=\"blue-grey\"\n          values={{\n            changesets: (\n              <span className=\"blue-dark f4 fw6\">\n                <FormattedNumber value={changesetsCount} />\n              </span>\n            ),\n            nextLevelThreshold: <span className=\"blue-dark f4\">{nextLevelThreshold}</span>,\n            level: nextLevel,\n          }}\n        />\n      </span>\n    );\n  }\n  return '';\n}\n\nexport function UserTopBar() {\n  const user = useSelector((state) => state.auth.userDetails);\n  const osmUserInfo = useSelector((state) => state.auth.osm);\n\n  const placeholder = (\n    <div className=\"pl2 dib\">\n      <TextRow style={{ width: 150, height: '2.3em' }} color=\"#eee\" />\n      <TextRow style={{ width: 150, height: '1em' }} color=\"#eee\" />\n      <TextRow style={{ width: 150, height: '1em' }} color=\"#eee\" />\n    </div>\n  );\n\n  return (\n    <div className=\"cf ph4 pv4 mb2\">\n      <div className=\"w-100 w-75-l fl flex flex-column flex-row-ns items-center tc tl-ns\">\n        <div className=\"fl dib mr3\">\n          <CurrentUserAvatar className=\"h4 w4 br-100 pa1 ba b--grey-light bw3 red\" />\n        </div>\n        <ReactPlaceholder\n          showLoadingAnimation={true}\n          customPlaceholder={placeholder}\n          delay={500}\n          ready={user !== undefined && osmUserInfo !== undefined}\n        >\n          <div className=\"pl2 dib lh-solid mt3 mt0-ns\">\n            <h3 className=\"ttu fw5 mv0 barlow-condensed username-heading\">\n              {user.name || user.username}\n            </h3>\n            <p className=\"f4 blue-dark mv3 fw5\">\n              <MappingLevelMessage level={user.mappingLevel} />\n            </p>\n            <NextMappingLevel changesetsCount={osmUserInfo ? osmUserInfo.changesetCount : 0} />\n          </div>\n        </ReactPlaceholder>\n      </div>\n      <div className=\"w-100 w-25-l fl dn db-ns\">\n        <ProfileCompleteness userDetails={user} />\n      </div>\n    </div>\n  );\n}\n","import React, { useLayoutEffect, useState, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport mapboxgl from 'mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport MapboxLanguage from '@mapbox/mapbox-gl-language';\n\nimport WebglUnsupported from '../webglUnsupported';\nimport { MAPBOX_TOKEN, MAP_STYLE, MAPBOX_RTL_PLUGIN_URL } from '../../config';\nimport mapMarker from '../../assets/img/mapMarker.png';\n\nlet markerIcon = new Image(17, 20);\nmarkerIcon.src = mapMarker;\n\nmapboxgl.accessToken = MAPBOX_TOKEN;\ntry {\n  mapboxgl.setRTLTextPlugin(MAPBOX_RTL_PLUGIN_URL);\n} catch {\n  console.log('RTLTextPlugin is loaded');\n}\n\nconst licensedFonts = MAPBOX_TOKEN\n  ? ['DIN Offc Pro Medium', 'Arial Unicode MS Bold']\n  : ['Open Sans Semibold'];\n\nexport const mapboxLayerDefn = (map, mapResults, clickOnProjectID, disablePoiClick = false) => {\n  map.addImage('mapMarker', markerIcon, { width: 15, height: 15, data: markerIcon });\n  map.addSource('projects', {\n    type: 'geojson',\n    data: mapResults,\n    cluster: true,\n    clusterRadius: 35,\n  });\n\n  map.addLayer({\n    id: 'projectsClusters',\n    filter: ['has', 'point_count'],\n    type: 'circle',\n    source: 'projects',\n    layout: {},\n    paint: {\n      'circle-color': 'rgba(104,112,127,0.5)',\n      'circle-radius': ['step', ['get', 'point_count'], 14, 10, 22, 50, 30, 500, 37],\n    },\n  });\n\n  map.addLayer({\n    id: 'cluster-count',\n    type: 'symbol',\n    source: 'projects',\n    filter: ['has', 'point_count'],\n    layout: {\n      'text-field': '{point_count_abbreviated}',\n      'text-font': licensedFonts,\n      'text-size': 16,\n    },\n    paint: {\n      'text-color': '#FFF',\n      'text-halo-width': 10,\n      'text-halo-blur': 1,\n    },\n  });\n\n  map.addLayer({\n    id: 'projects-unclustered-points',\n    type: 'symbol',\n    source: 'projects',\n    filter: ['!', ['has', 'point_count']],\n    layout: {\n      'icon-image': 'mapMarker',\n      'text-field': '#{projectId}',\n      'text-font': licensedFonts,\n      'text-offset': [0, 0.6],\n      'text-anchor': 'top',\n    },\n    paint: {\n      'text-color': '#2c3038',\n      'text-halo-width': 1,\n      'text-halo-color': '#fff',\n    },\n  });\n  map.on('mouseenter', 'projects-unclustered-points', function (e) {\n    // Change the cursor style as a UI indicator.\n    if (!disablePoiClick) {\n      map.getCanvas().style.cursor = 'pointer';\n    }\n  });\n  map.on('mouseleave', 'projects-unclustered-points', function (e) {\n    // Change the cursor style as a UI indicator.\n    map.getCanvas().style.cursor = '';\n  });\n\n  map.on('click', 'projects-unclustered-points', (e) => {\n    const value = e.features && e.features[0].properties && e.features[0].properties.projectId;\n    clickOnProjectID(value);\n  });\n};\n\nexport const ProjectsMap = ({ mapResults, fullProjectsQuery, setQuery, className }) => {\n  const mapRef = React.createRef();\n  const locale = useSelector((state) => state.preferences['locale']);\n  const [map, setMapObj] = useState(null);\n\n  const clickOnProjectID = useCallback(\n    (projectIdSearch) =>\n      setQuery(\n        {\n          ...fullProjectsQuery,\n          page: undefined,\n          text: ['#', projectIdSearch].join(''),\n        },\n        'pushIn',\n      ),\n    [fullProjectsQuery, setQuery],\n  );\n\n  useLayoutEffect(() => {\n    /* May be able to refactor this to just take\n     * advantage of useRef instead inside other useLayoutEffect() */\n\n    /* List of non-mapbox Glyph names is at\n     https://github.com/openmaptiles/fonts/tree/gh-pages/Open%20Sans%20Regular */\n\n    /* I referenced this initially https://philipprost.com/how-to-use-mapbox-gl-with-react-functional-component/ */\n    mapboxgl.supported() &&\n      setMapObj(\n        new mapboxgl.Map({\n          container: mapRef.current,\n          style: MAP_STYLE,\n          center: [0, 0],\n          zoom: 0.5,\n          attributionControl: false,\n        })\n          .addControl(new mapboxgl.AttributionControl({ compact: false }))\n          .addControl(new MapboxLanguage({ defaultLanguage: locale.substr(0, 2) || 'en' })),\n      );\n\n    return () => {\n      map && map.remove();\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  useLayoutEffect(() => {\n    /* docs: https://docs.mapbox.com/mapbox-gl-js/example/cluster/ */\n\n    const someResultsReady = mapResults && mapResults.features && mapResults.features.length > 0;\n\n    const mapReadyProjectsReady =\n      map !== null &&\n      map.isStyleLoaded() &&\n      map.getSource('projects') === undefined &&\n      someResultsReady;\n    const projectsReadyMapLoading =\n      map !== null &&\n      !map.isStyleLoaded() &&\n      map.getSource('projects') === undefined &&\n      someResultsReady;\n\n    /* set up style/sources for the map, either immediately or on base load */\n    if (mapReadyProjectsReady) {\n      mapboxLayerDefn(map, mapResults, clickOnProjectID);\n    } else if (projectsReadyMapLoading) {\n      map.on('load', () => mapboxLayerDefn(map, mapResults, clickOnProjectID));\n    }\n\n    /* refill the source on mapResults changes */\n    if (map !== null && map.getSource('projects') !== undefined && someResultsReady) {\n      map.getSource('projects').setData(mapResults);\n    }\n  }, [map, mapResults, clickOnProjectID]);\n\n  if (!mapboxgl.supported()) {\n    return <WebglUnsupported className={`h-100 w-100  ${className || ''}`} />;\n  } else {\n    return <div id=\"map\" className={`h-100 w-100 ${className || ''}`} ref={mapRef}></div>;\n  }\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACuSURBVCiRldE9igIxGAbgB4v1B8QTiJ0grpV32MZ6sfZMVjYW2ggexj2CoFdwQQTdwhlwZhIz+0IIhPeBLwnVTLDFGfds32Ac6BYyxxWPwLriOwYH+I3AfF3Qz0HjBS/QTkzWyXoVPE3ASu8Vf9TEzRA+1MQ/ocNPz69592D3rBfMPoH370Ya4haBN4xSd1pF8DIFoYdTCR7RrYNhpvhIX3VhnrV/jFtOBzu0YoU/z51CYvMRYc0AAAAASUVORK5CYII=\"","import React from 'react';\nimport humanizeDuration from 'humanize-duration';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\nimport {\n  ClockIcon,\n  RoadIcon,\n  HomeIcon,\n  WavesIcon,\n  MarkerIcon,\n  MappedIcon,\n  ValidatedIcon,\n} from '../svgIcons';\nimport { StatsCard } from '../statsCard';\nimport StatsTimestamp from '../statsTimestamp';\n\nexport const TaskStats = ({ userStats, username }) => {\n  const {\n    tasksMapped,\n    tasksValidatedByOthers,\n    tasksInvalidatedByOthers,\n    tasksValidated,\n    tasksInvalidated,\n  } = userStats;\n  const taskStats = [\n    {\n      icon: <MappedIcon className=\"v-mid h-100 w-50-ns w-25\" />,\n      title: messages.userMapped,\n      items: [\n        {\n          label: messages.tasks,\n          value: tasksMapped,\n        },\n        {\n          label: messages.validated,\n          value: tasksValidatedByOthers,\n        },\n        {\n          label: messages.invalidated,\n          value: tasksInvalidatedByOthers,\n        },\n      ],\n    },\n    {\n      icon: <ValidatedIcon className=\"v-mid h-100 w-30-ns w-25\" />,\n      title: messages.userValidated,\n      items: [\n        {\n          label: messages.tasks,\n          value: tasksValidated + tasksInvalidated || 0,\n        },\n        {\n          label: messages.finished,\n          value: tasksValidated,\n        },\n        {\n          label: messages.invalidated,\n          value: tasksInvalidated,\n        },\n      ],\n    },\n  ];\n\n  return (\n    <div className=\"relative base-font blue-grey task-stats-ctr\">\n      {taskStats.map((stat, index) => (\n        <article\n          key={index}\n          className=\"shadow-6 pv3 ph2 bg-white flex flex-column flex-row-ns items-center\"\n        >\n          <div className=\"w-75 w-25-ns h-100 pa2 pa0-m red tc\">{stat.icon}</div>\n          <div className=\"w-75 mt3 tc f6 b\">\n            <div className=\" w-100\">\n              <p className=\"mb1 mt3 mt1-ns f3 fw6\" style={{ letterSpacing: '1.25px' }}>\n                <FormattedMessage\n                  {...stat.title}\n                  values={{ user: username ? username : <FormattedMessage {...messages.you} /> }}\n                />\n              </p>\n              <hr className=\"w-50\" />\n            </div>\n            <div className=\"w-100 pt4 flex\">\n              {stat.items.map((item, index) => (\n                <div key={index} className=\" w-33 tc\">\n                  <p className=\"ma0 mb0 barlow-condensed f2 fw5 red\">{item.value}</p>\n                  <p className=\"mb3 ttl fw6\">\n                    <FormattedMessage {...item.label} />\n                  </p>\n                </div>\n              ))}\n            </div>\n          </div>\n        </article>\n      ))}\n    </div>\n  );\n};\n\nexport const shortEnglishHumanizer = humanizeDuration.humanizer({\n  language: 'shortEn',\n  languages: {\n    shortEn: {\n      y: () => 'y',\n      mo: () => 'mo',\n      w: () => 'w',\n      d: () => 'd',\n      h: () => 'h',\n      m: () => 'm',\n      s: () => 's',\n      ms: () => 'ms',\n    },\n  },\n});\n\nexport const ElementsMapped = ({ userStats, osmStats }) => {\n  const duration = shortEnglishHumanizer(userStats.timeSpentMapping * 1000, {\n    round: true,\n    delimiter: ' ',\n    units: ['h', 'm'],\n    spacer: '',\n  });\n\n  const iconClass = 'h-50 w-50';\n  const iconStyle = { height: '45px' };\n\n  return (\n    <div>\n      <div className=\"w-100 relative stats-cards-container\">\n        <StatsCard\n          invertColors={true}\n          icon={<ClockIcon className={iconClass} style={iconStyle} />}\n          description={<FormattedMessage {...messages.timeSpentMapping} />}\n          value={duration}\n        />\n        <StatsCard\n          icon={<HomeIcon className={iconClass} style={iconStyle} />}\n          description={<FormattedMessage {...messages.buildingsMapped} />}\n          value={osmStats.buildings || 0}\n        />\n        <StatsCard\n          icon={<RoadIcon className={iconClass} style={iconStyle} />}\n          description={<FormattedMessage {...messages.roadMapped} />}\n          value={osmStats.roads || 0}\n        />\n        <StatsCard\n          icon={<MarkerIcon className={iconClass} style={iconStyle} />}\n          description={<FormattedMessage {...messages.poiMapped} />}\n          value={osmStats.total_poi_count_add || '-'}\n        />\n        <StatsCard\n          icon={<WavesIcon className={iconClass} style={iconStyle} />}\n          description={<FormattedMessage {...messages.waterwaysMapped} />}\n          value={osmStats.total_waterway_km_add || '-'}\n        />\n      </div>\n      <div className=\"cf w-100 relative tr pt3 pr3\">\n        <StatsTimestamp messageType=\"generic\" />\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { useLocation, Link } from 'react-router-dom';\n\nexport function SectionMenu({ items }: Object) {\n  const location = useLocation();\n  const linkCombo = 'link mh2 blue-dark ttc';\n\n  const isActive = (href) => location.pathname === href.split('?')[0];\n\n  return (\n    <div className=\"cf mb2 pb3 pt3-ns ph4 ph2-m bg-grey-light dib\">\n      {items.map((item) => (\n        <Link\n          key={item.url}\n          to={item.url}\n          className={isActive(item.url) ? `${linkCombo} bb b--blue-dark bw1 pb1` : linkCombo}\n        >\n          <span className=\"db dib-ns\">{item.label}</span>\n        </Link>\n      ))}\n    </div>\n  );\n}\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport { TeamBox } from '../teamsAndOrgs/teams';\nimport { useUserOrganisationsQuery } from '../../api/organisations';\nimport { useTeamsQuery } from '../../api/teams';\nimport { Alert } from '../alert';\nimport messages from './messages';\n\nexport const UserTeams = ({ userId }) => {\n  const { data: teams } = useTeamsQuery({ member: userId, omitMemberList: true });\n\n  return (\n    <div className=\"cf db\">\n      {teams &&\n        teams.hasOwnProperty('teams') &&\n        teams.teams.map((team, n) => (\n          <div className=\"w-third-l w-50-m w-100 dib fl mv1 ph2\" key={n}>\n            <TeamBox team={team} className=\"f5 fw6 pv3 ph3 truncate shadow-4 bg-white blue-dark\" />\n          </div>\n        ))}\n    </div>\n  );\n};\n\nexport const UserOrganisations = ({ userId }) => {\n  const { data: orgs, status } = useUserOrganisationsQuery(userId);\n\n  return (\n    <>\n      {status === 'success' &&\n        orgs.organisations.map((org) => (\n          <div title={org.name} key={org.organisationId} className=\"cf ph2 pv1 tc dib\">\n            {org.logo ? (\n              <img alt={org.name} src={org.logo} className=\"object-fit-contain h2 v-mid\" />\n            ) : (\n              <span className=\"bg-red-light red truncate\">{org.name}</span>\n            )}\n          </div>\n        ))}\n      {status === 'error' && (\n        <Alert type=\"error\" compact inline>\n          <FormattedMessage {...messages.userOrganisationsError} />\n        </Alert>\n      )}\n    </>\n  );\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { useSelector } from 'react-redux';\n\nimport api from './apiClient';\n\nexport const useUserOrganisationsQuery = (userId) => {\n  const token = useSelector((state) => state.auth.token);\n\n  const fetchOrganisations = ({ signal }) => {\n    return api(token).get(`organisations/`, {\n      signal,\n      params: {\n        manager_user_id: userId,\n        omitManagerList: true,\n      },\n    });\n  };\n\n  return useQuery({\n    queryKey: ['user-organisations', userId],\n    queryFn: fetchOrganisations,\n    select: (data) => data.data,\n  });\n};\n","export default __webpack_public_path__ + \"static/media/osm_logo.85cd0e72.png\";","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { FormattedMessage, useIntl } from 'react-intl';\n\nimport messages from '../user/messages';\nimport { TwitterIconNoBg, FacebookIcon, LinkedinIcon, ProfilePictureIcon } from '../svgIcons';\nimport { MappingLevelMessage } from '../mappingLevel';\nimport { NextMappingLevel } from '../user/topBar';\nimport { UserOrganisations } from './userTeamsOrgs';\nimport { SectionMenu } from '../menu';\nimport OsmLogo from '../../assets/img/osm_logo.png';\nimport SlackLogo from '../../assets/img/icons/slack.png';\nimport OsmChaLogo from '../../assets/img/icons/osm-cha.png';\nimport HdycNeisOneLogo from '../../assets/img/icons/hdyc-neis-one.png';\nimport { OSM_SERVER_URL, ORG_CODE } from '../../config';\n\nexport const SocialMedia = ({ data }) => {\n  const intl = useIntl();\n  const socialMediaItems = ['twitterId', 'facebookId', 'linkedinId'];\n\n  const getSocialIcon = (field) => {\n    const iconStyle = {\n      width: '1.4em',\n      height: '1.4em',\n    };\n\n    switch (field) {\n      case 'twitterId':\n        return <TwitterIconNoBg style={iconStyle} className=\"light-blue v-mid\" />;\n      case 'facebookId':\n        return <FacebookIcon style={iconStyle} className=\"dark-blue v-mid\" />;\n      case 'linkedinId':\n        return <LinkedinIcon style={iconStyle} className=\"blue v-mid\" />;\n      default:\n        return null;\n    }\n  };\n\n  const createLink = (field, value) => {\n    const urls = {\n      twitterId: `https://www.twitter.com/${value}`,\n      facebookId: `https://www.facebook.com/${value}`,\n      linkedinId: `https://www.linkedin.com/in/${value}`,\n      osm: `${OSM_SERVER_URL}/user/${value}`,\n      missingmaps: `https://www.missingmaps.org/users/#/${value}`,\n      osmcha: `https://osmcha.org/?filters={\"users\":[{\"label\":\"${value}\",\"value\":\"${value}\"}]}`,\n      hdycNeisOne: `https://hdyc.neis-one.org/?${value}`,\n    };\n\n    return (\n      <a\n        className=\"blue-grey no-underline\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n        href={urls[field]}\n      >\n        {value}\n      </a>\n    );\n  };\n\n  return (\n    <ul className=\"list pa0 ma0 mt3\">\n      <li className=\"dib mr4-ns mr2 cf f7\">\n        <div className=\"mr2 h2\">\n          <img className=\"h1 v-mid\" src={OsmLogo} alt=\"OpenStreetMap\" />{' '}\n          {createLink('osm', data.username)}\n        </div>\n      </li>\n      <li className=\"dib mr4-ns mr2 cf f7\" title={intl.formatMessage(messages.osmChaUsername)}>\n        <div className=\"mr2 h2\">\n          <img className=\"h1 v-mid\" src={OsmChaLogo} alt=\"OSM Cha Logo\" />{' '}\n          {createLink('osmcha', data.username)}\n        </div>\n      </li>\n      <li className=\"dib mr4-ns mr2 cf f7\">\n        <div className=\"mr2 h2\">\n          <img className=\"h1 v-mid\" src={HdycNeisOneLogo} alt=\"HDYC Neis One Favicon\" />{' '}\n          {createLink('hdycNeisOne', data.username)}\n        </div>\n      </li>\n      {data.slackId && (\n        <li\n          className=\"dib mr4-ns mr2 cf f7\"\n          title={intl.formatMessage(messages.slackUsername, { org: ORG_CODE })}\n        >\n          <div className=\"mr2 h2 blue-grey\">\n            <img className=\"h1 v-mid\" src={SlackLogo} alt=\"Slack\" /> {data.slackId}\n          </div>\n        </li>\n      )}\n      {socialMediaItems.map((i) => {\n        if (!data[i]) {\n          return null;\n        }\n\n        return (\n          <li key={i} className=\"dib mr4-ns mr2 cf f7\">\n            <div className=\"mr2 h2\">\n              {getSocialIcon(i)} {createLink(i, data[i])}\n            </div>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport const MyContributionsNav = ({ username, authUser }) => {\n  const items = [\n    { url: `/contributions`, label: <FormattedMessage {...messages.myStats} /> },\n    {\n      url: '/contributions/projects/?mappedByMe=1&action=any',\n      label: <FormattedMessage {...messages.myProjects} />,\n    },\n    { url: '/contributions/tasks', label: <FormattedMessage {...messages.myTasks} /> },\n    { url: '/contributions/teams', label: <FormattedMessage {...messages.myTeams} /> },\n  ];\n\n  return (\n    <div className=\"fl ph5-l ph2\">\n      <SectionMenu items={items} />\n    </div>\n  );\n};\n\nexport const HeaderProfile = ({ userDetails, changesets, selfProfile }) => {\n  const authDetails = useSelector((state) => state.auth.userDetails);\n  const [user, setUser] = useState({});\n\n  useEffect(() => {\n    if (selfProfile && authDetails) {\n      setUser(authDetails);\n    }\n  }, [selfProfile, authDetails, authDetails.username]);\n\n  useEffect(() => {\n    if (userDetails && userDetails.id) {\n      setUser(userDetails);\n    }\n  }, [userDetails]);\n\n  return (\n    <>\n      <div className=\"w-100 h-100 cf pv4 pl5-l ph2 bg-white blue-dark flex flex-column flex-row-ns items-center\">\n        <div className=\"fl dib pr3\">\n          {user.pictureUrl ? (\n            <img\n              className=\"h4 w4 br-100 pa1 ba b--grey-light bw3 red\"\n              src={user.pictureUrl}\n              alt={user.username}\n            />\n          ) : (\n            <ProfilePictureIcon className=\"red\" />\n          )}\n        </div>\n        <div className=\"w-70-ns w-100 fl dib tc tl-ns\">\n          <div className=\"pl2 dib w-50-l fl w-100\">\n            <p className=\"barlow-condensed f2 ttu fw5 ma0 mb3\" style={{ letterSpacing: '1.25px' }}>\n              {user.name || user.username}\n            </p>\n            <p className=\"f125 ma0 mb2 fw5\">\n              <MappingLevelMessage level={user.mappingLevel} />\n            </p>\n            <NextMappingLevel changesetsCount={changesets} />\n            <SocialMedia data={user} />\n          </div>\n          <div className=\"pt1 dib fl w-50-l w-100 v-btm\">\n            <UserOrganisations userId={user.id} />\n          </div>\n        </div>\n      </div>\n      {user.username === authDetails.username && <MyContributionsNav username={user.username} />}\n    </>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABmJLR0QA/wD/AP+gvaeTAAAFZ0lEQVRogc2aaWwVVRTHf30tS5HiglZQi4CoiFiQagwaFE1AIgYMiYlbYlRiEBNU4hcSo19cYowm+sElxiBo/IAmGiGCuKUaUzFKcEkVxQp1K320gCwibd/zw+nY6XDfvXdmzkz5Jyfte/Pu+Z//zJ27nHuqgfsR/AWUyQ71wHigFjiQIY8TGxChu4GXgPnAMAW/E4H7gHeAP/s5ykAJuF3Bf2KsDAUTWBewGlgIjIjhaxrwCLDN4DNsNynFnggzKwQV2D5gLbAYqIu0LQCNwMPAdw4/gX1DvJuojgJQxC/YXuAHoBn4GrkZPu0C2w9cmI8sO9YRL/Akdhi4Ki9BLiwjW7H/AtfmpsaCmv6/H2XIUQbuBt6P0eZUYA7QAIxFZo0i0AF8CfyiEdhOsnm6Kz35TwQeBL5Fpi6bz9+AZ4BzE6sFXlUUGdiLHry1wBPA3wn8l4C3gAlJBN+hLLYNGO3gvBj4WYHrELAiruBJimL7gCsdfPNI9lRttgYYGUf0LiViV1duAg4qiw1sMzDcV/BaBcKjyDq6Ek5jYKOSlb3mK3ipAtlqB8cbGYsNbKmP4CYFoukW/5fnJLaMjA9nuwSPSkmyw+F/AzpifO1ll2CQIT4pwbMWv2fhXlBo21Eic3QhElQ1MYf1CDZari0BqlL4ToJhwM3hL6KCZxi+i4NWy7WrU/hNg8W2i0+TrvtUW3zvTOE7jfVRIeEwFkmuZTFg1ZD/+xu284NAwt13Be61rw2HLddOIv/3N4yG4J9A8AnAvSmd2gY7jSxoGvQG/wSClyFdOg1sgvcgXWuo8E/4QxXQTvr3ZL+DtFuBI6nVB0EUkCzi/308BcY4/PykwJEEbUBn8KEAnKHovNFy7UNFnjj4NPyhgHQ1LcywXPtAkScOXol+UYukUTXeFdtTrML/dELLWqkwHX6sRNCDfbS/LWfBN1QKZLkiyZ0WwTXAlpzEvm2Jg3HI5KxB9J6NCDgH/eRd1DqR7agVnyiR9SEZUBsWoTduRO0AcKlLLMjSUov0cQ++hcgKSFvsfB+xIN26T4m4iF8i4SLkvFiDczv2fJoRnyuRl4FbPTlrgUeRpWkSnoPAYyTc6ZnKH5La5pjcJwOrgK2e/n9EbtS4OCTRSXkKctaTFt3IUcrWhO0nAJchp4MNDOzqOpHFxDakEkEFu0n3ZLuAWVrB5IEWkovdi+eUkBNqkdmnGTn0NyYoky4zfZ7sFeRX1HILg+vDyoRyW2G0ko3Yeci8WwI2ITUfWeS5LkB2ZqY4z4z+uI74S0yfbnwNkuSLtv0euIt0yf8A9cBzSLrYFGcRww1eVOHHaZ7sXNzHN13A88BsU1AW1CClUK8DRxwc7wYNwrgxBtk+YAH2qWcOcoA2yuHrFOCefutGFkBfILm2duSGgRx0T0I2IE3IacYYz3iP2dQMR7qnz5MtIvUZNswm+12Rr5Uw7J6u92zcgayBXWKTLhWzsC2mINd4NNyFuzZqFkObkjXZA9EgR+IuFP0VmOwQewn+r0Ve1odhOlriaNQCnO4QO5OBE4bjydabgn3T0mAdskRzie06DsSZ7LposKMxz5O9SOG3a15sxL/eOm/7zBS/KXW6A7/a5unIlm2ohZlsL7LMPAbrQz9qAx7Cb6k3DZmihlqYyTqQjYoappKsmq6HdFVCLjsEvED6o99BOA/4I2YgzcjCJqiBnAo8ic4UdgTZfS1H0kSqmAL87hlICclrzbX4q0PyaL4+y8huqAWpsV5AujINKybjd3C+HXgKeYq+GIFUIZj24p3IOLMKKUl2bUSs8N2KTUS6ZbiqrQfJKLQjZftfIbuctEnA8ciZdbnf956U/gbhP/6k2jgH7g1nAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADJWlDQ1BJQ0MgUHJvZmlsZQAAeAGFlE1IFGEYx/+zjQSxBtGXCMXQwSRUJgtSAtP1K1O2ZdVMCWKdfXedHGenmd0tRSKE6Jh1jC5WRIeITuGhQ6c6RASZdYmgo0UQBV4itv87k7tjVL4wM795nv/7fL3DAFWPUo5jRTRgys67yd6Ydnp0TNv8GlWoRhRcKcNzOhKJAZ+plc/1a/UtFGlZapSx1vs2fKt2mRBQNCp3ZAM+LHk84OOSL+SdPDVnJBsTqTTZITe4Q8lO8i3y1myIx0OcFp4BVLVTkzMcl3EiO8gtRSMrYz4g63batMnvpT3tGVPUsN/INzkL2rjy/UDbHmDTi4ptzAMe3AN211Vs9TXAzhFg8VDF9j3pz0fZ9crLHGr2wynRGGv6UCp9rwM23wB+Xi+VftwulX7eYQ7W8dQyCm7R17Iw5SUQ1BvsZvzkGv2Lg558VQuwwDmObAH6rwA3PwL7HwLbHwOJamCoFZHLbDe48uIi5wJ05pxp18xO5LVmXT+idfBohdZnG00NWsqyNN/laa7whFsU6SZMWQXO2V/beI8Ke3iQT/YXuSS87t+szKVTXZwlmtjWp7To6iY3kO9nzJ4+cj2v9xm3Zzhg5YCZ7xsKOHLKtuI8F6mJ1Njj8ZNkxldUJx+T85A85xUHZUzffi51IkGupT05meuXml3c2z4zMcQzkqxYMxOd8d/8xi0kZd591Nx1LP+bZ22RZxiFBQETNu82NCTRixga4cBFDhl6TCpMWqVf0GrCw+RflRYS5V0WFb1Y4Z4Vf895FLhbxj+FWBxzDeUImv5O/6Iv6wv6Xf3zfG2hvuKZc8+axqtrXxlXZpbVyLhBjTK+rCmIb7DaDnotZGmd4hX05JX1jeHqMvZ8bdmjyRzianw11KUIZWrEOOPJrmX3RbLFN+HnW8v2r+lR+3z2SU0l17K6eGYp+nw2XA1r/7OrYNKyq/DkjZAuPGuh7lUPqn1qi9oKTT2mtqttahffjqoD5R3DnJWJC6zbZfUp9mBjmt7KSVdmi+Dfwi+G/6VeYQvXNDT5D024uYxpCd8R3DZwh5T/w1+zAw3eoYKLCAAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAAdlJREFUWAntlL0rxVEYx6/3yBVKZJGFhQxeShJlspHBf2CwmWRitFhtBossFrKIhZgYZEIiihCJvL9+vrdzfvc43evKIOX3rY/znOf3nHOe+zzniERChRUIKxBW4L9XIMMrQAHzBiiDY6iGXqiBM7iB76qOwG5ohmw4hJRqJeIdFNwHOlBzcQBKJJWyCBiDB7Br37CnIApfyiagxS+wA1tgN5rETqUhAmz8BfaJM59ItdgmoA3mIB/yYBnk2wS/bbgClWKpVYpdggooAR0sn36UWpxUbgKdTtQItjbYhRwohiYP3R/1XHFP0AhWSsImNmydGjPdiWNrk1NnfmvsNMZH6IJp47NDB0almeiwbfuB8RzUTiWiix0oPbA+G7o0z45Lc1eJ2iCfLqCkJN318t3rD9KLCJSsAgpQFRJJBx3BvPdRFbs0viJGtcQeqjV62pKqE+irBIIgz9AvWDF4n4JnpgR6YNwEtDPa0q8ZX2z4SQLuet9ex7EB9TAKehXXMABqzz74lcMVVxumSi9q4+7IoPGp9LmOP5HZglPv3+5jR11k92XF1qo3rtS3KtiDGbgCqRz09PRPaRZeIZmU5AIUQhTuYBX6YRF+VUpAiYQKKxBWIKzA363AB0+yaatSuh0sAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('react')) :\n  typeof define === 'function' && define.amd ? define(['react'], factory) :\n  (global = global || self, global.CalendarHeatmap = factory(global.React));\n}(this, (function (React) { 'use strict';\n\n  React = React && React.hasOwnProperty('default') ? React['default'] : React;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n      return;\n    }\n\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\n  var ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\n  function emptyFunction() {}\n  function emptyFunctionWithReset() {}\n  emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n  var factoryWithThrowingShims = function() {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret_1) {\n        // It is still safe when called from React.\n        return;\n      }\n      var err = new Error(\n        'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n        'Use PropTypes.checkPropTypes() to call them. ' +\n        'Read more at http://fb.me/use-check-prop-types'\n      );\n      err.name = 'Invariant Violation';\n      throw err;\n    }  shim.isRequired = shim;\n    function getShim() {\n      return shim;\n    }  // Important!\n    // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      elementType: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim,\n\n      checkPropTypes: emptyFunctionWithReset,\n      resetWarningCache: emptyFunction\n    };\n\n    ReactPropTypes.PropTypes = ReactPropTypes;\n\n    return ReactPropTypes;\n  };\n\n  var propTypes = createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = factoryWithThrowingShims();\n  }\n  });\n\n  function areInputsEqual(newInputs, lastInputs) {\n      if (newInputs.length !== lastInputs.length) {\n          return false;\n      }\n      for (var i = 0; i < newInputs.length; i++) {\n          if (newInputs[i] !== lastInputs[i]) {\n              return false;\n          }\n      }\n      return true;\n  }\n\n  function memoizeOne(resultFn, isEqual) {\n      if (isEqual === void 0) { isEqual = areInputsEqual; }\n      var lastThis;\n      var lastArgs = [];\n      var lastResult;\n      var calledOnce = false;\n      function memoized() {\n          var newArgs = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n              newArgs[_i] = arguments[_i];\n          }\n          if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n              return lastResult;\n          }\n          lastResult = resultFn.apply(this, newArgs);\n          calledOnce = true;\n          lastThis = this;\n          lastArgs = newArgs;\n          return lastResult;\n      }\n      return memoized;\n  }\n\n  var MILLISECONDS_IN_ONE_DAY = 24 * 60 * 60 * 1000;\n  var DAYS_IN_WEEK = 7;\n  var MONTH_LABELS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n  var DAY_LABELS = ['', 'Mon', '', 'Wed', '', 'Fri', ''];\n\n  // returns a new date shifted a certain number of days (can be negative)\n  function shiftDate(date, numDays) {\n    var newDate = new Date(date);\n    newDate.setDate(newDate.getDate() + numDays);\n    return newDate;\n  }\n  function getBeginningTimeForDate(date) {\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n  } // obj can be a parseable string, a millisecond timestamp, or a Date object\n\n  function convertToDate(obj) {\n    return obj instanceof Date ? obj : new Date(obj);\n  }\n  function dateNDaysAgo(numDaysAgo) {\n    return shiftDate(new Date(), -numDaysAgo);\n  }\n  function getRange(count) {\n    var arr = [];\n\n    for (var idx = 0; idx < count; idx += 1) {\n      arr.push(idx);\n    }\n\n    return arr;\n  }\n\n  var SQUARE_SIZE = 10;\n  var MONTH_LABEL_GUTTER_SIZE = 4;\n  var CSS_PSEDUO_NAMESPACE = 'react-calendar-heatmap-';\n\n  var CalendarHeatmap =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inherits(CalendarHeatmap, _React$Component);\n\n    function CalendarHeatmap() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, CalendarHeatmap);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CalendarHeatmap)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_this), \"getValueCache\", memoizeOne(function (props) {\n        return props.values.reduce(function (memo, value) {\n          var date = convertToDate(value.date);\n          var index = Math.floor((date - _this.getStartDateWithEmptyDays()) / MILLISECONDS_IN_ONE_DAY); // eslint-disable-next-line no-param-reassign\n\n          memo[index] = {\n            value: value,\n            className: _this.props.classForValue(value),\n            title: _this.props.titleForValue ? _this.props.titleForValue(value) : null,\n            tooltipDataAttrs: _this.getTooltipDataAttrsForValue(value)\n          };\n          return memo;\n        }, {});\n      }));\n\n      return _this;\n    }\n\n    _createClass(CalendarHeatmap, [{\n      key: \"getDateDifferenceInDays\",\n      value: function getDateDifferenceInDays() {\n        var _this$props = this.props,\n            startDate = _this$props.startDate,\n            numDays = _this$props.numDays;\n\n        if (numDays) {\n          // eslint-disable-next-line no-console\n          console.warn('numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead.');\n          return numDays;\n        }\n\n        var timeDiff = this.getEndDate() - convertToDate(startDate);\n        return Math.ceil(timeDiff / MILLISECONDS_IN_ONE_DAY);\n      }\n    }, {\n      key: \"getSquareSizeWithGutter\",\n      value: function getSquareSizeWithGutter() {\n        return SQUARE_SIZE + this.props.gutterSize;\n      }\n    }, {\n      key: \"getMonthLabelSize\",\n      value: function getMonthLabelSize() {\n        if (!this.props.showMonthLabels) {\n          return 0;\n        }\n\n        if (this.props.horizontal) {\n          return SQUARE_SIZE + MONTH_LABEL_GUTTER_SIZE;\n        }\n\n        return 2 * (SQUARE_SIZE + MONTH_LABEL_GUTTER_SIZE);\n      }\n    }, {\n      key: \"getWeekdayLabelSize\",\n      value: function getWeekdayLabelSize() {\n        if (!this.props.showWeekdayLabels) {\n          return 0;\n        }\n\n        if (this.props.horizontal) {\n          return 30;\n        }\n\n        return SQUARE_SIZE * 1.5;\n      }\n    }, {\n      key: \"getStartDate\",\n      value: function getStartDate() {\n        return shiftDate(this.getEndDate(), -this.getDateDifferenceInDays() + 1); // +1 because endDate is inclusive\n      }\n    }, {\n      key: \"getEndDate\",\n      value: function getEndDate() {\n        return getBeginningTimeForDate(convertToDate(this.props.endDate));\n      }\n    }, {\n      key: \"getStartDateWithEmptyDays\",\n      value: function getStartDateWithEmptyDays() {\n        return shiftDate(this.getStartDate(), -this.getNumEmptyDaysAtStart());\n      }\n    }, {\n      key: \"getNumEmptyDaysAtStart\",\n      value: function getNumEmptyDaysAtStart() {\n        return this.getStartDate().getDay();\n      }\n    }, {\n      key: \"getNumEmptyDaysAtEnd\",\n      value: function getNumEmptyDaysAtEnd() {\n        return DAYS_IN_WEEK - 1 - this.getEndDate().getDay();\n      }\n    }, {\n      key: \"getWeekCount\",\n      value: function getWeekCount() {\n        var numDaysRoundedToWeek = this.getDateDifferenceInDays() + this.getNumEmptyDaysAtStart() + this.getNumEmptyDaysAtEnd();\n        return Math.ceil(numDaysRoundedToWeek / DAYS_IN_WEEK);\n      }\n    }, {\n      key: \"getWeekWidth\",\n      value: function getWeekWidth() {\n        return DAYS_IN_WEEK * this.getSquareSizeWithGutter();\n      }\n    }, {\n      key: \"getWidth\",\n      value: function getWidth() {\n        return this.getWeekCount() * this.getSquareSizeWithGutter() - (this.props.gutterSize - this.getWeekdayLabelSize());\n      }\n    }, {\n      key: \"getHeight\",\n      value: function getHeight() {\n        return this.getWeekWidth() + (this.getMonthLabelSize() - this.props.gutterSize) + this.getWeekdayLabelSize();\n      }\n    }, {\n      key: \"getValueForIndex\",\n      value: function getValueForIndex(index) {\n        if (this.valueCache[index]) {\n          return this.valueCache[index].value;\n        }\n\n        return null;\n      }\n    }, {\n      key: \"getClassNameForIndex\",\n      value: function getClassNameForIndex(index) {\n        if (this.valueCache[index]) {\n          return this.valueCache[index].className;\n        }\n\n        return this.props.classForValue(null);\n      }\n    }, {\n      key: \"getTitleForIndex\",\n      value: function getTitleForIndex(index) {\n        if (this.valueCache[index]) {\n          return this.valueCache[index].title;\n        }\n\n        return this.props.titleForValue ? this.props.titleForValue(null) : null;\n      }\n    }, {\n      key: \"getTooltipDataAttrsForIndex\",\n      value: function getTooltipDataAttrsForIndex(index) {\n        if (this.valueCache[index]) {\n          return this.valueCache[index].tooltipDataAttrs;\n        }\n\n        return this.getTooltipDataAttrsForValue({\n          date: null,\n          count: null\n        });\n      }\n    }, {\n      key: \"getTooltipDataAttrsForValue\",\n      value: function getTooltipDataAttrsForValue(value) {\n        var tooltipDataAttrs = this.props.tooltipDataAttrs;\n\n        if (typeof tooltipDataAttrs === 'function') {\n          return tooltipDataAttrs(value);\n        }\n\n        return tooltipDataAttrs;\n      }\n    }, {\n      key: \"getTransformForWeek\",\n      value: function getTransformForWeek(weekIndex) {\n        if (this.props.horizontal) {\n          return \"translate(\".concat(weekIndex * this.getSquareSizeWithGutter(), \", 0)\");\n        }\n\n        return \"translate(0, \".concat(weekIndex * this.getSquareSizeWithGutter(), \")\");\n      }\n    }, {\n      key: \"getTransformForWeekdayLabels\",\n      value: function getTransformForWeekdayLabels() {\n        if (this.props.horizontal) {\n          return \"translate(\".concat(SQUARE_SIZE, \", \").concat(this.getMonthLabelSize(), \")\");\n        }\n\n        return null;\n      }\n    }, {\n      key: \"getTransformForMonthLabels\",\n      value: function getTransformForMonthLabels() {\n        if (this.props.horizontal) {\n          return \"translate(\".concat(this.getWeekdayLabelSize(), \", 0)\");\n        }\n\n        return \"translate(\".concat(this.getWeekWidth() + MONTH_LABEL_GUTTER_SIZE, \", \").concat(this.getWeekdayLabelSize(), \")\");\n      }\n    }, {\n      key: \"getTransformForAllWeeks\",\n      value: function getTransformForAllWeeks() {\n        if (this.props.horizontal) {\n          return \"translate(\".concat(this.getWeekdayLabelSize(), \", \").concat(this.getMonthLabelSize(), \")\");\n        }\n\n        return \"translate(0, \".concat(this.getWeekdayLabelSize(), \")\");\n      }\n    }, {\n      key: \"getViewBox\",\n      value: function getViewBox() {\n        if (this.props.horizontal) {\n          return \"0 0 \".concat(this.getWidth(), \" \").concat(this.getHeight());\n        }\n\n        return \"0 0 \".concat(this.getHeight(), \" \").concat(this.getWidth());\n      }\n    }, {\n      key: \"getSquareCoordinates\",\n      value: function getSquareCoordinates(dayIndex) {\n        if (this.props.horizontal) {\n          return [0, dayIndex * this.getSquareSizeWithGutter()];\n        }\n\n        return [dayIndex * this.getSquareSizeWithGutter(), 0];\n      }\n    }, {\n      key: \"getWeekdayLabelCoordinates\",\n      value: function getWeekdayLabelCoordinates(dayIndex) {\n        if (this.props.horizontal) {\n          return [0, (dayIndex + 1) * SQUARE_SIZE + dayIndex * this.props.gutterSize];\n        }\n\n        return [dayIndex * SQUARE_SIZE + dayIndex * this.props.gutterSize, SQUARE_SIZE];\n      }\n    }, {\n      key: \"getMonthLabelCoordinates\",\n      value: function getMonthLabelCoordinates(weekIndex) {\n        if (this.props.horizontal) {\n          return [weekIndex * this.getSquareSizeWithGutter(), this.getMonthLabelSize() - MONTH_LABEL_GUTTER_SIZE];\n        }\n\n        var verticalOffset = -2;\n        return [0, (weekIndex + 1) * this.getSquareSizeWithGutter() + verticalOffset];\n      }\n    }, {\n      key: \"handleClick\",\n      value: function handleClick(value) {\n        if (this.props.onClick) {\n          this.props.onClick(value);\n        }\n      }\n    }, {\n      key: \"handleMouseOver\",\n      value: function handleMouseOver(e, value) {\n        if (this.props.onMouseOver) {\n          this.props.onMouseOver(e, value);\n        }\n      }\n    }, {\n      key: \"handleMouseLeave\",\n      value: function handleMouseLeave(e, value) {\n        if (this.props.onMouseLeave) {\n          this.props.onMouseLeave(e, value);\n        }\n      }\n    }, {\n      key: \"renderSquare\",\n      value: function renderSquare(dayIndex, index) {\n        var _this2 = this;\n\n        var indexOutOfRange = index < this.getNumEmptyDaysAtStart() || index >= this.getNumEmptyDaysAtStart() + this.getDateDifferenceInDays();\n\n        if (indexOutOfRange && !this.props.showOutOfRangeDays) {\n          return null;\n        }\n\n        var _this$getSquareCoordi = this.getSquareCoordinates(dayIndex),\n            _this$getSquareCoordi2 = _slicedToArray(_this$getSquareCoordi, 2),\n            x = _this$getSquareCoordi2[0],\n            y = _this$getSquareCoordi2[1];\n\n        var value = this.getValueForIndex(index);\n        var rect = // eslint-disable-next-line jsx-a11y/mouse-events-have-key-events\n        React.createElement(\"rect\", _extends({\n          key: index,\n          width: SQUARE_SIZE,\n          height: SQUARE_SIZE,\n          x: x,\n          y: y,\n          className: this.getClassNameForIndex(index),\n          onClick: function onClick() {\n            return _this2.handleClick(value);\n          },\n          onMouseOver: function onMouseOver(e) {\n            return _this2.handleMouseOver(e, value);\n          },\n          onMouseLeave: function onMouseLeave(e) {\n            return _this2.handleMouseLeave(e, value);\n          }\n        }, this.getTooltipDataAttrsForIndex(index)), React.createElement(\"title\", null, this.getTitleForIndex(index)));\n        var transformDayElement = this.props.transformDayElement;\n        return transformDayElement ? transformDayElement(rect, value, index) : rect;\n      }\n    }, {\n      key: \"renderWeek\",\n      value: function renderWeek(weekIndex) {\n        var _this3 = this;\n\n        return React.createElement(\"g\", {\n          key: weekIndex,\n          transform: this.getTransformForWeek(weekIndex),\n          className: \"\".concat(CSS_PSEDUO_NAMESPACE, \"week\")\n        }, getRange(DAYS_IN_WEEK).map(function (dayIndex) {\n          return _this3.renderSquare(dayIndex, weekIndex * DAYS_IN_WEEK + dayIndex);\n        }));\n      }\n    }, {\n      key: \"renderAllWeeks\",\n      value: function renderAllWeeks() {\n        var _this4 = this;\n\n        return getRange(this.getWeekCount()).map(function (weekIndex) {\n          return _this4.renderWeek(weekIndex);\n        });\n      }\n    }, {\n      key: \"renderMonthLabels\",\n      value: function renderMonthLabels() {\n        var _this5 = this;\n\n        if (!this.props.showMonthLabels) {\n          return null;\n        }\n\n        var weekRange = getRange(this.getWeekCount() - 1); // don't render for last week, because label will be cut off\n\n        return weekRange.map(function (weekIndex) {\n          var endOfWeek = shiftDate(_this5.getStartDateWithEmptyDays(), (weekIndex + 1) * DAYS_IN_WEEK);\n\n          var _this5$getMonthLabelC = _this5.getMonthLabelCoordinates(weekIndex),\n              _this5$getMonthLabelC2 = _slicedToArray(_this5$getMonthLabelC, 2),\n              x = _this5$getMonthLabelC2[0],\n              y = _this5$getMonthLabelC2[1];\n\n          return endOfWeek.getDate() >= 1 && endOfWeek.getDate() <= DAYS_IN_WEEK ? React.createElement(\"text\", {\n            key: weekIndex,\n            x: x,\n            y: y,\n            className: \"\".concat(CSS_PSEDUO_NAMESPACE, \"month-label\")\n          }, _this5.props.monthLabels[endOfWeek.getMonth()]) : null;\n        });\n      }\n    }, {\n      key: \"renderWeekdayLabels\",\n      value: function renderWeekdayLabels() {\n        var _this6 = this;\n\n        if (!this.props.showWeekdayLabels) {\n          return null;\n        }\n\n        return this.props.weekdayLabels.map(function (weekdayLabel, dayIndex) {\n          var _this6$getWeekdayLabe = _this6.getWeekdayLabelCoordinates(dayIndex),\n              _this6$getWeekdayLabe2 = _slicedToArray(_this6$getWeekdayLabe, 2),\n              x = _this6$getWeekdayLabe2[0],\n              y = _this6$getWeekdayLabe2[1];\n\n          var cssClasses = \"\".concat(_this6.props.horizontal ? '' : \"\".concat(CSS_PSEDUO_NAMESPACE, \"small-text\"), \" \").concat(CSS_PSEDUO_NAMESPACE, \"weekday-label\"); // eslint-disable-next-line no-bitwise\n\n          return dayIndex & 1 ? React.createElement(\"text\", {\n            key: \"\".concat(x).concat(y),\n            x: x,\n            y: y,\n            className: cssClasses\n          }, weekdayLabel) : null;\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        this.valueCache = this.getValueCache(this.props);\n        return React.createElement(\"svg\", {\n          className: \"react-calendar-heatmap\",\n          viewBox: this.getViewBox()\n        }, React.createElement(\"g\", {\n          transform: this.getTransformForMonthLabels(),\n          className: \"\".concat(CSS_PSEDUO_NAMESPACE, \"month-labels\")\n        }, this.renderMonthLabels()), React.createElement(\"g\", {\n          transform: this.getTransformForAllWeeks(),\n          className: \"\".concat(CSS_PSEDUO_NAMESPACE, \"all-weeks\")\n        }, this.renderAllWeeks()), React.createElement(\"g\", {\n          transform: this.getTransformForWeekdayLabels(),\n          className: \"\".concat(CSS_PSEDUO_NAMESPACE, \"weekday-labels\")\n        }, this.renderWeekdayLabels()));\n      }\n    }]);\n\n    return CalendarHeatmap;\n  }(React.Component);\n\n  CalendarHeatmap.propTypes = {\n    values: propTypes.arrayOf(propTypes.shape({\n      date: propTypes.oneOfType([propTypes.string, propTypes.number, propTypes.instanceOf(Date)]).isRequired\n    }).isRequired).isRequired,\n    // array of objects with date and arbitrary metadata\n    numDays: propTypes.number,\n    // number of days back from endDate to show\n    startDate: propTypes.oneOfType([propTypes.string, propTypes.number, propTypes.instanceOf(Date)]),\n    // start of date range\n    endDate: propTypes.oneOfType([propTypes.string, propTypes.number, propTypes.instanceOf(Date)]),\n    // end of date range\n    gutterSize: propTypes.number,\n    // size of space between squares\n    horizontal: propTypes.bool,\n    // whether to orient horizontally or vertically\n    showMonthLabels: propTypes.bool,\n    // whether to show month labels\n    showWeekdayLabels: propTypes.bool,\n    // whether to show weekday labels\n    showOutOfRangeDays: propTypes.bool,\n    // whether to render squares for extra days in week after endDate, and before start date\n    tooltipDataAttrs: propTypes.oneOfType([propTypes.object, propTypes.func]),\n    // data attributes to add to square for setting 3rd party tooltips, e.g. { 'data-toggle': 'tooltip' } for bootstrap tooltips\n    titleForValue: propTypes.func,\n    // function which returns title text for value\n    classForValue: propTypes.func,\n    // function which returns html class for value\n    monthLabels: propTypes.arrayOf(propTypes.string),\n    // An array with 12 strings representing the text from janurary to december\n    weekdayLabels: propTypes.arrayOf(propTypes.string),\n    // An array with 7 strings representing the text from Sun to Sat\n    onClick: propTypes.func,\n    // callback function when a square is clicked\n    onMouseOver: propTypes.func,\n    // callback function when mouse pointer is over a square\n    onMouseLeave: propTypes.func,\n    // callback function when mouse pointer is left a square\n    transformDayElement: propTypes.func // function to further transform the svg element for a single day\n\n  };\n  CalendarHeatmap.defaultProps = {\n    numDays: null,\n    startDate: dateNDaysAgo(200),\n    endDate: new Date(),\n    gutterSize: 1,\n    horizontal: true,\n    showMonthLabels: true,\n    showWeekdayLabels: false,\n    showOutOfRangeDays: false,\n    tooltipDataAttrs: null,\n    titleForValue: null,\n    classForValue: function classForValue(value) {\n      return value ? 'color-filled' : 'color-empty';\n    },\n    monthLabels: MONTH_LABELS,\n    weekdayLabels: DAY_LABELS,\n    onClick: null,\n    onMouseOver: null,\n    onMouseLeave: null,\n    transformDayElement: null\n  };\n\n  return CalendarHeatmap;\n\n})));\n","import React, { useLayoutEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport mapboxgl from 'mapbox-gl';\nimport MapboxLanguage from '@mapbox/mapbox-gl-language';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\nimport { MAPBOX_TOKEN, MAP_STYLE, MAPBOX_RTL_PLUGIN_URL } from '../../config';\nimport { mapboxLayerDefn } from '../projects/projectsMap';\nimport { BarListChart } from './barListChart';\nimport WebglUnsupported from '../webglUnsupported';\n\nmapboxgl.accessToken = MAPBOX_TOKEN;\ntry {\n  mapboxgl.setRTLTextPlugin(MAPBOX_RTL_PLUGIN_URL);\n} catch {\n  console.log('RTLTextPlugin is loaded');\n}\n\nconst UserCountriesMap = ({ projects }) => {\n  const navigate = useNavigate();\n  const locale = useSelector((state) => state.preferences['locale']);\n\n  const [map, setMap] = useState(null);\n  const mapRef = React.createRef();\n\n  useLayoutEffect(() => {\n    mapboxgl.supported() &&\n      setMap(\n        new mapboxgl.Map({\n          container: mapRef.current,\n          style: MAP_STYLE,\n          center: [0, 0],\n          zoom: 0.5,\n          attributionControl: false,\n        })\n          .addControl(new mapboxgl.AttributionControl({ compact: false }))\n          .addControl(new MapboxLanguage({ defaultLanguage: locale.substr(0, 2) || 'en' })),\n      );\n\n    return () => {\n      map && map.remove();\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  useLayoutEffect(() => {\n    if (map && projects.mappedProjects) {\n      const geojson = {\n        type: 'FeatureCollection',\n        features: projects.mappedProjects.map((f) => {\n          return { type: 'Feature', geometry: f.centroid, properties: { projectId: f.projectId } };\n        }),\n      };\n      map.resize(); //https://docs.mapbox.com/help/troubleshooting/blank-tiles/\n      map.on('load', () => mapboxLayerDefn(map, geojson, (id) => navigate(`/projects/${id}/`)));\n    }\n  }, [map, navigate, projects.mappedProjects]);\n\n  if (!mapboxgl.supported()) {\n    return <WebglUnsupported className=\"w-two-thirds-l w-100 h-100 fl\" />;\n  } else {\n    return <div id=\"map\" className=\"w-two-thirds-l w-100 h-100 fl\" ref={mapRef}></div>;\n  }\n};\n\nexport const CountriesMapped = ({ projects, userStats }) => {\n  const countries = userStats.countriesContributed.countries.slice(0, 5);\n  const tasksNo = countries.map((c) => c.total);\n  const maxTaskNo = Math.max(...tasksNo);\n\n  const countriesPercent = countries.map((c) => {\n    return { ...c, percent: c.total / maxTaskNo };\n  });\n\n  return (\n    <div className=\"bg-white blue-dark shadow-4 w-100 cf\" style={{ height: '23rem' }}>\n      <div className=\"w-third-l w-100 fl pt2 ph3\">\n        <h3 className=\"f4 mt0 fw6 pt3\">\n          <FormattedMessage {...messages.topCountriesTitle} />\n        </h3>\n        {countriesPercent.length > 0 ? (\n          <BarListChart\n            data={countriesPercent}\n            valueField={'total'}\n            nameField={'name'}\n            linkBase={'/explore/?location='}\n            linkField={'name'}\n          />\n        ) : (\n          <div className=\"h-100 tc pv5 blue-grey\">\n            <FormattedMessage {...messages.noProjectsData} />\n          </div>\n        )}\n      </div>\n      <UserCountriesMap projects={projects} />\n    </div>\n  );\n};\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\nimport { BarListChart } from './barListChart';\n\nexport const TopProjects = ({ projects }) => {\n  const compare = (a, b) => {\n    if (a.total < b.total) {\n      return 1;\n    }\n    if (a.total > b.total) {\n      return -1;\n    }\n    return 0;\n  };\n\n  const data = projects.mappedProjects\n    .map((p) => {\n      return {\n        id: p.projectId,\n        name: p.name,\n        mapped: p.tasksMapped,\n        validated: p.tasksValidated,\n        total: p.tasksMapped + p.tasksValidated,\n      };\n    })\n    .sort(compare)\n    .slice(0, 5);\n\n  const tasksNo = data.map((d) => d.total);\n  const maxTaskNo = Math.max(...tasksNo);\n\n  const tasksPercent = data.map((d) => {\n    return { ...d, percent: d.total / maxTaskNo };\n  });\n\n  return (\n    <div className=\"pv2 ph3 bg-white blue-dark shadow-6 h-100\">\n      <div className=\"ml2 mt1 mb4\">\n        <h3 className=\"f125 mv0 fw6 pt3\">\n          <FormattedMessage {...messages.topProjectsMappedTitle} />\n        </h3>\n        {data.length > 0 ? (\n          <BarListChart\n            data={tasksPercent}\n            valueField={'total'}\n            nameField={'name'}\n            linkBase={'/projects/'}\n            linkField={'id'}\n          />\n        ) : (\n          <div className=\"h-100 tc pv5 mt3 blue-grey\">\n            <FormattedMessage {...messages.noTopProjectsData} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport CalendarHeatmap from 'react-calendar-heatmap';\nimport ReactTooltip from 'react-tooltip';\nimport { FormattedMessage, useIntl } from 'react-intl';\n\nimport messages from './messages';\n\nconst HeatmapLegend = () => {\n  const indexes = [30, 50, 70, 100];\n  const legendFontStyle = 'ph2 f7 blue-grey ttc';\n\n  return (\n    <div className=\"nt4-ns w-100 tr fr flex items-center justify-end\">\n      <span className={legendFontStyle}>\n        <FormattedMessage {...messages.heatmapLegendLess} />\n      </span>\n      <div className={`dib h1 w1 bg-tan`}></div>\n      {indexes.map((i) => (\n        <div key={i} className={`dib h1 w1 bg-red o-${i}`}></div>\n      ))}\n      <span className={legendFontStyle}>\n        <FormattedMessage {...messages.heatmapLegendMore} />\n      </span>\n    </div>\n  );\n};\n\nexport const ContributionTimeline = ({ userStats }) => {\n  const intl = useIntl();\n  const today = new Date();\n\n  const shiftDate = (date, numDays) => {\n    const newDate = new Date(date);\n    newDate.setDate(newDate.getDate() + numDays);\n    return newDate;\n  };\n\n  const countValues = userStats.contributionsByDay.map((r) => r.count);\n  const maxValue = Math.max(...countValues);\n\n  const getHeatmapClass = (v) => {\n    const rate = v.count / maxValue;\n\n    if (0.0 <= rate && rate < 0.25) {\n      return 'fill-red o-30';\n    }\n\n    if (0.25 <= rate && rate < 0.5) {\n      return 'fill-red o-50';\n    }\n\n    if (0.5 <= rate && rate < 0.75) {\n      return 'fill-red o-70';\n    }\n\n    if (0.75 <= rate && rate <= 1) {\n      return 'fill-red o-100';\n    }\n  };\n\n  return (\n    <div className=\"w-100 cf bg-white pv3 pr3 shadow-6\">\n      <div className=\"w-100 fl cf center\">\n        <CalendarHeatmap\n          startDate={shiftDate(today, -365)}\n          endDate={today}\n          values={userStats.contributionsByDay}\n          classForValue={(value) => {\n            if (!value) return 'fill-tan';\n            return getHeatmapClass(value);\n          }}\n          showWeekdayLabels={true}\n          tooltipDataAttrs={(value) => {\n            let val = intl.formatMessage(messages.heatmapNoContribution);\n            if (value.count !== null) {\n              val = `${value.count} ${\n                value.count > 1\n                  ? intl.formatMessage(messages.heatmapContributions)\n                  : intl.formatMessage(messages.heatmapContribution)\n              }`;\n            }\n\n            return {\n              'data-tip': val,\n            };\n          }}\n        />\n        <ReactTooltip />\n      </div>\n      <HeatmapLegend />\n    </div>\n  );\n};\n","import React, { useEffect, useState, Suspense } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { FormattedMessage } from 'react-intl';\nimport ReactPlaceholder from 'react-placeholder';\n\nimport messages from '../components/userDetail/messages';\nimport { HeaderProfile } from '../components/userDetail/headerProfile';\nimport { ElementsMapped, TaskStats } from '../components/userDetail/elementsMapped';\nimport { UserTeams } from '../components/userDetail/userTeamsOrgs';\nimport { CountriesMapped } from '../components/userDetail/countriesMapped';\nimport { TopProjects } from '../components/userDetail/topProjects';\nimport { ContributionTimeline } from '../components/userDetail/contributionTimeline';\nimport { NotFound } from './notFound';\nimport { OHSOME_STATS_BASE_URL, OSM_SERVER_URL } from '../config';\nimport { fetchExternalJSONAPI } from '../network/genericJSONRequest';\nimport { useFetch } from '../hooks/UseFetch';\nimport { useSetTitleTag } from '../hooks/UseMetaTags';\n\nconst TopCauses = React.lazy(() =>\n  import('../components/userDetail/topCauses' /* webpackChunkName: \"topCauses\" */),\n);\nconst EditsByNumbers = React.lazy(() =>\n  import('../components/userDetail/editsByNumbers' /* webpackChunkName: \"editsByNumbers\" */),\n);\n\nexport const UserDetail = ({ withHeader = true }) => {\n  const navigate = useNavigate();\n  const loggedInUsername = useSelector((state) => state.auth.userDetails.username);\n  const { username: usernameParam } = useParams();\n  const username = usernameParam || loggedInUsername;\n  useSetTitleTag(username);\n  const token = useSelector((state) => state.auth.token);\n  const currentUser = useSelector((state) => state.auth.userDetails);\n  const [osmStats, setOsmStats] = useState({});\n  const [userOsmDetails, setUserOsmDetails] = useState({});\n  const [errorDetails, loadingDetails, userDetails] = useFetch(\n    `users/queries/${username}/`,\n    username !== undefined,\n  );\n  const [errorStats, loadingStats, userStats] = useFetch(\n    `users/${username}/statistics/`,\n    username !== undefined,\n  );\n  const [projectsError, projectsLoading, userProjects] = useFetch(\n    `projects/queries/${username}/touched/`,\n    username !== undefined,\n  );\n\n  useEffect(() => {\n    if (!token) {\n      navigate('/login');\n    }\n  }, [navigate, token]);\n\n  useEffect(() => {\n    if (userDetails.id) {\n      fetchExternalJSONAPI(`${OSM_SERVER_URL}/api/0.6/user/${userDetails.id}.json`, false)\n        .then((res) => setUserOsmDetails(res?.user))\n        .catch((e) => console.log(e));\n      fetchExternalJSONAPI(`${OHSOME_STATS_BASE_URL}/hot-tm-user?userId=${userDetails.id}`, true)\n        .then((res) => setOsmStats(res.result))\n        .catch((e) => console.log(e));\n    }\n  }, [userDetails.id]);\n\n  const titleClass = 'contributions-titles fw5 ttu barlow-condensed blue-dark mt0';\n\n  return errorDetails ? (\n    <NotFound />\n  ) : (\n    <div className=\"w-100\">\n      {withHeader && (\n        <div className=\"w-100 cf pb3\">\n          <ReactPlaceholder\n            type=\"media\"\n            showLoadingAnimation={true}\n            rows={5}\n            ready={!errorDetails && !loadingDetails}\n          >\n            <HeaderProfile userDetails={userDetails} changesets={userOsmDetails?.changesets?.count} />\n          </ReactPlaceholder>\n        </div>\n      )}\n      <div className={withHeader ? 'w-100 ph4-l ph2 cf pb3 bg-washed-blue' : ''}>\n        <div className=\"mt4\">\n          <ElementsMapped userStats={userStats} osmStats={osmStats} />\n        </div>\n        <div>\n          <h3 className={titleClass}>\n            <FormattedMessage {...messages.contributionTimelineTitle} />\n          </h3>\n          <ReactPlaceholder\n            type=\"rect\"\n            showLoadingAnimation={true}\n            style={{ height: '20em' }}\n            ready={!errorStats && !loadingStats}\n          >\n            <ContributionTimeline userStats={userStats} />\n          </ReactPlaceholder>\n        </div>\n        <div className=\"mv4\">\n          <h3 className={titleClass}>\n            <FormattedMessage {...messages.projectsTitle} />\n          </h3>\n          <div className=\"user-projects-ctr\">\n            <div>\n              <ReactPlaceholder\n                type=\"rect\"\n                showLoadingAnimation={true}\n                style={{ height: '24em' }}\n                ready={!projectsError && !projectsLoading}\n              >\n                <TopProjects projects={userProjects} />\n              </ReactPlaceholder>\n            </div>\n            <div>\n              <ReactPlaceholder\n                type=\"rect\"\n                showLoadingAnimation={true}\n                style={{ height: '24em' }}\n                ready={!errorStats && !loadingStats}\n              >\n                <Suspense fallback={<div />}>\n                  <TopCauses userStats={userStats} />\n                </Suspense>\n              </ReactPlaceholder>\n            </div>\n            <div>\n              <Suspense fallback={<div />}>\n                <EditsByNumbers osmStats={osmStats} />\n              </Suspense>\n            </div>\n          </div>\n        </div>\n        <div className=\"mv4\">\n          <h3 className={titleClass}>\n            <FormattedMessage {...messages.tasks} />\n          </h3>\n          <TaskStats\n            userStats={userStats}\n            username={currentUser.username !== username ? username : null}\n          />\n        </div>\n        <div className=\"mv4\">\n          <h3 className={titleClass}>\n            <FormattedMessage {...messages.countries} />\n          </h3>\n          <ReactPlaceholder\n            type=\"rect\"\n            showLoadingAnimation={true}\n            style={{ height: '24em' }}\n            ready={!errorStats && !loadingStats && !projectsError && !projectsLoading}\n          >\n            <CountriesMapped projects={userProjects} userStats={userStats} />\n          </ReactPlaceholder>\n        </div>\n        {currentUser.username !== username && (\n          <div className=\"mv4\">\n            <h3 className={titleClass}>\n              <FormattedMessage {...messages.teams} />\n            </h3>\n            <ReactPlaceholder\n              type=\"rect\"\n              showLoadingAnimation={true}\n              style={{ height: '10em' }}\n              ready={!errorStats && !loadingStats}\n            >\n              <UserTeams userId={userDetails.id} />\n            </ReactPlaceholder>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n"],"sourceRoot":""}